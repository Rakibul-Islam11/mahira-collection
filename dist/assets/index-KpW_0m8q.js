var VA=Object.defineProperty;var uw=n=>{throw TypeError(n)};var zA=(n,e,t)=>e in n?VA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var bs=(n,e,t)=>zA(n,typeof e!="symbol"?e+"":e,t),Yg=(n,e,t)=>e.has(n)||uw("Cannot "+t);var W=(n,e,t)=>(Yg(n,e,"read from private field"),t?t.call(n):e.get(n)),Ke=(n,e,t)=>e.has(n)?uw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Yg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),vt=(n,e,t)=>(Yg(n,e,"access private method"),t);var af=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return W(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function y2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xg={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function UA(){if(dw)return ku;dw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var hw;function BA(){return hw||(hw=1,Xg.exports=UA()),Xg.exports}var c=BA(),Wg={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function FA(){if(fw)return st;fw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function D(H,le,ge){this.props=H,this.context=le,this.refs=P,this.updater=ge||E}D.prototype.isReactComponent={},D.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function T(){}T.prototype=D.prototype;function S(H,le,ge){this.props=H,this.context=le,this.refs=P,this.updater=ge||E}var w=S.prototype=new T;w.constructor=S,N(w,D.prototype),w.isPureReactComponent=!0;var j=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function z(H,le,ge,fe,ue,Ee){return ge=Ee.ref,{$$typeof:n,type:H,key:le,ref:ge!==void 0?ge:null,props:Ee}}function R(H,le){return z(H.type,le,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function C(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return le[ge]})}var k=/\/+/g;function L(H,le){return typeof H=="object"&&H!==null&&H.key!=null?C(""+H.key):le.toString(36)}function O(){}function se(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(O,O):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ae(H,le,ge,fe,ue){var Ee=typeof H;(Ee==="undefined"||Ee==="boolean")&&(H=null);var _e=!1;if(H===null)_e=!0;else switch(Ee){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(H.$$typeof){case n:case e:_e=!0;break;case y:return _e=H._init,ae(_e(H._payload),le,ge,fe,ue)}}if(_e)return ue=ue(H),_e=fe===""?"."+L(H,0):fe,j(ue)?(ge="",_e!=null&&(ge=_e.replace(k,"$&/")+"/"),ae(ue,le,ge,"",function(Xe){return Xe})):ue!=null&&(M(ue)&&(ue=R(ue,ge+(ue.key==null||H&&H.key===ue.key?"":(""+ue.key).replace(k,"$&/")+"/")+_e)),le.push(ue)),1;_e=0;var ye=fe===""?".":fe+":";if(j(H))for(var Se=0;Se<H.length;Se++)fe=H[Se],Ee=ye+L(fe,Se),_e+=ae(fe,le,ge,Ee,ue);else if(Se=b(H),typeof Se=="function")for(H=Se.call(H),Se=0;!(fe=H.next()).done;)fe=fe.value,Ee=ye+L(fe,Se++),_e+=ae(fe,le,ge,Ee,ue);else if(Ee==="object"){if(typeof H.then=="function")return ae(se(H),le,ge,fe,ue);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return _e}function G(H,le,ge){if(H==null)return H;var fe=[],ue=0;return ae(H,fe,"","",function(Ee){return le.call(ge,Ee,ue++)}),fe}function $(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var K=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function te(){}return st.Children={map:G,forEach:function(H,le,ge){G(H,function(){le.apply(this,arguments)},ge)},count:function(H){var le=0;return G(H,function(){le++}),le},toArray:function(H){return G(H,function(le){return le})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},st.Component=D,st.Fragment=t,st.Profiler=a,st.PureComponent=S,st.StrictMode=r,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,st.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},st.cache=function(H){return function(){return H.apply(null,arguments)}},st.cloneElement=function(H,le,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=N({},H.props),ue=H.key,Ee=void 0;if(le!=null)for(_e in le.ref!==void 0&&(Ee=void 0),le.key!==void 0&&(ue=""+le.key),le)!B.call(le,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&le.ref===void 0||(fe[_e]=le[_e]);var _e=arguments.length-2;if(_e===1)fe.children=ge;else if(1<_e){for(var ye=Array(_e),Se=0;Se<_e;Se++)ye[Se]=arguments[Se+2];fe.children=ye}return z(H.type,ue,void 0,void 0,Ee,fe)},st.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},st.createElement=function(H,le,ge){var fe,ue={},Ee=null;if(le!=null)for(fe in le.key!==void 0&&(Ee=""+le.key),le)B.call(le,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ue[fe]=le[fe]);var _e=arguments.length-2;if(_e===1)ue.children=ge;else if(1<_e){for(var ye=Array(_e),Se=0;Se<_e;Se++)ye[Se]=arguments[Se+2];ue.children=ye}if(H&&H.defaultProps)for(fe in _e=H.defaultProps,_e)ue[fe]===void 0&&(ue[fe]=_e[fe]);return z(H,Ee,void 0,void 0,null,ue)},st.createRef=function(){return{current:null}},st.forwardRef=function(H){return{$$typeof:h,render:H}},st.isValidElement=M,st.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:$}},st.memo=function(H,le){return{$$typeof:m,type:H,compare:le===void 0?null:le}},st.startTransition=function(H){var le=U.T,ge={};U.T=ge;try{var fe=H(),ue=U.S;ue!==null&&ue(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(te,K)}catch(Ee){K(Ee)}finally{U.T=le}},st.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},st.use=function(H){return U.H.use(H)},st.useActionState=function(H,le,ge){return U.H.useActionState(H,le,ge)},st.useCallback=function(H,le){return U.H.useCallback(H,le)},st.useContext=function(H){return U.H.useContext(H)},st.useDebugValue=function(){},st.useDeferredValue=function(H,le){return U.H.useDeferredValue(H,le)},st.useEffect=function(H,le,ge){var fe=U.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(H,le)},st.useId=function(){return U.H.useId()},st.useImperativeHandle=function(H,le,ge){return U.H.useImperativeHandle(H,le,ge)},st.useInsertionEffect=function(H,le){return U.H.useInsertionEffect(H,le)},st.useLayoutEffect=function(H,le){return U.H.useLayoutEffect(H,le)},st.useMemo=function(H,le){return U.H.useMemo(H,le)},st.useOptimistic=function(H,le){return U.H.useOptimistic(H,le)},st.useReducer=function(H,le,ge){return U.H.useReducer(H,le,ge)},st.useRef=function(H){return U.H.useRef(H)},st.useState=function(H){return U.H.useState(H)},st.useSyncExternalStore=function(H,le,ge){return U.H.useSyncExternalStore(H,le,ge)},st.useTransition=function(){return U.H.useTransition()},st.version="19.1.0",st}var mw;function ym(){return mw||(mw=1,Wg.exports=FA()),Wg.exports}var V=ym();const Ve=y2(V);var Zg={exports:{}},Pu={},Jg={exports:{}},e0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function qA(){return pw||(pw=1,function(n){function e(G,$){var K=G.length;G.push($);e:for(;0<K;){var te=K-1>>>1,H=G[te];if(0<a(H,$))G[te]=$,G[K]=H,K=te;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var $=G[0],K=G.pop();if(K!==$){G[0]=K;e:for(var te=0,H=G.length,le=H>>>1;te<le;){var ge=2*(te+1)-1,fe=G[ge],ue=ge+1,Ee=G[ue];if(0>a(fe,K))ue<H&&0>a(Ee,fe)?(G[te]=Ee,G[ue]=K,te=ue):(G[te]=fe,G[ge]=K,te=ge);else if(ue<H&&0>a(Ee,K))G[te]=Ee,G[ue]=K,te=ue;else break e}}return $}function a(G,$){var K=G.sortIndex-$.sortIndex;return K!==0?K:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,x=null,b=3,E=!1,N=!1,P=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function j(G){for(var $=t(m);$!==null;){if($.callback===null)r(m);else if($.startTime<=G)r(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=t(m)}}function U(G){if(P=!1,j(G),!N)if(t(f)!==null)N=!0,B||(B=!0,L());else{var $=t(m);$!==null&&ae(U,$.startTime-G)}}var B=!1,z=-1,R=5,M=-1;function C(){return D?!0:!(n.unstable_now()-M<R)}function k(){if(D=!1,B){var G=n.unstable_now();M=G;var $=!0;try{e:{N=!1,P&&(P=!1,S(z),z=-1),E=!0;var K=b;try{t:{for(j(G),x=t(f);x!==null&&!(x.expirationTime>G&&C());){var te=x.callback;if(typeof te=="function"){x.callback=null,b=x.priorityLevel;var H=te(x.expirationTime<=G);if(G=n.unstable_now(),typeof H=="function"){x.callback=H,j(G),$=!0;break t}x===t(f)&&r(f),j(G)}else r(f);x=t(f)}if(x!==null)$=!0;else{var le=t(m);le!==null&&ae(U,le.startTime-G),$=!1}}break e}finally{x=null,b=K,E=!1}$=void 0}}finally{$?L():B=!1}}}var L;if(typeof w=="function")L=function(){w(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,se=O.port2;O.port1.onmessage=k,L=function(){se.postMessage(null)}}else L=function(){T(k,0)};function ae(G,$){z=T(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(G){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var K=b;b=$;try{return G()}finally{b=K}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=b;b=G;try{return $()}finally{b=K}},n.unstable_scheduleCallback=function(G,$,K){var te=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=K+H,G={id:y++,callback:$,priorityLevel:G,startTime:K,expirationTime:H,sortIndex:-1},K>te?(G.sortIndex=K,e(m,G),t(f)===null&&G===t(m)&&(P?(S(z),z=-1):P=!0,ae(U,K-te))):(G.sortIndex=H,e(f,G),N||E||(N=!0,B||(B=!0,L()))),G},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(G){var $=b;return function(){var K=b;b=$;try{return G.apply(this,arguments)}finally{b=K}}}}(e0)),e0}var gw;function HA(){return gw||(gw=1,Jg.exports=qA()),Jg.exports}var t0={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function $A(){if(yw)return Kn;yw=1;var n=ym();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},Kn.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},Kn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Kn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Kn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):y==="script"&&r.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Kn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=h(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Kn.requestFormReset=function(f){r.d.r(f)},Kn.unstable_batchedUpdates=function(f,m){return f(m)},Kn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},Kn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Kn.version="19.1.0",Kn}var vw;function v2(){if(vw)return t0.exports;vw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),t0.exports=$A(),t0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function GA(){if(xw)return Pu;xw=1;var n=HA(),e=ym(),t=v2();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,d=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===d)return h(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==d.return)l=g,d=v;else{for(var I=!1,F=g.child;F;){if(F===l){I=!0,l=g,d=v;break}if(F===d){I=!0,d=g,l=v;break}F=F.sibling}if(!I){for(F=v.child;F;){if(F===l){I=!0,l=v,d=g;break}if(F===d){I=!0,d=v,l=g;break}F=F.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function m(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=m(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case D:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case w:return(s.displayName||"Context")+".Provider";case S:return(s._context.displayName||"Context")+".Consumer";case j:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return i=s.displayName||null,i!==null?i:se(s.type)||"Memo";case R:i=s._payload,s=s._init;try{return se(s(i))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},te=[],H=-1;function le(s){return{current:s}}function ge(s){0>H||(s.current=te[H],te[H]=null,H--)}function fe(s,i){H++,te[H]=s.current,s.current=i}var ue=le(null),Ee=le(null),_e=le(null),ye=le(null);function Se(s,i){switch(fe(_e,i),fe(Ee,s),fe(ue,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?V1(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=V1(i),s=z1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(ue),fe(ue,s)}function Xe(){ge(ue),ge(Ee),ge(_e)}function Ze(s){s.memoizedState!==null&&fe(ye,s);var i=ue.current,l=z1(i,s.type);i!==l&&(fe(Ee,s),fe(ue,l))}function Ot(s){Ee.current===s&&(ge(ue),ge(Ee)),ye.current===s&&(ge(ye),ju._currentValue=K)}var Gt=Object.prototype.hasOwnProperty,gn=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,fr=n.unstable_shouldYield,tr=n.unstable_requestPaint,Zt=n.unstable_now,Rs=n.unstable_getCurrentPriorityLevel,js=n.unstable_ImmediatePriority,Is=n.unstable_UserBlockingPriority,ms=n.unstable_NormalPriority,nr=n.unstable_LowPriority,rr=n.unstable_IdlePriority,Ms=n.log,ps=n.unstable_setDisableYieldValue,bt=null,et=null;function Tn(s){if(typeof Ms=="function"&&ps(s),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(bt,s)}catch{}}var Kt=Math.clz32?Math.clz32:qr,si=Math.log,mr=Math.LN2;function qr(s){return s>>>=0,s===0?32:31-(si(s)/mr|0)|0}var Hr=256,Oe=4194304;function Me(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function rt(s,i,l){var d=s.pendingLanes;if(d===0)return 0;var g=0,v=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var F=d&134217727;return F!==0?(d=F&~v,d!==0?g=Me(d):(I&=F,I!==0?g=Me(I):l||(l=F&~s,l!==0&&(g=Me(l))))):(F=d&~v,F!==0?g=Me(F):I!==0?g=Me(I):l||(l=d&~s,l!==0&&(g=Me(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function gt(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function $t(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var s=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),s}function sr(){var s=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),s}function Mn(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function $n(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function On(s,i,l,d,g,v){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var F=s.entanglements,Q=s.expirationTimes,ie=s.hiddenUpdates;for(l=I&~l;0<l;){var he=31-Kt(l),xe=1<<he;F[he]=0,Q[he]=-1;var oe=ie[he];if(oe!==null)for(ie[he]=null,he=0;he<oe.length;he++){var ce=oe[he];ce!==null&&(ce.lane&=-536870913)}l&=~xe}d!==0&&Yt(s,d,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(I&~i))}function Yt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var d=31-Kt(i);s.entangledLanes|=i,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194090}function $r(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Kt(l),g=1<<d;g&i|s[d]&i&&(s[d]|=i),l&=~g}}function Sr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Y(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:sw(s.type))}function J(s,i){var l=$.p;try{return $.p=s,i()}finally{$.p=l}}var re=Math.random().toString(36).slice(2),ve="__reactFiber$"+re,we="__reactProps$"+re,Ae="__reactContainer$"+re,Ue="__reactEvents$"+re,Re="__reactListeners$"+re,De="__reactHandles$"+re,Pe="__reactResources$"+re,Be="__reactMarker$"+re;function ke(s){delete s[ve],delete s[we],delete s[Ue],delete s[Re],delete s[De]}function qe(s){var i=s[ve];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ae]||l[ve]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=q1(s);s!==null;){if(l=s[ve])return l;s=q1(s)}return i}s=l,l=s.parentNode}return null}function ut(s){if(s=s[ve]||s[Ae]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function Rt(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Nt(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(s){s[Be]=!0}var ot=new Set,Gr={};function yn(s,i){ir(s,i),ir(s+"Capture",i)}function ir(s,i){for(Gr[s]=i,s=0;s<i.length;s++)ot.add(i[s])}var Dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},Nr={};function Bi(s){return Gt.call(Nr,s)?!0:Gt.call(Ds,s)?!1:Dn.test(s)?Nr[s]=!0:(Ds[s]=!0,!1)}function Gn(s,i,l){if(Bi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function ar(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ye(s,i,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+d)}}var cn,Cr;function pr(s){if(cn===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);cn=i&&i[1]||"",Cr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cn+s+Cr}var ks=!1;function Ut(s,i){if(!s||ks)return"";ks=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ce){var oe=ce}Reflect.construct(s,[],xe)}else{try{xe.call()}catch(ce){oe=ce}s.call(xe.prototype)}}else{try{throw Error()}catch(ce){oe=ce}(xe=s())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ce){if(ce&&oe&&typeof ce.stack=="string")return[ce.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),I=v[0],F=v[1];if(I&&F){var Q=I.split(`
`),ie=F.split(`
`);for(g=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ie.length&&!ie[g].includes("DetermineComponentFrameRoot");)g++;if(d===Q.length||g===ie.length)for(d=Q.length-1,g=ie.length-1;1<=d&&0<=g&&Q[d]!==ie[g];)g--;for(;1<=d&&0<=g;d--,g--)if(Q[d]!==ie[g]){if(d!==1||g!==1)do if(d--,g--,0>g||Q[d]!==ie[g]){var he=`
`+Q[d].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=d&&0<=g);break}}}finally{ks=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?pr(l):""}function Qr(s){switch(s.tag){case 26:case 27:case 5:return pr(s.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return Ut(s.type,!1);case 11:return Ut(s.type.render,!1);case 1:return Ut(s.type,!0);case 31:return pr("Activity");default:return""}}function ii(s){try{var i="";do i+=Qr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vc(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jm(s){var i=Vc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(I){d=""+I,v.call(this,I)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function tl(s){s._valueTracker||(s._valueTracker=Jm(s))}function zc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Vc(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function Ja(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ep=/[\n"\\]/g;function un(s){return s.replace(ep,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(s,i,l,d,g,v,I,F){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),i!=null?I==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+kn(i)):s.value!==""+kn(i)&&(s.value=""+kn(i)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),i!=null?Fi(s,I,kn(i)):l!=null?Fi(s,I,kn(l)):d!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+kn(F):s.removeAttribute("name")}function eo(s,i,l,d,g,v,I,F){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+kn(l):"",i=i!=null?""+kn(i):l,F||i===s.value||(s.value=i),s.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=F?s.checked:!!d,s.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Fi(s,i,l){i==="number"&&Ja(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ai(s,i,l,d){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&d&&(s[l].defaultSelected=!0)}else{for(l=""+kn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Pt(s,i,l){if(i!=null&&(i=""+kn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+kn(l):""}function to(s,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(r(92));if(ae(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=kn(i),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function Kr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(s,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":d?s.setProperty(i,l):typeof l!="number"||l===0||no.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Uc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&l[g]!==d&&Hd(s,g,d)}else for(var v in i)i.hasOwnProperty(v)&&Hd(s,v,i[v])}function Bc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(s){return np.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var oi=null;function Yr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,ci=null;function Fc(s){var i=ut(s);if(i&&(s=i.stateNode)){var l=s[we]||null;e:switch(s=i.stateNode,i.type){case"input":if(Ar(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var g=d[we]||null;if(!g)throw Error(r(90));Ar(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===s.form&&zc(d)}break e;case"textarea":Pt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ai(s,!!l.multiple,i,!1)}}}var Ps=!1;function $d(s,i,l){if(Ps)return s(i,l);Ps=!0;try{var d=s(i);return d}finally{if(Ps=!1,(li!==null||ci!==null)&&(Vh(),li&&(i=li,s=ci,ci=li=null,Fc(i),s)))for(i=0;i<s.length;i++)Fc(s[i])}}function ro(s,i){var l=s.stateNode;if(l===null)return null;var d=l[we]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(gs)try{var so={};Object.defineProperty(so,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Xr=!1}var Ls=null,qi=null,ui=null;function qc(){if(ui)return ui;var s,i=qi,l=i.length,d,g="value"in Ls?Ls.value:Ls.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var I=l-s;for(d=1;d<=I&&i[l-d]===g[v-d];d++);return ui=g.slice(s,1<d?1-d:void 0)}function Vs(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function zs(){return!0}function Hc(){return!1}function Sn(s){function i(l,d,g,v,I){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(l=s[F],this[F]=l?l(v):v[F]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?zs:Hc,this.isPropagationStopped=Hc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Sn(jt),io=y({},jt,{view:0,detail:0}),Gd=Sn(io),sl,il,Us,ao=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Us&&(Us&&s.type==="mousemove"?(sl=s.screenX-Us.screenX,il=s.screenY-Us.screenY):il=sl=0,Us=s),sl)},movementY:function(s){return"movementY"in s?s.movementY:il}}),Wr=Sn(ao),Qd=y({},ao,{dataTransfer:0}),rp=Sn(Qd),oo=y({},io,{relatedTarget:0}),al=Sn(oo),$c=y({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=Sn($c),Kd=y({},jt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ll=Sn(Kd),sp=y({},jt,{data:0}),Gc=Sn(sp),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Xd[s])?!!i[s]:!1}function co(){return Qc}var Wd=y({},io,{key:function(s){if(s.key){var i=lo[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Vs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(s){return s.type==="keypress"?Vs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cl=Sn(Wd),Zd=y({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Sn(Zd),di=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Jd=Sn(di),eh=y({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=Sn(eh),nh=y({},ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ul=Sn(nh),or=y({},jt,{newState:0,oldState:0}),rh=Sn(or),sh=[9,13,27,32],Bs=gs&&"CompositionEvent"in window,p=null;gs&&"documentMode"in document&&(p=document.documentMode);var _=gs&&"TextEvent"in window&&!p,A=gs&&(!Bs||p&&8<p&&11>=p),q=" ",ee=!1;function de(s,i){switch(s){case"keyup":return sh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wt=!1;function vn(s,i){switch(s){case"compositionend":return Te(i);case"keypress":return i.which!==32?null:(ee=!0,q);case"textInput":return s=i.data,s===q&&ee?null:s;default:return null}}function _t(s,i){if(wt)return s==="compositionend"||!Bs&&de(s,i)?(s=qc(),ui=qi=Ls=null,wt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return A&&i.locale!=="ko"?null:i.data;default:return null}}var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Nn[s.type]:i==="textarea"}function hi(s,i,l,d){li?ci?ci.push(d):ci=[d]:li=d,i=Hh(i,"onChange"),0<i.length&&(l=new rl("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var Pn=null,Fs=null;function Yc(s){O1(s,0)}function ih(s){var i=Rt(s);if(zc(i))return s}function ex(s,i){if(s==="change")return i}var tx=!1;if(gs){var ip;if(gs){var ap="oninput"in document;if(!ap){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),ap=typeof nx.oninput=="function"}ip=ap}else ip=!1;tx=ip&&(!document.documentMode||9<document.documentMode)}function rx(){Pn&&(Pn.detachEvent("onpropertychange",sx),Fs=Pn=null)}function sx(s){if(s.propertyName==="value"&&ih(Fs)){var i=[];hi(i,Fs,s,Yr(s)),$d(Yc,i)}}function mC(s,i,l){s==="focusin"?(rx(),Pn=i,Fs=l,Pn.attachEvent("onpropertychange",sx)):s==="focusout"&&rx()}function pC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ih(Fs)}function gC(s,i){if(s==="click")return ih(i)}function yC(s,i){if(s==="input"||s==="change")return ih(i)}function vC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Rr=typeof Object.is=="function"?Object.is:vC;function Xc(s,i){if(Rr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!Gt.call(i,g)||!Rr(s[g],i[g]))return!1}return!0}function ix(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ax(s,i){var l=ix(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ix(l)}}function ox(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?ox(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function lx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ja(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ja(s.document)}return i}function op(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var xC=gs&&"documentMode"in document&&11>=document.documentMode,dl=null,lp=null,Wc=null,cp=!1;function cx(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cp||dl==null||dl!==Ja(d)||(d=dl,"selectionStart"in d&&op(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Wc&&Xc(Wc,d)||(Wc=d,d=Hh(lp,"onSelect"),0<d.length&&(i=new rl("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=dl)))}function uo(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var hl={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},up={},ux={};gs&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function ho(s){if(up[s])return up[s];if(!hl[s])return s;var i=hl[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ux)return up[s]=i[l];return s}var dx=ho("animationend"),hx=ho("animationiteration"),fx=ho("animationstart"),bC=ho("transitionrun"),wC=ho("transitionstart"),_C=ho("transitioncancel"),mx=ho("transitionend"),px=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function ys(s,i){px.set(s,i),yn(i,[s])}var gx=new WeakMap;function Zr(s,i){if(typeof s=="object"&&s!==null){var l=gx.get(s);return l!==void 0?l:(i={value:s,source:i,stack:ii(i)},gx.set(s,i),i)}return{value:s,source:i,stack:ii(i)}}var Jr=[],fl=0,hp=0;function ah(){for(var s=fl,i=hp=fl=0;i<s;){var l=Jr[i];Jr[i++]=null;var d=Jr[i];Jr[i++]=null;var g=Jr[i];Jr[i++]=null;var v=Jr[i];if(Jr[i++]=null,d!==null&&g!==null){var I=d.pending;I===null?g.next=g:(g.next=I.next,I.next=g),d.pending=g}v!==0&&yx(l,g,v)}}function oh(s,i,l,d){Jr[fl++]=s,Jr[fl++]=i,Jr[fl++]=l,Jr[fl++]=d,hp|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function fp(s,i,l,d){return oh(s,i,l,d),lh(s)}function ml(s,i){return oh(s,null,null,i),lh(s)}function yx(s,i,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Kt(l),s=v.hiddenUpdates,d=s[g],d===null?s[g]=[i]:d.push(i),i.lane=l|536870912),v):null}function lh(s){if(50<_u)throw _u=0,xg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var pl={};function EC(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,i,l,d){return new EC(s,i,l,d)}function mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,i){var l=s.alternate;return l===null?(l=jr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function vx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function ch(s,i,l,d,g,v){var I=0;if(d=s,typeof s=="function")mp(s)&&(I=1);else if(typeof s=="string")I=SA(s,l,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=jr(31,l,i,g),s.elementType=M,s.lanes=v,s;case N:return fo(l.children,g,v,i);case P:I=8,g|=24;break;case D:return s=jr(12,l,i,g|2),s.elementType=D,s.lanes=v,s;case U:return s=jr(13,l,i,g),s.elementType=U,s.lanes=v,s;case B:return s=jr(19,l,i,g),s.elementType=B,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case T:case w:I=10;break e;case S:I=9;break e;case j:I=11;break e;case z:I=14;break e;case R:I=16,d=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),d=null}return i=jr(I,l,i,g),i.elementType=s,i.type=d,i.lanes=v,i}function fo(s,i,l,d){return s=jr(7,s,d,i),s.lanes=l,s}function pp(s,i,l){return s=jr(6,s,null,i),s.lanes=l,s}function gp(s,i,l){return i=jr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var gl=[],yl=0,uh=null,dh=0,es=[],ts=0,mo=null,mi=1,pi="";function po(s,i){gl[yl++]=dh,gl[yl++]=uh,uh=s,dh=i}function xx(s,i,l){es[ts++]=mi,es[ts++]=pi,es[ts++]=mo,mo=s;var d=mi;s=pi;var g=32-Kt(d)-1;d&=~(1<<g),l+=1;var v=32-Kt(i)+g;if(30<v){var I=g-g%5;v=(d&(1<<I)-1).toString(32),d>>=I,g-=I,mi=1<<32-Kt(i)+g|l<<g|d,pi=v+s}else mi=1<<v|l<<g|d,pi=s}function yp(s){s.return!==null&&(po(s,1),xx(s,1,0))}function vp(s){for(;s===uh;)uh=gl[--yl],gl[yl]=null,dh=gl[--yl],gl[yl]=null;for(;s===mo;)mo=es[--ts],es[ts]=null,pi=es[--ts],es[ts]=null,mi=es[--ts],es[ts]=null}var lr=null,Jt=null,At=!1,go=null,qs=!1,xp=Error(r(519));function yo(s){var i=Error(r(418,""));throw eu(Zr(i,s)),xp}function bx(s){var i=s.stateNode,l=s.type,d=s.memoizedProps;switch(i[ve]=s,i[we]=d,l){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(l=0;l<Tu.length;l++)ht(Tu[l],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),eo(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),tl(i);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),to(i,d.value,d.defaultValue,d.children),tl(i)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||L1(i.textContent,l)?(d.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),d.onScroll!=null&&ht("scroll",i),d.onScrollEnd!=null&&ht("scrollend",i),d.onClick!=null&&(i.onclick=$h),i=!0):i=!1,i||yo(s)}function wx(s){for(lr=s.return;lr;)switch(lr.tag){case 5:case 13:qs=!1;return;case 27:case 3:qs=!0;return;default:lr=lr.return}}function Zc(s){if(s!==lr)return!1;if(!At)return wx(s),At=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||kg(s.type,s.memoizedProps)),l=!l),l&&Jt&&yo(s),wx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Jt=xs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Jt=null}}else i===27?(i=Jt,ia(s.type)?(s=zg,zg=null,Jt=s):Jt=i):Jt=lr?xs(s.stateNode.nextSibling):null;return!0}function Jc(){Jt=lr=null,At=!1}function _x(){var s=go;return s!==null&&(vr===null?vr=s:vr.push.apply(vr,s),go=null),s}function eu(s){go===null?go=[s]:go.push(s)}var bp=le(null),vo=null,gi=null;function Hi(s,i,l){fe(bp,i._currentValue),i._currentValue=l}function yi(s){s._currentValue=bp.current,ge(bp)}function wp(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function _p(s,i,l,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var I=g.child;v=v.firstContext;e:for(;v!==null;){var F=v;v=g;for(var Q=0;Q<i.length;Q++)if(F.context===i[Q]){v.lanes|=l,F=v.alternate,F!==null&&(F.lanes|=l),wp(v.return,l,s),d||(I=null);break e}v=F.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,v=I.alternate,v!==null&&(v.lanes|=l),wp(I,l,s),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function tu(s,i,l,d){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var F=g.type;Rr(g.pendingProps.value,I.value)||(s!==null?s.push(F):s=[F])}}else if(g===ye.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ju):s=[ju])}g=g.return}s!==null&&_p(i,s,l,d),i.flags|=262144}function hh(s){for(s=s.firstContext;s!==null;){if(!Rr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xo(s){vo=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qn(s){return Ex(vo,s)}function fh(s,i){return vo===null&&xo(s),Ex(s,i)}function Ex(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},gi===null){if(s===null)throw Error(r(308));gi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else gi=gi.next=i;return l}var TC=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},SC=n.unstable_scheduleCallback,NC=n.unstable_NormalPriority,bn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new TC,data:new Map,refCount:0}}function nu(s){s.refCount--,s.refCount===0&&SC(NC,function(){s.controller.abort()})}var ru=null,Tp=0,vl=0,xl=null;function CC(s,i){if(ru===null){var l=ru=[];Tp=0,vl=Ng(),xl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Tp++,i.then(Tx,Tx),i}function Tx(){if(--Tp===0&&ru!==null){xl!==null&&(xl.status="fulfilled");var s=ru;ru=null,vl=0,xl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function AC(s,i){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var Sx=G.S;G.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&CC(s,i),Sx!==null&&Sx(s,i)};var bo=le(null);function Sp(){var s=bo.current;return s!==null?s:Ft.pooledCache}function mh(s,i){i===null?fe(bo,bo.current):fe(bo,i.pool)}function Nx(){var s=Sp();return s===null?null:{parent:bn._currentValue,pool:s}}var su=Error(r(460)),Cx=Error(r(474)),ph=Error(r(542)),Np={then:function(){}};function Ax(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gh(){}function Rx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(gh,gh),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Ix(s),s;default:if(typeof i.status=="string")i.then(gh,gh);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Ix(s),s}throw iu=i,su}}var iu=null;function jx(){if(iu===null)throw Error(r(459));var s=iu;return iu=null,s}function Ix(s){if(s===su||s===ph)throw Error(r(483))}var $i=!1;function Cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Gi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Qi(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Dt&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=lh(s),yx(s,null,l),i}return oh(s,d,i,l),lh(s)}function au(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,$r(s,l)}}function Rp(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=I:v=v.next=I,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var jp=!1;function ou(){if(jp){var s=xl;if(s!==null)throw s}}function lu(s,i,l,d){jp=!1;var g=s.updateQueue;$i=!1;var v=g.firstBaseUpdate,I=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var Q=F,ie=Q.next;Q.next=null,I===null?v=ie:I.next=ie,I=Q;var he=s.alternate;he!==null&&(he=he.updateQueue,F=he.lastBaseUpdate,F!==I&&(F===null?he.firstBaseUpdate=ie:F.next=ie,he.lastBaseUpdate=Q))}if(v!==null){var xe=g.baseState;I=0,he=ie=Q=null,F=v;do{var oe=F.lane&-536870913,ce=oe!==F.lane;if(ce?(Et&oe)===oe:(d&oe)===oe){oe!==0&&oe===vl&&(jp=!0),he!==null&&(he=he.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Qe=s,Fe=F;oe=i;var zt=l;switch(Fe.tag){case 1:if(Qe=Fe.payload,typeof Qe=="function"){xe=Qe.call(zt,xe,oe);break e}xe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Fe.payload,oe=typeof Qe=="function"?Qe.call(zt,xe,oe):Qe,oe==null)break e;xe=y({},xe,oe);break e;case 2:$i=!0}}oe=F.callback,oe!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=g.callbacks,ce===null?g.callbacks=[oe]:ce.push(oe))}else ce={lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},he===null?(ie=he=ce,Q=xe):he=he.next=ce,I|=oe;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;ce=F,F=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);he===null&&(Q=xe),g.baseState=Q,g.firstBaseUpdate=ie,g.lastBaseUpdate=he,v===null&&(g.shared.lanes=0),ta|=I,s.lanes=I,s.memoizedState=xe}}function Mx(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Ox(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Mx(l[s],i)}var bl=le(null),yh=le(0);function Dx(s,i){s=Ti,fe(yh,s),fe(bl,i),Ti=s|i.baseLanes}function Ip(){fe(yh,Ti),fe(bl,bl.current)}function Mp(){Ti=yh.current,ge(bl),ge(yh)}var Ki=0,it=null,Lt=null,dn=null,vh=!1,wl=!1,wo=!1,xh=0,cu=0,_l=null,RC=0;function rn(){throw Error(r(321))}function Op(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Rr(s[l],i[l]))return!1;return!0}function Dp(s,i,l,d,g,v){return Ki=v,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=s===null||s.memoizedState===null?yb:vb,wo=!1,v=l(d,g),wo=!1,wl&&(v=Px(i,l,d,g)),kx(s),v}function kx(s){G.H=Sh;var i=Lt!==null&&Lt.next!==null;if(Ki=0,dn=Lt=it=null,vh=!1,cu=0,_l=null,i)throw Error(r(300));s===null||Cn||(s=s.dependencies,s!==null&&hh(s)&&(Cn=!0))}function Px(s,i,l,d){it=s;var g=0;do{if(wl&&(_l=null),cu=0,wl=!1,25<=g)throw Error(r(301));if(g+=1,dn=Lt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=PC,v=i(l,d)}while(wl);return v}function jC(){var s=G.H,i=s.useState()[0];return i=typeof i.then=="function"?uu(i):i,s=s.useState()[0],(Lt!==null?Lt.memoizedState:null)!==s&&(it.flags|=1024),i}function kp(){var s=xh!==0;return xh=0,s}function Pp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Lp(s){if(vh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}vh=!1}Ki=0,dn=Lt=it=null,wl=!1,cu=xh=0,_l=null}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?it.memoizedState=dn=s:dn=dn.next=s,dn}function hn(){if(Lt===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var i=dn===null?it.memoizedState:dn.next;if(i!==null)dn=i,Lt=s;else{if(s===null)throw it.alternate===null?Error(r(467)):Error(r(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},dn===null?it.memoizedState=dn=s:dn=dn.next=s}return dn}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(s){var i=cu;return cu+=1,_l===null&&(_l=[]),s=Rx(_l,s,i),i=it,(dn===null?i.memoizedState:dn.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?yb:vb),s}function bh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return uu(s);if(s.$$typeof===w)return Qn(s)}throw Error(r(438,String(s)))}function zp(s){var i=null,l=it.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Vp(),it.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),d=0;d<s;d++)l[d]=C;return i.index++,l}function vi(s,i){return typeof i=="function"?i(s):i}function wh(s){var i=hn();return Up(i,Lt,s)}function Up(s,i,l){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var g=s.baseQueue,v=d.pending;if(v!==null){if(g!==null){var I=g.next;g.next=v.next,v.next=I}i.baseQueue=g=v,d.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var F=I=null,Q=null,ie=i,he=!1;do{var xe=ie.lane&-536870913;if(xe!==ie.lane?(Et&xe)===xe:(Ki&xe)===xe){var oe=ie.revertLane;if(oe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),xe===vl&&(he=!0);else if((Ki&oe)===oe){ie=ie.next,oe===vl&&(he=!0);continue}else xe={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(F=Q=xe,I=v):Q=Q.next=xe,it.lanes|=oe,ta|=oe;xe=ie.action,wo&&l(v,xe),v=ie.hasEagerState?ie.eagerState:l(v,xe)}else oe={lane:xe,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(F=Q=oe,I=v):Q=Q.next=oe,it.lanes|=xe,ta|=xe;ie=ie.next}while(ie!==null&&ie!==i);if(Q===null?I=v:Q.next=F,!Rr(v,s.memoizedState)&&(Cn=!0,he&&(l=xl,l!==null)))throw l;s.memoizedState=v,s.baseState=I,s.baseQueue=Q,d.lastRenderedState=v}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Bp(s){var i=hn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do v=s(v,I.action),I=I.next;while(I!==g);Rr(v,i.memoizedState)||(Cn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function Lx(s,i,l){var d=it,g=hn(),v=At;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var I=!Rr((Lt||g).memoizedState,l);I&&(g.memoizedState=l,Cn=!0),g=g.queue;var F=Ux.bind(null,d,g,s);if(du(2048,8,F,[s]),g.getSnapshot!==i||I||dn!==null&&dn.memoizedState.tag&1){if(d.flags|=2048,El(9,_h(),zx.bind(null,d,g,l,i),null),Ft===null)throw Error(r(349));v||(Ki&124)!==0||Vx(d,i,l)}return l}function Vx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=it.updateQueue,i===null?(i=Vp(),it.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function zx(s,i,l,d){i.value=l,i.getSnapshot=d,Bx(i)&&Fx(s)}function Ux(s,i,l){return l(function(){Bx(i)&&Fx(s)})}function Bx(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Rr(s,l)}catch{return!0}}function Fx(s){var i=ml(s,2);i!==null&&kr(i,s,2)}function Fp(s){var i=gr();if(typeof s=="function"){var l=s;if(s=l(),wo){Tn(!0);try{l()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},i}function qx(s,i,l,d){return s.baseState=l,Up(s,Lt,typeof d=="function"?d:vi)}function IC(s,i,l,d,g){if(Th(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};G.T!==null?l(!0):v.isTransition=!1,d(v),l=i.pending,l===null?(v.next=i.pending=v,Hx(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Hx(s,i){var l=i.action,d=i.payload,g=s.state;if(i.isTransition){var v=G.T,I={};G.T=I;try{var F=l(g,d),Q=G.S;Q!==null&&Q(I,F),$x(s,i,F)}catch(ie){qp(s,i,ie)}finally{G.T=v}}else try{v=l(g,d),$x(s,i,v)}catch(ie){qp(s,i,ie)}}function $x(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Gx(s,i,d)},function(d){return qp(s,i,d)}):Gx(s,i,l)}function Gx(s,i,l){i.status="fulfilled",i.value=l,Qx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Hx(s,l)))}function qp(s,i,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,Qx(i),i=i.next;while(i!==d)}s.action=null}function Qx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Kx(s,i){return i}function Yx(s,i){if(At){var l=Ft.formState;if(l!==null){e:{var d=it;if(At){if(Jt){t:{for(var g=Jt,v=qs;g.nodeType!==8;){if(!v){g=null;break t}if(g=xs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Jt=xs(g.nextSibling),d=g.data==="F!";break e}}yo(d)}d=!1}d&&(i=l[0])}}return l=gr(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:i},l.queue=d,l=mb.bind(null,it,d),d.dispatch=l,d=Fp(!1),v=Kp.bind(null,it,!1,d.queue),d=gr(),g={state:i,dispatch:null,action:s,pending:null},d.queue=g,l=IC.bind(null,it,g,v,l),g.dispatch=l,d.memoizedState=s,[i,l,!1]}function Xx(s){var i=hn();return Wx(i,Lt,s)}function Wx(s,i,l){if(i=Up(s,i,Kx)[0],s=wh(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=uu(i)}catch(I){throw I===su?ph:I}else d=i;i=hn();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(it.flags|=2048,El(9,_h(),MC.bind(null,g,l),null)),[d,v,s]}function MC(s,i){s.action=i}function Zx(s){var i=hn(),l=Lt;if(l!==null)return Wx(i,l,s);hn(),i=i.memoizedState,l=hn();var d=l.queue.dispatch;return l.memoizedState=s,[i,d,!1]}function El(s,i,l,d){return s={tag:s,create:l,deps:d,inst:i,next:null},i=it.updateQueue,i===null&&(i=Vp(),it.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s),s}function _h(){return{destroy:void 0,resource:void 0}}function Jx(){return hn().memoizedState}function Eh(s,i,l,d){var g=gr();d=d===void 0?null:d,it.flags|=s,g.memoizedState=El(1|i,_h(),l,d)}function du(s,i,l,d){var g=hn();d=d===void 0?null:d;var v=g.memoizedState.inst;Lt!==null&&d!==null&&Op(d,Lt.memoizedState.deps)?g.memoizedState=El(i,v,l,d):(it.flags|=s,g.memoizedState=El(1|i,v,l,d))}function eb(s,i){Eh(8390656,8,s,i)}function tb(s,i){du(2048,8,s,i)}function nb(s,i){return du(4,2,s,i)}function rb(s,i){return du(4,4,s,i)}function sb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function ib(s,i,l){l=l!=null?l.concat([s]):null,du(4,4,sb.bind(null,i,s),l)}function Hp(){}function ab(s,i){var l=hn();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&Op(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function ob(s,i){var l=hn();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&Op(i,d[1]))return d[0];if(d=s(),wo){Tn(!0);try{s()}finally{Tn(!1)}}return l.memoizedState=[d,i],d}function $p(s,i,l){return l===void 0||(Ki&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=u1(),it.lanes|=s,ta|=s,l)}function lb(s,i,l,d){return Rr(l,i)?l:bl.current!==null?(s=$p(s,l,d),Rr(s,i)||(Cn=!0),s):(Ki&42)===0?(Cn=!0,s.memoizedState=l):(s=u1(),it.lanes|=s,ta|=s,i)}function cb(s,i,l,d,g){var v=$.p;$.p=v!==0&&8>v?v:8;var I=G.T,F={};G.T=F,Kp(s,!1,i,l);try{var Q=g(),ie=G.S;if(ie!==null&&ie(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var he=AC(Q,d);hu(s,i,he,Dr(s))}else hu(s,i,d,Dr(s))}catch(xe){hu(s,i,{then:function(){},status:"rejected",reason:xe},Dr())}finally{$.p=v,G.T=I}}function OC(){}function Gp(s,i,l,d){if(s.tag!==5)throw Error(r(476));var g=ub(s).queue;cb(s,g,i,K,l===null?OC:function(){return db(s),l(d)})}function ub(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:K},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function db(s){var i=ub(s).next.queue;hu(s,i,{},Dr())}function Qp(){return Qn(ju)}function hb(){return hn().memoizedState}function fb(){return hn().memoizedState}function DC(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Dr();s=Gi(l);var d=Qi(i,s,l);d!==null&&(kr(d,i,l),au(d,i,l)),i={cache:Ep()},s.payload=i;return}i=i.return}}function kC(s,i,l){var d=Dr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Th(s)?pb(i,l):(l=fp(s,i,l,d),l!==null&&(kr(l,s,d),gb(l,i,d)))}function mb(s,i,l){var d=Dr();hu(s,i,l,d)}function hu(s,i,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Th(s))pb(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var I=i.lastRenderedState,F=v(I,l);if(g.hasEagerState=!0,g.eagerState=F,Rr(F,I))return oh(s,i,g,0),Ft===null&&ah(),!1}catch{}finally{}if(l=fp(s,i,g,d),l!==null)return kr(l,s,d),gb(l,i,d),!0}return!1}function Kp(s,i,l,d){if(d={lane:2,revertLane:Ng(),action:d,hasEagerState:!1,eagerState:null,next:null},Th(s)){if(i)throw Error(r(479))}else i=fp(s,l,d,2),i!==null&&kr(i,s,2)}function Th(s){var i=s.alternate;return s===it||i!==null&&i===it}function pb(s,i){wl=vh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function gb(s,i,l){if((l&4194048)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,$r(s,l)}}var Sh={readContext:Qn,use:bh,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},yb={readContext:Qn,use:bh,useCallback:function(s,i){return gr().memoizedState=[s,i===void 0?null:i],s},useContext:Qn,useEffect:eb,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,Eh(4194308,4,sb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Eh(4194308,4,s,i)},useInsertionEffect:function(s,i){Eh(4,2,s,i)},useMemo:function(s,i){var l=gr();i=i===void 0?null:i;var d=s();if(wo){Tn(!0);try{s()}finally{Tn(!1)}}return l.memoizedState=[d,i],d},useReducer:function(s,i,l){var d=gr();if(l!==void 0){var g=l(i);if(wo){Tn(!0);try{l(i)}finally{Tn(!1)}}}else g=i;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=kC.bind(null,it,s),[d.memoizedState,s]},useRef:function(s){var i=gr();return s={current:s},i.memoizedState=s},useState:function(s){s=Fp(s);var i=s.queue,l=mb.bind(null,it,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Hp,useDeferredValue:function(s,i){var l=gr();return $p(l,s,i)},useTransition:function(){var s=Fp(!1);return s=cb.bind(null,it,s.queue,!0,!1),gr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var d=it,g=gr();if(At){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),Ft===null)throw Error(r(349));(Et&124)!==0||Vx(d,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,eb(Ux.bind(null,d,v,s),[s]),d.flags|=2048,El(9,_h(),zx.bind(null,d,v,l,i),null),l},useId:function(){var s=gr(),i=Ft.identifierPrefix;if(At){var l=pi,d=mi;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,i="«"+i+"R"+l,l=xh++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=RC++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Qp,useFormState:Yx,useActionState:Yx,useOptimistic:function(s){var i=gr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Kp.bind(null,it,!0,l),l.dispatch=i,[s,i]},useMemoCache:zp,useCacheRefresh:function(){return gr().memoizedState=DC.bind(null,it)}},vb={readContext:Qn,use:bh,useCallback:ab,useContext:Qn,useEffect:tb,useImperativeHandle:ib,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ob,useReducer:wh,useRef:Jx,useState:function(){return wh(vi)},useDebugValue:Hp,useDeferredValue:function(s,i){var l=hn();return lb(l,Lt.memoizedState,s,i)},useTransition:function(){var s=wh(vi)[0],i=hn().memoizedState;return[typeof s=="boolean"?s:uu(s),i]},useSyncExternalStore:Lx,useId:hb,useHostTransitionStatus:Qp,useFormState:Xx,useActionState:Xx,useOptimistic:function(s,i){var l=hn();return qx(l,Lt,s,i)},useMemoCache:zp,useCacheRefresh:fb},PC={readContext:Qn,use:bh,useCallback:ab,useContext:Qn,useEffect:tb,useImperativeHandle:ib,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ob,useReducer:Bp,useRef:Jx,useState:function(){return Bp(vi)},useDebugValue:Hp,useDeferredValue:function(s,i){var l=hn();return Lt===null?$p(l,s,i):lb(l,Lt.memoizedState,s,i)},useTransition:function(){var s=Bp(vi)[0],i=hn().memoizedState;return[typeof s=="boolean"?s:uu(s),i]},useSyncExternalStore:Lx,useId:hb,useHostTransitionStatus:Qp,useFormState:Zx,useActionState:Zx,useOptimistic:function(s,i){var l=hn();return Lt!==null?qx(l,Lt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:zp,useCacheRefresh:fb},Tl=null,fu=0;function Nh(s){var i=fu;return fu+=1,Tl===null&&(Tl=[]),Rx(Tl,s,i)}function mu(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Ch(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function xb(s){var i=s._init;return i(s._payload)}function bb(s){function i(Z,X){if(s){var ne=Z.deletions;ne===null?(Z.deletions=[X],Z.flags|=16):ne.push(X)}}function l(Z,X){if(!s)return null;for(;X!==null;)i(Z,X),X=X.sibling;return null}function d(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function g(Z,X){return Z=fi(Z,X),Z.index=0,Z.sibling=null,Z}function v(Z,X,ne){return Z.index=ne,s?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<X?(Z.flags|=67108866,X):ne):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function I(Z){return s&&Z.alternate===null&&(Z.flags|=67108866),Z}function F(Z,X,ne,pe){return X===null||X.tag!==6?(X=pp(ne,Z.mode,pe),X.return=Z,X):(X=g(X,ne),X.return=Z,X)}function Q(Z,X,ne,pe){var je=ne.type;return je===N?he(Z,X,ne.props.children,pe,ne.key):X!==null&&(X.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&xb(je)===X.type)?(X=g(X,ne.props),mu(X,ne),X.return=Z,X):(X=ch(ne.type,ne.key,ne.props,null,Z.mode,pe),mu(X,ne),X.return=Z,X)}function ie(Z,X,ne,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=gp(ne,Z.mode,pe),X.return=Z,X):(X=g(X,ne.children||[]),X.return=Z,X)}function he(Z,X,ne,pe,je){return X===null||X.tag!==7?(X=fo(ne,Z.mode,pe,je),X.return=Z,X):(X=g(X,ne),X.return=Z,X)}function xe(Z,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=pp(""+X,Z.mode,ne),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ne=ch(X.type,X.key,X.props,null,Z.mode,ne),mu(ne,X),ne.return=Z,ne;case E:return X=gp(X,Z.mode,ne),X.return=Z,X;case R:var pe=X._init;return X=pe(X._payload),xe(Z,X,ne)}if(ae(X)||L(X))return X=fo(X,Z.mode,ne,null),X.return=Z,X;if(typeof X.then=="function")return xe(Z,Nh(X),ne);if(X.$$typeof===w)return xe(Z,fh(Z,X),ne);Ch(Z,X)}return null}function oe(Z,X,ne,pe){var je=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return je!==null?null:F(Z,X,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return ne.key===je?Q(Z,X,ne,pe):null;case E:return ne.key===je?ie(Z,X,ne,pe):null;case R:return je=ne._init,ne=je(ne._payload),oe(Z,X,ne,pe)}if(ae(ne)||L(ne))return je!==null?null:he(Z,X,ne,pe,null);if(typeof ne.then=="function")return oe(Z,X,Nh(ne),pe);if(ne.$$typeof===w)return oe(Z,X,fh(Z,ne),pe);Ch(Z,ne)}return null}function ce(Z,X,ne,pe,je){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(ne)||null,F(X,Z,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return Z=Z.get(pe.key===null?ne:pe.key)||null,Q(X,Z,pe,je);case E:return Z=Z.get(pe.key===null?ne:pe.key)||null,ie(X,Z,pe,je);case R:var lt=pe._init;return pe=lt(pe._payload),ce(Z,X,ne,pe,je)}if(ae(pe)||L(pe))return Z=Z.get(ne)||null,he(X,Z,pe,je,null);if(typeof pe.then=="function")return ce(Z,X,ne,Nh(pe),je);if(pe.$$typeof===w)return ce(Z,X,ne,fh(X,pe),je);Ch(X,pe)}return null}function Qe(Z,X,ne,pe){for(var je=null,lt=null,Le=X,He=X=0,Rn=null;Le!==null&&He<ne.length;He++){Le.index>He?(Rn=Le,Le=null):Rn=Le.sibling;var Ct=oe(Z,Le,ne[He],pe);if(Ct===null){Le===null&&(Le=Rn);break}s&&Le&&Ct.alternate===null&&i(Z,Le),X=v(Ct,X,He),lt===null?je=Ct:lt.sibling=Ct,lt=Ct,Le=Rn}if(He===ne.length)return l(Z,Le),At&&po(Z,He),je;if(Le===null){for(;He<ne.length;He++)Le=xe(Z,ne[He],pe),Le!==null&&(X=v(Le,X,He),lt===null?je=Le:lt.sibling=Le,lt=Le);return At&&po(Z,He),je}for(Le=d(Le);He<ne.length;He++)Rn=ce(Le,Z,He,ne[He],pe),Rn!==null&&(s&&Rn.alternate!==null&&Le.delete(Rn.key===null?He:Rn.key),X=v(Rn,X,He),lt===null?je=Rn:lt.sibling=Rn,lt=Rn);return s&&Le.forEach(function(ua){return i(Z,ua)}),At&&po(Z,He),je}function Fe(Z,X,ne,pe){if(ne==null)throw Error(r(151));for(var je=null,lt=null,Le=X,He=X=0,Rn=null,Ct=ne.next();Le!==null&&!Ct.done;He++,Ct=ne.next()){Le.index>He?(Rn=Le,Le=null):Rn=Le.sibling;var ua=oe(Z,Le,Ct.value,pe);if(ua===null){Le===null&&(Le=Rn);break}s&&Le&&ua.alternate===null&&i(Z,Le),X=v(ua,X,He),lt===null?je=ua:lt.sibling=ua,lt=ua,Le=Rn}if(Ct.done)return l(Z,Le),At&&po(Z,He),je;if(Le===null){for(;!Ct.done;He++,Ct=ne.next())Ct=xe(Z,Ct.value,pe),Ct!==null&&(X=v(Ct,X,He),lt===null?je=Ct:lt.sibling=Ct,lt=Ct);return At&&po(Z,He),je}for(Le=d(Le);!Ct.done;He++,Ct=ne.next())Ct=ce(Le,Z,He,Ct.value,pe),Ct!==null&&(s&&Ct.alternate!==null&&Le.delete(Ct.key===null?He:Ct.key),X=v(Ct,X,He),lt===null?je=Ct:lt.sibling=Ct,lt=Ct);return s&&Le.forEach(function(LA){return i(Z,LA)}),At&&po(Z,He),je}function zt(Z,X,ne,pe){if(typeof ne=="object"&&ne!==null&&ne.type===N&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:e:{for(var je=ne.key;X!==null;){if(X.key===je){if(je=ne.type,je===N){if(X.tag===7){l(Z,X.sibling),pe=g(X,ne.props.children),pe.return=Z,Z=pe;break e}}else if(X.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&xb(je)===X.type){l(Z,X.sibling),pe=g(X,ne.props),mu(pe,ne),pe.return=Z,Z=pe;break e}l(Z,X);break}else i(Z,X);X=X.sibling}ne.type===N?(pe=fo(ne.props.children,Z.mode,pe,ne.key),pe.return=Z,Z=pe):(pe=ch(ne.type,ne.key,ne.props,null,Z.mode,pe),mu(pe,ne),pe.return=Z,Z=pe)}return I(Z);case E:e:{for(je=ne.key;X!==null;){if(X.key===je)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){l(Z,X.sibling),pe=g(X,ne.children||[]),pe.return=Z,Z=pe;break e}else{l(Z,X);break}else i(Z,X);X=X.sibling}pe=gp(ne,Z.mode,pe),pe.return=Z,Z=pe}return I(Z);case R:return je=ne._init,ne=je(ne._payload),zt(Z,X,ne,pe)}if(ae(ne))return Qe(Z,X,ne,pe);if(L(ne)){if(je=L(ne),typeof je!="function")throw Error(r(150));return ne=je.call(ne),Fe(Z,X,ne,pe)}if(typeof ne.then=="function")return zt(Z,X,Nh(ne),pe);if(ne.$$typeof===w)return zt(Z,X,fh(Z,ne),pe);Ch(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(l(Z,X.sibling),pe=g(X,ne),pe.return=Z,Z=pe):(l(Z,X),pe=pp(ne,Z.mode,pe),pe.return=Z,Z=pe),I(Z)):l(Z,X)}return function(Z,X,ne,pe){try{fu=0;var je=zt(Z,X,ne,pe);return Tl=null,je}catch(Le){if(Le===su||Le===ph)throw Le;var lt=jr(29,Le,null,Z.mode);return lt.lanes=pe,lt.return=Z,lt}finally{}}}var Sl=bb(!0),wb=bb(!1),ns=le(null),Hs=null;function Yi(s){var i=s.alternate;fe(wn,wn.current&1),fe(ns,s),Hs===null&&(i===null||bl.current!==null||i.memoizedState!==null)&&(Hs=s)}function _b(s){if(s.tag===22){if(fe(wn,wn.current),fe(ns,s),Hs===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Hs=s)}}else Xi()}function Xi(){fe(wn,wn.current),fe(ns,ns.current)}function xi(s){ge(ns),Hs===s&&(Hs=null),ge(wn)}var wn=le(0);function Ah(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Vg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yp(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Xp={enqueueSetState:function(s,i,l){s=s._reactInternals;var d=Dr(),g=Gi(d);g.payload=i,l!=null&&(g.callback=l),i=Qi(s,g,d),i!==null&&(kr(i,s,d),au(i,s,d))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=Dr(),g=Gi(d);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Qi(s,g,d),i!==null&&(kr(i,s,d),au(i,s,d))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Dr(),d=Gi(l);d.tag=2,i!=null&&(d.callback=i),i=Qi(s,d,l),i!==null&&(kr(i,s,l),au(i,s,l))}};function Eb(s,i,l,d,g,v,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,I):i.prototype&&i.prototype.isPureReactComponent?!Xc(l,d)||!Xc(g,v):!0}function Tb(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Xp.enqueueReplaceState(i,i.state,null)}function _o(s,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var Rh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Sb(s){Rh(s)}function Nb(s){console.error(s)}function Cb(s){Rh(s)}function jh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Ab(s,i,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wp(s,i,l){return l=Gi(l),l.tag=3,l.payload={element:null},l.callback=function(){jh(s,i)},l}function Rb(s){return s=Gi(s),s.tag=3,s}function jb(s,i,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;s.payload=function(){return g(v)},s.callback=function(){Ab(i,l,d)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){Ab(i,l,d),typeof g!="function"&&(na===null?na=new Set([this]):na.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})})}function LC(s,i,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&tu(i,l,g,!0),l=ns.current,l!==null){switch(l.tag){case 13:return Hs===null?wg():l.alternate===null&&en===0&&(en=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Np?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),Eg(s,d,g)),!1;case 22:return l.flags|=65536,d===Np?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),Eg(s,d,g)),!1}throw Error(r(435,l.tag))}return Eg(s,d,g),wg(),!1}if(At)return i=ns.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==xp&&(s=Error(r(422),{cause:d}),eu(Zr(s,l)))):(d!==xp&&(i=Error(r(423),{cause:d}),eu(Zr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Zr(d,l),g=Wp(s.stateNode,d,g),Rp(s,g),en!==4&&(en=2)),!1;var v=Error(r(520),{cause:d});if(v=Zr(v,l),wu===null?wu=[v]:wu.push(v),en!==4&&(en=2),i===null)return!0;d=Zr(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Wp(l.stateNode,d,s),Rp(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(na===null||!na.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Rb(g),jb(g,s,l,d),Rp(l,g),!1}l=l.return}while(l!==null);return!1}var Ib=Error(r(461)),Cn=!1;function Ln(s,i,l,d){i.child=s===null?wb(i,null,l,d):Sl(i,s.child,l,d)}function Mb(s,i,l,d,g){l=l.render;var v=i.ref;if("ref"in d){var I={};for(var F in d)F!=="ref"&&(I[F]=d[F])}else I=d;return xo(i),d=Dp(s,i,l,I,v,g),F=kp(),s!==null&&!Cn?(Pp(s,i,g),bi(s,i,g)):(At&&F&&yp(i),i.flags|=1,Ln(s,i,d,g),i.child)}function Ob(s,i,l,d,g){if(s===null){var v=l.type;return typeof v=="function"&&!mp(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,Db(s,i,v,d,g)):(s=ch(l.type,null,d,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!ig(s,g)){var I=v.memoizedProps;if(l=l.compare,l=l!==null?l:Xc,l(I,d)&&s.ref===i.ref)return bi(s,i,g)}return i.flags|=1,s=fi(v,d),s.ref=i.ref,s.return=i,i.child=s}function Db(s,i,l,d,g){if(s!==null){var v=s.memoizedProps;if(Xc(v,d)&&s.ref===i.ref)if(Cn=!1,i.pendingProps=d=v,ig(s,g))(s.flags&131072)!==0&&(Cn=!0);else return i.lanes=s.lanes,bi(s,i,g)}return Zp(s,i,l,d,g)}function kb(s,i,l){var d=i.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~d}else i.childLanes=0,i.child=null;return Pb(s,i,d,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&mh(i,v!==null?v.cachePool:null),v!==null?Dx(i,v):Ip(),_b(i);else return i.lanes=i.childLanes=536870912,Pb(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(mh(i,v.cachePool),Dx(i,v),Xi(),i.memoizedState=null):(s!==null&&mh(i,null),Ip(),Xi());return Ln(s,i,g,l),i.child}function Pb(s,i,l,d){var g=Sp();return g=g===null?null:{parent:bn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&mh(i,null),Ip(),_b(i),s!==null&&tu(s,i,d,!0),null}function Ih(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Zp(s,i,l,d,g){return xo(i),l=Dp(s,i,l,d,void 0,g),d=kp(),s!==null&&!Cn?(Pp(s,i,g),bi(s,i,g)):(At&&d&&yp(i),i.flags|=1,Ln(s,i,l,g),i.child)}function Lb(s,i,l,d,g,v){return xo(i),i.updateQueue=null,l=Px(i,d,l,g),kx(s),d=kp(),s!==null&&!Cn?(Pp(s,i,v),bi(s,i,v)):(At&&d&&yp(i),i.flags|=1,Ln(s,i,l,v),i.child)}function Vb(s,i,l,d,g){if(xo(i),i.stateNode===null){var v=pl,I=l.contextType;typeof I=="object"&&I!==null&&(v=Qn(I)),v=new l(d,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Xp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=d,v.state=i.memoizedState,v.refs={},Cp(i),I=l.contextType,v.context=typeof I=="object"&&I!==null?Qn(I):pl,v.state=i.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Yp(i,l,I,d),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&Xp.enqueueReplaceState(v,v.state,null),lu(i,d,v,g),ou(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(s===null){v=i.stateNode;var F=i.memoizedProps,Q=_o(l,F);v.props=Q;var ie=v.context,he=l.contextType;I=pl,typeof he=="object"&&he!==null&&(I=Qn(he));var xe=l.getDerivedStateFromProps;he=typeof xe=="function"||typeof v.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,he||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(F||ie!==I)&&Tb(i,v,d,I),$i=!1;var oe=i.memoizedState;v.state=oe,lu(i,d,v,g),ou(),ie=i.memoizedState,F||oe!==ie||$i?(typeof xe=="function"&&(Yp(i,l,xe,d),ie=i.memoizedState),(Q=$i||Eb(i,l,Q,d,oe,ie,I))?(he||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ie),v.props=d,v.state=ie,v.context=I,d=Q):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{v=i.stateNode,Ap(s,i),I=i.memoizedProps,he=_o(l,I),v.props=he,xe=i.pendingProps,oe=v.context,ie=l.contextType,Q=pl,typeof ie=="object"&&ie!==null&&(Q=Qn(ie)),F=l.getDerivedStateFromProps,(ie=typeof F=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==xe||oe!==Q)&&Tb(i,v,d,Q),$i=!1,oe=i.memoizedState,v.state=oe,lu(i,d,v,g),ou();var ce=i.memoizedState;I!==xe||oe!==ce||$i||s!==null&&s.dependencies!==null&&hh(s.dependencies)?(typeof F=="function"&&(Yp(i,l,F,d),ce=i.memoizedState),(he=$i||Eb(i,l,he,d,oe,ce,Q)||s!==null&&s.dependencies!==null&&hh(s.dependencies))?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ce,Q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ce,Q)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===s.memoizedProps&&oe===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&oe===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ce),v.props=d,v.state=ce,v.context=Q,d=he):(typeof v.componentDidUpdate!="function"||I===s.memoizedProps&&oe===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&oe===s.memoizedState||(i.flags|=1024),d=!1)}return v=d,Ih(s,i),d=(i.flags&128)!==0,v||d?(v=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&d?(i.child=Sl(i,s.child,null,g),i.child=Sl(i,null,l,g)):Ln(s,i,l,g),i.memoizedState=v.state,s=i.child):s=bi(s,i,g),s}function zb(s,i,l,d){return Jc(),i.flags|=256,Ln(s,i,l,d),i.child}var Jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(s){return{baseLanes:s,cachePool:Nx()}}function tg(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=rs),s}function Ub(s,i,l){var d=i.pendingProps,g=!1,v=(i.flags&128)!==0,I;if((I=v)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(g=!0,i.flags&=-129),I=(i.flags&32)!==0,i.flags&=-33,s===null){if(At){if(g?Yi(i):Xi(),At){var F=Jt,Q;if(Q=F){e:{for(Q=F,F=qs;Q.nodeType!==8;){if(!F){F=null;break e}if(Q=xs(Q.nextSibling),Q===null){F=null;break e}}F=Q}F!==null?(i.memoizedState={dehydrated:F,treeContext:mo!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},Q=jr(18,null,null,0),Q.stateNode=F,Q.return=i,i.child=Q,lr=i,Jt=null,Q=!0):Q=!1}Q||yo(i)}if(F=i.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Vg(F)?i.lanes=32:i.lanes=536870912,null;xi(i)}return F=d.children,d=d.fallback,g?(Xi(),g=i.mode,F=Mh({mode:"hidden",children:F},g),d=fo(d,g,l,null),F.return=i,d.return=i,F.sibling=d,i.child=F,g=i.child,g.memoizedState=eg(l),g.childLanes=tg(s,I,l),i.memoizedState=Jp,d):(Yi(i),ng(i,F))}if(Q=s.memoizedState,Q!==null&&(F=Q.dehydrated,F!==null)){if(v)i.flags&256?(Yi(i),i.flags&=-257,i=rg(s,i,l)):i.memoizedState!==null?(Xi(),i.child=s.child,i.flags|=128,i=null):(Xi(),g=d.fallback,F=i.mode,d=Mh({mode:"visible",children:d.children},F),g=fo(g,F,l,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,Sl(i,s.child,null,l),d=i.child,d.memoizedState=eg(l),d.childLanes=tg(s,I,l),i.memoizedState=Jp,i=g);else if(Yi(i),Vg(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var ie=I.dgst;I=ie,d=Error(r(419)),d.stack="",d.digest=I,eu({value:d,source:null,stack:null}),i=rg(s,i,l)}else if(Cn||tu(s,i,l,!1),I=(l&s.childLanes)!==0,Cn||I){if(I=Ft,I!==null&&(d=l&-l,d=(d&42)!==0?1:Sr(d),d=(d&(I.suspendedLanes|l))!==0?0:d,d!==0&&d!==Q.retryLane))throw Q.retryLane=d,ml(s,d),kr(I,s,d),Ib;F.data==="$?"||wg(),i=rg(s,i,l)}else F.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=Q.treeContext,Jt=xs(F.nextSibling),lr=i,At=!0,go=null,qs=!1,s!==null&&(es[ts++]=mi,es[ts++]=pi,es[ts++]=mo,mi=s.id,pi=s.overflow,mo=i),i=ng(i,d.children),i.flags|=4096);return i}return g?(Xi(),g=d.fallback,F=i.mode,Q=s.child,ie=Q.sibling,d=fi(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,ie!==null?g=fi(ie,g):(g=fo(g,F,l,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,F=s.child.memoizedState,F===null?F=eg(l):(Q=F.cachePool,Q!==null?(ie=bn._currentValue,Q=Q.parent!==ie?{parent:ie,pool:ie}:Q):Q=Nx(),F={baseLanes:F.baseLanes|l,cachePool:Q}),g.memoizedState=F,g.childLanes=tg(s,I,l),i.memoizedState=Jp,d):(Yi(i),l=s.child,s=l.sibling,l=fi(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,s!==null&&(I=i.deletions,I===null?(i.deletions=[s],i.flags|=16):I.push(s)),i.child=l,i.memoizedState=null,l)}function ng(s,i){return i=Mh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Mh(s,i){return s=jr(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function rg(s,i,l){return Sl(i,s.child,null,l),s=ng(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Bb(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),wp(s.return,i,l)}function sg(s,i,l,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=g)}function Fb(s,i,l){var d=i.pendingProps,g=d.revealOrder,v=d.tail;if(Ln(s,i,d.children,l),d=wn.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bb(s,l,i);else if(s.tag===19)Bb(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(fe(wn,d),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&Ah(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),sg(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&Ah(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}sg(i,!0,l,null,v);break;case"together":sg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),ta|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(tu(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=fi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=fi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ig(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&hh(s)))}function VC(s,i,l){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Hi(i,bn,s.memoizedState.cache),Jc();break;case 27:case 5:Ze(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Hi(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Yi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Ub(s,i,l):(Yi(i),s=bi(s,i,l),s!==null?s.sibling:null);Yi(i);break;case 19:var g=(s.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(tu(s,i,l,!1),d=(l&i.childLanes)!==0),g){if(d)return Fb(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),fe(wn,wn.current),d)break;return null;case 22:case 23:return i.lanes=0,kb(s,i,l);case 24:Hi(i,bn,s.memoizedState.cache)}return bi(s,i,l)}function qb(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Cn=!0;else{if(!ig(s,l)&&(i.flags&128)===0)return Cn=!1,VC(s,i,l);Cn=(s.flags&131072)!==0}else Cn=!1,At&&(i.flags&1048576)!==0&&xx(i,dh,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")mp(d)?(s=_o(d,s),i.tag=1,i=Vb(null,i,d,s,l)):(i.tag=0,i=Zp(null,i,d,s,l));else{if(d!=null){if(g=d.$$typeof,g===j){i.tag=11,i=Mb(null,i,d,s,l);break e}else if(g===z){i.tag=14,i=Ob(null,i,d,s,l);break e}}throw i=se(d)||d,Error(r(306,i,""))}}return i;case 0:return Zp(s,i,i.type,i.pendingProps,l);case 1:return d=i.type,g=_o(d,i.pendingProps),Vb(s,i,d,g,l);case 3:e:{if(Se(i,i.stateNode.containerInfo),s===null)throw Error(r(387));d=i.pendingProps;var v=i.memoizedState;g=v.element,Ap(s,i),lu(i,d,null,l);var I=i.memoizedState;if(d=I.cache,Hi(i,bn,d),d!==v.cache&&_p(i,[bn],l,!0),ou(),d=I.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:I.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=zb(s,i,d,l);break e}else if(d!==g){g=Zr(Error(r(424)),i),eu(g),i=zb(s,i,d,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Jt=xs(s.firstChild),lr=i,At=!0,go=null,qs=!0,l=wb(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Jc(),d===g){i=bi(s,i,l);break e}Ln(s,i,d,l)}i=i.child}return i;case 26:return Ih(s,i),s===null?(l=Q1(i.type,null,i.pendingProps,null))?i.memoizedState=l:At||(l=i.type,s=i.pendingProps,d=Gh(_e.current).createElement(l),d[ve]=i,d[we]=s,zn(d,l,s),yt(d),i.stateNode=d):i.memoizedState=Q1(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&At&&(d=i.stateNode=H1(i.type,i.pendingProps,_e.current),lr=i,qs=!0,g=Jt,ia(i.type)?(zg=g,Jt=xs(d.firstChild)):Jt=g),Ln(s,i,i.pendingProps.children,l),Ih(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&At&&((g=d=Jt)&&(d=hA(d,i.type,i.pendingProps,qs),d!==null?(i.stateNode=d,lr=i,Jt=xs(d.firstChild),qs=!1,g=!0):g=!1),g||yo(i)),Ze(i),g=i.type,v=i.pendingProps,I=s!==null?s.memoizedProps:null,d=v.children,kg(g,v)?d=null:I!==null&&kg(g,I)&&(i.flags|=32),i.memoizedState!==null&&(g=Dp(s,i,jC,null,null,l),ju._currentValue=g),Ih(s,i),Ln(s,i,d,l),i.child;case 6:return s===null&&At&&((s=l=Jt)&&(l=fA(l,i.pendingProps,qs),l!==null?(i.stateNode=l,lr=i,Jt=null,s=!0):s=!1),s||yo(i)),null;case 13:return Ub(s,i,l);case 4:return Se(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=Sl(i,null,d,l):Ln(s,i,d,l),i.child;case 11:return Mb(s,i,i.type,i.pendingProps,l);case 7:return Ln(s,i,i.pendingProps,l),i.child;case 8:return Ln(s,i,i.pendingProps.children,l),i.child;case 12:return Ln(s,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,Hi(i,i.type,d.value),Ln(s,i,d.children,l),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,xo(i),g=Qn(g),d=d(g),i.flags|=1,Ln(s,i,d,l),i.child;case 14:return Ob(s,i,i.type,i.pendingProps,l);case 15:return Db(s,i,i.type,i.pendingProps,l);case 19:return Fb(s,i,l);case 31:return d=i.pendingProps,l=i.mode,d={mode:d.mode,children:d.children},s===null?(l=Mh(d,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=fi(s.child,d),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return kb(s,i,l);case 24:return xo(i),d=Qn(bn),s===null?(g=Sp(),g===null&&(g=Ft,v=Ep(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:d,cache:g},Cp(i),Hi(i,bn,g)):((s.lanes&l)!==0&&(Ap(s,i),lu(i,null,null,l),ou()),g=s.memoizedState,v=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Hi(i,bn,d)):(d=v.cache,Hi(i,bn,d),d!==g.cache&&_p(i,[bn],l,!0))),Ln(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function wi(s){s.flags|=4}function Hb(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Z1(i)){if(i=ns.current,i!==null&&((Et&4194048)===Et?Hs!==null:(Et&62914560)!==Et&&(Et&536870912)===0||i!==Hs))throw iu=Np,Cx;s.flags|=8192}}function Oh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?sr():536870912,s.lanes|=i,Rl|=i)}function pu(s,i){if(!At)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Xt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function zC(s,i,l){var d=i.pendingProps;switch(vp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(i),null;case 1:return Xt(i),null;case 3:return l=i.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),yi(bn),Xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Zc(i)?wi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_x())),Xt(i),null;case 26:return l=i.memoizedState,s===null?(wi(i),l!==null?(Xt(i),Hb(i,l)):(Xt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(wi(i),Xt(i),Hb(i,l)):(Xt(i),i.flags&=-16777217):(s.memoizedProps!==d&&wi(i),Xt(i),i.flags&=-16777217),null;case 27:Ot(i),l=_e.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==d&&wi(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return Xt(i),null}s=ue.current,Zc(i)?bx(i):(s=H1(g,d,l),i.stateNode=s,wi(i))}return Xt(i),null;case 5:if(Ot(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&wi(i);else{if(!d){if(i.stateNode===null)throw Error(r(166));return Xt(i),null}if(s=ue.current,Zc(i))bx(i);else{switch(g=Gh(_e.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}s[ve]=i,s[we]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(zn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wi(i)}}return Xt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==d&&wi(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(r(166));if(s=_e.current,Zc(i)){if(s=i.stateNode,l=i.memoizedProps,d=null,g=lr,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[ve]=i,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||L1(s.nodeValue,l)),s||yo(i)}else s=Gh(s).createTextNode(d),s[ve]=i,i.stateNode=s}return Xt(i),null;case 13:if(d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Zc(i),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[ve]=i}else Jc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xt(i),g=!1}else g=_x(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),Oh(i,i.updateQueue),Xt(i),null;case 4:return Xe(),s===null&&jg(i.stateNode.containerInfo),Xt(i),null;case 10:return yi(i.type),Xt(i),null;case 19:if(ge(wn),g=i.memoizedState,g===null)return Xt(i),null;if(d=(i.flags&128)!==0,v=g.rendering,v===null)if(d)pu(g,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=Ah(s),v!==null){for(i.flags|=128,pu(g,!1),s=v.updateQueue,i.updateQueue=s,Oh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)vx(l,s),l=l.sibling;return fe(wn,wn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Zt()>Ph&&(i.flags|=128,d=!0,pu(g,!1),i.lanes=4194304)}else{if(!d)if(s=Ah(v),s!==null){if(i.flags|=128,d=!0,s=s.updateQueue,i.updateQueue=s,Oh(i,s),pu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!At)return Xt(i),null}else 2*Zt()-g.renderingStartTime>Ph&&l!==536870912&&(i.flags|=128,d=!0,pu(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Zt(),i.sibling=null,s=wn.current,fe(wn,d?s&1|2:s&1),i):(Xt(i),null);case 22:case 23:return xi(i),Mp(),d=i.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Xt(i),i.subtreeFlags&6&&(i.flags|=8192)):Xt(i),l=i.updateQueue,l!==null&&Oh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),s!==null&&ge(bo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yi(bn),Xt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function UC(s,i){switch(vp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return yi(bn),Xe(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Ot(i),null;case 13:if(xi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Jc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ge(wn),null;case 4:return Xe(),null;case 10:return yi(i.type),null;case 22:case 23:return xi(i),Mp(),s!==null&&ge(bo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return yi(bn),null;case 25:return null;default:return null}}function $b(s,i){switch(vp(i),i.tag){case 3:yi(bn),Xe();break;case 26:case 27:case 5:Ot(i);break;case 4:Xe();break;case 13:xi(i);break;case 19:ge(wn);break;case 10:yi(i.type);break;case 22:case 23:xi(i),Mp(),s!==null&&ge(bo);break;case 24:yi(bn)}}function gu(s,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&s)===s){d=void 0;var v=l.create,I=l.inst;d=v(),I.destroy=d}l=l.next}while(l!==g)}}catch(F){Bt(i,i.return,F)}}function Wi(s,i,l){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&s)===s){var I=d.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,g=i;var Q=l,ie=F;try{ie()}catch(he){Bt(g,Q,he)}}}d=d.next}while(d!==v)}}catch(he){Bt(i,i.return,he)}}function Gb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Ox(i,l)}catch(d){Bt(s,s.return,d)}}}function Qb(s,i,l){l.props=_o(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){Bt(s,i,d)}}function yu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(g){Bt(s,i,g)}}function $s(s,i){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Bt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Bt(s,i,g)}else l.current=null}function Kb(s){var i=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Bt(s,s.return,g)}}function ag(s,i,l){try{var d=s.stateNode;oA(d,s.type,l,i),d[we]=i}catch(g){Bt(s,s.return,g)}}function Yb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ia(s.type)||s.tag===4}function og(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ia(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lg(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=$h));else if(d!==4&&(d===27&&ia(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(lg(s,i,l),s=s.sibling;s!==null;)lg(s,i,l),s=s.sibling}function Dh(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(d===27&&ia(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Dh(s,i,l),s=s.sibling;s!==null;)Dh(s,i,l),s=s.sibling}function Xb(s){var i=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);zn(i,d,l),i[ve]=s,i[we]=l}catch(v){Bt(s,s.return,v)}}var _i=!1,sn=!1,cg=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,An=null;function BC(s,i){if(s=s.containerInfo,Og=Zh,s=lx(s),op(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var I=0,F=-1,Q=-1,ie=0,he=0,xe=s,oe=null;t:for(;;){for(var ce;xe!==l||g!==0&&xe.nodeType!==3||(F=I+g),xe!==v||d!==0&&xe.nodeType!==3||(Q=I+d),xe.nodeType===3&&(I+=xe.nodeValue.length),(ce=xe.firstChild)!==null;)oe=xe,xe=ce;for(;;){if(xe===s)break t;if(oe===l&&++ie===g&&(F=I),oe===v&&++he===d&&(Q=I),(ce=xe.nextSibling)!==null)break;xe=oe,oe=xe.parentNode}xe=ce}l=F===-1||Q===-1?null:{start:F,end:Q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dg={focusedElem:s,selectionRange:l},Zh=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var Qe=_o(l.type,g,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Qe,v),d.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){Bt(l,l.return,Fe)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Lg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Lg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function Zb(s,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Zi(s,l),d&4&&gu(5,l);break;case 1:if(Zi(s,l),d&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(I){Bt(l,l.return,I)}else{var g=_o(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(I){Bt(l,l.return,I)}}d&64&&Gb(l),d&512&&yu(l,l.return);break;case 3:if(Zi(s,l),d&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Ox(s,i)}catch(I){Bt(l,l.return,I)}}break;case 27:i===null&&d&4&&Xb(l);case 26:case 5:Zi(s,l),i===null&&d&4&&Kb(l),d&512&&yu(l,l.return);break;case 12:Zi(s,l);break;case 13:Zi(s,l),d&4&&t1(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=XC.bind(null,l),mA(s,l))));break;case 22:if(d=l.memoizedState!==null||_i,!d){i=i!==null&&i.memoizedState!==null||sn,g=_i;var v=sn;_i=d,(sn=i)&&!v?Ji(s,l,(l.subtreeFlags&8772)!==0):Zi(s,l),_i=g,sn=v}break;case 30:break;default:Zi(s,l)}}function Jb(s){var i=s.alternate;i!==null&&(s.alternate=null,Jb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&ke(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Qt=null,yr=!1;function Ei(s,i,l){for(l=l.child;l!==null;)e1(s,i,l),l=l.sibling}function e1(s,i,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:sn||$s(l,i),Ei(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sn||$s(l,i);var d=Qt,g=yr;ia(l.type)&&(Qt=l.stateNode,yr=!1),Ei(s,i,l),Nu(l.stateNode),Qt=d,yr=g;break;case 5:sn||$s(l,i);case 6:if(d=Qt,g=yr,Qt=null,Ei(s,i,l),Qt=d,yr=g,Qt!==null)if(yr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(v){Bt(l,i,v)}else try{Qt.removeChild(l.stateNode)}catch(v){Bt(l,i,v)}break;case 18:Qt!==null&&(yr?(s=Qt,F1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Du(s)):F1(Qt,l.stateNode));break;case 4:d=Qt,g=yr,Qt=l.stateNode.containerInfo,yr=!0,Ei(s,i,l),Qt=d,yr=g;break;case 0:case 11:case 14:case 15:sn||Wi(2,l,i),sn||Wi(4,l,i),Ei(s,i,l);break;case 1:sn||($s(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Qb(l,i,d)),Ei(s,i,l);break;case 21:Ei(s,i,l);break;case 22:sn=(d=sn)||l.memoizedState!==null,Ei(s,i,l),sn=d;break;default:Ei(s,i,l)}}function t1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Du(s)}catch(l){Bt(i,i.return,l)}}function FC(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Wb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Wb),i;default:throw Error(r(435,s.tag))}}function ug(s,i){var l=FC(s);i.forEach(function(d){var g=WC.bind(null,s,d);l.has(d)||(l.add(d),d.then(g,g))})}function Ir(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],v=s,I=i,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(ia(F.type)){Qt=F.stateNode,yr=!1;break e}break;case 5:Qt=F.stateNode,yr=!1;break e;case 3:case 4:Qt=F.stateNode.containerInfo,yr=!0;break e}F=F.return}if(Qt===null)throw Error(r(160));e1(v,I,g),Qt=null,yr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)n1(i,s),i=i.sibling}var vs=null;function n1(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ir(i,s),Mr(s),d&4&&(Wi(3,s,s.return),gu(3,s),Wi(5,s,s.return));break;case 1:Ir(i,s),Mr(s),d&512&&(sn||l===null||$s(l,l.return)),d&64&&_i&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=vs;if(Ir(i,s),Mr(s),d&512&&(sn||l===null||$s(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Be]||v[ve]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),zn(v,d,l),v[ve]=s,yt(v),d=v;break e;case"link":var I=X1("link","href",g).get(d+(l.href||""));if(I){for(var F=0;F<I.length;F++)if(v=I[F],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(F,1);break t}}v=g.createElement(d),zn(v,d,l),g.head.appendChild(v);break;case"meta":if(I=X1("meta","content",g).get(d+(l.content||""))){for(F=0;F<I.length;F++)if(v=I[F],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(F,1);break t}}v=g.createElement(d),zn(v,d,l),g.head.appendChild(v);break;default:throw Error(r(468,d))}v[ve]=s,yt(v),d=v}s.stateNode=d}else W1(g,s.type,s.stateNode);else s.stateNode=Y1(g,d,s.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?W1(g,s.type,s.stateNode):Y1(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&ag(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ir(i,s),Mr(s),d&512&&(sn||l===null||$s(l,l.return)),l!==null&&d&4&&ag(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ir(i,s),Mr(s),d&512&&(sn||l===null||$s(l,l.return)),s.flags&32){g=s.stateNode;try{Kr(g,"")}catch(ce){Bt(s,s.return,ce)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,ag(s,g,l!==null?l.memoizedProps:g)),d&1024&&(cg=!0);break;case 6:if(Ir(i,s),Mr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(ce){Bt(s,s.return,ce)}}break;case 3:if(Yh=null,g=vs,vs=Qh(i.containerInfo),Ir(i,s),vs=g,Mr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Du(i.containerInfo)}catch(ce){Bt(s,s.return,ce)}cg&&(cg=!1,r1(s));break;case 4:d=vs,vs=Qh(s.stateNode.containerInfo),Ir(i,s),Mr(s),vs=d;break;case 12:Ir(i,s),Mr(s);break;case 13:Ir(i,s),Mr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gg=Zt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ug(s,d)));break;case 22:g=s.memoizedState!==null;var Q=l!==null&&l.memoizedState!==null,ie=_i,he=sn;if(_i=ie||g,sn=he||Q,Ir(i,s),sn=he,_i=ie,Mr(s),d&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||Q||_i||sn||Eo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){Q=l=i;try{if(v=Q.stateNode,g)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=Q.stateNode;var xe=Q.memoizedProps.style,oe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;F.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ce){Bt(Q,Q.return,ce)}}}else if(i.tag===6){if(l===null){Q=i;try{Q.stateNode.nodeValue=g?"":Q.memoizedProps}catch(ce){Bt(Q,Q.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,ug(s,l))));break;case 19:Ir(i,s),Mr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,ug(s,d)));break;case 30:break;case 21:break;default:Ir(i,s),Mr(s)}}function Mr(s){var i=s.flags;if(i&2){try{for(var l,d=s.return;d!==null;){if(Yb(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=og(s);Dh(s,v,g);break;case 5:var I=l.stateNode;l.flags&32&&(Kr(I,""),l.flags&=-33);var F=og(s);Dh(s,F,I);break;case 3:case 4:var Q=l.stateNode.containerInfo,ie=og(s);lg(s,ie,Q);break;default:throw Error(r(161))}}catch(he){Bt(s,s.return,he)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function r1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;r1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Zi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zb(s,i.alternate,i),i=i.sibling}function Eo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),Eo(i);break;case 1:$s(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Qb(i,i.return,l),Eo(i);break;case 27:Nu(i.stateNode);case 26:case 5:$s(i,i.return),Eo(i);break;case 22:i.memoizedState===null&&Eo(i);break;case 30:Eo(i);break;default:Eo(i)}s=s.sibling}}function Ji(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=s,v=i,I=v.flags;switch(v.tag){case 0:case 11:case 15:Ji(g,v,l),gu(4,v);break;case 1:if(Ji(g,v,l),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ie){Bt(d,d.return,ie)}if(d=v,g=d.updateQueue,g!==null){var F=d.stateNode;try{var Q=g.shared.hiddenCallbacks;if(Q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Q.length;g++)Mx(Q[g],F)}catch(ie){Bt(d,d.return,ie)}}l&&I&64&&Gb(v),yu(v,v.return);break;case 27:Xb(v);case 26:case 5:Ji(g,v,l),l&&d===null&&I&4&&Kb(v),yu(v,v.return);break;case 12:Ji(g,v,l);break;case 13:Ji(g,v,l),l&&I&4&&t1(g,v);break;case 22:v.memoizedState===null&&Ji(g,v,l),yu(v,v.return);break;case 30:break;default:Ji(g,v,l)}i=i.sibling}}function dg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&nu(l))}function hg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&nu(s))}function Gs(s,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s1(s,i,l,d),i=i.sibling}function s1(s,i,l,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Gs(s,i,l,d),g&2048&&gu(9,i);break;case 1:Gs(s,i,l,d);break;case 3:Gs(s,i,l,d),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&nu(s)));break;case 12:if(g&2048){Gs(s,i,l,d),s=i.stateNode;try{var v=i.memoizedProps,I=v.id,F=v.onPostCommit;typeof F=="function"&&F(I,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Bt(i,i.return,Q)}}else Gs(s,i,l,d);break;case 13:Gs(s,i,l,d);break;case 23:break;case 22:v=i.stateNode,I=i.alternate,i.memoizedState!==null?v._visibility&2?Gs(s,i,l,d):vu(s,i):v._visibility&2?Gs(s,i,l,d):(v._visibility|=2,Nl(s,i,l,d,(i.subtreeFlags&10256)!==0)),g&2048&&dg(I,i);break;case 24:Gs(s,i,l,d),g&2048&&hg(i.alternate,i);break;default:Gs(s,i,l,d)}}function Nl(s,i,l,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,I=i,F=l,Q=d,ie=I.flags;switch(I.tag){case 0:case 11:case 15:Nl(v,I,F,Q,g),gu(8,I);break;case 23:break;case 22:var he=I.stateNode;I.memoizedState!==null?he._visibility&2?Nl(v,I,F,Q,g):vu(v,I):(he._visibility|=2,Nl(v,I,F,Q,g)),g&&ie&2048&&dg(I.alternate,I);break;case 24:Nl(v,I,F,Q,g),g&&ie&2048&&hg(I.alternate,I);break;default:Nl(v,I,F,Q,g)}i=i.sibling}}function vu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,d=i,g=d.flags;switch(d.tag){case 22:vu(l,d),g&2048&&dg(d.alternate,d);break;case 24:vu(l,d),g&2048&&hg(d.alternate,d);break;default:vu(l,d)}i=i.sibling}}var xu=8192;function Cl(s){if(s.subtreeFlags&xu)for(s=s.child;s!==null;)i1(s),s=s.sibling}function i1(s){switch(s.tag){case 26:Cl(s),s.flags&xu&&s.memoizedState!==null&&CA(vs,s.memoizedState,s.memoizedProps);break;case 5:Cl(s);break;case 3:case 4:var i=vs;vs=Qh(s.stateNode.containerInfo),Cl(s),vs=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=xu,xu=16777216,Cl(s),xu=i):Cl(s));break;default:Cl(s)}}function a1(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function bu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];An=d,l1(d,s)}a1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o1(s),s=s.sibling}function o1(s){switch(s.tag){case 0:case 11:case 15:bu(s),s.flags&2048&&Wi(9,s,s.return);break;case 3:bu(s);break;case 12:bu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,kh(s)):bu(s);break;default:bu(s)}}function kh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];An=d,l1(d,s)}a1(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),kh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,kh(i));break;default:kh(i)}s=s.sibling}}function l1(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:Wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:nu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,An=d;else e:for(l=s;An!==null;){d=An;var g=d.sibling,v=d.return;if(Jb(d),d===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var qC={getCacheForType:function(s){var i=Qn(bn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},HC=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Ft=null,dt=null,Et=0,kt=0,Or=null,ea=!1,Al=!1,fg=!1,Ti=0,en=0,ta=0,To=0,mg=0,rs=0,Rl=0,wu=null,vr=null,pg=!1,gg=0,Ph=1/0,Lh=null,na=null,Vn=0,ra=null,jl=null,Il=0,yg=0,vg=null,c1=null,_u=0,xg=null;function Dr(){if((Dt&2)!==0&&Et!==0)return Et&-Et;if(G.T!==null){var s=vl;return s!==0?s:Ng()}return Y()}function u1(){rs===0&&(rs=(Et&536870912)===0||At?ln():536870912);var s=ns.current;return s!==null&&(s.flags|=32),rs}function kr(s,i,l){(s===Ft&&(kt===2||kt===9)||s.cancelPendingCommit!==null)&&(Ml(s,0),sa(s,Et,rs,!1)),$n(s,l),((Dt&2)===0||s!==Ft)&&(s===Ft&&((Dt&2)===0&&(To|=l),en===4&&sa(s,Et,rs,!1)),Qs(s))}function d1(s,i,l){if((Dt&6)!==0)throw Error(r(327));var d=!l&&(i&124)===0&&(i&s.expiredLanes)===0||gt(s,i),g=d?QC(s,i):_g(s,i,!0),v=d;do{if(g===0){Al&&!d&&sa(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!$C(l)){g=_g(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){i=I;e:{var F=s;g=wu;var Q=F.current.memoizedState.isDehydrated;if(Q&&(Ml(F,I).flags|=256),I=_g(F,I,!1),I!==2){if(fg&&!Q){F.errorRecoveryDisabledLanes|=v,To|=v,g=4;break e}v=vr,vr=g,v!==null&&(vr===null?vr=v:vr.push.apply(vr,v))}g=I}if(v=!1,g!==2)continue}}if(g===1){Ml(s,0),sa(s,i,0,!0);break}e:{switch(d=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:sa(d,i,rs,!ea);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=gg+300-Zt(),10<g)){if(sa(d,i,rs,!ea),rt(d,0,!0)!==0)break e;d.timeoutHandle=U1(h1.bind(null,d,l,vr,Lh,pg,i,rs,To,Rl,ea,v,2,-0,0),g);break e}h1(d,l,vr,Lh,pg,i,rs,To,Rl,ea,v,0,-0,0)}}break}while(!0);Qs(s)}function h1(s,i,l,d,g,v,I,F,Q,ie,he,xe,oe,ce){if(s.timeoutHandle=-1,xe=i.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:NA},i1(i),xe=AA(),xe!==null)){s.cancelPendingCommit=xe(x1.bind(null,s,i,v,l,d,g,I,F,Q,he,1,oe,ce)),sa(s,v,I,!ie);return}x1(s,i,v,l,d,g,I,F,Q)}function $C(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],v=g.getSnapshot;g=g.value;try{if(!Rr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sa(s,i,l,d){i&=~mg,i&=~To,s.suspendedLanes|=i,s.pingedLanes&=~i,d&&(s.warmLanes|=i),d=s.expirationTimes;for(var g=i;0<g;){var v=31-Kt(g),I=1<<v;d[v]=-1,g&=~I}l!==0&&Yt(s,l,i)}function Vh(){return(Dt&6)===0?(Eu(0),!1):!0}function bg(){if(dt!==null){if(kt===0)var s=dt.return;else s=dt,gi=vo=null,Lp(s),Tl=null,fu=0,s=dt;for(;s!==null;)$b(s.alternate,s),s=s.return;dt=null}}function Ml(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,cA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),bg(),Ft=s,dt=l=fi(s.current,null),Et=i,kt=0,Or=null,ea=!1,Al=gt(s,i),fg=!1,Rl=rs=mg=To=ta=en=0,vr=wu=null,pg=!1,(i&8)!==0&&(i|=i&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=i;0<d;){var g=31-Kt(d),v=1<<g;i|=s[g],d&=~v}return Ti=i,ah(),l}function f1(s,i){it=null,G.H=Sh,i===su||i===ph?(i=jx(),kt=3):i===Cx?(i=jx(),kt=4):kt=i===Ib?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Or=i,dt===null&&(en=1,jh(s,Zr(i,s.current)))}function m1(){var s=G.H;return G.H=Sh,s===null?Sh:s}function p1(){var s=G.A;return G.A=qC,s}function wg(){en=4,ea||(Et&4194048)!==Et&&ns.current!==null||(Al=!0),(ta&134217727)===0&&(To&134217727)===0||Ft===null||sa(Ft,Et,rs,!1)}function _g(s,i,l){var d=Dt;Dt|=2;var g=m1(),v=p1();(Ft!==s||Et!==i)&&(Lh=null,Ml(s,i)),i=!1;var I=en;e:do try{if(kt!==0&&dt!==null){var F=dt,Q=Or;switch(kt){case 8:bg(),I=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(i=!0);var ie=kt;if(kt=0,Or=null,Ol(s,F,Q,ie),l&&Al){I=0;break e}break;default:ie=kt,kt=0,Or=null,Ol(s,F,Q,ie)}}GC(),I=en;break}catch(he){f1(s,he)}while(!0);return i&&s.shellSuspendCounter++,gi=vo=null,Dt=d,G.H=g,G.A=v,dt===null&&(Ft=null,Et=0,ah()),I}function GC(){for(;dt!==null;)g1(dt)}function QC(s,i){var l=Dt;Dt|=2;var d=m1(),g=p1();Ft!==s||Et!==i?(Lh=null,Ph=Zt()+500,Ml(s,i)):Al=gt(s,i);e:do try{if(kt!==0&&dt!==null){i=dt;var v=Or;t:switch(kt){case 1:kt=0,Or=null,Ol(s,i,v,1);break;case 2:case 9:if(Ax(v)){kt=0,Or=null,y1(i);break}i=function(){kt!==2&&kt!==9||Ft!==s||(kt=7),Qs(s)},v.then(i,i);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:Ax(v)?(kt=0,Or=null,y1(i)):(kt=0,Or=null,Ol(s,i,v,7));break;case 5:var I=null;switch(dt.tag){case 26:I=dt.memoizedState;case 5:case 27:var F=dt;if(!I||Z1(I)){kt=0,Or=null;var Q=F.sibling;if(Q!==null)dt=Q;else{var ie=F.return;ie!==null?(dt=ie,zh(ie)):dt=null}break t}}kt=0,Or=null,Ol(s,i,v,5);break;case 6:kt=0,Or=null,Ol(s,i,v,6);break;case 8:bg(),en=6;break e;default:throw Error(r(462))}}KC();break}catch(he){f1(s,he)}while(!0);return gi=vo=null,G.H=d,G.A=g,Dt=l,dt!==null?0:(Ft=null,Et=0,ah(),en)}function KC(){for(;dt!==null&&!fr();)g1(dt)}function g1(s){var i=qb(s.alternate,s,Ti);s.memoizedProps=s.pendingProps,i===null?zh(s):dt=i}function y1(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Lb(l,i,i.pendingProps,i.type,void 0,Et);break;case 11:i=Lb(l,i,i.pendingProps,i.type.render,i.ref,Et);break;case 5:Lp(i);default:$b(l,i),i=dt=vx(i,Ti),i=qb(l,i,Ti)}s.memoizedProps=s.pendingProps,i===null?zh(s):dt=i}function Ol(s,i,l,d){gi=vo=null,Lp(i),Tl=null,fu=0;var g=i.return;try{if(LC(s,g,i,l,Et)){en=1,jh(s,Zr(l,s.current)),dt=null;return}}catch(v){if(g!==null)throw dt=g,v;en=1,jh(s,Zr(l,s.current)),dt=null;return}i.flags&32768?(At||d===1?s=!0:Al||(Et&536870912)!==0?s=!1:(ea=s=!0,(d===2||d===9||d===3||d===6)&&(d=ns.current,d!==null&&d.tag===13&&(d.flags|=16384))),v1(i,s)):zh(i)}function zh(s){var i=s;do{if((i.flags&32768)!==0){v1(i,ea);return}s=i.return;var l=zC(i.alternate,i,Ti);if(l!==null){dt=l;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=s}while(i!==null);en===0&&(en=5)}function v1(s,i){do{var l=UC(s.alternate,s);if(l!==null){l.flags&=32767,dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){dt=s;return}dt=s=l}while(s!==null);en=6,dt=null}function x1(s,i,l,d,g,v,I,F,Q){s.cancelPendingCommit=null;do Uh();while(Vn!==0);if((Dt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=hp,On(s,l,v,I,F,Q),s===Ft&&(dt=Ft=null,Et=0),jl=i,ra=s,Il=l,yg=v,vg=g,c1=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZC(ms,function(){return T1(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=G.T,G.T=null,g=$.p,$.p=2,I=Dt,Dt|=4;try{BC(s,i,l)}finally{Dt=I,$.p=g,G.T=d}}Vn=1,b1(),w1(),_1()}}function b1(){if(Vn===1){Vn=0;var s=ra,i=jl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var d=$.p;$.p=2;var g=Dt;Dt|=4;try{n1(i,s);var v=Dg,I=lx(s.containerInfo),F=v.focusedElem,Q=v.selectionRange;if(I!==F&&F&&F.ownerDocument&&ox(F.ownerDocument.documentElement,F)){if(Q!==null&&op(F)){var ie=Q.start,he=Q.end;if(he===void 0&&(he=ie),"selectionStart"in F)F.selectionStart=ie,F.selectionEnd=Math.min(he,F.value.length);else{var xe=F.ownerDocument||document,oe=xe&&xe.defaultView||window;if(oe.getSelection){var ce=oe.getSelection(),Qe=F.textContent.length,Fe=Math.min(Q.start,Qe),zt=Q.end===void 0?Fe:Math.min(Q.end,Qe);!ce.extend&&Fe>zt&&(I=zt,zt=Fe,Fe=I);var Z=ax(F,Fe),X=ax(F,zt);if(Z&&X&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var ne=xe.createRange();ne.setStart(Z.node,Z.offset),ce.removeAllRanges(),Fe>zt?(ce.addRange(ne),ce.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),ce.addRange(ne))}}}}for(xe=[],ce=F;ce=ce.parentNode;)ce.nodeType===1&&xe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<xe.length;F++){var pe=xe[F];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Zh=!!Og,Dg=Og=null}finally{Dt=g,$.p=d,G.T=l}}s.current=i,Vn=2}}function w1(){if(Vn===2){Vn=0;var s=ra,i=jl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var d=$.p;$.p=2;var g=Dt;Dt|=4;try{Zb(s,i.alternate,i)}finally{Dt=g,$.p=d,G.T=l}}Vn=3}}function _1(){if(Vn===4||Vn===3){Vn=0,tr();var s=ra,i=jl,l=Il,d=c1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vn=5:(Vn=0,jl=ra=null,E1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(na=null),Os(l),i=i.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(bt,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=G.T,g=$.p,$.p=2,G.T=null;try{for(var v=s.onRecoverableError,I=0;I<d.length;I++){var F=d[I];v(F.value,{componentStack:F.stack})}}finally{G.T=i,$.p=g}}(Il&3)!==0&&Uh(),Qs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===xg?_u++:(_u=0,xg=s):_u=0,Eu(0)}}function E1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,nu(i)))}function Uh(s){return b1(),w1(),_1(),T1()}function T1(){if(Vn!==5)return!1;var s=ra,i=yg;yg=0;var l=Os(Il),d=G.T,g=$.p;try{$.p=32>l?32:l,G.T=null,l=vg,vg=null;var v=ra,I=Il;if(Vn=0,jl=ra=null,Il=0,(Dt&6)!==0)throw Error(r(331));var F=Dt;if(Dt|=4,o1(v.current),s1(v,v.current,I,l),Dt=F,Eu(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(bt,v)}catch{}return!0}finally{$.p=g,G.T=d,E1(s,i)}}function S1(s,i,l){i=Zr(l,i),i=Wp(s.stateNode,i,2),s=Qi(s,i,2),s!==null&&($n(s,2),Qs(s))}function Bt(s,i,l){if(s.tag===3)S1(s,s,l);else for(;i!==null;){if(i.tag===3){S1(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(na===null||!na.has(d))){s=Zr(l,s),l=Rb(2),d=Qi(i,l,2),d!==null&&(jb(l,d,i,s),$n(d,2),Qs(d));break}}i=i.return}}function Eg(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new HC;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(l)||(fg=!0,g.add(l),s=YC.bind(null,s,i,l),i.then(s,s))}function YC(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ft===s&&(Et&l)===l&&(en===4||en===3&&(Et&62914560)===Et&&300>Zt()-gg?(Dt&2)===0&&Ml(s,0):mg|=l,Rl===Et&&(Rl=0)),Qs(s)}function N1(s,i){i===0&&(i=sr()),s=ml(s,i),s!==null&&($n(s,i),Qs(s))}function XC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),N1(s,l)}function WC(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(i),N1(s,l)}function ZC(s,i){return gn(s,i)}var Bh=null,Dl=null,Tg=!1,Fh=!1,Sg=!1,So=0;function Qs(s){s!==Dl&&s.next===null&&(Dl===null?Bh=Dl=s:Dl=Dl.next=s),Fh=!0,Tg||(Tg=!0,eA())}function Eu(s,i){if(!Sg&&Fh){Sg=!0;do for(var l=!1,d=Bh;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var I=d.suspendedLanes,F=d.pingedLanes;v=(1<<31-Kt(42|s)+1)-1,v&=g&~(I&~F),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,j1(d,v))}else v=Et,v=rt(d,d===Ft?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||gt(d,v)||(l=!0,j1(d,v));d=d.next}while(l);Sg=!1}}function JC(){C1()}function C1(){Fh=Tg=!1;var s=0;So!==0&&(lA()&&(s=So),So=0);for(var i=Zt(),l=null,d=Bh;d!==null;){var g=d.next,v=A1(d,i);v===0?(d.next=null,l===null?Bh=g:l.next=g,g===null&&(Dl=l)):(l=d,(s!==0||(v&3)!==0)&&(Fh=!0)),d=g}Eu(s)}function A1(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var I=31-Kt(v),F=1<<I,Q=g[I];Q===-1?((F&l)===0||(F&d)!==0)&&(g[I]=$t(F,i)):Q<=i&&(s.expiredLanes|=F),v&=~F}if(i=Ft,l=Et,l=rt(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===i&&(kt===2||kt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ht(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||gt(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(d!==null&&Ht(d),Os(l)){case 2:case 8:l=Is;break;case 32:l=ms;break;case 268435456:l=rr;break;default:l=ms}return d=R1.bind(null,s),l=gn(l,d),s.callbackPriority=i,s.callbackNode=l,i}return d!==null&&d!==null&&Ht(d),s.callbackPriority=2,s.callbackNode=null,2}function R1(s,i){if(Vn!==0&&Vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Uh()&&s.callbackNode!==l)return null;var d=Et;return d=rt(s,s===Ft?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(d1(s,d,i),A1(s,Zt()),s.callbackNode!=null&&s.callbackNode===l?R1.bind(null,s):null)}function j1(s,i){if(Uh())return null;d1(s,i,!0)}function eA(){uA(function(){(Dt&6)!==0?gn(js,JC):C1()})}function Ng(){return So===0&&(So=ln()),So}function I1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:nl(""+s)}function M1(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function tA(s,i,l,d,g){if(i==="submit"&&l&&l.stateNode===g){var v=I1((g[we]||null).action),I=d.submitter;I&&(i=(i=I[we]||null)?I1(i.formAction):I.getAttribute("formAction"),i!==null&&(v=i,I=null));var F=new rl("action","action",null,d,g);s.push({event:F,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(So!==0){var Q=I?M1(g,I):new FormData(g);Gp(l,{pending:!0,data:Q,method:g.method,action:v},null,Q)}}else typeof v=="function"&&(F.preventDefault(),Q=I?M1(g,I):new FormData(g),Gp(l,{pending:!0,data:Q,method:g.method,action:v},v,Q))},currentTarget:g}]})}}for(var Cg=0;Cg<dp.length;Cg++){var Ag=dp[Cg],nA=Ag.toLowerCase(),rA=Ag[0].toUpperCase()+Ag.slice(1);ys(nA,"on"+rA)}ys(dx,"onAnimationEnd"),ys(hx,"onAnimationIteration"),ys(fx,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(bC,"onTransitionRun"),ys(wC,"onTransitionStart"),ys(_C,"onTransitionCancel"),ys(mx,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function O1(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],g=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var I=d.length-1;0<=I;I--){var F=d[I],Q=F.instance,ie=F.currentTarget;if(F=F.listener,Q!==v&&g.isPropagationStopped())break e;v=F,g.currentTarget=ie;try{v(g)}catch(he){Rh(he)}g.currentTarget=null,v=Q}else for(I=0;I<d.length;I++){if(F=d[I],Q=F.instance,ie=F.currentTarget,F=F.listener,Q!==v&&g.isPropagationStopped())break e;v=F,g.currentTarget=ie;try{v(g)}catch(he){Rh(he)}g.currentTarget=null,v=Q}}}}function ht(s,i){var l=i[Ue];l===void 0&&(l=i[Ue]=new Set);var d=s+"__bubble";l.has(d)||(D1(i,s,2,!1),l.add(d))}function Rg(s,i,l){var d=0;i&&(d|=4),D1(l,s,d,i)}var qh="_reactListening"+Math.random().toString(36).slice(2);function jg(s){if(!s[qh]){s[qh]=!0,ot.forEach(function(l){l!=="selectionchange"&&(sA.has(l)||Rg(l,!1,s),Rg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[qh]||(i[qh]=!0,Rg("selectionchange",!1,i))}}function D1(s,i,l,d){switch(sw(i)){case 2:var g=IA;break;case 8:g=MA;break;default:g=Hg}l=g.bind(null,i,l,s),g=void 0,!Xr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Ig(s,i,l,d,g){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var F=d.stateNode.containerInfo;if(F===g)break;if(I===4)for(I=d.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;F!==null;){if(I=qe(F),I===null)return;if(Q=I.tag,Q===5||Q===6||Q===26||Q===27){d=v=I;continue e}F=F.parentNode}}d=d.return}$d(function(){var ie=v,he=Yr(l),xe=[];e:{var oe=px.get(s);if(oe!==void 0){var ce=rl,Qe=s;switch(s){case"keypress":if(Vs(l)===0)break e;case"keydown":case"keyup":ce=cl;break;case"focusin":Qe="focus",ce=al;break;case"focusout":Qe="blur",ce=al;break;case"beforeblur":case"afterblur":ce=al;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Jd;break;case dx:case hx:case fx:ce=ol;break;case mx:ce=th;break;case"scroll":case"scrollend":ce=Gd;break;case"wheel":ce=ul;break;case"copy":case"cut":case"paste":ce=ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Kc;break;case"toggle":case"beforetoggle":ce=rh}var Fe=(i&4)!==0,zt=!Fe&&(s==="scroll"||s==="scrollend"),Z=Fe?oe!==null?oe+"Capture":null:oe;Fe=[];for(var X=ie,ne;X!==null;){var pe=X;if(ne=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ne===null||Z===null||(pe=ro(X,Z),pe!=null&&Fe.push(Su(X,pe,ne))),zt)break;X=X.return}0<Fe.length&&(oe=new ce(oe,Qe,null,l,he),xe.push({event:oe,listeners:Fe}))}}if((i&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",oe&&l!==oi&&(Qe=l.relatedTarget||l.fromElement)&&(qe(Qe)||Qe[Ae]))break e;if((ce||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,ce?(Qe=l.relatedTarget||l.toElement,ce=ie,Qe=Qe?qe(Qe):null,Qe!==null&&(zt=o(Qe),Fe=Qe.tag,Qe!==zt||Fe!==5&&Fe!==27&&Fe!==6)&&(Qe=null)):(ce=null,Qe=ie),ce!==Qe)){if(Fe=Wr,pe="onMouseLeave",Z="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=Kc,pe="onPointerLeave",Z="onPointerEnter",X="pointer"),zt=ce==null?oe:Rt(ce),ne=Qe==null?oe:Rt(Qe),oe=new Fe(pe,X+"leave",ce,l,he),oe.target=zt,oe.relatedTarget=ne,pe=null,qe(he)===ie&&(Fe=new Fe(Z,X+"enter",Qe,l,he),Fe.target=ne,Fe.relatedTarget=zt,pe=Fe),zt=pe,ce&&Qe)t:{for(Fe=ce,Z=Qe,X=0,ne=Fe;ne;ne=kl(ne))X++;for(ne=0,pe=Z;pe;pe=kl(pe))ne++;for(;0<X-ne;)Fe=kl(Fe),X--;for(;0<ne-X;)Z=kl(Z),ne--;for(;X--;){if(Fe===Z||Z!==null&&Fe===Z.alternate)break t;Fe=kl(Fe),Z=kl(Z)}Fe=null}else Fe=null;ce!==null&&k1(xe,oe,ce,Fe,!1),Qe!==null&&zt!==null&&k1(xe,zt,Qe,Fe,!0)}}e:{if(oe=ie?Rt(ie):window,ce=oe.nodeName&&oe.nodeName.toLowerCase(),ce==="select"||ce==="input"&&oe.type==="file")var je=ex;else if(xn(oe))if(tx)je=yC;else{je=pC;var lt=mC}else ce=oe.nodeName,!ce||ce.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Bc(ie.elementType)&&(je=ex):je=gC;if(je&&(je=je(s,ie))){hi(xe,je,l,he);break e}lt&&lt(s,oe,ie),s==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Fi(oe,"number",oe.value)}switch(lt=ie?Rt(ie):window,s){case"focusin":(xn(lt)||lt.contentEditable==="true")&&(dl=lt,lp=ie,Wc=null);break;case"focusout":Wc=lp=dl=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,cx(xe,l,he);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":cx(xe,l,he)}var Le;if(Bs)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else wt?de(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(A&&l.locale!=="ko"&&(wt||He!=="onCompositionStart"?He==="onCompositionEnd"&&wt&&(Le=qc()):(Ls=he,qi="value"in Ls?Ls.value:Ls.textContent,wt=!0)),lt=Hh(ie,He),0<lt.length&&(He=new Gc(He,s,null,l,he),xe.push({event:He,listeners:lt}),Le?He.data=Le:(Le=Te(l),Le!==null&&(He.data=Le)))),(Le=_?vn(s,l):_t(s,l))&&(He=Hh(ie,"onBeforeInput"),0<He.length&&(lt=new Gc("onBeforeInput","beforeinput",null,l,he),xe.push({event:lt,listeners:He}),lt.data=Le)),tA(xe,s,ie,l,he)}O1(xe,i)})}function Su(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Hh(s,i){for(var l=i+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ro(s,l),g!=null&&d.unshift(Su(s,g,v)),g=ro(s,i),g!=null&&d.push(Su(s,g,v))),s.tag===3)return d;s=s.return}return[]}function kl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function k1(s,i,l,d,g){for(var v=i._reactName,I=[];l!==null&&l!==d;){var F=l,Q=F.alternate,ie=F.stateNode;if(F=F.tag,Q!==null&&Q===d)break;F!==5&&F!==26&&F!==27||ie===null||(Q=ie,g?(ie=ro(l,v),ie!=null&&I.unshift(Su(l,ie,Q))):g||(ie=ro(l,v),ie!=null&&I.push(Su(l,ie,Q)))),l=l.return}I.length!==0&&s.push({event:i,listeners:I})}var iA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function P1(s){return(typeof s=="string"?s:""+s).replace(iA,`
`).replace(aA,"")}function L1(s,i){return i=P1(i),P1(s)===i}function $h(){}function Vt(s,i,l,d,g,v){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Kr(s,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Kr(s,""+d);break;case"className":ar(s,"class",d);break;case"tabIndex":ar(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(s,l,d);break;case"style":Uc(s,d,v);break;case"data":if(i!=="object"){ar(s,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=nl(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Vt(s,i,"name",g.name,g,null),Vt(s,i,"formEncType",g.formEncType,g,null),Vt(s,i,"formMethod",g.formMethod,g,null),Vt(s,i,"formTarget",g.formTarget,g,null)):(Vt(s,i,"encType",g.encType,g,null),Vt(s,i,"method",g.method,g,null),Vt(s,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=nl(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=$h);break;case"onScroll":d!=null&&ht("scroll",s);break;case"onScrollEnd":d!=null&&ht("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=nl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":ht("beforetoggle",s),ht("toggle",s),Gn(s,"popover",d);break;case"xlinkActuate":Ye(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ye(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ye(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ye(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ye(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ye(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Gn(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=tp.get(l)||l,Gn(s,l,d))}}function Mg(s,i,l,d,g,v){switch(l){case"style":Uc(s,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof d=="string"?Kr(s,d):(typeof d=="number"||typeof d=="bigint")&&Kr(s,""+d);break;case"onScroll":d!=null&&ht("scroll",s);break;case"onScrollEnd":d!=null&&ht("scrollend",s);break;case"onClick":d!=null&&(s.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[we]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,d,g);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):Gn(s,l,d)}}}function zn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",s),ht("load",s);var d=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var I=l[v];if(I!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Vt(s,i,v,I,l,null)}}g&&Vt(s,i,"srcSet",l.srcSet,l,null),d&&Vt(s,i,"src",l.src,l,null);return;case"input":ht("invalid",s);var F=v=I=g=null,Q=null,ie=null;for(d in l)if(l.hasOwnProperty(d)){var he=l[d];if(he!=null)switch(d){case"name":g=he;break;case"type":I=he;break;case"checked":Q=he;break;case"defaultChecked":ie=he;break;case"value":v=he;break;case"defaultValue":F=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,i));break;default:Vt(s,i,d,he,l,null)}}eo(s,v,F,Q,ie,I,g,!1),tl(s);return;case"select":ht("invalid",s),d=I=v=null;for(g in l)if(l.hasOwnProperty(g)&&(F=l[g],F!=null))switch(g){case"value":v=F;break;case"defaultValue":I=F;break;case"multiple":d=F;default:Vt(s,i,g,F,l,null)}i=v,l=I,s.multiple=!!d,i!=null?ai(s,!!d,i,!1):l!=null&&ai(s,!!d,l,!0);return;case"textarea":ht("invalid",s),v=g=d=null;for(I in l)if(l.hasOwnProperty(I)&&(F=l[I],F!=null))switch(I){case"value":d=F;break;case"defaultValue":g=F;break;case"children":v=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Vt(s,i,I,F,l,null)}to(s,d,g,v),tl(s);return;case"option":for(Q in l)if(l.hasOwnProperty(Q)&&(d=l[Q],d!=null))switch(Q){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Vt(s,i,Q,d,l,null)}return;case"dialog":ht("beforetoggle",s),ht("toggle",s),ht("cancel",s),ht("close",s);break;case"iframe":case"object":ht("load",s);break;case"video":case"audio":for(d=0;d<Tu.length;d++)ht(Tu[d],s);break;case"image":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"embed":case"source":case"link":ht("error",s),ht("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(d=l[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Vt(s,i,ie,d,l,null)}return;default:if(Bc(i)){for(he in l)l.hasOwnProperty(he)&&(d=l[he],d!==void 0&&Mg(s,i,he,d,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(d=l[F],d!=null&&Vt(s,i,F,d,l,null))}function oA(s,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,I=null,F=null,Q=null,ie=null,he=null;for(ce in l){var xe=l[ce];if(l.hasOwnProperty(ce)&&xe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":Q=xe;default:d.hasOwnProperty(ce)||Vt(s,i,ce,null,d,xe)}}for(var oe in d){var ce=d[oe];if(xe=l[oe],d.hasOwnProperty(oe)&&(ce!=null||xe!=null))switch(oe){case"type":v=ce;break;case"name":g=ce;break;case"checked":ie=ce;break;case"defaultChecked":he=ce;break;case"value":I=ce;break;case"defaultValue":F=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,i));break;default:ce!==xe&&Vt(s,i,oe,ce,d,xe)}}Ar(s,I,F,Q,ie,he,v,g);return;case"select":ce=I=F=oe=null;for(v in l)if(Q=l[v],l.hasOwnProperty(v)&&Q!=null)switch(v){case"value":break;case"multiple":ce=Q;default:d.hasOwnProperty(v)||Vt(s,i,v,null,d,Q)}for(g in d)if(v=d[g],Q=l[g],d.hasOwnProperty(g)&&(v!=null||Q!=null))switch(g){case"value":oe=v;break;case"defaultValue":F=v;break;case"multiple":I=v;default:v!==Q&&Vt(s,i,g,v,d,Q)}i=F,l=I,d=ce,oe!=null?ai(s,!!l,oe,!1):!!d!=!!l&&(i!=null?ai(s,!!l,i,!0):ai(s,!!l,l?[]:"",!1));return;case"textarea":ce=oe=null;for(F in l)if(g=l[F],l.hasOwnProperty(F)&&g!=null&&!d.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Vt(s,i,F,null,d,g)}for(I in d)if(g=d[I],v=l[I],d.hasOwnProperty(I)&&(g!=null||v!=null))switch(I){case"value":oe=g;break;case"defaultValue":ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Vt(s,i,I,g,d,v)}Pt(s,oe,ce);return;case"option":for(var Qe in l)if(oe=l[Qe],l.hasOwnProperty(Qe)&&oe!=null&&!d.hasOwnProperty(Qe))switch(Qe){case"selected":s.selected=!1;break;default:Vt(s,i,Qe,null,d,oe)}for(Q in d)if(oe=d[Q],ce=l[Q],d.hasOwnProperty(Q)&&oe!==ce&&(oe!=null||ce!=null))switch(Q){case"selected":s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Vt(s,i,Q,oe,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)oe=l[Fe],l.hasOwnProperty(Fe)&&oe!=null&&!d.hasOwnProperty(Fe)&&Vt(s,i,Fe,null,d,oe);for(ie in d)if(oe=d[ie],ce=l[ie],d.hasOwnProperty(ie)&&oe!==ce&&(oe!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,i));break;default:Vt(s,i,ie,oe,d,ce)}return;default:if(Bc(i)){for(var zt in l)oe=l[zt],l.hasOwnProperty(zt)&&oe!==void 0&&!d.hasOwnProperty(zt)&&Mg(s,i,zt,void 0,d,oe);for(he in d)oe=d[he],ce=l[he],!d.hasOwnProperty(he)||oe===ce||oe===void 0&&ce===void 0||Mg(s,i,he,oe,d,ce);return}}for(var Z in l)oe=l[Z],l.hasOwnProperty(Z)&&oe!=null&&!d.hasOwnProperty(Z)&&Vt(s,i,Z,null,d,oe);for(xe in d)oe=d[xe],ce=l[xe],!d.hasOwnProperty(xe)||oe===ce||oe==null&&ce==null||Vt(s,i,xe,oe,d,ce)}var Og=null,Dg=null;function Gh(s){return s.nodeType===9?s:s.ownerDocument}function V1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z1(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function kg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pg=null;function lA(){var s=window.event;return s&&s.type==="popstate"?s===Pg?!1:(Pg=s,!0):(Pg=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(s){return B1.resolve(null).then(s).catch(dA)}:U1;function dA(s){setTimeout(function(){throw s})}function ia(s){return s==="head"}function F1(s,i){var l=i,d=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<d&&8>d){l=d;var I=s.ownerDocument;if(l&1&&Nu(I.documentElement),l&2&&Nu(I.body),l&4)for(l=I.head,Nu(l),I=l.firstChild;I;){var F=I.nextSibling,Q=I.nodeName;I[Be]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=F}}if(g===0){s.removeChild(v),Du(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=v}while(l);Du(i)}function Lg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lg(l),ke(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function hA(s,i,l,d){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Be])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=xs(s.nextSibling),s===null)break}return null}function fA(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=xs(s.nextSibling),s===null))return null;return s}function Vg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function mA(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function xs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var zg=null;function q1(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function H1(s,i,l){switch(i=Gh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Nu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);ke(s)}var ss=new Map,$1=new Set;function Qh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Si=$.d;$.d={f:pA,r:gA,D:yA,C:vA,L:xA,m:bA,X:_A,S:wA,M:EA};function pA(){var s=Si.f(),i=Vh();return s||i}function gA(s){var i=ut(s);i!==null&&i.tag===5&&i.type==="form"?db(i):Si.r(s)}var Pl=typeof document>"u"?null:document;function G1(s,i,l){var d=Pl;if(d&&typeof i=="string"&&i){var g=un(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),$1.has(g)||($1.add(g),s={rel:s,crossOrigin:l,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),zn(i,"link",s),yt(i),d.head.appendChild(i)))}}function yA(s){Si.D(s),G1("dns-prefetch",s,null)}function vA(s,i){Si.C(s,i),G1("preconnect",s,i)}function xA(s,i,l){Si.L(s,i,l);var d=Pl;if(d&&s&&i){var g='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+un(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+un(l.imageSizes)+'"]')):g+='[href="'+un(s)+'"]';var v=g;switch(i){case"style":v=Ll(s);break;case"script":v=Vl(s)}ss.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),ss.set(v,s),d.querySelector(g)!==null||i==="style"&&d.querySelector(Cu(v))||i==="script"&&d.querySelector(Au(v))||(i=d.createElement("link"),zn(i,"link",s),yt(i),d.head.appendChild(i)))}}function bA(s,i){Si.m(s,i);var l=Pl;if(l&&s){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+un(d)+'"][href="'+un(s)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Vl(s)}if(!ss.has(v)&&(s=y({rel:"modulepreload",href:s},i),ss.set(v,s),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Au(v)))return}d=l.createElement("link"),zn(d,"link",s),yt(d),l.head.appendChild(d)}}}function wA(s,i,l){Si.S(s,i,l);var d=Pl;if(d&&s){var g=Nt(d).hoistableStyles,v=Ll(s);i=i||"default";var I=g.get(v);if(!I){var F={loading:0,preload:null};if(I=d.querySelector(Cu(v)))F.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=ss.get(v))&&Ug(s,l);var Q=I=d.createElement("link");yt(Q),zn(Q,"link",s),Q._p=new Promise(function(ie,he){Q.onload=ie,Q.onerror=he}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Kh(I,i,d)}I={type:"stylesheet",instance:I,count:1,state:F},g.set(v,I)}}}function _A(s,i){Si.X(s,i);var l=Pl;if(l&&s){var d=Nt(l).hoistableScripts,g=Vl(s),v=d.get(g);v||(v=l.querySelector(Au(g)),v||(s=y({src:s,async:!0},i),(i=ss.get(g))&&Bg(s,i),v=l.createElement("script"),yt(v),zn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function EA(s,i){Si.M(s,i);var l=Pl;if(l&&s){var d=Nt(l).hoistableScripts,g=Vl(s),v=d.get(g);v||(v=l.querySelector(Au(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=ss.get(g))&&Bg(s,i),v=l.createElement("script"),yt(v),zn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function Q1(s,i,l,d){var g=(g=_e.current)?Qh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ll(l.href),l=Nt(g).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ll(l.href);var v=Nt(g).hoistableStyles,I=v.get(s);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,I),(v=g.querySelector(Cu(s)))&&!v._p&&(I.instance=v,I.state.loading=5),ss.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ss.set(s,l),v||TA(g,s,l,I.state))),i&&d===null)throw Error(r(528,""));return I}if(i&&d!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vl(l),l=Nt(g).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ll(s){return'href="'+un(s)+'"'}function Cu(s){return'link[rel="stylesheet"]['+s+"]"}function K1(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function TA(s,i,l,d){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=s.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),zn(i,"link",l),yt(i),s.head.appendChild(i))}function Vl(s){return'[src="'+un(s)+'"]'}function Au(s){return"script[async]"+s}function Y1(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=s.querySelector('style[data-href~="'+un(l.href)+'"]');if(d)return i.instance=d,yt(d),d;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),yt(d),zn(d,"style",g),Kh(d,l.precedence,s),i.instance=d;case"stylesheet":g=Ll(l.href);var v=s.querySelector(Cu(g));if(v)return i.state.loading|=4,i.instance=v,yt(v),v;d=K1(l),(g=ss.get(g))&&Ug(d,g),v=(s.ownerDocument||s).createElement("link"),yt(v);var I=v;return I._p=new Promise(function(F,Q){I.onload=F,I.onerror=Q}),zn(v,"link",d),i.state.loading|=4,Kh(v,l.precedence,s),i.instance=v;case"script":return v=Vl(l.src),(g=s.querySelector(Au(v)))?(i.instance=g,yt(g),g):(d=l,(g=ss.get(v))&&(d=y({},l),Bg(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),yt(g),zn(g,"link",d),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Kh(d,l.precedence,s));return i.instance}function Kh(s,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,I=0;I<d.length;I++){var F=d[I];if(F.dataset.precedence===i)v=F;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Ug(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Bg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Yh=null;function X1(s,i,l){if(Yh===null){var d=new Map,g=Yh=new Map;g.set(l,d)}else g=Yh,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Be]||v[ve]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(i)||"";I=s+I;var F=d.get(I);F?F.push(v):d.set(I,[v])}}return d}function W1(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function SA(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ru=null;function NA(){}function CA(s,i,l){if(Ru===null)throw Error(r(475));var d=Ru;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Ll(l.href),v=s.querySelector(Cu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Xh.bind(d),s.then(d,d)),i.state.loading|=4,i.instance=v,yt(v);return}v=s.ownerDocument||s,l=K1(l),(g=ss.get(g))&&Ug(l,g),v=v.createElement("link"),yt(v);var I=v;I._p=new Promise(function(F,Q){I.onload=F,I.onerror=Q}),zn(v,"link",l),i.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Xh.bind(d),s.addEventListener("load",i),s.addEventListener("error",i))}}function AA(){if(Ru===null)throw Error(r(475));var s=Ru;return s.stylesheets&&s.count===0&&Fg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Fg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)Fg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wh=null;function Fg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wh=new Map,i.forEach(RA,s),Wh=null,Xh.call(s))}function RA(s,i){if(!(i.state.loading&4)){var l=Wh.get(s);if(l)var d=l.get(null);else{l=new Map,Wh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var I=g[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),d=I)}d&&l.set(null,d)}g=i.instance,I=g.getAttribute("data-precedence"),v=l.get(I)||d,v===d&&l.set(null,g),l.set(I,g),this.count++,d=Xh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var ju={$$typeof:w,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function jA(s,i,l,d,g,v,I,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function J1(s,i,l,d,g,v,I,F,Q,ie,he,xe){return s=new jA(s,i,l,I,F,Q,ie,xe),i=1,v===!0&&(i|=24),v=jr(3,null,null,i),s.current=v,v.stateNode=s,i=Ep(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:i},Cp(v),s}function ew(s){return s?(s=pl,s):pl}function tw(s,i,l,d,g,v){g=ew(g),d.context===null?d.context=g:d.pendingContext=g,d=Gi(i),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=Qi(s,d,i),l!==null&&(kr(l,s,i),au(l,s,i))}function nw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function qg(s,i){nw(s,i),(s=s.alternate)&&nw(s,i)}function rw(s){if(s.tag===13){var i=ml(s,67108864);i!==null&&kr(i,s,67108864),qg(s,67108864)}}var Zh=!0;function IA(s,i,l,d){var g=G.T;G.T=null;var v=$.p;try{$.p=2,Hg(s,i,l,d)}finally{$.p=v,G.T=g}}function MA(s,i,l,d){var g=G.T;G.T=null;var v=$.p;try{$.p=8,Hg(s,i,l,d)}finally{$.p=v,G.T=g}}function Hg(s,i,l,d){if(Zh){var g=$g(d);if(g===null)Ig(s,i,d,Jh,l),iw(s,d);else if(DA(g,s,i,l,d))d.stopPropagation();else if(iw(s,d),i&4&&-1<OA.indexOf(s)){for(;g!==null;){var v=ut(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=Me(v.pendingLanes);if(I!==0){var F=v;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var Q=1<<31-Kt(I);F.entanglements[1]|=Q,I&=~Q}Qs(v),(Dt&6)===0&&(Ph=Zt()+500,Eu(0))}}break;case 13:F=ml(v,2),F!==null&&kr(F,v,2),Vh(),qg(v,2)}if(v=$g(d),v===null&&Ig(s,i,d,Jh,l),v===g)break;g=v}g!==null&&d.stopPropagation()}else Ig(s,i,d,null,l)}}function $g(s){return s=Yr(s),Gg(s)}var Jh=null;function Gg(s){if(Jh=null,s=qe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Jh=s,null}function sw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case js:return 2;case Is:return 8;case ms:case nr:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Qg=!1,aa=null,oa=null,la=null,Iu=new Map,Mu=new Map,ca=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iw(s,i){switch(s){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Iu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(i.pointerId)}}function Ou(s,i,l,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},i!==null&&(i=ut(i),i!==null&&rw(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function DA(s,i,l,d,g){switch(i){case"focusin":return aa=Ou(aa,s,i,l,d,g),!0;case"dragenter":return oa=Ou(oa,s,i,l,d,g),!0;case"mouseover":return la=Ou(la,s,i,l,d,g),!0;case"pointerover":var v=g.pointerId;return Iu.set(v,Ou(Iu.get(v)||null,s,i,l,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Mu.set(v,Ou(Mu.get(v)||null,s,i,l,d,g)),!0}return!1}function aw(s){var i=qe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,J(s.priority,function(){if(l.tag===13){var d=Dr();d=Sr(d);var g=ml(l,d);g!==null&&kr(g,l,d),qg(l,d)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ef(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=$g(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);oi=d,l.target.dispatchEvent(d),oi=null}else return i=ut(l),i!==null&&rw(i),s.blockedOn=l,!1;i.shift()}return!0}function ow(s,i,l){ef(s)&&l.delete(i)}function kA(){Qg=!1,aa!==null&&ef(aa)&&(aa=null),oa!==null&&ef(oa)&&(oa=null),la!==null&&ef(la)&&(la=null),Iu.forEach(ow),Mu.forEach(ow)}function tf(s,i){s.blockedOn===i&&(s.blockedOn=null,Qg||(Qg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kA)))}var nf=null;function lw(s){nf!==s&&(nf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nf===s&&(nf=null);for(var i=0;i<s.length;i+=3){var l=s[i],d=s[i+1],g=s[i+2];if(typeof d!="function"){if(Gg(d||l)===null)continue;break}var v=ut(l);v!==null&&(s.splice(i,3),i-=3,Gp(v,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Du(s){function i(Q){return tf(Q,s)}aa!==null&&tf(aa,s),oa!==null&&tf(oa,s),la!==null&&tf(la,s),Iu.forEach(i),Mu.forEach(i);for(var l=0;l<ca.length;l++){var d=ca[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<ca.length&&(l=ca[0],l.blockedOn===null);)aw(l),l.blockedOn===null&&ca.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],v=l[d+1],I=g[we]||null;if(typeof v=="function")I||lw(l);else if(I){var F=null;if(v&&v.hasAttribute("formAction")){if(g=v,I=v[we]||null)F=I.formAction;else if(Gg(g)!==null)continue}else F=I.action;typeof F=="function"?l[d+1]=F:(l.splice(d,3),d-=3),lw(l)}}}function Kg(s){this._internalRoot=s}rf.prototype.render=Kg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,d=Dr();tw(l,d,s,i,null,null)},rf.prototype.unmount=Kg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;tw(s.current,2,null,s,null,null),Vh(),i[Ae]=null}};function rf(s){this._internalRoot=s}rf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Y();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ca.length&&i!==0&&i<ca[l].priority;l++);ca.splice(l,0,s),l===0&&aw(s)}};var cw=e.version;if(cw!=="19.1.0")throw Error(r(527,cw,"19.1.0"));$.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var PA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{bt=sf.inject(PA),et=sf}catch{}}return Pu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,d="",g=Sb,v=Nb,I=Cb,F=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(I=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks)),i=J1(s,1,!1,null,null,l,d,g,v,I,F,null),s[Ae]=i.current,jg(s),new Kg(i)},Pu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var d=!1,g="",v=Sb,I=Nb,F=Cb,Q=null,ie=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks),l.formState!==void 0&&(ie=l.formState)),i=J1(s,1,!0,i,l??null,d,g,v,I,F,Q,ie),i.context=ew(null),l=i.current,d=Dr(),d=Sr(d),g=Gi(d),g.callback=null,Qi(l,g,d),l=d,i.current.lanes=l,$n(i,l),Qs(i),s[Ae]=i.current,jg(s),new rf(i)},Pu.version="19.1.0",Pu}var bw;function QA(){if(bw)return Zg.exports;bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zg.exports=GA(),Zg.exports}var KA=QA(),Lu={},ww;function YA(){if(ww)return Lu;ww=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=u,Lu.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,E){const N=new o,P=b.length;if(P<2)return N;const D=(E==null?void 0:E.decode)||y;let T=0;do{const S=b.indexOf("=",T);if(S===-1)break;const w=b.indexOf(";",T),j=w===-1?P:w;if(S>j){T=b.lastIndexOf(";",S-1)+1;continue}const U=h(b,T,S),B=f(b,S,U),z=b.slice(U,B);if(N[z]===void 0){let R=h(b,S+1,j),M=f(b,j,R);const C=D(b.slice(R,M));N[z]=C}T=j+1}while(T<P);return N}function h(b,E,N){do{const P=b.charCodeAt(E);if(P!==32&&P!==9)return E}while(++E<N);return N}function f(b,E,N){for(;E>N;){const P=b.charCodeAt(--E);if(P!==32&&P!==9)return E+1}return N}function m(b,E,N){const P=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=P(E);if(!e.test(D))throw new TypeError(`argument val is invalid: ${E}`);let T=b+"="+D;if(!N)return T;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);T+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);T+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);T+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);T+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(T+="; HttpOnly"),N.secure&&(T+="; Secure"),N.partitioned&&(T+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return T}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return a.call(b)==="[object Date]"}return Lu}YA();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x2=n=>{throw TypeError(n)},XA=(n,e,t)=>e.has(n)||x2("Cannot "+t),n0=(n,e,t)=>(XA(n,e,"read from private field"),t?t.call(n):e.get(n)),WA=(n,e,t)=>e.has(n)?x2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_w="popstate";function ZA(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return ad("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Va(a)}return eR(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JA(){return Math.random().toString(36).substring(2,10)}function Ew(n,e){return{usr:n.state,key:n.key,idx:e}}function ad(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qa(e):e,state:t,key:e&&e.key||r||JA()}}function Va({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function eR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function x(){h="POP";let D=y(),T=D==null?null:D-m;m=D,f&&f({action:h,location:P.location,delta:T})}function b(D,T){h="PUSH";let S=ad(P.location,D,T);m=y()+1;let w=Ew(S,m),j=P.createHref(S);try{u.pushState(w,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(j)}o&&f&&f({action:h,location:P.location,delta:1})}function E(D,T){h="REPLACE";let S=ad(P.location,D,T);m=y();let w=Ew(S,m),j=P.createHref(S);u.replaceState(w,"",j),o&&f&&f({action:h,location:P.location,delta:0})}function N(D){let T=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof D=="string"?D:Va(D);return S=S.replace(/ $/,"%20"),ct(T,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,T)}let P={get action(){return h},get location(){return n(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(_w,x),f=D,()=>{a.removeEventListener(_w,x),f=null}},createHref(D){return e(a,D)},createURL:N,encodeLocation(D){let T=N(D);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:E,go(D){return u.go(D)}};return P}var Fu,Tw=class{constructor(n){if(WA(this,Fu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(n0(this,Fu).has(n))return n0(this,Fu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){n0(this,Fu).set(n,e)}};Fu=new WeakMap;var tR=new Set(["lazy","caseSensitive","path","id","index","children"]);function nR(n){return tR.has(n)}var rR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function sR(n){return rR.has(n)}function iR(n){return n.index===!0}function zf(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),iR(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=zf(a.children,e,u,r)),f}})}function ma(n,e,t="/"){return Ef(n,e,t,!1)}function Ef(n,e,t,r){let a=typeof e=="string"?Qa(e):e,o=us(a.pathname||"/",t);if(o==null)return null;let u=b2(n);oR(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=vR(o);h=gR(u[f],m,r)}return h}function aR(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function b2(n,e=[],t=[],r=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Js([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),b2(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:mR(m,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of w2(o.path))a(o,u,f)}),e}function w2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=w2(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function oR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var lR=/^:[\w-]+$/,cR=3,uR=2,dR=1,hR=10,fR=-2,Sw=n=>n==="*";function mR(n,e){let t=n.split("/"),r=t.length;return t.some(Sw)&&(r+=fR),e&&(r+=uR),t.filter(a=>!Sw(a)).reduce((a,o)=>a+(lR.test(o)?cR:o===""?dR:hR),r)}function pR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function gR(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!x&&m&&t&&!r[r.length-1].route.index&&(x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Js([o,x.pathname]),pathnameBase:wR(Js([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Js([o,x.pathnameBase]))}return u}function Uf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=yR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:x},b)=>{if(y==="*"){let N=h[b]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=h[b];return x&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function yR(n,e=!1,t=!0){nn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function vR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function us(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function xR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Qa(n):n;return{pathname:t?t.startsWith("/")?t:bR(t,e):e,search:_R(r),hash:ER(a)}}function bR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function r0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vm(n){let e=_2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function xm(n,e,t,r=!1){let a;typeof n=="string"?a=Qa(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),r0("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),r0("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),r0("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}h=x>=0?e[x]:"/"}let f=xR(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Js=n=>n.join("/").replace(/\/\/+/g,"/"),wR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_R=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ER=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Bf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function od(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var E2=["POST","PUT","PATCH","DELETE"],TR=new Set(E2),SR=["GET",...E2],NR=new Set(SR),CR=new Set([301,302,303,307,308]),AR=new Set([307,308]),s0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),T2="remix-router-transitions",S2=Symbol("ResetLoaderData");function IR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||jR,o={},u=zf(n.routes,a,void 0,o),h,f=n.basename||"/",m=n.dataStrategy||PR,y={unstable_middleware:!1,...n.future},x=null,b=new Set,E=null,N=null,P=null,D=n.hydrationData!=null,T=ma(u,n.history.location,f),S=!1,w=null;if(T==null&&!n.patchRoutesOnNavigation){let Y=os(404,{pathname:n.history.location.pathname}),{matches:J,route:re}=Lw(u);T=J,w={[re.id]:Y}}T&&!n.hydrationData&&Yt(T,u,n.history.location.pathname).active&&(T=null);let j;if(T)if(T.some(Y=>Y.route.lazy))j=!1;else if(!T.some(Y=>Y.route.loader))j=!0;else{let Y=n.hydrationData?n.hydrationData.loaderData:null,J=n.hydrationData?n.hydrationData.errors:null;if(J){let re=T.findIndex(ve=>J[ve.route.id]!==void 0);j=T.slice(0,re+1).every(ve=>!O0(ve.route,Y,J))}else j=T.every(re=>!O0(re.route,Y,J))}else{j=!1,T=[];let Y=Yt(null,u,n.history.location.pathname);Y.active&&Y.matches&&(S=!0,T=Y.matches)}let U,B={historyAction:n.history.action,location:n.history.location,matches:T,initialized:j,navigation:s0,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},z="POP",R=!1,M,C=!1,k=new Map,L=null,O=!1,se=!1,ae=new Set,G=new Map,$=0,K=-1,te=new Map,H=new Set,le=new Map,ge=new Map,fe=new Set,ue=new Map,Ee,_e=null;function ye(){if(x=n.history.listen(({action:Y,location:J,delta:re})=>{if(Ee){Ee(),Ee=void 0;return}nn(ue.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=$t({currentLocation:B.location,nextLocation:J,historyAction:Y});if(ve&&re!=null){let we=new Promise(Ae=>{Ee=Ae});n.history.go(re*-1),gt(ve,{state:"blocked",location:J,proceed(){gt(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),we.then(()=>n.history.go(re))},reset(){let Ae=new Map(B.blockers);Ae.set(ve,Vu),Ze({blockers:Ae})}});return}return Ht(Y,J)}),t){QR(e,k);let Y=()=>KR(e,k);e.addEventListener("pagehide",Y),L=()=>e.removeEventListener("pagehide",Y)}return B.initialized||Ht("POP",B.location,{initialHydration:!0}),U}function Se(){x&&x(),L&&L(),b.clear(),M&&M.abort(),B.fetchers.forEach((Y,J)=>Kt(J)),B.blockers.forEach((Y,J)=>rt(J))}function Xe(Y){return b.add(Y),()=>b.delete(Y)}function Ze(Y,J={}){B={...B,...Y};let re=[],ve=[];B.fetchers.forEach((we,Ae)=>{we.state==="idle"&&(fe.has(Ae)?re.push(Ae):ve.push(Ae))}),fe.forEach(we=>{!B.fetchers.has(we)&&!G.has(we)&&re.push(we)}),[...b].forEach(we=>we(B,{deletedFetchers:re,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),re.forEach(we=>Kt(we)),ve.forEach(we=>B.fetchers.delete(we))}function Ot(Y,J,{flushSync:re}={}){var Pe,Be;let ve=B.actionData!=null&&B.navigation.formMethod!=null&&Vr(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Pe=Y.state)==null?void 0:Pe._isRedirect)!==!0,we;J.actionData?Object.keys(J.actionData).length>0?we=J.actionData:we=null:ve?we=B.actionData:we=null;let Ae=J.loaderData?kw(B.loaderData,J.loaderData,J.matches||[],J.errors):B.loaderData,Ue=B.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((ke,qe)=>Ue.set(qe,Vu)));let Re=R===!0||B.navigation.formMethod!=null&&Vr(B.navigation.formMethod)&&((Be=Y.state)==null?void 0:Be._isRedirect)!==!0;h&&(u=h,h=void 0),O||z==="POP"||(z==="PUSH"?n.history.push(Y,Y.state):z==="REPLACE"&&n.history.replace(Y,Y.state));let De;if(z==="POP"){let ke=k.get(B.location.pathname);ke&&ke.has(Y.pathname)?De={currentLocation:B.location,nextLocation:Y}:k.has(Y.pathname)&&(De={currentLocation:Y,nextLocation:B.location})}else if(C){let ke=k.get(B.location.pathname);ke?ke.add(Y.pathname):(ke=new Set([Y.pathname]),k.set(B.location.pathname,ke)),De={currentLocation:B.location,nextLocation:Y}}Ze({...J,actionData:we,loaderData:Ae,historyAction:z,location:Y,initialized:!0,navigation:s0,revalidation:"idle",restoreScrollPosition:On(Y,J.matches||B.matches),preventScrollReset:Re,blockers:Ue},{viewTransitionOpts:De,flushSync:re===!0}),z="POP",R=!1,C=!1,O=!1,se=!1,_e==null||_e.resolve(),_e=null}async function Gt(Y,J){if(typeof Y=="number"){n.history.go(Y);return}let re=M0(B.location,B.matches,f,Y,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:ve,submission:we,error:Ae}=Nw(!1,re,J),Ue=B.location,Re=ad(B.location,ve,J&&J.state);Re={...Re,...n.history.encodeLocation(Re)};let De=J&&J.replace!=null?J.replace:void 0,Pe="PUSH";De===!0?Pe="REPLACE":De===!1||we!=null&&Vr(we.formMethod)&&we.formAction===B.location.pathname+B.location.search&&(Pe="REPLACE");let Be=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,ke=(J&&J.flushSync)===!0,qe=$t({currentLocation:Ue,nextLocation:Re,historyAction:Pe});if(qe){gt(qe,{state:"blocked",location:Re,proceed(){gt(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Gt(Y,J)},reset(){let ut=new Map(B.blockers);ut.set(qe,Vu),Ze({blockers:ut})}});return}await Ht(Pe,Re,{submission:we,pendingError:Ae,preventScrollReset:Be,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:ke})}function gn(){_e||(_e=YR()),ps(),Ze({revalidation:"loading"});let Y=_e.promise;return B.navigation.state==="submitting"?Y:B.navigation.state==="idle"?(Ht(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),Y):(Ht(z||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:C===!0}),Y)}async function Ht(Y,J,re){M&&M.abort(),M=null,z=Y,O=(re&&re.startUninterruptedRevalidation)===!0,$n(B.location,B.matches),R=(re&&re.preventScrollReset)===!0,C=(re&&re.enableViewTransition)===!0;let ve=h||u,we=re&&re.overrideNavigation,Ae=re!=null&&re.initialHydration&&B.matches&&B.matches.length>0&&!S?B.matches:ma(ve,J,f),Ue=(re&&re.flushSync)===!0;if(Ae&&B.initialized&&!se&&FR(B.location,J)&&!(re&&re.submission&&Vr(re.submission.formMethod))){Ot(J,{matches:Ae},{flushSync:Ue});return}let Re=Yt(Ae,ve,J.pathname);if(Re.active&&Re.matches&&(Ae=Re.matches),!Ae){let{error:Nt,notFoundMatches:yt,route:ot}=ln(J.pathname);Ot(J,{matches:yt,loaderData:{},errors:{[ot.id]:Nt}},{flushSync:Ue});return}M=new AbortController;let De=Ul(n.history,J,M.signal,re&&re.submission),Pe=new Tw(n.unstable_getContext?await n.unstable_getContext():void 0),Be;if(re&&re.pendingError)Be=[Co(Ae).route.id,{type:"error",error:re.pendingError}];else if(re&&re.submission&&Vr(re.submission.formMethod)){let Nt=await fr(De,J,re.submission,Ae,Pe,Re.active,re&&re.initialHydration===!0,{replace:re.replace,flushSync:Ue});if(Nt.shortCircuited)return;if(Nt.pendingActionResult){let[yt,ot]=Nt.pendingActionResult;if(Lr(ot)&&od(ot.error)&&ot.error.status===404){M=null,Ot(J,{matches:Nt.matches,loaderData:{},errors:{[yt]:ot.error}});return}}Ae=Nt.matches||Ae,Be=Nt.pendingActionResult,we=i0(J,re.submission),Ue=!1,Re.active=!1,De=Ul(n.history,De.url,De.signal)}let{shortCircuited:ke,matches:qe,loaderData:ut,errors:Rt}=await tr(De,J,Ae,Pe,Re.active,we,re&&re.submission,re&&re.fetcherSubmission,re&&re.replace,re&&re.initialHydration===!0,Ue,Be);ke||(M=null,Ot(J,{matches:qe||Ae,...Pw(Be),loaderData:ut,errors:Rt}))}async function fr(Y,J,re,ve,we,Ae,Ue,Re={}){ps();let De=$R(J,re);if(Ze({navigation:De},{flushSync:Re.flushSync===!0}),Ae){let ke=await $r(ve,J.pathname,Y.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let qe=Co(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[qe,{type:"error",error:ke.error}]}}else if(ke.matches)ve=ke.matches;else{let{notFoundMatches:qe,error:ut,route:Rt}=ln(J.pathname);return{matches:qe,pendingActionResult:[Rt.id,{type:"error",error:ut}]}}}let Pe,Be=qu(ve,J);if(!Be.route.action&&!Be.route.lazy)Pe={type:"error",error:os(405,{method:Y.method,pathname:J.pathname,routeId:Be.route.id})};else{let ke=Kl(a,o,Y,ve,Be,Ue?[]:r,we),qe=await rr(Y,ke,we,null);if(Pe=qe[Be.route.id],!Pe){for(let ut of ve)if(qe[ut.route.id]){Pe=qe[ut.route.id];break}}if(Y.signal.aborted)return{shortCircuited:!0}}if(Ao(Pe)){let ke;return Re&&Re.replace!=null?ke=Re.replace:ke=Mw(Pe.response.headers.get("Location"),new URL(Y.url),f)===B.location.pathname+B.location.search,await nr(Y,Pe,!0,{submission:re,replace:ke}),{shortCircuited:!0}}if(Lr(Pe)){let ke=Co(ve,Be.route.id);return(Re&&Re.replace)!==!0&&(z="PUSH"),{matches:ve,pendingActionResult:[ke.route.id,Pe,Be.route.id]}}return{matches:ve,pendingActionResult:[Be.route.id,Pe]}}async function tr(Y,J,re,ve,we,Ae,Ue,Re,De,Pe,Be,ke){let qe=Ae||i0(J,Ue),ut=Ue||Re||zw(qe),Rt=!O&&!Pe;if(we){if(Rt){let cn=Zt(ke);Ze({navigation:qe,...cn!==void 0?{actionData:cn}:{}},{flushSync:Be})}let Ye=await $r(re,J.pathname,Y.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let cn=Co(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[cn]:Ye.error}}}else if(Ye.matches)re=Ye.matches;else{let{error:cn,notFoundMatches:Cr,route:pr}=ln(J.pathname);return{matches:Cr,loaderData:{},errors:{[pr.id]:cn}}}}let Nt=h||u,{dsMatches:yt,revalidatingFetchers:ot}=Cw(Y,ve,a,o,n.history,B,re,ut,J,Pe?[]:r,Pe===!0,se,ae,fe,le,H,Nt,f,ke);if(K=++$,!n.dataStrategy&&!yt.some(Ye=>Ye.shouldLoad)&&ot.length===0){let Ye=Hr();return Ot(J,{matches:re,loaderData:{},errors:ke&&Lr(ke[1])?{[ke[0]]:ke[1].error}:null,...Pw(ke),...Ye?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Be}),{shortCircuited:!0}}if(Rt){let Ye={};if(!we){Ye.navigation=qe;let cn=Zt(ke);cn!==void 0&&(Ye.actionData=cn)}ot.length>0&&(Ye.fetchers=Rs(ot)),Ze(Ye,{flushSync:Be})}ot.forEach(Ye=>{mr(Ye.key),Ye.controller&&G.set(Ye.key,Ye.controller)});let Gr=()=>ot.forEach(Ye=>mr(Ye.key));M&&M.signal.addEventListener("abort",Gr);let{loaderResults:yn,fetcherResults:ir}=await Ms(yt,ot,Y,ve);if(Y.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Gr),ot.forEach(Ye=>G.delete(Ye.key));let Dn=of(yn);if(Dn)return await nr(Y,Dn.result,!0,{replace:De}),{shortCircuited:!0};if(Dn=of(ir),Dn)return H.add(Dn.key),await nr(Y,Dn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Ds,errors:Nr}=Dw(B,re,yn,ke,ot,ir);Pe&&B.errors&&(Nr={...B.errors,...Nr});let Bi=Hr(),Gn=Oe(K),ar=Bi||Gn||ot.length>0;return{matches:re,loaderData:Ds,errors:Nr,...ar?{fetchers:new Map(B.fetchers)}:{}}}function Zt(Y){if(Y&&!Lr(Y[1]))return{[Y[0]]:Y[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function Rs(Y){return Y.forEach(J=>{let re=B.fetchers.get(J.key),ve=zu(void 0,re?re.data:void 0);B.fetchers.set(J.key,ve)}),new Map(B.fetchers)}async function js(Y,J,re,ve){mr(Y);let we=(ve&&ve.flushSync)===!0,Ae=h||u,Ue=M0(B.location,B.matches,f,re,J,ve==null?void 0:ve.relative),Re=ma(Ae,Ue,f),De=Yt(Re,Ae,Ue);if(De.active&&De.matches&&(Re=De.matches),!Re){et(Y,J,os(404,{pathname:Ue}),{flushSync:we});return}let{path:Pe,submission:Be,error:ke}=Nw(!0,Ue,ve);if(ke){et(Y,J,ke,{flushSync:we});return}let qe=qu(Re,Pe),ut=new Tw(n.unstable_getContext?await n.unstable_getContext():void 0),Rt=(ve&&ve.preventScrollReset)===!0;if(Be&&Vr(Be.formMethod)){await Is(Y,J,Pe,qe,Re,ut,De.active,we,Rt,Be);return}le.set(Y,{routeId:J,path:Pe}),await ms(Y,J,Pe,qe,Re,ut,De.active,we,Rt,Be)}async function Is(Y,J,re,ve,we,Ae,Ue,Re,De,Pe){ps(),le.delete(Y);function Be(Ut){if(!Ut.route.action&&!Ut.route.lazy){let Qr=os(405,{method:Pe.formMethod,pathname:re,routeId:J});return et(Y,J,Qr,{flushSync:Re}),!0}return!1}if(!Ue&&Be(ve))return;let ke=B.fetchers.get(Y);bt(Y,GR(Pe,ke),{flushSync:Re});let qe=new AbortController,ut=Ul(n.history,re,qe.signal,Pe);if(Ue){let Ut=await $r(we,re,ut.signal,Y);if(Ut.type==="aborted")return;if(Ut.type==="error"){et(Y,J,Ut.error,{flushSync:Re});return}else if(Ut.matches){if(we=Ut.matches,ve=qu(we,re),Be(ve))return}else{et(Y,J,os(404,{pathname:re}),{flushSync:Re});return}}G.set(Y,qe);let Rt=$,Nt=Kl(a,o,ut,we,ve,r,Ae),ot=(await rr(ut,Nt,Ae,Y))[ve.route.id];if(ut.signal.aborted){G.get(Y)===qe&&G.delete(Y);return}if(fe.has(Y)){if(Ao(ot)||Lr(ot)){bt(Y,ha(void 0));return}}else{if(Ao(ot))if(G.delete(Y),K>Rt){bt(Y,ha(void 0));return}else return H.add(Y),bt(Y,zu(Pe)),nr(ut,ot,!1,{fetcherSubmission:Pe,preventScrollReset:De});if(Lr(ot)){et(Y,J,ot.error);return}}let Gr=B.navigation.location||B.location,yn=Ul(n.history,Gr,qe.signal),ir=h||u,Dn=B.navigation.state!=="idle"?ma(ir,B.navigation.location,f):B.matches;ct(Dn,"Didn't find any matches after fetcher action");let Ds=++$;te.set(Y,Ds);let Nr=zu(Pe,ot.data);B.fetchers.set(Y,Nr);let{dsMatches:Bi,revalidatingFetchers:Gn}=Cw(yn,Ae,a,o,n.history,B,Dn,Pe,Gr,r,!1,se,ae,fe,le,H,ir,f,[ve.route.id,ot]);Gn.filter(Ut=>Ut.key!==Y).forEach(Ut=>{let Qr=Ut.key,ii=B.fetchers.get(Qr),kn=zu(void 0,ii?ii.data:void 0);B.fetchers.set(Qr,kn),mr(Qr),Ut.controller&&G.set(Qr,Ut.controller)}),Ze({fetchers:new Map(B.fetchers)});let ar=()=>Gn.forEach(Ut=>mr(Ut.key));qe.signal.addEventListener("abort",ar);let{loaderResults:Ye,fetcherResults:cn}=await Ms(Bi,Gn,yn,Ae);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ar),te.delete(Y),G.delete(Y),Gn.forEach(Ut=>G.delete(Ut.key));let Cr=of(Ye);if(Cr)return nr(yn,Cr.result,!1,{preventScrollReset:De});if(Cr=of(cn),Cr)return H.add(Cr.key),nr(yn,Cr.result,!1,{preventScrollReset:De});let{loaderData:pr,errors:ks}=Dw(B,Dn,Ye,void 0,Gn,cn);if(B.fetchers.has(Y)){let Ut=ha(ot.data);B.fetchers.set(Y,Ut)}Oe(Ds),B.navigation.state==="loading"&&Ds>K?(ct(z,"Expected pending action"),M&&M.abort(),Ot(B.navigation.location,{matches:Dn,loaderData:pr,errors:ks,fetchers:new Map(B.fetchers)})):(Ze({errors:ks,loaderData:kw(B.loaderData,pr,Dn,ks),fetchers:new Map(B.fetchers)}),se=!1)}async function ms(Y,J,re,ve,we,Ae,Ue,Re,De,Pe){let Be=B.fetchers.get(Y);bt(Y,zu(Pe,Be?Be.data:void 0),{flushSync:Re});let ke=new AbortController,qe=Ul(n.history,re,ke.signal);if(Ue){let ot=await $r(we,re,qe.signal,Y);if(ot.type==="aborted")return;if(ot.type==="error"){et(Y,J,ot.error,{flushSync:Re});return}else if(ot.matches)we=ot.matches,ve=qu(we,re);else{et(Y,J,os(404,{pathname:re}),{flushSync:Re});return}}G.set(Y,ke);let ut=$,Rt=Kl(a,o,qe,we,ve,r,Ae),yt=(await rr(qe,Rt,Ae,Y))[ve.route.id];if(G.get(Y)===ke&&G.delete(Y),!qe.signal.aborted){if(fe.has(Y)){bt(Y,ha(void 0));return}if(Ao(yt))if(K>ut){bt(Y,ha(void 0));return}else{H.add(Y),await nr(qe,yt,!1,{preventScrollReset:De});return}if(Lr(yt)){et(Y,J,yt.error);return}bt(Y,ha(yt.data))}}async function nr(Y,J,re,{submission:ve,fetcherSubmission:we,preventScrollReset:Ae,replace:Ue}={}){J.response.headers.has("X-Remix-Revalidate")&&(se=!0);let Re=J.response.headers.get("Location");ct(Re,"Expected a Location header on the redirect Response"),Re=Mw(Re,new URL(Y.url),f);let De=ad(B.location,Re,{_isRedirect:!0});if(t){let Rt=!1;if(J.response.headers.has("X-Remix-Reload-Document"))Rt=!0;else if(Dy.test(Re)){const Nt=n.history.createURL(Re);Rt=Nt.origin!==e.location.origin||us(Nt.pathname,f)==null}if(Rt){Ue?e.location.replace(Re):e.location.assign(Re);return}}M=null;let Pe=Ue===!0||J.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:ke,formEncType:qe}=B.navigation;!ve&&!we&&Be&&ke&&qe&&(ve=zw(B.navigation));let ut=ve||we;if(AR.has(J.response.status)&&ut&&Vr(ut.formMethod))await Ht(Pe,De,{submission:{...ut,formAction:Re},preventScrollReset:Ae||R,enableViewTransition:re?C:void 0});else{let Rt=i0(De,ve);await Ht(Pe,De,{overrideNavigation:Rt,fetcherSubmission:we,preventScrollReset:Ae||R,enableViewTransition:re?C:void 0})}}async function rr(Y,J,re,ve){let we,Ae={};try{we=await LR(m,Y,J,ve,re,!1)}catch(Ue){return J.filter(Re=>Re.shouldLoad).forEach(Re=>{Ae[Re.route.id]={type:"error",error:Ue}}),Ae}for(let[Ue,Re]of Object.entries(we))if(qR(Re)){let De=Re.result;Ae[Ue]={type:"redirect",response:UR(De,Y,Ue,J,f)}}else Ae[Ue]=await zR(Re);return Ae}async function Ms(Y,J,re,ve){let we=rr(re,Y,ve,null),Ae=Promise.all(J.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Be=(await rr(De.request,De.matches,ve,De.key))[De.match.route.id];return{[De.key]:Be}}else return Promise.resolve({[De.key]:{type:"error",error:os(404,{pathname:De.path})}})})),Ue=await we,Re=(await Ae).reduce((De,Pe)=>Object.assign(De,Pe),{});return{loaderResults:Ue,fetcherResults:Re}}function ps(){se=!0,le.forEach((Y,J)=>{G.has(J)&&ae.add(J),mr(J)})}function bt(Y,J,re={}){B.fetchers.set(Y,J),Ze({fetchers:new Map(B.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function et(Y,J,re,ve={}){let we=Co(B.matches,J);Kt(Y),Ze({errors:{[we.route.id]:re},fetchers:new Map(B.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function Tn(Y){return ge.set(Y,(ge.get(Y)||0)+1),fe.has(Y)&&fe.delete(Y),B.fetchers.get(Y)||RR}function Kt(Y){let J=B.fetchers.get(Y);G.has(Y)&&!(J&&J.state==="loading"&&te.has(Y))&&mr(Y),le.delete(Y),te.delete(Y),H.delete(Y),fe.delete(Y),ae.delete(Y),B.fetchers.delete(Y)}function si(Y){let J=(ge.get(Y)||0)-1;J<=0?(ge.delete(Y),fe.add(Y)):ge.set(Y,J),Ze({fetchers:new Map(B.fetchers)})}function mr(Y){let J=G.get(Y);J&&(J.abort(),G.delete(Y))}function qr(Y){for(let J of Y){let re=Tn(J),ve=ha(re.data);B.fetchers.set(J,ve)}}function Hr(){let Y=[],J=!1;for(let re of H){let ve=B.fetchers.get(re);ct(ve,`Expected fetcher: ${re}`),ve.state==="loading"&&(H.delete(re),Y.push(re),J=!0)}return qr(Y),J}function Oe(Y){let J=[];for(let[re,ve]of te)if(ve<Y){let we=B.fetchers.get(re);ct(we,`Expected fetcher: ${re}`),we.state==="loading"&&(mr(re),te.delete(re),J.push(re))}return qr(J),J.length>0}function Me(Y,J){let re=B.blockers.get(Y)||Vu;return ue.get(Y)!==J&&ue.set(Y,J),re}function rt(Y){B.blockers.delete(Y),ue.delete(Y)}function gt(Y,J){let re=B.blockers.get(Y)||Vu;ct(re.state==="unblocked"&&J.state==="blocked"||re.state==="blocked"&&J.state==="blocked"||re.state==="blocked"&&J.state==="proceeding"||re.state==="blocked"&&J.state==="unblocked"||re.state==="proceeding"&&J.state==="unblocked",`Invalid blocker state transition: ${re.state} -> ${J.state}`);let ve=new Map(B.blockers);ve.set(Y,J),Ze({blockers:ve})}function $t({currentLocation:Y,nextLocation:J,historyAction:re}){if(ue.size===0)return;ue.size>1&&nn(!1,"A router only supports one blocker at a time");let ve=Array.from(ue.entries()),[we,Ae]=ve[ve.length-1],Ue=B.blockers.get(we);if(!(Ue&&Ue.state==="proceeding")&&Ae({currentLocation:Y,nextLocation:J,historyAction:re}))return we}function ln(Y){let J=os(404,{pathname:Y}),re=h||u,{matches:ve,route:we}=Lw(re);return{notFoundMatches:ve,route:we,error:J}}function sr(Y,J,re){if(E=Y,P=J,N=re||null,!D&&B.navigation===s0){D=!0;let ve=On(B.location,B.matches);ve!=null&&Ze({restoreScrollPosition:ve})}return()=>{E=null,P=null,N=null}}function Mn(Y,J){return N&&N(Y,J.map(ve=>aR(ve,B.loaderData)))||Y.key}function $n(Y,J){if(E&&P){let re=Mn(Y,J);E[re]=P()}}function On(Y,J){if(E){let re=Mn(Y,J),ve=E[re];if(typeof ve=="number")return ve}return null}function Yt(Y,J,re){if(n.patchRoutesOnNavigation)if(Y){if(Object.keys(Y[0].params).length>0)return{active:!0,matches:Ef(J,re,f,!0)}}else return{active:!0,matches:Ef(J,re,f,!0)||[]};return{active:!1,matches:null}}async function $r(Y,J,re,ve){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Y};let we=Y;for(;;){let Ae=h==null,Ue=h||u,Re=o;try{await n.patchRoutesOnNavigation({signal:re,path:J,matches:we,fetcherKey:ve,patch:(Be,ke)=>{re.aborted||Aw(Be,ke,Ue,Re,a)}})}catch(Be){return{type:"error",error:Be,partialMatches:we}}finally{Ae&&!re.aborted&&(u=[...u])}if(re.aborted)return{type:"aborted"};let De=ma(Ue,J,f);if(De)return{type:"success",matches:De};let Pe=Ef(Ue,J,f,!0);if(!Pe||we.length===Pe.length&&we.every((Be,ke)=>Be.route.id===Pe[ke].route.id))return{type:"success",matches:null};we=Pe}}function Sr(Y){o={},h=zf(Y,a,void 0,o)}function Os(Y,J){let re=h==null;Aw(Y,J,h||u,o,a),re&&(u=[...u],Ze({}))}return U={get basename(){return f},get future(){return y},get state(){return B},get routes(){return u},get window(){return e},initialize:ye,subscribe:Xe,enableScrollRestoration:sr,navigate:Gt,fetch:js,revalidate:gn,createHref:Y=>n.history.createHref(Y),encodeLocation:Y=>n.history.encodeLocation(Y),getFetcher:Tn,deleteFetcher:si,dispose:Se,getBlocker:Me,deleteBlocker:rt,patchRoutes:Os,_internalFetchControllers:G,_internalSetRoutes:Sr},U}function MR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function M0(n,e,t,r,a,o){let u,h;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){h=m;break}}else u=e,h=e[e.length-1];let f=xm(r||".",vm(u),us(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let m=ky(f.search);if(h.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let y=new URLSearchParams(f.search),x=y.getAll("index");y.delete("index"),x.filter(E=>E).forEach(E=>y.append("index",E));let b=y.toString();f.search=b?`?${b}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),Va(f)}function Nw(n,e,t){if(!t||!MR(t))return{path:e};if(t.formMethod&&!HR(t.formMethod))return{path:e,error:os(405,{method:t.formMethod})};let r=()=>({path:e,error:os(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=I2(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vr(o))return r();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[E,N])=>`${b}${E}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!Vr(o))return r();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=k0(t.formData),f=t.formData;else if(t.body instanceof FormData)h=k0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=Ow(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=Ow(h)}catch{return r()}let m={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vr(m.formMethod))return{path:e,submission:m};let y=Qa(e);return n&&y.search&&ky(y.search)&&h.append("index",""),y.search=`?${h}`,{path:Va(y),submission:m}}function Cw(n,e,t,r,a,o,u,h,f,m,y,x,b,E,N,P,D,T,S){var L;let w=S?Lr(S[1])?S[1].error:S[1].data:void 0,j=a.createURL(o.location),U=a.createURL(f),B;if(y&&o.errors){let O=Object.keys(o.errors)[0];B=u.findIndex(se=>se.route.id===O)}else if(S&&Lr(S[1])){let O=S[0];B=u.findIndex(se=>se.route.id===O)-1}let z=S?S[1].statusCode:void 0,R=z&&z>=400,M={currentUrl:j,currentParams:((L=o.matches[0])==null?void 0:L.params)||{},nextUrl:U,nextParams:u[0].params,...h,actionResult:w,actionStatus:z},C=u.map((O,se)=>{let{route:ae}=O,G=null;if(B!=null&&se>B?G=!1:ae.lazy?G=!0:ae.loader==null?G=!1:y?G=O0(ae,o.loaderData,o.errors):OR(o.loaderData,o.matches[se],O)&&(G=!0),G!==null)return D0(t,r,n,O,m,e,G);let $=R?!1:x||j.pathname+j.search===U.pathname+U.search||j.search!==U.search||DR(o.matches[se],O),K={...M,defaultShouldRevalidate:$},te=Ff(O,K);return D0(t,r,n,O,m,e,te,K)}),k=[];return N.forEach((O,se)=>{if(y||!u.some(le=>le.route.id===O.routeId)||E.has(se))return;let ae=ma(D,O.path,T);if(!ae){k.push({key:se,routeId:O.routeId,path:O.path,matches:null,match:null,request:null,controller:null});return}if(P.has(se))return;let G=o.fetchers.get(se),$=qu(ae,O.path),K=new AbortController,te=Ul(a,O.path,K.signal),H=null;if(b.has(se))b.delete(se),H=Kl(t,r,te,ae,$,m,e);else if(G&&G.state!=="idle"&&G.data===void 0)x&&(H=Kl(t,r,te,ae,$,m,e));else{let le={...M,defaultShouldRevalidate:R?!1:x};Ff($,le)&&(H=Kl(t,r,te,ae,$,m,e,le))}H&&k.push({key:se,routeId:O.routeId,path:O.path,matches:H,match:$,request:te,controller:K})}),{dsMatches:C,revalidatingFetchers:k}}function O0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function OR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function DR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ff(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Aw(n,e,t,r,a){let o;if(n){let f=r[n];ct(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(m=>N2(f,m))),h=zf(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function N2(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>N2(t,o))}):!1}var Rw=new WeakMap,C2=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ct(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=Rw.get(a);u||(u={},Rw.set(a,u));let h=u[n];if(h)return h;let f=(async()=>{let m=nR(n),x=a[n]!==void 0&&n!=="hasErrorBoundary";if(m)nn(!m,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(x)nn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await o();b!=null&&(Object.assign(a,{[n]:b}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(b=>b===void 0)&&(a.lazy=void 0))})();return u[n]=f,f},jw=new WeakMap;function kR(n,e,t,r,a){let o=t[n.id];if(ct(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=jw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let x=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),E={};for(let N in b){let P=b[N];if(P===void 0)continue;let D=sR(N),S=o[N]!==void 0&&N!=="hasErrorBoundary";D?nn(!D,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?nn(!S,`Route "${o.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):E[N]=P}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return jw.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let u=Object.keys(n.lazy),h=[],f;for(let y of u){if(a&&a.includes(y))continue;let x=C2({key:y,route:n,manifest:t,mapRouteProperties:r});x&&(h.push(x),y===e&&(f=x))}let m=h.length>0?Promise.all(h).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function Iw(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function PR(n){return n.matches.some(e=>e.route.unstable_middleware)?A2(n,!1,()=>Iw(n),(e,t)=>({[t]:{type:"error",result:e}})):Iw(n)}async function A2(n,e,t,r){let{matches:a,request:o,params:u,context:h}=n,f={handlerResult:void 0};try{let m=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(b=>[x.route.id,b]):[]),y=await R2({request:o,params:u,context:h},m,e,f,t);return e?y:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function R2(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,m]=h,y=!1,x,b=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await R2(n,e,t,r,a,o+1)};try{let E=await m({request:n.request,params:n.params,context:n.context},b);return y?E===void 0?x:E:b()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:f,error:E}):r.middlewareError={routeId:f,error:E},E}}function j2(n,e,t,r,a){let o=C2({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=kR(r.route,Vr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function D0(n,e,t,r,a,o,u,h=null){let f=!1,m=j2(n,e,t,r,a);return{...r,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?Ff(r,{...h,defaultShouldRevalidate:y}):Ff(r,h):u},resolve(y){return f||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?VR({request:t,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Kl(n,e,t,r,a,o,u,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:j2(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:D0(n,e,t,f,o,u,!0,h))}async function LR(n,e,t,r,a,o){t.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:m=>{let y=u;return A2(y,!1,()=>m({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(x,b)=>({[b]:{type:"error",result:x}}))}});try{await Promise.all(t.flatMap(m=>{var y,x;return[(y=m._lazyPromises)==null?void 0:y.handler,(x=m._lazyPromises)==null?void 0:x.route]}))}catch{}return f}async function VR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,h,f=Vr(n.method),m=f?"action":"loader",y=x=>{let b,E=new Promise((D,T)=>b=T);h=()=>b(),n.signal.addEventListener("abort",h);let N=D=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):x({request:n,params:e.params,context:o},...D!==void 0?[D]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(T=>N(T)):N())}}catch(D){return{type:"error",result:D}}})();return Promise.race([P,E])};try{let x=f?e.route.action:e.route.loader;if(t||r)if(x){let b,[E]=await Promise.all([y(x).catch(N=>{b=N}),t,r]);if(b!==void 0)throw b;u=E}else{await t;let b=f?e.route.action:e.route.loader;if(b)[u]=await Promise.all([y(b),r]);else if(m==="action"){let E=new URL(n.url),N=E.pathname+E.search;throw os(405,{method:n.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)u=await y(x);else{let b=new URL(n.url),E=b.pathname+b.search;throw os(404,{pathname:E})}}catch(x){return{type:"error",result:x}}finally{h&&n.signal.removeEventListener("abort",h)}return u}async function zR(n){var r,a,o,u,h,f;let{result:e,type:t}=n;if(M2(e)){let m;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Bf(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?Vw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Bf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:od(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:od(e)?e.status:void 0}:Vw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function UR(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dy.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=M0(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function Mw(n,e,t){if(Dy.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=us(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Ul(n,e,t,r){let a=n.createURL(I2(e)).toString(),o={signal:t};if(r&&Vr(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=k0(r.formData):o.body=r.formData}return new Request(a,o)}function k0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Ow(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function BR(n,e,t,r=!1,a=!1){let o={},u=null,h,f=!1,m={},y=t&&Lr(t[1])?t[1].error:void 0;return n.forEach(x=>{if(!(x.route.id in e))return;let b=x.route.id,E=e[b];if(ct(!Ao(E),"Cannot handle redirect results in processLoaderData"),Lr(E)){let N=E.error;if(y!==void 0&&(N=y,y=void 0),u=u||{},a)u[b]=N;else{let P=Co(n,b);u[P.route.id]==null&&(u[P.route.id]=N)}r||(o[b]=S2),f||(f=!0,h=od(E.error)?E.error.status:500),E.headers&&(m[b]=E.headers)}else o[b]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(h=E.statusCode),E.headers&&(m[b]=E.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:m}}function Dw(n,e,t,r,a,o){let{loaderData:u,errors:h}=BR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:y,controller:x}=f,b=o[m];if(ct(b,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Lr(b)){let E=Co(n.matches,y==null?void 0:y.route.id);h&&h[E.route.id]||(h={...h,[E.route.id]:b.error}),n.fetchers.delete(m)}else if(Ao(b))ct(!1,"Unhandled fetcher revalidation redirect");else{let E=ha(b.data);n.fetchers.set(m,E)}}),{loaderData:u,errors:h}}function kw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==S2).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function Pw(n){return n?Lr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Co(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Lw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function os(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Bf(n||500,u,new Error(h),!0)}function of(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Ao(a))return{key:r,result:a}}}function I2(n){let e=typeof n=="string"?Qa(n):n;return Va({...e,hash:""})}function FR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function qR(n){return M2(n.result)&&CR.has(n.result.status)}function Lr(n){return n.type==="error"}function Ao(n){return(n&&n.type)==="redirect"}function Vw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function M2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function HR(n){return NR.has(n.toUpperCase())}function Vr(n){return TR.has(n.toUpperCase())}function ky(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function qu(n,e){let t=typeof e=="string"?Qa(e).search:e.search;if(n[n.length-1].route.index&&ky(t||""))return n[n.length-1];let r=_2(n);return r[r.length-1]}function zw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function i0(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $R(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ha(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function QR(n,e){try{let t=n.sessionStorage.getItem(T2);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function KR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(T2,JSON.stringify(t))}catch(r){nn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ko=V.createContext(null);Ko.displayName="DataRouter";var Cd=V.createContext(null);Cd.displayName="DataRouterState";var Py=V.createContext({isTransitioning:!1});Py.displayName="ViewTransition";var O2=V.createContext(new Map);O2.displayName="Fetchers";var XR=V.createContext(null);XR.displayName="Await";var As=V.createContext(null);As.displayName="Navigation";var bm=V.createContext(null);bm.displayName="Location";var fs=V.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var Ly=V.createContext(null);Ly.displayName="RouteError";function WR(n,{relative:e}={}){ct(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=V.useContext(As),{hash:a,pathname:o,search:u}=Ad(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Js([t,o])),r.createHref({pathname:h,search:u,hash:a})}function jc(){return V.useContext(bm)!=null}function Tr(){return ct(jc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(bm).location}var D2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k2(n){V.useContext(As).static||V.useLayoutEffect(n)}function Yo(){let{isDataRoute:n}=V.useContext(fs);return n?h4():ZR()}function ZR(){ct(jc(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Ko),{basename:e,navigator:t}=V.useContext(As),{matches:r}=V.useContext(fs),{pathname:a}=Tr(),o=JSON.stringify(vm(r)),u=V.useRef(!1);return k2(()=>{u.current=!0}),V.useCallback((f,m={})=>{if(nn(u.current,D2),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=xm(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Js([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,n])}var JR=V.createContext(null);function e4(n){let e=V.useContext(fs).outlet;return e&&V.createElement(JR.Provider,{value:n},e)}function Vy(){let{matches:n}=V.useContext(fs),e=n[n.length-1];return e?e.params:{}}function Ad(n,{relative:e}={}){let{matches:t}=V.useContext(fs),{pathname:r}=Tr(),a=JSON.stringify(vm(t));return V.useMemo(()=>xm(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function t4(n,e,t,r){ct(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=V.useContext(As),{matches:u}=V.useContext(fs),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let S=x&&x.path||"";P2(m,!x||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=Tr(),E;E=b;let N=E.pathname||"/",P=N;if(y!=="/"){let S=y.replace(/^\//,"").split("/");P="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:ma(n,{pathname:P});return nn(x||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),nn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),a4(D&&D.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Js([y,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?y:Js([y,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,t,r)}function n4(){let n=d4(),e=od(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:a},t):null,u)}var r4=V.createElement(n4,null),s4=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(fs.Provider,{value:this.props.routeContext},V.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i4({routeContext:n,match:e,children:t}){let r=V.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(fs.Provider,{value:n},t)}function a4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:y,errors:x}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,y)=>{let x,b=!1,E=null,N=null;t&&(x=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||r4,u&&(h<0&&y===0?(P2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):h===y&&(b=!0,N=m.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),D=()=>{let T;return x?T=E:b?T=N:m.route.Component?T=V.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,V.createElement(i4,{match:m,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:T})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?V.createElement(s4,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:D(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):D()},null)}function zy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o4(n){let e=V.useContext(Ko);return ct(e,zy(n)),e}function l4(n){let e=V.useContext(Cd);return ct(e,zy(n)),e}function c4(n){let e=V.useContext(fs);return ct(e,zy(n)),e}function Uy(n){let e=c4(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function u4(){return Uy("useRouteId")}function d4(){var r;let n=V.useContext(Ly),e=l4("useRouteError"),t=Uy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function h4(){let{router:n}=o4("useNavigate"),e=Uy("useNavigate"),t=V.useRef(!1);return k2(()=>{t.current=!0}),V.useCallback(async(a,o={})=>{nn(t.current,D2),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Uw={};function P2(n,e,t){!e&&!Uw[n]&&(Uw[n]=!0,nn(!1,t))}var Bw={};function Fw(n,e){!n&&!Bw[e]&&(Bw[e]=!0,console.warn(e))}function f4(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&nn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&nn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&nn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var m4=["HydrateFallback","hydrateFallbackElement"],p4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function g4({router:n,flushSync:e}){let[t,r]=V.useState(n.state),[a,o]=V.useState(),[u,h]=V.useState({isTransitioning:!1}),[f,m]=V.useState(),[y,x]=V.useState(),[b,E]=V.useState(),N=V.useRef(new Map),P=V.useCallback((w,{deletedFetchers:j,flushSync:U,viewTransitionOpts:B})=>{w.fetchers.forEach((R,M)=>{R.data!==void 0&&N.current.set(M,R.data)}),j.forEach(R=>N.current.delete(R)),Fw(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Fw(B==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!z){e&&U?e(()=>r(w)):V.startTransition(()=>r(w));return}if(e&&U){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(w))});R.finished.finally(()=>{e(()=>{m(void 0),x(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>x(R));return}y?(f&&f.resolve(),y.skipTransition(),E({state:w,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(w),h({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,e,y,f]);V.useLayoutEffect(()=>n.subscribe(P),[n,P]),V.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new p4)},[u]),V.useEffect(()=>{if(f&&a&&n.window){let w=a,j=f.promise,U=n.window.document.startViewTransition(async()=>{V.startTransition(()=>r(w)),await j});U.finished.finally(()=>{m(void 0),x(void 0),o(void 0),h({isTransitioning:!1})}),x(U)}},[a,f,n.window]),V.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),V.useEffect(()=>{!u.isTransitioning&&b&&(o(b.state),h({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),E(void 0))},[u.isTransitioning,b]);let D=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,j,U)=>n.navigate(w,{state:j,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(w,j,U)=>n.navigate(w,{replace:!0,state:j,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),T=n.basename||"/",S=V.useMemo(()=>({router:n,navigator:D,static:!1,basename:T}),[n,D,T]);return V.createElement(V.Fragment,null,V.createElement(Ko.Provider,{value:S},V.createElement(Cd.Provider,{value:t},V.createElement(O2.Provider,{value:N.current},V.createElement(Py.Provider,{value:u},V.createElement(x4,{basename:T,location:t.location,navigationType:t.historyAction,navigator:D},V.createElement(y4,{routes:n.routes,future:n.future,state:t})))))),null)}var y4=V.memo(v4);function v4({routes:n,future:e,state:t}){return t4(n,void 0,t,e)}function qw({to:n,replace:e,state:t,relative:r}){ct(jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(As);nn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(fs),{pathname:u}=Tr(),h=Yo(),f=xm(n,vm(o),u,r==="path"),m=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function L2(n){return e4(n.context)}function x4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Qa(t));let{pathname:f="/",search:m="",hash:y="",state:x=null,key:b="default"}=t,E=V.useMemo(()=>{let N=us(f,u);return N==null?null:{location:{pathname:N,search:m,hash:y,state:x,key:b},navigationType:r}},[u,f,m,y,x,b,r]);return nn(E!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:V.createElement(As.Provider,{value:h},V.createElement(bm.Provider,{children:e,value:E}))}var Tf="get",Sf="application/x-www-form-urlencoded";function wm(n){return n!=null&&typeof n.tagName=="string"}function b4(n){return wm(n)&&n.tagName.toLowerCase()==="button"}function w4(n){return wm(n)&&n.tagName.toLowerCase()==="form"}function _4(n){return wm(n)&&n.tagName.toLowerCase()==="input"}function E4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function T4(n,e){return n.button===0&&(!e||e==="_self")&&!E4(n)}function P0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function S4(n,e){let t=P0(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var lf=null;function N4(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var C4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a0(n){return n!=null&&!C4.has(n)?(nn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):n}function A4(n,e){let t,r,a,o,u;if(w4(n)){let h=n.getAttribute("action");r=h?us(h,e):null,t=n.getAttribute("method")||Tf,a=a0(n.getAttribute("enctype"))||Sf,o=new FormData(n)}else if(b4(n)||_4(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?us(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Tf,a=a0(n.getAttribute("formenctype"))||a0(h.getAttribute("enctype"))||Sf,o=new FormData(h,n),!N4()){let{name:m,type:y,value:x}=n;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,x)}}else{if(wm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tf,r=null,a=Sf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function By(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function R4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function I4(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await R4(o,t);return u.links?u.links():[]}return[]}));return k4(r.flat(1).filter(j4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hw(n,e,t,r,a,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var x;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function M4(n,e,{includeHydrateFallback:t}={}){return O4(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function O4(n){return[...new Set(n)]}function D4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function k4(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(D4(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var P4=new Set([100,101,204,205]);function L4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&us(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function V2(){let n=V.useContext(Ko);return By(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function V4(){let n=V.useContext(Cd);return By(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=V.createContext(void 0);Fy.displayName="FrameworkContext";function z2(){let n=V.useContext(Fy);return By(n,"You must render this element inside a <HydratedRouter> element"),n}function z4(n,e){let t=V.useContext(Fy),[r,a]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=e,b=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=T=>{T.forEach(S=>{u(S.isIntersecting)})},D=new IntersectionObserver(P,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),V.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Uu(h,E),onBlur:Uu(f,N),onMouseEnter:Uu(m,E),onMouseLeave:Uu(y,N),onTouchStart:Uu(x,E)}]:[!1,b,{}]}function Uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function U4({page:n,...e}){let{router:t}=V2(),r=V.useMemo(()=>ma(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?V.createElement(F4,{page:n,matches:r,...e}):null}function B4(n){let{manifest:e,routeModules:t}=z2(),[r,a]=V.useState([]);return V.useEffect(()=>{let o=!1;return I4(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function F4({page:n,matches:e,...t}){let r=Tr(),{manifest:a,routeModules:o}=z2(),{basename:u}=V2(),{loaderData:h,matches:f}=V4(),m=V.useMemo(()=>Hw(n,e,f,a,r,"data"),[n,e,f,a,r]),y=V.useMemo(()=>Hw(n,e,f,a,r,"assets"),[n,e,f,a,r]),x=V.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(T=>{var w;let S=a.routes[T.route.id];!S||!S.hasLoader||(!m.some(j=>j.route.id===T.route.id)&&T.route.id in h&&((w=o[T.route.id])!=null&&w.shouldRevalidate)||S.hasClientLoader?P=!0:N.add(T.route.id))}),N.size===0)return[];let D=L4(n,u);return P&&N.size>0&&D.searchParams.set("_routes",e.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[D.pathname+D.search]},[u,h,r,a,m,e,n,o]),b=V.useMemo(()=>M4(y,a),[y,a]),E=B4(y);return V.createElement(V.Fragment,null,x.map(N=>V.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>V.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),E.map(({key:N,link:P})=>V.createElement("link",{key:N,...P})))}function q4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var U2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U2&&(window.__reactRouterVersion="7.5.3")}catch{}function H4(n,e){return IR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:ZA({window:e==null?void 0:e.window}),hydrationData:$4(),routes:n,mapRouteProperties:f4,hydrationRouteProperties:m4,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function $4(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:G4(n.errors)}),n}function G4(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Bf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var B2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=V.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:y,viewTransition:x,...b},E){let{basename:N}=V.useContext(As),P=typeof m=="string"&&B2.test(m),D,T=!1;if(typeof m=="string"&&P&&(D=m,U2))try{let M=new URL(window.location.href),C=m.startsWith("//")?new URL(M.protocol+m):new URL(m),k=us(C.pathname,N);C.origin===M.origin&&k!=null?m=k+C.search+C.hash:T=!0}catch{nn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=WR(m,{relative:a}),[w,j,U]=z4(r,b),B=X4(m,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:x});function z(M){e&&e(M),M.defaultPrevented||B(M)}let R=V.createElement("a",{...b,...U,href:D||S,onClick:T||o?e:z,ref:q4(E,j),target:f,"data-discover":!P&&t==="render"?"true":void 0});return w&&!P?V.createElement(V.Fragment,null,R,V.createElement(U4,{page:S})):R});tt.displayName="Link";var Q4=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...m},y){let x=Ad(u,{relative:m.relative}),b=Tr(),E=V.useContext(Cd),{navigator:N,basename:P}=V.useContext(As),D=E!=null&&nj(x)&&h===!0,T=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,S=b.pathname,w=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(S=S.toLowerCase(),w=w?w.toLowerCase():null,T=T.toLowerCase()),w&&P&&(w=us(w,P)||w);const j=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=S===T||!a&&S.startsWith(T)&&S.charAt(j)==="/",B=w!=null&&(w===T||!a&&w.startsWith(T)&&w.charAt(T.length)==="/"),z={isActive:U,isPending:B,isTransitioning:D},R=U?e:void 0,M;typeof r=="function"?M=r(z):M=[r,U?"active":null,B?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(z):o;return V.createElement(tt,{...m,"aria-current":R,className:M,ref:y,style:C,to:u,viewTransition:h},typeof f=="function"?f(z):f)});Q4.displayName="NavLink";var K4=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=Tf,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:x,...b},E)=>{let N=ej(),P=tj(h,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&B2.test(h),S=w=>{if(f&&f(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,U=(j==null?void 0:j.getAttribute("formmethod"))||u;N(j||w.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:x})};return V.createElement("form",{ref:E,method:D,action:P,onSubmit:r?f:S,...b,"data-discover":!T&&n==="render"?"true":void 0})});K4.displayName="Form";function Y4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F2(n){let e=V.useContext(Ko);return ct(e,Y4(n)),e}function X4(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Yo(),f=Tr(),m=Ad(n,{relative:o});return V.useCallback(y=>{if(T4(y,e)){y.preventDefault();let x=t!==void 0?t:Va(f)===Va(m);h(n,{replace:x,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,m,t,r,e,n,a,o,u])}function W4(n){nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(P0(n)),t=V.useRef(!1),r=Tr(),a=V.useMemo(()=>S4(r.search,t.current?null:e.current),[r.search]),o=Yo(),u=V.useCallback((h,f)=>{const m=P0(typeof h=="function"?h(a):h);t.current=!0,o("?"+m,f)},[o,a]);return[a,u]}var Z4=0,J4=()=>`__${String(++Z4)}__`;function ej(){let{router:n}=F2("useSubmit"),{basename:e}=V.useContext(As),t=u4();return V.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=A4(r,e);if(a.navigate===!1){let y=a.fetcherKey||J4();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function tj(n,{relative:e}={}){let{basename:t}=V.useContext(As),r=V.useContext(fs);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ad(n||".",{relative:e})},u=Tr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Js([t,o.pathname])),Va(o)}function nj(n,e={}){let t=V.useContext(Py);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F2("useViewTransitionState"),a=Ad(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=us(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=us(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,o)!=null}new TextEncoder;[...P4];var rj=v2();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sj(n){return V.createElement(g4,{flushSync:rj.flushSync,...n})}var cf={},$w;function ij(){if($w)return cf;$w=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(cf,"__esModule",{value:!0});var e=ym();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:h="",autoFill:f=!1,play:m=!0,pauseOnHover:y=!1,pauseOnClick:x=!1,direction:b="left",speed:E=50,delay:N=0,loop:P=0,gradient:D=!1,gradientColor:T="white",gradientWidth:S=200,onFinish:w,onCycleComplete:j,onMount:U,children:B},z){const[R,M]=e.useState(0),[C,k]=e.useState(0),[L,O]=e.useState(1),[se,ae]=e.useState(!1),G=e.useRef(null),$=z||G,K=e.useRef(null),te=e.useCallback(()=>{if(K.current&&$.current){const _e=$.current.getBoundingClientRect(),ye=K.current.getBoundingClientRect();let Se=_e.width,Xe=ye.width;(b==="up"||b==="down")&&(Se=_e.height,Xe=ye.height),O(f&&Se&&Xe&&Xe<Se?Math.ceil(Se/Xe):1),M(Se),k(Xe)}},[f,$,b]);e.useEffect(()=>{if(se&&(te(),K.current&&$.current)){const _e=new ResizeObserver(()=>te());return _e.observe($.current),_e.observe(K.current),()=>{_e&&_e.disconnect()}}},[te,$,se]),e.useEffect(()=>{te()},[te,B]),e.useEffect(()=>{ae(!0)},[]),e.useEffect(()=>{typeof U=="function"&&U()},[]);const H=e.useMemo(()=>f?C*L/E:C<R?R/E:C/E,[f,R,C,L,E]),le=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!m||y?"paused":"running","--pause-on-click":!m||y&&!x||x?"paused":"running","--width":b==="up"||b==="down"?"100vh":"100%","--transform":b==="up"?"rotate(-90deg)":b==="down"?"rotate(90deg)":"none"}),[u,m,y,x,b]),ge=e.useMemo(()=>({"--gradient-color":T,"--gradient-width":typeof S=="number"?`${S}px`:S}),[T,S]),fe=e.useMemo(()=>({"--play":m?"running":"paused","--direction":b==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${N}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":f?"auto":"100%"}),[m,b,H,N,P,f]),ue=e.useMemo(()=>({"--transform":b==="up"?"rotate(90deg)":b==="down"?"rotate(-90deg)":"none"}),[b]),Ee=e.useCallback(_e=>[...Array(Number.isFinite(_e)&&_e>=0?_e:0)].map((ye,Se)=>r.default.createElement(e.Fragment,{key:Se},e.Children.map(B,Xe=>r.default.createElement("div",{style:ue,className:"rfm-child"},Xe)))),[ue,B]);return se?r.default.createElement("div",{ref:$,style:le,className:"rfm-marquee-container "+h},D&&r.default.createElement("div",{style:ge,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:fe,onAnimationIteration:j,onAnimationEnd:w},r.default.createElement("div",{className:"rfm-initial-child-container",ref:K},e.Children.map(B,_e=>r.default.createElement("div",{style:ue,className:"rfm-child"},_e))),Ee(L-1)),r.default.createElement("div",{className:"rfm-marquee",style:fe},Ee(L))):null});return cf.default=a,cf}var aj=ij();const Gw=y2(aj);var q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qw=Ve.createContext&&Ve.createContext(q2),oj=["attr","size","title"];function lj(n,e){if(n==null)return{};var t=cj(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function cj(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qf(){return qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qf.apply(this,arguments)}function Kw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Hf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(t),!0).forEach(function(r){uj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uj(n,e,t){return e=dj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dj(n){var e=hj(n,"string");return typeof e=="symbol"?e:e+""}function hj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function H2(n){return n&&n.map((e,t)=>Ve.createElement(e.tag,Hf({key:t},e.attr),H2(e.child)))}function Ka(n){return e=>Ve.createElement(fj,qf({attr:Hf({},n.attr)},e),H2(n.child))}function fj(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=lj(n,oj),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ve.createElement("svg",qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Hf(Hf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ve.createElement("title",null,o),n.children)};return Qw!==void 0?Ve.createElement(Qw.Consumer,null,t=>e(t)):e(q2)}function mj(n){return Ka({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function pj(n){return Ka({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function gj(n){return Ka({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function Yw(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function yj(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}function vj(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M426.666 330.667a250.385 250.385 0 0 1-75.729-11.729c-7.469-2.136-16-1.073-21.332 5.333l-46.939 46.928c-60.802-30.928-109.864-80-140.802-140.803l46.939-46.927c5.332-5.333 7.462-13.864 5.332-21.333-8.537-24.531-12.802-50.136-12.802-76.803C181.333 73.604 171.734 64 160 64H85.333C73.599 64 64 73.604 64 85.333 64 285.864 226.136 448 426.666 448c11.73 0 21.334-9.604 21.334-21.333V352c0-11.729-9.604-21.333-21.334-21.333z"},child:[]}]})(n)}function xj(n){return Ka({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(n)}const bj=()=>{};var Xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},wj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},G2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,E=m&63;f||(E=64,u||(b=64)),r.push(t[y],t[x],t[b],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||x==null)throw new _j;const b=o<<2|h>>4;if(r.push(b),m!==64){const E=h<<4&240|m>>2;if(r.push(E),x!==64){const N=m<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ej=function(n){const e=$2(n);return G2.encodeByteArray(e,!0)},$f=function(n){return Ej(n).replace(/\./g,"")},Q2=function(n){try{return G2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=()=>Tj().__FIREBASE_DEFAULTS__,Nj=()=>{if(typeof process>"u"||typeof Xw>"u")return;const n=Xw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Cj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q2(n[1]);return e&&JSON.parse(e)},_m=()=>{try{return bj()||Sj()||Nj()||Cj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},K2=n=>{var e,t;return(t=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Aj=n=>{const e=K2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Y2=()=>{var n;return(n=_m())===null||n===void 0?void 0:n.config},X2=n=>{var e;return(e=_m())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(t)),$f(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ij(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function Mj(){var n;const e=(n=_m())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pj(){const n=er();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Lj(){return!Mj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vj(){try{return typeof indexedDB=="object"}catch{return!1}}function zj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="FirebaseError";class Ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Uj,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?Bj(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ui(a,h,r)}}function Bj(n,e){return n.replace(Fj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Fj=/\{\$([^}]+)}/g;function qj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function za(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Ww(o)&&Ww(u)){if(!za(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Ww(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function $u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Hj(n,e){const t=new $j(n,e);return t.subscribe.bind(t)}class $j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Gj(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=o0),a.error===void 0&&(a.error=o0),a.complete===void 0&&(a.complete=o0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function o0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class Bo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Rj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yj(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kj(n){return n===No?void 0:n}function Yj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mt||(mt={}));const Wj={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},Zj=mt.INFO,Jj={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},eI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Jj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qy{constructor(e){this.name=e,this._logLevel=Zj,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const tI=(n,e)=>e.some(t=>n instanceof t);let Zw,Jw;function nI(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rI(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W2=new WeakMap,L0=new WeakMap,Z2=new WeakMap,l0=new WeakMap,Hy=new WeakMap;function sI(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ma(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&W2.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function iI(n){if(L0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});L0.set(n,e)}let V0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return L0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aI(n){V0=n(V0)}function oI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(c0(this),e,...t);return Z2.set(r,e.sort?e.sort():[e]),Ma(r)}:rI().includes(n)?function(...e){return n.apply(c0(this),e),Ma(W2.get(this))}:function(...e){return Ma(n.apply(c0(this),e))}}function lI(n){return typeof n=="function"?oI(n):(n instanceof IDBTransaction&&iI(n),tI(n,nI())?new Proxy(n,V0):n)}function Ma(n){if(n instanceof IDBRequest)return sI(n);if(l0.has(n))return l0.get(n);const e=lI(n);return e!==n&&(l0.set(n,e),Hy.set(e,n)),e}const c0=n=>Hy.get(n);function cI(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Ma(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ma(u.result),f.oldVersion,f.newVersion,Ma(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const uI=["get","getKey","getAll","getAllKeys","count"],dI=["put","add","delete","clear"],u0=new Map;function e_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(u0.get(e))return u0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=dI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||uI.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return u0.set(e,o),o}aI(n=>({...n,get:(e,t,r)=>e_(e,t)||n.get(e,t,r),has:(e,t)=>!!e_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z0="@firebase/app",t_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new qy("@firebase/app"),mI="@firebase/app-compat",pI="@firebase/analytics-compat",gI="@firebase/analytics",yI="@firebase/app-check-compat",vI="@firebase/app-check",xI="@firebase/auth",bI="@firebase/auth-compat",wI="@firebase/database",_I="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",SI="@firebase/functions-compat",NI="@firebase/installations",CI="@firebase/installations-compat",AI="@firebase/messaging",RI="@firebase/messaging-compat",jI="@firebase/performance",II="@firebase/performance-compat",MI="@firebase/remote-config",OI="@firebase/remote-config-compat",DI="@firebase/storage",kI="@firebase/storage-compat",PI="@firebase/firestore",LI="@firebase/vertexai",VI="@firebase/firestore-compat",zI="firebase",UI="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="[DEFAULT]",BI={[z0]:"fire-core",[mI]:"fire-core-compat",[gI]:"fire-analytics",[pI]:"fire-analytics-compat",[vI]:"fire-app-check",[yI]:"fire-app-check-compat",[xI]:"fire-auth",[bI]:"fire-auth-compat",[wI]:"fire-rtdb",[_I]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[SI]:"fire-fn-compat",[NI]:"fire-iid",[CI]:"fire-iid-compat",[AI]:"fire-fcm",[RI]:"fire-fcm-compat",[jI]:"fire-perf",[II]:"fire-perf-compat",[MI]:"fire-rc",[OI]:"fire-rc-compat",[DI]:"fire-gcs",[kI]:"fire-gcs-compat",[PI]:"fire-fst",[VI]:"fire-fst-compat",[LI]:"fire-vertex","fire-js":"fire-js",[zI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,FI=new Map,B0=new Map;function n_(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yc(n){const e=n.name;if(B0.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;B0.set(e,n);for(const t of Gf.values())n_(t,n);for(const t of FI.values())n_(t,n);return!0}function $y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ls(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Rd("app","Firebase",qI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=UI;function J2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Oa.create("bad-app-name",{appName:String(a)});if(t||(t=Y2()),!t)throw Oa.create("no-options");const o=Gf.get(a);if(o){if(za(t,o.options)&&za(r,o.config))return o;throw Oa.create("duplicate-app",{appName:a})}const u=new Xj(a);for(const f of B0.values())u.addComponent(f);const h=new HI(t,r,u);return Gf.set(a,h),h}function eT(n=U0){const e=Gf.get(n);if(!e&&n===U0&&Y2())return J2();if(!e)throw Oa.create("no-app",{appName:n});return e}function Da(n,e,t){var r;let a=(r=BI[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(h.join(" "));return}yc(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firebase-heartbeat-database",GI=1,ld="firebase-heartbeat-store";let d0=null;function tT(){return d0||(d0=cI($I,GI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ld)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oa.create("idb-open",{originalErrorMessage:n.message})})),d0}async function QI(n){try{const t=(await tT()).transaction(ld),r=await t.objectStore(ld).get(nT(n));return await t.done,r}catch(e){if(e instanceof Ui)Di.warn(e.message);else{const t=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function r_(n,e){try{const r=(await tT()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,nT(n)),await r.done}catch(t){if(t instanceof Ui)Di.warn(t.message);else{const r=Oa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(r.message)}}}function nT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=1024,YI=30;class XI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>YI){const u=JI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s_(),{heartbeatsToSend:r,unsentEntries:a}=WI(this._heartbeatsCache.heartbeats),o=$f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Di.warn(t),""}}}function s_(){return new Date().toISOString().substring(0,10)}function WI(n,e=KI){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),i_(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),i_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vj()?zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i_(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function JI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){yc(new Bo("platform-logger",e=>new hI(e),"PRIVATE")),yc(new Bo("heartbeat",e=>new XI(e),"PRIVATE")),Da(z0,t_,n),Da(z0,t_,"esm2017"),Da("fire-js","")}e3("");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,rT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,R){function M(){}M.prototype=R.prototype,z.D=R.prototype,z.prototype=new M,z.prototype.constructor=z,z.C=function(C,k,L){for(var O=Array(arguments.length-2),se=2;se<arguments.length;se++)O[se-2]=arguments[se];return R.prototype[k].apply(C,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,R,M){M||(M=0);var C=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)C[k]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(k=0;16>k;++k)C[k]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=z.g[0],M=z.g[1],k=z.g[2];var L=z.g[3],O=R+(L^M&(k^L))+C[0]+3614090360&4294967295;R=M+(O<<7&4294967295|O>>>25),O=L+(k^R&(M^k))+C[1]+3905402710&4294967295,L=R+(O<<12&4294967295|O>>>20),O=k+(M^L&(R^M))+C[2]+606105819&4294967295,k=L+(O<<17&4294967295|O>>>15),O=M+(R^k&(L^R))+C[3]+3250441966&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(L^M&(k^L))+C[4]+4118548399&4294967295,R=M+(O<<7&4294967295|O>>>25),O=L+(k^R&(M^k))+C[5]+1200080426&4294967295,L=R+(O<<12&4294967295|O>>>20),O=k+(M^L&(R^M))+C[6]+2821735955&4294967295,k=L+(O<<17&4294967295|O>>>15),O=M+(R^k&(L^R))+C[7]+4249261313&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(L^M&(k^L))+C[8]+1770035416&4294967295,R=M+(O<<7&4294967295|O>>>25),O=L+(k^R&(M^k))+C[9]+2336552879&4294967295,L=R+(O<<12&4294967295|O>>>20),O=k+(M^L&(R^M))+C[10]+4294925233&4294967295,k=L+(O<<17&4294967295|O>>>15),O=M+(R^k&(L^R))+C[11]+2304563134&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(L^M&(k^L))+C[12]+1804603682&4294967295,R=M+(O<<7&4294967295|O>>>25),O=L+(k^R&(M^k))+C[13]+4254626195&4294967295,L=R+(O<<12&4294967295|O>>>20),O=k+(M^L&(R^M))+C[14]+2792965006&4294967295,k=L+(O<<17&4294967295|O>>>15),O=M+(R^k&(L^R))+C[15]+1236535329&4294967295,M=k+(O<<22&4294967295|O>>>10),O=R+(k^L&(M^k))+C[1]+4129170786&4294967295,R=M+(O<<5&4294967295|O>>>27),O=L+(M^k&(R^M))+C[6]+3225465664&4294967295,L=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(L^R))+C[11]+643717713&4294967295,k=L+(O<<14&4294967295|O>>>18),O=M+(L^R&(k^L))+C[0]+3921069994&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^L&(M^k))+C[5]+3593408605&4294967295,R=M+(O<<5&4294967295|O>>>27),O=L+(M^k&(R^M))+C[10]+38016083&4294967295,L=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(L^R))+C[15]+3634488961&4294967295,k=L+(O<<14&4294967295|O>>>18),O=M+(L^R&(k^L))+C[4]+3889429448&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^L&(M^k))+C[9]+568446438&4294967295,R=M+(O<<5&4294967295|O>>>27),O=L+(M^k&(R^M))+C[14]+3275163606&4294967295,L=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(L^R))+C[3]+4107603335&4294967295,k=L+(O<<14&4294967295|O>>>18),O=M+(L^R&(k^L))+C[8]+1163531501&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(k^L&(M^k))+C[13]+2850285829&4294967295,R=M+(O<<5&4294967295|O>>>27),O=L+(M^k&(R^M))+C[2]+4243563512&4294967295,L=R+(O<<9&4294967295|O>>>23),O=k+(R^M&(L^R))+C[7]+1735328473&4294967295,k=L+(O<<14&4294967295|O>>>18),O=M+(L^R&(k^L))+C[12]+2368359562&4294967295,M=k+(O<<20&4294967295|O>>>12),O=R+(M^k^L)+C[5]+4294588738&4294967295,R=M+(O<<4&4294967295|O>>>28),O=L+(R^M^k)+C[8]+2272392833&4294967295,L=R+(O<<11&4294967295|O>>>21),O=k+(L^R^M)+C[11]+1839030562&4294967295,k=L+(O<<16&4294967295|O>>>16),O=M+(k^L^R)+C[14]+4259657740&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^L)+C[1]+2763975236&4294967295,R=M+(O<<4&4294967295|O>>>28),O=L+(R^M^k)+C[4]+1272893353&4294967295,L=R+(O<<11&4294967295|O>>>21),O=k+(L^R^M)+C[7]+4139469664&4294967295,k=L+(O<<16&4294967295|O>>>16),O=M+(k^L^R)+C[10]+3200236656&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^L)+C[13]+681279174&4294967295,R=M+(O<<4&4294967295|O>>>28),O=L+(R^M^k)+C[0]+3936430074&4294967295,L=R+(O<<11&4294967295|O>>>21),O=k+(L^R^M)+C[3]+3572445317&4294967295,k=L+(O<<16&4294967295|O>>>16),O=M+(k^L^R)+C[6]+76029189&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(M^k^L)+C[9]+3654602809&4294967295,R=M+(O<<4&4294967295|O>>>28),O=L+(R^M^k)+C[12]+3873151461&4294967295,L=R+(O<<11&4294967295|O>>>21),O=k+(L^R^M)+C[15]+530742520&4294967295,k=L+(O<<16&4294967295|O>>>16),O=M+(k^L^R)+C[2]+3299628645&4294967295,M=k+(O<<23&4294967295|O>>>9),O=R+(k^(M|~L))+C[0]+4096336452&4294967295,R=M+(O<<6&4294967295|O>>>26),O=L+(M^(R|~k))+C[7]+1126891415&4294967295,L=R+(O<<10&4294967295|O>>>22),O=k+(R^(L|~M))+C[14]+2878612391&4294967295,k=L+(O<<15&4294967295|O>>>17),O=M+(L^(k|~R))+C[5]+4237533241&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~L))+C[12]+1700485571&4294967295,R=M+(O<<6&4294967295|O>>>26),O=L+(M^(R|~k))+C[3]+2399980690&4294967295,L=R+(O<<10&4294967295|O>>>22),O=k+(R^(L|~M))+C[10]+4293915773&4294967295,k=L+(O<<15&4294967295|O>>>17),O=M+(L^(k|~R))+C[1]+2240044497&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~L))+C[8]+1873313359&4294967295,R=M+(O<<6&4294967295|O>>>26),O=L+(M^(R|~k))+C[15]+4264355552&4294967295,L=R+(O<<10&4294967295|O>>>22),O=k+(R^(L|~M))+C[6]+2734768916&4294967295,k=L+(O<<15&4294967295|O>>>17),O=M+(L^(k|~R))+C[13]+1309151649&4294967295,M=k+(O<<21&4294967295|O>>>11),O=R+(k^(M|~L))+C[4]+4149444226&4294967295,R=M+(O<<6&4294967295|O>>>26),O=L+(M^(R|~k))+C[11]+3174756917&4294967295,L=R+(O<<10&4294967295|O>>>22),O=k+(R^(L|~M))+C[2]+718787259&4294967295,k=L+(O<<15&4294967295|O>>>17),O=M+(L^(k|~R))+C[9]+3951481745&4294967295,z.g[0]=z.g[0]+R&4294967295,z.g[1]=z.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,z.g[2]=z.g[2]+k&4294967295,z.g[3]=z.g[3]+L&4294967295}r.prototype.u=function(z,R){R===void 0&&(R=z.length);for(var M=R-this.blockSize,C=this.B,k=this.h,L=0;L<R;){if(k==0)for(;L<=M;)a(this,z,L),L+=this.blockSize;if(typeof z=="string"){for(;L<R;)if(C[k++]=z.charCodeAt(L++),k==this.blockSize){a(this,C),k=0;break}}else for(;L<R;)if(C[k++]=z[L++],k==this.blockSize){a(this,C),k=0;break}}this.h=k,this.o+=R},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var R=1;R<z.length-8;++R)z[R]=0;var M=8*this.o;for(R=z.length-8;R<z.length;++R)z[R]=M&255,M/=256;for(this.u(z),z=Array(16),R=M=0;4>R;++R)for(var C=0;32>C;C+=8)z[M++]=this.g[R]>>>C&255;return z};function o(z,R){var M=h;return Object.prototype.hasOwnProperty.call(M,z)?M[z]:M[z]=R(z)}function u(z,R){this.h=R;for(var M=[],C=!0,k=z.length-1;0<=k;k--){var L=z[k]|0;C&&L==R||(M[k]=L,C=!1)}this.g=M}var h={};function f(z){return-128<=z&&128>z?o(z,function(R){return new u([R|0],0>R?-1:0)}):new u([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return x;if(0>z)return D(m(-z));for(var R=[],M=1,C=0;z>=M;C++)R[C]=z/M|0,M*=4294967296;return new u(R,0)}function y(z,R){if(z.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(z.charAt(0)=="-")return D(y(z.substring(1),R));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(R,8)),C=x,k=0;k<z.length;k+=8){var L=Math.min(8,z.length-k),O=parseInt(z.substring(k,k+L),R);8>L?(L=m(Math.pow(R,L)),C=C.j(L).add(m(O))):(C=C.j(M),C=C.add(m(O)))}return C}var x=f(0),b=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-D(this).m();for(var z=0,R=1,M=0;M<this.g.length;M++){var C=this.i(M);z+=(0<=C?C:4294967296+C)*R,R*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(N(this))return"0";if(P(this))return"-"+D(this).toString(z);for(var R=m(Math.pow(z,6)),M=this,C="";;){var k=j(M,R).g;M=T(M,k.j(R));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(z);if(M=k,N(M))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function N(z){if(z.h!=0)return!1;for(var R=0;R<z.g.length;R++)if(z.g[R]!=0)return!1;return!0}function P(z){return z.h==-1}n.l=function(z){return z=T(this,z),P(z)?-1:N(z)?0:1};function D(z){for(var R=z.g.length,M=[],C=0;C<R;C++)M[C]=~z.g[C];return new u(M,~z.h).add(b)}n.abs=function(){return P(this)?D(this):this},n.add=function(z){for(var R=Math.max(this.g.length,z.g.length),M=[],C=0,k=0;k<=R;k++){var L=C+(this.i(k)&65535)+(z.i(k)&65535),O=(L>>>16)+(this.i(k)>>>16)+(z.i(k)>>>16);C=O>>>16,L&=65535,O&=65535,M[k]=O<<16|L}return new u(M,M[M.length-1]&-2147483648?-1:0)};function T(z,R){return z.add(D(R))}n.j=function(z){if(N(this)||N(z))return x;if(P(this))return P(z)?D(this).j(D(z)):D(D(this).j(z));if(P(z))return D(this.j(D(z)));if(0>this.l(E)&&0>z.l(E))return m(this.m()*z.m());for(var R=this.g.length+z.g.length,M=[],C=0;C<2*R;C++)M[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<z.g.length;k++){var L=this.i(C)>>>16,O=this.i(C)&65535,se=z.i(k)>>>16,ae=z.i(k)&65535;M[2*C+2*k]+=O*ae,S(M,2*C+2*k),M[2*C+2*k+1]+=L*ae,S(M,2*C+2*k+1),M[2*C+2*k+1]+=O*se,S(M,2*C+2*k+1),M[2*C+2*k+2]+=L*se,S(M,2*C+2*k+2)}for(C=0;C<R;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=R;C<2*R;C++)M[C]=0;return new u(M,0)};function S(z,R){for(;(z[R]&65535)!=z[R];)z[R+1]+=z[R]>>>16,z[R]&=65535,R++}function w(z,R){this.g=z,this.h=R}function j(z,R){if(N(R))throw Error("division by zero");if(N(z))return new w(x,x);if(P(z))return R=j(D(z),R),new w(D(R.g),D(R.h));if(P(R))return R=j(z,D(R)),new w(D(R.g),R.h);if(30<z.g.length){if(P(z)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var M=b,C=R;0>=C.l(z);)M=U(M),C=U(C);var k=B(M,1),L=B(C,1);for(C=B(C,2),M=B(M,2);!N(C);){var O=L.add(C);0>=O.l(z)&&(k=k.add(M),L=O),C=B(C,1),M=B(M,1)}return R=T(z,k.j(R)),new w(k,R)}for(k=x;0<=z.l(R);){for(M=Math.max(1,Math.floor(z.m()/R.m())),C=Math.ceil(Math.log(M)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=m(M),O=L.j(R);P(O)||0<O.l(z);)M-=C,L=m(M),O=L.j(R);N(L)&&(L=b),k=k.add(L),z=T(z,O)}return new w(k,z)}n.A=function(z){return j(this,z).h},n.and=function(z){for(var R=Math.max(this.g.length,z.g.length),M=[],C=0;C<R;C++)M[C]=this.i(C)&z.i(C);return new u(M,this.h&z.h)},n.or=function(z){for(var R=Math.max(this.g.length,z.g.length),M=[],C=0;C<R;C++)M[C]=this.i(C)|z.i(C);return new u(M,this.h|z.h)},n.xor=function(z){for(var R=Math.max(this.g.length,z.g.length),M=[],C=0;C<R;C++)M[C]=this.i(C)^z.i(C);return new u(M,this.h^z.h)};function U(z){for(var R=z.g.length+1,M=[],C=0;C<R;C++)M[C]=z.i(C)<<1|z.i(C-1)>>>31;return new u(M,z.h)}function B(z,R){var M=R>>5;R%=32;for(var C=z.g.length-M,k=[],L=0;L<C;L++)k[L]=0<R?z.i(L+M)>>>R|z.i(L+M+1)<<32-R:z.i(L+M);return new u(k,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,ka=u}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,Gu,iT,Nf,F0,aT,oT,lT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,A){return p==Array.prototype||p==Object.prototype||(p[_]=A.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var _=0;_<p.length;++_){var A=p[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(p,_){if(_)e:{var A=r;p=p.split(".");for(var q=0;q<p.length-1;q++){var ee=p[q];if(!(ee in A))break e;A=A[ee]}p=p[p.length-1],q=A[p],_=_(q),_!=q&&_!=null&&e(A,p,{configurable:!0,writable:!0,value:_})}}function o(p,_){p instanceof String&&(p+="");var A=0,q=!1,ee={next:function(){if(!q&&A<p.length){var de=A++;return{value:_(de,p[de]),done:!1}}return q=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}a("Array.prototype.values",function(p){return p||function(){return o(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function m(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function y(p,_,A){return p.call.apply(p.bind,arguments)}function x(p,_,A){if(!p)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,q),p.apply(_,ee)}}return function(){return p.apply(_,arguments)}}function b(p,_,A){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,b.apply(null,arguments)}function E(p,_){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),p.apply(this,q)}}function N(p,_){function A(){}A.prototype=_.prototype,p.aa=_.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(q,ee,de){for(var Te=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Te[wt-2]=arguments[wt];return _.prototype[ee].apply(q,Te)}}function P(p){const _=p.length;if(0<_){const A=Array(_);for(let q=0;q<_;q++)A[q]=p[q];return A}return[]}function D(p,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];if(f(q)){const ee=p.length||0,de=q.length||0;p.length=ee+de;for(let Te=0;Te<de;Te++)p[ee+Te]=q[Te]}else p.push(q)}}class T{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var U=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function B(p,_,A){for(const q in p)_.call(A,p[q],q,p)}function z(p,_){for(const A in p)_.call(void 0,p[A],A,p)}function R(p){const _={};for(const A in p)_[A]=p[A];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(p,_){let A,q;for(let ee=1;ee<arguments.length;ee++){q=arguments[ee];for(A in q)p[A]=q[A];for(let de=0;de<M.length;de++)A=M[de],Object.prototype.hasOwnProperty.call(q,A)&&(p[A]=q[A])}}function k(p){var _=1;p=p.split(":");const A=[];for(;0<_&&p.length;)A.push(p.shift()),_--;return p.length&&A.push(p.join(":")),A}function L(p){h.setTimeout(()=>{throw p},0)}function O(){var p=te;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,A){const q=ae.get();q.set(_,A),this.h?this.h.next=q:this.g=q,this.h=q}}var ae=new T(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,te=new se,H=()=>{const p=h.Promise.resolve(void 0);$=()=>{p.then(le)}};var le=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(A){L(A)}var _=ae;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}K=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};h.addEventListener("test",A,_),h.removeEventListener("test",A,_)}catch{}return p}();function Ee(p,_){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(U){e:{try{j(_.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(_=null)}}else A=="mouseover"?_=p.fromElement:A=="mouseout"&&(_=p.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ee.aa.h.call(this)}}N(Ee,fe);var _e={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Xe(p,_,A,q,ee){this.listener=p,this.proxy=null,this.src=_,this.type=A,this.capture=!!q,this.ha=ee,this.key=++Se,this.da=this.fa=!1}function Ze(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ot(p){this.src=p,this.g={},this.h=0}Ot.prototype.add=function(p,_,A,q,ee){var de=p.toString();p=this.g[de],p||(p=this.g[de]=[],this.h++);var Te=gn(p,_,q,ee);return-1<Te?(_=p[Te],A||(_.fa=!1)):(_=new Xe(_,this.src,de,!!q,ee),_.fa=A,p.push(_)),_};function Gt(p,_){var A=_.type;if(A in p.g){var q=p.g[A],ee=Array.prototype.indexOf.call(q,_,void 0),de;(de=0<=ee)&&Array.prototype.splice.call(q,ee,1),de&&(Ze(_),p.g[A].length==0&&(delete p.g[A],p.h--))}}function gn(p,_,A,q){for(var ee=0;ee<p.length;++ee){var de=p[ee];if(!de.da&&de.listener==_&&de.capture==!!A&&de.ha==q)return ee}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),fr={};function tr(p,_,A,q,ee){if(Array.isArray(_)){for(var de=0;de<_.length;de++)tr(p,_[de],A,q,ee);return null}return A=ps(A),p&&p[ye]?p.K(_,A,m(q)?!!q.capture:!1,ee):Zt(p,_,A,!1,q,ee)}function Zt(p,_,A,q,ee,de){if(!_)throw Error("Invalid event type");var Te=m(ee)?!!ee.capture:!!ee,wt=rr(p);if(wt||(p[Ht]=wt=new Ot(p)),A=wt.add(_,A,q,Te,de),A.proxy)return A;if(q=Rs(),A.proxy=q,q.src=p,q.listener=A,p.addEventListener)ue||(ee=Te),ee===void 0&&(ee=!1),p.addEventListener(_.toString(),q,ee);else if(p.attachEvent)p.attachEvent(ms(_.toString()),q);else if(p.addListener&&p.removeListener)p.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Rs(){function p(A){return _.call(p.src,p.listener,A)}const _=nr;return p}function js(p,_,A,q,ee){if(Array.isArray(_))for(var de=0;de<_.length;de++)js(p,_[de],A,q,ee);else q=m(q)?!!q.capture:!!q,A=ps(A),p&&p[ye]?(p=p.i,_=String(_).toString(),_ in p.g&&(de=p.g[_],A=gn(de,A,q,ee),-1<A&&(Ze(de[A]),Array.prototype.splice.call(de,A,1),de.length==0&&(delete p.g[_],p.h--)))):p&&(p=rr(p))&&(_=p.g[_.toString()],p=-1,_&&(p=gn(_,A,q,ee)),(A=-1<p?_[p]:null)&&Is(A))}function Is(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[ye])Gt(_.i,p);else{var A=p.type,q=p.proxy;_.removeEventListener?_.removeEventListener(A,q,p.capture):_.detachEvent?_.detachEvent(ms(A),q):_.addListener&&_.removeListener&&_.removeListener(q),(A=rr(_))?(Gt(A,p),A.h==0&&(A.src=null,_[Ht]=null)):Ze(p)}}}function ms(p){return p in fr?fr[p]:fr[p]="on"+p}function nr(p,_){if(p.da)p=!0;else{_=new Ee(_,this);var A=p.listener,q=p.ha||p.src;p.fa&&Is(p),p=A.call(q,_)}return p}function rr(p){return p=p[Ht],p instanceof Ot?p:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function ps(p){return typeof p=="function"?p:(p[Ms]||(p[Ms]=function(_){return p.handleEvent(_)}),p[Ms])}function bt(){ge.call(this),this.i=new Ot(this),this.M=this,this.F=null}N(bt,ge),bt.prototype[ye]=!0,bt.prototype.removeEventListener=function(p,_,A,q){js(this,p,_,A,q)};function et(p,_){var A,q=p.F;if(q)for(A=[];q;q=q.F)A.push(q);if(p=p.M,q=_.type||_,typeof _=="string")_=new fe(_,p);else if(_ instanceof fe)_.target=_.target||p;else{var ee=_;_=new fe(q,p),C(_,ee)}if(ee=!0,A)for(var de=A.length-1;0<=de;de--){var Te=_.g=A[de];ee=Tn(Te,q,!0,_)&&ee}if(Te=_.g=p,ee=Tn(Te,q,!0,_)&&ee,ee=Tn(Te,q,!1,_)&&ee,A)for(de=0;de<A.length;de++)Te=_.g=A[de],ee=Tn(Te,q,!1,_)&&ee}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var A=p.g[_],q=0;q<A.length;q++)Ze(A[q]);delete p.g[_],p.h--}}this.F=null},bt.prototype.K=function(p,_,A,q){return this.i.add(String(p),_,!1,A,q)},bt.prototype.L=function(p,_,A,q){return this.i.add(String(p),_,!0,A,q)};function Tn(p,_,A,q){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var ee=!0,de=0;de<_.length;++de){var Te=_[de];if(Te&&!Te.da&&Te.capture==A){var wt=Te.listener,vn=Te.ha||Te.src;Te.fa&&Gt(p.i,Te),ee=wt.call(vn,q)!==!1&&ee}}return ee&&!q.defaultPrevented}function Kt(p,_,A){if(typeof p=="function")A&&(p=b(p,A));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(p,_||0)}function si(p){p.g=Kt(()=>{p.g=null,p.i&&(p.i=!1,si(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class mr extends ge{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(p){ge.call(this),this.h=p,this.g={}}N(qr,ge);var Hr=[];function Oe(p){B(p.g,function(_,A){this.g.hasOwnProperty(A)&&Is(_)},p),p.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Oe(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=h.JSON.stringify,rt=h.JSON.parse,gt=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function $t(){}$t.prototype.h=null;function ln(p){return p.h||(p.h=p.i())}function sr(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){fe.call(this,"d")}N($n,fe);function On(){fe.call(this,"c")}N(On,fe);var Yt={},$r=null;function Sr(){return $r=$r||new bt}Yt.La="serverreachability";function Os(p){fe.call(this,Yt.La,p)}N(Os,fe);function Y(p){const _=Sr();et(_,new Os(_))}Yt.STAT_EVENT="statevent";function J(p,_){fe.call(this,Yt.STAT_EVENT,p),this.stat=_}N(J,fe);function re(p){const _=Sr();et(_,new J(_,p))}Yt.Ma="timingevent";function ve(p,_){fe.call(this,Yt.Ma,p),this.size=_}N(ve,fe);function we(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},_)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Ue(p,_,A,q,ee,de){p.info(function(){if(p.g)if(de)for(var Te="",wt=de.split("&"),vn=0;vn<wt.length;vn++){var _t=wt[vn].split("=");if(1<_t.length){var Nn=_t[0];_t=_t[1];var xn=Nn.split("_");Te=2<=xn.length&&xn[1]=="type"?Te+(Nn+"="+_t+"&"):Te+(Nn+"=redacted&")}}else Te=null;else Te=de;return"XMLHTTP REQ ("+q+") [attempt "+ee+"]: "+_+`
`+A+`
`+Te})}function Re(p,_,A,q,ee,de,Te){p.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ee+"]: "+_+`
`+A+`
`+de+" "+Te})}function De(p,_,A,q){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+Be(p,A)+(q?" "+q:"")})}function Pe(p,_){p.info(function(){return"TIMEOUT: "+_})}Ae.prototype.info=function(){};function Be(p,_){if(!p.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var q=A[p];if(!(2>q.length)){var ee=q[1];if(Array.isArray(ee)&&!(1>ee.length)){var de=ee[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Te=1;Te<ee.length;Te++)ee[Te]=""}}}}return Me(A)}catch{return _}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ut;function Rt(){}N(Rt,$t),Rt.prototype.g=function(){return new XMLHttpRequest},Rt.prototype.i=function(){return{}},ut=new Rt;function Nt(p,_,A,q){this.j=p,this.i=_,this.l=A,this.R=q||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var ot={},Gr={};function yn(p,_,A){p.L=1,p.v=to(Ar(_)),p.m=A,p.P=!0,ir(p,null)}function ir(p,_){p.F=Date.now(),Nr(p),p.A=Ar(p.v);var A=p.A,q=p.R;Array.isArray(q)||(q=[String(q)]),Fc(A.i,"t",q),p.C=0,A=p.j.J,p.h=new yt,p.g=th(p.j,A?_:null,!p.m),0<p.O&&(p.M=new mr(b(p.Y,p,p.g),p.O)),_=p.U,A=p.g,q=p.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Hr[0]=ee.toString()),ee=Hr);for(var de=0;de<ee.length;de++){var Te=tr(A,ee[de],q||_.handleEvent,!1,_.h||_);if(!Te)break;_.g[Te.key]=Te}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),Y(),Ue(p.i,p.u,p.A,p.l,p.R,p.m)}Nt.prototype.ca=function(p){p=p.target;const _=this.M;_&&Wr(p)==3?_.j():this.Y(p)},Nt.prototype.Y=function(p){try{if(p==this.g)e:{const xn=Wr(this.g);var _=this.g.Ba();const hi=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||Qd(this.g)))){this.J||xn!=4||_==7||(_==8||0>=hi?Y(3):Y(2)),Gn(this);var A=this.g.Z();this.X=A;t:if(Dn(this)){var q=Qd(this.g);p="";var ee=q.length,de=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),ar(this);var Te="";break t}this.h.i=new h.TextDecoder}for(_=0;_<ee;_++)this.h.h=!0,p+=this.h.i.decode(q[_],{stream:!(de&&_==ee-1)});q.length=0,this.h.g+=p,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,Re(this.i,this.u,this.A,this.l,this.R,xn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,vn=this.g;if((wt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(wt)){var _t=wt;break t}}_t=null}if(A=_t)De(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,A);else{this.o=!1,this.s=3,re(12),Ye(this),ar(this);break e}}if(this.P){A=!0;let Pn;for(;!this.J&&this.C<Te.length;)if(Pn=Ds(this,Te),Pn==Gr){xn==4&&(this.s=4,re(14),A=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==ot){this.s=4,re(15),De(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else De(this.i,this.l,Pn,null),cn(this,Pn);if(Dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||Te.length!=0||this.h.h||(this.s=1,re(16),A=!1),this.o=this.o&&A,!A)De(this.i,this.l,Te,"[Invalid Chunked Response]"),Ye(this),ar(this);else if(0<Te.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),co(Nn),Nn.M=!0,re(11))}}else De(this.i,this.l,Te,null),cn(this,Te);xn==4&&Ye(this),this.o&&!this.J&&(xn==4?Zd(this.j,this):(this.o=!1,Nr(this)))}else rp(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),Ye(this),ar(this)}}}catch{}finally{}};function Dn(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ds(p,_){var A=p.C,q=_.indexOf(`
`,A);return q==-1?Gr:(A=Number(_.substring(A,q)),isNaN(A)?ot:(q+=1,q+A>_.length?Gr:(_=_.slice(q,q+A),p.C=q+A,_)))}Nt.prototype.cancel=function(){this.J=!0,Ye(this)};function Nr(p){p.S=Date.now()+p.I,Bi(p,p.I)}function Bi(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=we(b(p.ba,p),_)}function Gn(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Nt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Pe(this.i,this.A),this.L!=2&&(Y(),re(17)),Ye(this),this.s=2,ar(this)):Bi(this,this.S-p)};function ar(p){p.j.G==0||p.J||Zd(p.j,p)}function Ye(p){Gn(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Oe(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function cn(p,_){try{var A=p.j;if(A.G!=0&&(A.g==p||Qr(A.h,p))){if(!p.K&&Qr(A.h,p)&&A.G==3){try{var q=A.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ee=q;if(ee[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)cl(A),ol(A);else break e;Qc(A),re(18)}}else A.za=ee[1],0<A.za-A.T&&37500>ee[2]&&A.F&&A.v==0&&!A.C&&(A.C=we(b(A.Za,A),6e3));if(1>=Ut(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else di(A,11)}else if((p.K||A.g==p)&&cl(A),!S(_))for(ee=A.Da.g.parse(_),_=0;_<ee.length;_++){let _t=ee[_];if(A.T=_t[0],_t=_t[1],A.G==2)if(_t[0]=="c"){A.K=_t[1],A.ia=_t[2];const Nn=_t[3];Nn!=null&&(A.la=Nn,A.j.info("VER="+A.la));const xn=_t[4];xn!=null&&(A.Aa=xn,A.j.info("SVER="+A.Aa));const hi=_t[5];hi!=null&&typeof hi=="number"&&0<hi&&(q=1.5*hi,A.L=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const Pn=p.g;if(Pn){const Fs=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var de=q.h;de.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(ii(de,de.h),de.h=null))}if(q.D){const Yc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yc&&(q.ya=Yc,Pt(q.I,q.D,Yc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),q=A;var Te=p;if(q.qa=eh(q,q.J?q.ia:null,q.W),Te.K){kn(q.h,Te);var wt=Te,vn=q.L;vn&&(wt.I=vn),wt.B&&(Gn(wt),Nr(wt)),q.g=Te}else Xd(q);0<A.i.length&&ll(A)}else _t[0]!="stop"&&_t[0]!="close"||di(A,7);else A.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?di(A,7):$c(A):_t[0]!="noop"&&A.l&&A.l.ta(_t),A.v=0)}}Y(4)}catch{}}var Cr=class{constructor(p,_){this.g=p,this.map=_}};function pr(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ut(p){return p.h?1:p.g?p.g.size:0}function Qr(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function ii(p,_){p.g?p.g.add(_):p.h=_}function kn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}pr.prototype.cancel=function(){if(this.i=Vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Vc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const A of p.g.values())_=_.concat(A.D);return _}return P(p.i)}function Jm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],A=p.length,q=0;q<A;q++)_.push(p[q]);return _}_=[],A=0;for(q in p)_[A++]=p[q];return _}function tl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var A=0;A<p;A++)_.push(A);return _}_=[],A=0;for(const q in p)_[A++]=q;return _}}}function zc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var A=tl(p),q=Jm(p),ee=q.length,de=0;de<ee;de++)_.call(void 0,q[de],A&&A[de],p)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ep(p,_){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var q=p[A].indexOf("="),ee=null;if(0<=q){var de=p[A].substring(0,q);ee=p[A].substring(q+1)}else de=p[A];_(de,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function un(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof un){this.h=p.h,eo(this,p.j),this.o=p.o,this.g=p.g,Fi(this,p.s),this.l=p.l;var _=p.i,A=new oi;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),ai(this,A),this.m=p.m}else p&&(_=String(p).match(Ja))?(this.h=!1,eo(this,_[1]||"",!0),this.o=Kr(_[2]||""),this.g=Kr(_[3]||"",!0),Fi(this,_[4]),this.l=Kr(_[5]||"",!0),ai(this,_[6]||"",!0),this.m=Kr(_[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}un.prototype.toString=function(){var p=[],_=this.j;_&&p.push(no(_,Uc,!0),":");var A=this.g;return(A||_=="file")&&(p.push("//"),(_=this.o)&&p.push(no(_,Uc,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(no(A,A.charAt(0)=="/"?tp:Bc,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",no(A,nl)),p.join("")};function Ar(p){return new un(p)}function eo(p,_,A){p.j=A?Kr(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Fi(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function ai(p,_,A){_ instanceof oi?(p.i=_,$d(p.i,p.h)):(A||(_=no(_,np)),p.i=new oi(_,p.h))}function Pt(p,_,A){p.i.set(_,A)}function to(p){return Pt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Kr(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function no(p,_,A){return typeof p=="string"?(p=encodeURI(p).replace(_,Hd),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Hd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Uc=/[#\/\?@]/g,Bc=/[#\?:]/g,tp=/[#\?]/g,np=/[#\?@]/g,nl=/#/g;function oi(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Yr(p){p.g||(p.g=new Map,p.h=0,p.i&&ep(p.i,function(_,A){p.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}n=oi.prototype,n.add=function(p,_){Yr(this),this.i=null,p=Ps(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(_),this.h+=1,this};function li(p,_){Yr(p),_=Ps(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function ci(p,_){return Yr(p),_=Ps(p,_),p.g.has(_)}n.forEach=function(p,_){Yr(this),this.g.forEach(function(A,q){A.forEach(function(ee){p.call(_,ee,q,this)},this)},this)},n.na=function(){Yr(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let q=0;q<_.length;q++){const ee=p[q];for(let de=0;de<ee.length;de++)A.push(_[q])}return A},n.V=function(p){Yr(this);let _=[];if(typeof p=="string")ci(this,p)&&(_=_.concat(this.g.get(Ps(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)_=_.concat(p[A])}return _},n.set=function(p,_){return Yr(this),this.i=null,p=Ps(this,p),ci(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Fc(p,_,A){li(p,_),0<A.length&&(p.i=null,p.g.set(Ps(p,_),P(A)),p.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var q=_[A];const de=encodeURIComponent(String(q)),Te=this.V(q);for(q=0;q<Te.length;q++){var ee=de;Te[q]!==""&&(ee+="="+encodeURIComponent(String(Te[q]))),p.push(ee)}}return this.i=p.join("&")};function Ps(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function $d(p,_){_&&!p.j&&(Yr(p),p.i=null,p.g.forEach(function(A,q){var ee=q.toLowerCase();q!=ee&&(li(this,q),Fc(this,ee,A))},p)),p.j=_}function ro(p,_){const A=new Ae;if(h.Image){const q=new Image;q.onload=E(Xr,A,"TestLoadImage: loaded",!0,_,q),q.onerror=E(Xr,A,"TestLoadImage: error",!1,_,q),q.onabort=E(Xr,A,"TestLoadImage: abort",!1,_,q),q.ontimeout=E(Xr,A,"TestLoadImage: timeout",!1,_,q),h.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=p}else _(!1)}function gs(p,_){const A=new Ae,q=new AbortController,ee=setTimeout(()=>{q.abort(),Xr(A,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:q.signal}).then(de=>{clearTimeout(ee),de.ok?Xr(A,"TestPingServer: ok",!0,_):Xr(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ee),Xr(A,"TestPingServer: error",!1,_)})}function Xr(p,_,A,q,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),q(A)}catch{}}function so(){this.g=new gt}function Ls(p,_,A){const q=A||"";try{zc(p,function(ee,de){let Te=ee;m(ee)&&(Te=Me(ee)),_.push(q+de+"="+encodeURIComponent(Te))})}catch(ee){throw _.push(q+"type="+encodeURIComponent("_badmap")),ee}}function qi(p){this.l=p.Ub||null,this.j=p.eb||!1}N(qi,$t),qi.prototype.g=function(){return new ui(this.l,this.j)},qi.prototype.i=function(p){return function(){return p}}({});function ui(p,_){bt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ui,bt),n=ui.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,zs(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?Vs(this):zs(this),this.readyState==3&&qc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Vs(this))},n.Qa=function(p){this.g&&(this.response=p,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(p){p.readyState=4,p.l=null,p.j=null,p.v=null,zs(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=_.next();return p.join(`\r
`)};function zs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Hc(p){let _="";return B(p,function(A,q){_+=q,_+=":",_+=A,_+=`\r
`}),_}function Sn(p,_,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=Hc(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):Pt(p,_,A))}function jt(p){bt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(jt,bt);var rl=/^https?$/i,io=["POST","PUT"];n=jt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ut.g(),this.v=this.o?ln(this.o):ln(ut),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(de){Gd(this,de);return}if(p=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ee in q)A.set(ee,q[ee]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const de of q.keys())A.set(de,q.get(de));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),ee=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(io,_,void 0))||q||ee||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Te]of A)this.g.setRequestHeader(de,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(p),this.u=!1}catch(de){Gd(this,de)}};function Gd(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,sl(p),Us(p)}function sl(p){p.A||(p.A=!0,et(p,"complete"),et(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,et(this,"complete"),et(this,"abort"),Us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?il(this):this.bb())},n.bb=function(){il(this)};function il(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Wr(p)!=4||p.Z()!=2)){if(p.u&&Wr(p)==4)Kt(p.Ea,0,p);else if(et(p,"readystatechange"),Wr(p)==4){p.h=!1;try{const Te=p.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var q;if(q=Te===0){var ee=String(p.D).match(Ja)[1]||null;!ee&&h.self&&h.self.location&&(ee=h.self.location.protocol.slice(0,-1)),q=!rl.test(ee?ee.toLowerCase():"")}A=q}if(A)et(p,"complete"),et(p,"success");else{p.m=6;try{var de=2<Wr(p)?p.g.statusText:""}catch{de=""}p.l=de+" ["+p.Z()+"]",sl(p)}}finally{Us(p)}}}}function Us(p,_){if(p.g){ao(p);const A=p.g,q=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||et(p,"ready");try{A.onreadystatechange=q}catch{}}}function ao(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Wr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),rt(_)}};function Qd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function rp(p){const _={};p=(p.g&&2<=Wr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<p.length;q++){if(S(p[q]))continue;var A=k(p[q]);const ee=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=_[ee]||[];_[ee]=de,de.push(A)}z(_,function(q){return q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(p,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||_}function al(p){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,p),this.cb=oo("retryDelaySeedMs",1e4,p),this.Wa=oo("forwardChannelMaxRetries",2,p),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new pr(p&&p.concurrentRequestLimit),this.Da=new so,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=al.prototype,n.la=8,n.G=1,n.connect=function(p,_,A,q){re(0),this.W=p,this.H=_||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.I=eh(this,null,this.W),ll(this)};function $c(p){if(Kd(p),p.G==3){var _=p.U++,A=Ar(p.I);if(Pt(A,"SID",p.K),Pt(A,"RID",_),Pt(A,"TYPE","terminate"),lo(p,A),_=new Nt(p,p.j,_),_.L=2,_.v=to(Ar(A)),A=!1,h.navigator&&h.navigator.sendBeacon)try{A=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&h.Image&&(new Image().src=_.v,A=!0),A||(_.g=th(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Nr(_)}Jd(p)}function ol(p){p.g&&(co(p),p.g.cancel(),p.g=null)}function Kd(p){ol(p),p.u&&(h.clearTimeout(p.u),p.u=null),cl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ll(p){if(!ks(p.h)&&!p.s){p.s=!0;var _=p.Ga;$||H(),K||($(),K=!0),te.add(_,p),p.B=0}}function sp(p,_){return Ut(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=we(b(p.Ga,p,_),Kc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ee=new Nt(this,this.j,p);let de=this.o;if(this.S&&(de?(de=R(de),C(de,this.S)):de=this.S),this.m!==null||this.O||(ee.H=de,de=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=Yd(this,ee,_),A=Ar(this.I),Pt(A,"RID",p),Pt(A,"CVER",22),this.D&&Pt(A,"X-HTTP-Session-Id",this.D),lo(this,A),de&&(this.O?_="headers="+encodeURIComponent(String(Hc(de)))+"&"+_:this.m&&Sn(A,this.m,de)),ii(this.h,ee),this.Ua&&Pt(A,"TYPE","init"),this.P?(Pt(A,"$req",_),Pt(A,"SID","null"),ee.T=!0,yn(ee,A,null)):yn(ee,A,_),this.G=2}}else this.G==3&&(p?Gc(this,p):this.i.length==0||ks(this.h)||Gc(this))};function Gc(p,_){var A;_?A=_.l:A=p.U++;const q=Ar(p.I);Pt(q,"SID",p.K),Pt(q,"RID",A),Pt(q,"AID",p.T),lo(p,q),p.m&&p.o&&Sn(q,p.m,p.o),A=new Nt(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Yd(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ii(p.h,A),yn(A,q,_)}function lo(p,_){p.H&&B(p.H,function(A,q){Pt(_,q,A)}),p.l&&zc({},function(A,q){Pt(_,q,A)})}function Yd(p,_,A){A=Math.min(p.i.length,A);var q=p.l?b(p.l.Na,p.l,p):null;e:{var ee=p.i;let de=-1;for(;;){const Te=["count="+A];de==-1?0<A?(de=ee[0].g,Te.push("ofs="+de)):de=0:Te.push("ofs="+de);let wt=!0;for(let vn=0;vn<A;vn++){let _t=ee[vn].g;const Nn=ee[vn].map;if(_t-=de,0>_t)de=Math.max(0,ee[vn].g-100),wt=!1;else try{Ls(Nn,Te,"req"+_t+"_")}catch{q&&q(Nn)}}if(wt){q=Te.join("&");break e}}}return p=p.i.splice(0,A),_.D=p,q}function Xd(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;$||H(),K||($(),K=!0),te.add(_,p),p.v=0}}function Qc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=we(b(p.Fa,p),Kc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Wd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=we(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),ol(this),Wd(this))};function co(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function Wd(p){p.g=new Nt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Ar(p.qa);Pt(_,"RID","rpc"),Pt(_,"SID",p.K),Pt(_,"AID",p.T),Pt(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Pt(_,"TO",p.ja),Pt(_,"TYPE","xmlhttp"),lo(p,_),p.m&&p.o&&Sn(_,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=to(Ar(_)),A.m=null,A.P=!0,ir(A,p)}n.Za=function(){this.C!=null&&(this.C=null,ol(this),Qc(this),re(19))};function cl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function Zd(p,_){var A=null;if(p.g==_){cl(p),co(p),p.g=null;var q=2}else if(Qr(p.h,_))A=_.D,kn(p.h,_),q=1;else return;if(p.G!=0){if(_.o)if(q==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var ee=p.B;q=Sr(),et(q,new ve(q,A)),ll(p)}else Xd(p);else if(ee=_.s,ee==3||ee==0&&0<_.X||!(q==1&&sp(p,_)||q==2&&Qc(p)))switch(A&&0<A.length&&(_=p.h,_.i=_.i.concat(A)),ee){case 1:di(p,5);break;case 4:di(p,10);break;case 3:di(p,6);break;default:di(p,2)}}}function Kc(p,_){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*_}function di(p,_){if(p.j.info("Error code "+_),_==2){var A=b(p.fb,p),q=p.Xa;const ee=!q;q=new un(q||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||eo(q,"https"),to(q),ee?ro(q.toString(),A):gs(q.toString(),A)}else re(2);p.G=0,p.l&&p.l.sa(_),Jd(p),Kd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Jd(p){if(p.G=0,p.ka=[],p.l){const _=Vc(p.h);(_.length!=0||p.i.length!=0)&&(D(p.ka,_),D(p.ka,p.i),p.h.i.length=0,P(p.i),p.i.length=0),p.l.ra()}}function eh(p,_,A){var q=A instanceof un?Ar(A):new un(A);if(q.g!="")_&&(q.g=_+"."+q.g),Fi(q,q.s);else{var ee=h.location;q=ee.protocol,_=_?_+"."+ee.hostname:ee.hostname,ee=+ee.port;var de=new un(null);q&&eo(de,q),_&&(de.g=_),ee&&Fi(de,ee),A&&(de.l=A),q=de}return A=p.D,_=p.ya,A&&_&&Pt(q,A,_),Pt(q,"VER",p.la),lo(p,q),q}function th(p,_,A){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new jt(new qi({eb:A})):new jt(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}n=nh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ul(){}ul.prototype.g=function(p,_){return new or(p,_)};function or(p,_){bt.call(this),this.g=new al(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!S(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!S(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Bs(this)}N(or,bt),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){$c(this.g)},or.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=Me(p),p=A);_.i.push(new Cr(_.Ya++,p)),_.G==3&&ll(_)},or.prototype.N=function(){this.g.l=null,delete this.j,$c(this.g),delete this.g,or.aa.N.call(this)};function rh(p){$n.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const A in _){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}N(rh,$n);function sh(){On.call(this),this.status=1}N(sh,On);function Bs(p){this.g=p}N(Bs,nh),Bs.prototype.ua=function(){et(this.g,"a")},Bs.prototype.ta=function(p){et(this.g,new rh(p))},Bs.prototype.sa=function(p){et(this.g,new sh)},Bs.prototype.ra=function(){et(this.g,"b")},ul.prototype.createWebChannel=ul.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,lT=function(){return new ul},oT=function(){return Sr()},aT=Yt,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Nf=ke,qe.COMPLETE="complete",iT=qe,sr.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Gu=sr,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,sT=jt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",l_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new qy("@firebase/firestore");function Bl(){return Fo.logLevel}function Ce(n,...e){if(Fo.logLevel<=mt.DEBUG){const t=e.map(Gy);Fo.debug(`Firestore (${Mc}): ${n}`,...t)}}function ki(n,...e){if(Fo.logLevel<=mt.ERROR){const t=e.map(Gy);Fo.error(`Firestore (${Mc}): ${n}`,...t)}}function vc(n,...e){if(Fo.logLevel<=mt.WARN){const t=e.map(Gy);Fo.warn(`Firestore (${Mc}): ${n}`,...t)}}function Gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cT(n,r,t)}function cT(n,e,t){let r=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ki(r),new Error(r)}function Mt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||cT(e,a,r)}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wn.UNAUTHENTICATED))}shutdown(){}}class n3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r3{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class s3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i3{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new s3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new c_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=o3(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function q0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return at(r,a);{const o=dT(),u=l3(o.encode(u_(n,t)),o.encode(u_(e,t)));return u!==0?u:at(r,a)}}t+=r>65535?2:1}return at(n.length,e.length)}function u_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function l3(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return at(n[t],e[t]);return at(n.length,e.length)}function xc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-62135596800,h_=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*h_);return new _n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<d_)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h_}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new _n(0,0))}static max(){return new We(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="__name__";class Ys{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ys.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return at(e.length,t.length)}static compareSegments(e,t){const r=Ys.isNumericId(e),a=Ys.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ys.extractNumericId(e).compare(Ys.extractNumericId(t)):q0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class qt extends Ys{construct(e,t,r){return new qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const c3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Ys{construct(e,t,r){return new Fn(e,t,r)}static isValidIdentifier(e){return c3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new Fn([f_])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(qt.fromString(e))}static fromName(e){return new ze(qt.fromString(e).popFirst(5))}static empty(){return new ze(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function u3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new _n(t+1,0):new _n(t,r));return new Ua(a,ze.empty(),e)}function d3(n){return new Ua(n.readTime,n.key,cd)}class Ua{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ua(We.min(),ze.empty(),cd)}static max(){return new Ua(We.max(),ze.empty(),cd)}}function h3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==f3)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(a=>a?be.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new be((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++h,h===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new be((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function p3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Em.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function Tm(n){return n==null}function Qf(n){return n===0&&1/n==-1/0}function g3(n){return typeof n=="number"&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function y3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m_(e)),e=v3(n.get(t),e);return m_(e)}function v3(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case fT:t+="";break;default:t+=o}}return t}function m_(n){return n+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Un.RED,this.left=a??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Un(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new En(Fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pT("Invalid base64 string: "+o):o}}(e);return new qn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new qn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const x3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=x3.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(n.seconds),nanos:an(n.nanos)}}function an(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fa(n){return typeof n=="string"?qn.fromBase64String(n):qn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",vT="__previous_value__",xT="__local_write_time__";function Sm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yT])===null||t===void 0?void 0:t.stringValue)===gT}function Nm(n){const e=n.mapValue.fields[vT];return Sm(e)?Nm(e):e}function ud(n){const e=Ba(n.mapValue.fields[xT].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t,r,a,o,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const Kf="(default)";class dd{constructor(e,t){this.projectId=e,this.database=t||Kf}static empty(){return new dd("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",w3="__max__",hf={mapValue:{}},wT="__vector__",Yf="value";function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sm(n)?4:E3(n)?9007199254740991:_3(n)?10:11:Ge(28295,{value:n})}function ri(n,e){if(n===e)return!0;const t=qa(n);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ud(n).isEqual(ud(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ba(a.timestampValue),h=Ba(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Fa(a.bytesValue).isEqual(Fa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return an(a.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(a.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return an(a.integerValue)===an(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=an(a.doubleValue),h=an(o.doubleValue);return u===h?Qf(u)===Qf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return xc(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(p_(u)!==p_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ri(u[f],h[f])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function bc(n,e){if(n===e)return 0;const t=qa(n),r=qa(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=an(o.integerValue||o.doubleValue),f=an(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return y_(n.timestampValue,e.timestampValue);case 4:return y_(ud(n),ud(e));case 5:return q0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Fa(o),f=Fa(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=at(h[m],f[m]);if(y!==0)return y}return at(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=at(an(o.latitude),an(u.latitude));return h!==0?h:at(an(o.longitude),an(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return v_(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,m,y;const x=o.fields||{},b=u.fields||{},E=(h=x[Yf])===null||h===void 0?void 0:h.arrayValue,N=(f=b[Yf])===null||f===void 0?void 0:f.arrayValue,P=at(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:v_(E,N)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===hf.mapValue&&u===hf.mapValue)return 0;if(o===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const b=q0(f[x],y[x]);if(b!==0)return b;const E=bc(h[f[x]],m[y[x]]);if(E!==0)return E}return at(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function y_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=Ba(n),r=Ba(e),a=at(t.seconds,r.seconds);return a!==0?a:at(t.nanos,r.nanos)}function v_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=bc(t[a],r[a]);if(o)return o}return at(t.length,r.length)}function wc(n){return H0(n)}function H0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ba(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ze.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=H0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${H0(t.fields[u])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function Cf(n){switch(qa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nm(n);return e?16+Cf(e):16;case 5:return 2*n.stringValue.length;case 6:return Fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Cf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ya(r.fields,(o,u)=>{a+=o.length+Cf(u)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $0(n){return!!n&&"integerValue"in n}function Ky(n){return!!n&&"arrayValue"in n}function x_(n){return!!n&&"nullValue"in n}function b_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Af(n){return!!n&&"mapValue"in n}function _3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||t===void 0?void 0:t.stringValue)===wT}function ed(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ya(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ed(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return Object.assign({},n)}function E3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===w3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=Fn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=ed(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ya(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new _r(ed(this.value))}}function _T(n){const e=[];return Ya(n.fields,(t,r)=>{const a=new Fn([t]);if(Af(r)){const o=_T(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Zn(e,0,We.min(),We.min(),We.min(),_r.empty(),0)}static newFoundDocument(e,t,r,a){return new Zn(e,1,t,We.min(),r,a,0)}static newNoDocument(e,t){return new Zn(e,2,t,We.min(),We.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,We.min(),We.min(),_r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this.position=e,this.inclusive=t}}function w_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(u.referenceValue),t.key):r=bc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function __(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function T3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{}class mn extends ET{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new N3(e,t,r):t==="array-contains"?new R3(e,r):t==="in"?new j3(e,r):t==="not-in"?new I3(e,r):t==="array-contains-any"?new M3(e,r):new mn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new C3(e,r):new A3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bc(t,this.value)):t!==null&&qa(this.value)===qa(t)&&this.matchesComparison(bc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cs extends ET{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Cs(e,t)}matches(e){return TT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TT(n){return n.op==="and"}function ST(n){return S3(n)&&TT(n)}function S3(n){for(const e of n.filters)if(e instanceof Cs)return!1;return!0}function G0(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(ST(n))return n.filters.map(e=>G0(e)).join(",");{const e=n.filters.map(t=>G0(t)).join(",");return`${n.op}(${e})`}}function NT(n,e){return n instanceof mn?function(r,a){return a instanceof mn&&r.op===a.op&&r.field.isEqual(a.field)&&ri(r.value,a.value)}(n,e):n instanceof Cs?function(r,a){return a instanceof Cs&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&NT(u,a.filters[h]),!0):!1}(n,e):void Ge(19439)}function CT(n){return n instanceof mn?function(t){return`${t.field.canonicalString()} ${t.op} ${wc(t.value)}`}(n):n instanceof Cs?function(t){return t.op.toString()+" {"+t.getFilters().map(CT).join(" ,")+"}"}(n):"Filter"}class N3 extends mn{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class C3 extends mn{constructor(e,t){super(e,"in",t),this.keys=AT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class A3 extends mn{constructor(e,t){super(e,"not-in",t),this.keys=AT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class R3 extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ky(t)&&hd(t.arrayValue,this.value)}}class j3 extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}}class I3 extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}}class M3 extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function E_(n,e=null,t=[],r=[],a=null,o=null,u=null){return new O3(n,e,t,r,a,o,u)}function Yy(n){const e=Je(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>G0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wc(r)).join(",")),e.Ie=t}return e.Ie}function Xy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!T3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!__(n.startAt,e.startAt)&&__(n.endAt,e.endAt)}function Q0(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function D3(n,e,t,r,a,o,u,h){return new Xo(n,e,t,r,a,o,u,h)}function Cm(n){return new Xo(n)}function T_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wy(n){return n.collectionGroup!==null}function Yl(n){const e=Je(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new En(Fn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new fd(o,r))}),t.has(Fn.keyField().canonicalString())||e.Ee.push(new fd(Fn.keyField(),r))}return e.Ee}function ei(n){const e=Je(n);return e.de||(e.de=k3(e,Yl(n))),e.de}function k3(n,e){if(n.limitType==="F")return E_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new fd(a.field,o)});const t=n.endAt?new _c(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _c(n.startAt.position,n.startAt.inclusive):null;return E_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function K0(n,e){const t=n.filters.concat([e]);return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wf(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return Xy(ei(n),ei(e))&&n.limitType===e.limitType}function RT(n){return`${Yy(ei(n))}|lt:${n.limitType}`}function Fl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>CT(a)).join(", ")}]`),Tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>wc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>wc(a)).join(",")),`Target(${r})`}(ei(n))}; limitType=${n.limitType})`}function Rm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Yl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const m=w_(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Yl(r),a)||r.endAt&&!function(u,h,f){const m=w_(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Yl(r),a))}(n,e)}function P3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jT(n){return(e,t)=>{let r=!1;for(const a of Yl(n)){const o=L3(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function L3(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?bc(f,m):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return mT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Wt(ze.comparator);function Pi(){return V3}const IT=new Wt(ze.comparator);function Qu(...n){let e=IT;for(const t of n)e=e.insert(t.key,t);return e}function MT(n){let e=IT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ro(){return td()}function OT(){return td()}function td(){return new Wo(n=>n.toString(),(n,e)=>n.isEqual(e))}const z3=new Wt(ze.comparator),U3=new En(ze.comparator);function pt(...n){let e=U3;for(const t of n)e=e.add(t);return e}const B3=new En(at);function F3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function q3(n,e){return g3(e)?DT(e):Zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this._=void 0}}function H3(n,e,t){return n instanceof md?function(a,o){const u={fields:{[yT]:{stringValue:gT},[xT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Sm(o)&&(o=Nm(o)),o&&(u.fields[vT]=o),{mapValue:u}}(t,e):n instanceof Ec?PT(n,e):n instanceof pd?LT(n,e):function(a,o){const u=kT(a,o),h=S_(u)+S_(a.Re);return $0(u)&&$0(a.Re)?DT(h):Zy(a.serializer,h)}(n,e)}function $3(n,e,t){return n instanceof Ec?PT(n,e):n instanceof pd?LT(n,e):t}function kT(n,e){return n instanceof Zf?function(r){return $0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class md extends jm{}class Ec extends jm{constructor(e){super(),this.elements=e}}function PT(n,e){const t=VT(e);for(const r of n.elements)t.some(a=>ri(a,r))||t.push(r);return{arrayValue:{values:t}}}class pd extends jm{constructor(e){super(),this.elements=e}}function LT(n,e){let t=VT(e);for(const r of n.elements)t=t.filter(a=>!ri(a,r));return{arrayValue:{values:t}}}class Zf extends jm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function S_(n){return an(n.integerValue||n.doubleValue)}function VT(n){return Ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.field=e,this.transform=t}}function G3(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Ec&&a instanceof Ec||r instanceof pd&&a instanceof pd?xc(r.elements,a.elements,ri):r instanceof Zf&&a instanceof Zf?ri(r.Re,a.Re):r instanceof md&&a instanceof md}(n.transform,e.transform)}class Q3{constructor(e,t){this.version=e,this.transformResults=t}}class cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let Im=class{};function UT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,cs.none()):new Id(n.key,n.data,cs.none());{const t=n.data,r=_r.empty();let a=new En(Fn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Xa(n.key,r,new Ur(a.toArray()),cs.none())}}function K3(n,e,t){n instanceof Id?function(a,o,u){const h=a.value.clone(),f=C_(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Xa?function(a,o,u){if(!Rf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=C_(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(BT(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function nd(n,e,t,r){return n instanceof Id?function(o,u,h,f){if(!Rf(o.precondition,u))return h;const m=o.value.clone(),y=A_(o.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xa?function(o,u,h,f){if(!Rf(o.precondition,u))return h;const m=A_(o.fieldTransforms,f,u),y=u.data;return y.setAll(BT(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(o,u,h){return Rf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function Y3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=kT(r.transform,a||null);o!=null&&(t===null&&(t=_r.empty()),t.set(r.field,o))}return t||null}function N_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xc(r,a,(o,u)=>G3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Id extends Im{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xa extends Im{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function C_(n,e,t){const r=new Map;Mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,$3(u,h,t[a]))}return r}function A_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,H3(o,u,e))}return r}class Jy extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&K3(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=OT();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=UT(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,(t,r)=>N_(t,r))&&xc(this.baseMutations,e.baseMutations,(t,r)=>N_(t,r))}}class ev{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return z3}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new ev(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,Tt;function e5(n){switch(n){case me.OK:return Ge(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function FT(n){if(n===void 0)return ki("GRPC error has no .code"),me.UNKNOWN;switch(n){case fn.OK:return me.OK;case fn.CANCELLED:return me.CANCELLED;case fn.UNKNOWN:return me.UNKNOWN;case fn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case fn.INTERNAL:return me.INTERNAL;case fn.UNAVAILABLE:return me.UNAVAILABLE;case fn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case fn.NOT_FOUND:return me.NOT_FOUND;case fn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case fn.ABORTED:return me.ABORTED;case fn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case fn.DATA_LOSS:return me.DATA_LOSS;default:return Ge(39323,{code:n})}}(Tt=fn||(fn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new ka([4294967295,4294967295],0);function R_(n){const e=dT().encode(n),t=new rT;return t.update(e),new Uint8Array(t.digest())}function j_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([t,r],0),new ka([a,o],0)]}class tv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ku(`Invalid padding: ${t}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ka.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(ka.fromNumber(r)));return a.compare(t5)===1&&(a=new ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=R_(e),[r,a]=j_(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new tv(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=R_(e),[r,a]=j_(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mm(We.min(),a,new Wt(at),Pi(),pt())}}class Md{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Md(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class qT{constructor(e,t){this.targetId=e,this.Ce=t}}class HT{constructor(e,t,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class I_{constructor(){this.Fe=0,this.Me=M_(),this.xe=qn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pt(),t=pt(),r=pt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new Md(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=M_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class n5{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=ff(),this.Ye=ff(),this.Ze=new Wt(at)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Q0(o))if(r===0){const u=new ze(o.path);this.tt(t,u,Zn.newNoDocument(u,We.min()))}else Mt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Fa(r).toUint8Array()}catch(f){if(f instanceof pT)return vc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new tv(u,a,o)}catch(f){return vc(f instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Q0(h.target)){const f=new ze(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Zn.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=pt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new Mm(e,t,this.Ze,this.He,r);return this.He=Pi(),this.Je=ff(),this.Ye=ff(),this.Ze=new Wt(at),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new I_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new En(at),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new En(at),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new I_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ff(){return new Wt(ze.comparator)}function M_(){return new Wt(ze.comparator)}const r5={asc:"ASCENDING",desc:"DESCENDING"},s5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i5={and:"AND",or:"OR"};class a5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Y0(n,e){return n.useProto3Json||Tm(e)?e:{value:e}}function Jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function o5(n,e){return Jf(n,e.toTimestamp())}function ti(n){return Mt(!!n,49232),We.fromTimestamp(function(t){const r=Ba(t);return new _n(r.seconds,r.nanos)}(n))}function nv(n,e){return X0(n,e).canonicalString()}function X0(n,e){const t=function(a){return new qt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function GT(n){const e=qt.fromString(n);return Mt(WT(e),10190,{key:e.toString()}),e}function W0(n,e){return nv(n.databaseId,e.path)}function h0(n,e){const t=GT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(KT(t))}function QT(n,e){return nv(n.databaseId,e)}function l5(n){const e=GT(n);return e.length===4?qt.emptyPath():KT(e)}function Z0(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KT(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function O_(n,e,t){return{name:W0(n,e),fields:t.value.mapValue.fields}}function c5(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ge(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Mt(y===void 0||typeof y=="string",58123),qn.fromBase64String(y||"")):(Mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),qn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const y=m.code===void 0?me.UNKNOWN:FT(m.code);return new Ne(y,m.message||"")}(u);t=new HT(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=h0(n,r.document.name),o=ti(r.document.updateTime),u=r.document.createTime?ti(r.document.createTime):We.min(),h=new _r({mapValue:{fields:r.document.fields}}),f=Zn.newFoundDocument(a,o,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new jf(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=h0(n,r.document),o=r.readTime?ti(r.readTime):We.min(),u=Zn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new jf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=h0(n,r.document),o=r.removedTargetIds||[];t=new jf([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new J3(a,o),h=r.targetId;t=new qT(h,u)}}return t}function u5(n,e){let t;if(e instanceof Id)t={update:O_(n,e.key,e.value)};else if(e instanceof Jy)t={delete:W0(n,e.key)};else if(e instanceof Xa)t={update:O_(n,e.key,e.data),updateMask:x5(e.fieldMask)};else{if(!(e instanceof X3))return Ge(16599,{ft:e.type});t={verify:W0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof md)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ge(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:o5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function d5(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?ti(a.updateTime):ti(o);return u.isEqual(We.min())&&(u=ti(o)),new Q3(u,a.transformResults||[])}(t,e))):[]}function h5(n,e){return{documents:[QT(n,e.path)]}}function f5(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QT(n,a);const o=function(m){if(m.length!==0)return XT(Cs.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:ql(b.field),direction:g5(b.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Y0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function m5(n){let e=l5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Mt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(x){const b=YT(x);return b instanceof Cs&&ST(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(x){return x.map(b=>function(N){return new fd(Hl(N.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let h=null;t.limit&&(h=function(x){let b;return b=typeof x=="object"?x.value:x,Tm(b)?null:b}(t.limit));let f=null;t.startAt&&(f=function(x){const b=!!x.before,E=x.values||[];return new _c(E,b)}(t.startAt));let m=null;return t.endAt&&(m=function(x){const b=!x.before,E=x.values||[];return new _c(E,b)}(t.endAt)),D3(e,a,u,o,h,"F",f,m)}function p5(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Hl(t.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Hl(t.unaryFilter.field);return mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hl(t.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Hl(t.unaryFilter.field);return mn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return mn.create(Hl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cs.create(t.compositeFilter.filters.map(r=>YT(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function g5(n){return r5[n]}function y5(n){return s5[n]}function v5(n){return i5[n]}function ql(n){return{fieldPath:n.canonicalString()}}function Hl(n){return Fn.fromServerFormat(n.fieldPath)}function XT(n){return n instanceof mn?function(t){if(t.op==="=="){if(b_(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(x_(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b_(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(x_(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:y5(t.op),value:t.value}}}(n):n instanceof Cs?function(t){const r=t.getFilters().map(a=>XT(a));return r.length===1?r[0]:{compositeFilter:{op:v5(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function x5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,r,a,o=We.min(),u=We.min(),h=qn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.wt=e}}function w5(n){const e=m5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.yn=new E5}addToCollectionParentIndex(e,t){return this.yn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Ua.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class E5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new En(qt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new En(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZT=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(ZT,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Tc(0)}static ir(){return new Tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="LruGarbageCollector",T5=1048576;function P_([n,e],[t,r]){const a=at(n,t);return a===0?at(e,r):a}class S5{constructor(e){this.cr=e,this.buffer=new En(P_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();P_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ce(k_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dc(t)?Ce(k_,"Ignoring IndexedDB error during garbage collection: ",t):await Oc(t)}await this.Ir(3e5)})}}class C5{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return be.resolve(Em.le);const r=new S5(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(D_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(m=Date.now(),Bl()<=mt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x})))}}function A5(n,e){return new C5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.changes=new Wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&nd(r.mutation,a,Ur.empty(),_n.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const a=Ro();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Qu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=Pi();const u=td(),h=function(){return td()}();return t.forEach((f,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Xa)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),nd(y.mutation,m,y.mutation.getFieldMask(),_n.now())):u.set(m.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var x;return h.set(m,new j5(y,(x=u.get(m))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=td();let a=new Wt((u,h)=>u-h),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Ur.empty();y=h.applyToLocalView(m,y),r.set(f,y);const x=(a.get(h.batchId)||pt()).add(f);a=a.insert(h.batchId,x)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,x=OT();y.forEach(b=>{if(!o.has(b)){const E=UT(t.get(b),r.get(b));E!==null&&x.set(b,E),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return be.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return ze.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):be.resolve(Ro());let h=cd,f=o;return u.next(m=>be.forEach(m,(y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(y)?be.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,pt())).next(y=>({batchId:h,changes:MT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let a=Qu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Qu();return this.indexManager.getCollectionParents(e,o).next(h=>be.forEach(h,f=>{const m=function(x,b){return new Xo(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(y=>{y.forEach((x,b)=>{u=u.insert(x,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Zn.newInvalidDocument(y)))});let h=Qu();return u.forEach((f,m)=>{const y=o.get(f);y!==void 0&&nd(y.mutation,m,Ur.empty(),_n.now()),Rm(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return be.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ti(a.createTime)}}(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:w5(a.bundledQuery),readTime:ti(a.readTime)}}(t)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.overlays=new Wt(ze.comparator),this.Or=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ro();return be.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const a=Ro(),o=t.length+1,u=new ze(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return be.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Wt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=Ro(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ro(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return be.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Z3(t,r));let o=this.Or.get(t);o===void 0&&(o=pt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Nr=new En(jn.Br),this.Lr=new En(jn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new jn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new jn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new ze(new qt([])),r=new jn(t,e),a=new jn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ze(new qt([])),r=new jn(t,e),a=new jn(t,e+1);let o=pt();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new jn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ze.comparator(e.key,t.key)||at(e.Gr,t.Gr)}static kr(e,t){return at(e.Gr,t.Gr)||ze.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new En(jn.Br)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new W3(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new jn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(u)}lookupMutationBatch(e,t){return be.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?Qy:this.Jn-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jn(t,0),a=new jn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const h=this.jr(u.Gr);o.push(h)}),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(at);return t.forEach(a=>{const o=new jn(a,0),u=new jn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),be.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const u=new jn(new ze(o),0);let h=new En(at);return this.zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Gr)),!0)},u),be.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Mt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return be.forEach(t.mutations,a=>{const o=new jn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new jn(t,0),a=this.zr.firstAfterOrEqual(r);return be.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.Zr=e,this.docs=function(){return new Wt(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=Pi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Zn.newInvalidDocument(a))}),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Pi();const u=t.path,h=new ze(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||h3(d3(y),r)<=0||(a.has(y.key)||Rm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new L5(this)}getSize(e){return be.resolve(this.size)}}class L5 extends R5{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.persistence=e,this.ei=new Wo(t=>Yy(t),Xy),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ti=0,this.ni=new rv,this.targetCount=0,this.ri=Tc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),be.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.ar(t),be.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),be.waitFor(o).next(()=>a)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),be.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.ii={},this.overlays={},this.si=new Em(0),this.oi=!1,this.oi=!0,this._i=new D5,this.referenceDelegate=e(this),this.ai=new V5(this),this.indexManager=new _5,this.remoteDocumentCache=function(a){return new P5(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new b5(t),this.ci=new M5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new k5(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ce("MemoryPersistence","Starting transaction:",e);const a=new z5(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return be.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class z5 extends m3{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Ti=new rv,this.Ii=null}static Ei(e){return new sv(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.di,r=>{const a=ze.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,We.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return be.or([()=>be.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class em{constructor(e,t){this.persistence=e,this.Ri=new Wo(r=>y3(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=A5(this,t)}static Ei(e,t){return new em(e,t)}li(){}hi(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return be.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?be.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,We.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),be.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}gr(e,t,r){return be.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return be.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=pt(),a=pt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new iv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Lj()?8:p3(er())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new U5;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Bl()<=mt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),be.resolve()):(Bl()<=mt.DEBUG&&Ce("QueryEngine","Query:",Fl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Bl()<=mt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):be.resolve())}Rs(e,t){if(T_(t))return be.resolve(null);let r=ei(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Wf(t,null,"F"),r=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=pt(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.ps(t,h);return this.ys(t,m,u,f.readTime)?this.Rs(e,Wf(t,null,"F")):this.ws(e,m,t,f)}))})))}Vs(e,t,r,a){return T_(t)||a.isEqual(We.min())?be.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?be.resolve(null):(Bl()<=mt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fl(t)),this.ws(e,u,t,u3(a,cd)).next(h=>h))})}ps(e,t){let r=new En(jT(e));return t.forEach((a,o)=>{Rm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Bl()<=mt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Fl(t)),this.As.getDocumentsMatchingQuery(e,t,Ua.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",F5=3e8;class q5{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Wt(at),this.Ds=new Wo(o=>Yy(o),Xy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I5(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function H5(n,e,t,r){return new q5(n,e,t,r)}async function eS(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=pt();for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ms:m,removedBatchIds:u,addedBatchIds:h}))})})}function $5(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const x=m.batch,b=x.keys();let E=be.resolve();return b.forEach(N=>{E=E.next(()=>y.getEntry(f,N)).next(P=>{const D=m.docVersions.get(N);Mt(D!==null,48541),P.version.compareTo(D)<0&&(x.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))})}),E.next(()=>h.mutationQueue.removeMutationBatch(f,x))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=pt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function tS(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function G5(n,e){const t=Je(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,x)=>{const b=a.get(x);if(!b)return;h.push(t.ai.removeMatchingKeys(o,y.removedDocuments,x).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,x)));let E=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(qn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),a=a.insert(x,E),function(P,D,T){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=F5?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(b,E,y)&&h.push(t.ai.updateTargetData(o,E))});let f=Pi(),m=pt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(Q5(o,u,e.documentUpdates).next(y=>{f=y.xs,m=y.Os})),!r.isEqual(We.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(x=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return be.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(t.Ss=a,o))}function Q5(n,e,t){let r=pt(),a=pt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Pi();return t.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ce(av,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{xs:u,Os:a}})}function K5(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y5(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,be.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new Ca(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function J0(n,e,t){const r=Je(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Dc(u))throw u;Ce(av,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function L_(n,e,t){const r=Je(n);let a=We.min(),o=pt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const x=Je(f),b=x.Ds.get(y);return b!==void 0?be.resolve(x.Ss.get(b)):x.ai.getTargetData(m,y)}(r,u,ei(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:We.min(),t?o:pt())).next(h=>(X5(r,P3(e),h),{documents:h,Ns:o})))}function X5(n,e,t){let r=n.vs.get(e)||We.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class V_{constructor(){this.activeTargetIds=F3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W5{constructor(){this.So=new V_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new V_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class U_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ce(z_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ce(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function ey(){return mf===null?mf=function(){return 268435456+Math.round(2147483648*Math.random())}():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="RestConnection",J5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=ey(),h=this.$o(e,t.toUriEncodedString());Ce(f0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,h,f,r).then(m=>(Ce(f0,`Received RPC '${e}' ${u}: `,m),m),m=>{throw vc(f0,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=J5[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class nM extends eM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=ey();return new Promise((u,h)=>{const f=new sT;f.setWithCredentials(!0),f.listenOnce(iT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Nf.NO_ERROR:const y=f.getResponseJson();Ce(Yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case Nf.TIMEOUT:Ce(Yn,`RPC '${e}' ${o} timed out`),h(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const x=f.getStatus();if(Ce(Yn,`RPC '${e}' ${o} failed with status:`,x,"response text:",f.getResponseText()),x>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const N=function(D){const T=D.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(T)>=0?T:me.UNKNOWN}(E.status);h(new Ne(N,E.message))}else h(new Ne(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ce(Yn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);Ce(Yn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",m,r,15)})}a_(e,t,r){const a=ey(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lT(),h=oT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ce(Yn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=u.createWebChannel(y,f);let b=!1,E=!1;const N=new tM({Go:D=>{E?Ce(Yn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(Ce(Yn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),Ce(Yn,`RPC '${e}' stream ${a} sending:`,D),x.send(D))},zo:()=>x.close()}),P=(D,T,S)=>{D.listen(T,w=>{try{S(w)}catch(j){setTimeout(()=>{throw j},0)}})};return P(x,Gu.EventType.OPEN,()=>{E||(Ce(Yn,`RPC '${e}' stream ${a} transport opened.`),N.t_())}),P(x,Gu.EventType.CLOSE,()=>{E||(E=!0,Ce(Yn,`RPC '${e}' stream ${a} transport closed`),N.r_())}),P(x,Gu.EventType.ERROR,D=>{E||(E=!0,vc(Yn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),N.r_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),P(x,Gu.EventType.MESSAGE,D=>{var T;if(!E){const S=D.data[0];Mt(!!S,16349);const w=S,j=(w==null?void 0:w.error)||((T=w[0])===null||T===void 0?void 0:T.error);if(j){Ce(Yn,`RPC '${e}' stream ${a} received error:`,j);const U=j.status;let B=function(M){const C=fn[M];if(C!==void 0)return FT(C)}(U),z=j.message;B===void 0&&(B=me.INTERNAL,z="Unknown error status: "+U+" with message "+j.message),E=!0,N.r_(new Ne(B,z)),x.close()}else Ce(Yn,`RPC '${e}' stream ${a} received:`,S),N.i_(S)}}),P(h,aT.STAT_EVENT,D=>{D.stat===F0.PROXY?Ce(Yn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===F0.NOPROXY&&Ce(Yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function m0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n){return new a5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="PersistentStream";class rS{constructor(e,t,r,a,o,u,h,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new nS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ce(B_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ce(B_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends rS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=c5(this.serializer,e),r=function(o){if(!("targetChange"in o))return We.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?ti(u.readTime):We.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Z0(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=Q0(f)?{documents:h5(o,f)}:{query:f5(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$T(o,u.resumeToken);const m=Y0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(We.min())>0){h.readTime=Jf(o,u.snapshotVersion.toTimestamp());const m=Y0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=p5(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Z0(this.serializer),t.removeTarget=e,this.F_(t)}}class sM extends rS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=d5(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Z0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>u5(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class aM extends iM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,X0(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(me.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,X0(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(me.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class oM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ki(t),this.ea=!1):Ce("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class lM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Zo(this)&&(Ce(qo,"Restarting streams for network reachability change."),await async function(f){const m=Je(f);m.aa.add(4),await Od(m),m.la.set("Unknown"),m.aa.delete(4),await Dm(m)}(this))})}),this.la=new oM(r,a)}}async function Dm(n){if(Zo(n))for(const e of n.ua)await e(!0)}async function Od(n){for(const e of n.ua)await e(!1)}function sS(n,e){const t=Je(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),uv(t)?cv(t):kc(t).b_()&&lv(t,e))}function ov(n,e){const t=Je(n),r=kc(t);t._a.delete(e),r.b_()&&iS(t,e),t._a.size===0&&(r.b_()?r.v_():Zo(t)&&t.la.set("Unknown"))}function lv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).U_(e)}function iS(n,e){n.ha.Ke(e),kc(n).K_(e)}function cv(n){n.ha=new n5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.la.ta()}function uv(n){return Zo(n)&&!kc(n).w_()&&n._a.size>0}function Zo(n){return Je(n).aa.size===0}function aS(n){n.ha=void 0}async function cM(n){n.la.set("Online")}async function uM(n){n._a.forEach((e,t)=>{lv(n,e)})}async function dM(n,e){aS(n),uv(n)?(n.la.ia(e),cv(n)):n.la.set("Unknown")}async function hM(n,e,t){if(n.la.set("Online"),e instanceof HT&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(r){Ce(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tm(n,r)}else if(e instanceof jf?n.ha.Xe(e):e instanceof qT?n.ha.ot(e):n.ha.nt(e),!t.isEqual(We.min()))try{const r=await tS(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(m);y&&o._a.set(m,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(qn.EMPTY_BYTE_STRING,y.snapshotVersion)),iS(o,f);const x=new Ca(y.target,f,m,y.sequenceNumber);lv(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ce(qo,"Failed to raise snapshot:",r),await tm(n,r)}}async function tm(n,e,t){if(!Dc(e))throw e;n.aa.add(1),await Od(n),n.la.set("Offline"),t||(t=()=>tS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(qo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Dm(n)})}function oS(n,e){return e().catch(t=>tm(n,t,e))}async function km(n){const e=Je(n),t=Ha(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Qy;for(;fM(e);)try{const a=await K5(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,mM(e,a)}catch(a){await tm(e,a)}lS(e)&&cS(e)}function fM(n){return Zo(n)&&n.oa.length<10}function mM(n,e){n.oa.push(e);const t=Ha(n);t.b_()&&t.W_&&t.G_(e.mutations)}function lS(n){return Zo(n)&&!Ha(n).w_()&&n.oa.length>0}function cS(n){Ha(n).start()}async function pM(n){Ha(n).H_()}async function gM(n){const e=Ha(n);for(const t of n.oa)e.G_(t.mutations)}async function yM(n,e,t){const r=n.oa.shift(),a=ev.from(r,e,t);await oS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await km(n)}async function vM(n,e){e&&Ha(n).W_&&await async function(r,a){if(function(u){return e5(u)&&u!==me.ABORTED}(a.code)){const o=r.oa.shift();Ha(r).D_(),await oS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await km(r)}}(n,e),lS(n)&&cS(n)}async function F_(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Ce(qo,"RemoteStore received new credentials");const r=Zo(t);t.aa.add(3),await Od(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Dm(t)}async function xM(n,e){const t=Je(n);e?(t.aa.delete(2),await Dm(t)):e||(t.aa.add(2),await Od(t),t.la.set("Unknown"))}function kc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Je(t);return o.Y_(),new rM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:cM.bind(null,n),Jo:uM.bind(null,n),Zo:dM.bind(null,n),Q_:hM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),uv(n)?cv(n):n.la.set("Unknown")):(await n.Pa.stop(),aS(n))})),n.Pa}function Ha(n){return n.Ta||(n.Ta=function(t,r,a){const o=Je(t);return o.Y_(),new sM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pM.bind(null,n),Zo:vM.bind(null,n),z_:gM.bind(null,n),j_:yM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await km(n)):(await n.Ta.stop(),n.oa.length>0&&(Ce(qo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new dv(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(n,e){if(ki("AsyncQueue",`${e}: ${n}`),Dc(n))return new Ne(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Qu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Ia=new Wt(ze.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sc{constructor(e,t,r,a,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Sc(e,t,Xl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class wM{constructor(){this.queries=H_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Je(t),o=a.queries;a.queries=H_(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function H_(){return new Wo(n=>RT(n),Am)}async function fv(n,e){const t=Je(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new bM,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=hv(u,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&pv(t)}async function mv(n,e){const t=Je(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _M(n,e){const t=Je(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(r=!0);u.Aa=a}}r&&pv(t)}function EM(n,e,t){const r=Je(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function pv(n){n.fa.forEach(e=>{e.next()})}var ty,$_;($_=ty||(ty={})).ya="default",$_.Cache="cache";class gv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.key=e}}class dS{constructor(e){this.key=e}}class TM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pt(),this.mutatedKeys=pt(),this.Ua=jT(e),this.Ka=new Xl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new q_,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,x)=>{const b=a.get(y),E=Rm(this.query,x)?x:null,N=!!b&&this.mutatedKeys.has(b.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;b&&E?b.data.isEqual(E.data)?N!==P&&(r.track({type:3,doc:E}),D=!0):this.ja(b,E)||(r.track({type:2,doc:E}),D=!0,(f&&this.Ua(E,f)>0||m&&this.Ua(E,m)<0)&&(h=!0)):!b&&E?(r.track({type:0,doc:E}),D=!0):b&&!E&&(r.track({type:1,doc:b}),D=!0,(f||m)&&(h=!0)),D&&(E?(u=u.add(E),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,x)=>function(E,N){const P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:D})}};return P(E)-P(N)}(y.type,x.type)||this.Ua(y.doc,x.doc)),this.Ha(r),a=a!=null&&a;const h=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,m=f!==this.Qa;return this.Qa=f,u.length!==0||m?{snapshot:new Sc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new q_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=pt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new dS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new uS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=pt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Sc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const yv="SyncEngine";class SM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NM{constructor(e){this.key=e,this.tu=!1}}class CM{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Wo(h=>RT(h),Am),this.iu=new Map,this.su=new Set,this.ou=new Wt(ze.comparator),this._u=new Map,this.au=new rv,this.uu={},this.cu=new Map,this.lu=Tc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function AM(n,e,t=!0){const r=yS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await hS(r,e,t,!0),a}async function RM(n,e){const t=yS(n);await hS(t,e,!0,!1)}async function hS(n,e,t,r){const a=await Y5(n.localStore,ei(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await jM(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&sS(n.remoteStore,a),h}async function jM(n,e,t,r,a){n.Pu=(x,b,E)=>async function(P,D,T,S){let w=D.view.Ga(T);w.ys&&(w=await L_(P.localStore,D.query,!1).then(({documents:z})=>D.view.Ga(z,w)));const j=S&&S.targetChanges.get(D.targetId),U=S&&S.targetMismatches.get(D.targetId)!=null,B=D.view.applyChanges(w,P.isPrimaryClient,j,U);return Q_(P,D.targetId,B.Ya),B.snapshot}(n,x,b,E);const o=await L_(n.localStore,e,!0),u=new TM(e,o.Ns),h=u.Ga(o.documents),f=Md.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,f);Q_(n,t,m.Ya);const y=new SM(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function IM(n,e,t){const r=Je(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!Am(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await J0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ov(r.remoteStore,a.targetId),ny(r,a.targetId)}).catch(Oc)):(ny(r,a.targetId),await J0(r.localStore,a.targetId,!0))}async function MM(n,e){const t=Je(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ov(t.remoteStore,r.targetId))}async function OM(n,e,t){const r=UM(n);try{const a=await function(u,h){const f=Je(u),m=_n.now(),y=h.reduce((E,N)=>E.add(N.key),pt());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=Pi(),P=pt();return f.Cs.getEntries(E,y).next(D=>{N=D,N.forEach((T,S)=>{S.isValidDocument()||(P=P.add(T))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,N)).next(D=>{x=D;const T=[];for(const S of h){const w=Y3(S,x.get(S.key).overlayedDocument);w!=null&&T.push(new Xa(S.key,w,_T(w.value.mapValue),cs.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,T,h)}).next(D=>{b=D;const T=D.applyToLocalDocumentSet(x,P);return f.documentOverlayCache.saveOverlays(E,D.batchId,T)})}).then(()=>({batchId:b.batchId,changes:MT(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let m=u.uu[u.currentUser.toKey()];m||(m=new Wt(at)),m=m.insert(h,f),u.uu[u.currentUser.toKey()]=m}(r,a.batchId,t),await Dd(r,a.changes),await km(r.remoteStore)}catch(a){const o=hv(a,"Failed to persist write");t.reject(o)}}async function fS(n,e){const t=Je(n);try{const r=await G5(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Mt(u.tu,14607):a.removedDocuments.size>0&&(Mt(u.tu,42227),u.tu=!1))}),await Dd(t,r,e)}catch(r){await Oc(r)}}function G_(n,e,t){const r=Je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Je(u);f.onlineState=h;let m=!1;f.queries.forEach((y,x)=>{for(const b of x.Ra)b.ga(h)&&(m=!0)}),m&&pv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DM(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Wt(ze.comparator);u=u.insert(o,Zn.newNoDocument(o,We.min()));const h=pt().add(o),f=new Mm(We.min(),new Map,new Wt(at),u,h);await fS(r,f),r.ou=r.ou.remove(o),r._u.delete(e),vv(r)}else await J0(r.localStore,e,!1).then(()=>ny(r,e,t)).catch(Oc)}async function kM(n,e){const t=Je(n),r=e.batch.batchId;try{const a=await $5(t.localStore,e);pS(t,r,null),mS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(t,a)}catch(a){await Oc(a)}}async function PM(n,e,t){const r=Je(n);try{const a=await function(u,h){const f=Je(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(x=>(Mt(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);pS(r,e,t),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Dd(r,a)}catch(a){await Oc(a)}}function mS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function pS(n,e,t){const r=Je(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||gS(n,r)})}function gS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(ov(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),vv(n))}function Q_(n,e,t){for(const r of t)r instanceof uS?(n.au.addReference(r.key,e),LM(n,r)):r instanceof dS?(Ce(yv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||gS(n,r.key)):Ge(19791,{Iu:r})}function LM(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ce(yv,"New document in limbo: "+t),n.su.add(r),vv(n))}function vv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new ze(qt.fromString(e)),r=n.lu.next();n._u.set(r,new NM(t)),n.ou=n.ou.insert(t,r),sS(n.remoteStore,new Ca(ei(Cm(t.path)),r,"TargetPurposeLimboResolution",Em.le))}}async function Dd(n,e,t){const r=Je(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const x=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(m){a.push(m);const x=iv.Ps(f.targetId,m);o.push(x)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,m){const y=Je(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>be.forEach(m,b=>be.forEach(b.ls,E=>y.persistence.referenceDelegate.addReference(x,b.targetId,E)).next(()=>be.forEach(b.hs,E=>y.persistence.referenceDelegate.removeReference(x,b.targetId,E)))))}catch(x){if(!Dc(x))throw x;Ce(av,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const E=y.Ss.get(b),N=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(N);y.Ss=y.Ss.insert(b,P)}}}(r.localStore,o))}async function VM(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Ce(yv,"User change. New user:",e.toKey());const r=await eS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new Ne(me.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(t,r.Ms)}}function zM(n,e){const t=Je(n),r=t._u.get(e);if(r&&r.tu)return pt().add(r.key);{let a=pt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const h=t.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function yS(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DM.bind(null,e),e.nu.Q_=_M.bind(null,e.eventManager),e.nu.Tu=EM.bind(null,e.eventManager),e}function UM(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PM.bind(null,e),e}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Om(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return H5(this.persistence,new B5,e.initialUser,this.serializer)}Ru(e){return new JT(sv.Ei,this.serializer)}Au(e){return new W5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class BM extends nm{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Mt(this.persistence.referenceDelegate instanceof em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new N5(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new JT(r=>em.Ei(r,t),this.serializer)}}class ry{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wM}()}createDatastore(e){const t=Om(e.databaseInfo.databaseId),r=function(o){return new nM(o)}(e.databaseInfo);return function(o,u,h,f){return new aM(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new lM(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>G_(this.syncEngine,t,0),function(){return U_.C()?new U_:new Z5}())}createSyncEngine(e,t){return function(a,o,u,h,f,m,y){const x=new CM(a,o,u,h,f,m);return y&&(x.hu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Je(a);Ce(qo,"RemoteStore shutting down."),o.aa.add(5),await Od(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class FM{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Wn.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ce($a,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ce($a,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function p0(n,e){n.asyncQueue.verifyOperationInProgress(),Ce($a,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await eS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function K_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qM(n);Ce($a,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>F_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>F_(e.remoteStore,a)),n._onlineComponents=e}async function qM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce($a,"Using user provided OfflineComponentProvider");try{await p0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;vc("Error using user provided cache. Falling back to memory cache: "+t),await p0(n,new nm)}}else Ce($a,"Using default OfflineComponentProvider"),await p0(n,new BM(void 0));return n._offlineComponents}async function vS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce($a,"Using user provided OnlineComponentProvider"),await K_(n,n._uninitializedComponentsProvider._online)):(Ce($a,"Using default OnlineComponentProvider"),await K_(n,new ry))),n._onlineComponents}function HM(n){return vS(n).then(e=>e.syncEngine)}async function rm(n){const e=await vS(n),t=e.eventManager;return t.onListen=AM.bind(null,e.syncEngine),t.onUnlisten=IM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=RM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MM.bind(null,e.syncEngine),t}function $M(n,e,t={}){const r=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new xv({next:b=>{y.yu(),u.enqueueAndForget(()=>mv(o,x));const E=b.docs.has(h);!E&&b.fromCache?m.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new gv(Cm(h.path),y,{includeMetadataChanges:!0,Fa:!0});return fv(o,x)}(await rm(n),n.asyncQueue,e,t,r)),r.promise}function GM(n,e,t={}){const r=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new xv({next:b=>{y.yu(),u.enqueueAndForget(()=>mv(o,x)),b.fromCache&&f.source==="server"?m.reject(new Ne(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new gv(h,y,{includeMetadataChanges:!0,Fa:!0});return fv(o,x)}(await rm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n,e,t){if(!t)throw new Ne(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QM(n,e,t,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X_(n){if(!ze.isDocumentKey(n))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W_(n){if(ze.isDocumentKey(n))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function Er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pm(n);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KM(n,e){if(e<=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firestore.googleapis.com",Z_=!0;class J_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=Z_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Z_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T5)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Y_.get(t);r&&(Ce("ComponentProvider","Removing Datastore"),Y_.delete(t),r.terminate())}(this),Promise.resolve()}}function YM(n,e,t,r={}){var a;const o=(n=Er(n,Lm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==wS&&o.host!==h&&vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!za(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Wn.MOCK_USER;else{m=jj(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Wn(x)}n._authCredentials=new n3(new uT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=class _S{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _S(this.firestore,e,this._query)}};class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Pa extends Wa{constructor(e,t,r){super(e,t,Cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ze(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function In(n,e,...t){if(n=pn(n),bS("collection","path",e),n instanceof Lm){const r=qt.fromString(e,...t);return W_(r),new Pa(n,null,r)}{if(!(n instanceof Jn||n instanceof Pa))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return W_(r),new Pa(n.firestore,null,r)}}function Hn(n,e,...t){if(n=pn(n),arguments.length===1&&(e=hT.newId()),bS("doc","path",e),n instanceof Lm){const r=qt.fromString(e,...t);return X_(r),new Jn(n,null,new ze(r))}{if(!(n instanceof Jn||n instanceof Pa))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return X_(r),new Jn(n.firestore,n instanceof Pa?n.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new nS(this,"async_queue_retry"),this.ju=()=>{const r=m0();r&&Ce(eE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=m0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=m0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Oi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Dc(e))throw e;Ce(eE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ki("INTERNAL UNHANDLED ERROR: ",nE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=dv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:nE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function nE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Li extends Lm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new tE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function XM(n,e){const t=typeof n=="object"?n:eT(),r=typeof n=="string"?n:Kf,a=$y(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=Aj("firestore");o&&YM(a,...o)}return a}function Vm(n){if(n._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||WM(n),n._firestoreClient}function WM(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,m,y){return new b3(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,xS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new FM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(qn.fromBase64String(e))}catch(t){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class JM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Id(e,this.data,t,this.fieldTransforms)}}class ES{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class Um{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return sm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(TS(this.oc)&&ZM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class eO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Om(e)}dc(e,t,r,a=!1){return new Um({oc:e,methodName:t,Ec:r,path:Fn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(n){const e=n._freezeSettings(),t=Om(n._databaseId);return new eO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);Tv("Data must be an object, but it was:",u,r);const h=CS(r,u);let f,m;if(o.merge)f=new Ur(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const b=sy(e,x,t);if(!u.contains(b))throw new Ne(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);RS(y,b)||y.push(b)}f=new Ur(y),m=u.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=u.fieldTransforms;return new JM(new _r(h),f,m)}class Bm extends kd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bm}}function tO(n,e,t){return new Um({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends kd{_toFieldTransform(e){return new zT(e.path,new md)}isEqual(e){return e instanceof _v}}class Ev extends kd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=tO(this,e,!0),r=this.Ac.map(o=>Pc(o,t)),a=new Ec(r);return new zT(e.path,a)}isEqual(e){return e instanceof Ev&&za(this.Ac,e.Ac)}}function nO(n,e,t,r){const a=n.dc(1,e,t);Tv("Data must be an object, but it was:",a,r);const o=[],u=_r.empty();Ya(r,(f,m)=>{const y=Sv(e,f,t);m=pn(m);const x=a.hc(y);if(m instanceof Bm)o.push(y);else{const b=Pc(m,x);b!=null&&(o.push(y),u.set(y,b))}});const h=new Ur(o);return new ES(u,h,a.fieldTransforms)}function rO(n,e,t,r,a,o){const u=n.dc(1,e,t),h=[sy(e,r,t)],f=[a];if(o.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(sy(e,o[b])),f.push(o[b+1]);const m=[],y=_r.empty();for(let b=h.length-1;b>=0;--b)if(!RS(m,h[b])){const E=h[b];let N=f[b];N=pn(N);const P=u.hc(E);if(N instanceof Bm)m.push(E);else{const D=Pc(N,P);D!=null&&(m.push(E),y.set(E,D))}}const x=new Ur(m);return new ES(y,x,u.fieldTransforms)}function NS(n,e,t,r=!1){return Pc(t,n.dc(r?4:3,e))}function Pc(n,e){if(AS(n=pn(n)))return Tv("Unsupported field value:",e,n),CS(n,e);if(n instanceof kd)return function(r,a){if(!TS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let f=Pc(h,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_n.fromDate(r);return{timestampValue:Jf(a.serializer,o)}}if(r instanceof _n){const o=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(a.serializer,o)}}if(r instanceof bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:$T(a.serializer,r._byteString)};if(r instanceof Jn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof wv)return function(u,h){return{mapValue:{fields:{[bT]:{stringValue:wT},[Yf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Tc("VectorValues must only contain numeric values.");return Zy(h.serializer,m)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Pm(r)}`)}(n,e)}function CS(n,e){const t={};return mT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(n,(r,a)=>{const o=Pc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function AS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof bv||n instanceof Nc||n instanceof Jn||n instanceof kd||n instanceof wv)}function Tv(n,e,t){if(!AS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Pm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function sy(n,e,t){if((e=pn(e))instanceof zm)return e._internalPath;if(typeof e=="string")return Sv(n,e);throw sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const sO=new RegExp("[~\\*/\\[\\]]");function Sv(n,e,t){if(e.search(sO)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zm(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sm(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Ne(me.INVALID_ARGUMENT,h+n+f)}function RS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iO extends Nv{data(){return super.data()}}function Fm(n,e){return typeof e=="string"?Sv(n,e):e instanceof zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class qm extends Cv{}function ds(n,e,...t){let r=[];e instanceof Cv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Av).length,h=o.filter(f=>f instanceof Hm).length;if(u>1||u>0&&h>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Hm extends qm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Hm(e,t,r)}_apply(e){const t=this._parse(e);return IS(e._query,t),new Wa(e.firestore,e.converter,K0(e._query,t))}_parse(e){const t=Pd(e.firestore);return function(o,u,h,f,m,y,x){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){iE(x,y);const N=[];for(const P of x)N.push(sE(f,o,P));b={arrayValue:{values:N}}}else b=sE(f,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||iE(x,y),b=NS(h,u,x,y==="in"||y==="not-in");return mn.create(m,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ji(n,e,t){const r=e,a=Fm("where",n);return Hm._create(a,r,t)}class Av extends Cv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Av(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)IS(u,f),u=K0(u,f)}(e._query,t),new Wa(e.firestore,e.converter,K0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends qm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fd(o,u)}(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Xo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function iy(n,e="asc"){const t=e,r=Fm("orderBy",n);return Rv._create(r,t)}class jv extends qm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jv(e,t,r)}_apply(e){return new Wa(e.firestore,e.converter,Wf(e._query,this._limit,this._limitType))}}function Cc(n){return KM("limit",n),jv._create("limit",n,"F")}class Iv extends qm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Iv(e,t,r)}_apply(e){const t=aO(e,this.type,this._docOrFields,this._inclusive);return new Wa(e.firestore,e.converter,function(a,o){return new Xo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function Mv(...n){return Iv._create("startAfter",n,!1)}function aO(n,e,t,r){if(t[0]=pn(t[0]),t[0]instanceof Nv)return function(o,u,h,f,m){if(!f)throw new Ne(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const x of Yl(o))if(x.field.isKeyField())y.push(Xf(u,f.key));else{const b=f.data.field(x.field);if(Sm(b))throw new Ne(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const E=x.field.canonicalString();throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}y.push(b)}return new _c(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Pd(n.firestore);return function(u,h,f,m,y,x){const b=u.explicitOrderBy;if(y.length>b.length)throw new Ne(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let N=0;N<y.length;N++){const P=y[N];if(b[N].field.isKeyField()){if(typeof P!="string")throw new Ne(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!Wy(u)&&P.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const D=u.path.child(qt.fromString(P));if(!ze.isDocumentKey(D))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const T=new ze(D);E.push(Xf(h,T))}else{const D=NS(f,m,P);E.push(D)}}return new _c(E,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function sE(n,e,t){if(typeof(t=pn(t))=="string"){if(t==="")throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&t.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qt.fromString(t));if(!ze.isDocumentKey(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xf(n,new ze(r))}if(t instanceof Jn)return Xf(n,t._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(t)}.`)}function iE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IS(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oO{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ya(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Yf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>an(u.doubleValue));return new wv(o)}convertGeoPoint(e){return new bv(an(e.latitude),an(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new _n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qt.fromString(e);Mt(WT(r),9688,{name:e});const a=new dd(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return a.isEqual(t)||ki(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OS extends Nv{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class If extends OS{data(e={}){return super.data(e)}}class DS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Yu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new If(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:lO(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n){n=Er(n,Jn);const e=Er(n.firestore,Li);return $M(Vm(e),n._key).then(t=>LS(e,n,t))}class Ov extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function Fr(n){n=Er(n,Wa);const e=Er(n.firestore,Li),t=Vm(e),r=new Ov(e);return jS(n._query),GM(t,n._query).then(a=>new DS(e,r,n,a))}function Ac(n,e,t){n=Er(n,Jn);const r=Er(n.firestore,Li),a=MS(n.converter,e,t);return $m(r,[SS(Pd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,cs.none())])}function Ld(n,e,t,...r){n=Er(n,Jn);const a=Er(n.firestore,Li),o=Pd(a);let u;return u=typeof(e=pn(e))=="string"||e instanceof zm?rO(o,"updateDoc",n._key,e,t,r):nO(o,"updateDoc",n._key,e),$m(a,[u.toMutation(n._key,cs.exists(!0))])}function kS(n){return $m(Er(n.firestore,Li),[new Jy(n._key,cs.none())])}function cO(n,e){const t=Er(n.firestore,Li),r=Hn(n),a=MS(n.converter,e);return $m(t,[SS(Pd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,cs.exists(!1))]).then(()=>r)}function PS(n,...e){var t,r,a;n=pn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||rE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(rE(e[u])){const x=e[u];e[u]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[u+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[u+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let f,m,y;if(n instanceof Jn)m=Er(n.firestore,Li),y=Cm(n._key.path),f={next:x=>{e[u]&&e[u](LS(m,n,x))},error:e[u+1],complete:e[u+2]};else{const x=Er(n,Wa);m=Er(x.firestore,Li),y=x._query;const b=new Ov(m);f={next:E=>{e[u]&&e[u](new DS(m,b,x,E))},error:e[u+1],complete:e[u+2]},jS(n._query)}return function(b,E,N,P){const D=new xv(P),T=new gv(E,D,N);return b.asyncQueue.enqueueAndForget(async()=>fv(await rm(b),T)),()=>{D.yu(),b.asyncQueue.enqueueAndForget(async()=>mv(await rm(b),T))}}(Vm(m),y,h,f)}function $m(n,e){return function(r,a){const o=new Oi;return r.asyncQueue.enqueueAndForget(async()=>OM(await HM(r),a,o)),o.promise}(Vm(n),e)}function LS(n,e,t){const r=t.docs.get(e._key),a=new Ov(n);return new OS(n,a,e._key,r,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}function uO(){return new _v("serverTimestamp")}function dO(...n){return new Ev("arrayUnion",n)}(function(e,t=!0){(function(a){Mc=a})(Ic),yc(new Bo("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Li(new r3(r.getProvider("auth-internal")),new a3(u,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(m.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Da(o_,l_,e),Da(o_,l_,"esm2017")})();var hO="firebase",fO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(hO,fO,"app");function Dv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mO=VS,zS=new Rd("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new qy("@firebase/auth");function pO(n,...e){im.logLevel<=mt.WARN&&im.warn(`Auth (${Ic}): ${n}`,...e)}function Mf(n,...e){im.logLevel<=mt.ERROR&&im.error(`Auth (${Ic}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,...e){throw Pv(n,...e)}function Ns(n,...e){return Pv(n,...e)}function kv(n,e,t){const r=Object.assign(Object.assign({},mO()),{[e]:t});return new Rd("auth","Firebase",r).create(e,{appName:n.name})}function La(n){return kv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&hs(n,"argument-error"),kv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zS.create(n,...e)}function $e(n,e,...t){if(!n)throw Pv(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mf(e),new Error(e)}function Vi(n,e){n||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yO(){return aE()==="http:"||aE()==="https:"}function aE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yO()||Dj()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=Ij()||kj()}get(){return vO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_O=new Vd(3e4,6e4);function Jo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Za(n,e,t,r,a={}){return BS(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=jd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},o);return Oj()||(m.referrerPolicy="no-referrer"),US.fetch()(await FS(n,n.config.apiHost,t,h),m)})}async function BS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},bO),e);try{const a=new TO(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw pf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw pf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw pf(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw kv(n,y,m);hs(n,y)}}catch(a){if(a instanceof Ui)throw a;hs(n,"network-request-failed",{message:String(a)})}}async function Gm(n,e,t,r,a={}){const o=await Za(n,e,t,r,a);return"mfaPendingCredential"in o&&hs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function FS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?Lv(n.config,a):`${n.config.apiScheme}://${a}`;return wO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function EO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),_O.get())})}}function pf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ns(n,e,r);return a.customData._tokenResponse=t,a}function oE(n){return n!==void 0&&n.enterprise!==void 0}class SO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NO(n,e){return Za(n,"GET","/v2/recaptchaConfig",Jo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){return Za(n,"POST","/v1/accounts:delete",e)}async function am(n,e){return Za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AO(n,e=!1){const t=pn(n),r=await t.getIdToken(e),a=Vv(r);$e(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:rd(g0(a.auth_time)),issuedAtTime:rd(g0(a.iat)),expirationTime:rd(g0(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function g0(n){return Number(n)*1e3}function Vv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Q2(t);return a?JSON.parse(a):(Mf("Failed to decode base64 JWT payload"),null)}catch(a){return Mf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function lE(n){const e=Vv(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ui&&RO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function RO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(n){var e;const t=n.auth,r=await n.getIdToken(),a=await gd(n,am(t,{idToken:r}));$e(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qS(o.providerUserInfo):[],h=MO(n.providerData,u),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new oy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function IO(n){const e=pn(n);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MO(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function qS(n){return n.map(e=>{var{providerId:t}=e,r=Dv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){const t=await BS(n,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await FS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",US.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DO(n,e){return Za(n,"POST","/v2/accounts:revokeToken",Jo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=lE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await OO(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Wl;return r&&($e(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&($e(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&($e(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=Dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await gd(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AO(this,e)}reload(){return IO(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(La(this.auth));const e=await this.getIdToken();return await gd(this,CO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,f,m,y;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,T=(m=t.createdAt)!==null&&m!==void 0?m:void 0,S=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:w,emailVerified:j,isAnonymous:U,providerData:B,stsTokenManager:z}=t;$e(w&&z,e,"internal-error");const R=Wl.fromJSON(this.name,z);$e(typeof w=="string",e,"internal-error"),da(x,e.name),da(b,e.name),$e(typeof j=="boolean",e,"internal-error"),$e(typeof U=="boolean",e,"internal-error"),da(E,e.name),da(N,e.name),da(P,e.name),da(D,e.name),da(T,e.name),da(S,e.name);const M=new Ts({uid:w,auth:e,email:b,emailVerified:j,displayName:x,isAnonymous:U,photoURL:N,phoneNumber:E,tenantId:P,stsTokenManager:R,createdAt:T,lastLoginAt:S});return B&&Array.isArray(B)&&(M.providerData=B.map(C=>Object.assign({},C))),D&&(M._redirectEventId=D),M}static async _fromIdTokenResponse(e,t,r=!1){const a=new Wl;a.updateFromServerResponse(t);const o=new Ts({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await om(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];$e(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?qS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Wl;h.updateFromIdToken(r);const f=new Ts({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function Mi(n){Vi(n instanceof Function,"Expected a class definition");let e=cE.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HS.type="NONE";const uE=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n,e,t){return`firebase:${n}:${e}:${t}`}class Zl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,o),this.fullPersistenceKey=Of("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await am(this.auth,{idToken:e}).catch(()=>{});return t?Ts._fromGetAccountInfoResponse(this.auth,t,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zl(Mi(uE),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Mi(uE);const u=Of(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let x;if(typeof y=="string"){const b=await am(e,{idToken:y}).catch(()=>{});if(!b)break;x=await Ts._fromGetAccountInfoResponse(e,b,y)}else x=Ts._fromJSON(e,y);m!==o&&(h=x),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Zl(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Zl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XS(e))return"Blackberry";if(WS(e))return"Webos";if(GS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(YS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $S(n=er()){return/firefox\//i.test(n)}function GS(n=er()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(n=er()){return/crios\//i.test(n)}function KS(n=er()){return/iemobile/i.test(n)}function YS(n=er()){return/android/i.test(n)}function XS(n=er()){return/blackberry/i.test(n)}function WS(n=er()){return/webos/i.test(n)}function zv(n=er()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kO(n=er()){var e;return zv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PO(){return Pj()&&document.documentMode===10}function ZS(n=er()){return zv(n)||YS(n)||WS(n)||XS(n)||/windows phone/i.test(n)||KS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n,e=[]){let t;switch(n){case"Browser":t=dE(er());break;case"Worker":t=`${dE(er())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e={}){return Za(n,"GET","/v2/passwordPolicy",Jo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=6;class UO{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:zO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new LO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await am(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ls(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(La(this));const t=e?pn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VO(this),t=new UO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await DO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function el(n){return pn(n)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hj(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FO(n){Qm=n}function eN(n){return Qm.loadJS(n)}function qO(){return Qm.recaptchaEnterpriseScript}function HO(){return Qm.gapiScript}function $O(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class GO{constructor(){this.enterprise=new QO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class QO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KO="recaptcha-enterprise",tN="NO_RECAPTCHA";class YO{constructor(e){this.type=KO,this.auth=el(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{NO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new SO(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;oE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(tN)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GO().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&oE(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=qO();f.length!==0&&(f+=h),eN(f).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function fE(n,e,t,r=!1,a=!1){const o=new YO(n);let u;if(a)u=tN;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function mE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fE(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await fE(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n,e){const t=$y(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(za(o,e??{}))return a;hs(a,"already-initialized")}return t.initialize({options:e})}function WO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZO(n,e,t){const r=el(n);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=nN(e),{host:u,port:h}=JO(e),f=h===null?"":`:${h}`,m={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(za(m,r.config.emulator)&&za(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,eD()}function nN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JO(n){const e=nN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:pE(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:pE(u)}}}function pE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function tD(n,e){return Za(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e){return Gm(n,"POST","/v1/accounts:signInWithPassword",Jo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e){return Gm(n,"POST","/v1/accounts:signInWithEmailLink",Jo(n,e))}async function sD(n,e){return Gm(n,"POST","/v1/accounts:signInWithEmailLink",Jo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Uv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new yd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new yd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,t,"signInWithPassword",nD);case"emailLink":return rD(e,{email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mE(e,r,"signUpPassword",tD);case"emailLink":return sD(e,{idToken:t,email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n,e){return Gm(n,"POST","/v1/accounts:signInWithIdp",Jo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="http://localhost";class Ho extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=Dv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Ho(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jl(e,t)}buildRequest(){const e={requestUri:iD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oD(n){const e=Hu($u(n)).link,t=e?Hu($u(e)).deep_link_id:null,r=Hu($u(n)).deep_link_id;return(r?Hu($u(r)).link:null)||r||t||e||n}class Bv{constructor(e){var t,r,a,o,u,h;const f=Hu($u(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,x=aD((a=f.mode)!==null&&a!==void 0?a:null);$e(m&&y&&x,"argument-error"),this.apiKey=m,this.operation=x,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=oD(e);try{return new Bv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.providerId=Lc.PROVIDER_ID}static credential(e,t){return yd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Bv.parseLink(t);return $e(r,"argument-error"),yd._fromEmailAndCode(e,r.code,r.tenantId)}}Lc.PROVIDER_ID="password";Lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends zd{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends zd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ho._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ri.credential(t,r)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends zd{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.GITHUB_SIGN_IN_METHOD="github.com";ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends zd{constructor(){super("twitter.com")}static credential(e,t){return Ho._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ya.credential(t,r)}catch{return null}}}ya.TWITTER_SIGN_IN_METHOD="twitter.com";ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Ts._fromIdTokenResponse(e,r,a),u=gE(r);return new Rc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=gE(r);return new Rc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function gE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends Ui{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new lm(e,t,r,a)}}function rN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(n,o,e,r):o})}async function lD(n,e,t=!1){const r=await gd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Rc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e,t=!1){const{auth:r}=n;if(ls(r.app))return Promise.reject(La(r));const a="reauthenticate";try{const o=await gd(n,rN(r,a,e,n),t);$e(o.idToken,r,"internal-error");const u=Vv(o.idToken);$e(u,r,"internal-error");const{sub:h}=u;return $e(n.uid===h,r,"user-mismatch"),Rc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,e,t=!1){if(ls(n.app))return Promise.reject(La(n));const r="signIn",a=await rN(n,r,e),o=await Rc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function uD(n,e){return sN(el(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n){const e=el(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hD(n,e,t){return ls(n.app)?Promise.reject(La(n)):uD(pn(n),Lc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dD(n),r})}function fD(n,e,t,r){return pn(n).onIdTokenChanged(e,t,r)}function mD(n,e,t){return pn(n).beforeAuthStateChanged(e,t)}function pD(n,e,t,r){return pn(n).onAuthStateChanged(e,t,r)}function iN(n){return pn(n).signOut()}const cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class oN extends aN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);PO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,yD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oN.type="LOCAL";const vD=oN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN extends aN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lN.type="SESSION";const cN=lN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await xD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=qv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(x){const b=x;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function wD(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function _D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TD(){return uN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebaseLocalStorageDb",SD=1,um="firebaseLocalStorage",hN="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ym(n,e){return n.transaction([um],e?"readwrite":"readonly").objectStore(um)}function ND(){const n=indexedDB.deleteDatabase(dN);return new Ud(n).toPromise()}function ly(){const n=indexedDB.open(dN,SD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(um,{keyPath:hN})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(um)?e(r):(r.close(),await ND(),e(await ly()))})})}async function yE(n,e,t){const r=Ym(n,!0).put({[hN]:e,value:t});return new Ud(r).toPromise()}async function CD(n,e){const t=Ym(n,!1).get(e),r=await new Ud(t).toPromise();return r===void 0?null:r.value}function vE(n,e){const t=Ym(n,!0).delete(e);return new Ud(t).toPromise()}const AD=800,RD=3;class fN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>RD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Km._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _D(),!this.activeServiceWorker)return;this.sender=new bD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await yE(e,cm,"1"),await vE(e,cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>yE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>CD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Ym(a,!1).getAll();return new Ud(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fN.type="LOCAL";const jD=fN;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n,e){return e?Mi(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ID(n){return sN(n.auth,new Hv(n),n.bypassAuthState)}function MD(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),cD(t,new Hv(n),n.bypassAuthState)}async function OD(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),lD(t,new Hv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return MD;default:hs(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Vd(2e3,1e4);async function kD(n,e,t){if(ls(n.app))return Promise.reject(Ns(n,"operation-not-supported-in-this-environment"));const r=el(n);gO(n,e,Fv);const a=mN(r,t);return new jo(r,"signInViaPopup",e,a).executeNotNull()}class jo extends pN{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",Df=new Map;class LD extends pN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(n,e){const t=BD(e),r=UD(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function zD(n,e){Df.set(n._key(),e)}function UD(n){return Mi(n._redirectPersistence)}function BD(n){return Of(PD,n.config.apiKey,n.name)}async function FD(n,e,t=!1){if(ls(n.app))return Promise.reject(La(n));const r=el(n),a=mN(r,e),u=await new LD(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gN(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ns(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $D(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(n,e={}){return Za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function YD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GD(n);for(const t of e)try{if(XD(t))return}catch{}hs(n,"unauthorized-domain")}function XD(n){const e=ay(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!KD.test(t))return!1;if(QD.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Vd(3e4,6e4);function bE(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZD(n){return new Promise((e,t)=>{var r,a,o;function u(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),t(Ns(n,"network-request-failed"))},timeout:WD.get()})}if(!((a=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)u();else{const h=$O("iframefcb");return ni()[h]=()=>{gapi.load?u():t(Ns(n,"network-request-failed"))},eN(`${HO()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw kf=null,e})}let kf=null;function JD(n){return kf=kf||ZD(n),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Vd(5e3,15e3),tk="__/auth/iframe",nk="emulator/auth/iframe",rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ik(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lv(e,nk):`https://${n.config.authDomain}/${tk}`,r={apiKey:e.apiKey,appName:n.name,v:Ic},a=sk.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${jd(r).slice(1)}`}async function ak(n){const e=await JD(n),t=ni().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:ik(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rk,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ns(n,"network-request-failed"),h=ni().setTimeout(()=>{o(u)},ek.get());function f(){ni().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lk=500,ck=600,uk="_blank",dk="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hk(n,e,t,r=lk,a=ck){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},ok),{width:r.toString(),height:a.toString(),top:o,left:u}),m=er().toLowerCase();t&&(h=QS(m)?uk:t),$S(m)&&(e=e||dk,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[E,N])=>`${b}${E}=${N},`,"");if(kO(m)&&h!=="_self")return fk(e||"",h),new wE(null);const x=window.open(e||"",h,y);$e(x,n,"popup-blocked");try{x.focus()}catch{}return new wE(x)}function fk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="__/auth/handler",pk="emulator/auth/handler",gk=encodeURIComponent("fac");async function _E(n,e,t,r,a,o){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ic,eventId:a};if(e instanceof Fv){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",qj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))u[y]=x}if(e instanceof zd){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${gk}=${encodeURIComponent(f)}`:"";return`${yk(n)}?${jd(h).slice(1)}${m}`}function yk({config:n}){return n.emulator?Lv(n,pk):`https://${n.authDomain}/${mk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="webStorageSupport";class vk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cN,this._completeRedirectFn=FD,this._overrideRedirectResult=zD}async _openPopup(e,t,r,a){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await _E(e,t,r,ay(),a);return hk(e,u,qv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await _E(e,t,r,ay(),a);return wD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ak(e),r=new HD(e);return t.register("authEvent",a=>($e(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(y0,{type:y0},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[y0];u!==void 0&&t(!!u),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZS()||GS()||zv()}}const xk=vk;var EE="@firebase/auth",TE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _k(n){yc(new Bo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;$e(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(n)},m=new BO(r,a,o,f);return WO(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yc(new Bo("auth-internal",e=>{const t=el(e.getProvider("auth").getImmediate());return(r=>new bk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(EE,TE,wk(n)),Da(EE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=5*60,Tk=X2("authIdTokenMaxAge")||Ek;let SE=null;const Sk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Tk)return;const a=t==null?void 0:t.token;SE!==a&&(SE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nk(n=eT()){const e=$y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XO(n,{popupRedirectResolver:xk,persistence:[jD,vD,cN]}),r=X2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Sk(o.toString());mD(t,u,()=>u(t.currentUser)),fD(t,h=>u(h))}}const a=K2("auth");return a&&ZO(t,`http://${a}`),t}function Ck(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Ns("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",Ck().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_k("Browser");const Ak={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},Rk=J2(Ak),ec=Nk(),jk=new Ri,St=XM(Rk),Ik=()=>{const[n,e]=V.useState([]),[t,r]=V.useState(!1);return V.useEffect(()=>{const a=async()=>{try{const u=await Fr(In(St,"headline")),h=[];u.forEach(f=>{const m=f.data();m.news&&h.push(m.news)}),e(h)}catch(u){console.error("Error fetching headlines:",u)}},o=()=>{r(window.scrollY>10)};return a(),window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),c.jsxs("div",{className:`w-full transition-all duration-300 ${t?"py-2 bg-white shadow-md":"py-2 bg-gradient-to-r from-pink-50 to-blue-50 border-b border-gray-100"}`,children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex flex-row justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-4 md:space-x-6",children:[c.jsxs("a",{href:"tel:+8801712345678",className:"flex items-center text-sm md:text-[15px] font-medium text-gray-700 hover:text-pink-600 transition-all duration-300 group",children:[c.jsxs("div",{className:"relative p-1.5 rounded-full bg-pink-100 group-hover:bg-pink-200 mr-2 transition-colors duration-300",children:[c.jsx(vj,{className:"text-pink-600",size:16}),c.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-pink-500 rounded-full animate-pulse"})]}),c.jsx("span",{className:"font-sans",children:"+880 1712 345 678"})]}),c.jsx("a",{href:"mailto:info@mahira.com",className:"hidden md:flex items-center text-sm md:text-[15px] font-medium text-gray-700 hover:text-pink-600 transition-all duration-300 group",children:c.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 group-hover:bg-blue-200 mr-2 transition-colors duration-300",children:c.jsx(xj,{className:"text-blue-600",size:16})})}),c.jsx("a",{href:"https://wa.me/8801712345678",className:"hidden md:flex items-center text-sm md:text-[15px] font-medium text-gray-700 hover:text-pink-600 transition-all duration-300 group",children:c.jsx("div",{className:"p-1.5 rounded-full bg-green-100 group-hover:bg-green-200 mr-2 transition-colors duration-300",children:c.jsx(gj,{className:"text-green-600",size:16})})})]}),n.length>0&&c.jsx("div",{className:"hidden md:block flex-1 mx-6 overflow-hidden",children:c.jsx(Gw,{speed:40,gradient:!1,pauseOnHover:!0,className:"py-1",children:n.map((a,o)=>c.jsxs("span",{className:"mx-6 text-lg font-semibold text-black flex items-center",children:[c.jsxs("span",{className:"relative flex h-3 w-3 mr-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-black opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-black"})]}),c.jsx("span",{className:"font-sans",children:a})]},o))})}),c.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[c.jsx("a",{href:"https://www.facebook.com/Homaira22",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-gray-600 hover:text-[#1877F2] transition-all duration-300 transform hover:scale-110","aria-label":"Facebook",children:c.jsx(mj,{size:18})}),c.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-[#FF0000] transition-all duration-300 transform hover:scale-110","aria-label":"YouTube",children:c.jsx(yj,{size:20})}),c.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-gray-100 hover:bg-pink-100 text-gray-600 hover:text-[#E4405F] transition-all duration-300 transform hover:scale-110","aria-label":"Instagram",children:c.jsx(pj,{size:18})})]})]}),n.length>0&&c.jsx("div",{className:"md:hidden bg-gradient-to-r from-pink-100 to-blue-100 py-2 px-2 border-t border-gray-200",children:c.jsx(Gw,{speed:35,pauseOnHover:!0,gradient:!1,children:n.map((a,o)=>c.jsxs("span",{className:"mx-4 text-sm font-semibold text-black flex items-center",children:[c.jsxs("span",{className:"relative flex h-2 w-2 mr-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-black opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-black"})]}),c.jsx("span",{className:"font-sans",children:a})]},o))})})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ok=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),NE=n=>{const e=Ok(n);return e.charAt(0).toUpperCase()+e.slice(1)},yN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Dk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...kk,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:yN("lucide",a),...!o&&!Dk(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>V.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(n,e)=>{const t=V.forwardRef(({className:r,...a},o)=>V.createElement(Pk,{ref:o,iconNode:e,className:yN(`lucide-${Mk(NE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=NE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$l=on("chevron-down",Lk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zk=on("chevron-left",Vk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bk=on("chevron-right",Uk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gl=on("chevron-up",Fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zl=on("clock",qk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$k=on("credit-card",Hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Qk=on("facebook",Gk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Yk=on("house",Kk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Wk=on("instagram",Xk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Jk=on("list",Zk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CE=on("mail",e6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],AE=on("map-pin",t6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],r6=on("menu",n6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M5 12h14",key:"1ays0h"}]],i6=on("minus",s6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],o6=on("package",a6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Pf=on("phone",l6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],u6=on("plus",c6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RE=on("search",d6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Lf=on("shopping-cart",h6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],m6=on("twitter",f6);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dm=on("x",p6),jE="/assets/Screenshot_4-Photoroom-removebg-preview-DZTFVgoJ.png",g6=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=V.useState(t);V.useEffect(()=>{a(t)},[t]);const o=m=>{const y=typeof m=="string"?parseFloat(m):m;return Math.floor(y).toLocaleString("en-US")},u=()=>r.reduce((m,y)=>{const x=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return m+Math.floor(x)*y.quantity},0),h=m=>{const y=r.filter(x=>x.id!==m);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},f=(m,y)=>{const x=r.map(b=>{if(b.id===m){const E=b.quantity+y;return{...b,quantity:E>0?E:1}}return b});a(x),localStorage.setItem("cart",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:x}))};return c.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:c.jsx("div",{className:"w-screen max-w-md",children:c.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[c.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:c.jsx(dm,{className:"h-6 w-6"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?c.jsxs("div",{className:"text-center mt-12",children:[c.jsx(Lf,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),c.jsx("div",{className:"mt-6",children:c.jsx(tt,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):c.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(m=>{var b,E;const y=typeof m.price=="number"?m.price:parseFloat(m.price||0),x=Math.floor(y)*m.quantity;return c.jsxs("li",{className:"py-6 flex gap-4",children:[c.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:c.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[c.jsx("h3",{children:m.name}),c.jsxs("p",{children:["৳",o(x)]})]}),((b=m.color)==null?void 0:b.name)&&c.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",c.jsx("span",{className:"capitalize",children:m.color.name})]}),((E=m.size)==null?void 0:E.size)&&c.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",c.jsx("span",{className:"uppercase",children:m.size.size})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>f(m.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:c.jsx(i6,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-sm",children:m.quantity}),c.jsx("button",{onClick:()=>f(m.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:c.jsx(u6,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:()=>h(m.id),className:"text-red-600 hover:text-red-500",children:c.jsx(dm,{className:"h-5 w-5"})})]})]})]},m.id)})})}),r.length>0&&c.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[c.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[c.jsx("p",{children:"Subtotal"}),c.jsxs("p",{children:["৳",o(u())]})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),c.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[c.jsx(tt,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),c.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},y6=()=>{const[n,e]=V.useState(!1),[t,r]=V.useState(!1),[a,o]=V.useState(null),[u,h]=V.useState([]),[f,m]=V.useState(!0),[y,x]=V.useState(0),[b,E]=V.useState(!1),[N,P]=V.useState([]),[D,T]=V.useState(""),[S,w]=V.useState([]),[j,U]=V.useState([]),[B,z]=V.useState(!1),[R,M]=V.useState(!1),C="Mahira Collection",k=C.charAt(0),L=C.slice(1),[O,se]=V.useState(k),[ae,G]=V.useState(0),[$,K]=V.useState(!1);V.useEffect(()=>{let ue;return!$&&ae<L.length?ue=setTimeout(()=>{se(k+L.slice(0,ae+1)),G(ae+1)},100):!$&&ae===L.length?ue=setTimeout(()=>{K(!0),G(L.length-1)},2e3):$&&ae>=0?ue=setTimeout(()=>{se(k+L.slice(0,ae)),G(ae-1)},150):$&&ae<0&&(ue=setTimeout(()=>{K(!1),G(0)},1e3)),()=>clearTimeout(ue)},[ae,$,L,k]),V.useEffect(()=>{const ue=()=>{window.scrollY>10?M(!0):M(!1)};return window.addEventListener("scroll",ue),()=>window.removeEventListener("scroll",ue)},[]),V.useEffect(()=>{const ue=async()=>{try{const _e=ds(In(St,"menu-categories"),iy("order")),ye=await Fr(_e),Se=[];ye.forEach(Xe=>{Se.push({id:Xe.id,...Xe.data()})}),h(Se),m(!1)}catch(_e){console.error("Error fetching menu items:",_e),m(!1)}},Ee=async()=>{try{const _e=In(St,"products"),ye=ds(_e),Se=await Fr(ye),Xe=[];Se.forEach(Ze=>{Xe.push({id:Ze.id,...Ze.data()})}),U(Xe)}catch(_e){console.error("Error fetching products:",_e)}};ue(),Ee()},[]),V.useEffect(()=>{const ue=()=>{const Ee=JSON.parse(localStorage.getItem("cart"))||[],_e=Ee.reduce((ye,Se)=>ye+Se.quantity,0);x(_e),P(Ee)};return ue(),window.addEventListener("storage",ue),window.addEventListener("cartUpdated",ue),()=>{window.removeEventListener("storage",ue),window.removeEventListener("cartUpdated",ue)}},[]),V.useEffect(()=>{if(D.trim()===""){w([]);return}const ue=D.toLowerCase(),Ee=j.filter(_e=>{const ye=_e.id.toLowerCase().includes(ue),Se=_e.tags&&_e.tags.some(Xe=>Xe.toLowerCase().includes(ue));return ye||Se});w(Ee.slice(0,5))},[D,j]);const te=ue=>{o(Ee=>Ee===ue?null:ue)},H=()=>{e(!0)},le=ue=>{T(ue.target.value)},ge=ue=>{ue.preventDefault(),S.length>0&&(window.location.href=`/product/${S[0].id}`)},fe=()=>{z(!B),T(""),w([])};return f?c.jsx("div",{className:"bg-pink-100 border-y border-gray-200 h-16"}):c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:`bg-[radial-gradient(circle,_rgba(135,206,250,0.9)_0%,_rgba(70,130,180,0.9)_100%)] border-y border-gray-200 play-regular sticky top-0 z-50 ${R?"shadow-md":""}`,children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"hidden md:flex justify-between items-center h-24",children:[c.jsxs("div",{className:"flex space-x-6 items-center",children:[c.jsxs(tt,{to:"/",className:`relative text-[20px] transition-colors duration-300 ${location.pathname==="/"?"text-pink-700 font-medium":"text-gray-700 hover:text-pink-700"}`,children:["Home",location.pathname==="/"&&c.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-pink-500 to-pink-300 rounded-full"})]}),u.map(ue=>ue.type==="dropdown"?c.jsxs("div",{className:"group relative",children:[c.jsxs(tt,{to:`/category/${ue.id}`,className:`relative capitalize text-[20px] transition-colors duration-300 ${location.pathname.startsWith(`/category/${ue.id}`)?"text-pink-700 font-medium":"text-gray-700 hover:text-pink-700"}`,children:[ue.id,location.pathname.startsWith(`/category/${ue.id}`)&&c.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-pink-500 to-pink-300 rounded-full"})]}),c.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-lg py-2 px-4 space-y-2 z-20 min-w-[200px] rounded-md border border-gray-100",children:ue.items.map(Ee=>c.jsxs(tt,{to:`${Ee.path}`,className:`block px-2 py-1 rounded capitalize transition-colors duration-200 ${location.pathname===Ee.path?"bg-pink-100 text-pink-700 font-medium":"hover:bg-pink-50 hover:text-pink-700"}`,children:[Ee.name,location.pathname===Ee.path&&c.jsx("span",{className:"block w-1 h-1 bg-pink-500 rounded-full mt-1 mx-auto"})]},Ee.path))})]},ue.id):c.jsxs(tt,{to:ue.path,className:`relative capitalize text-[20px] transition-colors duration-300 ${location.pathname===ue.path?"text-pink-700 font-medium":"text-gray-700 hover:text-pink-700"}`,children:[ue.id,location.pathname===ue.path&&c.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-pink-500 to-pink-300 rounded-full"})]},ue.id))]}),c.jsx("div",{className:"flex flex-col justify-center items-center z-50",children:c.jsxs(tt,{to:"/",className:"flex flex-col items-center group",children:[c.jsx("img",{src:jE,alt:"Brand Logo",className:"h-[60px] w-auto"}),c.jsx("span",{className:"typing-text mt-[-10px]",children:O})]})}),c.jsxs("div",{className:"flex space-x-6 items-center",children:[c.jsxs("div",{className:"group relative",children:[c.jsxs(tt,{to:"/all-categories",className:`relative text-[20px] transition-colors duration-300 ${location.pathname==="/all-categories"?"text-pink-700 font-medium":"text-gray-700 hover:text-pink-700"}`,children:["All Category",location.pathname==="/all-categories"&&c.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-pink-500 to-pink-300 rounded-full"})]}),c.jsx("div",{className:"absolute right-[-100px] top-[31px] hidden group-hover:flex bg-white shadow-lg py-4 px-6 pt-10 space-x-8 z-20 rounded-md border border-gray-100",children:u.filter(ue=>ue.type==="dropdown").map(ue=>c.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize border-b border-gray-200 pb-2",children:ue.id}),c.jsx("div",{className:"space-y-1",children:ue.items.map(Ee=>c.jsxs(tt,{to:`${Ee.path}`,className:`block px-2 py-1 rounded capitalize transition-colors duration-200 ${location.pathname===Ee.path?"bg-pink-100 text-pink-700 font-medium":"hover:bg-pink-50 hover:text-pink-700"}`,children:[Ee.name,location.pathname===Ee.path&&c.jsx("span",{className:"inline-block w-1 h-1 bg-pink-500 rounded-full ml-1"})]},Ee.path))})]},ue.id))})]}),c.jsxs(tt,{to:"/cart",className:`relative text-[20px] transition-colors duration-300 ${location.pathname==="/cart"?"text-pink-700 font-medium":"text-gray-700 hover:text-pink-700"}`,children:["Orders",location.pathname==="/cart"&&c.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-pink-500 to-pink-300 rounded-full"})]}),c.jsxs("button",{onClick:()=>E(!0),className:"text-gray-700 hover:text-pink-700 relative transition-colors duration-300",children:[c.jsx(Lf,{size:20}),y>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-pink-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("button",{onClick:()=>r(!t),className:`text-gray-700 hover:text-pink-700 transition-colors duration-300 ${t?"text-pink-700":""}`,children:c.jsx(RE,{size:20})}),t&&c.jsxs("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-lg p-2 rounded-md w-64",children:[c.jsx("form",{onSubmit:ge,children:c.jsx("input",{type:"text",placeholder:"Search products...",className:"px-3 py-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent",value:D,onChange:le,autoFocus:!0})}),S.length>0&&c.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:S.map(ue=>c.jsx(tt,{to:`/product/${ue.id}`,className:"block px-3 py-2 hover:bg-pink-50 rounded-md text-sm transition-colors duration-200",onClick:()=>{r(!1),T("")},children:ue.id},ue.id))}),D&&S.length===0&&c.jsx("div",{className:"mt-2 text-sm text-gray-500 px-3 py-2",children:"No products found"})]})]})]})]}),c.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("button",{onClick:()=>{e(!n),z(!1)},children:n?c.jsx(dm,{size:24}):c.jsx(r6,{size:24})})}),c.jsx("div",{className:"flex flex-col justify-center items-center z-50",children:c.jsxs(tt,{to:"/",className:"flex flex-col items-center",children:[c.jsx("img",{src:jE,alt:"Brand Logo",className:"h-[50px] w-auto"}),c.jsx("span",{className:"typing-text mt-[-10px] !text-[16px]",children:O})]})}),c.jsx("div",{className:"flex items-center",children:c.jsx("button",{onClick:fe,className:"text-gray-700 hover:text-pink-700",children:c.jsx(RE,{size:24})})})]})]}),n&&!B&&c.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[c.jsx(tt,{to:"/",className:"block font-semibold",children:"Home"}),u.map(ue=>ue.type==="dropdown"?c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>te(ue.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[ue.id,a===ue.id?c.jsx(Gl,{size:18}):c.jsx($l,{size:18})]}),a===ue.id&&c.jsx("div",{className:"ml-4 mt-2 space-y-1",children:ue.items.map(Ee=>c.jsx(tt,{to:`${Ee.path}`,className:"block capitalize",children:Ee.name},Ee.path))})]},ue.id):c.jsx(tt,{to:ue.path,className:"block font-semibold capitalize",children:ue.id},ue.id)),c.jsx(tt,{to:"/cart",className:"block font-semibold",children:"Orders"}),c.jsxs("button",{onClick:()=>{e(!1),E(!0)},className:"flex items-center space-x-2 relative",children:[c.jsx(Lf,{size:20}),c.jsx("span",{children:"Cart"}),y>0&&c.jsx("span",{className:"absolute left-4 -top-2 bg-pink-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]})]})]}),!B&&c.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-pink-100 border-t border-gray-200 z-50",children:c.jsxs("div",{className:"flex justify-around items-center h-16",children:[c.jsxs(tt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-pink-700 p-2",children:[c.jsx(Yk,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),c.jsxs("button",{onClick:H,className:"flex flex-col items-center justify-center text-gray-700 hover:text-pink-700 p-2",children:[c.jsx(Jk,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),c.jsxs(tt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-pink-700 p-2",children:[c.jsx(o6,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),c.jsxs("button",{onClick:()=>E(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-pink-700 p-2 relative",children:[c.jsx(Lf,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&c.jsx("span",{className:"absolute top-0 right-2 bg-pink-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),c.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-pink-700 p-2",children:[c.jsx(Pf,{size:20}),c.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),c.jsx(g6,{isOpen:b,onClose:()=>E(!1),cartItems:N}),B&&c.jsx("div",{className:"md:hidden bg-white p-3 border-b border-gray-200",children:c.jsxs("div",{className:"relative",children:[c.jsxs("form",{onSubmit:ge,className:"flex items-center",children:[c.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-400",value:D,onChange:le,autoFocus:!0}),c.jsx("button",{type:"button",onClick:fe,className:"ml-2 text-gray-500 hover:text-gray-700",children:c.jsx(dm,{size:24})})]}),S.length>0&&c.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md",children:S.map(ue=>c.jsx(tt,{to:`/product/${ue.id}`,className:"block px-4 py-2 hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>{z(!1),T("")},children:ue.id},ue.id))}),D&&S.length===0&&c.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md px-4 py-2 text-gray-500",children:"No products found"})]})})]})};var Bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$o=typeof window>"u"||"Deno"in globalThis;function wr(){}function v6(n,e){return typeof n=="function"?n(e):n}function cy(n){return typeof n=="number"&&n>=0&&n!==1/0}function vN(n,e){return Math.max(n+(e||0)-Date.now(),0)}function tc(n,e){return typeof n=="function"?n(e):n}function Es(n,e){return typeof n=="function"?n(e):n}function IE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==$v(u,e.options))return!1}else if(!xd(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function ME(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(vd(e.options.mutationKey)!==vd(o))return!1}else if(!xd(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function $v(n,e){return((e==null?void 0:e.queryKeyHashFn)||vd)(n)}function vd(n){return JSON.stringify(n,(e,t)=>dy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function xd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>xd(n[t],e[t])):!1}function xN(n,e){if(n===e)return n;const t=OE(n)&&OE(e);if(t||dy(n)&&dy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,h=t?[]:{};let f=0;for(let m=0;m<u;m++){const y=t?m:o[m];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,f++):(h[y]=xN(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&f++)}return a===u&&f===a?n:h}return e}function uy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function OE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function dy(n){if(!DE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!DE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function DE(n){return Object.prototype.toString.call(n)==="[object Object]"}function x6(n){return new Promise(e=>{setTimeout(e,n)})}function hy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?xN(n,e):e}function b6(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function w6(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Gv=Symbol();function bN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Gv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function _6(n,e){return typeof n=="function"?n(...e):!!n}var Io,xa,sc,l2,E6=(l2=class extends Bd{constructor(){super();Ke(this,Io);Ke(this,xa);Ke(this,sc);Ie(this,sc,e=>{if(!$o&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){W(this,xa)||this.setEventListener(W(this,sc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,xa))==null||e.call(this),Ie(this,xa,void 0))}setEventListener(e){var t;Ie(this,sc,e),(t=W(this,xa))==null||t.call(this),Ie(this,xa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,Io)!==e&&(Ie(this,Io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof W(this,Io)=="boolean"?W(this,Io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Io=new WeakMap,xa=new WeakMap,sc=new WeakMap,l2),Qv=new E6,ic,ba,ac,c2,T6=(c2=class extends Bd{constructor(){super();Ke(this,ic,!0);Ke(this,ba);Ke(this,ac);Ie(this,ac,e=>{if(!$o&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,ba)||this.setEventListener(W(this,ac))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,ba))==null||e.call(this),Ie(this,ba,void 0))}setEventListener(e){var t;Ie(this,ac,e),(t=W(this,ba))==null||t.call(this),Ie(this,ba,e(this.setOnline.bind(this)))}setOnline(e){W(this,ic)!==e&&(Ie(this,ic,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,ic)}},ic=new WeakMap,ba=new WeakMap,ac=new WeakMap,c2),hm=new T6;function fy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function S6(n){return Math.min(1e3*2**n,3e4)}function wN(n){return(n??"online")==="online"?hm.isOnline():!0}var _N=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function v0(n){return n instanceof _N}function EN(n){let e=!1,t=0,r=!1,a;const o=fy(),u=P=>{var D;r||(b(new _N(P)),(D=n.abort)==null||D.call(n))},h=()=>{e=!0},f=()=>{e=!1},m=()=>Qv.isFocused()&&(n.networkMode==="always"||hm.isOnline())&&n.canRun(),y=()=>wN(n.networkMode)&&n.canRun(),x=P=>{var D;r||(r=!0,(D=n.onSuccess)==null||D.call(n,P),a==null||a(),o.resolve(P))},b=P=>{var D;r||(r=!0,(D=n.onError)==null||D.call(n,P),a==null||a(),o.reject(P))},E=()=>new Promise(P=>{var D;a=T=>{(r||m())&&P(T)},(D=n.onPause)==null||D.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),N=()=>{if(r)return;let P;const D=t===0?n.initialPromise:void 0;try{P=D??n.fn()}catch(T){P=Promise.reject(T)}Promise.resolve(P).then(x).catch(T=>{var B;if(r)return;const S=n.retry??($o?0:3),w=n.retryDelay??S6,j=typeof w=="function"?w(t,T):w,U=S===!0||typeof S=="number"&&t<S||typeof S=="function"&&S(t,T);if(e||!U){b(T);return}t++,(B=n.onFail)==null||B.call(n,t,T),x6(j).then(()=>m()?void 0:E()).then(()=>{e?b(T):N()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:h,continueRetry:f,canStart:y,start:()=>(y()?N():E().then(N),o)}}var N6=n=>setTimeout(n,0);function C6(){let n=[],e=0,t=h=>{h()},r=h=>{h()},a=N6;const o=h=>{e?n.push(h):a(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&a(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Bn=C6(),Mo,u2,TN=(u2=class{constructor(){Ke(this,Mo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cy(this.gcTime)&&Ie(this,Mo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??($o?1/0:5*60*1e3))}clearGcTimeout(){W(this,Mo)&&(clearTimeout(W(this,Mo)),Ie(this,Mo,void 0))}},Mo=new WeakMap,u2),oc,lc,as,Oo,Xn,Ed,Do,ws,Ni,d2,A6=(d2=class extends TN{constructor(e){super();Ke(this,ws);Ke(this,oc);Ke(this,lc);Ke(this,as);Ke(this,Oo);Ke(this,Xn);Ke(this,Ed);Ke(this,Do);Ie(this,Do,!1),Ie(this,Ed,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Oo,e.client),Ie(this,as,W(this,Oo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,oc,R6(this.options)),this.state=e.state??W(this,oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,Xn))==null?void 0:e.promise}setOptions(e){this.options={...W(this,Ed),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,as).remove(this)}setData(e,t){const r=hy(this.state.data,e,this.options);return vt(this,ws,Ni).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){vt(this,ws,Ni).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=W(this,Xn))==null?void 0:r.promise;return(a=W(this,Xn))==null||a.cancel(e),t?t.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,oc))}isActive(){return this.observers.some(e=>Es(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!vN(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=W(this,Xn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=W(this,Xn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,as).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(W(this,Xn)&&(W(this,Do)?W(this,Xn).cancel({revert:!0}):W(this,Xn).cancelRetry()),this.scheduleGc()),W(this,as).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,ws,Ni).call(this,{type:"invalidate"})}fetch(e,t){var f,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(W(this,Xn))return W(this,Xn).continueRetry(),W(this,Xn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(b=>b.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Ie(this,Do,!0),r.signal)})},o=()=>{const x=bN(this.options,t),b={client:W(this,Oo),queryKey:this.queryKey,meta:this.meta};return a(b),Ie(this,Do,!1),this.options.persister?this.options.persister(x,b,this):x(b)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:W(this,Oo),state:this.state,fetchFn:o};a(u),(f=this.options.behavior)==null||f.onFetch(u,this),Ie(this,lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&vt(this,ws,Ni).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const h=x=>{var b,E,N,P;v0(x)&&x.silent||vt(this,ws,Ni).call(this,{type:"error",error:x}),v0(x)||((E=(b=W(this,as).config).onError)==null||E.call(b,x,this),(P=(N=W(this,as).config).onSettled)==null||P.call(N,this.state.data,x,this)),this.scheduleGc()};return Ie(this,Xn,EN({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var b,E,N,P;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(D){h(D);return}(E=(b=W(this,as).config).onSuccess)==null||E.call(b,x,this),(P=(N=W(this,as).config).onSettled)==null||P.call(N,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,b)=>{vt(this,ws,Ni).call(this,{type:"failed",failureCount:x,error:b})},onPause:()=>{vt(this,ws,Ni).call(this,{type:"pause"})},onContinue:()=>{vt(this,ws,Ni).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),W(this,Xn).start()}},oc=new WeakMap,lc=new WeakMap,as=new WeakMap,Oo=new WeakMap,Xn=new WeakMap,Ed=new WeakMap,Do=new WeakMap,ws=new WeakSet,Ni=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...SN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return v0(a)&&a.revert&&W(this,lc)?{...W(this,lc),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,as).notify({query:this,type:"updated",action:e})})},d2);function SN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function R6(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Xs,h2,j6=(h2=class extends Bd{constructor(e={}){super();Ke(this,Xs);this.config=e,Ie(this,Xs,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??$v(a,t);let u=this.get(o);return u||(u=new A6({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){W(this,Xs).has(e.queryHash)||(W(this,Xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=W(this,Xs).get(e.queryHash);t&&(e.destroy(),t===e&&W(this,Xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Xs).get(e)}getAll(){return[...W(this,Xs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>IE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>IE(e,r)):t}notify(e){Bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xs=new WeakMap,h2),Ws,cr,ko,Zs,fa,f2,I6=(f2=class extends TN{constructor(e){super();Ke(this,Zs);Ke(this,Ws);Ke(this,cr);Ke(this,ko);this.mutationId=e.mutationId,Ie(this,cr,e.mutationCache),Ie(this,Ws,[]),this.state=e.state||M6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Ws).includes(e)||(W(this,Ws).push(e),this.clearGcTimeout(),W(this,cr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Ws,W(this,Ws).filter(t=>t!==e)),this.scheduleGc(),W(this,cr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Ws).length||(this.state.status==="pending"?this.scheduleGc():W(this,cr).remove(this))}continue(){var e;return((e=W(this,ko))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,h,f,m,y,x,b,E,N,P,D,T,S,w,j,U,B,z,R;const t=()=>{vt(this,Zs,fa).call(this,{type:"continue"})};Ie(this,ko,EN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,C)=>{vt(this,Zs,fa).call(this,{type:"failed",failureCount:M,error:C})},onPause:()=>{vt(this,Zs,fa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,cr).canRun(this)}));const r=this.state.status==="pending",a=!W(this,ko).canStart();try{if(r)t();else{vt(this,Zs,fa).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=W(this,cr).config).onMutate)==null?void 0:u.call(o,e,this));const C=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e));C!==this.state.context&&vt(this,Zs,fa).call(this,{type:"pending",context:C,variables:e,isPaused:a})}const M=await W(this,ko).start();return await((y=(m=W(this,cr).config).onSuccess)==null?void 0:y.call(m,M,e,this.state.context,this)),await((b=(x=this.options).onSuccess)==null?void 0:b.call(x,M,e,this.state.context)),await((N=(E=W(this,cr).config).onSettled)==null?void 0:N.call(E,M,null,this.state.variables,this.state.context,this)),await((D=(P=this.options).onSettled)==null?void 0:D.call(P,M,null,e,this.state.context)),vt(this,Zs,fa).call(this,{type:"success",data:M}),M}catch(M){try{throw await((S=(T=W(this,cr).config).onError)==null?void 0:S.call(T,M,e,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,M,e,this.state.context)),await((B=(U=W(this,cr).config).onSettled)==null?void 0:B.call(U,void 0,M,this.state.variables,this.state.context,this)),await((R=(z=this.options).onSettled)==null?void 0:R.call(z,void 0,M,e,this.state.context)),M}finally{vt(this,Zs,fa).call(this,{type:"error",error:M})}}finally{W(this,cr).runNext(this)}}},Ws=new WeakMap,cr=new WeakMap,ko=new WeakMap,Zs=new WeakSet,fa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Bn.batch(()=>{W(this,Ws).forEach(r=>{r.onMutationUpdate(e)}),W(this,cr).notify({mutation:this,type:"updated",action:e})})},f2);function M6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,_s,Td,m2,O6=(m2=class extends Bd{constructor(e={}){super();Ke(this,Ai);Ke(this,_s);Ke(this,Td);this.config=e,Ie(this,Ai,new Set),Ie(this,_s,new Map),Ie(this,Td,0)}build(e,t,r){const a=new I6({mutationCache:this,mutationId:++af(this,Td)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){W(this,Ai).add(e);const t=gf(e);if(typeof t=="string"){const r=W(this,_s).get(t);r?r.push(e):W(this,_s).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,Ai).delete(e)){const t=gf(e);if(typeof t=="string"){const r=W(this,_s).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&W(this,_s).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gf(e);if(typeof t=="string"){const r=W(this,_s).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=gf(e);if(typeof t=="string"){const a=(r=W(this,_s).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bn.batch(()=>{W(this,Ai).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,Ai).clear(),W(this,_s).clear()})}getAll(){return Array.from(W(this,Ai))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ME(t,r))}findAll(e={}){return this.getAll().filter(t=>ME(e,t))}notify(e){Bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Bn.batch(()=>Promise.all(e.map(t=>t.continue().catch(wr))))}},Ai=new WeakMap,_s=new WeakMap,Td=new WeakMap,m2);function gf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function fm(n){return{onFetch:(e,t)=>{var y,x,b,E,N;const r=e.options,a=(b=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:b.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],u=((N=e.state.data)==null?void 0:N.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const m=async()=>{let P=!1;const D=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},T=bN(e.options,e.fetchOptions),S=async(w,j,U)=>{if(P)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const B={client:e.client,queryKey:e.queryKey,pageParam:j,direction:U?"backward":"forward",meta:e.options.meta};D(B);const z=await T(B),{maxPages:R}=e.options,M=U?w6:b6;return{pages:M(w.pages,z,R),pageParams:M(w.pageParams,j,R)}};if(a&&o.length){const w=a==="backward",j=w?NN:my,U={pages:o,pageParams:u},B=j(r,U);h=await S(U,B,w)}else{const w=n??o.length;do{const j=f===0?u[0]??r.initialPageParam:my(r,h);if(f>0&&j==null)break;h=await S(h,j),f++}while(f<w)}return h};e.options.persister?e.fetchFn=()=>{var P,D;return(D=(P=e.options).persister)==null?void 0:D.call(P,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=m}}}function my(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function NN(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function D6(n,e){return e?my(n,e)!=null:!1}function k6(n,e){return!e||!n.getPreviousPageParam?!1:NN(n,e)!=null}var tn,wa,_a,cc,uc,Ea,dc,hc,p2,P6=(p2=class{constructor(n={}){Ke(this,tn);Ke(this,wa);Ke(this,_a);Ke(this,cc);Ke(this,uc);Ke(this,Ea);Ke(this,dc);Ke(this,hc);Ie(this,tn,n.queryCache||new j6),Ie(this,wa,n.mutationCache||new O6),Ie(this,_a,n.defaultOptions||{}),Ie(this,cc,new Map),Ie(this,uc,new Map),Ie(this,Ea,0)}mount(){af(this,Ea)._++,W(this,Ea)===1&&(Ie(this,dc,Qv.subscribe(async n=>{n&&(await this.resumePausedMutations(),W(this,tn).onFocus())})),Ie(this,hc,hm.subscribe(async n=>{n&&(await this.resumePausedMutations(),W(this,tn).onOnline())})))}unmount(){var n,e;af(this,Ea)._--,W(this,Ea)===0&&((n=W(this,dc))==null||n.call(this),Ie(this,dc,void 0),(e=W(this,hc))==null||e.call(this),Ie(this,hc,void 0))}isFetching(n){return W(this,tn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return W(this,wa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=W(this,tn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=W(this,tn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(tc(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return W(this,tn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=W(this,tn).get(r.queryHash),o=a==null?void 0:a.state.data,u=v6(e,o);if(u!==void 0)return W(this,tn).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Bn.batch(()=>W(this,tn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=W(this,tn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=W(this,tn);Bn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=W(this,tn);return Bn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Bn.batch(()=>W(this,tn).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(n,e={}){return Bn.batch(()=>(W(this,tn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Bn.batch(()=>W(this,tn).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(wr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(wr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=W(this,tn).build(this,e);return t.isStaleByTime(tc(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(wr).catch(wr)}fetchInfiniteQuery(n){return n.behavior=fm(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(wr).catch(wr)}ensureInfiniteQueryData(n){return n.behavior=fm(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return hm.isOnline()?W(this,wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,tn)}getMutationCache(){return W(this,wa)}getDefaultOptions(){return W(this,_a)}setDefaultOptions(n){Ie(this,_a,n)}setQueryDefaults(n,e){W(this,cc).set(vd(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...W(this,cc).values()],t={};return e.forEach(r=>{xd(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){W(this,uc).set(vd(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...W(this,uc).values()],t={};return e.forEach(r=>{xd(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...W(this,_a).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=$v(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Gv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...W(this,_a).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){W(this,tn).clear(),W(this,wa).clear()}},tn=new WeakMap,wa=new WeakMap,_a=new WeakMap,cc=new WeakMap,uc=new WeakMap,Ea=new WeakMap,dc=new WeakMap,hc=new WeakMap,p2),xr,xt,Sd,ur,Po,fc,Ta,Sa,Nd,mc,pc,Lo,Vo,Na,gc,It,Xu,py,gy,yy,vy,xy,by,wy,AN,g2,CN=(g2=class extends Bd{constructor(e,t){super();Ke(this,It);Ke(this,xr);Ke(this,xt);Ke(this,Sd);Ke(this,ur);Ke(this,Po);Ke(this,fc);Ke(this,Ta);Ke(this,Sa);Ke(this,Nd);Ke(this,mc);Ke(this,pc);Ke(this,Lo);Ke(this,Vo);Ke(this,Na);Ke(this,gc,new Set);this.options=t,Ie(this,xr,e),Ie(this,Sa,null),Ie(this,Ta,fy()),this.options.experimental_prefetchInRender||W(this,Ta).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,xt).addObserver(this),kE(W(this,xt),this.options)?vt(this,It,Xu).call(this):this.updateResult(),vt(this,It,vy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _y(W(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _y(W(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,It,xy).call(this),vt(this,It,by).call(this),W(this,xt).removeObserver(this)}setOptions(e){const t=this.options,r=W(this,xt);if(this.options=W(this,xr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Es(this.options.enabled,W(this,xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,It,wy).call(this),W(this,xt).setOptions(this.options),t._defaulted&&!uy(this.options,t)&&W(this,xr).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,xt),observer:this});const a=this.hasListeners();a&&PE(W(this,xt),r,this.options,t)&&vt(this,It,Xu).call(this),this.updateResult(),a&&(W(this,xt)!==r||Es(this.options.enabled,W(this,xt))!==Es(t.enabled,W(this,xt))||tc(this.options.staleTime,W(this,xt))!==tc(t.staleTime,W(this,xt)))&&vt(this,It,py).call(this);const o=vt(this,It,gy).call(this);a&&(W(this,xt)!==r||Es(this.options.enabled,W(this,xt))!==Es(t.enabled,W(this,xt))||o!==W(this,Na))&&vt(this,It,yy).call(this,o)}getOptimisticResult(e){const t=W(this,xr).getQueryCache().build(W(this,xr),e),r=this.createResult(t,e);return V6(this,r)&&(Ie(this,ur,r),Ie(this,fc,this.options),Ie(this,Po,W(this,xt).state)),r}getCurrentResult(){return W(this,ur)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){W(this,gc).add(e)}getCurrentQuery(){return W(this,xt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=W(this,xr).defaultQueryOptions(e),r=W(this,xr).getQueryCache().build(W(this,xr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return vt(this,It,Xu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,ur)))}createResult(e,t){var M;const r=W(this,xt),a=this.options,o=W(this,ur),u=W(this,Po),h=W(this,fc),m=e!==r?e.state:W(this,Sd),{state:y}=e;let x={...y},b=!1,E;if(t._optimisticResults){const C=this.hasListeners(),k=!C&&kE(e,t),L=C&&PE(e,r,t,a);(k||L)&&(x={...x,...SN(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:N,errorUpdatedAt:P,status:D}=x;E=x.data;let T=!1;if(t.placeholderData!==void 0&&E===void 0&&D==="pending"){let C;o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(C=o.data,T=!0):C=typeof t.placeholderData=="function"?t.placeholderData((M=W(this,pc))==null?void 0:M.state.data,W(this,pc)):t.placeholderData,C!==void 0&&(D="success",E=hy(o==null?void 0:o.data,C,t),b=!0)}if(t.select&&E!==void 0&&!T)if(o&&E===(u==null?void 0:u.data)&&t.select===W(this,Nd))E=W(this,mc);else try{Ie(this,Nd,t.select),E=t.select(E),E=hy(o==null?void 0:o.data,E,t),Ie(this,mc,E),Ie(this,Sa,null)}catch(C){Ie(this,Sa,C)}W(this,Sa)&&(N=W(this,Sa),E=W(this,mc),P=Date.now(),D="error");const S=x.fetchStatus==="fetching",w=D==="pending",j=D==="error",U=w&&S,B=E!==void 0,R={status:D,fetchStatus:x.fetchStatus,isPending:w,isSuccess:D==="success",isError:j,isInitialLoading:U,isLoading:U,data:E,dataUpdatedAt:x.dataUpdatedAt,error:N,errorUpdatedAt:P,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:S,isRefetching:S&&!w,isLoadingError:j&&!B,isPaused:x.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:j&&B,isStale:Kv(e,t),refetch:this.refetch,promise:W(this,Ta)};if(this.options.experimental_prefetchInRender){const C=O=>{R.status==="error"?O.reject(R.error):R.data!==void 0&&O.resolve(R.data)},k=()=>{const O=Ie(this,Ta,R.promise=fy());C(O)},L=W(this,Ta);switch(L.status){case"pending":e.queryHash===r.queryHash&&C(L);break;case"fulfilled":(R.status==="error"||R.data!==L.value)&&k();break;case"rejected":(R.status!=="error"||R.error!==L.reason)&&k();break}}return R}updateResult(){const e=W(this,ur),t=this.createResult(W(this,xt),this.options);if(Ie(this,Po,W(this,xt).state),Ie(this,fc,this.options),W(this,Po).data!==void 0&&Ie(this,pc,W(this,xt)),uy(t,e))return;Ie(this,ur,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!W(this,gc).size)return!0;const u=new Set(o??W(this,gc));return this.options.throwOnError&&u.add("error"),Object.keys(W(this,ur)).some(h=>{const f=h;return W(this,ur)[f]!==e[f]&&u.has(f)})};vt(this,It,AN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,It,vy).call(this)}},xr=new WeakMap,xt=new WeakMap,Sd=new WeakMap,ur=new WeakMap,Po=new WeakMap,fc=new WeakMap,Ta=new WeakMap,Sa=new WeakMap,Nd=new WeakMap,mc=new WeakMap,pc=new WeakMap,Lo=new WeakMap,Vo=new WeakMap,Na=new WeakMap,gc=new WeakMap,It=new WeakSet,Xu=function(e){vt(this,It,wy).call(this);let t=W(this,xt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(wr)),t},py=function(){vt(this,It,xy).call(this);const e=tc(this.options.staleTime,W(this,xt));if($o||W(this,ur).isStale||!cy(e))return;const r=vN(W(this,ur).dataUpdatedAt,e)+1;Ie(this,Lo,setTimeout(()=>{W(this,ur).isStale||this.updateResult()},r))},gy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,xt)):this.options.refetchInterval)??!1},yy=function(e){vt(this,It,by).call(this),Ie(this,Na,e),!($o||Es(this.options.enabled,W(this,xt))===!1||!cy(W(this,Na))||W(this,Na)===0)&&Ie(this,Vo,setInterval(()=>{(this.options.refetchIntervalInBackground||Qv.isFocused())&&vt(this,It,Xu).call(this)},W(this,Na)))},vy=function(){vt(this,It,py).call(this),vt(this,It,yy).call(this,vt(this,It,gy).call(this))},xy=function(){W(this,Lo)&&(clearTimeout(W(this,Lo)),Ie(this,Lo,void 0))},by=function(){W(this,Vo)&&(clearInterval(W(this,Vo)),Ie(this,Vo,void 0))},wy=function(){const e=W(this,xr).getQueryCache().build(W(this,xr),this.options);if(e===W(this,xt))return;const t=W(this,xt);Ie(this,xt,e),Ie(this,Sd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},AN=function(e){Bn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(W(this,ur))}),W(this,xr).getQueryCache().notify({query:W(this,xt),type:"observerResultsUpdated"})})},g2);function L6(n,e){return Es(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function kE(n,e){return L6(n,e)||n.state.data!==void 0&&_y(n,e,e.refetchOnMount)}function _y(n,e,t){if(Es(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Kv(n,e)}return!1}function PE(n,e,t,r){return(n!==e||Es(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Kv(n,t)}function Kv(n,e){return Es(e.enabled,n)!==!1&&n.isStaleByTime(tc(e.staleTime,n))}function V6(n,e){return!uy(n.getCurrentResult(),e)}var z6=class extends CN{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:fm()})}getOptimisticResult(n){return n.behavior=fm(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var N,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:h}=r,f=(P=(N=t.fetchMeta)==null?void 0:N.fetchMore)==null?void 0:P.direction,m=u&&f==="forward",y=a&&f==="forward",x=u&&f==="backward",b=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:D6(e,t.data),hasPreviousPage:k6(e,t.data),isFetchNextPageError:m,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:b,isRefetchError:h&&!m&&!x,isRefetching:o&&!y&&!b}}},RN=V.createContext(void 0),U6=n=>{const e=V.useContext(RN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},B6=({client:n,children:e})=>(V.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),c.jsx(RN.Provider,{value:n,children:e})),jN=V.createContext(!1),F6=()=>V.useContext(jN);jN.Provider;function q6(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var H6=V.createContext(q6()),$6=()=>V.useContext(H6),G6=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Q6=n=>{V.useEffect(()=>{n.clearReset()},[n])},K6=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||_6(t,[n.error,r])),Y6=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},X6=(n,e)=>n.isLoading&&n.isFetching&&!e,W6=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,LE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function IN(n,e,t){var x,b,E,N,P;const r=U6(),a=F6(),o=$6(),u=r.defaultQueryOptions(n);(b=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||b.call(x,u),u._optimisticResults=a?"isRestoring":"optimistic",Y6(u),G6(u,o),Q6(o);const h=!r.getQueryCache().get(u.queryHash),[f]=V.useState(()=>new e(r,u)),m=f.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(D=>{const T=y?f.subscribe(Bn.batchCalls(D)):wr;return f.updateResult(),T},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),V.useEffect(()=>{f.setOptions(u)},[u,f]),W6(u,m))throw LE(u,f,o);if(K6({result:m,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;if((N=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||N.call(E,u,m),u.experimental_prefetchInRender&&!$o&&X6(m,a)){const D=h?LE(u,f,o):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;D==null||D.catch(wr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?m:f.trackResult(m)}function Z6(n,e){return IN(n,CN)}function MN(n,e){return IN(n,z6)}const VE="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",J6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-37.062%20-28.3525%20321.204%20170.115'%3e%3cg%20fill='none'%3e%3cpath%20fill='%23D12053'%20d='M223.65%2062.45l-53.03-8.31%207.03%2031.6z'/%3e%3cpath%20fill='%23E2136E'%20d='M223.65%2062.45L183.69%206.93l-13.06%2047.22z'/%3e%3cpath%20fill='%23D12053'%20d='M169.39%2053.51L127.52%200l54.83%206.55z'/%3e%3cpath%20fill='%239E1638'%20d='M150.32%2031.15L127.07%209.24h6.12z'/%3e%3cpath%20fill='%23D12053'%20d='M234.96%2035.46l-9.84%2026.69-15.95-22.06z'/%3e%3cpath%20fill='%23E2136E'%20d='M183.84%2084.14l38.61-15.51%201.62-4.93z'/%3e%3cpath%20fill='%239E1638'%20d='M152.96%20113.41l16.54-58.02%208.39%2037.75z'/%3e%3cpath%20fill='%23E2136E'%20d='M236.5%2035.67l-4.06%2011.02%2014.64-.24zM0%2040.09c.71.06%201.43.19%202.19.19s1.38-.13%202.19-.19v23.47c2.31-3.93%205.22-6.52%209.5-6.52%207.74%200%2011.06%207.66%2011.06%2014.7%200%208.43-4.5%2016.5-12.39%2016.5a8.66%208.66%200%2001-7.77-4.47c-1.32%201.16-2.49%202.55-3.74%203.81h-1zm4.28%2034.52c0%206.84%202.9%2011.61%207.67%2011.61%206.19%200%208.18-8.32%208.18-14.22%200-6.85-2.26-12.24-7.62-12.3-6.26-.05-8.23%207.36-8.23%2014.92z'/%3e%3cpath%20fill='%23231F20'%20d='M45.13%2055.27l-4.66%206c4.38%206.4%208.92%2012.67%2013.32%2019.15l4.44%207v.35c-1.09-.07-2.08-.21-3-.21-.92%200-2.08.14-3.06.21-1.21-2.24-2.41-4.31-3.78-6.34l-12-17.75c-.27-.28-.92-.5-.92-.21v24.3c-.88-.07-1.65-.21-2.41-.21-.76%200-1.64.14-2.41.21V40.09c.77.06%201.6.21%202.41.21s1.53-.15%202.41-.21v21.52c0%20.42.82.14%201.36-.42a37.1%2037.1%200%20002.92-3.42l13.49-17.7c.71.06%201.42.21%202.19.21s1.36-.15%202.14-.21zM81.42%2082.4c0%202.48-.16%203.74%203.07%202.92v1.39a8.87%208.87%200%2001-1.65.63c-2.85.57-5.21.06-5.65-3.67l-.49.55a10.17%2010.17%200%2001-8.12%204c-3.88%200-7.28-3.06-7.28-7.75%200-7.23%205-8.18%2010.13-9.13%204.34-.82%205.82-1.2%205.82-4.25%200-4.7-2.3-7.42-6.41-7.42a6.85%206.85%200%2000-6.52%204.37h-.6v-3.52a14.2%2014.2%200%20018.87-3.48c5.75%200%208.88%203.48%208.88%2010.65zm-4.38-10.47l-1.93.44c-3.73.82-9.32%201.45-9.32%207.24%200%204%202%206%205.36%206a6.83%206.83%200%20004.44-2.44c.4-.46%201.5-1.54%201.5-2zm14.15%209.63c1.3%202.49%203.72%204.72%206.3%204.72a5.67%205.67%200%20005.38-5.78c0-8.56-12.95-3-12.95-14.08%200-6.08%204-9.37%208.93-9.37%202.18-.048%204.33.52%206.2%201.64a32.791%2032.791%200%2000-1.3%204.5h-.5c-.72-2.09-2.63-4.19-4.66-4.19-2.74%200-5%201.85-5%205.28%200%208.11%2012.95%203.79%2012.95%2013.94%200%206.79-5.26%2010-10.1%2010a12.73%2012.73%200%2001-6.84-2%2034.42%2034.42%200%20001.15-4.65zm22.73-41.47c.73.06%201.44.19%202.2.19.76%200%201.38-.13%202.2-.19v23.09c1.92-3.87%204.93-6.14%208.83-6.14%206.36%200%208.83%204.36%208.83%2012.36v18.37c-.83-.07-1.47-.19-2.2-.19-.73%200-1.48.13-2.2.19V70.85c0-7-1.41-10.53-6.08-10.53-4.94%200-7.18%203.56-7.18%2010.15v17.3c-.82-.07-1.47-.19-2.2-.19-.73%200-1.46.13-2.2.19z'/%3e%3c/g%3e%3c/svg%3e",eP="/assets/Nagad-Logo.wine-BlVRnsIb.svg",tP="/assets/dutch-bangla-rocket-logo-png_seeklogo-317692-DPiqreWE.png",nP=()=>c.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:c.jsx("path",{fill:"#1A1F71",d:"M9.064 8.482l-1.09 6.966h1.527l1.09-6.966H9.064zm6.11 0l-1.09 6.966h1.527l1.09-6.966h-1.527zm-8.2 0L4.782 15.45h1.527l.69-4.414.017-.107.63-2.446H6.974zm12.052 0l-1.09 6.966h1.258l.77-4.92.042-.268.62-1.778h-1.58zm-5.137 0l-1.09 6.966h4.183l.26-1.656h-2.606l.4-2.57h2.547l.26-1.656h-2.547l.4-2.57h2.606l.26-1.656h-4.183z"})}),rP=()=>c.jsxs("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[c.jsx("path",{fill:"#EB001B",d:"M12 6.654a6 6 0 100 10.692 6 6 0 000-10.692z"}),c.jsx("path",{fill:"#F79E1B",d:"M12 6.654a6 6 0 110 10.692 6 6 0 010-10.692z"}),c.jsx("path",{fill:"#FF5F00",d:"M12 6.654a6 6 0 100 10.692 6 6 0 010-10.692z"})]}),ON=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=V.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)},[u,h]=V.useState(null),f=y=>{h(u===y?null:y)},m=[{name:"bKash",icon:c.jsx("img",{src:J6,alt:"bKash",className:"h-6 w-auto"}),color:"bg-gradient-to-r from-pink-500 to-pink-600"},{name:"Nagad",icon:c.jsx("img",{src:eP,alt:"Nagad",className:"h-6 w-auto"}),color:"bg-gradient-to-r from-purple-500 to-purple-600"},{name:"Rocket",icon:c.jsx("img",{src:tP,alt:"Rocket",className:"h-6 w-auto"}),color:"bg-gradient-to-r from-indigo-500 to-indigo-600"},{name:"Visa",icon:c.jsx(nP,{}),color:"bg-gradient-to-r from-blue-500 to-blue-600"},{name:"Mastercard",icon:c.jsx(rP,{}),color:"bg-gradient-to-r from-red-500 to-red-600"},{name:"Cash on Delivery",icon:c.jsx($k,{size:16,className:"text-white"}),color:"bg-gradient-to-r from-green-500 to-green-600"}];return c.jsx("footer",{className:"bg-gradient-to-b mt-4 from-gray-900 to-gray-800 text-gray-300 play-regular w-full border-t border-gray-700",children:c.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4",children:[c.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center justify-between gap-8 mb-12 border-b border-gray-700 pb-10",children:[c.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:c.jsx(tt,{to:"/",className:"flex justify-center group",children:c.jsx("img",{src:VE,alt:"Mahira Collection Logo",className:"h-28 object-contain transform group-hover:scale-105 transition-transform duration-300"})})}),c.jsx("div",{className:"text-sm md:text-base text-center md:text-left",children:c.jsxs("p",{className:"whitespace-pre-line leading-relaxed",children:[a,!t&&e.split(`
`).length>4&&c.jsxs("button",{onClick:o,className:"text-pink-400 hover:text-pink-300 font-medium ml-2 focus:outline-none flex items-center transition-colors",children:["Read More ",c.jsx($l,{size:16,className:"ml-1"})]}),t&&e.split(`
`).length>4&&c.jsxs("button",{onClick:o,className:"text-pink-400 hover:text-pink-300 font-medium ml-2 focus:outline-none flex items-center transition-colors",children:["Read Less ",c.jsx(Gl,{size:16,className:"ml-1"})]})]})})]}),c.jsx("div",{className:"md:hidden mb-8 border-b border-gray-700 pb-8",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(tt,{to:"/",className:"mb-6 group",children:c.jsx("img",{src:VE,alt:"Mahira Collection Logo",className:"h-24 object-contain transform group-hover:scale-105 transition-transform duration-300"})}),c.jsx("p",{className:"text-sm text-center whitespace-pre-line leading-relaxed",children:e.split(`
`).slice(0,4).join(`
`)})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"md:hidden space-y-6 mb-8",children:[c.jsxs("div",{className:"border-b border-gray-700 pb-3",children:[c.jsxs("button",{onClick:()=>f("quickLinks"),className:"flex justify-between items-center w-full text-lg font-semibold text-white",children:["Quick Links",u==="quickLinks"?c.jsx(Gl,{className:"text-pink-400"}):c.jsx($l,{className:"text-pink-400"})]}),u==="quickLinks"&&c.jsx("ul",{className:"mt-4 space-y-3 text-sm pl-2",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((y,x)=>c.jsx("li",{children:c.jsx(tt,{to:y.path,className:"hover:text-pink-400 transition-colors duration-200 block py-1.5",children:y.name})},x))})]}),c.jsxs("div",{className:"border-b border-gray-700 pb-3",children:[c.jsxs("button",{onClick:()=>f("contact"),className:"flex justify-between items-center w-full text-lg font-semibold text-white",children:["Contact Us",u==="contact"?c.jsx(Gl,{className:"text-pink-400"}):c.jsx($l,{className:"text-pink-400"})]}),u==="contact"&&c.jsxs("div",{className:"mt-4 space-y-4 text-sm pl-2",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(AE,{size:18,className:"mt-0.5 flex-shrink-0 text-pink-400"}),c.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(CE,{size:18,className:"text-pink-400"}),c.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-pink-400 transition-colors duration-200",children:"info@mahira.com"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Pf,{size:18,className:"text-pink-400"}),c.jsx("a",{href:"tel:+8801736600480",className:"hover:text-pink-400 transition-colors duration-200",children:"+880 01783694568"})]})]})]}),c.jsxs("div",{className:"border-b border-gray-700 pb-3",children:[c.jsxs("button",{onClick:()=>f("hours"),className:"flex justify-between items-center w-full text-lg font-semibold text-white",children:["Opening Hours",u==="hours"?c.jsx(Gl,{className:"text-pink-400"}):c.jsx($l,{className:"text-pink-400"})]}),u==="hours"&&c.jsxs("div",{className:"mt-4 space-y-3 text-sm pl-2",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Saturday: 10am - 6pm"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Sunday: Closed"})]})]})]}),c.jsxs("div",{className:"border-b border-gray-700 pb-3",children:[c.jsxs("button",{onClick:()=>f("payments"),className:"flex justify-between items-center w-full text-lg font-semibold text-white",children:["Payment Methods",u==="payments"?c.jsx(Gl,{className:"text-pink-400"}):c.jsx($l,{className:"text-pink-400"})]}),u==="payments"&&c.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3 pl-2",children:m.map((y,x)=>c.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center shadow-md hover:shadow-lg transition-shadow duration-300`,title:y.name,children:c.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),c.jsxs("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Follow Us"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("a",{href:"https://www.facebook.com/Homaira22",className:"bg-gray-700 p-3 rounded-full shadow-lg text-white hover:bg-blue-600 hover:text-white transition-all duration-300 transform hover:-translate-y-1","aria-label":"Facebook",children:c.jsx(Qk,{size:20})}),c.jsx("a",{href:"#",className:"bg-gray-700 p-3 rounded-full shadow-lg text-white hover:bg-gradient-to-r from-pink-500 to-purple-500 hover:text-white transition-all duration-300 transform hover:-translate-y-1","aria-label":"Instagram",children:c.jsx(Wk,{size:20})}),c.jsx("a",{href:"#",className:"bg-gray-700 p-3 rounded-full shadow-lg text-white hover:bg-sky-500 hover:text-white transition-all duration-300 transform hover:-translate-y-1","aria-label":"Twitter",children:c.jsx(m6,{size:20})})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Payment Methods"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map((y,x)=>c.jsx("div",{className:`${y.color} p-3 rounded-md flex items-center justify-center shadow-md hover:shadow-lg hover:scale-105 transition-all duration-300`,title:y.name,children:c.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Quick Links"}),c.jsx("ul",{className:"space-y-1 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms & Conditions",path:"/terms"},{name:"Returns & Exchanges",path:"/returns"},{name:"Shipping Policy",path:"/shipping"}].map((y,x)=>c.jsx("li",{children:c.jsx(tt,{to:y.path,className:"hover:text-pink-400 transition-colors duration-200 block py-1.5",children:y.name})},x))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Contact Us"}),c.jsxs("div",{className:"space-y-4 text-sm",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(AE,{size:18,className:"mt-0.5 flex-shrink-0 text-pink-400"}),c.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(CE,{size:18,className:"text-pink-400"}),c.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-pink-400 transition-colors duration-200",children:"info@mahira.com"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Pf,{size:18,className:"text-pink-400"}),c.jsx("a",{href:"tel:+8801736600480",className:"hover:text-pink-400 transition-colors duration-200",children:"+880 01783694568"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Pf,{size:18,className:"text-pink-400"}),c.jsx("a",{href:"tel:+8801736600480",className:"hover:text-pink-400 transition-colors duration-200",children:"+880 01783694568"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Opening Hours"}),c.jsxs("div",{className:"space-y-3 text-sm mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Saturday: 10am - 6pm"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zl,{size:18,className:"text-pink-400"}),c.jsx("span",{children:"Sunday: Closed"})]})]}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Newsletter"}),c.jsxs("form",{className:"space-y-4",children:[c.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-3 border border-gray-600 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent text-white placeholder-gray-400",required:!0}),c.jsx("button",{type:"submit",className:"w-full px-4 py-3 bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-md hover:from-pink-600 hover:to-pink-700 transition-all duration-300 font-medium shadow-lg hover:shadow-xl",children:"Subscribe"})]})]})]}),c.jsx("div",{className:"mt-10 pt-6 border-t border-gray-700 md:hidden",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mt-1 mb-6",children:"Subscribe to Our Newsletter"}),c.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-3 border border-gray-600 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-white placeholder-gray-400",required:!0}),c.jsx("button",{type:"submit",className:"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-md hover:from-pink-600 hover:to-pink-700 transition-all duration-300 font-medium shadow-lg hover:shadow-xl",children:"Subscribe"})]})]})}),c.jsxs("div",{className:"mt-4 md:mt-12 pt-4 border-t border-gray-700 text-center text-sm",children:[c.jsxs("p",{className:"text-gray-400",children:["© ",n," Mahira Collection. All rights reserved."]}),c.jsxs("p",{className:"mt-2 text-gray-500",children:["Developed with ",c.jsx("span",{className:"text-pink-400",children:"❤️"})," by RAKIB"]})]})]})]})})},sP=()=>{const{pathname:n}=Tr();return V.useEffect(()=>{window.scrollTo(0,0)},[n]),null},DN=V.createContext();function kN(){return V.useContext(DN)}function iP({children:n}){const[e,t]=V.useState(null),[r,a]=V.useState(null),[o,u]=V.useState(!0),h=async x=>{if(!x){a(null);return}try{const b=await Ga(Hn(St,"users",x.uid));b.exists()?a(b.data().role||"user"):(await Ac(Hn(St,"users",x.uid),{email:x.email,role:"user",createdAt:new Date().toISOString()}),a("user"))}catch(b){console.error("Error syncing user role:",b),a(null)}},f=async()=>{try{const x=await kD(ec,jk);return await h(x.user),x.user}catch(x){throw console.error("Google login error:",x),x}},m=async()=>{try{await iN(ec),a(null)}catch(x){throw console.error("Logout error:",x),x}};V.useEffect(()=>ec.onAuthStateChanged(async b=>{t(b),await h(b),u(!1)}),[]);const y={currentUser:e,userRole:r,loginWithGoogle:f,logout:m,isAdmin:r==="admin"};return c.jsx(DN.Provider,{value:y,children:!o&&n})}const aP=new P6;function oP(){return c.jsxs(B6,{client:aP,children:[c.jsx(sP,{}),c.jsx(iP,{children:c.jsx("div",{className:"for_bg",children:c.jsxs("div",{className:"w-[100%] xl:w-[89%] mx-auto bg-pink-100 shadow-xl mb-16 md:mb-0",children:[c.jsx(Ik,{}),c.jsx(y6,{}),c.jsx(L2,{}),c.jsx(ON,{})]})})})]})}function PN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=PN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zo(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=PN(n))&&(r&&(r+=" "),r+=e);return r}function lP(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}lP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fd=n=>typeof n=="number"&&!isNaN(n),Go=n=>typeof n=="string",zi=n=>typeof n=="function",cP=n=>Go(n)||Fd(n),Ey=n=>Go(n)||zi(n)?n:null,uP=(n,e)=>n===!1||Fd(n)&&n>0?n:e,Ty=n=>V.isValidElement(n)||Go(n)||zi(n)||Fd(n);function dP(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function hP({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:y,playToast:x}){let b=t?`${n}--${u}`:n,E=t?`${e}--${u}`:e,N=V.useRef(0);return V.useLayoutEffect(()=>{let P=m.current,D=b.split(" "),T=S=>{S.target===m.current&&(x(),P.removeEventListener("animationend",T),P.removeEventListener("animationcancel",T),N.current===0&&S.type!=="animationcancel"&&P.classList.remove(...D))};P.classList.add(...D),P.addEventListener("animationend",T),P.addEventListener("animationcancel",T)},[]),V.useEffect(()=>{let P=m.current,D=()=>{P.removeEventListener("animationend",D),r?dP(P,f,a):f()};y||(h?D():(N.current=1,P.className+=` ${E}`,P.addEventListener("animationend",D)))},[y]),Ve.createElement(Ve.Fragment,null,o)}}function zE(n,e){return{content:LN(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function LN(n,e,t=!1){return V.isValidElement(n)&&!Go(n.type)?V.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):zi(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function fP({closeToast:n,theme:e,ariaLabel:t="close"}){return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mP({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:o,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:y}){let x=a||u&&h===0,b={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(b.transform=`scaleX(${h})`);let E=zo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),N=zi(o)?o({rtl:f,type:r,defaultClassName:E}):zo(E,o),P={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:N,style:b,...P}))}var pP=1,VN=()=>`${pP++}`;function gP(n,e,t){let r=1,a=0,o=[],u=[],h=e,f=new Map,m=new Set,y=S=>(m.add(S),()=>m.delete(S)),x=()=>{u=Array.from(f.values()),m.forEach(S=>S())},b=({containerId:S,toastId:w,updateId:j})=>{let U=S?S!==n:n!==1,B=f.has(w)&&j==null;return U||B},E=(S,w)=>{f.forEach(j=>{var U;(w==null||w===j.props.toastId)&&((U=j.toggle)==null||U.call(j,S))})},N=S=>{var w,j;(j=(w=S.props)==null?void 0:w.onClose)==null||j.call(w,S.removalReason),S.isActive=!1},P=S=>{if(S==null)f.forEach(N);else{let w=f.get(S);w&&N(w)}x()},D=()=>{a-=o.length,o=[]},T=S=>{var w,j;let{toastId:U,updateId:B}=S.props,z=B==null;S.staleId&&f.delete(S.staleId),S.isActive=!0,f.set(U,S),x(),t(zE(S,z?"added":"updated")),z&&((j=(w=S.props).onOpen)==null||j.call(w))};return{id:n,props:h,observe:y,toggle:E,removeToast:P,toasts:f,clearQueue:D,buildToast:(S,w)=>{if(b(w))return;let{toastId:j,updateId:U,data:B,staleId:z,delay:R}=w,M=U==null;M&&a++;let C={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(w).filter(([L,O])=>O!=null)),toastId:j,updateId:U,data:B,isIn:!1,className:Ey(w.className||h.toastClassName),progressClassName:Ey(w.progressClassName||h.progressClassName),autoClose:w.isLoading?!1:uP(w.autoClose,h.autoClose),closeToast(L){f.get(j).removalReason=L,P(j)},deleteToast(){let L=f.get(j);if(L!=null){if(t(zE(L,"removed")),f.delete(j),a--,a<0&&(a=0),o.length>0){T(o.shift());return}x()}}};C.closeButton=h.closeButton,w.closeButton===!1||Ty(w.closeButton)?C.closeButton=w.closeButton:w.closeButton===!0&&(C.closeButton=Ty(h.closeButton)?h.closeButton:!0);let k={content:S,props:C,staleId:z};h.limit&&h.limit>0&&a>h.limit&&M?o.push(k):Fd(R)?setTimeout(()=>{T(k)},R):T(k)},setProps(S){h=S},setToggle:(S,w)=>{let j=f.get(S);j&&(j.toggle=w)},isToastActive:S=>{var w;return(w=f.get(S))==null?void 0:w.isActive},getSnapshot:()=>u}}var dr=new Map,bd=[],Sy=new Set,yP=n=>Sy.forEach(e=>e(n)),zN=()=>dr.size>0;function vP(){bd.forEach(n=>BN(n.content,n.options)),bd=[]}var xP=(n,{containerId:e})=>{var t;return(t=dr.get(e||1))==null?void 0:t.toasts.get(n)};function UN(n,e){var t;if(e)return!!((t=dr.get(e))!=null&&t.isToastActive(n));let r=!1;return dr.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function bP(n){if(!zN()){bd=bd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||cP(n))dr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=dr.get(n.containerId);e?e.removeToast(n.id):dr.forEach(t=>{t.removeToast(n.id)})}}var wP=(n={})=>{dr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function BN(n,e){Ty(n)&&(zN()||bd.push({content:n,options:e}),dr.forEach(t=>{t.buildToast(n,e)}))}function _P(n){var e;(e=dr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function FN(n,e){dr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function EP(n){let e=n.containerId||1;return{subscribe(t){let r=gP(e,n,yP);dr.set(e,r);let a=r.observe(t);return vP(),()=>{a(),dr.delete(e)}},setProps(t){var r;(r=dr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=dr.get(e))==null?void 0:t.getSnapshot()}}}function TP(n){return Sy.add(n),()=>{Sy.delete(n)}}function SP(n){return n&&(Go(n.toastId)||Fd(n.toastId))?n.toastId:VN()}function qd(n,e){return BN(n,e),e.toastId}function Xm(n,e){return{...e,type:e&&e.type||n,toastId:SP(e)}}function Wm(n){return(e,t)=>qd(e,Xm(n,t))}function nt(n,e){return qd(n,Xm("default",e))}nt.loading=(n,e)=>qd(n,Xm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function NP(n,{pending:e,error:t,success:r},a){let o;e&&(o=Go(e)?nt.loading(e,a):nt.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,y,x)=>{if(y==null){nt.dismiss(o);return}let b={type:m,...u,...a,data:x},E=Go(y)?{render:y}:y;return o?nt.update(o,{...b,...E}):nt(E.render,{...b,...E}),x},f=zi(n)?n():n;return f.then(m=>h("success",r,m)).catch(m=>h("error",t,m)),f}nt.promise=NP;nt.success=Wm("success");nt.info=Wm("info");nt.error=Wm("error");nt.warning=Wm("warning");nt.warn=nt.warning;nt.dark=(n,e)=>qd(n,Xm("default",{theme:"dark",...e}));function CP(n){bP(n)}nt.dismiss=CP;nt.clearWaitingQueue=wP;nt.isActive=UN;nt.update=(n,e={})=>{let t=xP(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:VN()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,qd(u,o)}};nt.done=n=>{nt.update(n,{progress:1})};nt.onChange=TP;nt.play=n=>FN(!0,n);nt.pause=n=>FN(!1,n);function AP(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=V.useRef(EP(n)).current;a(n);let o=(e=V.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(m=>{let{position:y}=m.props;f.has(y)||f.set(y,[]),f.get(y).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:UN,count:o==null?void 0:o.length}}function RP(n){let[e,t]=V.useState(!1),[r,a]=V.useState(!1),o=V.useRef(null),u=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:y,closeOnClick:x}=n;_P({id:n.toastId,containerId:n.containerId,fn:t}),V.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{E()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||T(),window.addEventListener("focus",D),window.addEventListener("blur",T)}function E(){window.removeEventListener("focus",D),window.removeEventListener("blur",T)}function N(z){if(n.draggable===!0||n.draggable===z.pointerType){S();let R=o.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=z.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=z.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function P(z){let{top:R,bottom:M,left:C,right:k}=o.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&n.pauseOnHover&&z.clientX>=C&&z.clientX<=k&&z.clientY>=R&&z.clientY<=M?T():D()}function D(){t(!0)}function T(){t(!1)}function S(){u.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",U)}function w(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",U)}function j(z){let R=o.current;if(u.canDrag&&R){u.didMove=!0,e&&T(),n.draggableDirection==="x"?u.delta=z.clientX-u.start:u.delta=z.clientY-u.start,u.start!==z.clientX&&(u.canCloseOnClick=!1);let M=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${M},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function U(){w();let z=o.current;if(u.canDrag&&u.didMove&&z){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let B={onPointerDown:N,onPointerUp:P};return h&&f&&(B.onMouseEnter=T,n.stacked||(B.onMouseLeave=D)),x&&(B.onClick=z=>{y&&y(z),u.canCloseOnClick&&m(!0)}),{playToast:D,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:B}}var jP=typeof window<"u"?V.useLayoutEffect:V.useEffect,Zm=({theme:n,type:e,isLoading:t,...r})=>Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function IP(n){return Ve.createElement(Zm,{...n},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MP(n){return Ve.createElement(Zm,{...n},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function OP(n){return Ve.createElement(Zm,{...n},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function DP(n){return Ve.createElement(Zm,{...n},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kP(){return Ve.createElement("div",{className:"Toastify__spinner"})}var Ny={info:MP,warning:IP,success:OP,error:DP,spinner:kP},PP=n=>n in Ny;function LP({theme:n,type:e,isLoading:t,icon:r}){let a=null,o={theme:n,type:e};return r===!1||(zi(r)?a=r({...o,isLoading:t}):V.isValidElement(r)?a=V.cloneElement(r,o):t?a=Ny.spinner():PP(e)&&(a=Ny[e](o))),a}var VP=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:o}=RP(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:y,hideProgressBar:x,closeToast:b,transition:E,position:N,className:P,style:D,progressClassName:T,updateId:S,role:w,progress:j,rtl:U,toastId:B,deleteToast:z,isIn:R,isLoading:M,closeOnClick:C,theme:k,ariaLabel:L}=n,O=zo("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":C}),se=zi(P)?P({rtl:U,position:N,type:y,defaultClassName:O}):zo(O,P),ae=LP(n),G=!!j||!f,$={closeToast:b,type:y,theme:k},K=null;return u===!1||(zi(u)?K=u($):V.isValidElement(u)?K=V.cloneElement(u,$):K=fP($)),Ve.createElement(E,{isIn:R,done:z,position:N,preventExitTransition:t,nodeRef:r,playToast:o},Ve.createElement("div",{id:B,tabIndex:0,onClick:m,"data-in":R,className:se,...a,style:D,ref:r,...R&&{role:w,"aria-label":L}},ae!=null&&Ve.createElement("div",{className:zo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},ae),LN(h,n,!e),K,!n.customProgressBar&&Ve.createElement(mP,{...S&&!G?{key:`p-${S}`}:{},rtl:U,theme:k,delay:f,isRunning:e,isIn:R,closeToast:b,hide:x,type:y,className:T,controlledProgress:G,progress:j||0})))},zP=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),UP=hP(zP("bounce",!0)),BP={position:"top-right",transition:UP,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Yv(n){let e={...BP,...n},t=n.stacked,[r,a]=V.useState(!0),o=V.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=AP(e),{className:m,style:y,rtl:x,containerId:b,hotKeys:E}=e;function N(D){let T=zo("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":x});return zi(m)?m({position:D,rtl:x,defaultClassName:T}):zo(T,Ey(m))}function P(){t&&(a(!0),nt.play())}return jP(()=>{var D;if(t){let T=o.current.querySelectorAll('[data-in="true"]'),S=12,w=(D=e.position)==null?void 0:D.includes("top"),j=0,U=0;Array.from(T).reverse().forEach((B,z)=>{let R=B;R.classList.add("Toastify__toast--stacked"),z>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=w?"top":"bot");let M=j*(r?.2:1)+(r?0:S*z);R.style.setProperty("--y",`${w?M:M*-1}px`),R.style.setProperty("--g",`${S}`),R.style.setProperty("--s",`${1-(r?U:0)}`),j+=R.offsetHeight,U+=.025})}},[r,f,t]),V.useEffect(()=>{function D(T){var S;let w=o.current;E(T)&&((S=w.querySelector('[tabIndex="0"]'))==null||S.focus(),a(!1),nt.pause()),T.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(a(!0),nt.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[E]),Ve.createElement("section",{ref:o,className:"Toastify",id:b,onMouseEnter:()=>{t&&(a(!1),nt.pause())},onMouseLeave:P,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((D,T)=>{let S=T.length?{...y}:{...y,pointerEvents:"none"};return Ve.createElement("div",{tabIndex:-1,className:N(D),"data-stacked":t,style:S,key:`c-${D}`},T.map(({content:w,props:j})=>Ve.createElement(VP,{...j,stacked:t,collapseAll:P,isIn:h(j.toastId,j.containerId),key:`t-${j.key}`},w)))}))}const qN=()=>{const[t,r]=W4(),a=Number(t.get("page"))||1,[o,u]=V.useState(!1),h=V.useRef(null),f=V.useRef(0),m=T=>(typeof T!="number"&&(T=parseFloat(T)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(T)),{data:y=[],isLoading:x}=Z6({queryKey:["allProducts"],queryFn:async()=>{const T=await Fr(In(St,"products")),S=[];T.forEach(j=>{const U=j.data();U.available&&U.stock>0&&S.push({id:j.id,...U})});const w=[...S];for(let j=w.length-1;j>0;j--){const U=Math.floor(Math.random()*(j+1));[w[j],w[U]]=[w[U],w[j]]}return w},staleTime:1/0,cacheTime:24*60*60*1e3}),b=y.slice(0,10+(a-1)*6),E=T=>{var j;const S=JSON.parse(localStorage.getItem("cart"))||[],w=S.find(U=>U.id===T.id);w?w.quantity+=1:S.push({id:T.id,name:T.name,price:T.discount?Math.round(T.price-T.price*(T.discount/100)):Math.round(T.price),image:T.mainImage||((j=T.images)==null?void 0:j[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(S)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),nt.success(`${T.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},N=T=>{T.colorVariants&&T.colorVariants.length>0?window.location.href=`/product/${T.id}`:E(T)},P=T=>{T.colorVariants&&T.colorVariants.length>0?window.location.href=`/product/${T.id}`:(E(T),window.location.href="/cart")},D=async()=>{f.current=window.scrollY||document.documentElement.scrollTop,u(!0),r({page:a+1})};return V.useEffect(()=>{f.current>0&&(window.scrollTo(0,f.current),f.current=0,u(!1))},[b]),x?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):c.jsxs("div",{className:"md:px-4 min-h-screen w-[100%]",ref:h,children:[c.jsx(Yv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:"All Products /"}),b.length===0?c.jsx("p",{className:"text-center py-8",children:"No products found."}):c.jsxs(c.Fragment,{children:[c.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:b.map(T=>{var C;const S=T.discount&&T.discount>0,w=T.colorVariants&&T.colorVariants.length>0,U=window.innerWidth<768?17:25,B=T.name.length>U,z=B?`${T.name.substring(0,U)}...`:T.name,R=S?Math.round(T.price-T.price*(T.discount/100)):null,M=S?R:Math.round(T.price);return c.jsxs("li",{className:"border bg-[#ffc1da] rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[c.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[c.jsxs(tt,{to:`/product/${T.id}`,className:"relative block",children:[c.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:c.jsx("img",{src:T.mainImage||((C=T.images)==null?void 0:C[0])||"/placeholder-product.jpg",alt:T.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),T.discount!==0&&S&&c.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[T.discount,"%"]})]}),c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[z,B&&c.jsx(tt,{to:`/product/${T.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),c.jsx("div",{className:"md:mt-auto",children:c.jsxs("div",{className:"flex flex-col md:space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",m(M)]}),c.jsx("div",{className:"text-xs text-gray-500",children:c.jsxs("del",{children:["৳",T.regularPrice]})})]}),T.productType&&c.jsxs("div",{className:"text-xs text-red-400",children:["(",T.productType,")"]})]})})]}),c.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100  space-y-2",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[c.jsx("button",{onClick:()=>N(T),className:"w-full border border-blue-600 bg-blue-600 text-white hover:bg-red-700 hover:border-blue-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:w?"Options":"Add to Cart"}),c.jsx("button",{onClick:()=>P(T),className:"w-full border border-green-600 bg-green-600 text-white hover:bg-red-700 hover:border-green-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsx("span",{className:`font-medium ${T.stock>0?"text-green-600":"text-red-500"}`,children:T.stock>0?"In Stock":"Out of Stock"}),T.stock>0&&c.jsxs("span",{className:"text-gray-500 text-[11px]",children:[T.stock," units"]})]})]})]},T.id)})}),y.length>b.length&&c.jsx("div",{className:"flex justify-center mt-6 mb-10",children:c.jsx("button",{onClick:D,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function UE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Xv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:UE(e[r])&&UE(n[r])&&Object.keys(e[r]).length>0&&Xv(n[r],e[r])})}const HN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Br(){const n=typeof document<"u"?document:{};return Xv(n,HN),n}const FP={document:HN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function hr(){const n=typeof window<"u"?window:{};return Xv(n,FP),n}function qP(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function HP(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Cy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Uo(){return Date.now()}function $P(n){const e=hr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function GP(n,e){e===void 0&&(e="x");const t=hr();let r,a,o;const u=$P(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Wu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function QP(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function zr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!QP(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const h=a[o],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(Wu(n[h])&&Wu(r[h])?r[h].__swiper__?n[h]=r[h]:zr(n[h],r[h]):!Wu(n[h])&&Wu(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:zr(n[h],r[h])):n[h]=r[h])}}}return n}function yf(n,e,t){n.style.setProperty(e,t)}function $N(n){let{swiper:e,targetPosition:t,side:r}=n;const a=hr(),o=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const m=t>o?"next":"prev",y=(b,E)=>m==="next"&&b>=E||m==="prev"&&b<=E,x=()=>{h=new Date().getTime(),u===null&&(u=h);const b=Math.max(Math.min((h-u)/f,1),0),E=.5-Math.cos(b*Math.PI)/2;let N=o+E*(t-o);if(y(N,t)&&(N=t),e.wrapperEl.scrollTo({[r]:N}),y(N,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:N})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(x)};x()}function Ss(n,e){e===void 0&&(e="");const t=hr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function KP(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function YP(n,e){const t=hr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=KP(n,e))),r}function mm(n){try{console.warn(n);return}catch{}}function wd(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:qP(e)),t}function XP(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function WP(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Aa(n,e){return hr().getComputedStyle(n,null).getPropertyValue(e)}function _d(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function GN(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function x0(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Ay(n,e,t){const r=hr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ft(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let b0;function ZP(){const n=hr(),e=Br();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function QN(){return b0||(b0=ZP()),b0}let w0;function JP(n){let{userAgent:e}=n===void 0?{}:n;const t=QN(),r=hr(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const x=o.match(/(iPod)(.*OS\s([\d_]+))?/),b=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=a==="Win32";let N=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&N&&t.touch&&P.indexOf(`${h}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),N=!1),m&&!E&&(u.os="android",u.android=!0),(y||b||x)&&(u.os="ios",u.ios=!0),u}function KN(n){return n===void 0&&(n={}),w0||(w0=JP(n)),w0}let _0;function eL(){const n=hr(),e=KN();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,m]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&m<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function YN(){return _0||(_0=eL()),_0}function tL(n){let{swiper:e,on:t,emit:r}=n;const a=hr();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(x=>{u=a.requestAnimationFrame(()=>{const{width:b,height:E}=e;let N=b,P=E;x.forEach(D=>{let{contentBoxSize:T,contentRect:S,target:w}=D;w&&w!==e.el||(N=S?S.width:(T[0]||T).inlineSize,P=S?S.height:(T[0]||T).blockSize)}),(N!==b||P!==E)&&h()})}),o.observe(e.el))},m=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",h),a.addEventListener("orientationchange",y)}),t("destroy",()=>{m(),a.removeEventListener("resize",h),a.removeEventListener("orientationchange",y)})}function nL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=hr(),h=function(y,x){x===void 0&&(x={});const b=u.MutationObserver||u.WebkitMutationObserver,E=new b(N=>{if(e.__preventObserver__)return;if(N.length===1){a("observerUpdate",N[0]);return}const P=function(){a("observerUpdate",N[0])};u.requestAnimationFrame?u.requestAnimationFrame(P):u.setTimeout(P,0)});E.observe(y,{attributes:typeof x.attributes>"u"?!0:x.attributes,childList:e.isElement||(typeof x.childList>"u"?!0:x).childList,characterData:typeof x.characterData>"u"?!0:x.characterData}),o.push(E)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=GN(e.hostEl);for(let x=0;x<y.length;x+=1)h(y[x])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",m)}var rL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(m=>{m.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(m=>{m.apply(r,t)})}),n}};function sL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Aa(r,"padding-left")||0,10)-parseInt(Aa(r,"padding-right")||0,10),t=t-parseInt(Aa(r,"padding-top")||0,10)-parseInt(Aa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function iL(){const n=this;function e(C,k){return parseFloat(C.getPropertyValue(n.getDirectionLabel(k))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,m=f?n.virtual.slides.length:n.slides.length,y=Ss(a,`.${n.params.slideClass}, swiper-slide`),x=f?n.virtual.slides.length:y.length;let b=[];const E=[],N=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let D=t.slidesOffsetAfter;typeof D=="function"&&(D=t.slidesOffsetAfter.call(n));const T=n.snapGrid.length,S=n.slidesGrid.length;let w=t.spaceBetween,j=-P,U=0,B=0;if(typeof o>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*o:typeof w=="string"&&(w=parseFloat(w)),n.virtualSize=-w,y.forEach(C=>{u?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(yf(r,"--swiper-centered-offset-before",""),yf(r,"--swiper-centered-offset-after",""));const z=t.grid&&t.grid.rows>1&&n.grid;z?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let R;const M=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(C=>typeof t.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<x;C+=1){R=0;let k;if(y[C]&&(k=y[C]),z&&n.grid.updateSlide(C,k,y),!(y[C]&&Aa(k,"display")==="none")){if(t.slidesPerView==="auto"){M&&(y[C].style[n.getDirectionLabel("width")]="");const L=getComputedStyle(k),O=k.style.transform,se=k.style.webkitTransform;if(O&&(k.style.transform="none"),se&&(k.style.webkitTransform="none"),t.roundLengths)R=n.isHorizontal()?Ay(k,"width"):Ay(k,"height");else{const ae=e(L,"width"),G=e(L,"padding-left"),$=e(L,"padding-right"),K=e(L,"margin-left"),te=e(L,"margin-right"),H=L.getPropertyValue("box-sizing");if(H&&H==="border-box")R=ae+K+te;else{const{clientWidth:le,offsetWidth:ge}=k;R=ae+G+$+K+te+(ge-le)}}O&&(k.style.transform=O),se&&(k.style.webkitTransform=se),t.roundLengths&&(R=Math.floor(R))}else R=(o-(t.slidesPerView-1)*w)/t.slidesPerView,t.roundLengths&&(R=Math.floor(R)),y[C]&&(y[C].style[n.getDirectionLabel("width")]=`${R}px`);y[C]&&(y[C].swiperSlideSize=R),N.push(R),t.centeredSlides?(j=j+R/2+U/2+w,U===0&&C!==0&&(j=j-o/2-w),C===0&&(j=j-o/2-w),Math.abs(j)<1/1e3&&(j=0),t.roundLengths&&(j=Math.floor(j)),B%t.slidesPerGroup===0&&b.push(j),E.push(j)):(t.roundLengths&&(j=Math.floor(j)),(B-Math.min(n.params.slidesPerGroupSkip,B))%n.params.slidesPerGroup===0&&b.push(j),E.push(j),j=j+R+w),n.virtualSize+=R+w,U=R,B+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+D,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+w}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+w}px`),z&&n.grid.updateWrapperSize(R,b),!t.centeredSlides){const C=[];for(let k=0;k<b.length;k+=1){let L=b[k];t.roundLengths&&(L=Math.floor(L)),b[k]<=n.virtualSize-o&&C.push(L)}b=C,Math.floor(n.virtualSize-o)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-o)}if(f&&t.loop){const C=N[0]+w;if(t.slidesPerGroup>1){const k=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),L=C*t.slidesPerGroup;for(let O=0;O<k;O+=1)b.push(b[b.length-1]+L)}for(let k=0;k<n.virtual.slidesBefore+n.virtual.slidesAfter;k+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+C),E.push(E[E.length-1]+C),n.virtualSize+=C}if(b.length===0&&(b=[0]),w!==0){const C=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((k,L)=>!t.cssMode||t.loop?!0:L!==y.length-1).forEach(k=>{k.style[C]=`${w}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let C=0;N.forEach(L=>{C+=L+(w||0)}),C-=w;const k=C>o?C-o:0;b=b.map(L=>L<=0?-P:L>k?k+D:L)}if(t.centerInsufficientSlides){let C=0;N.forEach(L=>{C+=L+(w||0)}),C-=w;const k=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(C+k<o){const L=(o-C-k)/2;b.forEach((O,se)=>{b[se]=O-L}),E.forEach((O,se)=>{E[se]=O+L})}}if(Object.assign(n,{slides:y,snapGrid:b,slidesGrid:E,slidesSizesGrid:N}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){yf(r,"--swiper-centered-offset-before",`${-b[0]}px`),yf(r,"--swiper-centered-offset-after",`${n.size/2-N[N.length-1]/2}px`);const C=-n.snapGrid[0],k=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(L=>L+C),n.slidesGrid=n.slidesGrid.map(L=>L+k)}if(x!==m&&n.emit("slidesLengthChange"),b.length!==T&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==S&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const C=`${t.containerModifierClass}backface-hidden`,k=n.el.classList.contains(C);x<=t.maxBackfaceHiddenSlides?k||n.el.classList.add(C):k&&n.el.classList.remove(C)}}function aL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const h=t[o].offsetHeight;a=h>a?h:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function oL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const BE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lL(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const m=r[f];let y=m.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const x=(u+(t.centeredSlides?e.minTranslate():0)-y)/(m.swiperSlideSize+h),b=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(m.swiperSlideSize+h),E=-(u-y),N=E+e.slidesSizesGrid[f],P=E>=0&&E<=e.size-e.slidesSizesGrid[f],D=E>=0&&E<e.size-1||N>1&&N<=e.size||E<=0&&N>=e.size;D&&(e.visibleSlides.push(m),e.visibleSlidesIndexes.push(f)),BE(m,D,t.slideVisibleClass),BE(m,P,t.slideFullyVisibleClass),m.progress=a?-x:x,m.originalProgress=a?-b:b}}function cL(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:h}=e;const f=o,m=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,x=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=x||a>=1,y&&(a=0),x&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),x=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[y],E=e.slidesGrid[x],N=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=b?h=(P-b)/N:h=(P+N-E)/N,h>1&&(h-=1)}Object.assign(e,{progress:a,progressLoop:h,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!m&&e.emit("reachEnd toEdge"),(f&&!o||m&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const E0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function uL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=x=>Ss(r,`.${t.slideClass}${x}, swiper-slide${x}`)[0];let f,m,y;if(o)if(t.loop){let x=a-n.virtual.slidesBefore;x<0&&(x=n.virtual.slides.length+x),x>=n.virtual.slides.length&&(x-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${x}"]`)}else f=h(`[data-swiper-slide-index="${a}"]`);else u?(f=e.find(x=>x.column===a),y=e.find(x=>x.column===a+1),m=e.find(x=>x.column===a-1)):f=e[a];f&&(u||(y=WP(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),m=XP(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m===0&&(m=e[e.length-1]))),e.forEach(x=>{E0(x,x===f,t.slideActiveClass),E0(x,x===y,t.slideNextClass),E0(x,x===m,t.slidePrevClass)}),n.emitSlidesClasses()}const Vf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},T0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ry=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,h=[u-e];h.push(...Array.from({length:e}).map((f,m)=>u+r+m)),n.slides.forEach((f,m)=>{h.includes(f.column)&&T0(n,m)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const h=(u%t+t)%t;(h<a||h>o)&&T0(n,h)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&T0(n,u)};function dL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function hL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:h}=e;let f=n,m;const y=E=>{let N=E-e.virtual.slidesBefore;return N<0&&(N=e.virtual.slides.length+N),N>=e.virtual.slides.length&&(N-=e.virtual.slides.length),N};if(typeof f>"u"&&(f=dL(e)),r.indexOf(t)>=0)m=r.indexOf(t);else{const E=Math.min(a.slidesPerGroupSkip,f);m=E+Math.floor((f-E)/a.slidesPerGroup)}if(m>=r.length&&(m=r.length-1),f===o&&!e.params.loop){m!==h&&(e.snapIndex=m,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const x=e.grid&&a.grid&&a.grid.rows>1;let b;if(e.virtual&&a.virtual.enabled&&a.loop)b=y(f);else if(x){const E=e.slides.find(P=>P.column===f);let N=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(N)&&(N=Math.max(e.slides.indexOf(E),0)),b=Math.floor(N/a.grid.rows)}else if(e.slides[f]){const E=e.slides[f].getAttribute("data-swiper-slide-index");E?b=parseInt(E,10):b=f}else b=f;Object.assign(e,{previousSnapIndex:h,snapIndex:m,previousRealIndex:u,realIndex:b,previousIndex:o,activeIndex:f}),e.initialized&&Ry(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==b&&e.emit("realIndexChange"),e.emit("slideChange"))}function fL(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!a&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(a=h)});let o=!1,u;if(a){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===a){o=!0,u=h;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var mL={updateSize:sL,updateSlides:iL,updateAutoHeight:aL,updateSlidesOffset:oL,updateSlidesProgress:lL,updateProgress:cL,updateSlidesClasses:uL,updateActiveIndex:hL,updateClickedSlide:fL};function pL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=GP(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function gL(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let h=0,f=0;const m=0;t.isHorizontal()?h=r?-n:n:f=n,a.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:a.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${f}px, ${m}px)`);let y;const x=t.maxTranslate()-t.minTranslate();x===0?y=0:y=(n-t.minTranslate())/x,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function yL(){return-this.snapGrid[0]}function vL(){return-this.snapGrid[this.snapGrid.length-1]}function xL(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:h}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),m=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<m?y=m:y=n,o.updateProgress(y),u.cssMode){const x=o.isHorizontal();if(e===0)h[x?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return $N({swiper:o,targetPosition:-y,side:x?"left":"top"}),!0;h.scrollTo({[x?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var bL={getTranslate:pL,setTranslate:gL,minTranslate:yL,maxTranslate:vL,translateTo:xL};function wL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function XN(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let h=r;if(h||(o>u?h="next":o<u?h="prev":h="reset"),e.emit(`transition${a}`),t&&o!==u){if(h==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),h==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function _L(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),XN({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function EL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),XN({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var TL={setTransition:wL,transitionStart:_L,transitionEnd:EL};function SL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:m,previousIndex:y,activeIndex:x,rtlTranslate:b,wrapperEl:E,enabled:N}=o;if(!N&&!r&&!a||o.destroyed||o.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,u);let D=P+Math.floor((u-P)/o.params.slidesPerGroup);D>=f.length&&(D=f.length-1);const T=-f[D];if(h.normalizeSlideIndex)for(let z=0;z<m.length;z+=1){const R=-Math.floor(T*100),M=Math.floor(m[z]*100),C=Math.floor(m[z+1]*100);typeof m[z+1]<"u"?R>=M&&R<C-(C-M)/2?u=z:R>=M&&R<C&&(u=z+1):R>=M&&(u=z)}if(o.initialized&&u!==x&&(!o.allowSlideNext&&(b?T>o.translate&&T>o.minTranslate():T<o.translate&&T<o.minTranslate())||!o.allowSlidePrev&&T>o.translate&&T>o.maxTranslate()&&(x||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(T);let S;u>x?S="next":u<x?S="prev":S="reset";const w=o.virtual&&o.params.virtual.enabled;if(!(w&&a)&&(b&&-T===o.translate||!b&&T===o.translate))return o.updateActiveIndex(u),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),h.effect!=="slide"&&o.setTranslate(T),S!=="reset"&&(o.transitionStart(t,S),o.transitionEnd(t,S)),!1;if(h.cssMode){const z=o.isHorizontal(),R=b?T:-T;if(e===0)w&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),w&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[z?"scrollLeft":"scrollTop"]=R})):E[z?"scrollLeft":"scrollTop"]=R,w&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return $N({swiper:o,targetPosition:R,side:z?"left":"top"}),!0;E.scrollTo({[z?"left":"top"]:R,behavior:"smooth"})}return!0}const B=YN().isSafari;return w&&!a&&B&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(T),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,S),e===0?o.transitionEnd(t,S):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(R){!o||o.destroyed||R.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,S))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function NL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let h;if(o){const b=u*a.params.grid.rows;h=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===b).column}else h=a.getSlideIndexByData(u);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:m}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),m&&y%2===0&&(y=y+1));let x=f-h<y;if(m&&(x=x||h<Math.ceil(y/2)),r&&m&&a.params.slidesPerView!=="auto"&&!o&&(x=!1),x){const b=m?h<a.activeIndex?"prev":"next":h-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:b,slideTo:!0,activeSlideIndex:b==="next"?h+1:h-f+1,slideRealIndex:b==="next"?a.realIndex:void 0})}if(o){const b=u*a.params.grid.rows;u=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===b).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function CL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:h,m=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!m&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function AL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:h,enabled:f,animating:m}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(m&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const x=h?r.translate:-r.translate;function b(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const E=b(x),N=o.map(S=>b(S)),P=a.freeMode&&a.freeMode.enabled;let D=o[N.indexOf(E)-1];if(typeof D>"u"&&(a.cssMode||P)){let S;o.forEach((w,j)=>{E>=w&&(S=j)}),typeof S<"u"&&(D=P?o[S]:o[S>0?S-1:S])}let T=0;if(typeof D<"u"&&(T=u.indexOf(D),T<0&&(T=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(T=T-r.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),a.rewind&&r.isBeginning){const S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(T,n,e,t)}),!0;return r.slideTo(T,n,e,t)}function RL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function jL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),h=u+Math.floor((o-u)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[h]){const m=a.snapGrid[h],y=a.snapGrid[h+1];f-m>(y-m)*r&&(o+=a.params.slidesPerGroup)}else{const m=a.snapGrid[h-1],y=a.snapGrid[h];f-m<=(y-m)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function IL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(Ss(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Cy(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(Ss(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Cy(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var ML={slideTo:SL,slideToLoop:NL,slideNext:CL,slidePrev:AL,slideReset:RL,slideToClosest:jL,slideToClickedSlide:IL};function OL(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Ss(a,`.${r.slideClass}, swiper-slide`).forEach((b,E)=>{b.setAttribute("data-swiper-slide-index",E)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,m=u&&t.slides.length%r.grid.rows!==0,y=x=>{for(let b=0;b<x;b+=1){const E=t.isElement?wd("swiper-slide",[r.slideBlankClass]):wd("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(E)}};if(f){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;y(x),t.recalcSlides(),t.updateSlides()}else mm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(m){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;y(x),t.recalcSlides(),t.updateSlides()}else mm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function DL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:y,allowSlidePrev:x,allowSlideNext:b,slidesEl:E,params:N}=m,{centeredSlides:P,initialSlide:D}=N;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&N.virtual.enabled){t&&(!N.centeredSlides&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):N.centeredSlides&&m.snapIndex<N.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=x,m.allowSlideNext=b,m.emit("loopFix");return}let T=N.slidesPerView;T==="auto"?T=m.slidesPerViewDynamic():(T=Math.ceil(parseFloat(N.slidesPerView,10)),P&&T%2===0&&(T=T+1));const S=N.slidesPerGroupAuto?T:N.slidesPerGroup;let w=S;w%S!==0&&(w+=S-w%S),w+=N.loopAdditionalSlides,m.loopedSlides=w;const j=m.grid&&N.grid&&N.grid.rows>1;y.length<T+w||m.params.effect==="cards"&&y.length<T+w*2?mm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&N.grid.fill==="row"&&mm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const U=[],B=[],z=j?Math.ceil(y.length/N.grid.rows):y.length,R=u&&z-D<T&&!P;let M=R?D:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(y.find(G=>G.classList.contains(N.slideActiveClass))):M=o;const C=r==="next"||!r,k=r==="prev"||!r;let L=0,O=0;const ae=(j?y[o].column:o)+(P&&typeof a>"u"?-T/2+.5:0);if(ae<w){L=Math.max(w-ae,S);for(let G=0;G<w-ae;G+=1){const $=G-Math.floor(G/z)*z;if(j){const K=z-$-1;for(let te=y.length-1;te>=0;te-=1)y[te].column===K&&U.push(te)}else U.push(z-$-1)}}else if(ae+T>z-w){O=Math.max(ae-(z-w*2),S),R&&(O=Math.max(O,T-z+D+1));for(let G=0;G<O;G+=1){const $=G-Math.floor(G/z)*z;j?y.forEach((K,te)=>{K.column===$&&B.push(te)}):B.push($)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&y.length<T+w*2&&(B.includes(o)&&B.splice(B.indexOf(o),1),U.includes(o)&&U.splice(U.indexOf(o),1)),k&&U.forEach(G=>{y[G].swiperLoopMoveDOM=!0,E.prepend(y[G]),y[G].swiperLoopMoveDOM=!1}),C&&B.forEach(G=>{y[G].swiperLoopMoveDOM=!0,E.append(y[G]),y[G].swiperLoopMoveDOM=!1}),m.recalcSlides(),N.slidesPerView==="auto"?m.updateSlides():j&&(U.length>0&&k||B.length>0&&C)&&m.slides.forEach((G,$)=>{m.grid.updateSlide($,G,m.slides)}),N.watchSlidesProgress&&m.updateSlidesOffset(),t){if(U.length>0&&k){if(typeof e>"u"){const G=m.slidesGrid[M],K=m.slidesGrid[M+L]-G;f?m.setTranslate(m.translate-K):(m.slideTo(M+Math.ceil(L),0,!1,!0),a&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-K,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-K))}else if(a){const G=j?U.length/N.grid.rows:U.length;m.slideTo(m.activeIndex+G,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(B.length>0&&C)if(typeof e>"u"){const G=m.slidesGrid[M],K=m.slidesGrid[M-O]-G;f?m.setTranslate(m.translate-K):(m.slideTo(M-O,0,!1,!0),a&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-K,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-K))}else{const G=j?B.length/N.grid.rows:B.length;m.slideTo(m.activeIndex-G,0,!1,!0)}}if(m.allowSlidePrev=x,m.allowSlideNext=b,m.controller&&m.controller.control&&!h){const G={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...G,slideTo:$.params.slidesPerView===N.slidesPerView?t:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...G,slideTo:m.controller.control.params.slidesPerView===N.slidesPerView?t:!1})}m.emit("loopFix")}function kL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var PL={loopCreate:OL,loopFix:DL,loopDestroy:kL};function LL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function VL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var zL={setGrabCursor:LL,unsetGrabCursor:VL};function UL(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Br()||r===hr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function FE(n,e,t){const r=hr(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function BL(n){const e=this,t=Br();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){FE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!YP(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const m=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;m&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const x=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,b=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(b?UL(x,f):f.closest(x))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const E=u.currentX,N=u.currentY;if(!FE(e,r,E))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=E,u.startY=N,a.touchStartTime=Uo(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;f.matches(a.focusableElements)&&(P=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const D=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||D)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function FL(n){const e=Br(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:h}=t;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let m;if(f.type==="touchmove"){if(m=[...f.changedTouches].find(U=>U.identifier===r.touchId),!m||m.identifier!==r.touchId)return}else m=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=m.pageX,x=m.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=x;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x}),r.touchStartTime=Uo());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(x<o.startY&&t.translate<=t.maxTranslate()||x>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=x;const b=o.currentX-o.startX,E=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(b**2+E**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let U;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:b*b+E*E>=25&&(U=Math.atan2(Math.abs(E),Math.abs(b))*180/Math.PI,r.isScrolling=t.isHorizontal()?U>a.touchAngle:90-U>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let N=t.isHorizontal()?b:E,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(N=Math.abs(N)*(u?1:-1),P=Math.abs(P)*(u?1:-1)),o.diff=N,N*=a.touchRatio,u&&(N=-N,P=-P);const D=t.touchesDirection;t.swipeDirection=N>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const T=t.params.loop&&!a.cssMode,S=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(T&&S&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const U=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(U)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&D!==t.touchesDirection&&T&&S&&Math.abs(N)>=1){Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=N+r.startTranslate;let w=!0,j=a.resistanceRatio;if(a.touchReleaseOnEdges&&(j=0),N>0?(T&&S&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+N)**j))):N<0&&(T&&S&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-N)**j))),w&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(N)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function qL(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(U=>U.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:m,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const x=Uo(),b=x-t.touchStartTime;if(e.allowClick){const U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),b<300&&x-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Uo(),Cy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let E;if(u.followFinger?E=f?e.translate:-e.translate:E=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const N=E>=-e.maxTranslate()&&!e.params.loop;let P=0,D=e.slidesSizesGrid[0];for(let U=0;U<m.length;U+=U<u.slidesPerGroupSkip?1:u.slidesPerGroup){const B=U<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof m[U+B]<"u"?(N||E>=m[U]&&E<m[U+B])&&(P=U,D=m[U+B]-m[U]):(N||E>=m[U])&&(P=U,D=m[m.length-1]-m[m.length-2])}let T=null,S=null;u.rewind&&(e.isBeginning?S=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(T=0));const w=(E-m[P])/D,j=P<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(b>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?T:P+j):e.slideTo(P)),e.swipeDirection==="prev"&&(w>1-u.longSwipesRatio?e.slideTo(P+j):S!==null&&w<0&&Math.abs(w)>u.longSwipesRatio?e.slideTo(S):e.slideTo(P))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+j):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(T!==null?T:P+j),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:P))}}function qE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function HL(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function $L(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function GL(n){const e=this;Vf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function QL(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const WN=(n,e)=>{const t=Br(),{params:r,el:a,wrapperEl:o,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",m=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[m](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",qE,!0):n[m]("observerUpdate",qE,!0),a[f]("load",n.onLoad,{capture:!0}))};function KL(){const n=this,{params:e}=n;n.onTouchStart=BL.bind(n),n.onTouchMove=FL.bind(n),n.onTouchEnd=qL.bind(n),n.onDocumentTouchStart=QL.bind(n),e.cssMode&&(n.onScroll=$L.bind(n)),n.onClick=HL.bind(n),n.onLoad=GL.bind(n),WN(n,"on")}function YL(){WN(this,"off")}var XL={attachEvents:KL,detachEvents:YL};const HE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function WL(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=Br(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),m=n.getBreakpoint(o,h,f);if(!m||n.currentBreakpoint===m)return;const x=(m in o?o[m]:void 0)||n.originalParams,b=HE(n,r),E=HE(n,x),N=n.params.grabCursor,P=x.grabCursor,D=r.enabled;b&&!E?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&E&&(a.classList.add(`${r.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),N&&!P?n.unsetGrabCursor():!N&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof x[B]>"u")return;const z=r[B]&&r[B].enabled,R=x[B]&&x[B].enabled;z&&!R&&n[B].disable(),!z&&R&&n[B].enable()});const T=x.direction&&x.direction!==r.direction,S=r.loop&&(x.slidesPerView!==r.slidesPerView||T),w=r.loop;T&&t&&n.changeDirection(),zr(n.params,x);const j=n.params.enabled,U=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),D&&!j?n.disable():!D&&j&&n.enable(),n.currentBreakpoint=m,n.emit("_beforeBreakpoint",x),t&&(S?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!w&&U?(n.loopCreate(e),n.updateSlides()):w&&!U&&n.loopDestroy()),n.emit("breakpoint",x)}function ZL(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=hr(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:o*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:m}=u[h];e==="window"?a.matchMedia(`(min-width: ${m}px)`).matches&&(r=f):m<=t.clientWidth&&(r=f)}return r||"max"}var JL={setBreakpoint:WL,getBreakpoint:ZL};function e9(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function t9(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=e9(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function n9(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var r9={addClasses:t9,removeClasses:n9};function s9(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var i9={checkOverflow:s9},jy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function a9(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){zr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){zr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),zr(e,r)}}const S0={eventsEmitter:rL,update:mL,translate:bL,transition:TL,slide:ML,loop:PL,grabCursor:zL,events:XL,breakpoints:JL,checkOverflow:i9,classes:r9},N0={};let Wv=class Ci{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=zr({},t),e&&!t.el&&(t.el=e);const u=Br();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(x=>{const b=zr({},t,{el:x});y.push(new Ci(b))}),y}const h=this;h.__swiper__=!0,h.support=QN(),h.device=KN({userAgent:t.userAgent}),h.browser=YN(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:a9(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const m=zr({},jy,f);return h.params=zr({},m,N0,t),h.originalParams=zr({},h.params),h.passedParams=zr({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=Ss(t,`.${r.slideClass}, swiper-slide`),o=_d(a[0]);return _d(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Ss(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:m}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let x=o[m]?Math.ceil(o[m].swiperSlideSize):0,b;for(let E=m+1;E<o.length;E+=1)o[E]&&!b&&(x+=Math.ceil(o[E].swiperSlideSize),y+=1,x>f&&(b=!0));for(let E=m-1;E>=0;E-=1)o[E]&&!b&&(x+=o[E].swiperSlideSize,y+=1,x>f&&(b=!0))}else if(e==="current")for(let x=m+1;x<o.length;x+=1)(t?u[x]+h[x]-u[m]<f:u[x]-u[m]<f)&&(y+=1);else for(let x=m-1;x>=0;x-=1)u[m]-u[x]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Vf(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Ss(r,a())[0];return!u&&t.params.createElements&&(u=wd("div",t.params.wrapperClass),r.append(u),Ss(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Aa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Aa(r,"direction")==="rtl"),wrongRTL:Aa(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Vf(t,o):o.addEventListener("load",u=>{Vf(t,u.target)})}),Ry(t),t.initialized=!0,Ry(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),HP(r)),r.destroyed=!0),null}static extendDefaults(e){zr(N0,e)}static get extendedDefaults(){return N0}static get defaults(){return jy}static installModule(e){Ci.prototype.__modules__||(Ci.prototype.__modules__=[]);const t=Ci.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ci.installModule(t)),Ci):(Ci.installModule(e),Ci)}};Object.keys(S0).forEach(n=>{Object.keys(S0[n]).forEach(e=>{Wv.prototype[e]=S0[n][e]})});Wv.use([tL,nL]);const ZN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function nc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Qo(e[r])&&Qo(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:nc(n[r],e[r]):n[r]=e[r]})}function JN(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function eC(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function tC(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function nC(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function o9(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function l9(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const m=a.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:y,pagination:x,navigation:b,scrollbar:E,virtual:N,thumbs:P}=e;let D,T,S,w,j,U,B,z;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(D=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(T=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&x&&!x.el&&(S=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&E&&!E.el&&(w=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(j=!0);const R=M=>{e[M]&&(e[M].destroy(),M==="navigation"?(e.isElement&&(e[M].prevEl.remove(),e[M].nextEl.remove()),y[M].prevEl=void 0,y[M].nextEl=void 0,e[M].prevEl=void 0,e[M].nextEl=void 0):(e.isElement&&e[M].el.remove(),y[M].el=void 0,e[M].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?U=!0:!y.loop&&r.loop?B=!0:z=!0),m.forEach(M=>{if(Qo(y[M])&&Qo(r[M]))Object.assign(y[M],r[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in r[M]&&!r[M].enabled&&R(M);else{const C=r[M];(C===!0||C===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?C===!1&&R(M):y[M]=r[M]}}),m.includes("controller")&&!T&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&N&&y.virtual.enabled?(N.slides=t,N.update(!0)):a.includes("virtual")&&N&&y.virtual.enabled&&(t&&(N.slides=t),N.update(!0)),a.includes("children")&&t&&y.loop&&(z=!0),D&&P.init()&&P.update(!0),T&&(e.controller.control=y.controller.control),S&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),x.init(),x.render(),x.update()),w&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),E.init(),E.updateSize(),E.setTranslate()),j&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),b.init(),b.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(U||z)&&e.loopDestroy(),(B||z)&&e.loopCreate(),e.update()}function c9(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};nc(t,jy),t._emitClasses=!0,t.init=!1;const o={},u=ZN.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Qo(n[f])?(t[f]={},a[f]={},nc(t[f],n[f]),nc(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function u9(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:h}=n;JN(e)&&r&&a&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=a,h.originalParams.navigation.prevEl=a),eC(e)&&o&&(h.params.pagination.el=o,h.originalParams.pagination.el=o),tC(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function d9(n,e,t,r,a){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),m=t.map(a);f.join("")!==m.join("")&&u("children"),r.length!==t.length&&u("children")}return ZN.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Qo(n[f])&&Qo(e[f])){const m=Object.keys(n[f]),y=Object.keys(e[f]);m.length!==y.length?u(f):(m.forEach(x=>{n[f][x]!==e[f][x]&&u(f)}),y.forEach(x=>{n[f][x]!==e[f][x]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const h9=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pm.apply(this,arguments)}function rC(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function sC(n){const e=[];return Ve.Children.toArray(n).forEach(t=>{rC(t)?e.push(t):t.props&&t.props.children&&sC(t.props.children).forEach(r=>e.push(r))}),e}function f9(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ve.Children.toArray(n).forEach(r=>{if(rC(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=sC(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function m9(n,e,t){if(!t)return null;const r=y=>{let x=y;return y<0?x=e.length+y:x>=e.length&&(x=x-e.length),x},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,m=[];for(let y=h;y<f;y+=1)y>=o&&y<=u&&m.push(e[r(y)]);return m.map((y,x)=>Ve.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${x}`}))}function sd(n,e){return typeof window>"u"?V.useEffect(n,e):V.useLayoutEffect(n,e)}const $E=V.createContext(null),p9=V.createContext(null),Ra=V.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[m,y]=V.useState("swiper"),[x,b]=V.useState(null),[E,N]=V.useState(!1),P=V.useRef(!1),D=V.useRef(null),T=V.useRef(null),S=V.useRef(null),w=V.useRef(null),j=V.useRef(null),U=V.useRef(null),B=V.useRef(null),z=V.useRef(null),{params:R,passedParams:M,rest:C,events:k}=c9(h),{slides:L,slots:O}=f9(o),se=()=>{N(!E)};Object.assign(R.on,{_containerClasses(te,H){y(H)}});const ae=()=>{Object.assign(R.on,k),f=!0;const te={...R};if(delete te.wrapperClass,T.current=new Wv(te),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=L;const H={cache:!1,slides:L,renderExternal:b,renderExternalUpdate:!1};nc(T.current.params.virtual,H),nc(T.current.originalParams.virtual,H)}};D.current||ae(),T.current&&T.current.on("_beforeBreakpoint",se);const G=()=>{f||!k||!T.current||Object.keys(k).forEach(te=>{T.current.on(te,k[te])})},$=()=>{!k||!T.current||Object.keys(k).forEach(te=>{T.current.off(te,k[te])})};V.useEffect(()=>()=>{T.current&&T.current.off("_beforeBreakpoint",se)}),V.useEffect(()=>{!P.current&&T.current&&(T.current.emitSlidesClasses(),P.current=!0)}),sd(()=>{if(e&&(e.current=D.current),!!D.current)return T.current.destroyed&&ae(),u9({el:D.current,nextEl:j.current,prevEl:U.current,paginationEl:B.current,scrollbarEl:z.current,swiper:T.current},R),u&&!T.current.destroyed&&u(T.current),()=>{T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}},[]),sd(()=>{G();const te=d9(M,S.current,L,w.current,H=>H.key);return S.current=M,w.current=L,te.length&&T.current&&!T.current.destroyed&&l9({swiper:T.current,slides:L,passedParams:M,changedParams:te,nextEl:j.current,prevEl:U.current,scrollbarEl:z.current,paginationEl:B.current}),()=>{$()}}),sd(()=>{h9(T.current)},[x]);function K(){return R.virtual?m9(T.current,L,x):L.map((te,H)=>Ve.cloneElement(te,{swiper:T.current,swiperSlideIndex:H}))}return Ve.createElement(r,pm({ref:D,className:nC(`${m}${t?` ${t}`:""}`)},C),Ve.createElement(p9.Provider,{value:T.current},O["container-start"],Ve.createElement(a,{className:o9(R.wrapperClass)},O["wrapper-start"],K(),O["wrapper-end"]),JN(R)&&Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{ref:U,className:"swiper-button-prev"}),Ve.createElement("div",{ref:j,className:"swiper-button-next"})),tC(R)&&Ve.createElement("div",{ref:z,className:"swiper-scrollbar"}),eC(R)&&Ve.createElement("div",{ref:B,className:"swiper-pagination"}),O["container-end"]))});Ra.displayName="Swiper";const ja=V.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:m,...y}=n===void 0?{}:n;const x=V.useRef(null),[b,E]=V.useState("swiper-slide"),[N,P]=V.useState(!1);function D(j,U,B){U===x.current&&E(B)}sd(()=>{if(typeof m<"u"&&(x.current.swiperSlideIndex=m),e&&(e.current=x.current),!(!x.current||!o)){if(o.destroyed){b!=="swiper-slide"&&E("swiper-slide");return}return o.on("_slideClass",D),()=>{o&&o.off("_slideClass",D)}}}),sd(()=>{o&&x.current&&!o.destroyed&&E(o.getSlideClasses(x.current))},[o]);const T={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},S=()=>typeof r=="function"?r(T):r,w=()=>{P(!0)};return Ve.createElement(t,pm({ref:x,className:nC(`${b}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:w},y),u&&Ve.createElement($E.Provider,{value:T},Ve.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},S(),h&&!N&&Ve.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ve.createElement($E.Provider,{value:T},S(),h&&!N&&Ve.createElement("div",{className:"swiper-lazy-preloader"})))});ja.displayName="SwiperSlide";function iC(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=Ss(n.el,`.${r[a]}`)[0];o||(o=wd("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function rc(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(N){let P;return N&&typeof N=="string"&&e.isElement&&(P=e.el.querySelector(N)||e.hostEl.querySelector(N),P)?P:(N&&(typeof N=="string"&&(P=[...document.querySelectorAll(N)]),e.params.uniqueNavElements&&typeof N=="string"&&P&&P.length>1&&e.el.querySelectorAll(N).length===1?P=e.el.querySelector(N):P&&P.length===1&&(P=P[0])),N&&!P?N:P)}function u(N,P){const D=e.params.navigation;N=ft(N),N.forEach(T=>{T&&(T.classList[P?"add":"remove"](...D.disabledClass.split(" ")),T.tagName==="BUTTON"&&(T.disabled=P),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](D.lockClass))})}function h(){const{nextEl:N,prevEl:P}=e.navigation;if(e.params.loop){u(P,!1),u(N,!1);return}u(P,e.isBeginning&&!e.params.rewind),u(N,e.isEnd&&!e.params.rewind)}function f(N){N.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function m(N){N.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const N=e.params.navigation;if(e.params.navigation=iC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(N.nextEl||N.prevEl))return;let P=o(N.nextEl),D=o(N.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:D}),P=ft(P),D=ft(D);const T=(S,w)=>{S&&S.addEventListener("click",w==="next"?m:f),!e.enabled&&S&&S.classList.add(...N.lockClass.split(" "))};P.forEach(S=>T(S,"next")),D.forEach(S=>T(S,"prev"))}function x(){let{nextEl:N,prevEl:P}=e.navigation;N=ft(N),P=ft(P);const D=(T,S)=>{T.removeEventListener("click",S==="next"?m:f),T.classList.remove(...e.params.navigation.disabledClass.split(" "))};N.forEach(T=>D(T,"next")),P.forEach(T=>D(T,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?E():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{nextEl:N,prevEl:P}=e.navigation;if(N=ft(N),P=ft(P),e.enabled){h();return}[...N,...P].filter(D=>!!D).forEach(D=>D.classList.add(e.params.navigation.lockClass))}),r("click",(N,P)=>{let{nextEl:D,prevEl:T}=e.navigation;D=ft(D),T=ft(T);const S=P.target;let w=T.includes(S)||D.includes(S);if(e.isElement&&!w){const j=P.path||P.composedPath&&P.composedPath();j&&(w=j.find(U=>D.includes(U)||T.includes(U)))}if(e.params.navigation.hideOnClick&&!w){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let j;D.length?j=D[0].classList.contains(e.params.navigation.hiddenClass):T.length&&(j=T[0].classList.contains(e.params.navigation.hiddenClass)),a(j===!0?"navigationShow":"navigationHide"),[...D,...T].filter(U=>!!U).forEach(U=>U.classList.toggle(e.params.navigation.hiddenClass))}});const b=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},E=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),x()};Object.assign(e.navigation,{enable:b,disable:E,update:h,init:y,destroy:x})}function va(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Zv(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:S=>S,formatFractionTotal:S=>S,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function m(S,w){const{bulletActiveClass:j}=e.params.pagination;S&&(S=S[`${w==="prev"?"previous":"next"}ElementSibling`],S&&(S.classList.add(`${j}-${w}`),S=S[`${w==="prev"?"previous":"next"}ElementSibling`],S&&S.classList.add(`${j}-${w}-${w}`)))}function y(S,w,j){if(S=S%j,w=w%j,w===S+1)return"next";if(w===S-1)return"previous"}function x(S){const w=S.target.closest(va(e.params.pagination.bulletClass));if(!w)return;S.preventDefault();const j=_d(w)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===j)return;const U=y(e.realIndex,j,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(j)}else e.slideTo(j)}function b(){const S=e.rtl,w=e.params.pagination;if(f())return;let j=e.pagination.el;j=ft(j);let U,B;const z=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,R=e.params.loop?Math.ceil(z/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,U=e.activeIndex||0),w.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const M=e.pagination.bullets;let C,k,L;if(w.dynamicBullets&&(u=Ay(M[0],e.isHorizontal()?"width":"height"),j.forEach(O=>{O.style[e.isHorizontal()?"width":"height"]=`${u*(w.dynamicMainBullets+4)}px`}),w.dynamicMainBullets>1&&B!==void 0&&(h+=U-(B||0),h>w.dynamicMainBullets-1?h=w.dynamicMainBullets-1:h<0&&(h=0)),C=Math.max(U-h,0),k=C+(Math.min(M.length,w.dynamicMainBullets)-1),L=(k+C)/2),M.forEach(O=>{const se=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ae=>`${w.bulletActiveClass}${ae}`)].map(ae=>typeof ae=="string"&&ae.includes(" ")?ae.split(" "):ae).flat();O.classList.remove(...se)}),j.length>1)M.forEach(O=>{const se=_d(O);se===U?O.classList.add(...w.bulletActiveClass.split(" ")):e.isElement&&O.setAttribute("part","bullet"),w.dynamicBullets&&(se>=C&&se<=k&&O.classList.add(...`${w.bulletActiveClass}-main`.split(" ")),se===C&&m(O,"prev"),se===k&&m(O,"next"))});else{const O=M[U];if(O&&O.classList.add(...w.bulletActiveClass.split(" ")),e.isElement&&M.forEach((se,ae)=>{se.setAttribute("part",ae===U?"bullet-active":"bullet")}),w.dynamicBullets){const se=M[C],ae=M[k];for(let G=C;G<=k;G+=1)M[G]&&M[G].classList.add(...`${w.bulletActiveClass}-main`.split(" "));m(se,"prev"),m(ae,"next")}}if(w.dynamicBullets){const O=Math.min(M.length,w.dynamicMainBullets+4),se=(u*O-u)/2-L*u,ae=S?"right":"left";M.forEach(G=>{G.style[e.isHorizontal()?ae:"top"]=`${se}px`})}}j.forEach((M,C)=>{if(w.type==="fraction"&&(M.querySelectorAll(va(w.currentClass)).forEach(k=>{k.textContent=w.formatFractionCurrent(U+1)}),M.querySelectorAll(va(w.totalClass)).forEach(k=>{k.textContent=w.formatFractionTotal(R)})),w.type==="progressbar"){let k;w.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const L=(U+1)/R;let O=1,se=1;k==="horizontal"?O=L:se=L,M.querySelectorAll(va(w.progressbarFillClass)).forEach(ae=>{ae.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${se})`,ae.style.transitionDuration=`${e.params.speed}ms`})}w.type==="custom"&&w.renderCustom?(M.innerHTML=w.renderCustom(e,U+1,R),C===0&&a("paginationRender",M)):(C===0&&a("paginationRender",M),a("paginationUpdate",M)),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](w.lockClass)})}function E(){const S=e.params.pagination;if(f())return;const w=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let j=e.pagination.el;j=ft(j);let U="";if(S.type==="bullets"){let B=e.params.loop?Math.ceil(w/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>w&&(B=w);for(let z=0;z<B;z+=1)S.renderBullet?U+=S.renderBullet.call(e,z,S.bulletClass):U+=`<${S.bulletElement} ${e.isElement?'part="bullet"':""} class="${S.bulletClass}"></${S.bulletElement}>`}S.type==="fraction"&&(S.renderFraction?U=S.renderFraction.call(e,S.currentClass,S.totalClass):U=`<span class="${S.currentClass}"></span> / <span class="${S.totalClass}"></span>`),S.type==="progressbar"&&(S.renderProgressbar?U=S.renderProgressbar.call(e,S.progressbarFillClass):U=`<span class="${S.progressbarFillClass}"></span>`),e.pagination.bullets=[],j.forEach(B=>{S.type!=="custom"&&(B.innerHTML=U||""),S.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(va(S.bulletClass)))}),S.type!=="custom"&&a("paginationRender",j[0])}function N(){e.params.pagination=iC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const S=e.params.pagination;if(!S.el)return;let w;typeof S.el=="string"&&e.isElement&&(w=e.el.querySelector(S.el)),!w&&typeof S.el=="string"&&(w=[...document.querySelectorAll(S.el)]),w||(w=S.el),!(!w||w.length===0)&&(e.params.uniqueNavElements&&typeof S.el=="string"&&Array.isArray(w)&&w.length>1&&(w=[...e.el.querySelectorAll(S.el)],w.length>1&&(w=w.find(j=>GN(j,".swiper")[0]===e.el))),Array.isArray(w)&&w.length===1&&(w=w[0]),Object.assign(e.pagination,{el:w}),w=ft(w),w.forEach(j=>{S.type==="bullets"&&S.clickable&&j.classList.add(...(S.clickableClass||"").split(" ")),j.classList.add(S.modifierClass+S.type),j.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.type==="bullets"&&S.dynamicBullets&&(j.classList.add(`${S.modifierClass}${S.type}-dynamic`),h=0,S.dynamicMainBullets<1&&(S.dynamicMainBullets=1)),S.type==="progressbar"&&S.progressbarOpposite&&j.classList.add(S.progressbarOppositeClass),S.clickable&&j.addEventListener("click",x),e.enabled||j.classList.add(S.lockClass)}))}function P(){const S=e.params.pagination;if(f())return;let w=e.pagination.el;w&&(w=ft(w),w.forEach(j=>{j.classList.remove(S.hiddenClass),j.classList.remove(S.modifierClass+S.type),j.classList.remove(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.clickable&&(j.classList.remove(...(S.clickableClass||"").split(" ")),j.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(j=>j.classList.remove(...S.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const S=e.params.pagination;let{el:w}=e.pagination;w=ft(w),w.forEach(j=>{j.classList.remove(S.horizontalClass,S.verticalClass),j.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?T():(N(),E(),b())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),r("snapIndexChange",()=>{b()}),r("snapGridLengthChange",()=>{E(),b()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:S}=e.pagination;S&&(S=ft(S),S.forEach(w=>w.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{b()}),r("click",(S,w)=>{const j=w.target,U=ft(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!j.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&j===e.navigation.nextEl||e.navigation.prevEl&&j===e.navigation.prevEl))return;const B=U[0].classList.contains(e.params.pagination.hiddenClass);a(B===!0?"paginationShow":"paginationHide"),U.forEach(z=>z.classList.toggle(e.params.pagination.hiddenClass))}});const D=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=ft(S),S.forEach(w=>w.classList.remove(e.params.pagination.paginationDisabledClass))),N(),E(),b()},T=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=ft(S),S.forEach(w=>w.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:D,disable:T,render:E,update:b,init:N,destroy:P})}function g9(n){let{swiper:e,extendParams:t,on:r}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let a=null,o,u,h=new Date().getTime();function f($){const K=a;K.length!==0&&(K.innerHTML="",K.innerHTML=$)}function m($){const K=()=>Math.round(16*Math.random()).toString(16);return"x".repeat($).replace(/x/g,K)}function y($){$=ft($),$.forEach(K=>{K.setAttribute("tabIndex","0")})}function x($){$=ft($),$.forEach(K=>{K.setAttribute("tabIndex","-1")})}function b($,K){$=ft($),$.forEach(te=>{te.setAttribute("role",K)})}function E($,K){$=ft($),$.forEach(te=>{te.setAttribute("aria-roledescription",K)})}function N($,K){$=ft($),$.forEach(te=>{te.setAttribute("aria-controls",K)})}function P($,K){$=ft($),$.forEach(te=>{te.setAttribute("aria-label",K)})}function D($,K){$=ft($),$.forEach(te=>{te.setAttribute("id",K)})}function T($,K){$=ft($),$.forEach(te=>{te.setAttribute("aria-live",K)})}function S($){$=ft($),$.forEach(K=>{K.setAttribute("aria-disabled",!0)})}function w($){$=ft($),$.forEach(K=>{K.setAttribute("aria-disabled",!1)})}function j($){if($.keyCode!==13&&$.keyCode!==32)return;const K=e.params.a11y,te=$.target;if(!(e.pagination&&e.pagination.el&&(te===e.pagination.el||e.pagination.el.contains($.target))&&!$.target.matches(va(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const H=ft(e.navigation.prevEl);ft(e.navigation.nextEl).includes(te)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?f(K.lastSlideMessage):f(K.nextSlideMessage)),H.includes(te)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?f(K.firstSlideMessage):f(K.prevSlideMessage))}e.pagination&&te.matches(va(e.params.pagination.bulletClass))&&te.click()}}function U(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:$,prevEl:K}=e.navigation;K&&(e.isBeginning?(S(K),x(K)):(w(K),y(K))),$&&(e.isEnd?(S($),x($)):(w($),y($)))}function B(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function z(){return B()&&e.params.pagination.clickable}function R(){const $=e.params.a11y;B()&&e.pagination.bullets.forEach(K=>{e.params.pagination.clickable&&(y(K),e.params.pagination.renderBullet||(b(K,"button"),P(K,$.paginationBulletMessage.replace(/\{\{index\}\}/,_d(K)+1)))),K.matches(va(e.params.pagination.bulletActiveClass))?K.setAttribute("aria-current","true"):K.removeAttribute("aria-current")})}const M=($,K,te)=>{y($),$.tagName!=="BUTTON"&&(b($,"button"),$.addEventListener("keydown",j)),P($,te),N($,K)},C=$=>{u&&u!==$.target&&!u.contains($.target)&&(o=!0),e.a11y.clicked=!0},k=()=>{o=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},L=$=>{h=new Date().getTime()},O=$=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-h<100)return;const K=$.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!K||!e.slides.includes(K))return;u=K;const te=e.slides.indexOf(K)===e.activeIndex,H=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(K);te||H||$.sourceCapabilities&&$.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{o||(e.params.loop?e.slideToLoop(parseInt(K.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(K),0),o=!1)}))},se=()=>{const $=e.params.a11y;$.itemRoleDescriptionMessage&&E(e.slides,$.itemRoleDescriptionMessage),$.slideRole&&b(e.slides,$.slideRole);const K=e.slides.length;$.slideLabelMessage&&e.slides.forEach((te,H)=>{const le=e.params.loop?parseInt(te.getAttribute("data-swiper-slide-index"),10):H,ge=$.slideLabelMessage.replace(/\{\{index\}\}/,le+1).replace(/\{\{slidesLength\}\}/,K);P(te,ge)})},ae=()=>{const $=e.params.a11y;e.el.append(a);const K=e.el;$.containerRoleDescriptionMessage&&E(K,$.containerRoleDescriptionMessage),$.containerMessage&&P(K,$.containerMessage),$.containerRole&&b(K,$.containerRole);const te=e.wrapperEl,H=$.id||te.getAttribute("id")||`swiper-wrapper-${m(16)}`,le=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";D(te,H),T(te,le),se();let{nextEl:ge,prevEl:fe}=e.navigation?e.navigation:{};ge=ft(ge),fe=ft(fe),ge&&ge.forEach(Ee=>M(Ee,H,$.nextSlideMessage)),fe&&fe.forEach(Ee=>M(Ee,H,$.prevSlideMessage)),z()&&ft(e.pagination.el).forEach(_e=>{_e.addEventListener("keydown",j)}),Br().addEventListener("visibilitychange",L),e.el.addEventListener("focus",O,!0),e.el.addEventListener("focus",O,!0),e.el.addEventListener("pointerdown",C,!0),e.el.addEventListener("pointerup",k,!0)};function G(){a&&a.remove();let{nextEl:$,prevEl:K}=e.navigation?e.navigation:{};$=ft($),K=ft(K),$&&$.forEach(H=>H.removeEventListener("keydown",j)),K&&K.forEach(H=>H.removeEventListener("keydown",j)),z()&&ft(e.pagination.el).forEach(le=>{le.removeEventListener("keydown",j)}),Br().removeEventListener("visibilitychange",L),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",O,!0),e.el.removeEventListener("pointerdown",C,!0),e.el.removeEventListener("pointerup",k,!0))}r("beforeInit",()=>{a=wd("span",e.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")}),r("afterInit",()=>{e.params.a11y.enabled&&ae()}),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&se()}),r("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&U()}),r("paginationUpdate",()=>{e.params.a11y.enabled&&R()}),r("destroy",()=>{e.params.a11y.enabled&&G()})}function Jv(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,f=o&&o.autoplay?o.autoplay.delay:3e3,m=o&&o.autoplay?o.autoplay.delay:3e3,y,x=new Date().getTime(),b,E,N,P,D,T,S;function w(K){!e||e.destroyed||!e.wrapperEl||K.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!(S||K.detail&&K.detail.bySwiperTouchMove)&&C())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(m=y,b=!1);const K=e.autoplay.paused?y:x+m-new Date().getTime();e.autoplay.timeLeft=K,a("autoplayTimeLeft",K,K/f),h=requestAnimationFrame(()=>{j()})},U=()=>{let K;return e.virtual&&e.params.virtual.enabled?K=e.slides.find(H=>H.classList.contains("swiper-slide-active")):K=e.slides[e.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},B=K=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),j();let te=typeof K>"u"?e.params.autoplay.delay:K;f=e.params.autoplay.delay,m=e.params.autoplay.delay;const H=U();!Number.isNaN(H)&&H>0&&typeof K>"u"&&(te=H,f=H,m=H),y=te;const le=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(le,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,le,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(le,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,le,!0,!0),a("autoplay")),e.params.cssMode&&(x=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return te>0?(clearTimeout(u),u=setTimeout(()=>{ge()},te)):requestAnimationFrame(()=>{ge()}),te},z=()=>{x=new Date().getTime(),e.autoplay.running=!0,B(),a("autoplayStart")},R=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),a("autoplayStop")},M=(K,te)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),K||(T=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):C()};if(e.autoplay.paused=!0,te){D&&(y=e.params.autoplay.delay),D=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-x),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},C=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(x=new Date().getTime(),T?(T=!1,B(y)):B(),e.autoplay.paused=!1,a("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const K=Br();K.visibilityState==="hidden"&&(T=!0,M(!0)),K.visibilityState==="visible"&&C()},L=K=>{K.pointerType==="mouse"&&(T=!0,S=!0,!(e.animating||e.autoplay.paused)&&M(!0))},O=K=>{K.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&C())},se=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",L),e.el.addEventListener("pointerleave",O))},ae=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",L),e.el.removeEventListener("pointerleave",O))},G=()=>{Br().addEventListener("visibilitychange",k)},$=()=>{Br().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(se(),G(),z())}),r("destroy",()=>{ae(),$(),e.autoplay.running&&R()}),r("_freeModeStaticRelease",()=>{(N||T)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?R():M(!0,!0)}),r("beforeTransitionStart",(K,te,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?M(!0,!0):R())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){R();return}E=!0,N=!1,T=!1,P=setTimeout(()=>{T=!0,N=!0,M(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(P),clearTimeout(u),e.params.autoplay.disableOnInteraction){N=!1,E=!1;return}N&&e.params.cssMode&&C(),N=!1,E=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(D=!0)}),Object.assign(e.autoplay,{start:z,stop:R,pause:M,resume:C})}function GE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const m=e.thumbs.swiper;if(!m||m.destroyed)return;const y=m.clickedIndex,x=m.clickedSlide;if(x&&x.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let b;m.params.loop?b=parseInt(m.clickedSlide.getAttribute("data-swiper-slide-index"),10):b=y,e.params.loop?e.slideToLoop(b):e.slideTo(b)}function h(){const{thumbs:m}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(m.swiper instanceof y){if(m.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=m.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Wu(m.swiper)){const x=Object.assign({},m.swiper);Object.assign(x,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(x),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(m){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const x=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let b=1;const E=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(b=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(b=1),b=Math.floor(b),y.slides.forEach(D=>D.classList.remove(E)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let D=0;D<b;D+=1)Ss(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+D}"]`).forEach(T=>{T.classList.add(E)});else for(let D=0;D<b;D+=1)y.slides[e.realIndex+D]&&y.slides[e.realIndex+D].classList.add(E);const N=e.params.thumbs.autoScrollOffset,P=N&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const D=y.activeIndex;let T,S;if(y.params.loop){const w=y.slides.find(j=>j.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);T=y.slides.indexOf(w),S=e.activeIndex>e.previousIndex?"next":"prev"}else T=e.realIndex,S=T>e.previousIndex?"next":"prev";P&&(T+=S==="next"?N:-1*N),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(T)<0&&(y.params.centeredSlides?T>D?T=T-Math.floor(x/2)+1:T=T+Math.floor(x/2)-1:T>D&&y.params.slidesPerGroup,y.slideTo(T,m?0:void 0))}}r("beforeInit",()=>{const{thumbs:m}=e.params;if(!(!m||!m.swiper))if(typeof m.swiper=="string"||m.swiper instanceof HTMLElement){const y=Br(),x=()=>{const E=typeof m.swiper=="string"?y.querySelector(m.swiper):m.swiper;if(E&&E.swiper)m.swiper=E.swiper,h(),f(!0);else if(E){const N=`${e.params.eventsPrefix}init`,P=D=>{m.swiper=D.detail[0],E.removeEventListener(N,P),h(),f(!0),m.swiper.update(),e.update()};E.addEventListener(N,P)}return E},b=()=>{if(e.destroyed)return;x()||requestAnimationFrame(b)};requestAnimationFrame(b)}else h(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(m,y)=>{const x=e.thumbs.swiper;!x||x.destroyed||x.setTransition(y)}),r("beforeDestroy",()=>{const m=e.thumbs.swiper;!m||m.destroyed||o&&m.destroy()}),Object.assign(e.thumbs,{init:h,update:f})}function QE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:m}=e;f.velocities.length===0&&f.velocities.push({position:m[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:m[e.isHorizontal()?"currentX":"currentY"],time:Uo()})}function h(f){let{currentPos:m}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:x,rtlTranslate:b,snapGrid:E,touchEventsData:N}=e,D=Uo()-N.touchStartTime;if(m<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(m>-e.maxTranslate()){e.slides.length<E.length?e.slideTo(E.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(N.velocities.length>1){const R=N.velocities.pop(),M=N.velocities.pop(),C=R.position-M.position,k=R.time-M.time;e.velocity=C/k,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(k>150||Uo()-R.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,N.velocities.length=0;let T=1e3*y.freeMode.momentumRatio;const S=e.velocity*T;let w=e.translate+S;b&&(w=-w);let j=!1,U;const B=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let z;if(w<e.maxTranslate())y.freeMode.momentumBounce?(w+e.maxTranslate()<-B&&(w=e.maxTranslate()-B),U=e.maxTranslate(),j=!0,N.allowMomentumBounce=!0):w=e.maxTranslate(),y.loop&&y.centeredSlides&&(z=!0);else if(w>e.minTranslate())y.freeMode.momentumBounce?(w-e.minTranslate()>B&&(w=e.minTranslate()+B),U=e.minTranslate(),j=!0,N.allowMomentumBounce=!0):w=e.minTranslate(),y.loop&&y.centeredSlides&&(z=!0);else if(y.freeMode.sticky){let R;for(let M=0;M<E.length;M+=1)if(E[M]>-w){R=M;break}Math.abs(E[R]-w)<Math.abs(E[R-1]-w)||e.swipeDirection==="next"?w=E[R]:w=E[R-1],w=-w}if(z&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(b?T=Math.abs((-w-e.translate)/e.velocity):T=Math.abs((w-e.translate)/e.velocity),y.freeMode.sticky){const R=Math.abs((b?-w:w)-e.translate),M=e.slidesSizesGrid[e.activeIndex];R<M?T=y.speed:R<2*M?T=y.speed*1.5:T=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&j?(e.updateProgress(U),e.setTransition(T),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating=!0,x0(x,()=>{!e||e.destroyed||!N.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(U),x0(x,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(w),e.setTransition(T),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,x0(x,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(w),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||D>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:h}})}const aC=()=>{const[n,e]=V.useState([]),[t,r]=V.useState(!0),[a,o]=V.useState(null);return V.useEffect(()=>{(async()=>{try{const h=Hn(St,"menu-categories","men"),f=Hn(St,"menu-categories","women"),[m,y]=await Promise.all([Ga(h),Ga(f)]),x=m.exists()?m.data().items||[]:[],b=y.exists()?y.data().items||[]:[];e([...x,...b]),r(!1)}catch(h){o(h.message),r(!1),console.error("Error fetching categories:",h)}})()},[]),t?c.jsx("div",{className:"flex justify-center items-center h-40",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a?c.jsxs("div",{className:"text-red-500 text-center p-4",children:["Error loading categories: ",a]}):n.length===0?c.jsx("div",{className:"text-gray-500 text-center p-4",children:"No categories found"}):c.jsxs("div",{className:"py-8 px-1 md:px-3 max-w-7xl mx-auto relative",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Shop by Category"}),c.jsxs(Ra,{modules:[rc,Zv,Jv],spaceBetween:15,slidesPerView:3,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:{nextEl:".category-swiper-button-next",prevEl:".category-swiper-button-prev"},pagination:{clickable:!0,el:".category-swiper-pagination",type:"bullets",bulletClass:"swiper-pagination-bullet bg-blue-200",bulletActiveClass:"swiper-pagination-bullet-active !bg-blue-500"},breakpoints:{320:{slidesPerView:3,spaceBetween:10},480:{slidesPerView:3,spaceBetween:15},640:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:4,spaceBetween:20},1024:{slidesPerView:5,spaceBetween:20},1280:{slidesPerView:6,spaceBetween:20}},className:"relative",children:[n.map((u,h)=>c.jsx(ja,{children:c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 h-full flex flex-col",children:c.jsxs("a",{href:u.path,className:"block flex-1 flex flex-col",children:[c.jsx("div",{className:"aspect-square overflow-hidden",children:c.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:f=>{f.target.onerror=null,f.target.src="https://via.placeholder.com/300x300?text=No+Image"}})}),c.jsxs("div",{className:"p-3 sm:px-4 py-3 gap-1 md:gap-0 flex-1 flex flex-col justify-between",children:[c.jsx("h3",{className:"text-[11px] sm:text-lg font-semibold text-gray-800 text-center",children:u.name}),c.jsx("button",{className:"mt-0 sm:mt-0 bg-blue-500 hover:bg-blue-600 text-white py-1 sm:py-2 px-3 sm:px-4 rounded-md transition-colors duration-300 text-xs sm:text-sm w-full",children:"Shop Now"})]})]})})},h)),c.jsx("div",{className:"category-swiper-button-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 -ml-2 md:-ml-4 w-8 h-8 md:w-10 md:h-10 rounded-full bg-white shadow-lg flex items-center justify-center cursor-pointer hover:bg-gray-100 transition-colors duration-300",children:c.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("div",{className:"category-swiper-button-next absolute right-0 top-1/2 -translate-y-1/2 z-10 -mr-2 md:-mr-4 w-8 h-8 md:w-10 md:h-10 rounded-full bg-white shadow-lg flex items-center justify-center cursor-pointer hover:bg-gray-100 transition-colors duration-300",children:c.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.jsx("div",{className:"category-swiper-pagination flex justify-center mt-4 sm:mt-6 space-x-2"}),c.jsx("style",{jsx:!0,global:!0,children:`
                .swiper-pagination-bullet {
                    width: 8px;
                    height: 8px;
                    opacity: 1;
                    margin: 0 4px !important;
                }
                .swiper-pagination-bullet-active {
                    transform: scale(1.2);
                }
                @media (min-width: 640px) {
                    .swiper-pagination-bullet {
                        width: 10px;
                        height: 10px;
                        margin: 0 5px !important;
                    }
                }
            `})]})},y9=()=>{const[n,e]=V.useState([]);return V.useEffect(()=>{(async()=>{try{const r=await Fr(In(St,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),c.jsx("div",{className:"w-full",children:c.jsx(Ra,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[Jv,Zv,rc],className:"mySwiper",children:n.map((t,r)=>c.jsx(ja,{children:c.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},v9=(n,e)=>n.length>e?n.slice(0,e)+"...":n,oC=()=>{const[n,e]=V.useState([]),[t,r]=V.useState(!0),[a,o]=V.useState(null);return V.useEffect(()=>{(async()=>{try{const h=In(St,"products"),f=ds(h,ji("subcategory","array-contains","trending")),y=(await Fr(f)).docs.map(x=>({id:x.id,...x.data()}));e(y),r(!1)}catch(h){o(h.message),r(!1),console.error("Error fetching trending products:",h)}})()},[]),t?c.jsx("div",{className:"text-center py-8",children:"Loading products..."}):a?c.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error: ",a]}):c.jsxs("div",{className:"container mx-auto px-4 py-1 relative",children:[c.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"🔥 Trending Products"}),n.length===0?c.jsx("p",{className:"text-center text-gray-500",children:"No trending products found."}):c.jsxs("div",{className:"relative",children:[c.jsx(Ra,{modules:[rc,Zv,g9,Jv],spaceBetween:20,slidesPerView:1,navigation:{nextEl:".swiper-button-next-custom",prevEl:".swiper-button-prev-custom"},pagination:{clickable:!0,el:".swiper-pagination-custom",type:"bullets"},autoplay:{delay:3e3,disableOnInteraction:!1},loop:!1,breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:25},1024:{slidesPerView:4,spaceBetween:30}},children:n.map(u=>{var h;return c.jsx(ja,{children:c.jsxs("div",{className:"bg-[#ffc1da] rounded-xl shadow hover:shadow-xl transition-all h-[380px] flex flex-col overflow-hidden",children:[c.jsx(tt,{to:`/product/${u.id}`,children:c.jsx("img",{src:u.mainImage||"/placeholder-product.jpg",alt:u.name,className:"w-full h-48 object-cover"})}),c.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[c.jsx(tt,{to:`/product/${u.id}`,children:c.jsx("h3",{className:"text-lg font-semibold mb-1 hover:text-blue-600",children:v9(u.name,24)})}),c.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[c.jsxs("p",{className:"text-gray-700 font-medium",children:["৳",u.price]}),u.regularPrice&&c.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["৳",u.regularPrice]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-2 mb-3",children:(h=u.subcategory)==null?void 0:h.map((f,m)=>c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f==="trending"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:f},m))}),c.jsx(tt,{to:`/product/${u.id}`,className:"mt-auto bg-blue-600 text-white py-2 text-center rounded hover:bg-blue-700 transition-colors",children:"View Details"})]})]})},u.id)})}),c.jsx("div",{className:"swiper-button-prev-custom absolute top-1/2 -left-2 md:-left-5 z-10 transform -translate-y-1/2 w-8 h-8 md:w-10 md:h-10 bg-blue-500 text-white rounded-full flex items-center justify-center shadow hover:bg-blue-600 cursor-pointer transition-all",children:c.jsx(zk,{className:"w-4 h-4 md:w-5 md:h-5"})}),c.jsx("div",{className:"swiper-button-next-custom absolute top-1/2 -right-2 md:-right-5 z-10 transform -translate-y-1/2 w-8 h-8 md:w-10 md:h-10 bg-blue-500 text-white rounded-full flex items-center justify-center shadow hover:bg-blue-600 cursor-pointer transition-all",children:c.jsx(Bk,{className:"w-4 h-4 md:w-5 md:h-5"})}),c.jsx("div",{className:"swiper-pagination-custom mt-4 flex justify-center"})]}),c.jsx("style",{jsx:!0,children:`
                .swiper-pagination-custom {
                    position: static;
                    margin-top: 20px;
                }
                .swiper-pagination-custom .swiper-pagination-bullet {
                    width: 12px;
                    height: 12px;
                    background-color: #ccc;
                    opacity: 1;
                    margin: 0 5px;
                }
                .swiper-pagination-custom .swiper-pagination-bullet-active {
                    background-color: #3b82f6; /* blue-500 */
                }
            `})]})},KE=()=>c.jsxs("div",{className:"bg-pink-100 ",children:[c.jsx("div",{children:c.jsx(y9,{})}),c.jsx("div",{children:c.jsx(aC,{})}),c.jsx("div",{children:c.jsx(oC,{})}),c.jsx("div",{className:"px-1 md:px-4",children:c.jsx("div",{children:c.jsx(qN,{})})})]}),x9=V.createContext(),b9=({children:n})=>{const[e,t]=V.useState(null),[r,a]=V.useState(!0);V.useEffect(()=>{const f=pD(ec,m=>{t(m),a(!1)});return()=>f()},[]);const h={user:e,login:async(f,m)=>{a(!0);try{await hD(ec,f,m)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await iN(ec)},loading:r};return c.jsx(x9.Provider,{value:h,children:n})},YE=()=>{const{gender:n,category:e}=Vy(),t=10,r=V.useRef(null),[a,o]=V.useState(window.innerWidth<768);V.useEffect(()=>{const w=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const u=w=>w?Math.round(w).toLocaleString("en-US"):"0",h=async({pageParam:w=null})=>{const j=w?ds(In(St,"products"),ji("gender","==",n),ji("subcategory","array-contains",e.toLowerCase()),Mv(w),Cc(t)):ds(In(St,"products"),ji("gender","==",n),ji("subcategory","array-contains",e.toLowerCase()),Cc(t)),U=await Fr(j),B=[];return U.forEach(z=>{const R=z.data();R.available&&R.stock>0&&B.push({id:z.id,...R})}),{products:B,lastVisible:U.docs[U.docs.length-1]}},{data:f,fetchNextPage:m,hasNextPage:y,isFetchingNextPage:x,isLoading:b,error:E}=MN({queryKey:["products",n,e],queryFn:h,getNextPageParam:w=>w.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),N=w=>{nt.success(`${w} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},P=w=>{const j=JSON.parse(localStorage.getItem("cart"))||[],U=j.find(B=>B.id===w.id);U?U.quantity+=1:j.push({id:w.id,productId:w.productId,name:w.name,price:w.discount?Math.round(w.price-w.price*(w.discount/100)):Math.round(w.price),image:w.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(j)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),N(w.name)},D=w=>{w.colorVariants&&w.colorVariants.length>0?window.location.href=`/product/${w.productId||w.id}`:P(w)},T=w=>{w.colorVariants&&w.colorVariants.length>0?window.location.href=`/product/${w.productId||w.id}`:(P(w),window.location.href="/cart")},S=(f==null?void 0:f.pages.flatMap(w=>w.products))||[];return b?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):E?c.jsx("div",{className:"text-center py-8",children:"Error loading products"}):c.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[c.jsx(Yv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-2 mb-2 md:m-4 mt-2",children:["Showing products for ",n," / ",e]}),S.length===0?c.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):c.jsxs(c.Fragment,{children:[c.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:S.map(w=>{const j=w.discount&&w.discount>0,U=w.colorVariants&&w.colorVariants.length>0,B=a?17:25,z=w.name.length>B,R=z?`${w.name.substring(0,B)}...`:w.name;return c.jsxs("li",{className:"border bg-[#ffc1da] rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[c.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[c.jsxs(tt,{to:`/product/${w.productId||w.id}`,className:"relative block",children:[c.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:c.jsx("img",{src:w.mainImage||"/placeholder-product.jpg",alt:w.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),w.discount!==0&&j&&c.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[w.discount,"%"]})]}),c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[R,z&&c.jsx(tt,{to:`/product/${w.productId||w.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:M=>{M.preventDefault(),window.location.href=`/product/${w.productId||w.id}`},children:".."})]})}),c.jsx("div",{className:"md:mt-auto",children:c.jsxs("div",{className:"flex flex-col md:space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(w.discount?w.price-w.price*(w.discount/100):w.price)]}),w.regularPrice&&c.jsx("div",{className:"text-xs text-gray-500",children:c.jsxs("del",{children:["৳",u(w.regularPrice)]})})]}),w.productType&&c.jsxs("div",{className:"text-xs text-red-400",children:["(",w.productType,")"]})]})})]}),c.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[c.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[c.jsx("button",{onClick:()=>D(w),className:"w-full border border-blue-600 bg-blue-600 text-white hover:bg-red-700 hover:border-blue-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:U?"Options":"Add to Cart"}),c.jsx("button",{onClick:()=>T(w),className:"w-full border border-green-600 bg-green-600 text-white hover:bg-red-700 hover:border-green-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsx("span",{className:`font-medium ${w.stock>0?"text-green-600":"text-red-500"}`,children:w.stock>0?"In Stock":"Out of Stock"}),w.stock>0&&c.jsxs("span",{className:"text-gray-500 text-[11px]",children:[w.stock," units"]})]})]})]},w.id)})}),y&&c.jsx("div",{className:"flex justify-center mt-6 mb-10",children:c.jsx("button",{onClick:()=>m(),disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:x?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},vf=n=>{},Iy=typeof window>"u"?V.useEffect:V.useLayoutEffect,lC=n=>typeof n=="number"&&n>0,XE=n=>lC(n)?n:0,My=n=>Math.round(100*n)/100,Oy=n=>Math.round(2*n)/2,WE=n=>n===0?0:-1*My(n),w9={},_9="rr--group",E9="rr--box",T9="rr--svg",S9="rr--reset",ZE="rr--focus-reset",N9="rr--svg-stop-1",C9="rr--svg-stop-2",JE="rr--on",e2="rr--off",Zu={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},xf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},C0={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},A0={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},A9="rr--pointer",R9="rr--disabled",j9="rr--dir-y",I9="rr--dir-x",M9="rr--has-stroke",O9="rr--has-border",D9="rr--hf-box-on",k9="rr--hf-box-int",P9="rr--hf-box-off",L9="rr--hf-svg-on",V9="rr--hf-svg-off",bf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},wf={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},z9="--rr--border-width",cC="horizontal",uC="vertical",R0="svg",t2="box",Pr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Ql={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},Ia={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},_f={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function U9({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=cC,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",h=V.useId(),f=V.useRef(null),[m,y]=V.useState(null),[x,b]=V.useState(!1),E=V.useRef(null),N=V.useRef(null),P=V.useCallback(D=>{const{width:T,height:S,x:w,y:j}=D.getBBox();if(((...U)=>U.every(B=>typeof B=="number"))(T,S,w,j)){const U=`${u} ${My(T+t)} ${My(S+t)}`,B=`${WE(w)} ${WE(j)}`;y({viewBox:U,translateData:B})}},[t,u]);return Iy(()=>{if(f.current){const{width:D,height:T,x:S,y:w}=f.current.getBBox();if(D===0&&T===0&&S===0&&w===0){const j=function(U){if(!U||!U.parentElement)return null;let B=U==null?void 0:U.parentElement;for(;B&&window.getComputedStyle(B).display!=="none";)B=B.parentElement;return B}(f.current);j&&(N.current=j,b(!0))}else b(!1);P(f.current)}},[n,t,a]),Iy(()=>{if(x&&N.current)return E.current=new MutationObserver((D,T)=>{D.forEach(()=>{window.getComputedStyle(N.current).display==="none"||(P(f.current),T.disconnect())})}),E.current.observe(N.current,{attributes:!0}),()=>{var D;(D=E.current)==null||D.disconnect()}},[x,P]),c.jsxs("svg",{"aria-hidden":"true",className:T9,xmlns:"http://www.w3.org/2000/svg",viewBox:m?m.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&c.jsx("defs",{children:c.jsxs("linearGradient",{id:h,...r===uC?{gradientTransform:"rotate(90)"}:{},children:[c.jsx("stop",{className:N9,offset:"50%"}),c.jsx("stop",{className:C9,offset:"50%"})]})}),c.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(m){const D=`translate(${m==null?void 0:m.translateData})`;return D==="translate(0 0)"?{}:{transform:D}}return{transform:void 0}}(),...a?{fill:`url('#${h}')`}:{},children:n})]})}function dC(n,e,t){switch(e){case Ia.FILL:return n[bf.FILL]=t,!0;case Ia.BOX:return n[bf.BOX]=t,!0;case Ia.BORDER:return n[bf.BORDER]=t,!0;case Ia.STROKE:return n[bf.STROKE]=t,!0}return!1}function B9(n,e,t){if(!dC(n,e,t))switch(e){case _f.FILL:n[wf.FILL]=t;break;case _f.BOX:n[wf.BOX]=t;break;case _f.BORDER:n[wf.BORDER]=t;break;case _f.STROKE:n[wf.STROKE]=t}}function F9(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))dC(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const j0=n=>`${n} ${Zu.COLORS}`;function q9({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:h,absoluteStrokeWidth:f,spaceBetween:m,spaceInside:y}){const x=a?A9:"",b=function(S){switch(S){case Pr.SMALL:return C0.SMALL;case Pr.MEDIUM:return C0.MEDIUM;case Pr.LARGE:return C0.LARGE;default:return""}}(m),E=function(S){switch(S){case Pr.SMALL:return A0.SMALL;case Pr.MEDIUM:return A0.MEDIUM;case Pr.LARGE:return A0.LARGE;default:return""}}(y),N=!t&&r?R9:"",P=a&&o!==Ql.NONE?function(S){switch(S){case Ql.ZOOM:return j0(Zu.ZOOM);case Ql.POSITION:return j0(Zu.POSITION);case Ql.OPACITY:return j0(Zu.OPACITY);case Ql.COLORS:return Zu.COLORS;default:return""}}(o):"",D=u===uC?j9:I9,T=function(S){switch(S){case Pr.SMALL:return xf.SMALL;case Pr.MEDIUM:return xf.MEDIUM;case Pr.LARGE:return xf.LARGE;case Pr.FULL:return xf.FULL;default:return""}}(e);return`${_9} ${D} ${f>0?M9:""} ${h>0?O9:""}
${P} ${T} ${x} ${N} ${b}
${E} ${n}`.replace(/  +/g," ").trimEnd()}function H9(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?JE:e2:a<=t?JE:e2)}function $9(n,e,t){const r=Math.floor(Oy(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?P9:o===r?k9:D9:o>r?V9:L9)}function n2(n,e){const t={};lC(e)&&(t[z9]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)B9(t,a,o);return t}const G9=[Ia.FILL,Ia.BOX,Ia.STROKE,Ia.BORDER];function I0(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const Q9="@smastrom/react-rating",K9=n=>`[${Q9}] - Nothing's returned from rendering. Reason: ${n}.`;function Bu(n,e){return n.shouldRender=!1,n.reason=K9(e),n}const r2="itemShapes is not a valid JSX element",Y9=c.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});c.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});c.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});c.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});c.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});c.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const X9={itemShapes:Y9,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},Ju=V.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=vf,onHoverChange:a=vf,onFocus:o=vf,onBlur:u=vf,preventDefault:h="all",isDisabled:f=!1,highlightOnlySelected:m=!1,orientation:y=cC,spaceBetween:x=Pr.NONE,spaceInside:b=Pr.SMALL,radius:E=Pr.NONE,transition:N=Ql.COLORS,itemStyles:P=X9,isRequired:D=!1,halfFillMode:T=R0,visibleLabelId:S,visibleItemLabelIds:w,invisibleItemLabels:j,invisibleLabel:U=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:B="Reset rating",id:z,className:R,style:M},C)=>{const k=Array.from({length:e},(Oe,Me)=>Me+1),L=t&&!Number.isInteger(n),O=L&&!m,se=L&&m?Math.round(n):n,ae=!t&&!f,G=se>=.25,$=typeof R=="string"?R:"",K=T===t2?t2:R0,te=O&&!(Oe=>Number.isInteger(Oy(Oe)))(se),H=!D&&!t,le=D?e:e+1,ge=O?function(Oe,Me){const rt=Oy(Me);return Number.isInteger(rt)?Oe.indexOf(rt):Math.floor(rt)}(k,se):k.indexOf(se),{staticColors:fe,arrayColors:ue,itemShapes:Ee,absoluteStrokeWidth:_e,absoluteBoxBorderWidth:ye}=V.useMemo(()=>{const{itemShapes:Oe,itemStrokeWidth:Me,boxBorderWidth:rt,...gt}=P,$t=function(ln){const sr={...ln},Mn={},$n=Object.entries(sr);if($n.length>0)for(const[On,Yt]of $n)if(Array.isArray(Yt)||typeof Yt=="string"){if(Array.isArray(Yt))for(const $r of G9)if($r===On){const Sr=Yt.filter(Os=>typeof Os=="string");Sr.length>0&&(Mn[On]=Sr,delete sr[On])}else delete sr[On]}else delete sr[On];return{arrayColors:Mn,staticColors:sr}}(gt);return{itemShapes:Oe,absoluteStrokeWidth:XE(Me),absoluteBoxBorderWidth:XE(rt),...$t}},[P]),Se=Object.keys(ue).length>0,Xe=V.useCallback((Oe,Me)=>({dynamicClassNames:te?$9(se,e,K):H9(m,e,Oe),dynamicCssVars:Me&&Se?F9(ue,Oe,m):[]}),[ue,Se,m,K,te,e,se]),Ze=V.useCallback(()=>js(I0(le,ge,!D)),[ge,le,D]),Ot=V.useRef(!0),Gt=V.useRef(!0),gn=V.useRef(null),Ht=V.useRef([]),fr=V.useRef(!1),[tr,Zt]=V.useState({staticCssVars:n2(fe,ye),...Xe(ge,G)}),[Rs,js]=V.useState(()=>ae?I0(le,ge,!D):[]);Iy(()=>{ae&&Ht.current&&(fr.current=function(Oe){return Oe?getComputedStyle(Oe).getPropertyValue("direction")==="rtl":!1}(Ht.current[0]))},[ae]),V.useEffect(()=>{if(!Ot.current)return Zt({staticCssVars:n2(fe,ye),...Xe(ge,G)});Ot.current=!1},[fe,Xe,ye,ge,G]),V.useEffect(()=>{if(!Gt.current&&ae)return Ze();Gt.current=!1},[ae,Ze]);const{shouldRender:Is,reason:ms}=function({items:Oe,itemShapes:Me}){const rt={shouldRender:!0,reason:""};if(typeof Oe!="number"||Oe<1||Oe>10)return Bu(rt,"items is invalid");if(!Me)return Bu(rt,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Me)&&!V.isValidElement(Me))return Bu(rt,r2);if(Array.isArray(Me)){if(Me.length!==Oe)return Bu(rt,"itemShapes length mismatch");if(!Me.every(gt=>V.isValidElement(gt)))return Bu(rt,r2)}return rt}({items:e,itemShapes:Ee});if(!Is)return console.error(ms),null;function nr(Oe,Me,rt=()=>{}){Ht.current.some(gt=>gt===Oe.relatedTarget)?rt():Me()}function rr(){a(0),Ze()}function Ms(Oe){nr(Oe,()=>{rr()}),Zt({...tr,...Xe(ge,G)})}function ps(Oe){nr(Oe,()=>{rr(),u()})}function bt(Oe,Me){const rt=!D&&Me===k.length?0:Me+1;nr(Oe,()=>{o(),a(rt)},()=>{a(rt)})}function et(Oe){js(I0(le,Oe,!D)),Ht.current[Oe].focus()}const Tn=q9({className:$,radius:E,readOnly:t,isDisabled:f,isDynamic:ae,transition:N,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:_e,spaceBetween:x,spaceInside:b});function Kt(Oe){return{ref:Me=>Ht.current[Oe]=Me}}function si(Oe){return{tabIndex:Rs[Oe],onKeyDown:Me=>function(rt,gt){let $t=0;const ln=D?k.length-1:k.length,sr=gt-1,Mn=gt+1,$n=!D&&gt===k.length,On=gt===0?ln:sr,Yt=ln===gt?0:Mn;switch(rt.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return $t=fr.current?On:Yt,et($t);case"ArrowUp":case"ArrowLeft":return $t=fr.current?Yt:On,et($t);case"Enter":case"Space":return h!=="all"&&h!=="click"||rt.preventDefault(),r($n?0:gt+1)}rt.stopPropagation()}(Me,Oe)}}function mr(Oe){return{onClick:Me=>function(rt,gt){h!=="all"&&h!=="keydown"||rt.preventDefault(),rt.stopPropagation(),r(D||ge!==gt?gt+1:0)}(Me,Oe),onMouseEnter:()=>function(Me){a(Me+1),Zt({...tr,...Xe(Me,!0)})}(Oe),onMouseLeave:Ms}}function qr(Oe){if(t)return{};const Me={};if(Array.isArray(w))Me["aria-labelledby"]=w[Oe];else{const rt=Array.isArray(j)?j:k.map((gt,$t)=>`Rate ${$t+1}`);Me["aria-label"]=rt[Oe]}return f&&(Me["aria-disabled"]="true"),{role:"radio","aria-checked":Oe+1===se,...Me}}function Hr(Oe){const Me={itemShapes:Array.isArray(Ee)?Ee[Oe]:Ee,itemStrokeWidth:_e,orientation:y,hasHF:!1,testId:{}};return te&&K===R0&&(Me.hasHF=Oe===ge),Me}return c.jsx("div",{id:z,className:Tn,style:{...M,...tr.staticCssVars},ref:function(Oe){ae&&!D&&(gn.current=Oe),C&&(C.current=Oe)},...function(){if(!t){const Oe=D&&!f,Me={role:"radiogroup","aria-required":Oe};return Oe&&(Me["aria-invalid"]=se<=0),typeof S=="string"&&S.length>0?Me["aria-labelledby"]=S:Me["aria-label"]=U,Me}return{role:"img","aria-label":U}}(),...w9,children:k.map((Oe,Me)=>{return c.jsxs(V.Fragment,{children:[c.jsx("div",{className:`${E9} ${tr.dynamicClassNames[Me]}`,style:tr.dynamicCssVars[Me],...qr(Me),...(gt=Me,ae?{...Kt(gt),...si(gt),...mr(gt),onFocus:$t=>bt($t,gt),onBlur:$t=>ps($t)}:{}),children:c.jsx(U9,{...Hr(Me)})}),H&&Me===k.length-1&&c.jsx("div",{...(rt=Me+1,{className:S9,role:"radio","aria-label":B,"aria-checked":se===0,onClick:()=>r(0),onFocus:$t=>{var ln;bt($t,rt),(ln=gn.current)==null||ln.classList.add(ZE)},onBlur:$t=>{var ln;ps($t),(ln=gn.current)==null||ln.classList.remove(ZE)},...si(rt),...Kt(rt),...f?{"aria-disabled":"true"}:{}})})]},Oe);var rt,gt})})});Ju.displayName="Rating";function W9(n){return Ka({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const Z9=()=>{var $,K,te,H,le,ge,fe,ue,Ee,_e;const{productId:n}=Vy(),[e,t]=V.useState(null),[r,a]=V.useState(!0),[o,u]=V.useState(null),[h,f]=V.useState(null),[m,y]=V.useState(0),[x,b]=V.useState(null),[E,N]=V.useState(null),[P,D]=V.useState("description"),[T,S]=V.useState([]),[w,j]=V.useState(!1),[U,B]=V.useState({name:"",contact:"",rating:0,comment:""}),[z,R]=V.useState(null);V.useEffect(()=>{(async()=>{var Se;try{const Xe=ds(In(St,"products"),ji("productId","==",n)),Ze=await Fr(Xe);if(!Ze.empty){const Ot=Ze.docs[0],Gt={id:Ot.id,...Ot.data()};t(Gt),Gt.isColorVariants&&((Se=Gt.colorVariants)==null?void 0:Se.length)>0&&u(Gt.colorVariants[0])}a(!1)}catch(Xe){console.error("Error fetching product:",Xe),a(!1)}})()},[n]),V.useEffect(()=>{let ye;return(()=>{if(!n)return;const Xe=In(St,"reviews"),Ze=ds(Xe,ji("productId","==",n));ye=PS(Ze,Ot=>{const Gt=[];Ot.forEach(gn=>{Gt.push({id:gn.id,...gn.data()})}),S(Gt)},Ot=>{console.error("Error listening to reviews:",Ot)})})(),()=>{ye&&ye()}},[n]);const M=()=>{var Ze,Ot,Gt,gn;if(se()){nt.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!E){nt.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Se={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(Ot=o==null?void 0:o.images)==null?void 0:Ot[0]:(Gt=e.images)==null?void 0:Gt[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(gn=o==null?void 0:o.images)==null?void 0:gn[0]}:null,size:E?{size:E.size,stock:E.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},Xe=ye.findIndex(Ht=>{var fr,tr,Zt,Rs;return!(Ht.id!==Se.id||e.isColorVariants&&((fr=Ht.color)==null?void 0:fr.name)!==((tr=Se.color)==null?void 0:tr.name)||E&&((Zt=Ht.size)==null?void 0:Zt.size)!==((Rs=Se.size)==null?void 0:Rs.size))});Xe>=0?(ye[Xe].quantity+=1,nt.success("Item quantity increased in cart")):(ye.push(Se),nt.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},C=()=>{M(),window.location.href="/cart"},k=async ye=>{if(ye.preventDefault(),!U.name||!U.comment||U.rating===0||!U.contact){nt.error("Please fill all required fields");return}const Se=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.contact),Xe=/^[0-9]{10,15}$/.test(U.contact);if(!Se&&!Xe){nt.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:U.name,contact:U.contact,contactType:Se?"email":"phone",rating:U.rating,comment:U.comment,createdAt:new Date().toISOString()};z?(await Ld(Hn(St,"reviews",z),Ze),nt.success("Review updated successfully")):(await cO(In(St,"reviews"),Ze),nt.success("Review submitted successfully")),j(!1),B({name:"",contact:"",rating:0,comment:""}),R(null)}catch(Ze){console.error("Error submitting review:",Ze),nt.error("Failed to submit review")}},L=ye=>{B({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),R(ye.id),j(!0)},O=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await kS(Hn(St,"reviews",ye)),nt.success("Review deleted successfully")}catch(Se){console.error("Error deleting review:",Se),nt.error("Failed to delete review")}},se=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Se=>Se.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},ae=ye=>ye<1;if(r)return c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return c.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const G=T.length>0?(T.reduce((ye,Se)=>ye+Se.rating,0)/T.length).toFixed(1):0;return c.jsxs("div",{className:"pt-6",children:[w&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold",children:z?"Edit Review":"Write a Review"}),c.jsx("button",{onClick:()=>{j(!1),R(null),B({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),c.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:U.name,onChange:ye=>B({...U,name:ye.target.value}),required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),c.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:U.contact,onChange:ye=>B({...U,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),c.jsx(Ju,{style:{maxWidth:150},value:U.rating,onChange:ye=>B({...U,rating:ye}),isRequired:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),c.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:U.comment,onChange:ye=>B({...U,comment:ye.target.value}),required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>{j(!1),R(null),B({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:z?"Update Review":"Submit Review"})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 px-2",children:[c.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?c.jsxs(c.Fragment,{children:[c.jsxs(Ra,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:h},modules:[rc,GE],className:"mb-2 rounded-lg relative",children:[($=o==null?void 0:o.images)==null?void 0:$.map((ye,Se)=>c.jsxs(ja,{children:[c.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[c.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),c.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[c.jsx("p",{children:o.colorName}),c.jsxs("p",{children:["Stock: ",o.stock]})]})]},Se)),c.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"relative mt-2",children:[c.jsx(Ra,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[rc,GE,QE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Se)=>c.jsx(ja,{children:c.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>u(ye),children:[c.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Se))}),e.colorVariants.length>4&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ra,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[rc],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:b,children:[(K=e.images)==null?void 0:K.map((ye,Se)=>c.jsx(ja,{children:c.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[c.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Se)),c.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),c.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((te=e.images)==null?void 0:te.length)>1&&c.jsx("div",{className:"relative mt-2",children:c.jsx(Ra,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[QE],className:"thumbnail-swiper",children:e.images.map((ye,Se)=>c.jsx(ja,{children:c.jsxs("div",{className:`cursor-pointer border-2 ${m===Se?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Se),x&&x.slideTo(Se)},children:[c.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Se))})})]})}),c.jsxs("div",{className:"px-2 sm:px-0",children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),c.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:c.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[c.jsx("span",{children:c.jsx(Yw,{})}),c.jsx("p",{children:"Ask for details"})]})}),c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Ju,{style:{maxWidth:100},value:G,readOnly:!0}),c.jsxs("span",{className:"ml-2 text-gray-700",children:[G," (",T.length," ",T.length===1?"review":"reviews",")"]})]}),c.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[c.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&c.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&c.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&c.jsxs("div",{className:"mb-4 sm:mb-5",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),c.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Se)=>c.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&u(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Se))})]}),((le=o==null?void 0:o.sizes)==null?void 0:le.length)>0&&c.jsxs("div",{className:"mb-4 sm:mb-5",children:[c.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Se)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(E==null?void 0:E.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${ae(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!ae(ye.stock)&&N(ye),disabled:ae(ye.stock),children:ye.size}),c.jsxs("span",{className:`text-xs mt-1 ${ae(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Se))})]}),c.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[c.jsx("span",{className:`font-medium ${se()?"text-red-500":"text-green-600"}`,children:se()?"Out of Stock":"In Stock"}),!se()&&c.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0?`${o.sizes.reduce((ye,Se)=>ye+Se.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),c.jsx("div",{children:e.productType&&c.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),c.jsxs("div",{className:"flex gap-3 mb-2",children:[c.jsx("button",{onClick:M,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${se()||((fe=o==null?void 0:o.sizes)==null?void 0:fe.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:se()||((ue=o==null?void 0:o.sizes)==null?void 0:ue.length)>0&&!E,children:"Add to Cart"}),c.jsx("button",{onClick:C,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${se()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:se()||((_e=o==null?void 0:o.sizes)==null?void 0:_e.length)>0&&!E,children:"Buy Now"})]}),c.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[c.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:c.jsx(W9,{className:"text-black text-2xl"})}),c.jsx("p",{className:"font-semibold",children:"কল করুন"}),c.jsx("p",{className:"text-black",children:"01303129042"})]})}),c.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:c.jsx(Yw,{className:"text-green-500 text-2xl"})}),c.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),c.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),c.jsxs("div",{className:"mt-8 border-t pt-6",children:[c.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[c.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("description"),children:"Description"}),c.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("reviews"),children:["Reviews (",T.length,")"]})]}),c.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?c.jsxs("div",{className:"space-y-4",children:[e.productType&&c.jsx("div",{className:"bg-blue-50 p-3 rounded-lg flex flex-wrap",children:c.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),c.jsx("div",{className:"prose max-w-none text-gray-600 break-words whitespace-pre-wrap px-2 md:px-4",children:e.description||"No description available."}),e.detailsImage&&c.jsx("div",{className:"mt-4",children:c.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[c.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[c.jsxs("h3",{className:"text-xl font-bold",children:[G," out of 5"]}),c.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:c.jsx(Ju,{style:{maxWidth:120},value:G,readOnly:!0})}),c.jsxs("p",{className:"text-gray-600",children:[T.length," ",T.length===1?"review":"reviews"]})]}),c.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),T.length>0?c.jsx("div",{className:"space-y-6 px-2 md:px-4",children:T.map(ye=>c.jsxs("div",{className:"border-b pb-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold",children:ye.name}),c.jsxs("div",{className:"flex items-center mt-1",children:[c.jsx(Ju,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),c.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>L(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),c.jsx("button",{onClick:()=>O(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),c.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),c.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),c.jsx("button",{onClick:()=>j(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},J9=()=>{const{gender:n}=Vy(),e=10,t=V.useRef(null),[r,a]=V.useState(window.innerWidth<768),[o,u]=V.useState(window.innerWidth>=768),h=w=>(typeof w!="number"&&(w=parseFloat(w)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(w)));V.useEffect(()=>{const w=()=>{const j=window.innerWidth;a(j<768),u(j>=768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const f=async({pageParam:w=null})=>{const j=w?ds(In(St,"products"),ji("gender","==",n),Mv(w),Cc(e)):ds(In(St,"products"),ji("gender","==",n),Cc(e)),U=await Fr(j),B=[];return U.forEach(z=>{const R=z.data();R.available&&R.stock>0&&B.push({id:z.id,...R})}),{products:B,lastVisible:U.docs[U.docs.length-1]}},{data:m,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:b,isLoading:E,error:N}=MN({queryKey:["products",n],queryFn:f,getNextPageParam:w=>w.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=w=>{var B;const j=JSON.parse(localStorage.getItem("cart"))||[],U=j.find(z=>z.id===w.id);U?(U.quantity+=1,nt.success(`${w.name} quantity increased in cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(j.push({id:w.id,productId:w.productId,name:w.name,price:w.discount?Math.round(w.price-w.price*(w.discount/100)):Math.round(w.price),image:w.mainImage||((B=w.images)==null?void 0:B[0]),quantity:1}),nt.success(`${w.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})),localStorage.setItem("cart",JSON.stringify(j)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},D=w=>{var U;w.isColorVariants&&((U=w.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${w.productId||w.id}`:P(w)},T=w=>{var U;w.isColorVariants&&((U=w.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${w.productId||w.id}`:(P(w),window.location.href="/cart")},S=(m==null?void 0:m.pages.flatMap(w=>w.products))||[];return E?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):N?c.jsx("div",{className:"text-center py-8",children:"Error loading products"}):c.jsxs("div",{className:"min-h-screen md:px-4 w-[100%]",ref:t,children:[c.jsx(Yv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:[n,"'s Collection"]}),S.length===0?c.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):c.jsxs(c.Fragment,{children:[c.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:S.map(w=>{var O,se;const j=w.discount&&w.discount>0,U=w.isColorVariants&&((O=w.colorVariants)==null?void 0:O.length)>0,B=r&&w.name.length>17?`${w.name.substring(0,17)}.`:w.name,z=o&&w.name.length>25?`${w.name.substring(0,25)}.`:w.name,R=r?B:z,M=r&&w.name.length>17,C=o&&w.name.length>25,k=j?Math.round(w.price-w.price*(w.discount/100)):null,L=j?k:Math.round(w.price);return c.jsxs("li",{className:"border bg-[#ffc1da] rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[c.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[c.jsxs(tt,{to:`/product/${w.productId||w.id}`,className:"relative block",children:[c.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:c.jsx("img",{src:w.mainImage||((se=w.images)==null?void 0:se[0])||"/placeholder-product.jpg",alt:w.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),w.discount!==0&&j&&c.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[w.discount,"%"]})]}),c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[R,(M||C)&&c.jsx(tt,{to:`/product/${w.productId||w.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:ae=>{ae.preventDefault(),window.location.href=`/product/${w.productId||w.id}`},children:".."})]})}),c.jsx("div",{className:"md:mt-auto",children:c.jsxs("div",{className:"flex flex-col md:space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(L)]}),c.jsx("div",{className:"text-xs text-gray-500",children:c.jsxs("del",{children:["৳",w.regularPrice]})})]}),w.productType&&c.jsxs("div",{className:"text-xs text-red-400",children:["(",w.productType,")"]})]})})]}),c.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100 space-y-2",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-1 mb-[1px]",children:[c.jsx("button",{onClick:()=>D(w),className:"w-full border border-blue-600 bg-blue-600 text-white hover:bg-red-700 hover:border-blue-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:U?"Options":"Add to Cart"}),c.jsx("button",{onClick:()=>T(w),className:"w-full border border-green-600 bg-green-600 text-white hover:bg-red-700 hover:border-green-700 py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsx("span",{className:`font-medium ${w.stock>0?"text-green-600":"text-red-500"}`,children:w.stock>0?"In Stock":"Out of Stock"}),w.stock>0&&c.jsxs("span",{className:"text-gray-500 text-[11px]",children:[w.stock," units"]})]})]})]},w.id)})}),x&&c.jsx("div",{className:"flex justify-center mt-6 mb-10",children:c.jsx("button",{onClick:()=>y(),disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:b?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},e7=()=>{const[n,e]=V.useState([]),[t,r]=V.useState("inside"),[a,o]=V.useState(0),[u,h]=V.useState(""),[f,m]=V.useState(0),[y,x]=V.useState(""),[b,E]=V.useState(!0),[N,P]=V.useState({}),D=Yo(),T=L=>{const O=typeof L=="string"?parseFloat(L):L;return Math.floor(O).toLocaleString("en-US")};V.useEffect(()=>{(async()=>{const ae=(JSON.parse(localStorage.getItem("cart"))||[]).map($=>({...$,price:typeof $.price=="string"?parseFloat($.price):$.price,deliveryCharge:typeof $.deliveryCharge>"u"?!0:$.deliveryCharge}));e(ae);const G={};for(const $ of ae)try{const K=Hn(St,"products",$.productId),te=await Ga(K);te.exists()&&(G[$.productId]=te.data())}catch(K){console.error("Error fetching product data:",K)}P(G),S(),E(!1)})();const O=se=>{if(se.detail)e(se.detail);else{const ae=JSON.parse(localStorage.getItem("cart"))||[];e(ae)}S()};return window.addEventListener("cartUpdated",O),()=>{window.removeEventListener("cartUpdated",O)}},[]);const S=async()=>{try{await new Promise(ae=>setTimeout(ae,500));const L={coxbazar:50,outOfCoxbazar:100},se=n.some(ae=>{const G=N[ae.productId];return(G==null?void 0:G.deliveryCharge)===!0||typeof(G==null?void 0:G.deliveryCharge)>"u"&&(ae.deliveryCharge===!0||typeof ae.deliveryCharge>"u")})?t==="inside"?L.coxbazar:L.outOfCoxbazar:0;o(se)}catch(L){console.error("Error fetching shipping charges:",L);const O=n.some(se=>{const ae=N[se.productId];return(ae==null?void 0:ae.deliveryCharge)===!0||typeof(ae==null?void 0:ae.deliveryCharge)>"u"&&(se.deliveryCharge===!0||typeof se.deliveryCharge>"u")});o(O?t==="inside"?50:100:0)}};V.useEffect(()=>{S()},[t,n,N]);const w=(L,O)=>{if(O<1)return;const se=n.map(ae=>ae.id===L?{...ae,quantity:O}:ae);localStorage.setItem("cart",JSON.stringify(se)),e(se),window.dispatchEvent(new Event("storage"))},j=L=>{const O=n.filter(se=>se.id!==L);localStorage.setItem("cart",JSON.stringify(O)),e(O),window.dispatchEvent(new Event("storage"))},U=()=>n.reduce((L,O)=>{const se=typeof O.price=="number"?O.price:typeof O.price=="string"?parseFloat(O.price):0;return L+Math.floor(se)*O.quantity},0),B=()=>{const L=U();return Math.floor(L+a-f)},z=L=>{r(L.target.value)},R=async()=>{if(!u.trim()){x("Please enter a coupon code");return}E(!0);try{await new Promise(O=>setTimeout(O,800));const L={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};L.valid?(m(L.discountAmount),x(`Coupon applied! Discount: ৳${T(L.discountAmount)}`)):(m(0),x(L.message))}catch(L){console.error("Error applying coupon:",L),x("Failed to apply coupon. Please try again.")}finally{E(!1)}},M=()=>{const L={cartItems:n.map(O=>({...O,price:typeof O.price=="string"?parseFloat(O.price):O.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(L)),D("/checkout",{state:L})};if(b&&n.length===0)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const C=n.some(L=>{const O=N[L.productId];return(O==null?void 0:O.deliveryCharge)===!0||typeof(O==null?void 0:O.deliveryCharge)>"u"&&(L.deliveryCharge===!0||typeof L.deliveryCharge>"u")}),k=n.filter(L=>{const O=N[L.productId];return(O==null?void 0:O.deliveryCharge)===!1||L.deliveryCharge===!1});return c.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[c.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),c.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?c.jsxs("div",{className:"text-center py-8 sm:py-12",children:[c.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),c.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),c.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),c.jsx("div",{className:"mt-3 sm:mt-4",children:c.jsx(tt,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):c.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[c.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:c.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:c.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(L=>{var G,$;const O=typeof L.price=="number"?L.price:typeof L.price=="string"?parseFloat(L.price):0;Math.floor(O)*L.quantity;const se=N[L.productId],ae=(se==null?void 0:se.deliveryCharge)===!1||L.deliveryCharge===!1;return c.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:c.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover object-center"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("div",{className:"pr-2",children:[c.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:L.name}),((G=L.color)==null?void 0:G.name)&&c.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",c.jsx("span",{className:"capitalize",children:L.color.name})]}),(($=L.size)==null?void 0:$.size)&&c.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",c.jsx("span",{className:"uppercase",children:L.size.size})]}),ae&&c.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),c.jsx("button",{onClick:()=>j(L.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:c.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[c.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",T(O)]}),c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[c.jsx("button",{onClick:()=>w(L.id,L.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:c.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),c.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:L.quantity}),c.jsx("button",{onClick:()=>w(L.id,L.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:c.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},L.id)})})})}),c.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:c.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[c.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),c.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),c.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",T(U())]})]}),C?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[c.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),c.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:z,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:z,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),c.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",T(a)]})]})]}):c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),c.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),k.length>0&&c.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[c.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),c.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:k.map(L=>{var O;return c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"mr-1",children:"•"}),c.jsx("span",{className:"line-clamp-1",children:L.name}),((O=L.size)==null?void 0:O.size)&&c.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",L.size.size,")"]})]},L.id)})})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[c.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),c.jsxs("div",{className:"flex rounded-md shadow-sm",children:[c.jsx("input",{type:"text",id:"coupon",value:u,onChange:L=>h(L.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),c.jsx("button",{onClick:R,disabled:b,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:b?c.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&c.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&c.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[c.jsx("span",{children:"Discount"}),c.jsxs("span",{children:["-৳",T(f)]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:c.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["৳",T(B())]})]})}),c.jsx("div",{className:"mt-3 sm:mt-4",children:c.jsx("button",{onClick:M,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),c.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:c.jsxs("p",{children:["or"," ",c.jsxs(tt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",c.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},t7=()=>{const n=Tr(),e=Yo(),[t,r]=V.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=V.useState({}),[u,h]=V.useState(!1),[f,m]=V.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const j=localStorage.getItem("checkoutState");return j?JSON.parse(j):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:x,shipping:b,coupon:E}=y();V.useEffect(()=>{x.length===0&&e("/cart")},[x,e]),V.useEffect(()=>{const j=async()=>{try{const U=In(St,"products"),B=await Fr(U),z=x.map(M=>M.id);let R=!1;B.forEach(M=>{z.includes(M.id)&&M.data().productType&&(R=!0)}),h(R),r(M=>({...M,paymentMethod:R?"bkash":"cash"})),m(!1)}catch(U){console.error("Error checking product types:",U),m(!1)}};x.length>0?j():m(!1)},[x]);const N=j=>{const U=typeof j=="string"?parseFloat(j):j;return Math.floor(U).toLocaleString("en-US")},P=()=>x.reduce((j,U)=>{const B=typeof U.price=="number"?U.price:typeof U.price=="string"?parseFloat(U.price):0;return j+Math.floor(B)*U.quantity},0),D=()=>{const j=P();return Math.floor(j+b.charge-E.discount)},T=j=>{const{name:U,value:B,type:z,checked:R}=j.target;r({...t,[U]:z==="checkbox"?R:B}),a[U]&&o({...a,[U]:""})},S=()=>{const j={};return t.name.trim()||(j.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(j.phone="Please enter a valid Bangladeshi phone number"):j.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(j.address="Address should be at least 10 characters"):j.address="Address is required",t.notes.length>100&&(j.notes="Notes should not exceed 100 characters"),t.agreeTerms||(j.agreeTerms="You must agree to the terms and conditions"),o(j),Object.keys(j).length===0},w=j=>{if(j.preventDefault(),!S())return;const U={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:x,shipping:b,coupon:E,subtotal:P(),total:D(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:U,hasAnyProductWithType:u}})};return f?c.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:"inline-flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c.jsx("span",{children:"Loading payment options..."})]})})}):c.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[c.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),c.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),c.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[c.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:c.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),c.jsx("form",{onSubmit:w,className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"space-y-5 md:space-y-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("label",{className:"block text-sm md:text-base font-medium text-gray-800 mb-3",children:["Payment Method ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("div",{className:"space-y-3",children:u?c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5 mt-0.5",children:c.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:T,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0})}),c.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"bKash Payment"}),c.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Required for selected products"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5 mt-0.5",children:c.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:T,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),c.jsxs("label",{htmlFor:"payment-cash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),c.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Pay when you receive your order"})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5 mt-0.5",children:c.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:T,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),c.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"bKash Payment"}),c.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Faster order processing"})]})]})]})}),u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-100 rounded-md text-sm text-amber-800",children:[c.jsx("p",{className:"font-medium",children:"Important Notice:"}),c.jsx("p",{className:"mt-1",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"})]}),c.jsx("div",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Note: Some products in your cart require bKash payment."})]})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-5 md:space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"name",className:"block text-sm md:text-base font-medium text-gray-800",children:["Full Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:T,className:`block w-full rounded-md py-2 px-3 border ${a.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Your full name"}),a.name&&c.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.name})]})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"phone",className:"block text-sm md:text-base font-medium text-gray-800",children:["Phone Number ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:"text-gray-500 text-sm md:text-base",children:"+88"})}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:j=>{const U=j.target.value.replace(/[^0-9]/g,"");T({target:{name:"phone",value:U}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md py-2 px-3 border ${a.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,pattern:"[0-9]*",inputMode:"numeric"})]}),a.phone&&c.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.phone}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 11 digits (e.g. 01712345678) with only english"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"address",className:"block text-sm md:text-base font-medium text-gray-800",children:["Delivery Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"mt-1",children:[c.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:T,className:`block w-full rounded-md py-2 px-3 border ${a.address?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"House #, Road #, Area, District"}),a.address&&c.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.address})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block text-sm md:text-base font-medium text-gray-800",children:"Order Notes (Optional)"}),c.jsxs("div",{className:"mt-1",children:[c.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:T,className:`block w-full rounded-md py-2 px-3 border ${a.notes?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Any special instructions for your order...",maxLength:100}),c.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&c.jsx("p",{className:"text-xs md:text-sm text-red-600",children:a.notes}),c.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]})]})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:T,className:`h-4 w-4 rounded ${a.agreeTerms?"border-red-300 text-red-600 focus:ring-red-500":"border-gray-300 text-blue-600 focus:ring-blue-500"} focus:ring-2`})}),c.jsxs("div",{className:"ml-3",children:[c.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm md:text-base font-medium text-gray-800",children:["I agree to the ",c.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 underline",children:"Terms and Conditions"})," ",c.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&c.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.agreeTerms})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:"Place Order"}),a.submit&&c.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:a.submit})]})]})]})})]})}),c.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:c.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),c.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[c.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[c.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[x.length," ",x.length===1?"Item":"Items"]}),c.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(j=>{var z;const U=typeof j.price=="number"?j.price:typeof j.price=="string"?parseFloat(j.price):0,B=Math.floor(U)*j.quantity;return c.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:c.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover object-center"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:j.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[j.quantity," × ৳",N(U)]}),((z=j.size)==null?void 0:z.size)&&c.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",j.size.size]})]})]}),c.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",N(B)]})]},j.id)})})]}),c.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),c.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",N(P())]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),c.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:b.charge>0?`৳${N(b.charge)} (${b.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:c.jsx("span",{className:"text-green-600",children:"Free"})})]}),E.discount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),c.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",N(E.discount),E.code&&` (${E.code})`]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:c.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["৳",N(D())]})]})})]})]})]})})]})]})})},n7=()=>{const n=Tr(),e=Yo(),{orderData:t}=n.state||{},[r,a]=V.useState({bkashNumber:"",transactionId:""}),[o,u]=V.useState({}),[h,f]=V.useState(!1),[m,y]=V.useState(!1);if(!t)return e("/checkout"),null;const x=T=>{const S=typeof T=="string"?parseFloat(T):T;return Math.floor(S).toLocaleString("en-US")},b=T=>{const{name:S,value:w}=T.target;a({...r,[S]:w}),o[S]&&u({...o,[S]:""})},E=()=>{const T={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(T.bkashNumber="Please enter a valid bKash number"):T.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(T.transactionId="Transaction ID should be at least 8 characters"):T.transactionId="Transaction ID is required",u(T),Object.keys(T).length===0},N=async T=>{try{const S=[];console.log("Items to update:",T);for(const w of T){const j=Hn(St,"products",w.id),U=await Ga(j);if(!U.exists()){console.warn(`Product not found: ${w.id}`);continue}const B=U.data();console.log(`Product data for ${w.id}:`,B);let z={};if(w.color&&w.size&&B.colorVariants){console.log(`Updating with color and size for ${w.id}`,w);const R=B.colorVariants.map(M=>M);console.log("Updated color variants:",R),z={colorVariants:R,stock:(B.stock||0)-w.quantity}}else if(w.color&&B.colorVariants&&!w.size){console.log(`Updating with only color for ${w.id}`,w);const R=B.colorVariants.map(M=>M.colorName===w.color.name?{...M,stock:(M.stock||0)-w.quantity}:M);console.log("Updated color variants:",R),z={colorVariants:R,stock:(B.stock||0)-w.quantity}}else console.log(`Updating regular product ${w.id}`,w),z={stock:(B.stock||0)-w.quantity};S.push(Ld(j,z))}await Promise.all(S),console.log("All stock updates completed successfully")}catch(S){throw console.error("Error updating product stock:",S),S}},P=async(T,S,w,j,U,B)=>{try{const z=`dear ${w}, your #${T} মোট: ৳${x(U)}। পণ্য: ${j.slice(0,3).map(O=>O.name).join(", ")}${j.length>3?` এবং আরো ${j.length-3}টি`:""}। helpline 01783694568`,R=B==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",M=`নতুন অর্ডার #${T}
গ্রাহক: ${w}
মোবাইল: ${S}
পণ্য: ${j.map(O=>`${O.name} (${O.quantity}x)`).join(", ")}
মোট: ৳${x(U)}
পেমেন্ট: ${R}`,C={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${S.replace(/^0/,"")}`,message:z},{to:"8801783694568",message:M}]},L=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();if(console.log("SMS API রেস্পন্স:",L),L.error_message)throw new Error(L.error_message);return L}catch(z){console.error("SMS পাঠানোর সময় ত্রুটি:",z)}},D=async()=>{if(!(t.paymentMethod==="bkash"&&!E())){f(!0);try{await N(t.items);const T=Hn(St,"orders",t.customer.phone),S=`${Date.now()}`.slice(-6),w={...t,orderStatus:!1,orderId:S,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(w.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await Ga(T)).exists()?await Ac(T,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:dO(w),updatedAt:new Date().toISOString()},{merge:!0}):await Ac(T,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[w],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await P(S,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(T){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",T)}finally{f(!1)}}};return m?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:c.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",c.jsx("span",{className:"font-medium",children:t.customer.phone})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),c.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),c.jsxs("div",{className:"px-6 py-4",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),c.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((T,S)=>{var j,U;const w=Math.floor(T.price)*T.quantity;return c.jsxs("li",{className:"py-4 flex justify-between",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:c.jsx("img",{src:T.image,alt:T.name,className:"w-full h-full object-cover object-center"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.name}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.quantity," × ৳",x(T.price)]}),((j=T.size)==null?void 0:j.size)&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",T.size.size]}),((U=T.color)==null?void 0:U.color)&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",T.color.color]})]})]}),c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",x(w)]})]},S)})})]}),c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",x(t.subtotal)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${x(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:c.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),c.jsxs("span",{className:"text-sm font-medium",children:["-৳",x(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:c.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[c.jsx("span",{children:"মোট"}),c.jsxs("span",{children:["৳",x(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-red-100 overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:[c.jsxs("h2",{className:"text-lg font-bold text-red-800 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"bKash পেমেন্ট ডিটেইলস (অত্যন্ত গুরুত্বপূর্ণ)"]}),c.jsx("p",{className:"mt-1 text-sm text-red-700",children:"সাবধানতার সাথে সঠিক তথ্য প্রদান করুন"})]}),c.jsx("div",{className:"px-6 py-4",children:c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-900 mb-1",children:["আপনার bKash নাম্বার ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative rounded-md shadow-sm",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:"text-gray-700 font-medium",children:"+88"})}),c.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:T=>{const S=T.target.value.replace(/[^0-9]/g,"");b({target:{name:"bkashNumber",value:S}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2.5 rounded-md border-2 ${o.bkashNumber?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,pattern:"[0-9]*",inputMode:"numeric",onBlur:()=>{r.bkashNumber&&!/^01[3-9]\d{8}$/.test(r.bkashNumber)&&u({...o,bkashNumber:"সঠিক ১১ ডিজিটের bKash নম্বর দিন (01XXXXXXXXX)"})}})]}),o.bkashNumber?c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.bkashNumber]}):c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"অবশ্যই 11 ডিজিটের সঠিক bKash নম্বর দিন (যেমন: 01712345678)"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-900 mb-1",children:["ট্রানজেকশন আইডি (TrxID) ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:b,className:`block w-full py-2.5 px-3 rounded-md border-2 ${o.transactionId?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,placeholder:"ট্রানজেকশন আইডি লিখুন (যেমন: 8A7D6F5G4H)",onBlur:()=>{r.transactionId||u({...o,transactionId:"ট্রানজেকশন আইডি দিন"})}}),o.transactionId&&c.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.transactionId]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[c.jsxs("h3",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"পেমেন্ট নির্দেশাবলী:"]}),c.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[c.jsxs("li",{className:"flex",children:[c.jsx("span",{className:"font-bold mr-2",children:"1."}),c.jsxs("span",{children:["bKash নম্বর: ",c.jsx("strong",{className:"text-blue-900",children:"01783694568"})," এ ৳",x(t.total)," পাঠান"]})]}),c.jsxs("li",{className:"flex",children:[c.jsx("span",{className:"font-bold mr-2",children:"2."}),c.jsx("span",{children:"উপরে আপনার bKash নম্বর এবং সঠিক ট্রানজেকশন আইডি লিখুন"})]}),c.jsxs("li",{className:"flex",children:[c.jsx("span",{className:"font-bold mr-2",children:"3."}),c.jsx("span",{className:"text-red-600 font-semibold",children:"ভুল তথ্য দিলে আপনার পেমেন্ট গ্রহণ করা হবে না"})]})]})]}),c.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200 text-sm text-yellow-800",children:[c.jsxs("p",{className:"font-bold flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"গুরুত্বপূর্ণ নোট:"]}),c.jsx("p",{className:"mt-1",children:"আপনার পেমেন্ট যাচাই করার জন্য আমরা আপনার প্রদত্ত নম্বরে কল করতে পারি। অনুগ্রহ করে সঠিক তথ্য প্রদান করুন।"})]})]})})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),c.jsx("div",{className:"px-6 py-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?c.jsxs("span",{className:"inline-flex items-center",children:[c.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),c.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:c.jsx("div",{className:"px-6 py-4",children:c.jsx("button",{onClick:D,disabled:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:h?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},r7=()=>{const[n,e]=V.useState([]),[t,r]=V.useState(!0),[a,o]=V.useState(""),[u,h]=V.useState(null),[f,m]=V.useState(!0),[y,x]=V.useState(!1),[b]=V.useState(10),[E,N]=V.useState(null),[P,D]=V.useState({name:"",price:"",discount:0,description:"",category:"",mainImage:"",colorVariants:[]});V.useEffect(()=>{(async()=>{try{r(!0);const k=In(St,"products"),L=ds(k,iy("name"),Cc(b)),O=await Fr(L),se=O.docs.map(G=>T(G));e(se);const ae=O.docs[O.docs.length-1];h(ae),m(O.docs.length===b),x(!0)}catch(k){console.error("Error fetching products: ",k)}finally{r(!1)}})()},[b]);const T=C=>{const k=C.data();return{id:C.id,name:k.name||"",price:k.price||0,discount:k.discount||0,description:k.description||"",category:k.category||"",mainImage:k.mainImage||"",colorVariants:Array.isArray(k.colorVariants)?k.colorVariants.map(L=>({colorName:L.colorName||"",thumbnail:L.thumbnail||"",images:Array.isArray(L.images)?L.images:[],sizes:Array.isArray(L.sizes)?L.sizes.map(O=>({size:O.size||"",stock:Number(O.stock)||0})):[],stock:Number(L.stock)||0})):[]}},S=async()=>{if(!(!u||!f)){r(!0);try{const C=In(St,"products"),k=ds(C,iy("name"),Mv(u),Cc(b)),L=await Fr(k),O=L.docs.map(ae=>T(ae));e(ae=>[...ae,...O]);const se=L.docs[L.docs.length-1];h(se),m(L.docs.length===b)}catch(C){console.error("Error loading more products: ",C)}finally{r(!1)}}},w=n.filter(C=>{if(!a)return!0;const k=a.toLowerCase();return(C.name||"").toLowerCase().includes(k)||(C.category||"").toLowerCase().includes(k)||(C.description||"").toLowerCase().includes(k)}),j=C=>{N(C.id),D({name:C.name||"",price:C.price||0,discount:C.discount||0,description:C.description||"",category:C.category||"",mainImage:C.mainImage||"",colorVariants:Array.isArray(C.colorVariants)?C.colorVariants.map(k=>({...k,sizes:Array.isArray(k.sizes)?k.sizes.map(L=>({...L,stock:Number(L.stock)||0})):[]})):[]})},U=C=>{const{name:k,value:L}=C.target;(k==="price"||k==="discount")&&!/^[0-9]*\.?[0-9]*$/.test(L)&&L!==""||D({...P,[k]:L})},B=(C,k,L)=>{const O=[...P.colorVariants||[]];O[C]||(O[C]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),k==="images"?O[C][k]=L.split(",").map(se=>se.trim()):O[C][k]=L,D({...P,colorVariants:O})},z=(C,k,L)=>{if(!/^\d*$/.test(L))return;const O=[...P.colorVariants||[]];O[C]||(O[C]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),Array.isArray(O[C].sizes)||(O[C].sizes=[]),O[C].sizes[k]||(O[C].sizes[k]={size:"",stock:0}),O[C].sizes[k].stock=parseInt(L)||0;const se=O[C].sizes.reduce((ae,G)=>ae+(G.stock||0),0);O[C].stock=se,D({...P,colorVariants:O})},R=async C=>{C.preventDefault();try{const k=Hn(St,"products",E);await Ld(k,P),e(n.map(L=>L.id===E?{...L,...P}:L)),N(null),alert("Product updated successfully!")}catch(k){console.error("Error updating product: ",k),alert("Error updating product")}},M=async C=>{if(window.confirm("Are you sure you want to delete this product?"))try{await kS(Hn(St,"products",C)),e(n.filter(k=>k.id!==C)),alert("Product deleted successfully!")}catch(k){console.error("Error deleting product: ",k),alert("Error deleting product")}};return t&&!y?c.jsx("div",{className:"flex justify-center items-center h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6",children:[c.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Product Management"}),c.jsx("div",{className:"mb-4 sm:mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"Search by name, category or description...",className:"w-full p-2 sm:p-3 pl-8 sm:pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",value:a,onChange:C=>o(C.target.value)}),c.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 text-gray-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),c.jsxs("div",{className:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600",children:["Showing ",w.length," ",w.length===1?"product":"products",a&&` matching "${a}"`,!a&&` (${f?"first":""} ${n.length} of all products)`]}),c.jsx("div",{className:"grid gap-4 sm:gap-6",children:w.length===0?c.jsxs("div",{className:"text-center py-6 sm:py-10",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-500",children:"No products found"}),a&&c.jsx("button",{onClick:()=>o(""),className:"mt-2 text-sm sm:text-base text-blue-600 hover:text-blue-800",children:"Clear search"})]}):c.jsxs(c.Fragment,{children:[w.map(C=>c.jsx("div",{className:"w-[450px] sm:w-[100%] border border-red-600 rounded-lg p-3 sm:p-4 md:p-6 shadow-sm bg-white for_res",children:E===C.id?c.jsxs("form",{onSubmit:R,className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[c.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold mb-3 sm:mb-4",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",name:"name",value:P.name,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Category *"}),c.jsx("input",{type:"text",name:"category",value:P.category,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Price *"}),c.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"price",value:P.price,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),c.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"discount",value:P.discount,onChange:U,min:"0",max:"100",className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]}),c.jsxs("div",{className:"mt-3 sm:mt-4",children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Description *"}),c.jsx("textarea",{name:"description",value:P.description,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:"3",required:!0})]}),c.jsxs("div",{className:"mt-3 sm:mt-4",children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Main Image URL *"}),c.jsx("input",{type:"text",name:"mainImage",value:P.mainImage,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),P.mainImage&&c.jsx("div",{className:"mt-1 sm:mt-2",children:c.jsx("img",{src:P.mainImage,alt:"Preview",className:"h-16 sm:h-20 object-cover rounded border",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/150?text=Image+Error"}})})]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[c.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:c.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold",children:"Color Variants"})}),(P.colorVariants||[]).map((k,L)=>{var O;return c.jsxs("div",{className:"border border-gray-200 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4 bg-white",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Color Name *"}),c.jsx("input",{type:"text",value:k.colorName||"",onChange:se=>B(L,"colorName",se.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Total Stock"}),c.jsx("input",{type:"text",value:k.stock||0,readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-sm sm:text-base"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Thumbnail URL *"}),c.jsx("input",{type:"text",value:k.thumbnail||"",onChange:se=>B(L,"thumbnail",se.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),k.thumbnail&&c.jsx("div",{className:"mt-1 sm:mt-2",children:c.jsx("img",{src:k.thumbnail,alt:"Thumbnail Preview",className:"h-12 sm:h-16 object-cover rounded border",onError:se=>{se.target.onerror=null,se.target.src="https://via.placeholder.com/100?text=Thumbnail+Error"}})})]})]}),c.jsxs("div",{className:"mb-3 sm:mb-4",children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Image URLs (comma separated) *"}),c.jsx("input",{type:"text",value:(k.images||[]).join(", "),onChange:se=>B(L,"images",se.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),c.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-2",children:(O=k.images)==null?void 0:O.map((se,ae)=>c.jsx("img",{src:se,alt:`Preview ${ae}`,className:"h-10 sm:h-12 object-cover rounded border",onError:G=>{G.target.onerror=null,G.target.src="https://via.placeholder.com/50?text=Image+Error"}},ae))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Sizes and Stock"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:(k.sizes||[]).map((se,ae)=>c.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[c.jsxs("div",{className:"mb-1 sm:mb-2",children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Size"}),c.jsx("input",{type:"text",value:se.size||"",readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-xs sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),c.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:se.stock||0,onChange:G=>z(L,ae,G.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm",required:!0})]})]},ae))})]})]},L)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[c.jsx("button",{type:"button",onClick:()=>N(null),className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors text-sm sm:text-base",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base",children:"Save Changes"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold",children:C.name||"Unnamed Product"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[C.discount>0&&c.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full text-xs",children:[C.discount,"% OFF"]}),c.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full text-xs",children:C.category||"Uncategorized"})]})]}),c.jsxs("div",{className:"flex space-x-1 sm:space-x-2 mt-2 sm:mt-0",children:[c.jsx("button",{onClick:()=>j(C),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-colors text-xs sm:text-sm",children:"Edit"}),c.jsx("button",{onClick:()=>M(C.id),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs sm:text-sm",children:"Delete"})]})]}),C.mainImage&&c.jsx("div",{className:"mb-3 sm:mb-4",children:c.jsx("img",{src:C.mainImage,alt:C.name||"Product image",className:"w-full h-40 sm:h-48 md:h-64 object-cover rounded-lg",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/600x400?text=Image+Not+Available"}})}),c.jsx("p",{className:"text-gray-600 break-words mb-3 sm:mb-4 text-xs sm:text-sm",children:C.description||"No description available"}),c.jsx("div",{className:"flex items-center mb-3 sm:mb-4",children:C.discount>0?c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-500 line-through",children:["$",C.price||0]}),c.jsxs("span",{className:"text-sm sm:text-base font-semibold text-red-600",children:["$",(C.price*(1-C.discount/100)).toFixed(2)]})]}):c.jsxs("span",{className:"text-sm sm:text-base font-semibold",children:["$",C.price||0]})}),c.jsxs("div",{className:"mt-3 sm:mt-4",children:[c.jsx("h3",{className:"font-medium mb-1 sm:mb-2 text-xs sm:text-sm",children:"Color Variants:"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:(C.colorVariants||[]).map((k,L)=>c.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-1 sm:mb-2 gap-1 sm:gap-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full mr-1 sm:mr-2 border border-gray-300",style:{backgroundColor:(k.colorName||"").toLowerCase()}}),c.jsx("span",{className:"font-medium text-xs sm:text-sm",children:k.colorName||"No color name"})]}),c.jsxs("span",{className:"sm:ml-auto text-xs sm:text-sm",children:["Stock: ",k.stock||0]})]}),k.thumbnail&&c.jsx("img",{src:k.thumbnail,alt:`${k.colorName} thumbnail`,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded mb-1 sm:mb-2",onError:O=>{O.target.onerror=null,O.target.src="https://via.placeholder.com/100?text=Thumbnail"}}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-medium mb-1",children:"Sizes:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:(k.sizes||[]).map((O,se)=>c.jsxs("span",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:[O.size||"N/A",": ",O.stock||0]},se))})]})]},L))})]})]})},C.id)),f&&!a&&c.jsx("div",{className:"flex justify-center mt-4 sm:mt-6",children:c.jsx("button",{onClick:S,disabled:t,className:`px-4 py-1.5 sm:px-6 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base ${t?"opacity-70 cursor-not-allowed":""}`,children:t?c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})}),!f&&!a&&n.length>0&&c.jsx("div",{className:"text-center py-3 sm:py-4 text-xs sm:text-sm text-gray-500",children:"You've reached the end of the product list."})]})})]})};function s7(){return c.jsx("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:c.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[c.jsx("div",{className:"text-xl font-bold text-center md:text-left",children:"Admin Panel"}),c.jsxs("ul",{className:"flex flex-wrap justify-center md:justify-end gap-4 text-sm font-medium",children:[c.jsx("li",{children:c.jsx(tt,{to:"product-update",className:"hover:text-yellow-300",children:"Product Update"})}),c.jsx("li",{children:c.jsx(tt,{to:"upload-products",className:"hover:text-yellow-300",children:"Product Upload"})}),c.jsx("li",{children:c.jsx(tt,{to:"product-category",className:"hover:text-yellow-300",children:"Category Update"})}),c.jsx("li",{children:c.jsx(tt,{to:"headline-update",className:"hover:text-yellow-300",children:"Headline Update"})}),c.jsx("li",{children:c.jsx(tt,{to:"banner-update",className:"hover:text-yellow-300",children:"Banner Update"})}),c.jsx("li",{children:c.jsx(tt,{to:"order-cart",className:"hover:text-yellow-300",children:"Dashbroad"})})]})]})})}const i7=()=>c.jsxs("div",{className:"min-h-screen bg-gray-100",children:[c.jsx(s7,{}),c.jsx("div",{className:"pt-10 p-0 md:p-2",children:c.jsx(L2,{})})]}),a7=()=>{const[n,e]=V.useState(""),[t,r]=V.useState(!1),[a,o]=V.useState(""),[u,h]=V.useState(""),[f,m]=V.useState("");V.useEffect(()=>{(async()=>{r(!0),o("");try{const b=await Fr(In(St,"headline"));if(b.empty)o("No documents found in headline collection");else{const E=b.docs[0];m(E.id),e(E.data().news||"")}}catch(b){o("Failed to fetch headline: "+b.message),console.error("Error fetching documents: ",b)}finally{r(!1)}})()},[]);const y=async x=>{if(x.preventDefault(),!f){o("No document found to update");return}r(!0),o(""),h("");try{const b=Hn(St,"headline",f);await Ld(b,{news:n}),h("News updated successfully!")}catch(b){o("Failed to update news: "+b.message),console.error("Error updating document: ",b)}finally{r(!1)}};return c.jsxs("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Update Headline News"}),t&&c.jsx("div",{className:"mb-4 text-blue-600",children:"Loading..."}),a&&c.jsx("div",{className:"mb-4 text-red-600",children:a}),u&&c.jsx("div",{className:"mb-4 text-green-600",children:u}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"news",className:"block text-sm font-medium text-gray-700 mb-1",children:"News Content *"}),c.jsx("textarea",{id:"news",value:n,onChange:x=>e(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"6",placeholder:"Enter news content here...",required:!0,disabled:t})]}),c.jsx("button",{type:"submit",disabled:t,className:`px-4 py-2 rounded-md text-white ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:t?"Updating...":"Update News"})]})]})};function o7(n){const[e,t]=V.useState(!0),[r,a]=V.useState(null),[o,u]=V.useState(!1),h=()=>{t(!1),u(!0)};return V.useEffect(()=>{if(!document){const x=new Error(`[ScriptLoadingError] document not defined when attempting to load ${n}`);a(x);return}const f=document.querySelector(`script[src="${n}"]`);if(f!=null&&f.dataset.loaded){h();return}const m=f||document.createElement("script");f||(m.src=n);const y=()=>{m.dataset.loaded="1",h()};m.addEventListener("load",y),m.addEventListener("error",x=>{console.error("Failed to load script:",n,x);const b=new Error(`[ScriptLoadingError] Failed to load script: ${n}`);a(b)}),f||document.head.append(m)},[]),{isLoading:e,error:r,isSuccess:o}}const l7=n=>n&&n.charts,s2=(n,e)=>{const{controls:t,toolbarItems:r,getChartEditor:a}=n;return e&&e.charts&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!t||e.visualization.ChartWrapper)&&(!a||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)},c7=n=>window.google;function u7(n){const{chartVersion:e="current",chartPackages:t=["corechart","controls"],chartLanguage:r="en",mapsApiKey:a}=n,[o,u]=V.useState(null),[h,f]=V.useState(null),[m,y]=V.useState(null),{isLoading:x,error:b,isSuccess:E}=o7(n.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return V.useEffect(()=>{if(!E)return;const N=c7();if(!l7(N)){const P=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");f(P);return}if(s2(n,N)){u(N);return}N.charts.load(e,{packages:t,language:r,mapsApiKey:a}),N.charts.setOnLoadCallback(()=>{if(!s2(n,N)){const P=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(P),y(P);return}u(N)})},[E]),{error:b||h||m,isLoading:x,google:o}}const hC={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},d7=n=>{const{isReady:e,chartControls:t,filter:r}=n;return!e||!t||!(t!=null&&t.length)?null:Ve.createElement(Ve.Fragment,null,t.filter(a=>{let{controlProp:o,control:u}=a;return r?r({control:u,controlProp:o}):!0}).map(a=>{let{control:o}=a;return Ve.createElement("div",{key:o.getContainerId(),id:o.getContainerId()})}))};let i2=0;const fC=()=>(i2+=1,`reactgooglegraph-${i2}`),Ks=class Ks{};bs(Ks,"initializeControls",e=>{for(let t=0;t<e.length;t+=1){const{controlType:r,options:a,controlWrapperParams:o}=e[t].controlProp;o&&"state"in o&&e[t].control.setState(o.state),e[t].control.setOptions(a),e[t].control.setControlType(r)}}),bs(Ks,"listenToControlEvents",(e,t)=>{const{google:r}=t;return e.flatMap(a=>{const{control:o,controlProp:u}=a,{controlEvents:h=[]}=u;return h.map(f=>{const{callback:m,eventName:y}=f;return r.visualization.events.addListener(o,y,function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];m({chartWrapper:null,controlWrapper:o,props:t,google:r,eventArgs:b})})})})}),bs(Ks,"createControlId",e=>{let t;return typeof e>"u"?t=`googlechart-control-${fC()}`:t=e,t}),bs(Ks,"createChartControls",e=>{const{controls:t,google:r}=e;return t?t.map((a,o)=>{const{controlID:u,controlType:h,options:f,controlWrapperParams:m}=a,y=Ks.createControlId(u);return{controlProp:a,control:new r.visualization.ControlWrapper({containerId:y,controlType:h,options:f,...m})}}):null}),bs(Ks,"addControls",e=>{const{chartWrapper:t,chartDashboard:r}=e,a=Ks.createChartControls(e);return!a||!r||!t?null:(r.bind(a.map(o=>{let{control:u}=o;return u}),t),Ks.initializeControls(a),a)});let gm=Ks;const h7=n=>{const[e,t]=V.useState(null);return[V.useMemo(()=>!e||!n?null:n.map((a,o)=>{const u=e[o];return u?{controlProp:a,control:u}:void 0}).flatMap(a=>a?[a]:[]),[e,n]),t]},f7=(n,e)=>{V.useEffect(()=>{const t=gm.listenToControlEvents(n??[],e);return()=>{t.forEach(r=>{e.google.visualization.events.removeListener(r)})}},[n,e])},m7=n=>{const[e,t]=h7(n.controls);return f7(e??[],n),{addControls:a=>{const o=gm.addControls(a);t((o==null?void 0:o.map(u=>u.control))??null)},renderControl:a=>{const{chartWrapper:o,chartDashboard:u}=n;return V.createElement(d7,{...n,isReady:!!(o&&u),chartControls:e,filter:a})}}},p7=n=>{const e=V.useRef(null);return{chartId:(()=>{const{graphID:a,graph_id:o}=n,u=a||o;let h;return u?h=u:h=e.current||fC(),e.current=h,e.current})()}},g7=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],y7=async function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,a)=>{const o=`${t.headers?`headers=${t.headers}`:"headers=0"}`,u=`${t.query?`&tq=${encodeURIComponent(t.query)}`:""}`,h=`${t.gid?`&gid=${t.gid}`:""}`,f=`${t.sheet?`&sheet=${t.sheet}`:""}`,m=`${t.access_token?`&access_token=${t.access_token}`:""}`,y=`${o}${h}${f}${u}${m}`,x=`${e}/gviz/tq?${y}`;new n.visualization.Query(x).send(E=>{E.isError()?a(`Error in query:  ${E.getMessage()} ${E.getDetailedMessage()}`):r(E.getDataTable())})})},v7="#CCCCCC",is=class is{};bs(is,"grayOutHiddenColumnsLabel",(e,t)=>{const{googleChartWrapper:r,options:a}=e;if(!r){console.error("googleChartWrapper is not defined");return}const o=r.getDataTable();if(!o)return;const u=o.getNumberOfColumns();if(t.length>0===!1)return;const f=Array.from({length:u-1}).map((m,y)=>{const x=is.getColumnId(o,y+1);return t.includes(x)?v7:a&&a.colors?a.colors[y]:g7[y]});r.setOptions({...a,colors:f}),r.draw()}),bs(is,"listenToLegendToggle",(e,t)=>{const[r,a]=t,{google:o,googleChartWrapper:u}=e;if(!u){console.error("googleChartWrapper is not defined");return}return o.visualization.events.addListener(u,"select",()=>{const f=u.getChart().getSelection(),m=u.getDataTable();if(f.length===0||f[0].row!==null||!m)return;const y=f[0].column,x=is.getColumnId(m,y);r!=null&&r.includes(x)?a(b=>[...b.filter(E=>E!==x)]):a(b=>[...b,x])})}),bs(is,"draw",async e=>{const{data:t,diffdata:r,rows:a,columns:o,options:u,chartType:h,formatters:f,spreadSheetUrl:m,spreadSheetQueryParameters:y,googleChartDashboard:x,googleChartWrapper:b,google:E,hiddenColumns:N,legendToggle:P,legend_toggle:D}=e;if(!b){console.error("draw was called with googleChartWrapper = null");return}let T,S=null;if(r){const z=E.visualization.arrayToDataTable(r.old),R=E.visualization.arrayToDataTable(r.new);S=E.visualization[h].prototype.computeDiff(z,R)}t?t instanceof E.visualization.DataTable?T=t:Array.isArray(t)?T=E.visualization.arrayToDataTable(t):T=new E.visualization.DataTable(t):a&&o?T=E.visualization.arrayToDataTable([o,...a]):m?T=await y7(E,m,y):T=E.visualization.arrayToDataTable([]);const w=T.getNumberOfColumns(),j=Array(w).fill(0).map((z,R)=>{const M=is.getColumnId(T,R);return N.includes(M)?{label:T.getColumnLabel(R),type:T.getColumnType(R),calc:()=>null}:R}),U=b.getChart();b.getChartType()==="Timeline"&&U&&U.clearChart(),b.setChartType(h),b.setOptions(u||{});const B=new E.visualization.DataView(T);B.setColumns(j),b.setDataTable(B),b.draw(),x&&x.draw(T),S&&(b.setDataTable(S),b.draw()),f&&(is.applyFormatters({dataTable:T,formatters:f,google:E}),b.setDataTable(T),b.draw()),(P===!0||D===!0)&&is.grayOutHiddenColumnsLabel(e,N)}),bs(is,"getColumnId",(e,t)=>e.getColumnId(t)||e.getColumnLabel(t)),bs(is,"applyFormatters",e=>{let{dataTable:t,formatters:r,google:a}=e;for(let o of r)switch(o.type){case"ArrowFormat":{new a.visualization.ArrowFormat(o.options).format(t,o.column);return}case"BarFormat":{new a.visualization.BarFormat(o.options).format(t,o.column);return}case"ColorFormat":{const u=new a.visualization.ColorFormat(o.options),{ranges:h}=o;if(h)for(let f of h)u.addRange(...f);u.format(t,o.column);return}case"DateFormat":{new a.visualization.DateFormat(o.options).format(t,o.column);return}case"NumberFormat":{new a.visualization.NumberFormat(o.options).format(t,o.column);return}case"PatternFormat":{new a.visualization.PatternFormat(o.options).format(t,o.column);return}default:{console.warn(`Unknown formatter type: ${o.type}`);return}}});let id=is;const x7=n=>{const{google:e,googleChartWrapper:t,googleChartDashboard:r}=n,[a,o]=V.useState([]);V.useEffect(()=>{t&&id.draw({...n,hiddenColumns:a,googleChartWrapper:t,googleChartDashboard:r,google:e})},[a,n.data,n.rows,n.columns,n.options,n.chartLoaderScriptUrl,n.chartType,n.formatters,n.spreadSheetUrl,n.spreadSheetQueryParameters,n.legendToggle,n.legend_toggle]);const u=()=>{const{googleChartWrapper:m}=n;m&&m.draw()},h=m=>{const y=[],{legendToggle:x,legend_toggle:b}=n;if(id.draw({...n,hiddenColumns:a,googleChartWrapper:m,googleChartDashboard:r,google:e}),window.addEventListener("resize",u),b||x){const E=id.listenToLegendToggle(n,[a,o]);E&&y.push(E)}return y},f=(m,y)=>{window.removeEventListener("resize",u),y.forEach(x=>{e.visualization.events.removeListener(x)}),m.getChartType()==="Timeline"&&m.getChart()&&m.getChart().clearChart()};V.useEffect(()=>{if(!t)return;const m=h(t);return()=>{f(t,m)}},[t,h,f])},b7=n=>{const{chartEvents:e,google:t,googleChartWrapper:r}=n;if(e){if(!r){console.warn("listenToEvents was called before chart wrapper ready.");return}return e.map(a=>{let{eventName:o,callback:u}=a;return t.visualization.events.addListener(r,o,function(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];u({chartWrapper:r,props:n,google:t,eventArgs:f})})})}},w7=n=>{V.useEffect(()=>{if(!n.googleChartWrapper)return;const e=b7(n);return()=>{e==null||e.forEach(t=>{n.google.visualization.events.removeListener(t)})}},[n])},_7=n=>{const[e,t]=V.useState(null),[r,a]=V.useState(null),{addControls:o,renderControl:u}=m7({...n,chartDashboard:r,chartWrapper:e});w7({...n,googleChartWrapper:e});const{chartId:h}=p7(n),f=V.useRef(null),m=V.useRef(null);V.useEffect(()=>{const{options:T,google:S,chartType:w,chartWrapperParams:j,toolbarItems:U,getChartEditor:B,getChartWrapper:z,onLoad:R}=n,M={chartType:w,options:T,containerId:h,...j},C=new S.visualization.ChartWrapper(M);C.setOptions(T||{}),z==null||z(C,S);const k=new S.visualization.Dashboard(f.current);U&&S.visualization.drawToolbar(m.current,U);let L=null;B&&(L=new S.visualization.ChartEditor,B({chartEditor:L,chartWrapper:C,google:S})),o({...n,chartDashboard:k,chartWrapper:C}),t(C),a(k),R==null||R(S,{google:S,chartWrapper:C,chartEditor:L,chartDashboard:k})},[]),x7({...n,googleChartWrapper:e,googleChartDashboard:r});const y=()=>{const{width:T,height:S,options:w,style:j,className:U,rootProps:B,google:z}=n,R={height:S||w&&w.height,width:T||w&&w.width,...j};return V.createElement("div",{id:h,style:R,className:U,...B})},x=()=>n.toolbarItems?V.createElement("div",{ref:m}):null,{width:b,height:E,options:N,style:P}=n,D={height:E||N&&N.height,width:b||N&&N.width,...P};return n.render?V.createElement("div",{ref:f,style:D},V.createElement("div",{ref:m,id:"toolbar"}),n.render({renderChart:y,renderControl:u,renderToolbar:x})):V.createElement("div",{ref:f,style:D},u(T=>{let{controlProp:S}=T;return S.controlPosition!=="bottom"}),y(),u(T=>{let{controlProp:S}=T;return S.controlPosition==="bottom"}),x())},E7=V.createContext(hC),T7=n=>{let{children:e,value:t}=n;return V.createElement(E7.Provider,{value:t},e)},S7=n=>{const{google:e,isLoading:t,error:r}=u7(n);return t?n.loader??null:r?n.errorElement??null:e?Ve.createElement(_7,{google:e,...n}):null},N7=n=>{const e={...hC,...n};return Ve.createElement(T7,{value:e},Ve.createElement(S7,e))};var a2;(function(n){n.annotation="annotation",n.annotationText="annotationText",n.certainty="certainty",n.emphasis="emphasis",n.interval="interval",n.scope="scope",n.style="style",n.tooltip="tooltip",n.domain="domain"})(a2||(a2={}));const o2=()=>{const[n,e]=V.useState([]),[t,r]=V.useState([]),[a,o]=V.useState("all"),[u,h]=V.useState(!0),[f,m]=V.useState(0),[y,x]=V.useState(!1),[b,E]=V.useState({confirmed:0,pending:0,completed:0,cancelled:0,unknown:0,chartData:[],cancelCount:0}),[N,P]=V.useState({}),D=C=>{var k;return C.cancelled===!0?"cancelled":C.orderStatus===!1?"pending":C.orderStatus===!0?"completed":((k=C.shipping)==null?void 0:k.status)||"unknown"},T=C=>{if(o(C),C==="all")r(n);else{const k=n.filter(L=>D(L)===C);r(k)}},S=async(C,k,L)=>{try{P(ae=>({...ae,[`${C}-${k}`]:!0}));const O=Hn(St,"orders",C),se=await Ga(O);if(se.exists()){const ae=se.data();if(ae&&ae.orderInfo){const G=ae.orderInfo.map($=>$.orderId===k?{...$,...L}:$);await Ld(O,{orderInfo:G}),alert("Order status updated successfully!")}}else alert("Order document not found!")}catch(O){console.error("Error updating order status:",O),alert("Failed to update order status. Please try again.")}finally{P(O=>({...O,[`${C}-${k}`]:!1}))}},w=async(C,k)=>{await S(C,k,{orderStatus:!0})},j=async(C,k)=>{await S(C,k,{cancelled:!0,cancelledAt:new Date().toISOString()})};V.useEffect(()=>{(async()=>{try{const k=In(St,"orders"),L=ds(k),O=PS(L,se=>{const ae=[];let G=0;if(se.forEach($=>{const K=$.data();K.orderInfo&&Array.isArray(K.orderInfo)&&K.orderInfo.forEach(te=>{te.orderId&&te.confirmedAt&&(te.cancelled===!0&&G++,ae.push({id:te.orderId,phone:$.id,...te,shipping:te.shipping||{status:"unknown",charge:0}}))})}),ae.sort(($,K)=>new Date(K.confirmedAt)-new Date($.confirmedAt)),e(ae),r(ae),n.length>0&&ae.length>n.length){const $=ae.length-n.length;m($),x(!0)}U(ae,G),h(!1)});return()=>O()}catch(k){console.error("Error fetching orders:",k),h(!1)}})()},[n.length]);const U=(C,k)=>{const L=new Date,O=L.getMonth(),se=L.getFullYear(),ae=C.filter(te=>{try{const H=new Date(te.confirmedAt);return H.getMonth()===O&&H.getFullYear()===se}catch{return!1}}),G=ae.reduce((te,H)=>{const le=D(H);return te[le]=(te[le]||0)+1,te},{}),$=ae.reduce((te,H)=>{try{const ge=new Date(H.confirmedAt).getDate();te[ge]||(te[ge]={confirmed:0,pending:0,completed:0,cancelled:0,unknown:0});const fe=D(H);return te[ge][fe]+=1,te}catch{return te}},{}),K=[["Day","Confirmed","Pending","Completed","Cancelled","Unknown"],...Object.entries($).map(([te,H])=>[parseInt(te),H.confirmed,H.pending||0,H.completed||0,H.cancelled||0,H.unknown||0]).sort((te,H)=>te[0]-H[0])];E({confirmed:G.confirmed||0,pending:G.pending||0,completed:G.completed||0,cancelled:G.cancelled||0,unknown:G.unknown||0,chartData:K,cancelCount:k})},B=C=>{switch(D(C)){case"confirmed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=C=>{const k=D(C);return k.charAt(0).toUpperCase()+k.slice(1)},R=C=>{try{const k={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(C).toLocaleDateString("en-US",k)}catch{return"Invalid date"}},M=()=>{x(!1),m(0)};return u?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y&&c.jsx("div",{className:"fixed top-4 right-4 z-50",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[c.jsxs("span",{children:[f," new order",f>1?"s":""," received!"]}),c.jsx("button",{onClick:M,className:"ml-2 text-white hover:text-gray-200 focus:outline-none",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),c.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:f})]})}),c.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Monthly Order Statistics"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Confirmed"}),c.jsx("p",{className:"text-3xl font-bold",children:b.confirmed})]}),c.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Pending"}),c.jsx("p",{className:"text-3xl font-bold",children:b.pending})]}),c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Completed"}),c.jsx("p",{className:"text-3xl font-bold",children:b.completed})]}),c.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Cancelled"}),c.jsx("p",{className:"text-3xl font-bold",children:b.cancelled})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Unknown"}),c.jsx("p",{className:"text-3xl font-bold",children:b.unknown})]}),c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Cancel Actions"}),c.jsx("p",{className:"text-3xl font-bold",children:b.cancelCount})]})]}),c.jsx("div",{className:"h-64",children:c.jsx(N7,{width:"100%",height:"100%",chartType:"ColumnChart",loader:c.jsx("div",{children:"Loading Chart"}),data:b.chartData,options:{title:"Daily Order Status",chartArea:{width:"80%"},hAxis:{title:"Day of Month",minValue:1,maxValue:31},vAxis:{title:"Number of Orders"},isStacked:!0,colors:["#3b82f6","#f59e0b","#10b981","#ef4444","#9ca3af"]}})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"All Orders"}),c.jsxs("p",{className:"text-gray-600",children:[t.length," orders (",a==="all"?"all":a,")"]})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>T("all"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:["All (",n.length,")"]}),c.jsxs("button",{onClick:()=>T("confirmed"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="confirmed"?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:["Confirmed (",b.confirmed,")"]}),c.jsxs("button",{onClick:()=>T("pending"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="pending"?"bg-yellow-600 text-white":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:["Pending (",b.pending,")"]}),c.jsxs("button",{onClick:()=>T("completed"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="completed"?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:["Completed (",b.completed,")"]}),c.jsxs("button",{onClick:()=>T("cancelled"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="cancelled"?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:["Cancelled (",b.cancelled,")"]}),c.jsxs("button",{onClick:()=>T("unknown"),className:`px-3 py-1 rounded-full text-sm font-medium ${a==="unknown"?"bg-gray-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:["Unknown (",b.unknown,")"]})]})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"No orders found"}):t.map(C=>{var k,L,O,se,ae,G,$,K;return c.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",C.orderId]}),c.jsx("p",{className:"text-gray-600",children:R(C.confirmedAt)}),C.cancelledAt&&c.jsxs("p",{className:"text-sm text-red-500",children:["Cancelled at: ",R(C.cancelledAt)]})]}),c.jsxs("div",{className:"mt-2 md:mt-0 flex items-center gap-2",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${B(C)}`,children:z(C)}),D(C)==="pending"&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>w(C.phone,C.orderId),disabled:N[`${C.phone}-${C.orderId}`],className:"px-3 py-1 bg-green-500 text-white rounded-full text-sm font-medium hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:N[`${C.phone}-${C.orderId}`]?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing"]}):"Complete"}),c.jsx("button",{onClick:()=>j(C.phone,C.orderId),disabled:N[`${C.phone}-${C.orderId}`],className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm font-medium hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:N[`${C.phone}-${C.orderId}`]?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing"]}):"Cancel"})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Information"}),c.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),c.jsx("p",{children:((k=C.customer)==null?void 0:k.name)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),c.jsx("p",{children:((L=C.customer)==null?void 0:L.phone)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),c.jsx("p",{className:"truncate",children:((O=C.customer)==null?void 0:O.address)||"N/A"})]})]}),((se=C.customer)==null?void 0:se.notes)&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),c.jsx("p",{children:C.customer.notes})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"Order Details"}),c.jsx("div",{className:"mt-2",children:(ae=C.items)==null?void 0:ae.map((te,H)=>c.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:c.jsxs("div",{className:"flex items-start",children:[te.image&&c.jsx("img",{src:te.image,alt:te.name,className:"w-16 h-16 object-cover rounded-md"}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h5",{className:"font-medium",children:te.name||"Unnamed item"}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-600",children:[te.color&&c.jsxs("span",{children:["Color: ",te.color.name||te.color]}),te.size&&c.jsxs("span",{children:["Size: ",te.size.size||te.size]}),c.jsxs("span",{children:["Qty: ",te.quantity||1]}),c.jsxs("span",{children:["Price: ৳",(te.price||0).toLocaleString()]})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-medium",children:["৳",((te.price||0)*(te.quantity||1)).toLocaleString()]})})]})},H))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"Payment"}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"capitalize",children:[C.paymentMethod==="bkash"?"bKash":C.paymentMethod||"Unknown",((G=C.paymentDetails)==null?void 0:G.transactionId)&&c.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(TrxID: ",C.paymentDetails.transactionId,")"]})]})})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsxs("span",{children:["৳",(C.subtotal||0).toLocaleString()]})]}),(($=C.coupon)==null?void 0:$.discount)>0&&c.jsxs("div",{className:"flex justify-between py-1",children:[c.jsxs("span",{className:"text-gray-600",children:["Coupon (",C.coupon.code,")"]}),c.jsxs("span",{className:"text-red-500",children:["-৳",(C.coupon.discount||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Shipping"}),c.jsxs("span",{children:["৳",(((K=C.shipping)==null?void 0:K.charge)||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between py-1 font-medium border-t border-gray-200 mt-2 pt-2",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["৳",(C.total||0).toLocaleString()]})]})]})]})]},C.orderId)})})]})]})},C7=()=>{const[n,e]=V.useState(""),[t,r]=V.useState(""),[a,o]=V.useState(!1),[u,h]=V.useState(!1),[f,m]=V.useState(""),[y,x]=V.useState(""),b=P=>P.includes(" ")?(x("Document ID cannot contain spaces"),!1):(x(""),!0),E=P=>{const D=P.target.value;e(D),b(D)},N=async P=>{P.preventDefault(),o(!0),m(""),h(!1);try{if(!n.trim()||!t.trim())throw new Error("Document ID and Image URL are required");if(!b(n))throw new Error("Please fix Document ID errors");try{new URL(t)}catch{throw new Error("Please enter a valid URL")}const D=Hn(St,"hero-slider-images",n);await Ac(D,{image:{url:t,createdAt:new Date().toISOString()}},{merge:!0}),h(!0),e(""),r("")}catch(D){m(D.message)}finally{o(!1)}};return c.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Upload Hero Slider Image"}),u&&c.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:"Image URL successfully added to Firestore!"}),f&&c.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:f}),c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{htmlFor:"documentId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Document ID"}),c.jsx("input",{type:"text",id:"documentId",value:n,onChange:E,className:`w-full px-3 py-2 border ${y?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter unique document ID",required:!0}),y&&c.jsx("p",{className:"mt-1 text-xs text-red-500",children:y}),c.jsx("p",{className:"mt-1 text-xs text-red-500",children:"This document ID will must be without any space with camel case such as (bannerImageThird)"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),c.jsx("input",{type:"url",id:"imageUrl",value:t,onChange:P=>r(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg",required:!0}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the full URL of the image you want to add"})]}),c.jsx("button",{type:"submit",disabled:a||y,className:`w-full py-2 px-4 rounded-md text-white font-medium ${a?"bg-blue-400":y?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition-colors`,children:a?"Uploading...":"Upload Image"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-md",children:[c.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Firestore Structure:"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Collection:"})," hero-slider-images"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Document ID:"})," Your provided ID (no spaces)"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Field:"})," image (object)"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Stored Data:"})," ","{ url: 'your-image-url', createdAt: timestamp }"]})]})]})]})},A7=()=>{const[n,e]=V.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:"",productId:"",regularPrice:"",slug:"",stock:"",subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:"",thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:""}]}],images:[""],discount:"",gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=S=>{const{name:w,value:j,type:U,checked:B}=S.target;e(z=>({...z,[w]:U==="checkbox"?B:j}))},r=S=>{const{name:w,value:j}=S.target;(j===""||/^[0-9\b]+$/.test(j))&&e(U=>({...U,[w]:j}))},a=S=>{const{name:w,value:j}=S.target;e(U=>({...U,[w]:j.split(",").map(B=>B.trim())}))},o=(S,w,j)=>{const U=[...n.colorVariants];w==="stock"?(j===""||/^[0-9\b]+$/.test(j))&&(U[S][w]=j):U[S][w]=j,e(B=>({...B,colorVariants:U}))},u=(S,w,j)=>{const U=[...n.colorVariants];U[S].images[w]=j,e(B=>({...B,colorVariants:U}))},h=(S,w,j,U)=>{const B=[...n.colorVariants];j==="stock"?(U===""||/^[0-9\b]+$/.test(U))&&(B[S].sizes[w][j]=U):B[S].sizes[w][j]=U,e(z=>({...z,colorVariants:B}))},f=()=>{e(S=>({...S,colorVariants:[...S.colorVariants,{colorName:"",images:[""],stock:"",thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:""}]}]}))},m=S=>{const w=[...n.colorVariants];w.splice(S,1),e(j=>({...j,colorVariants:w}))},y=S=>{const w=[...n.colorVariants];w[S].images.push(""),e(j=>({...j,colorVariants:w}))},x=(S,w)=>{const j=[...n.colorVariants];j[S].images.splice(w,1),e(U=>({...U,colorVariants:j}))},b=S=>{const w=[...n.colorVariants];w[S].sizes.push({size:"",stock:""}),e(j=>({...j,colorVariants:w}))},E=(S,w)=>{const j=[...n.colorVariants];j[S].sizes.splice(w,1),e(U=>({...U,colorVariants:j}))},N=(S,w)=>{const j=[...n.images];j[S]=w,e(U=>({...U,images:j}))},P=()=>{e(S=>({...S,images:[...S.images,""]}))},D=S=>{const w=[...n.images];w.splice(S,1),e(j=>({...j,images:w}))},T=async S=>{S.preventDefault();try{const w=["price","regularPrice","discount","stock"],j={...n};w.forEach(z=>{j[z]=j[z]===""?0:Number(j[z])}),j.colorVariants=j.colorVariants.map(z=>{const R={...z};return R.stock=R.stock===""?0:Number(R.stock),R.isOutfit&&(R.sizes=R.sizes.map(M=>({...M,stock:M.stock===""?0:Number(M.stock)}))),R});const U={available:j.available,category:j.category,categoryId:j.categoryId,description:j.description,detailsImage:j.detailsImage,name:j.name,price:j.price,productId:j.productId,regularPrice:j.regularPrice,slug:j.slug,stock:j.stock,subcategory:j.subcategory,tags:j.tags,discount:j.discount,gender:j.gender,mainImage:j.mainImage,isColorVariants:j.isColorVariant,deliveryCharge:j.deliveryCharge==="true",createdAt:new Date,...j.isPreOrder&&{productType:"pre-order",preOrderDescription:j.preOrderDescription}};j.isColorVariant?U.colorVariants=j.colorVariants.map(z=>{const{isOutfit:R,sizes:M,...C}=z;return R?{...C,sizes:M}:C}):U.images=j.images;const B=Hn(St,j.collectionName,j.documentName);await Ac(B,U),console.log("Document written with ID: ",j.documentName),alert("Product uploaded successfully!"),e(z=>({...z,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:"",productId:"",regularPrice:"",slug:"",stock:"",subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:"",thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:""}]}],images:[""],discount:"",gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(w){console.error("Error adding document: ",w),alert("Error uploading product!")}};return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Product Upload Form"}),c.jsxs("form",{onSubmit:T,className:"space-y-6 bg-white p-6 rounded-lg shadow-md",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Collection & Document Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Collection Name ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-red-500 block",children:'(name must be, "products")'})]}),c.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Document ID ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-red-500 block",children:'("should be must  camel case")'})]}),c.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Basic Product Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product ID ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-red-500 block",children:"(should match Document ID)"})]}),c.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gender ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",required:!0,children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"men",children:"Men"}),c.jsx("option",{value:"women",children:"Women"}),c.jsx("option",{value:"unisex",children:"Unisex"}),c.jsx("option",{value:"kids",children:"Kids"})]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Main Image URL ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-gray-500 block",children:"(Main product card image)"})]}),c.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Delivery Charge ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",children:[c.jsx("option",{value:"",children:"Select Delivery Option"}),c.jsx("option",{value:"true",children:"Apply Delivery Charge"}),c.jsx("option",{value:"false",children:"Free Delivery"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Pricing Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Selling Price ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Regular Price ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),c.jsx("input",{type:"text",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Category & Classification"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-gray-500 block",children:'(e.g., "men", "women", "kids")'})]}),c.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ID ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-gray-500 block",children:"(should match category name)"})]}),c.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Subcategory",c.jsx("span",{className:"text-xs text-gray-500 block",children:'(comma separated, e.g., "t-shirt, casual, summer, trending")'})]}),c.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tags",c.jsx("span",{className:"text-xs text-gray-500 block",children:'(comma separated, e.g., "new, trending, 2023")'})]}),c.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Product Details"}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:4,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Details Image URL",c.jsx("span",{className:"text-xs text-gray-500 block",children:"(Additional product details image)"})]}),c.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Slug ",c.jsx("span",{className:"text-red-500",children:"*"}),c.jsx("span",{className:"text-xs text-gray-500 block",children:'(should be match product name, e.g., "bridal shopping bag")'})]}),c.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stock ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]}),c.jsxs("div",{className:"flex items-center mt-6",children:[c.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Product Available"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Product Variants"}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{className:"ml-2 block text-sm font-medium text-gray-700",children:"This product has color variants"})]}),n.isColorVariant&&c.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-white",children:[c.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Color Variants"}),n.colorVariants.map((S,w)=>c.jsxs("div",{className:"border p-4 rounded-lg space-y-3 bg-gray-50",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Color Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:S.colorName,onChange:j=>o(w,"colorName",j.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stock ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:S.stock,onChange:j=>o(w,"stock",j.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thumbnail URL ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:S.thumbnail,onChange:j=>o(w,"thumbnail",j.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]})]}),c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("input",{type:"checkbox",checked:S.isOutfit,onChange:j=>o(w,"isOutfit",j.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"This variant has sizes"})]}),S.isOutfit&&c.jsxs("div",{className:"space-y-3 mt-3",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Size Information"}),S.sizes.map((j,U)=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Size ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:j.size,onChange:B=>h(w,U,"size",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stock ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:j.stock,onChange:B=>h(w,U,"stock",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",pattern:"[0-9]*",inputMode:"numeric"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{type:"button",onClick:()=>E(w,U),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Remove"})})]},U)),c.jsx("button",{type:"button",onClick:()=>b(w),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"Add Size"})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Images ",c.jsx("span",{className:"text-red-500",children:"*"})]}),S.images.map((j,U)=>c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsx("input",{type:"text",value:j,onChange:B=>u(w,U,B.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"}),c.jsx("button",{type:"button",onClick:()=>x(w,U),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Remove"})]},U)),c.jsx("button",{type:"button",onClick:()=>y(w),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:"Add Image"})]}),c.jsx("button",{type:"button",onClick:()=>m(w),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Remove Variant"})]},w)),c.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&c.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-white",children:[c.jsx("h3",{className:"text-md font-medium text-gray-700",children:"Product Images"}),n.images.map((S,w)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:S,onChange:j=>N(w,j.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border"}),c.jsx("button",{type:"button",onClick:()=>D(w),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",children:"Remove"})]},w)),c.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Pre-order Information"}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("label",{className:"ml-2 block text-sm font-medium text-gray-700",children:"This is a pre-order product"})]}),n.isPreOrder&&c.jsxs("div",{className:"space-y-4 border p-4 rounded-lg bg-white",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",required:!0,children:[c.jsx("option",{value:"",children:"Select Product Type"}),c.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pre-order Description ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 border",required:!0})]})]})]}),c.jsx("div",{className:"pt-4 flex justify-end",children:c.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Upload Product"})})]})]})},R7=()=>{const[n,e]=V.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:"",image:""}],path:""}),[t,r]=V.useState("form"),a=m=>{const{name:y,value:x}=m.target;e(b=>({...b,[y]:x}))},o=(m,y)=>{const{name:x,value:b}=y.target,E=[...n.items];E[m]={...E[m],[x]:b},e(N=>({...N,items:E}))},u=()=>{e(m=>({...m,items:[...m.items,{name:"",path:"",image:""}]}))},h=m=>{const y=n.items.filter((x,b)=>b!==m);e(x=>({...x,items:y}))},f=async m=>{m.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=Hn(St,n.collectionName,n.documentName),x=await Ga(y);let b={};x.exists()&&(b=x.data());const E={...b,type:n.type,updatedAt:uO()};if(n.type==="link"&&(E.order=Number(n.order)),n.type==="dropdown"){const N=b.items||[],P=n.items.filter(D=>D.name&&D.path);E.items=[...N,...P],E.path=null}else E.path=n.path,E.items=null;await Ac(y,E,{merge:!0}),alert("Category saved successfully!"),e(N=>({...N,order:0,type:"dropdown",items:[{name:"",path:"",image:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return c.jsxs("div",{className:"container mx-auto px-4 ",children:[c.jsxs("div",{className:"flex border-b mb-6",children:[c.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),c.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&c.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),c.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),c.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[c.jsx("option",{value:"dropdown",children:"Dropdown"}),c.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),c.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),c.jsx("div",{className:"space-y-4",children:n.items.map((m,y)=>c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[c.jsx("div",{children:c.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:m.name,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),c.jsx("div",{children:c.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:m.path,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),c.jsx("div",{children:c.jsx("input",{type:"text",name:"image",placeholder:"Image URL",value:m.image,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]}),c.jsx("button",{type:"button",onClick:()=>h(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors self-end",children:"Remove"})]},y))}),c.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),c.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&c.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{children:[c.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),c.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",c.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[c.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),c.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[c.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),c.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),c.jsxs("section",{children:[c.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),c.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",c.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:c.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"ইমেজ URL:"})," প্রতিটি সাবক্যাটেগরির জন্য একটি ইমেজ URL যোগ করতে পারেন (ঐচ্ছিক)"]}),c.jsxs("li",{className:"text-gray-700",children:[c.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),c.jsxs("section",{children:[c.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),c.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ইমেজ:"})," https://example.com/dresses.jpg"]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops ",c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ইমেজ:"})," https://example.com/tops.jpg"]})]})]})]})]})]})})]})},j7=({children:n,adminOnly:e=!1})=>{const{currentUser:t,isAdmin:r}=kN(),a=Tr();return t?e&&!r?c.jsx(qw,{to:"/unauthorized",replace:!0}):n:c.jsx(qw,{to:"/admin-login",state:{from:a},replace:!0})},I7=()=>{var x,b;const{currentUser:n,isAdmin:e,loginWithGoogle:t}=kN(),r=Yo(),a=Tr(),[o,u]=V.useState(!1),[h,f]=V.useState(""),m=((b=(x=a.state)==null?void 0:x.from)==null?void 0:b.pathname)||"/admin-panel";V.useEffect(()=>{n&&e?r(m,{replace:!0}):n&&!e&&f("You are not authorized to access admin panel")},[n,e,r,m]);const y=async()=>{u(!0),f("");try{await t()}catch(E){console.error("Google login error:",E),f("Login failed. Please try again.")}finally{u(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 md:pt-12 flex flex-col justify-start items-start  sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the admin dashboard with your Google account"})]}),c.jsx("div",{className:" sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white py-2 md:py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[h&&c.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:h}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Sign in with"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("button",{onClick:y,disabled:o,className:`w-full inline-flex justify-center items-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium ${o?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[c.jsx("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",fill:"currentColor",children:c.jsx("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),o?"Signing in...":"Sign in with Google"]})}),c.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:c.jsxs("p",{children:["Only authorized administrators can access this panel.",c.jsx("br",{}),"Unauthorized access attempts will be logged."]})})]})]})})]})},M7=H4([{path:"/",element:c.jsx(oP,{}),children:[{index:!0,element:c.jsx(KE,{})},{path:"/home",element:c.jsx(KE,{})},{path:"/category/:gender",element:c.jsx(J9,{})},{path:"/category/:gender/:category",element:c.jsx(YE,{})},{path:"/category/:gender",element:c.jsx(YE,{})},{path:"/all-categories",element:c.jsx(qN,{})},{path:"/product/:productId",element:c.jsx(Z9,{})},{path:"category-slider",element:c.jsx(aC,{})},{path:"/cart",element:c.jsx(e7,{})},{path:"/checkout",element:c.jsx(t7,{})},{path:"/complete-order",element:c.jsx(n7,{})},{path:"trending-products",element:c.jsx(oC,{})},{path:"/footer",element:c.jsx(ON,{})},{path:"/admin",element:c.jsx(I7,{})},{path:"/admin-panel",element:c.jsx(j7,{children:c.jsx(i7,{})}),children:[{index:!0,element:c.jsx(o2,{})},{path:"order-cart",element:c.jsx(o2,{})},{path:"product-update",element:c.jsx(r7,{})},{path:"upload-products",element:c.jsx(A7,{})},{path:"product-category",element:c.jsx(R7,{})},{path:"headline-update",element:c.jsx(a7,{})},{path:"banner-update",element:c.jsx(C7,{})}]}]}]);KA.createRoot(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(b9,{children:c.jsx(sj,{router:M7})})}));
