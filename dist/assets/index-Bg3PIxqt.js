var F_=n=>{throw TypeError(n)};var Ig=(n,e,t)=>e.has(n)||F_("Cannot "+t);var Y=(n,e,t)=>(Ig(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?F_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Ig(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mt=(n,e,t)=>(Ig(n,e,"access private method"),t);var Uh=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function zE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Og={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function ZC(){if(q_)return yu;q_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var H_;function JC(){return H_||(H_=1,Og.exports=ZC()),Og.exports}var m=JC(),Mg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function eN(){if($_)return et;$_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function R(H,ae,ve){this.props=H,this.context=ae,this.refs=P,this.updater=ve||T}R.prototype.isReactComponent={},R.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=R.prototype;function E(H,ae,ve){this.props=H,this.context=ae,this.refs=P,this.updater=ve||T}var w=E.prototype=new N;w.constructor=E,A(w,R.prototype),w.isPureReactComponent=!0;var M=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function z(H,ae,ve,ge,Se,Ve){return ve=Ve.ref,{$$typeof:n,type:H,key:ae,ref:ve!==void 0?ve:null,props:Ve}}function O(H,ae){return z(H.type,ae,void 0,void 0,void 0,H.props)}function I(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ae[ve]})}var F=/\/+/g;function U(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):ae.toString(36)}function j(){}function ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function pe(H,ae,ve,ge,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,pe(Ee(H._payload),ae,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+U(H,0):ge,M(Se)?(ve="",Ee!=null&&(ve=Ee.replace(F,"$&/")+"/"),pe(Se,ae,ve,"",function(it){return it})):Se!=null&&(I(Se)&&(Se=O(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+Ee)),ae.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(M(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],Ve=ye+U(ge,Te),Ee+=pe(ge,ae,ve,Ve,Se);else if(Te=_(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,Ve=ye+U(ge,Te++),Ee+=pe(ge,ae,ve,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return pe(ce(H),ae,ve,ge,Se);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(H,ae,ve){if(H==null)return H;var ge=[],Se=0;return pe(H,ge,"","",function(Ve){return ae.call(ve,Ve,Se++)}),ge}function ie(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function be(){}return et.Children={map:G,forEach:function(H,ae,ve){G(H,function(){ae.apply(this,arguments)},ve)},count:function(H){var ae=0;return G(H,function(){ae++}),ae},toArray:function(H){return G(H,function(ae){return ae})||[]},only:function(H){if(!I(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=R,et.Fragment=t,et.Profiler=a,et.PureComponent=E,et.StrictMode=r,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return L.H.useMemoCache(H)}},et.cache=function(H){return function(){return H.apply(null,arguments)}},et.cloneElement=function(H,ae,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=A({},H.props),Se=H.key,Ve=void 0;if(ae!=null)for(Ee in ae.ref!==void 0&&(Ve=void 0),ae.key!==void 0&&(Se=""+ae.key),ae)!k.call(ae,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ae.ref===void 0||(ge[Ee]=ae[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return z(H.type,Se,void 0,void 0,Ve,ge)},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},et.createElement=function(H,ae,ve){var ge,Se={},Ve=null;if(ae!=null)for(ge in ae.key!==void 0&&(Ve=""+ae.key),ae)k.call(ae,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=ae[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return z(H,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:d,render:H}},et.isValidElement=I,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:ie}},et.memo=function(H,ae){return{$$typeof:p,type:H,compare:ae===void 0?null:ae}},et.startTransition=function(H){var ae=L.T,ve={};L.T=ve;try{var ge=H(),Se=L.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(be,oe)}catch(Ve){oe(Ve)}finally{L.T=ae}},et.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},et.use=function(H){return L.H.use(H)},et.useActionState=function(H,ae,ve){return L.H.useActionState(H,ae,ve)},et.useCallback=function(H,ae){return L.H.useCallback(H,ae)},et.useContext=function(H){return L.H.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H,ae){return L.H.useDeferredValue(H,ae)},et.useEffect=function(H,ae,ve){var ge=L.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,ae)},et.useId=function(){return L.H.useId()},et.useImperativeHandle=function(H,ae,ve){return L.H.useImperativeHandle(H,ae,ve)},et.useInsertionEffect=function(H,ae){return L.H.useInsertionEffect(H,ae)},et.useLayoutEffect=function(H,ae){return L.H.useLayoutEffect(H,ae)},et.useMemo=function(H,ae){return L.H.useMemo(H,ae)},et.useOptimistic=function(H,ae){return L.H.useOptimistic(H,ae)},et.useReducer=function(H,ae,ve){return L.H.useReducer(H,ae,ve)},et.useRef=function(H){return L.H.useRef(H)},et.useState=function(H){return L.H.useState(H)},et.useSyncExternalStore=function(H,ae,ve){return L.H.useSyncExternalStore(H,ae,ve)},et.useTransition=function(){return L.H.useTransition()},et.version="19.1.0",et}var G_;function tm(){return G_||(G_=1,Mg.exports=eN()),Mg.exports}var q=tm();const Ut=zE(q);var jg={exports:{}},vu={},Dg={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function tN(){return Q_||(Q_=1,function(n){function e(G,ie){var oe=G.length;G.push(ie);e:for(;0<oe;){var be=oe-1>>>1,H=G[be];if(0<a(H,ie))G[be]=ie,G[oe]=H,oe=be;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],oe=G.pop();if(oe!==ie){G[0]=oe;e:for(var be=0,H=G.length,ae=H>>>1;be<ae;){var ve=2*(be+1)-1,ge=G[ve],Se=ve+1,Ve=G[Se];if(0>a(ge,oe))Se<H&&0>a(Ve,ge)?(G[be]=Ve,G[Se]=oe,be=Se):(G[be]=ge,G[ve]=oe,be=ve);else if(Se<H&&0>a(Ve,oe))G[be]=Ve,G[Se]=oe,be=Se;else break e}}return ie}function a(G,ie){var oe=G.sortIndex-ie.sortIndex;return oe!==0?oe:G.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,b=null,_=3,T=!1,A=!1,P=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var ie=t(p);ie!==null;){if(ie.callback===null)r(p);else if(ie.startTime<=G)r(p),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=t(p)}}function L(G){if(P=!1,M(G),!A)if(t(h)!==null)A=!0,k||(k=!0,U());else{var ie=t(p);ie!==null&&pe(L,ie.startTime-G)}}var k=!1,z=-1,O=5,I=-1;function V(){return R?!0:!(n.unstable_now()-I<O)}function F(){if(R=!1,k){var G=n.unstable_now();I=G;var ie=!0;try{e:{A=!1,P&&(P=!1,E(z),z=-1),T=!0;var oe=_;try{t:{for(M(G),b=t(h);b!==null&&!(b.expirationTime>G&&V());){var be=b.callback;if(typeof be=="function"){b.callback=null,_=b.priorityLevel;var H=be(b.expirationTime<=G);if(G=n.unstable_now(),typeof H=="function"){b.callback=H,M(G),ie=!0;break t}b===t(h)&&r(h),M(G)}else r(h);b=t(h)}if(b!==null)ie=!0;else{var ae=t(p);ae!==null&&pe(L,ae.startTime-G),ie=!1}}break e}finally{b=null,_=oe,T=!1}ie=void 0}}finally{ie?U():k=!1}}}var U;if(typeof w=="function")U=function(){w(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ce=j.port2;j.port1.onmessage=F,U=function(){ce.postMessage(null)}}else U=function(){N(F,0)};function pe(G,ie){z=N(function(){G(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(G){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var oe=_;_=ie;try{return G()}finally{_=oe}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=_;_=G;try{return ie()}finally{_=oe}},n.unstable_scheduleCallback=function(G,ie,oe){var be=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=oe+H,G={id:y++,callback:ie,priorityLevel:G,startTime:oe,expirationTime:H,sortIndex:-1},oe>be?(G.sortIndex=oe,e(p,G),t(h)===null&&G===t(p)&&(P?(E(z),z=-1):P=!0,pe(L,oe-be))):(G.sortIndex=H,e(h,G),A||T||(A=!0,k||(k=!0,U()))),G},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(G){var ie=_;return function(){var oe=_;_=ie;try{return G.apply(this,arguments)}finally{_=oe}}}}(Pg)),Pg}var K_;function nN(){return K_||(K_=1,Dg.exports=tN()),Dg.exports}var kg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function rN(){if(Y_)return Gn;Y_=1;var n=tm();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,y)},Gn.flushSync=function(h){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=p,r.p=y,r.d.f()}},Gn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Gn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Gn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:T}):y==="script"&&r.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Gn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin);r.d.L(h,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Gn.requestFormReset=function(h){r.d.r(h)},Gn.unstable_batchedUpdates=function(h,p){return h(p)},Gn.useFormState=function(h,p,y){return u.H.useFormState(h,p,y)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var X_;function UE(){if(X_)return kg.exports;X_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kg.exports=rN(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function sN(){if(W_)return vu;W_=1;var n=nN(),e=tm(),t=UE();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function h(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),s;if(v===c)return d(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var C=!1,D=g.child;D;){if(D===l){C=!0,l=g,c=v;break}if(D===c){C=!0,c=g,l=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===l){C=!0,l=v,c=g;break}if(D===c){C=!0,c=v,l=g;break}D=D.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),w=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function ce(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case R:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case w:return(s.displayName||"Context")+".Provider";case E:return(s._context.displayName||"Context")+".Consumer";case M:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return i=s.displayName||null,i!==null?i:ce(s.type)||"Memo";case O:i=s._payload,s=s._init;try{return ce(s(i))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},be=[],H=-1;function ae(s){return{current:s}}function ve(s){0>H||(s.current=be[H],be[H]=null,H--)}function ge(s,i){H++,be[H]=s.current,s.current=i}var Se=ae(null),Ve=ae(null),Ee=ae(null),ye=ae(null);function Te(s,i){switch(ge(Ee,i),ge(Ve,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?g_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=g_(i),s=y_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function it(){ve(Se),ve(Ve),ve(Ee)}function Ze(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=y_(i,s.type);i!==l&&(ge(Ve,s),ge(Se,l))}function Rt(s){Ve.current===s&&(ve(Se),ve(Ve)),ye.current===s&&(ve(ye),hu._currentValue=oe)}var Ht=Object.prototype.hasOwnProperty,fn=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,ur=n.unstable_shouldYield,Jn=n.unstable_requestPaint,Xt=n.unstable_now,xs=n.unstable_getCurrentPriorityLevel,_s=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,ss=n.unstable_NormalPriority,er=n.unstable_LowPriority,tr=n.unstable_IdlePriority,Es=n.log,is=n.unstable_setDisableYieldValue,gt=null,We=null;function wn(s){if(typeof Es=="function"&&is(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,s)}catch{}}var Gt=Math.clz32?Math.clz32:Lr,Zs=Math.log,dr=Math.LN2;function Lr(s){return s>>>=0,s===0?32:31-(Zs(s)/dr|0)|0}var Vr=256,Me=4194304;function Oe(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,v=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var D=c&134217727;return D!==0?(c=D&~v,c!==0?g=Oe(c):(C&=D,C!==0?g=Oe(C):l||(l=D&~s,l!==0&&(g=Oe(l))))):(D=c&~v,D!==0?g=Oe(D):C!==0?g=Oe(C):l||(l=c&~s,l!==0&&(g=Oe(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function ht(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qt(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var s=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),s}function nr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function On(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function qn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mn(s,i,l,c,g,v){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var D=s.entanglements,$=s.expirationTimes,te=s.hiddenUpdates;for(l=C&~l;0<l;){var le=31-Gt(l),fe=1<<le;D[le]=0,$[le]=-1;var ne=te[le];if(ne!==null)for(te[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~fe}c!==0&&Qt(s,c,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(C&~i))}function Qt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Gt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function zr(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-Gt(l),g=1<<c;g&i|s[c]&i&&(s[c]|=i),l&=~g}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ts(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:k_(s.type))}function W(s,i){var l=ie.p;try{return ie.p=s,i()}finally{ie.p=l}}var ee=Math.random().toString(36).slice(2),he="__reactFiber$"+ee,xe="__reactProps$"+ee,Ce="__reactContainer$"+ee,ze="__reactEvents$"+ee,Ne="__reactListeners$"+ee,je="__reactHandles$"+ee,Pe="__reactResources$"+ee,Ue="__reactMarker$"+ee;function De(s){delete s[he],delete s[xe],delete s[ze],delete s[Ne],delete s[je]}function Fe(s){var i=s[he];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ce]||l[he]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=__(s);s!==null;){if(l=s[he])return l;s=__(s)}return i}s=l,l=s.parentNode}return null}function at(s){if(s=s[he]||s[Ce]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function St(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function wt(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(s){s[Ue]=!0}var rt=new Set,Ur={};function mn(s,i){rr(s,i),rr(s+"Capture",i)}function rr(s,i){for(Ur[s]=i,s=0;s<i.length;s++)rt.add(i[s])}var jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},wr={};function Mi(s){return Ht.call(wr,s)?!0:Ht.call(Ss,s)?!1:jn.test(s)?wr[s]=!0:(Ss[s]=!0,!1)}function Hn(s,i,l){if(Mi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function sr(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ke(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}var an,Er;function hr(s){if(an===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+s+Er}var As=!1;function Lt(s,i){if(!s||As)return"";As=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(re){ne=re}s.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var $=C.split(`
`),te=D.split(`
`);for(g=c=0;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(c===$.length||g===te.length)for(c=$.length-1,g=te.length-1;1<=c&&0<=g&&$[c]!==te[g];)g--;for(;1<=c&&0<=g;c--,g--)if($[c]!==te[g]){if(c!==1||g!==1)do if(c--,g--,0>g||$[c]!==te[g]){var le=`
`+$[c].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=c&&0<=g);break}}}finally{As=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?hr(l):""}function Br(s){switch(s.tag){case 26:case 27:case 5:return hr(s.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return Lt(s.type,!1);case 11:return Lt(s.type.render,!1);case 1:return Lt(s.type,!0);case 31:return hr("Activity");default:return""}}function Js(s){try{var i="";do i+=Br(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xc(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dm(s){var i=xc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){c=""+C,v.call(this,C)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bo(s){s._valueTracker||(s._valueTracker=Dm(s))}function _c(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=xc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function qa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pm=/[\n"\\]/g;function on(s){return s.replace(Pm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(s,i,l,c,g,v,C,D){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),i!=null?C==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),i!=null?ji(s,C,Dn(i)):l!=null?ji(s,C,Dn(l)):c!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Dn(D):s.removeAttribute("name")}function Ha(s,i,l,c,g,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,D||i===s.value||(s.value=i),s.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=D?s.checked:!!c,s.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function ji(s,i,l){i==="number"&&qa(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ei(s,i,l,c){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function jt(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function $a(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(pe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Fr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Ga.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function wc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&Sd(s,g,c)}else for(var v in i)i.hasOwnProperty(v)&&Sd(s,v,i[v])}function Ec(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return Lm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ti=null;function qr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ni=null,ri=null;function Tc(s){var i=at(s);if(i&&(s=i.stateNode)){var l=s[xe]||null;e:switch(s=i.stateNode,i.type){case"input":if(Tr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var g=c[xe]||null;if(!g)throw Error(r(90));Tr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&_c(c)}break e;case"textarea":jt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(s,!!l.multiple,i,!1)}}}var Cs=!1;function Ad(s,i,l){if(Cs)return s(i,l);Cs=!0;try{var c=s(i);return c}finally{if(Cs=!1,(ni!==null||ri!==null)&&(bh(),ni&&(i=ni,s=ri,ri=ni=null,Tc(i),s)))for(i=0;i<s.length;i++)Tc(s[i])}}function Qa(s,i){var l=s.stateNode;if(l===null)return null;var c=l[xe]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(as)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Hr=!1}var Ns=null,Di=null,si=null;function Sc(){if(si)return si;var s,i=Di,l=i.length,c,g="value"in Ns?Ns.value:Ns.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var C=l-s;for(c=1;c<=C&&i[l-c]===g[v-c];c++);return si=g.slice(s,1<c?1-c:void 0)}function Rs(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Is(){return!0}function Ac(){return!1}function En(s){function i(l,c,g,v,C){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Is:Ac,this.isPropagationStopped=Ac,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=En(At),Ya=y({},At,{view:0,detail:0}),Cd=En(Ya),Ho,$o,Os,Xa=y({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Os&&(Os&&s.type==="mousemove"?(Ho=s.screenX-Os.screenX,$o=s.screenY-Os.screenY):$o=Ho=0,Os=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),$r=En(Xa),Nd=y({},Xa,{dataTransfer:0}),Vm=En(Nd),Wa=y({},Ya,{relatedTarget:0}),Go=En(Wa),Cc=y({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=En(Cc),Rd=y({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ko=En(Rd),zm=y({},At,{data:0}),Nc=En(zm),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Od[s])?!!i[s]:!1}function Ja(){return Rc}var Md=y({},Ya,{key:function(s){if(s.key){var i=Za[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Rs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Id[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(s){return s.type==="keypress"?Rs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yo=En(Md),jd=y({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=En(jd),ii=y({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Dd=En(ii),Pd=y({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),kd=En(Pd),Ld=y({},Xa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=En(Ld),ir=y({},At,{newState:0,oldState:0}),Vd=En(ir),zd=[9,13,27,32],Ms=as&&"CompositionEvent"in window,f=null;as&&"documentMode"in document&&(f=document.documentMode);var x=as&&"TextEvent"in window&&!f,S=as&&(!Ms||f&&8<f&&11>=f),B=" ",Z=!1;function se(s,i){switch(s){case"keyup":return zd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yt=!1;function pn(s,i){switch(s){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Z=!0,B);case"textInput":return s=i.data,s===B&&Z?null:s;default:return null}}function vt(s,i){if(yt)return s==="compositionend"||!Ms&&se(s,i)?(s=Sc(),si=Di=Ns=null,yt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Tn[s.type]:i==="textarea"}function ai(s,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=Sh(i,"onChange"),0<i.length&&(l=new qo("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Pn=null,js=null;function Oc(s){d_(s,0)}function Ud(s){var i=St(s);if(_c(i))return s}function Mv(s,i){if(s==="change")return i}var jv=!1;if(as){var Um;if(as){var Bm="oninput"in document;if(!Bm){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),Bm=typeof Dv.oninput=="function"}Um=Bm}else Um=!1;jv=Um&&(!document.documentMode||9<document.documentMode)}function Pv(){Pn&&(Pn.detachEvent("onpropertychange",kv),js=Pn=null)}function kv(s){if(s.propertyName==="value"&&Ud(js)){var i=[];ai(i,js,s,qr(s)),Ad(Oc,i)}}function NA(s,i,l){s==="focusin"?(Pv(),Pn=i,js=l,Pn.attachEvent("onpropertychange",kv)):s==="focusout"&&Pv()}function RA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ud(js)}function IA(s,i){if(s==="click")return Ud(i)}function OA(s,i){if(s==="input"||s==="change")return Ud(i)}function MA(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Sr=typeof Object.is=="function"?Object.is:MA;function Mc(s,i){if(Sr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ht.call(i,g)||!Sr(s[g],i[g]))return!1}return!0}function Lv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vv(s,i){var l=Lv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lv(l)}}function zv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?zv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Uv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=qa(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=qa(s.document)}return i}function Fm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var jA=as&&"documentMode"in document&&11>=document.documentMode,Wo=null,qm=null,jc=null,Hm=!1;function Bv(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hm||Wo==null||Wo!==qa(c)||(c=Wo,"selectionStart"in c&&Fm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),jc&&Mc(jc,c)||(jc=c,c=Sh(qm,"onSelect"),0<c.length&&(i=new qo("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Wo)))}function eo(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},$m={},Fv={};as&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function to(s){if($m[s])return $m[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Fv)return $m[s]=i[l];return s}var qv=to("animationend"),Hv=to("animationiteration"),$v=to("animationstart"),DA=to("transitionrun"),PA=to("transitionstart"),kA=to("transitioncancel"),Gv=to("transitionend"),Qv=new Map,Gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gm.push("scrollEnd");function os(s,i){Qv.set(s,i),mn(i,[s])}var Kv=new WeakMap;function Gr(s,i){if(typeof s=="object"&&s!==null){var l=Kv.get(s);return l!==void 0?l:(i={value:s,source:i,stack:Js(i)},Kv.set(s,i),i)}return{value:s,source:i,stack:Js(i)}}var Qr=[],Jo=0,Qm=0;function Bd(){for(var s=Jo,i=Qm=Jo=0;i<s;){var l=Qr[i];Qr[i++]=null;var c=Qr[i];Qr[i++]=null;var g=Qr[i];Qr[i++]=null;var v=Qr[i];if(Qr[i++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}v!==0&&Yv(l,g,v)}}function Fd(s,i,l,c){Qr[Jo++]=s,Qr[Jo++]=i,Qr[Jo++]=l,Qr[Jo++]=c,Qm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Km(s,i,l,c){return Fd(s,i,l,c),qd(s)}function el(s,i){return Fd(s,null,null,i),qd(s)}function Yv(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Gt(l),s=v.hiddenUpdates,c=s[g],c===null?s[g]=[i]:c.push(i),i.lane=l|536870912),v):null}function qd(s){if(50<su)throw su=0,eg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={};function LA(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,c){return new LA(s,i,l,c)}function Ym(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oi(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Xv(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Hd(s,i,l,c,g,v){var C=0;if(c=s,typeof s=="function")Ym(s)&&(C=1);else if(typeof s=="string")C=zC(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Ar(31,l,i,g),s.elementType=I,s.lanes=v,s;case A:return no(l.children,g,v,i);case P:C=8,g|=24;break;case R:return s=Ar(12,l,i,g|2),s.elementType=R,s.lanes=v,s;case L:return s=Ar(13,l,i,g),s.elementType=L,s.lanes=v,s;case k:return s=Ar(19,l,i,g),s.elementType=k,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case w:C=10;break e;case E:C=9;break e;case M:C=11;break e;case z:C=14;break e;case O:C=16,c=null;break e}C=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Ar(C,l,i,g),i.elementType=s,i.type=c,i.lanes=v,i}function no(s,i,l,c){return s=Ar(7,s,c,i),s.lanes=l,s}function Xm(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function Wm(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nl=[],rl=0,$d=null,Gd=0,Kr=[],Yr=0,ro=null,li=1,ci="";function so(s,i){nl[rl++]=Gd,nl[rl++]=$d,$d=s,Gd=i}function Wv(s,i,l){Kr[Yr++]=li,Kr[Yr++]=ci,Kr[Yr++]=ro,ro=s;var c=li;s=ci;var g=32-Gt(c)-1;c&=~(1<<g),l+=1;var v=32-Gt(i)+g;if(30<v){var C=g-g%5;v=(c&(1<<C)-1).toString(32),c>>=C,g-=C,li=1<<32-Gt(i)+g|l<<g|c,ci=v+s}else li=1<<v|l<<g|c,ci=s}function Zm(s){s.return!==null&&(so(s,1),Wv(s,1,0))}function Jm(s){for(;s===$d;)$d=nl[--rl],nl[rl]=null,Gd=nl[--rl],nl[rl]=null;for(;s===ro;)ro=Kr[--Yr],Kr[Yr]=null,ci=Kr[--Yr],Kr[Yr]=null,li=Kr[--Yr],Kr[Yr]=null}var ar=null,Wt=null,Tt=!1,io=null,Ds=!1,ep=Error(r(519));function ao(s){var i=Error(r(418,""));throw kc(Gr(i,s)),ep}function Zv(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[he]=s,i[xe]=c,l){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(l=0;l<au.length;l++)lt(au[l],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),Ha(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),$a(i,c.value,c.defaultValue,c.children),Bo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||p_(i.textContent,l)?(c.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),c.onScroll!=null&&lt("scroll",i),c.onScrollEnd!=null&&lt("scrollend",i),c.onClick!=null&&(i.onclick=Ah),i=!0):i=!1,i||ao(s)}function Jv(s){for(ar=s.return;ar;)switch(ar.tag){case 5:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:ar=ar.return}}function Dc(s){if(s!==ar)return!1;if(!Tt)return Jv(s),Tt=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||gg(s.type,s.memoizedProps)),l=!l),l&&Wt&&ao(s),Jv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Wt=cs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Wt=null}}else i===27?(i=Wt,Xi(s.type)?(s=xg,xg=null,Wt=s):Wt=i):Wt=ar?cs(s.stateNode.nextSibling):null;return!0}function Pc(){Wt=ar=null,Tt=!1}function eb(){var s=io;return s!==null&&(pr===null?pr=s:pr.push.apply(pr,s),io=null),s}function kc(s){io===null?io=[s]:io.push(s)}var tp=ae(null),oo=null,ui=null;function Pi(s,i,l){ge(tp,i._currentValue),i._currentValue=l}function di(s){s._currentValue=tp.current,ve(tp)}function np(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function rp(s,i,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=g;for(var $=0;$<i.length;$++)if(D.context===i[$]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),np(v.return,l,s),c||(C=null);break e}v=D.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),np(C,l,s),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Lc(s,i,l,c){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var D=g.type;Sr(g.pendingProps.value,C.value)||(s!==null?s.push(D):s=[D])}}else if(g===ye.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(hu):s=[hu])}g=g.return}s!==null&&rp(i,s,l,c),i.flags|=262144}function Qd(s){for(s=s.firstContext;s!==null;){if(!Sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function lo(s){oo=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return tb(oo,s)}function Kd(s,i){return oo===null&&lo(s),tb(s,i)}function tb(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(s===null)throw Error(r(308));ui=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else ui=ui.next=i;return l}var VA=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},zA=n.unstable_scheduleCallback,UA=n.unstable_NormalPriority,yn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sp(){return{controller:new VA,data:new Map,refCount:0}}function Vc(s){s.refCount--,s.refCount===0&&zA(UA,function(){s.controller.abort()})}var zc=null,ip=0,sl=0,il=null;function BA(s,i){if(zc===null){var l=zc=[];ip=0,sl=og(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ip++,i.then(nb,nb),i}function nb(){if(--ip===0&&zc!==null){il!==null&&(il.status="fulfilled");var s=zc;zc=null,sl=0,il=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function FA(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var rb=G.S;G.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BA(s,i),rb!==null&&rb(s,i)};var co=ae(null);function ap(){var s=co.current;return s!==null?s:zt.pooledCache}function Yd(s,i){i===null?ge(co,co.current):ge(co,i.pool)}function sb(){var s=ap();return s===null?null:{parent:yn._currentValue,pool:s}}var Uc=Error(r(460)),ib=Error(r(474)),Xd=Error(r(542)),op={then:function(){}};function ab(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wd(){}function ob(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Wd,Wd),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,cb(s),s;default:if(typeof i.status=="string")i.then(Wd,Wd);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,cb(s),s}throw Bc=i,Uc}}var Bc=null;function lb(){if(Bc===null)throw Error(r(459));var s=Bc;return Bc=null,s}function cb(s){if(s===Uc||s===Xd)throw Error(r(483))}var ki=!1;function lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Li(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(It&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=qd(s),Yv(s,null,l),i}return Fd(s,c,i,l),qd(s)}function Fc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,zr(s,l)}}function up(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var dp=!1;function qc(){if(dp){var s=il;if(s!==null)throw s}}function Hc(s,i,l,c){dp=!1;var g=s.updateQueue;ki=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var $=D,te=$.next;$.next=null,C===null?v=te:C.next=te,C=$;var le=s.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==C&&(D===null?le.firstBaseUpdate=te:D.next=te,le.lastBaseUpdate=$))}if(v!==null){var fe=g.baseState;C=0,le=te=$=null,D=v;do{var ne=D.lane&-536870913,re=ne!==D.lane;if(re?(bt&ne)===ne:(c&ne)===ne){ne!==0&&ne===sl&&(dp=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ge=s,Be=D;ne=i;var kt=l;switch(Be.tag){case 1:if(Ge=Be.payload,typeof Ge=="function"){fe=Ge.call(kt,fe,ne);break e}fe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Be.payload,ne=typeof Ge=="function"?Ge.call(kt,fe,ne):Ge,ne==null)break e;fe=y({},fe,ne);break e;case 2:ki=!0}}ne=D.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(te=le=re,$=fe):le=le.next=re,C|=ne;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;re=D,D=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);le===null&&($=fe),g.baseState=$,g.firstBaseUpdate=te,g.lastBaseUpdate=le,v===null&&(g.shared.lanes=0),Gi|=C,s.lanes=C,s.memoizedState=fe}}function ub(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function db(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)ub(l[s],i)}var al=ae(null),Zd=ae(0);function hb(s,i){s=vi,ge(Zd,s),ge(al,i),vi=s|i.baseLanes}function hp(){ge(Zd,vi),ge(al,al.current)}function fp(){vi=Zd.current,ve(al),ve(Zd)}var zi=0,tt=null,Dt=null,ln=null,Jd=!1,ol=!1,uo=!1,eh=0,$c=0,ll=null,qA=0;function en(){throw Error(r(321))}function mp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Sr(s[l],i[l]))return!1;return!0}function pp(s,i,l,c,g,v){return zi=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=s===null||s.memoizedState===null?Yb:Xb,uo=!1,v=l(c,g),uo=!1,ol&&(v=mb(i,l,c,g)),fb(s),v}function fb(s){G.H=ah;var i=Dt!==null&&Dt.next!==null;if(zi=0,ln=Dt=tt=null,Jd=!1,$c=0,ll=null,i)throw Error(r(300));s===null||Sn||(s=s.dependencies,s!==null&&Qd(s)&&(Sn=!0))}function mb(s,i,l,c){tt=s;var g=0;do{if(ol&&(ll=null),$c=0,ol=!1,25<=g)throw Error(r(301));if(g+=1,ln=Dt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=XA,v=i(l,c)}while(ol);return v}function HA(){var s=G.H,i=s.useState()[0];return i=typeof i.then=="function"?Gc(i):i,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(tt.flags|=1024),i}function gp(){var s=eh!==0;return eh=0,s}function yp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function vp(s){if(Jd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Jd=!1}zi=0,ln=Dt=tt=null,ol=!1,$c=eh=0,ll=null}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?tt.memoizedState=ln=s:ln=ln.next=s,ln}function cn(){if(Dt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var i=ln===null?tt.memoizedState:ln.next;if(i!==null)ln=i,Dt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ln===null?tt.memoizedState=ln=s:ln=ln.next=s}return ln}function bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gc(s){var i=$c;return $c+=1,ll===null&&(ll=[]),s=ob(ll,s,i),i=tt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Yb:Xb),s}function th(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gc(s);if(s.$$typeof===w)return $n(s)}throw Error(r(438,String(s)))}function xp(s){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=bp(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=V;return i.index++,l}function hi(s,i){return typeof i=="function"?i(s):i}function nh(s){var i=cn();return _p(i,Dt,s)}function _p(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=s.baseQueue,v=c.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}i.baseQueue=g=v,c.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var D=C=null,$=null,te=i,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(bt&fe)===fe:(zi&fe)===fe){var ne=te.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===sl&&(le=!0);else if((zi&ne)===ne){te=te.next,ne===sl&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},$===null?(D=$=fe,C=v):$=$.next=fe,tt.lanes|=ne,Gi|=ne;fe=te.action,uo&&l(v,fe),v=te.hasEagerState?te.eagerState:l(v,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},$===null?(D=$=ne,C=v):$=$.next=ne,tt.lanes|=fe,Gi|=fe;te=te.next}while(te!==null&&te!==i);if($===null?C=v:$.next=D,!Sr(v,s.memoizedState)&&(Sn=!0,le&&(l=il,l!==null)))throw l;s.memoizedState=v,s.baseState=C,s.baseQueue=$,c.lastRenderedState=v}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function wp(s){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=s(v,C.action),C=C.next;while(C!==g);Sr(v,i.memoizedState)||(Sn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function pb(s,i,l){var c=tt,g=cn(),v=Tt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var C=!Sr((Dt||g).memoizedState,l);C&&(g.memoizedState=l,Sn=!0),g=g.queue;var D=vb.bind(null,c,g,s);if(Qc(2048,8,D,[s]),g.getSnapshot!==i||C||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,cl(9,rh(),yb.bind(null,c,g,l,i),null),zt===null)throw Error(r(349));v||(zi&124)!==0||gb(c,i,l)}return l}function gb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=bp(),tt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function yb(s,i,l,c){i.value=l,i.getSnapshot=c,bb(i)&&xb(s)}function vb(s,i,l){return l(function(){bb(i)&&xb(s)})}function bb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Sr(s,l)}catch{return!0}}function xb(s){var i=el(s,2);i!==null&&Or(i,s,2)}function Ep(s){var i=fr();if(typeof s=="function"){var l=s;if(s=l(),uo){wn(!0);try{l()}finally{wn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},i}function _b(s,i,l,c){return s.baseState=l,_p(s,Dt,typeof c=="function"?c:hi)}function $A(s,i,l,c,g){if(ih(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};G.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,wb(i,v)):(v.next=l.next,i.pending=l.next=v)}}function wb(s,i){var l=i.action,c=i.payload,g=s.state;if(i.isTransition){var v=G.T,C={};G.T=C;try{var D=l(g,c),$=G.S;$!==null&&$(C,D),Eb(s,i,D)}catch(te){Tp(s,i,te)}finally{G.T=v}}else try{v=l(g,c),Eb(s,i,v)}catch(te){Tp(s,i,te)}}function Eb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Tb(s,i,c)},function(c){return Tp(s,i,c)}):Tb(s,i,l)}function Tb(s,i,l){i.status="fulfilled",i.value=l,Sb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,wb(s,l)))}function Tp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Sb(i),i=i.next;while(i!==c)}s.action=null}function Sb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Ab(s,i){return i}function Cb(s,i){if(Tt){var l=zt.formState;if(l!==null){e:{var c=tt;if(Tt){if(Wt){t:{for(var g=Wt,v=Ds;g.nodeType!==8;){if(!v){g=null;break t}if(g=cs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Wt=cs(g.nextSibling),c=g.data==="F!";break e}}ao(c)}c=!1}c&&(i=l[0])}}return l=fr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:i},l.queue=c,l=Gb.bind(null,tt,c),c.dispatch=l,c=Ep(!1),v=Rp.bind(null,tt,!1,c.queue),c=fr(),g={state:i,dispatch:null,action:s,pending:null},c.queue=g,l=$A.bind(null,tt,g,v,l),g.dispatch=l,c.memoizedState=s,[i,l,!1]}function Nb(s){var i=cn();return Rb(i,Dt,s)}function Rb(s,i,l){if(i=_p(s,i,Ab)[0],s=nh(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Gc(i)}catch(C){throw C===Uc?Xd:C}else c=i;i=cn();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,cl(9,rh(),GA.bind(null,g,l),null)),[c,v,s]}function GA(s,i){s.action=i}function Ib(s){var i=cn(),l=Dt;if(l!==null)return Rb(i,l,s);cn(),i=i.memoizedState,l=cn();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function cl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=tt.updateQueue,i===null&&(i=bp(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function rh(){return{destroy:void 0,resource:void 0}}function Ob(){return cn().memoizedState}function sh(s,i,l,c){var g=fr();c=c===void 0?null:c,tt.flags|=s,g.memoizedState=cl(1|i,rh(),l,c)}function Qc(s,i,l,c){var g=cn();c=c===void 0?null:c;var v=g.memoizedState.inst;Dt!==null&&c!==null&&mp(c,Dt.memoizedState.deps)?g.memoizedState=cl(i,v,l,c):(tt.flags|=s,g.memoizedState=cl(1|i,v,l,c))}function Mb(s,i){sh(8390656,8,s,i)}function jb(s,i){Qc(2048,8,s,i)}function Db(s,i){return Qc(4,2,s,i)}function Pb(s,i){return Qc(4,4,s,i)}function kb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Lb(s,i,l){l=l!=null?l.concat([s]):null,Qc(4,4,kb.bind(null,i,s),l)}function Sp(){}function Vb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&mp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function zb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&mp(i,c[1]))return c[0];if(c=s(),uo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c}function Ap(s,i,l){return l===void 0||(zi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=Fx(),tt.lanes|=s,Gi|=s,l)}function Ub(s,i,l,c){return Sr(l,i)?l:al.current!==null?(s=Ap(s,l,c),Sr(s,i)||(Sn=!0),s):(zi&42)===0?(Sn=!0,s.memoizedState=l):(s=Fx(),tt.lanes|=s,Gi|=s,i)}function Bb(s,i,l,c,g){var v=ie.p;ie.p=v!==0&&8>v?v:8;var C=G.T,D={};G.T=D,Rp(s,!1,i,l);try{var $=g(),te=G.S;if(te!==null&&te(D,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=FA($,c);Kc(s,i,le,Ir(s))}else Kc(s,i,c,Ir(s))}catch(fe){Kc(s,i,{then:function(){},status:"rejected",reason:fe},Ir())}finally{ie.p=v,G.T=C}}function QA(){}function Cp(s,i,l,c){if(s.tag!==5)throw Error(r(476));var g=Fb(s).queue;Bb(s,g,i,oe,l===null?QA:function(){return qb(s),l(c)})}function Fb(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function qb(s){var i=Fb(s).next.queue;Kc(s,i,{},Ir())}function Np(){return $n(hu)}function Hb(){return cn().memoizedState}function $b(){return cn().memoizedState}function KA(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ir();s=Li(l);var c=Vi(i,s,l);c!==null&&(Or(c,i,l),Fc(c,i,l)),i={cache:sp()},s.payload=i;return}i=i.return}}function YA(s,i,l){var c=Ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ih(s)?Qb(i,l):(l=Km(s,i,l,c),l!==null&&(Or(l,s,c),Kb(l,i,c)))}function Gb(s,i,l){var c=Ir();Kc(s,i,l,c)}function Kc(s,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ih(s))Qb(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var C=i.lastRenderedState,D=v(C,l);if(g.hasEagerState=!0,g.eagerState=D,Sr(D,C))return Fd(s,i,g,0),zt===null&&Bd(),!1}catch{}finally{}if(l=Km(s,i,g,c),l!==null)return Or(l,s,c),Kb(l,i,c),!0}return!1}function Rp(s,i,l,c){if(c={lane:2,revertLane:og(),action:c,hasEagerState:!1,eagerState:null,next:null},ih(s)){if(i)throw Error(r(479))}else i=Km(s,l,c,2),i!==null&&Or(i,s,2)}function ih(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Qb(s,i){ol=Jd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Kb(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,zr(s,l)}}var ah={readContext:$n,use:th,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Yb={readContext:$n,use:th,useCallback:function(s,i){return fr().memoizedState=[s,i===void 0?null:i],s},useContext:$n,useEffect:Mb,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,sh(4194308,4,kb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return sh(4194308,4,s,i)},useInsertionEffect:function(s,i){sh(4,2,s,i)},useMemo:function(s,i){var l=fr();i=i===void 0?null:i;var c=s();if(uo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=fr();if(l!==void 0){var g=l(i);if(uo){wn(!0);try{l(i)}finally{wn(!1)}}}else g=i;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=YA.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=fr();return s={current:s},i.memoizedState=s},useState:function(s){s=Ep(s);var i=s.queue,l=Gb.bind(null,tt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Sp,useDeferredValue:function(s,i){var l=fr();return Ap(l,s,i)},useTransition:function(){var s=Ep(!1);return s=Bb.bind(null,tt,s.queue,!0,!1),fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=tt,g=fr();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),zt===null)throw Error(r(349));(bt&124)!==0||gb(c,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Mb(vb.bind(null,c,v,s),[s]),c.flags|=2048,cl(9,rh(),yb.bind(null,c,v,l,i),null),l},useId:function(){var s=fr(),i=zt.identifierPrefix;if(Tt){var l=ci,c=li;l=(c&~(1<<32-Gt(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=eh++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=qA++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Np,useFormState:Cb,useActionState:Cb,useOptimistic:function(s){var i=fr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Rp.bind(null,tt,!0,l),l.dispatch=i,[s,i]},useMemoCache:xp,useCacheRefresh:function(){return fr().memoizedState=KA.bind(null,tt)}},Xb={readContext:$n,use:th,useCallback:Vb,useContext:$n,useEffect:jb,useImperativeHandle:Lb,useInsertionEffect:Db,useLayoutEffect:Pb,useMemo:zb,useReducer:nh,useRef:Ob,useState:function(){return nh(hi)},useDebugValue:Sp,useDeferredValue:function(s,i){var l=cn();return Ub(l,Dt.memoizedState,s,i)},useTransition:function(){var s=nh(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Gc(s),i]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:Np,useFormState:Nb,useActionState:Nb,useOptimistic:function(s,i){var l=cn();return _b(l,Dt,s,i)},useMemoCache:xp,useCacheRefresh:$b},XA={readContext:$n,use:th,useCallback:Vb,useContext:$n,useEffect:jb,useImperativeHandle:Lb,useInsertionEffect:Db,useLayoutEffect:Pb,useMemo:zb,useReducer:wp,useRef:Ob,useState:function(){return wp(hi)},useDebugValue:Sp,useDeferredValue:function(s,i){var l=cn();return Dt===null?Ap(l,s,i):Ub(l,Dt.memoizedState,s,i)},useTransition:function(){var s=wp(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Gc(s),i]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:Np,useFormState:Ib,useActionState:Ib,useOptimistic:function(s,i){var l=cn();return Dt!==null?_b(l,Dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:xp,useCacheRefresh:$b},ul=null,Yc=0;function oh(s){var i=Yc;return Yc+=1,ul===null&&(ul=[]),ob(ul,s,i)}function Xc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function lh(s,i){throw i.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Wb(s){var i=s._init;return i(s._payload)}function Zb(s){function i(X,K){if(s){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=oi(X,K),X.index=0,X.sibling=null,X}function v(X,K,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,J,de){return K===null||K.tag!==6?(K=Xm(J,X.mode,de),K.return=X,K):(K=g(K,J),K.return=X,K)}function $(X,K,J,de){var Re=J.type;return Re===A?le(X,K,J.props.children,de,J.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===O&&Wb(Re)===K.type)?(K=g(K,J.props),Xc(K,J),K.return=X,K):(K=Hd(J.type,J.key,J.props,null,X.mode,de),Xc(K,J),K.return=X,K)}function te(X,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Wm(J,X.mode,de),K.return=X,K):(K=g(K,J.children||[]),K.return=X,K)}function le(X,K,J,de,Re){return K===null||K.tag!==7?(K=no(J,X.mode,de,Re),K.return=X,K):(K=g(K,J),K.return=X,K)}function fe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Xm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=Hd(K.type,K.key,K.props,null,X.mode,J),Xc(J,K),J.return=X,J;case T:return K=Wm(K,X.mode,J),K.return=X,K;case O:var de=K._init;return K=de(K._payload),fe(X,K,J)}if(pe(K)||U(K))return K=no(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return fe(X,oh(K),J);if(K.$$typeof===w)return fe(X,Kd(X,K),J);lh(X,K)}return null}function ne(X,K,J,de){var Re=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:D(X,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Re?$(X,K,J,de):null;case T:return J.key===Re?te(X,K,J,de):null;case O:return Re=J._init,J=Re(J._payload),ne(X,K,J,de)}if(pe(J)||U(J))return Re!==null?null:le(X,K,J,de,null);if(typeof J.then=="function")return ne(X,K,oh(J),de);if(J.$$typeof===w)return ne(X,K,Kd(X,J),de);lh(X,J)}return null}function re(X,K,J,de,Re){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(J)||null,D(K,X,""+de,Re);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return X=X.get(de.key===null?J:de.key)||null,$(K,X,de,Re);case T:return X=X.get(de.key===null?J:de.key)||null,te(K,X,de,Re);case O:var st=de._init;return de=st(de._payload),re(X,K,J,de,Re)}if(pe(de)||U(de))return X=X.get(J)||null,le(K,X,de,Re,null);if(typeof de.then=="function")return re(X,K,J,oh(de),Re);if(de.$$typeof===w)return re(X,K,J,Kd(K,de),Re);lh(K,de)}return null}function Ge(X,K,J,de){for(var Re=null,st=null,ke=K,qe=K=0,Cn=null;ke!==null&&qe<J.length;qe++){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var Et=ne(X,ke,J[qe],de);if(Et===null){ke===null&&(ke=Cn);break}s&&ke&&Et.alternate===null&&i(X,ke),K=v(Et,K,qe),st===null?Re=Et:st.sibling=Et,st=Et,ke=Cn}if(qe===J.length)return l(X,ke),Tt&&so(X,qe),Re;if(ke===null){for(;qe<J.length;qe++)ke=fe(X,J[qe],de),ke!==null&&(K=v(ke,K,qe),st===null?Re=ke:st.sibling=ke,st=ke);return Tt&&so(X,qe),Re}for(ke=c(ke);qe<J.length;qe++)Cn=re(ke,X,qe,J[qe],de),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?qe:Cn.key),K=v(Cn,K,qe),st===null?Re=Cn:st.sibling=Cn,st=Cn);return s&&ke.forEach(function(ta){return i(X,ta)}),Tt&&so(X,qe),Re}function Be(X,K,J,de){if(J==null)throw Error(r(151));for(var Re=null,st=null,ke=K,qe=K=0,Cn=null,Et=J.next();ke!==null&&!Et.done;qe++,Et=J.next()){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var ta=ne(X,ke,Et.value,de);if(ta===null){ke===null&&(ke=Cn);break}s&&ke&&ta.alternate===null&&i(X,ke),K=v(ta,K,qe),st===null?Re=ta:st.sibling=ta,st=ta,ke=Cn}if(Et.done)return l(X,ke),Tt&&so(X,qe),Re;if(ke===null){for(;!Et.done;qe++,Et=J.next())Et=fe(X,Et.value,de),Et!==null&&(K=v(Et,K,qe),st===null?Re=Et:st.sibling=Et,st=Et);return Tt&&so(X,qe),Re}for(ke=c(ke);!Et.done;qe++,Et=J.next())Et=re(ke,X,qe,Et.value,de),Et!==null&&(s&&Et.alternate!==null&&ke.delete(Et.key===null?qe:Et.key),K=v(Et,K,qe),st===null?Re=Et:st.sibling=Et,st=Et);return s&&ke.forEach(function(WC){return i(X,WC)}),Tt&&so(X,qe),Re}function kt(X,K,J,de){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Re=J.key;K!==null;){if(K.key===Re){if(Re=J.type,Re===A){if(K.tag===7){l(X,K.sibling),de=g(K,J.props.children),de.return=X,X=de;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===O&&Wb(Re)===K.type){l(X,K.sibling),de=g(K,J.props),Xc(de,J),de.return=X,X=de;break e}l(X,K);break}else i(X,K);K=K.sibling}J.type===A?(de=no(J.props.children,X.mode,de,J.key),de.return=X,X=de):(de=Hd(J.type,J.key,J.props,null,X.mode,de),Xc(de,J),de.return=X,X=de)}return C(X);case T:e:{for(Re=J.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),de=g(K,J.children||[]),de.return=X,X=de;break e}else{l(X,K);break}else i(X,K);K=K.sibling}de=Wm(J,X.mode,de),de.return=X,X=de}return C(X);case O:return Re=J._init,J=Re(J._payload),kt(X,K,J,de)}if(pe(J))return Ge(X,K,J,de);if(U(J)){if(Re=U(J),typeof Re!="function")throw Error(r(150));return J=Re.call(J),Be(X,K,J,de)}if(typeof J.then=="function")return kt(X,K,oh(J),de);if(J.$$typeof===w)return kt(X,K,Kd(X,J),de);lh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),de=g(K,J),de.return=X,X=de):(l(X,K),de=Xm(J,X.mode,de),de.return=X,X=de),C(X)):l(X,K)}return function(X,K,J,de){try{Yc=0;var Re=kt(X,K,J,de);return ul=null,Re}catch(ke){if(ke===Uc||ke===Xd)throw ke;var st=Ar(29,ke,null,X.mode);return st.lanes=de,st.return=X,st}finally{}}}var dl=Zb(!0),Jb=Zb(!1),Xr=ae(null),Ps=null;function Ui(s){var i=s.alternate;ge(vn,vn.current&1),ge(Xr,s),Ps===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ps=s)}function ex(s){if(s.tag===22){if(ge(vn,vn.current),ge(Xr,s),Ps===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ps=s)}}else Bi()}function Bi(){ge(vn,vn.current),ge(Xr,Xr.current)}function fi(s){ve(Xr),Ps===s&&(Ps=null),ve(vn)}var vn=ae(0);function ch(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||bg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ip(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Op={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Fc(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Fc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Ir(),c=Li(l);c.tag=2,i!=null&&(c.callback=i),i=Vi(s,c,l),i!==null&&(Or(i,s,l),Fc(i,s,l))}};function tx(s,i,l,c,g,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,C):i.prototype&&i.prototype.isPureReactComponent?!Mc(l,c)||!Mc(g,v):!0}function nx(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&Op.enqueueReplaceState(i,i.state,null)}function ho(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var uh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function rx(s){uh(s)}function sx(s){console.error(s)}function ix(s){uh(s)}function dh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function ax(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Mp(s,i,l){return l=Li(l),l.tag=3,l.payload={element:null},l.callback=function(){dh(s,i)},l}function ox(s){return s=Li(s),s.tag=3,s}function lx(s,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;s.payload=function(){return g(v)},s.callback=function(){ax(i,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){ax(i,l,c),typeof g!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function WA(s,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Lc(i,l,g,!0),l=Xr.current,l!==null){switch(l.tag){case 13:return Ps===null?ng():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===op?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),sg(s,c,g)),!1;case 22:return l.flags|=65536,c===op?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),sg(s,c,g)),!1}throw Error(r(435,l.tag))}return sg(s,c,g),ng(),!1}if(Tt)return i=Xr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==ep&&(s=Error(r(422),{cause:c}),kc(Gr(s,l)))):(c!==ep&&(i=Error(r(423),{cause:c}),kc(Gr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Gr(c,l),g=Mp(s.stateNode,c,g),up(s,g),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:c});if(v=Gr(v,l),ru===null?ru=[v]:ru.push(v),Zt!==4&&(Zt=2),i===null)return!0;c=Gr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Mp(l.stateNode,c,s),up(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ox(g),lx(g,s,l,c),up(l,g),!1}l=l.return}while(l!==null);return!1}var cx=Error(r(461)),Sn=!1;function kn(s,i,l,c){i.child=s===null?Jb(i,null,l,c):dl(i,s.child,l,c)}function ux(s,i,l,c,g){l=l.render;var v=i.ref;if("ref"in c){var C={};for(var D in c)D!=="ref"&&(C[D]=c[D])}else C=c;return lo(i),c=pp(s,i,l,C,v,g),D=gp(),s!==null&&!Sn?(yp(s,i,g),mi(s,i,g)):(Tt&&D&&Zm(i),i.flags|=1,kn(s,i,c,g),i.child)}function dx(s,i,l,c,g){if(s===null){var v=l.type;return typeof v=="function"&&!Ym(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,hx(s,i,v,c,g)):(s=Hd(l.type,null,c,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!Up(s,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Mc,l(C,c)&&s.ref===i.ref)return mi(s,i,g)}return i.flags|=1,s=oi(v,c),s.ref=i.ref,s.return=i,i.child=s}function hx(s,i,l,c,g){if(s!==null){var v=s.memoizedProps;if(Mc(v,c)&&s.ref===i.ref)if(Sn=!1,i.pendingProps=c=v,Up(s,g))(s.flags&131072)!==0&&(Sn=!0);else return i.lanes=s.lanes,mi(s,i,g)}return jp(s,i,l,c,g)}function fx(s,i,l){var c=i.pendingProps,g=c.children,v=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return mx(s,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yd(i,v!==null?v.cachePool:null),v!==null?hb(i,v):hp(),ex(i);else return i.lanes=i.childLanes=536870912,mx(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Yd(i,v.cachePool),hb(i,v),Bi(),i.memoizedState=null):(s!==null&&Yd(i,null),hp(),Bi());return kn(s,i,g,l),i.child}function mx(s,i,l,c){var g=ap();return g=g===null?null:{parent:yn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&Yd(i,null),hp(),ex(i),s!==null&&Lc(s,i,c,!0),null}function hh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function jp(s,i,l,c,g){return lo(i),l=pp(s,i,l,c,void 0,g),c=gp(),s!==null&&!Sn?(yp(s,i,g),mi(s,i,g)):(Tt&&c&&Zm(i),i.flags|=1,kn(s,i,l,g),i.child)}function px(s,i,l,c,g,v){return lo(i),i.updateQueue=null,l=mb(i,c,l,g),fb(s),c=gp(),s!==null&&!Sn?(yp(s,i,v),mi(s,i,v)):(Tt&&c&&Zm(i),i.flags|=1,kn(s,i,l,v),i.child)}function gx(s,i,l,c,g){if(lo(i),i.stateNode===null){var v=tl,C=l.contextType;typeof C=="object"&&C!==null&&(v=$n(C)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Op,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},lp(i),C=l.contextType,v.context=typeof C=="object"&&C!==null?$n(C):tl,v.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Ip(i,l,C,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Op.enqueueReplaceState(v,v.state,null),Hc(i,c,v,g),qc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){v=i.stateNode;var D=i.memoizedProps,$=ho(l,D);v.props=$;var te=v.context,le=l.contextType;C=tl,typeof le=="object"&&le!==null&&(C=$n(le));var fe=l.getDerivedStateFromProps;le=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||te!==C)&&nx(i,v,c,C),ki=!1;var ne=i.memoizedState;v.state=ne,Hc(i,c,v,g),qc(),te=i.memoizedState,D||ne!==te||ki?(typeof fe=="function"&&(Ip(i,l,fe,c),te=i.memoizedState),($=ki||tx(i,l,$,c,ne,te,C))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),v.props=c,v.state=te,v.context=C,c=$):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,cp(s,i),C=i.memoizedProps,le=ho(l,C),v.props=le,fe=i.pendingProps,ne=v.context,te=l.contextType,$=tl,typeof te=="object"&&te!==null&&($=$n(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==fe||ne!==$)&&nx(i,v,c,$),ki=!1,ne=i.memoizedState,v.state=ne,Hc(i,c,v,g),qc();var re=i.memoizedState;C!==fe||ne!==re||ki||s!==null&&s.dependencies!==null&&Qd(s.dependencies)?(typeof D=="function"&&(Ip(i,l,D,c),re=i.memoizedState),(le=ki||tx(i,l,le,c,ne,re,$)||s!==null&&s.dependencies!==null&&Qd(s.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,$)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),v.props=c,v.state=re,v.context=$,c=le):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),c=!1)}return v=c,hh(s,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&c?(i.child=dl(i,s.child,null,g),i.child=dl(i,null,l,g)):kn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=mi(s,i,g),s}function yx(s,i,l,c){return Pc(),i.flags|=256,kn(s,i,l,c),i.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(s){return{baseLanes:s,cachePool:sb()}}function kp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Wr),s}function vx(s,i,l){var c=i.pendingProps,g=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(vn.current&2)!==0),C&&(g=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,s===null){if(Tt){if(g?Ui(i):Bi(),Tt){var D=Wt,$;if($=D){e:{for($=D,D=Ds;$.nodeType!==8;){if(!D){D=null;break e}if($=cs($.nextSibling),$===null){D=null;break e}}D=$}D!==null?(i.memoizedState={dehydrated:D,treeContext:ro!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},$=Ar(18,null,null,0),$.stateNode=D,$.return=i,i.child=$,ar=i,Wt=null,$=!0):$=!1}$||ao(i)}if(D=i.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return bg(D)?i.lanes=32:i.lanes=536870912,null;fi(i)}return D=c.children,c=c.fallback,g?(Bi(),g=i.mode,D=fh({mode:"hidden",children:D},g),c=no(c,g,l,null),D.return=i,c.return=i,D.sibling=c,i.child=D,g=i.child,g.memoizedState=Pp(l),g.childLanes=kp(s,C,l),i.memoizedState=Dp,c):(Ui(i),Lp(i,D))}if($=s.memoizedState,$!==null&&(D=$.dehydrated,D!==null)){if(v)i.flags&256?(Ui(i),i.flags&=-257,i=Vp(s,i,l)):i.memoizedState!==null?(Bi(),i.child=s.child,i.flags|=128,i=null):(Bi(),g=c.fallback,D=i.mode,c=fh({mode:"visible",children:c.children},D),g=no(g,D,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,dl(i,s.child,null,l),c=i.child,c.memoizedState=Pp(l),c.childLanes=kp(s,C,l),i.memoizedState=Dp,i=g);else if(Ui(i),bg(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var te=C.dgst;C=te,c=Error(r(419)),c.stack="",c.digest=C,kc({value:c,source:null,stack:null}),i=Vp(s,i,l)}else if(Sn||Lc(s,i,l,!1),C=(l&s.childLanes)!==0,Sn||C){if(C=zt,C!==null&&(c=l&-l,c=(c&42)!==0?1:_r(c),c=(c&(C.suspendedLanes|l))!==0?0:c,c!==0&&c!==$.retryLane))throw $.retryLane=c,el(s,c),Or(C,s,c),cx;D.data==="$?"||ng(),i=Vp(s,i,l)}else D.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=$.treeContext,Wt=cs(D.nextSibling),ar=i,Tt=!0,io=null,Ds=!1,s!==null&&(Kr[Yr++]=li,Kr[Yr++]=ci,Kr[Yr++]=ro,li=s.id,ci=s.overflow,ro=i),i=Lp(i,c.children),i.flags|=4096);return i}return g?(Bi(),g=c.fallback,D=i.mode,$=s.child,te=$.sibling,c=oi($,{mode:"hidden",children:c.children}),c.subtreeFlags=$.subtreeFlags&65011712,te!==null?g=oi(te,g):(g=no(g,D,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,D=s.child.memoizedState,D===null?D=Pp(l):($=D.cachePool,$!==null?(te=yn._currentValue,$=$.parent!==te?{parent:te,pool:te}:$):$=sb(),D={baseLanes:D.baseLanes|l,cachePool:$}),g.memoizedState=D,g.childLanes=kp(s,C,l),i.memoizedState=Dp,c):(Ui(i),l=s.child,s=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(C=i.deletions,C===null?(i.deletions=[s],i.flags|=16):C.push(s)),i.child=l,i.memoizedState=null,l)}function Lp(s,i){return i=fh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function fh(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Vp(s,i,l){return dl(i,s.child,null,l),s=Lp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function bx(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),np(s.return,i,l)}function zp(s,i,l,c,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=g)}function xx(s,i,l){var c=i.pendingProps,g=c.revealOrder,v=c.tail;if(kn(s,i,c.children,l),c=vn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bx(s,l,i);else if(s.tag===19)bx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ge(vn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&ch(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),zp(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&ch(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}zp(i,!0,l,null,v);break;case"together":zp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Gi|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Lc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=oi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=oi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Up(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Qd(s)))}function ZA(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Pi(i,yn,s.memoizedState.cache),Pc();break;case 27:case 5:Ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ui(i),i.flags|=128,null):(l&i.child.childLanes)!==0?vx(s,i,l):(Ui(i),s=mi(s,i,l),s!==null?s.sibling:null);Ui(i);break;case 19:var g=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Lc(s,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return xx(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(vn,vn.current),c)break;return null;case 22:case 23:return i.lanes=0,fx(s,i,l);case 24:Pi(i,yn,s.memoizedState.cache)}return mi(s,i,l)}function _x(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Sn=!0;else{if(!Up(s,l)&&(i.flags&128)===0)return Sn=!1,ZA(s,i,l);Sn=(s.flags&131072)!==0}else Sn=!1,Tt&&(i.flags&1048576)!==0&&Wv(i,Gd,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")Ym(c)?(s=ho(c,s),i.tag=1,i=gx(null,i,c,s,l)):(i.tag=0,i=jp(null,i,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===M){i.tag=11,i=ux(null,i,c,s,l);break e}else if(g===z){i.tag=14,i=dx(null,i,c,s,l);break e}}throw i=ce(c)||c,Error(r(306,i,""))}}return i;case 0:return jp(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=ho(c,i.pendingProps),gx(s,i,c,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;g=v.element,cp(s,i),Hc(i,c,null,l);var C=i.memoizedState;if(c=C.cache,Pi(i,yn,c),c!==v.cache&&rp(i,[yn],l,!0),qc(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=yx(s,i,c,l);break e}else if(c!==g){g=Gr(Error(r(424)),i),kc(g),i=yx(s,i,c,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wt=cs(s.firstChild),ar=i,Tt=!0,io=null,Ds=!0,l=Jb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Pc(),c===g){i=mi(s,i,l);break e}kn(s,i,c,l)}i=i.child}return i;case 26:return hh(s,i),s===null?(l=S_(i.type,null,i.pendingProps,null))?i.memoizedState=l:Tt||(l=i.type,s=i.pendingProps,c=Ch(Ee.current).createElement(l),c[he]=i,c[xe]=s,Vn(c,l,s),ft(c),i.stateNode=c):i.memoizedState=S_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&Tt&&(c=i.stateNode=w_(i.type,i.pendingProps,Ee.current),ar=i,Ds=!0,g=Wt,Xi(i.type)?(xg=g,Wt=cs(c.firstChild)):Wt=g),kn(s,i,i.pendingProps.children,l),hh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Tt&&((g=c=Wt)&&(c=AC(c,i.type,i.pendingProps,Ds),c!==null?(i.stateNode=c,ar=i,Wt=cs(c.firstChild),Ds=!1,g=!0):g=!1),g||ao(i)),Ze(i),g=i.type,v=i.pendingProps,C=s!==null?s.memoizedProps:null,c=v.children,gg(g,v)?c=null:C!==null&&gg(g,C)&&(i.flags|=32),i.memoizedState!==null&&(g=pp(s,i,HA,null,null,l),hu._currentValue=g),hh(s,i),kn(s,i,c,l),i.child;case 6:return s===null&&Tt&&((s=l=Wt)&&(l=CC(l,i.pendingProps,Ds),l!==null?(i.stateNode=l,ar=i,Wt=null,s=!0):s=!1),s||ao(i)),null;case 13:return vx(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=dl(i,null,c,l):kn(s,i,c,l),i.child;case 11:return ux(s,i,i.type,i.pendingProps,l);case 7:return kn(s,i,i.pendingProps,l),i.child;case 8:return kn(s,i,i.pendingProps.children,l),i.child;case 12:return kn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Pi(i,i.type,c.value),kn(s,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,lo(i),g=$n(g),c=c(g),i.flags|=1,kn(s,i,c,l),i.child;case 14:return dx(s,i,i.type,i.pendingProps,l);case 15:return hx(s,i,i.type,i.pendingProps,l);case 19:return xx(s,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},s===null?(l=fh(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(s.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return fx(s,i,l);case 24:return lo(i),c=$n(yn),s===null?(g=ap(),g===null&&(g=zt,v=sp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:c,cache:g},lp(i),Pi(i,yn,g)):((s.lanes&l)!==0&&(cp(s,i),Hc(i,null,null,l),qc()),g=s.memoizedState,v=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Pi(i,yn,c)):(c=v.cache,Pi(i,yn,c),c!==g.cache&&rp(i,[yn],l,!0))),kn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(s){s.flags|=4}function wx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!I_(i)){if(i=Xr.current,i!==null&&((bt&4194048)===bt?Ps!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==Ps))throw Bc=op,ib;s.flags|=8192}}function mh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?nr():536870912,s.lanes|=i,pl|=i)}function Wc(s,i){if(!Tt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Kt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function JA(s,i,l){var c=i.pendingProps;switch(Jm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(yn),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Dc(i)?pi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,eb())),Kt(i),null;case 26:return l=i.memoizedState,s===null?(pi(i),l!==null?(Kt(i),wx(i,l)):(Kt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(pi(i),Kt(i),wx(i,l)):(Kt(i),i.flags&=-16777217):(s.memoizedProps!==c&&pi(i),Kt(i),i.flags&=-16777217),null;case 27:Rt(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}s=Se.current,Dc(i)?Zv(i):(s=w_(g,c,l),i.stateNode=s,pi(i))}return Kt(i),null;case 5:if(Rt(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}if(s=Se.current,Dc(i))Zv(i);else{switch(g=Ch(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[he]=i,s[xe]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Vn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pi(i)}}return Kt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Dc(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,g=ar,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[he]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||p_(s.nodeValue,l)),s||ao(i)}else s=Ch(s).createTextNode(c),s[he]=i,i.stateNode=s}return Kt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Dc(i),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[he]=i}else Pc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),g=!1}else g=eb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(fi(i),i):(fi(i),null)}if(fi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),mh(i,i.updateQueue),Kt(i),null;case 4:return it(),s===null&&dg(i.stateNode.containerInfo),Kt(i),null;case 10:return di(i.type),Kt(i),null;case 19:if(ve(vn),g=i.memoizedState,g===null)return Kt(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)Wc(g,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=ch(s),v!==null){for(i.flags|=128,Wc(g,!1),s=v.updateQueue,i.updateQueue=s,mh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Xv(l,s),l=l.sibling;return ge(vn,vn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Xt()>yh&&(i.flags|=128,c=!0,Wc(g,!1),i.lanes=4194304)}else{if(!c)if(s=ch(v),s!==null){if(i.flags|=128,c=!0,s=s.updateQueue,i.updateQueue=s,mh(i,s),Wc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Tt)return Kt(i),null}else 2*Xt()-g.renderingStartTime>yh&&l!==536870912&&(i.flags|=128,c=!0,Wc(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Xt(),i.sibling=null,s=vn.current,ge(vn,c?s&1|2:s&1),i):(Kt(i),null);case 22:case 23:return fi(i),fp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),l=i.updateQueue,l!==null&&mh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&ve(co),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(yn),Kt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function eC(s,i){switch(Jm(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return di(yn),it(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Rt(i),null;case 13:if(fi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Pc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(vn),null;case 4:return it(),null;case 10:return di(i.type),null;case 22:case 23:return fi(i),fp(),s!==null&&ve(co),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return di(yn),null;case 25:return null;default:return null}}function Ex(s,i){switch(Jm(i),i.tag){case 3:di(yn),it();break;case 26:case 27:case 5:Rt(i);break;case 4:it();break;case 13:fi(i);break;case 19:ve(vn);break;case 10:di(i.type);break;case 22:case 23:fi(i),fp(),s!==null&&ve(co);break;case 24:di(yn)}}function Zc(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var v=l.create,C=l.inst;c=v(),C.destroy=c}l=l.next}while(l!==g)}}catch(D){Vt(i,i.return,D)}}function Fi(s,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&s)===s){var C=c.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,g=i;var $=l,te=D;try{te()}catch(le){Vt(g,$,le)}}}c=c.next}while(c!==v)}}catch(le){Vt(i,i.return,le)}}function Tx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{db(i,l)}catch(c){Vt(s,s.return,c)}}}function Sx(s,i,l){l.props=ho(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(s,i,c)}}function Jc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){Vt(s,i,g)}}function ks(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Vt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(s,i,g)}else l.current=null}function Ax(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Vt(s,s.return,g)}}function Bp(s,i,l){try{var c=s.stateNode;_C(c,s.type,l,i),c[xe]=i}catch(g){Vt(s,s.return,g)}}function Cx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xi(s.type)||s.tag===4}function Fp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qp(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ah));else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(qp(s,i,l),s=s.sibling;s!==null;)qp(s,i,l),s=s.sibling}function ph(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(ph(s,i,l),s=s.sibling;s!==null;)ph(s,i,l),s=s.sibling}function Nx(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Vn(i,c,l),i[he]=s,i[xe]=l}catch(v){Vt(s,s.return,v)}}var gi=!1,tn=!1,Hp=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,An=null;function tC(s,i){if(s=s.containerInfo,mg=jh,s=Uv(s),Fm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,D=-1,$=-1,te=0,le=0,fe=s,ne=null;t:for(;;){for(var re;fe!==l||g!==0&&fe.nodeType!==3||(D=C+g),fe!==v||c!==0&&fe.nodeType!==3||($=C+c),fe.nodeType===3&&(C+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===s)break t;if(ne===l&&++te===g&&(D=C),ne===v&&++le===c&&($=C),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=D===-1||$===-1?null:{start:D,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(pg={focusedElem:s,selectionRange:l},jh=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ge=ho(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ge,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)vg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":vg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function Ix(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:qi(s,l),c&4&&Zc(5,l);break;case 1:if(qi(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(C){Vt(l,l.return,C)}else{var g=ho(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Vt(l,l.return,C)}}c&64&&Tx(l),c&512&&Jc(l,l.return);break;case 3:if(qi(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{db(s,i)}catch(C){Vt(l,l.return,C)}}break;case 27:i===null&&c&4&&Nx(l);case 26:case 5:qi(s,l),i===null&&c&4&&Ax(l),c&512&&Jc(l,l.return);break;case 12:qi(s,l);break;case 13:qi(s,l),c&4&&jx(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=uC.bind(null,l),NC(s,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||tn,g=gi;var v=tn;gi=c,(tn=i)&&!v?Hi(s,l,(l.subtreeFlags&8772)!==0):qi(s,l),gi=g,tn=v}break;case 30:break;default:qi(s,l)}}function Ox(s){var i=s.alternate;i!==null&&(s.alternate=null,Ox(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&De(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,mr=!1;function yi(s,i,l){for(l=l.child;l!==null;)Mx(s,i,l),l=l.sibling}function Mx(s,i,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:tn||ks(l,i),yi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||ks(l,i);var c=$t,g=mr;Xi(l.type)&&($t=l.stateNode,mr=!1),yi(s,i,l),lu(l.stateNode),$t=c,mr=g;break;case 5:tn||ks(l,i);case 6:if(c=$t,g=mr,$t=null,yi(s,i,l),$t=c,mr=g,$t!==null)if(mr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(l.stateNode)}catch(v){Vt(l,i,v)}else try{$t.removeChild(l.stateNode)}catch(v){Vt(l,i,v)}break;case 18:$t!==null&&(mr?(s=$t,x_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),gu(s)):x_($t,l.stateNode));break;case 4:c=$t,g=mr,$t=l.stateNode.containerInfo,mr=!0,yi(s,i,l),$t=c,mr=g;break;case 0:case 11:case 14:case 15:tn||Fi(2,l,i),tn||Fi(4,l,i),yi(s,i,l);break;case 1:tn||(ks(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Sx(l,i,c)),yi(s,i,l);break;case 21:yi(s,i,l);break;case 22:tn=(c=tn)||l.memoizedState!==null,yi(s,i,l),tn=c;break;default:yi(s,i,l)}}function jx(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{gu(s)}catch(l){Vt(i,i.return,l)}}function nC(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Rx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Rx),i;default:throw Error(r(435,s.tag))}}function $p(s,i){var l=nC(s);i.forEach(function(c){var g=dC.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Cr(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=s,C=i,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(Xi(D.type)){$t=D.stateNode,mr=!1;break e}break;case 5:$t=D.stateNode,mr=!1;break e;case 3:case 4:$t=D.stateNode.containerInfo,mr=!0;break e}D=D.return}if($t===null)throw Error(r(160));Mx(v,C,g),$t=null,mr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Dx(i,s),i=i.sibling}var ls=null;function Dx(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Cr(i,s),Nr(s),c&4&&(Fi(3,s,s.return),Zc(3,s),Fi(5,s,s.return));break;case 1:Cr(i,s),Nr(s),c&512&&(tn||l===null||ks(l,l.return)),c&64&&gi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ls;if(Cr(i,s),Nr(s),c&512&&(tn||l===null||ks(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[he]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Vn(v,c,l),v[he]=s,ft(v),c=v;break e;case"link":var C=N_("link","href",g).get(c+(l.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(D,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;case"meta":if(C=N_("meta","content",g).get(c+(l.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(D,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[he]=s,ft(v),c=v}s.stateNode=c}else R_(g,s.type,s.stateNode);else s.stateNode=C_(g,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?R_(g,s.type,s.stateNode):C_(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Bp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Cr(i,s),Nr(s),c&512&&(tn||l===null||ks(l,l.return)),l!==null&&c&4&&Bp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Cr(i,s),Nr(s),c&512&&(tn||l===null||ks(l,l.return)),s.flags&32){g=s.stateNode;try{Fr(g,"")}catch(re){Vt(s,s.return,re)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,Bp(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Hp=!0);break;case 6:if(Cr(i,s),Nr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(re){Vt(s,s.return,re)}}break;case 3:if(Ih=null,g=ls,ls=Nh(i.containerInfo),Cr(i,s),ls=g,Nr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{gu(i.containerInfo)}catch(re){Vt(s,s.return,re)}Hp&&(Hp=!1,Px(s));break;case 4:c=ls,ls=Nh(s.stateNode.containerInfo),Cr(i,s),Nr(s),ls=c;break;case 12:Cr(i,s),Nr(s);break;case 13:Cr(i,s),Nr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wp=Xt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,$p(s,c)));break;case 22:g=s.memoizedState!==null;var $=l!==null&&l.memoizedState!==null,te=gi,le=tn;if(gi=te||g,tn=le||$,Cr(i,s),tn=le,gi=te,Nr(s),c&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||$||gi||tn||fo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){$=l=i;try{if(v=$.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=$.stateNode;var fe=$.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt($,$.return,re)}}}else if(i.tag===6){if(l===null){$=i;try{$.stateNode.nodeValue=g?"":$.memoizedProps}catch(re){Vt($,$.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,$p(s,l))));break;case 19:Cr(i,s),Nr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,$p(s,c)));break;case 30:break;case 21:break;default:Cr(i,s),Nr(s)}}function Nr(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(Cx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Fp(s);ph(s,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(Fr(C,""),l.flags&=-33);var D=Fp(s);ph(s,D,C);break;case 3:case 4:var $=l.stateNode.containerInfo,te=Fp(s);qp(s,te,$);break;default:throw Error(r(161))}}catch(le){Vt(s,s.return,le)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Px(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Px(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function qi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ix(s,i.alternate,i),i=i.sibling}function fo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),fo(i);break;case 1:ks(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Sx(i,i.return,l),fo(i);break;case 27:lu(i.stateNode);case 26:case 5:ks(i,i.return),fo(i);break;case 22:i.memoizedState===null&&fo(i);break;case 30:fo(i);break;default:fo(i)}s=s.sibling}}function Hi(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=s,v=i,C=v.flags;switch(v.tag){case 0:case 11:case 15:Hi(g,v,l),Zc(4,v);break;case 1:if(Hi(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Vt(c,c.return,te)}if(c=v,g=c.updateQueue,g!==null){var D=c.stateNode;try{var $=g.shared.hiddenCallbacks;if($!==null)for(g.shared.hiddenCallbacks=null,g=0;g<$.length;g++)ub($[g],D)}catch(te){Vt(c,c.return,te)}}l&&C&64&&Tx(v),Jc(v,v.return);break;case 27:Nx(v);case 26:case 5:Hi(g,v,l),l&&c===null&&C&4&&Ax(v),Jc(v,v.return);break;case 12:Hi(g,v,l);break;case 13:Hi(g,v,l),l&&C&4&&jx(g,v);break;case 22:v.memoizedState===null&&Hi(g,v,l),Jc(v,v.return);break;case 30:break;default:Hi(g,v,l)}i=i.sibling}}function Gp(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Vc(l))}function Qp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Vc(s))}function Ls(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kx(s,i,l,c),i=i.sibling}function kx(s,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ls(s,i,l,c),g&2048&&Zc(9,i);break;case 1:Ls(s,i,l,c);break;case 3:Ls(s,i,l,c),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Vc(s)));break;case 12:if(g&2048){Ls(s,i,l,c),s=i.stateNode;try{var v=i.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){Vt(i,i.return,$)}}else Ls(s,i,l,c);break;case 13:Ls(s,i,l,c);break;case 23:break;case 22:v=i.stateNode,C=i.alternate,i.memoizedState!==null?v._visibility&2?Ls(s,i,l,c):eu(s,i):v._visibility&2?Ls(s,i,l,c):(v._visibility|=2,hl(s,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&Gp(C,i);break;case 24:Ls(s,i,l,c),g&2048&&Qp(i.alternate,i);break;default:Ls(s,i,l,c)}}function hl(s,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,C=i,D=l,$=c,te=C.flags;switch(C.tag){case 0:case 11:case 15:hl(v,C,D,$,g),Zc(8,C);break;case 23:break;case 22:var le=C.stateNode;C.memoizedState!==null?le._visibility&2?hl(v,C,D,$,g):eu(v,C):(le._visibility|=2,hl(v,C,D,$,g)),g&&te&2048&&Gp(C.alternate,C);break;case 24:hl(v,C,D,$,g),g&&te&2048&&Qp(C.alternate,C);break;default:hl(v,C,D,$,g)}i=i.sibling}}function eu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,g=c.flags;switch(c.tag){case 22:eu(l,c),g&2048&&Gp(c.alternate,c);break;case 24:eu(l,c),g&2048&&Qp(c.alternate,c);break;default:eu(l,c)}i=i.sibling}}var tu=8192;function fl(s){if(s.subtreeFlags&tu)for(s=s.child;s!==null;)Lx(s),s=s.sibling}function Lx(s){switch(s.tag){case 26:fl(s),s.flags&tu&&s.memoizedState!==null&&BC(ls,s.memoizedState,s.memoizedProps);break;case 5:fl(s);break;case 3:case 4:var i=ls;ls=Nh(s.stateNode.containerInfo),fl(s),ls=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=tu,tu=16777216,fl(s),tu=i):fl(s));break;default:fl(s)}}function Vx(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function nu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Ux(c,s)}Vx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zx(s),s=s.sibling}function zx(s){switch(s.tag){case 0:case 11:case 15:nu(s),s.flags&2048&&Fi(9,s,s.return);break;case 3:nu(s);break;case 12:nu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,gh(s)):nu(s);break;default:nu(s)}}function gh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Ux(c,s)}Vx(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),gh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,gh(i));break;default:gh(i)}s=s.sibling}}function Ux(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:Fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,An=c;else e:for(l=s;An!==null;){c=An;var g=c.sibling,v=c.return;if(Ox(c),c===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var rC={getCacheForType:function(s){var i=$n(yn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},sC=typeof WeakMap=="function"?WeakMap:Map,It=0,zt=null,ot=null,bt=0,Ot=0,Rr=null,$i=!1,ml=!1,Kp=!1,vi=0,Zt=0,Gi=0,mo=0,Yp=0,Wr=0,pl=0,ru=null,pr=null,Xp=!1,Wp=0,yh=1/0,vh=null,Qi=null,Ln=0,Ki=null,gl=null,yl=0,Zp=0,Jp=null,Bx=null,su=0,eg=null;function Ir(){if((It&2)!==0&&bt!==0)return bt&-bt;if(G.T!==null){var s=sl;return s!==0?s:og()}return Q()}function Fx(){Wr===0&&(Wr=(bt&536870912)===0||Tt?sn():536870912);var s=Xr.current;return s!==null&&(s.flags|=32),Wr}function Or(s,i,l){(s===zt&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)&&(vl(s,0),Yi(s,bt,Wr,!1)),qn(s,l),((It&2)===0||s!==zt)&&(s===zt&&((It&2)===0&&(mo|=l),Zt===4&&Yi(s,bt,Wr,!1)),Vs(s))}function qx(s,i,l){if((It&6)!==0)throw Error(r(327));var c=!l&&(i&124)===0&&(i&s.expiredLanes)===0||ht(s,i),g=c?oC(s,i):rg(s,i,!0),v=c;do{if(g===0){ml&&!c&&Yi(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!iC(l)){g=rg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var D=s;g=ru;var $=D.current.memoizedState.isDehydrated;if($&&(vl(D,C).flags|=256),C=rg(D,C,!1),C!==2){if(Kp&&!$){D.errorRecoveryDisabledLanes|=v,mo|=v,g=4;break e}v=pr,pr=g,v!==null&&(pr===null?pr=v:pr.push.apply(pr,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){vl(s,0),Yi(s,i,0,!0);break}e:{switch(c=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Yi(c,i,Wr,!$i);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Wp+300-Xt(),10<g)){if(Yi(c,i,Wr,!$i),Je(c,0,!0)!==0)break e;c.timeoutHandle=v_(Hx.bind(null,c,l,pr,vh,Xp,i,Wr,mo,pl,$i,v,2,-0,0),g);break e}Hx(c,l,pr,vh,Xp,i,Wr,mo,pl,$i,v,0,-0,0)}}break}while(!0);Vs(s)}function Hx(s,i,l,c,g,v,C,D,$,te,le,fe,ne,re){if(s.timeoutHandle=-1,fe=i.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(du={stylesheets:null,count:0,unsuspend:UC},Lx(i),fe=FC(),fe!==null)){s.cancelPendingCommit=fe(Wx.bind(null,s,i,v,l,c,g,C,D,$,le,1,ne,re)),Yi(s,v,C,!te);return}Wx(s,i,v,l,c,g,C,D,$)}function iC(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Sr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(s,i,l,c){i&=~Yp,i&=~mo,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var g=i;0<g;){var v=31-Gt(g),C=1<<v;c[v]=-1,g&=~C}l!==0&&Qt(s,l,i)}function bh(){return(It&6)===0?(iu(0),!1):!0}function tg(){if(ot!==null){if(Ot===0)var s=ot.return;else s=ot,ui=oo=null,vp(s),ul=null,Yc=0,s=ot;for(;s!==null;)Ex(s.alternate,s),s=s.return;ot=null}}function vl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,EC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),tg(),zt=s,ot=l=oi(s.current,null),bt=i,Ot=0,Rr=null,$i=!1,ml=ht(s,i),Kp=!1,pl=Wr=Yp=mo=Gi=Zt=0,pr=ru=null,Xp=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var g=31-Gt(c),v=1<<g;i|=s[g],c&=~v}return vi=i,Bd(),l}function $x(s,i){tt=null,G.H=ah,i===Uc||i===Xd?(i=lb(),Ot=3):i===ib?(i=lb(),Ot=4):Ot=i===cx?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rr=i,ot===null&&(Zt=1,dh(s,Gr(i,s.current)))}function Gx(){var s=G.H;return G.H=ah,s===null?ah:s}function Qx(){var s=G.A;return G.A=rC,s}function ng(){Zt=4,$i||(bt&4194048)!==bt&&Xr.current!==null||(ml=!0),(Gi&134217727)===0&&(mo&134217727)===0||zt===null||Yi(zt,bt,Wr,!1)}function rg(s,i,l){var c=It;It|=2;var g=Gx(),v=Qx();(zt!==s||bt!==i)&&(vh=null,vl(s,i)),i=!1;var C=Zt;e:do try{if(Ot!==0&&ot!==null){var D=ot,$=Rr;switch(Ot){case 8:tg(),C=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(i=!0);var te=Ot;if(Ot=0,Rr=null,bl(s,D,$,te),l&&ml){C=0;break e}break;default:te=Ot,Ot=0,Rr=null,bl(s,D,$,te)}}aC(),C=Zt;break}catch(le){$x(s,le)}while(!0);return i&&s.shellSuspendCounter++,ui=oo=null,It=c,G.H=g,G.A=v,ot===null&&(zt=null,bt=0,Bd()),C}function aC(){for(;ot!==null;)Kx(ot)}function oC(s,i){var l=It;It|=2;var c=Gx(),g=Qx();zt!==s||bt!==i?(vh=null,yh=Xt()+500,vl(s,i)):ml=ht(s,i);e:do try{if(Ot!==0&&ot!==null){i=ot;var v=Rr;t:switch(Ot){case 1:Ot=0,Rr=null,bl(s,i,v,1);break;case 2:case 9:if(ab(v)){Ot=0,Rr=null,Yx(i);break}i=function(){Ot!==2&&Ot!==9||zt!==s||(Ot=7),Vs(s)},v.then(i,i);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:ab(v)?(Ot=0,Rr=null,Yx(i)):(Ot=0,Rr=null,bl(s,i,v,7));break;case 5:var C=null;switch(ot.tag){case 26:C=ot.memoizedState;case 5:case 27:var D=ot;if(!C||I_(C)){Ot=0,Rr=null;var $=D.sibling;if($!==null)ot=$;else{var te=D.return;te!==null?(ot=te,xh(te)):ot=null}break t}}Ot=0,Rr=null,bl(s,i,v,5);break;case 6:Ot=0,Rr=null,bl(s,i,v,6);break;case 8:tg(),Zt=6;break e;default:throw Error(r(462))}}lC();break}catch(le){$x(s,le)}while(!0);return ui=oo=null,G.H=c,G.A=g,It=l,ot!==null?0:(zt=null,bt=0,Bd(),Zt)}function lC(){for(;ot!==null&&!ur();)Kx(ot)}function Kx(s){var i=_x(s.alternate,s,vi);s.memoizedProps=s.pendingProps,i===null?xh(s):ot=i}function Yx(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=px(l,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=px(l,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:vp(i);default:Ex(l,i),i=ot=Xv(i,vi),i=_x(l,i,vi)}s.memoizedProps=s.pendingProps,i===null?xh(s):ot=i}function bl(s,i,l,c){ui=oo=null,vp(i),ul=null,Yc=0;var g=i.return;try{if(WA(s,g,i,l,bt)){Zt=1,dh(s,Gr(l,s.current)),ot=null;return}}catch(v){if(g!==null)throw ot=g,v;Zt=1,dh(s,Gr(l,s.current)),ot=null;return}i.flags&32768?(Tt||c===1?s=!0:ml||(bt&536870912)!==0?s=!1:($i=s=!0,(c===2||c===9||c===3||c===6)&&(c=Xr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xx(i,s)):xh(i)}function xh(s){var i=s;do{if((i.flags&32768)!==0){Xx(i,$i);return}s=i.return;var l=JA(i.alternate,i,vi);if(l!==null){ot=l;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=s}while(i!==null);Zt===0&&(Zt=5)}function Xx(s,i){do{var l=eC(s.alternate,s);if(l!==null){l.flags&=32767,ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ot=s;return}ot=s=l}while(s!==null);Zt=6,ot=null}function Wx(s,i,l,c,g,v,C,D,$){s.cancelPendingCommit=null;do _h();while(Ln!==0);if((It&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Qm,Mn(s,l,v,C,D,$),s===zt&&(ot=zt=null,bt=0),gl=i,Ki=s,yl=l,Zp=v,Jp=g,Bx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,hC(ss,function(){return n_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,g=ie.p,ie.p=2,C=It,It|=4;try{tC(s,i,l)}finally{It=C,ie.p=g,G.T=c}}Ln=1,Zx(),Jx(),e_()}}function Zx(){if(Ln===1){Ln=0;var s=Ki,i=gl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=ie.p;ie.p=2;var g=It;It|=4;try{Dx(i,s);var v=pg,C=Uv(s.containerInfo),D=v.focusedElem,$=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&zv(D.ownerDocument.documentElement,D)){if($!==null&&Fm(D)){var te=$.start,le=$.end;if(le===void 0&&(le=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(le,D.value.length);else{var fe=D.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ge=D.textContent.length,Be=Math.min($.start,Ge),kt=$.end===void 0?Be:Math.min($.end,Ge);!re.extend&&Be>kt&&(C=kt,kt=Be,Be=C);var X=Vv(D,Be),K=Vv(D,kt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Be>kt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(fe=[],re=D;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var de=fe[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}jh=!!mg,pg=mg=null}finally{It=g,ie.p=c,G.T=l}}s.current=i,Ln=2}}function Jx(){if(Ln===2){Ln=0;var s=Ki,i=gl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=ie.p;ie.p=2;var g=It;It|=4;try{Ix(s,i.alternate,i)}finally{It=g,ie.p=c,G.T=l}}Ln=3}}function e_(){if(Ln===4||Ln===3){Ln=0,Jn();var s=Ki,i=gl,l=yl,c=Bx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,gl=Ki=null,t_(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Qi=null),Ts(l),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=G.T,g=ie.p,ie.p=2,G.T=null;try{for(var v=s.onRecoverableError,C=0;C<c.length;C++){var D=c[C];v(D.value,{componentStack:D.stack})}}finally{G.T=i,ie.p=g}}(yl&3)!==0&&_h(),Vs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===eg?su++:(su=0,eg=s):su=0,iu(0)}}function t_(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Vc(i)))}function _h(s){return Zx(),Jx(),e_(),n_()}function n_(){if(Ln!==5)return!1;var s=Ki,i=Zp;Zp=0;var l=Ts(yl),c=G.T,g=ie.p;try{ie.p=32>l?32:l,G.T=null,l=Jp,Jp=null;var v=Ki,C=yl;if(Ln=0,gl=Ki=null,yl=0,(It&6)!==0)throw Error(r(331));var D=It;if(It|=4,zx(v.current),kx(v,v.current,C,l),It=D,iu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,v)}catch{}return!0}finally{ie.p=g,G.T=c,t_(s,i)}}function r_(s,i,l){i=Gr(l,i),i=Mp(s.stateNode,i,2),s=Vi(s,i,2),s!==null&&(qn(s,2),Vs(s))}function Vt(s,i,l){if(s.tag===3)r_(s,s,l);else for(;i!==null;){if(i.tag===3){r_(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qi===null||!Qi.has(c))){s=Gr(l,s),l=ox(2),c=Vi(i,l,2),c!==null&&(lx(l,c,i,s),qn(c,2),Vs(c));break}}i=i.return}}function sg(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new sC;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(Kp=!0,g.add(l),s=cC.bind(null,s,i,l),i.then(s,s))}function cC(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,zt===s&&(bt&l)===l&&(Zt===4||Zt===3&&(bt&62914560)===bt&&300>Xt()-Wp?(It&2)===0&&vl(s,0):Yp|=l,pl===bt&&(pl=0)),Vs(s)}function s_(s,i){i===0&&(i=nr()),s=el(s,i),s!==null&&(qn(s,i),Vs(s))}function uC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),s_(s,l)}function dC(s,i){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),s_(s,l)}function hC(s,i){return fn(s,i)}var wh=null,xl=null,ig=!1,Eh=!1,ag=!1,po=0;function Vs(s){s!==xl&&s.next===null&&(xl===null?wh=xl=s:xl=xl.next=s),Eh=!0,ig||(ig=!0,mC())}function iu(s,i){if(!ag&&Eh){ag=!0;do for(var l=!1,c=wh;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var C=c.suspendedLanes,D=c.pingedLanes;v=(1<<31-Gt(42|s)+1)-1,v&=g&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,l_(c,v))}else v=bt,v=Je(c,c===zt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ht(c,v)||(l=!0,l_(c,v));c=c.next}while(l);ag=!1}}function fC(){i_()}function i_(){Eh=ig=!1;var s=0;po!==0&&(wC()&&(s=po),po=0);for(var i=Xt(),l=null,c=wh;c!==null;){var g=c.next,v=a_(c,i);v===0?(c.next=null,l===null?wh=g:l.next=g,g===null&&(xl=l)):(l=c,(s!==0||(v&3)!==0)&&(Eh=!0)),c=g}iu(s)}function a_(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var C=31-Gt(v),D=1<<C,$=g[C];$===-1?((D&l)===0||(D&c)!==0)&&(g[C]=qt(D,i)):$<=i&&(s.expiredLanes|=D),v&=~D}if(i=zt,l=bt,l=Je(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ft(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ht(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&Ft(c),Ts(l)){case 2:case 8:l=ws;break;case 32:l=ss;break;case 268435456:l=tr;break;default:l=ss}return c=o_.bind(null,s),l=fn(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&Ft(c),s.callbackPriority=2,s.callbackNode=null,2}function o_(s,i){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(_h()&&s.callbackNode!==l)return null;var c=bt;return c=Je(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(qx(s,c,i),a_(s,Xt()),s.callbackNode!=null&&s.callbackNode===l?o_.bind(null,s):null)}function l_(s,i){if(_h())return null;qx(s,i,!0)}function mC(){TC(function(){(It&6)!==0?fn(_s,fC):i_()})}function og(){return po===0&&(po=sn()),po}function c_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function u_(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function pC(s,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var v=c_((g[xe]||null).action),C=c.submitter;C&&(i=(i=C[xe]||null)?c_(i.formAction):C.getAttribute("formAction"),i!==null&&(v=i,C=null));var D=new qo("action","action",null,c,g);s.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(po!==0){var $=C?u_(g,C):new FormData(g);Cp(l,{pending:!0,data:$,method:g.method,action:v},null,$)}}else typeof v=="function"&&(D.preventDefault(),$=C?u_(g,C):new FormData(g),Cp(l,{pending:!0,data:$,method:g.method,action:v},v,$))},currentTarget:g}]})}}for(var lg=0;lg<Gm.length;lg++){var cg=Gm[lg],gC=cg.toLowerCase(),yC=cg[0].toUpperCase()+cg.slice(1);os(gC,"on"+yC)}os(qv,"onAnimationEnd"),os(Hv,"onAnimationIteration"),os($v,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(DA,"onTransitionRun"),os(PA,"onTransitionStart"),os(kA,"onTransitionCancel"),os(Gv,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function d_(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var C=c.length-1;0<=C;C--){var D=c[C],$=D.instance,te=D.currentTarget;if(D=D.listener,$!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=te;try{v(g)}catch(le){uh(le)}g.currentTarget=null,v=$}else for(C=0;C<c.length;C++){if(D=c[C],$=D.instance,te=D.currentTarget,D=D.listener,$!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=te;try{v(g)}catch(le){uh(le)}g.currentTarget=null,v=$}}}}function lt(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var c=s+"__bubble";l.has(c)||(h_(i,s,2,!1),l.add(c))}function ug(s,i,l){var c=0;i&&(c|=4),h_(l,s,c,i)}var Th="_reactListening"+Math.random().toString(36).slice(2);function dg(s){if(!s[Th]){s[Th]=!0,rt.forEach(function(l){l!=="selectionchange"&&(vC.has(l)||ug(l,!1,s),ug(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Th]||(i[Th]=!0,ug("selectionchange",!1,i))}}function h_(s,i,l,c){switch(k_(i)){case 2:var g=$C;break;case 8:g=GC;break;default:g=Sg}l=g.bind(null,i,l,s),g=void 0,!Hr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function hg(s,i,l,c,g){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var D=c.stateNode.containerInfo;if(D===g)break;if(C===4)for(C=c.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;D!==null;){if(C=Fe(D),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){c=v=C;continue e}D=D.parentNode}}c=c.return}Ad(function(){var te=v,le=qr(l),fe=[];e:{var ne=Qv.get(s);if(ne!==void 0){var re=qo,Ge=s;switch(s){case"keypress":if(Rs(l)===0)break e;case"keydown":case"keyup":re=Yo;break;case"focusin":Ge="focus",re=Go;break;case"focusout":Ge="blur",re=Go;break;case"beforeblur":case"afterblur":re=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Dd;break;case qv:case Hv:case $v:re=Qo;break;case Gv:re=kd;break;case"scroll":case"scrollend":re=Cd;break;case"wheel":re=Xo;break;case"copy":case"cut":case"paste":re=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ic;break;case"toggle":case"beforetoggle":re=Vd}var Be=(i&4)!==0,kt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var K=te,J;K!==null;){var de=K;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||X===null||(de=Qa(K,X),de!=null&&Be.push(ou(K,de,J))),kt)break;K=K.return}0<Be.length&&(ne=new re(ne,Ge,null,l,le),fe.push({event:ne,listeners:Be}))}}if((i&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&l!==ti&&(Ge=l.relatedTarget||l.fromElement)&&(Fe(Ge)||Ge[Ce]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ge=l.relatedTarget||l.toElement,re=te,Ge=Ge?Fe(Ge):null,Ge!==null&&(kt=o(Ge),Be=Ge.tag,Ge!==kt||Be!==5&&Be!==27&&Be!==6)&&(Ge=null)):(re=null,Ge=te),re!==Ge)){if(Be=$r,de="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Ic,de="onPointerLeave",X="onPointerEnter",K="pointer"),kt=re==null?ne:St(re),J=Ge==null?ne:St(Ge),ne=new Be(de,K+"leave",re,l,le),ne.target=kt,ne.relatedTarget=J,de=null,Fe(le)===te&&(Be=new Be(X,K+"enter",Ge,l,le),Be.target=J,Be.relatedTarget=kt,de=Be),kt=de,re&&Ge)t:{for(Be=re,X=Ge,K=0,J=Be;J;J=_l(J))K++;for(J=0,de=X;de;de=_l(de))J++;for(;0<K-J;)Be=_l(Be),K--;for(;0<J-K;)X=_l(X),J--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=_l(Be),X=_l(X)}Be=null}else Be=null;re!==null&&f_(fe,ne,re,Be,!1),Ge!==null&&kt!==null&&f_(fe,kt,Ge,Be,!0)}}e:{if(ne=te?St(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Re=Mv;else if(gn(ne))if(jv)Re=OA;else{Re=RA;var st=NA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Ec(te.elementType)&&(Re=Mv):Re=IA;if(Re&&(Re=Re(s,te))){ai(fe,Re,l,le);break e}st&&st(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&ji(ne,"number",ne.value)}switch(st=te?St(te):window,s){case"focusin":(gn(st)||st.contentEditable==="true")&&(Wo=st,qm=te,jc=null);break;case"focusout":jc=qm=Wo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Bv(fe,l,le);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Bv(fe,l,le)}var ke;if(Ms)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else yt?se(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(S&&l.locale!=="ko"&&(yt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&yt&&(ke=Sc()):(Ns=le,Di="value"in Ns?Ns.value:Ns.textContent,yt=!0)),st=Sh(te,qe),0<st.length&&(qe=new Nc(qe,s,null,l,le),fe.push({event:qe,listeners:st}),ke?qe.data=ke:(ke=_e(l),ke!==null&&(qe.data=ke)))),(ke=x?pn(s,l):vt(s,l))&&(qe=Sh(te,"onBeforeInput"),0<qe.length&&(st=new Nc("onBeforeInput","beforeinput",null,l,le),fe.push({event:st,listeners:qe}),st.data=ke)),pC(fe,s,te,l,le)}d_(fe,i)})}function ou(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Sh(s,i){for(var l=i+"Capture",c=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Qa(s,l),g!=null&&c.unshift(ou(s,g,v)),g=Qa(s,i),g!=null&&c.push(ou(s,g,v))),s.tag===3)return c;s=s.return}return[]}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function f_(s,i,l,c,g){for(var v=i._reactName,C=[];l!==null&&l!==c;){var D=l,$=D.alternate,te=D.stateNode;if(D=D.tag,$!==null&&$===c)break;D!==5&&D!==26&&D!==27||te===null||($=te,g?(te=Qa(l,v),te!=null&&C.unshift(ou(l,te,$))):g||(te=Qa(l,v),te!=null&&C.push(ou(l,te,$)))),l=l.return}C.length!==0&&s.push({event:i,listeners:C})}var bC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function m_(s){return(typeof s=="string"?s:""+s).replace(bC,`
`).replace(xC,"")}function p_(s,i){return i=m_(i),m_(s)===i}function Ah(){}function Pt(s,i,l,c,g,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Fr(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Fr(s,""+c);break;case"className":sr(s,"class",c);break;case"tabIndex":sr(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(s,l,c);break;case"style":wc(s,c,v);break;case"data":if(i!=="object"){sr(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Pt(s,i,"name",g.name,g,null),Pt(s,i,"formEncType",g.formEncType,g,null),Pt(s,i,"formMethod",g.formMethod,g,null),Pt(s,i,"formTarget",g.formTarget,g,null)):(Pt(s,i,"encType",g.encType,g,null),Pt(s,i,"method",g.method,g,null),Pt(s,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Ah);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Hn(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hn(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=km.get(l)||l,Hn(s,l,c))}}function fg(s,i,l,c,g,v){switch(l){case"style":wc(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Fr(s,c):(typeof c=="number"||typeof c=="bigint")&&Fr(s,""+c);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[xe]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Hn(s,l,c)}}}function Vn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,v,C,l,null)}}g&&Pt(s,i,"srcSet",l.srcSet,l,null),c&&Pt(s,i,"src",l.src,l,null);return;case"input":lt("invalid",s);var D=v=C=g=null,$=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":g=le;break;case"type":C=le;break;case"checked":$=le;break;case"defaultChecked":te=le;break;case"value":v=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,i));break;default:Pt(s,i,c,le,l,null)}}Ha(s,v,D,$,te,C,g,!1),Bo(s);return;case"select":lt("invalid",s),c=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":c=D;default:Pt(s,i,g,D,l,null)}i=v,l=C,s.multiple=!!c,i!=null?ei(s,!!c,i,!1):l!=null&&ei(s,!!c,l,!0);return;case"textarea":lt("invalid",s),v=g=c=null;for(C in l)if(l.hasOwnProperty(C)&&(D=l[C],D!=null))switch(C){case"value":c=D;break;case"defaultValue":g=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Pt(s,i,C,D,l,null)}$a(s,c,g,v),Bo(s);return;case"option":for($ in l)if(l.hasOwnProperty($)&&(c=l[$],c!=null))switch($){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pt(s,i,$,c,l,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(c=0;c<au.length;c++)lt(au[c],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,te,c,l,null)}return;default:if(Ec(i)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&fg(s,i,le,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&Pt(s,i,D,c,l,null))}function _C(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,D=null,$=null,te=null,le=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=fe;default:c.hasOwnProperty(re)||Pt(s,i,re,null,c,fe)}}for(var ne in c){var re=c[ne];if(fe=l[ne],c.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":v=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":le=re;break;case"value":C=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:re!==fe&&Pt(s,i,ne,re,c,fe)}}Tr(s,C,D,$,te,le,v,g);return;case"select":re=C=D=ne=null;for(v in l)if($=l[v],l.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":re=$;default:c.hasOwnProperty(v)||Pt(s,i,v,null,c,$)}for(g in c)if(v=c[g],$=l[g],c.hasOwnProperty(g)&&(v!=null||$!=null))switch(g){case"value":ne=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==$&&Pt(s,i,g,v,c,$)}i=D,l=C,c=re,ne!=null?ei(s,!!l,ne,!1):!!c!=!!l&&(i!=null?ei(s,!!l,i,!0):ei(s,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Pt(s,i,D,null,c,g)}for(C in c)if(g=c[C],v=l[C],c.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Pt(s,i,C,g,c,v)}jt(s,ne,re);return;case"option":for(var Ge in l)if(ne=l[Ge],l.hasOwnProperty(Ge)&&ne!=null&&!c.hasOwnProperty(Ge))switch(Ge){case"selected":s.selected=!1;break;default:Pt(s,i,Ge,null,c,ne)}for($ in c)if(ne=c[$],re=l[$],c.hasOwnProperty($)&&ne!==re&&(ne!=null||re!=null))switch($){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Pt(s,i,$,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!c.hasOwnProperty(Be)&&Pt(s,i,Be,null,c,ne);for(te in c)if(ne=c[te],re=l[te],c.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:Pt(s,i,te,ne,c,re)}return;default:if(Ec(i)){for(var kt in l)ne=l[kt],l.hasOwnProperty(kt)&&ne!==void 0&&!c.hasOwnProperty(kt)&&fg(s,i,kt,void 0,c,ne);for(le in c)ne=c[le],re=l[le],!c.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||fg(s,i,le,ne,c,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&Pt(s,i,X,null,c,ne);for(fe in c)ne=c[fe],re=l[fe],!c.hasOwnProperty(fe)||ne===re||ne==null&&re==null||Pt(s,i,fe,ne,c,re)}var mg=null,pg=null;function Ch(s){return s.nodeType===9?s:s.ownerDocument}function g_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function gg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yg=null;function wC(){var s=window.event;return s&&s.type==="popstate"?s===yg?!1:(yg=s,!0):(yg=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(s){return b_.resolve(null).then(s).catch(SC)}:v_;function SC(s){setTimeout(function(){throw s})}function Xi(s){return s==="head"}function x_(s,i){var l=i,c=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var C=s.ownerDocument;if(l&1&&lu(C.documentElement),l&2&&lu(C.body),l&4)for(l=C.head,lu(l),C=l.firstChild;C;){var D=C.nextSibling,$=C.nodeName;C[Ue]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=D}}if(g===0){s.removeChild(v),gu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);gu(i)}function vg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function AC(s,i,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function CC(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=cs(s.nextSibling),s===null))return null;return s}function bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function NC(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function cs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var xg=null;function __(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function w_(s,i,l){switch(i=Ch(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function lu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);De(s)}var Zr=new Map,E_=new Set;function Nh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bi=ie.d;ie.d={f:RC,r:IC,D:OC,C:MC,L:jC,m:DC,X:kC,S:PC,M:LC};function RC(){var s=bi.f(),i=bh();return s||i}function IC(s){var i=at(s);i!==null&&i.tag===5&&i.type==="form"?qb(i):bi.r(s)}var wl=typeof document>"u"?null:document;function T_(s,i,l){var c=wl;if(c&&typeof i=="string"&&i){var g=on(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),E_.has(g)||(E_.add(g),s={rel:s,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Vn(i,"link",s),ft(i),c.head.appendChild(i)))}}function OC(s){bi.D(s),T_("dns-prefetch",s,null)}function MC(s,i){bi.C(s,i),T_("preconnect",s,i)}function jC(s,i,l){bi.L(s,i,l);var c=wl;if(c&&s&&i){var g='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+on(l.imageSizes)+'"]')):g+='[href="'+on(s)+'"]';var v=g;switch(i){case"style":v=El(s);break;case"script":v=Tl(s)}Zr.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Zr.set(v,s),c.querySelector(g)!==null||i==="style"&&c.querySelector(cu(v))||i==="script"&&c.querySelector(uu(v))||(i=c.createElement("link"),Vn(i,"link",s),ft(i),c.head.appendChild(i)))}}function DC(s,i){bi.m(s,i);var l=wl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+on(c)+'"][href="'+on(s)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(s)}if(!Zr.has(v)&&(s=y({rel:"modulepreload",href:s},i),Zr.set(v,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(uu(v)))return}c=l.createElement("link"),Vn(c,"link",s),ft(c),l.head.appendChild(c)}}}function PC(s,i,l){bi.S(s,i,l);var c=wl;if(c&&s){var g=wt(c).hoistableStyles,v=El(s);i=i||"default";var C=g.get(v);if(!C){var D={loading:0,preload:null};if(C=c.querySelector(cu(v)))D.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Zr.get(v))&&_g(s,l);var $=C=c.createElement("link");ft($),Vn($,"link",s),$._p=new Promise(function(te,le){$.onload=te,$.onerror=le}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rh(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:D},g.set(v,C)}}}function kC(s,i){bi.X(s,i);var l=wl;if(l&&s){var c=wt(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(uu(g)),v||(s=y({src:s,async:!0},i),(i=Zr.get(g))&&wg(s,i),v=l.createElement("script"),ft(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function LC(s,i){bi.M(s,i);var l=wl;if(l&&s){var c=wt(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(uu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=Zr.get(g))&&wg(s,i),v=l.createElement("script"),ft(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function S_(s,i,l,c){var g=(g=Ee.current)?Nh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=wt(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=El(l.href);var v=wt(g).hoistableStyles,C=v.get(s);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,C),(v=g.querySelector(cu(s)))&&!v._p&&(C.instance=v,C.state.loading=5),Zr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zr.set(s,l),v||VC(g,s,l,C.state))),i&&c===null)throw Error(r(528,""));return C}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=wt(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function El(s){return'href="'+on(s)+'"'}function cu(s){return'link[rel="stylesheet"]['+s+"]"}function A_(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function VC(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Vn(i,"link",l),ft(i),s.head.appendChild(i))}function Tl(s){return'[src="'+on(s)+'"]'}function uu(s){return"script[async]"+s}function C_(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+on(l.href)+'"]');if(c)return i.instance=c,ft(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ft(c),Vn(c,"style",g),Rh(c,l.precedence,s),i.instance=c;case"stylesheet":g=El(l.href);var v=s.querySelector(cu(g));if(v)return i.state.loading|=4,i.instance=v,ft(v),v;c=A_(l),(g=Zr.get(g))&&_g(c,g),v=(s.ownerDocument||s).createElement("link"),ft(v);var C=v;return C._p=new Promise(function(D,$){C.onload=D,C.onerror=$}),Vn(v,"link",c),i.state.loading|=4,Rh(v,l.precedence,s),i.instance=v;case"script":return v=Tl(l.src),(g=s.querySelector(uu(v)))?(i.instance=g,ft(g),g):(c=l,(g=Zr.get(v))&&(c=y({},l),wg(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),ft(g),Vn(g,"link",c),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Rh(c,l.precedence,s));return i.instance}function Rh(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,C=0;C<c.length;C++){var D=c[C];if(D.dataset.precedence===i)v=D;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function _g(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function wg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Ih=null;function N_(s,i,l){if(Ih===null){var c=new Map,g=Ih=new Map;g.set(l,c)}else g=Ih,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[he]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(i)||"";C=s+C;var D=c.get(C);D?D.push(v):c.set(C,[v])}}return c}function R_(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function zC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function I_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var du=null;function UC(){}function BC(s,i,l){if(du===null)throw Error(r(475));var c=du;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=El(l.href),v=s.querySelector(cu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Oh.bind(c),s.then(c,c)),i.state.loading|=4,i.instance=v,ft(v);return}v=s.ownerDocument||s,l=A_(l),(g=Zr.get(g))&&_g(l,g),v=v.createElement("link"),ft(v);var C=v;C._p=new Promise(function(D,$){C.onload=D,C.onerror=$}),Vn(v,"link",l),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Oh.bind(c),s.addEventListener("load",i),s.addEventListener("error",i))}}function FC(){if(du===null)throw Error(r(475));var s=du;return s.stylesheets&&s.count===0&&Eg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Eg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mh=null;function Eg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mh=new Map,i.forEach(qC,s),Mh=null,Oh.call(s))}function qC(s,i){if(!(i.state.loading&4)){var l=Mh.get(s);if(l)var c=l.get(null);else{l=new Map,Mh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}g=i.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||c,v===c&&l.set(null,g),l.set(C,g),this.count++,c=Oh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var hu={$$typeof:w,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function HC(s,i,l,c,g,v,C,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function O_(s,i,l,c,g,v,C,D,$,te,le,fe){return s=new HC(s,i,l,C,D,$,te,fe),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=sp(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},lp(v),s}function M_(s){return s?(s=tl,s):tl}function j_(s,i,l,c,g,v){g=M_(g),c.context===null?c.context=g:c.pendingContext=g,c=Li(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Vi(s,c,i),l!==null&&(Or(l,s,i),Fc(l,s,i))}function D_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Tg(s,i){D_(s,i),(s=s.alternate)&&D_(s,i)}function P_(s){if(s.tag===13){var i=el(s,67108864);i!==null&&Or(i,s,67108864),Tg(s,67108864)}}var jh=!0;function $C(s,i,l,c){var g=G.T;G.T=null;var v=ie.p;try{ie.p=2,Sg(s,i,l,c)}finally{ie.p=v,G.T=g}}function GC(s,i,l,c){var g=G.T;G.T=null;var v=ie.p;try{ie.p=8,Sg(s,i,l,c)}finally{ie.p=v,G.T=g}}function Sg(s,i,l,c){if(jh){var g=Ag(c);if(g===null)hg(s,i,c,Dh,l),L_(s,c);else if(KC(g,s,i,l,c))c.stopPropagation();else if(L_(s,c),i&4&&-1<QC.indexOf(s)){for(;g!==null;){var v=at(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Oe(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var $=1<<31-Gt(C);D.entanglements[1]|=$,C&=~$}Vs(v),(It&6)===0&&(yh=Xt()+500,iu(0))}}break;case 13:D=el(v,2),D!==null&&Or(D,v,2),bh(),Tg(v,2)}if(v=Ag(c),v===null&&hg(s,i,c,Dh,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else hg(s,i,c,null,l)}}function Ag(s){return s=qr(s),Cg(s)}var Dh=null;function Cg(s){if(Dh=null,s=Fe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Dh=s,null}function k_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case _s:return 2;case ws:return 8;case ss:case er:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Ng=!1,Wi=null,Zi=null,Ji=null,fu=new Map,mu=new Map,ea=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(s,i){switch(s){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(i.pointerId)}}function pu(s,i,l,c,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},i!==null&&(i=at(i),i!==null&&P_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function KC(s,i,l,c,g){switch(i){case"focusin":return Wi=pu(Wi,s,i,l,c,g),!0;case"dragenter":return Zi=pu(Zi,s,i,l,c,g),!0;case"mouseover":return Ji=pu(Ji,s,i,l,c,g),!0;case"pointerover":var v=g.pointerId;return fu.set(v,pu(fu.get(v)||null,s,i,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,mu.set(v,pu(mu.get(v)||null,s,i,l,c,g)),!0}return!1}function V_(s){var i=Fe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var c=Ir();c=_r(c);var g=el(l,c);g!==null&&Or(g,l,c),Tg(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ph(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Ag(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=at(l),i!==null&&P_(i),s.blockedOn=l,!1;i.shift()}return!0}function z_(s,i,l){Ph(s)&&l.delete(i)}function YC(){Ng=!1,Wi!==null&&Ph(Wi)&&(Wi=null),Zi!==null&&Ph(Zi)&&(Zi=null),Ji!==null&&Ph(Ji)&&(Ji=null),fu.forEach(z_),mu.forEach(z_)}function kh(s,i){s.blockedOn===i&&(s.blockedOn=null,Ng||(Ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YC)))}var Lh=null;function U_(s){Lh!==s&&(Lh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lh===s&&(Lh=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],g=s[i+2];if(typeof c!="function"){if(Cg(c||l)===null)continue;break}var v=at(l);v!==null&&(s.splice(i,3),i-=3,Cp(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function gu(s){function i($){return kh($,s)}Wi!==null&&kh(Wi,s),Zi!==null&&kh(Zi,s),Ji!==null&&kh(Ji,s),fu.forEach(i),mu.forEach(i);for(var l=0;l<ea.length;l++){var c=ea[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ea.length&&(l=ea[0],l.blockedOn===null);)V_(l),l.blockedOn===null&&ea.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],C=g[xe]||null;if(typeof v=="function")C||U_(l);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[xe]||null)D=C.formAction;else if(Cg(g)!==null)continue}else D=C.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),U_(l)}}}function Rg(s){this._internalRoot=s}Vh.prototype.render=Rg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Ir();j_(l,c,s,i,null,null)},Vh.prototype.unmount=Rg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;j_(s.current,2,null,s,null,null),bh(),i[Ce]=null}};function Vh(s){this._internalRoot=s}Vh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ea.length&&i!==0&&i<ea[l].priority;l++);ea.splice(l,0,s),l===0&&V_(s)}};var B_=e.version;if(B_!=="19.1.0")throw Error(r(527,B_,"19.1.0"));ie.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var XC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{gt=zh.inject(XC),We=zh}catch{}}return vu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",g=rx,v=sx,C=ix,D=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks)),i=O_(s,1,!1,null,null,l,c,g,v,C,D,null),s[Ce]=i.current,dg(s),new Rg(i)},vu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,g="",v=rx,C=sx,D=ix,$=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),i=O_(s,1,!0,i,l??null,c,g,v,C,D,$,te),i.context=M_(null),l=i.current,c=Ir(),c=_r(c),g=Li(c),g.callback=null,Vi(l,g,c),l=c,i.current.lanes=l,qn(i,l),Vs(i),s[Ce]=i.current,dg(s),new Vh(i)},vu.version="19.1.0",vu}var Z_;function iN(){if(Z_)return jg.exports;Z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jg.exports=sN(),jg.exports}var aN=iN(),bu={},J_;function oN(){if(J_)return bu;J_=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=u,bu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,T){const A=new o,P=_.length;if(P<2)return A;const R=(T==null?void 0:T.decode)||y;let N=0;do{const E=_.indexOf("=",N);if(E===-1)break;const w=_.indexOf(";",N),M=w===-1?P:w;if(E>M){N=_.lastIndexOf(";",E-1)+1;continue}const L=d(_,N,E),k=h(_,E,L),z=_.slice(L,k);if(A[z]===void 0){let O=d(_,E+1,M),I=h(_,M,O);const V=R(_.slice(O,I));A[z]=V}N=M+1}while(N<P);return A}function d(_,T,A){do{const P=_.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<A);return A}function h(_,T,A){for(;T>A;){const P=_.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return A}function p(_,T,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const R=P(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let N=_+"="+R;if(!A)return N;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);N+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);N+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);N+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);N+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(N+="; HttpOnly"),A.secure&&(N+="; Secure"),A.partitioned&&(N+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return N}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return bu}oN();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BE=n=>{throw TypeError(n)},lN=(n,e,t)=>e.has(n)||BE("Cannot "+t),Lg=(n,e,t)=>(lN(n,e,"read from private field"),t?t.call(n):e.get(n)),cN=(n,e,t)=>e.has(n)?BE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ew="popstate";function uN(n={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Fu("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Na(a)}return hN(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dN(){return Math.random().toString(36).substring(2,10)}function tw(n,e){return{usr:n.state,key:n.key,idx:e}}function Fu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||r||dN()}}function Na({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let R=y(),N=R==null?null:R-p;p=R,h&&h({action:d,location:P.location,delta:N})}function _(R,N){d="PUSH";let E=Fu(P.location,R,N);p=y()+1;let w=tw(E,p),M=P.createHref(E);try{u.pushState(w,"",M)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(M)}o&&h&&h({action:d,location:P.location,delta:1})}function T(R,N){d="REPLACE";let E=Fu(P.location,R,N);p=y();let w=tw(E,p),M=P.createHref(E);u.replaceState(w,"",M),o&&h&&h({action:d,location:P.location,delta:0})}function A(R){let N=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof R=="string"?R:Na(R);return E=E.replace(/ $/,"%20"),ct(N,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,N)}let P={get action(){return d},get location(){return n(a,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(ew,b),h=R,()=>{a.removeEventListener(ew,b),h=null}},createHref(R){return e(a,R)},createURL:A,encodeLocation(R){let N=A(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:T,go(R){return u.go(R)}};return P}var Su,nw=class{constructor(n){if(cN(this,Su,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Lg(this,Su).has(n))return Lg(this,Su).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Lg(this,Su).set(n,e)}};Su=new WeakMap;var fN=new Set(["lazy","caseSensitive","path","id","index","children"]);function mN(n){return fN.has(n)}var pN=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function gN(n){return pN.has(n)}function yN(n){return n.index===!0}function xf(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],d=typeof a.id=="string"?a.id:u.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),yN(a)){let h={...a,...e(a),id:d};return r[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return r[d]=h,a.children&&(h.children=xf(a.children,e,u,r)),h}})}function ia(n,e,t="/"){return rf(n,e,t,!1)}function rf(n,e,t,r){let a=typeof e=="string"?La(e):e,o=rs(a.pathname||"/",t);if(o==null)return null;let u=FE(n);bN(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=IN(o);d=NN(u[h],p,r)}return d}function vN(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function FE(n,e=[],t=[],r=""){let a=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=qs([r,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),FE(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:AN(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let h of qE(o.path))a(o,u,h)}),e}function qE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=qE(r.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function bN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xN=/^:[\w-]+$/,_N=3,wN=2,EN=1,TN=10,SN=-2,rw=n=>n==="*";function AN(n,e){let t=n.split("/"),r=t.length;return t.some(rw)&&(r+=SN),e&&(r+=wN),t.filter(a=>!rw(a)).reduce((a,o)=>a+(xN.test(o)?_N:o===""?EN:TN),r)}function CN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function NN(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=_f({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),_=h.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=_f({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:qs([o,b.pathname]),pathnameBase:jN(qs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=qs([o,b.pathnameBase]))}return u}function _f(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RN(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},_)=>{if(y==="*"){let A=d[_]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=d[_];return b&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function RN(n,e=!1,t=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function IN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ON(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?La(n):n;return{pathname:t?t.startsWith("/")?t:MN(t,e):e,search:DN(r),hash:PN(a)}}function MN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Vg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p0(n){let e=HE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function g0(n,e,t,r=!1){let a;typeof n=="string"?a=La(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),Vg("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Vg("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Vg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let h=ON(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),jN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $E=["POST","PUT","PATCH","DELETE"],kN=new Set($E),LN=["GET",...$E],VN=new Set(LN),zN=new Set([301,302,303,307,308]),UN=new Set([307,308]),zg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FN=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),GE="remix-router-transitions",QE=Symbol("ResetLoaderData");function qN(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||FN,o={},u=xf(n.routes,a,void 0,o),d,h=n.basename||"/",p=n.dataStrategy||KN,y={unstable_middleware:!1,...n.future},b=null,_=new Set,T=null,A=null,P=null,R=n.hydrationData!=null,N=ia(u,n.history.location,h),E=!1,w=null;if(N==null&&!n.patchRoutesOnNavigation){let Q=es(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=pw(u);N=W,w={[ee.id]:Q}}N&&!n.hydrationData&&Qt(N,u,n.history.location.pathname).active&&(N=null);let M;if(N)if(N.some(Q=>Q.route.lazy))M=!1;else if(!N.some(Q=>Q.route.loader))M=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=N.findIndex(he=>W[he.route.id]!==void 0);M=N.slice(0,ee+1).every(he=>!yy(he.route,Q,W))}else M=N.every(ee=>!yy(ee.route,Q,W))}else{M=!1,N=[];let Q=Qt(null,u,n.history.location.pathname);Q.active&&Q.matches&&(E=!0,N=Q.matches)}let L,k={historyAction:n.history.action,location:n.history.location,matches:N,initialized:M,navigation:zg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},z="POP",O=!1,I,V=!1,F=new Map,U=null,j=!1,ce=!1,pe=new Set,G=new Map,ie=0,oe=-1,be=new Map,H=new Set,ae=new Map,ve=new Map,ge=new Set,Se=new Map,Ve,Ee=null;function ye(){if(b=n.history.listen(({action:Q,location:W,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}rn(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=qt({currentLocation:k.location,nextLocation:W,historyAction:Q});if(he&&ee!=null){let xe=new Promise(Ce=>{Ve=Ce});n.history.go(ee*-1),ht(he,{state:"blocked",location:W,proceed(){ht(he,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),xe.then(()=>n.history.go(ee))},reset(){let Ce=new Map(k.blockers);Ce.set(he,xu),Ze({blockers:Ce})}});return}return Ft(Q,W)}),t){iR(e,F);let Q=()=>aR(e,F);e.addEventListener("pagehide",Q),U=()=>e.removeEventListener("pagehide",Q)}return k.initialized||Ft("POP",k.location,{initialHydration:!0}),L}function Te(){b&&b(),U&&U(),_.clear(),I&&I.abort(),k.fetchers.forEach((Q,W)=>Gt(W)),k.blockers.forEach((Q,W)=>Je(W))}function it(Q){return _.add(Q),()=>_.delete(Q)}function Ze(Q,W={}){k={...k,...Q};let ee=[],he=[];k.fetchers.forEach((xe,Ce)=>{xe.state==="idle"&&(ge.has(Ce)?ee.push(Ce):he.push(Ce))}),ge.forEach(xe=>{!k.fetchers.has(xe)&&!G.has(xe)&&ee.push(xe)}),[..._].forEach(xe=>xe(k,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(xe=>Gt(xe)),he.forEach(xe=>k.fetchers.delete(xe))}function Rt(Q,W,{flushSync:ee}={}){var Pe,Ue;let he=k.actionData!=null&&k.navigation.formMethod!=null&&Dr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,xe;W.actionData?Object.keys(W.actionData).length>0?xe=W.actionData:xe=null:he?xe=k.actionData:xe=null;let Ce=W.loaderData?fw(k.loaderData,W.loaderData,W.matches||[],W.errors):k.loaderData,ze=k.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((De,Fe)=>ze.set(Fe,xu)));let Ne=O===!0||k.navigation.formMethod!=null&&Dr(k.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;d&&(u=d,d=void 0),j||z==="POP"||(z==="PUSH"?n.history.push(Q,Q.state):z==="REPLACE"&&n.history.replace(Q,Q.state));let je;if(z==="POP"){let De=F.get(k.location.pathname);De&&De.has(Q.pathname)?je={currentLocation:k.location,nextLocation:Q}:F.has(Q.pathname)&&(je={currentLocation:Q,nextLocation:k.location})}else if(V){let De=F.get(k.location.pathname);De?De.add(Q.pathname):(De=new Set([Q.pathname]),F.set(k.location.pathname,De)),je={currentLocation:k.location,nextLocation:Q}}Ze({...W,actionData:xe,loaderData:Ce,historyAction:z,location:Q,initialized:!0,navigation:zg,revalidation:"idle",restoreScrollPosition:Mn(Q,W.matches||k.matches),preventScrollReset:Ne,blockers:ze},{viewTransitionOpts:je,flushSync:ee===!0}),z="POP",O=!1,V=!1,j=!1,ce=!1,Ee==null||Ee.resolve(),Ee=null}async function Ht(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let ee=gy(k.location,k.matches,h,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:he,submission:xe,error:Ce}=sw(!1,ee,W),ze=k.location,Ne=Fu(k.location,he,W&&W.state);Ne={...Ne,...n.history.encodeLocation(Ne)};let je=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";je===!0?Pe="REPLACE":je===!1||xe!=null&&Dr(xe.formMethod)&&xe.formAction===k.location.pathname+k.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,Fe=qt({currentLocation:ze,nextLocation:Ne,historyAction:Pe});if(Fe){ht(Fe,{state:"blocked",location:Ne,proceed(){ht(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Ht(Q,W)},reset(){let at=new Map(k.blockers);at.set(Fe,xu),Ze({blockers:at})}});return}await Ft(Pe,Ne,{submission:xe,pendingError:Ce,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function fn(){Ee||(Ee=oR()),is(),Ze({revalidation:"loading"});let Q=Ee.promise;return k.navigation.state==="submitting"?Q:k.navigation.state==="idle"?(Ft(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Q):(Ft(z||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:V===!0}),Q)}async function Ft(Q,W,ee){I&&I.abort(),I=null,z=Q,j=(ee&&ee.startUninterruptedRevalidation)===!0,qn(k.location,k.matches),O=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let he=d||u,xe=ee&&ee.overrideNavigation,Ce=ee!=null&&ee.initialHydration&&k.matches&&k.matches.length>0&&!E?k.matches:ia(he,W,h),ze=(ee&&ee.flushSync)===!0;if(Ce&&k.initialized&&!ce&&eR(k.location,W)&&!(ee&&ee.submission&&Dr(ee.submission.formMethod))){Rt(W,{matches:Ce},{flushSync:ze});return}let Ne=Qt(Ce,he,W.pathname);if(Ne.active&&Ne.matches&&(Ce=Ne.matches),!Ce){let{error:wt,notFoundMatches:ft,route:rt}=sn(W.pathname);Rt(W,{matches:ft,loaderData:{},errors:{[rt.id]:wt}},{flushSync:ze});return}I=new AbortController;let je=Sl(n.history,W,I.signal,ee&&ee.submission),Pe=new nw(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(ee&&ee.pendingError)Ue=[yo(Ce).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Dr(ee.submission.formMethod)){let wt=await ur(je,W,ee.submission,Ce,Pe,Ne.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ze});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[ft,rt]=wt.pendingActionResult;if(jr(rt)&&qu(rt.error)&&rt.error.status===404){I=null,Rt(W,{matches:wt.matches,loaderData:{},errors:{[ft]:rt.error}});return}}Ce=wt.matches||Ce,Ue=wt.pendingActionResult,xe=Ug(W,ee.submission),ze=!1,Ne.active=!1,je=Sl(n.history,je.url,je.signal)}let{shortCircuited:De,matches:Fe,loaderData:at,errors:St}=await Jn(je,W,Ce,Pe,Ne.active,xe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ze,Ue);De||(I=null,Rt(W,{matches:Fe||Ce,...mw(Ue),loaderData:at,errors:St}))}async function ur(Q,W,ee,he,xe,Ce,ze,Ne={}){is();let je=rR(W,ee);if(Ze({navigation:je},{flushSync:Ne.flushSync===!0}),Ce){let De=await zr(he,W.pathname,Q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let Fe=yo(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Fe,{type:"error",error:De.error}]}}else if(De.matches)he=De.matches;else{let{notFoundMatches:Fe,error:at,route:St}=sn(W.pathname);return{matches:Fe,pendingActionResult:[St.id,{type:"error",error:at}]}}}let Pe,Ue=Au(he,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:es(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let De=Dl(a,o,Q,he,Ue,ze?[]:r,xe),Fe=await tr(Q,De,xe,null);if(Pe=Fe[Ue.route.id],!Pe){for(let at of he)if(Fe[at.route.id]){Pe=Fe[at.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(vo(Pe)){let De;return Ne&&Ne.replace!=null?De=Ne.replace:De=uw(Pe.response.headers.get("Location"),new URL(Q.url),h)===k.location.pathname+k.location.search,await er(Q,Pe,!0,{submission:ee,replace:De}),{shortCircuited:!0}}if(jr(Pe)){let De=yo(he,Ue.route.id);return(Ne&&Ne.replace)!==!0&&(z="PUSH"),{matches:he,pendingActionResult:[De.route.id,Pe,Ue.route.id]}}return{matches:he,pendingActionResult:[Ue.route.id,Pe]}}async function Jn(Q,W,ee,he,xe,Ce,ze,Ne,je,Pe,Ue,De){let Fe=Ce||Ug(W,ze),at=ze||Ne||yw(Fe),St=!j&&!Pe;if(xe){if(St){let an=Xt(De);Ze({navigation:Fe,...an!==void 0?{actionData:an}:{}},{flushSync:Ue})}let Ke=await zr(ee,W.pathname,Q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let an=yo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[an]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:an,notFoundMatches:Er,route:hr}=sn(W.pathname);return{matches:Er,loaderData:{},errors:{[hr.id]:an}}}}let wt=d||u,{dsMatches:ft,revalidatingFetchers:rt}=iw(Q,he,a,o,n.history,k,ee,at,W,Pe?[]:r,Pe===!0,ce,pe,ge,ae,H,wt,h,De);if(oe=++ie,!n.dataStrategy&&!ft.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=Vr();return Rt(W,{matches:ee,loaderData:{},errors:De&&jr(De[1])?{[De[0]]:De[1].error}:null,...mw(De),...Ke?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(St){let Ke={};if(!xe){Ke.navigation=Fe;let an=Xt(De);an!==void 0&&(Ke.actionData=an)}rt.length>0&&(Ke.fetchers=xs(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{dr(Ke.key),Ke.controller&&G.set(Ke.key,Ke.controller)});let Ur=()=>rt.forEach(Ke=>dr(Ke.key));I&&I.signal.addEventListener("abort",Ur);let{loaderResults:mn,fetcherResults:rr}=await Es(ft,rt,Q,he);if(Q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Ur),rt.forEach(Ke=>G.delete(Ke.key));let jn=Bh(mn);if(jn)return await er(Q,jn.result,!0,{replace:je}),{shortCircuited:!0};if(jn=Bh(rr),jn)return H.add(jn.key),await er(Q,jn.result,!0,{replace:je}),{shortCircuited:!0};let{loaderData:Ss,errors:wr}=hw(k,ee,mn,De,rt,rr);Pe&&k.errors&&(wr={...k.errors,...wr});let Mi=Vr(),Hn=Me(oe),sr=Mi||Hn||rt.length>0;return{matches:ee,loaderData:Ss,errors:wr,...sr?{fetchers:new Map(k.fetchers)}:{}}}function Xt(Q){if(Q&&!jr(Q[1]))return{[Q[0]]:Q[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function xs(Q){return Q.forEach(W=>{let ee=k.fetchers.get(W.key),he=_u(void 0,ee?ee.data:void 0);k.fetchers.set(W.key,he)}),new Map(k.fetchers)}async function _s(Q,W,ee,he){dr(Q);let xe=(he&&he.flushSync)===!0,Ce=d||u,ze=gy(k.location,k.matches,h,ee,W,he==null?void 0:he.relative),Ne=ia(Ce,ze,h),je=Qt(Ne,Ce,ze);if(je.active&&je.matches&&(Ne=je.matches),!Ne){We(Q,W,es(404,{pathname:ze}),{flushSync:xe});return}let{path:Pe,submission:Ue,error:De}=sw(!0,ze,he);if(De){We(Q,W,De,{flushSync:xe});return}let Fe=Au(Ne,Pe),at=new nw(n.unstable_getContext?await n.unstable_getContext():void 0),St=(he&&he.preventScrollReset)===!0;if(Ue&&Dr(Ue.formMethod)){await ws(Q,W,Pe,Fe,Ne,at,je.active,xe,St,Ue);return}ae.set(Q,{routeId:W,path:Pe}),await ss(Q,W,Pe,Fe,Ne,at,je.active,xe,St,Ue)}async function ws(Q,W,ee,he,xe,Ce,ze,Ne,je,Pe){is(),ae.delete(Q);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Br=es(405,{method:Pe.formMethod,pathname:ee,routeId:W});return We(Q,W,Br,{flushSync:Ne}),!0}return!1}if(!ze&&Ue(he))return;let De=k.fetchers.get(Q);gt(Q,sR(Pe,De),{flushSync:Ne});let Fe=new AbortController,at=Sl(n.history,ee,Fe.signal,Pe);if(ze){let Lt=await zr(xe,ee,at.signal,Q);if(Lt.type==="aborted")return;if(Lt.type==="error"){We(Q,W,Lt.error,{flushSync:Ne});return}else if(Lt.matches){if(xe=Lt.matches,he=Au(xe,ee),Ue(he))return}else{We(Q,W,es(404,{pathname:ee}),{flushSync:Ne});return}}G.set(Q,Fe);let St=ie,wt=Dl(a,o,at,xe,he,r,Ce),rt=(await tr(at,wt,Ce,Q))[he.route.id];if(at.signal.aborted){G.get(Q)===Fe&&G.delete(Q);return}if(ge.has(Q)){if(vo(rt)||jr(rt)){gt(Q,ra(void 0));return}}else{if(vo(rt))if(G.delete(Q),oe>St){gt(Q,ra(void 0));return}else return H.add(Q),gt(Q,_u(Pe)),er(at,rt,!1,{fetcherSubmission:Pe,preventScrollReset:je});if(jr(rt)){We(Q,W,rt.error);return}}let Ur=k.navigation.location||k.location,mn=Sl(n.history,Ur,Fe.signal),rr=d||u,jn=k.navigation.state!=="idle"?ia(rr,k.navigation.location,h):k.matches;ct(jn,"Didn't find any matches after fetcher action");let Ss=++ie;be.set(Q,Ss);let wr=_u(Pe,rt.data);k.fetchers.set(Q,wr);let{dsMatches:Mi,revalidatingFetchers:Hn}=iw(mn,Ce,a,o,n.history,k,jn,Pe,Ur,r,!1,ce,pe,ge,ae,H,rr,h,[he.route.id,rt]);Hn.filter(Lt=>Lt.key!==Q).forEach(Lt=>{let Br=Lt.key,Js=k.fetchers.get(Br),Dn=_u(void 0,Js?Js.data:void 0);k.fetchers.set(Br,Dn),dr(Br),Lt.controller&&G.set(Br,Lt.controller)}),Ze({fetchers:new Map(k.fetchers)});let sr=()=>Hn.forEach(Lt=>dr(Lt.key));Fe.signal.addEventListener("abort",sr);let{loaderResults:Ke,fetcherResults:an}=await Es(Mi,Hn,mn,Ce);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",sr),be.delete(Q),G.delete(Q),Hn.forEach(Lt=>G.delete(Lt.key));let Er=Bh(Ke);if(Er)return er(mn,Er.result,!1,{preventScrollReset:je});if(Er=Bh(an),Er)return H.add(Er.key),er(mn,Er.result,!1,{preventScrollReset:je});let{loaderData:hr,errors:As}=hw(k,jn,Ke,void 0,Hn,an);if(k.fetchers.has(Q)){let Lt=ra(rt.data);k.fetchers.set(Q,Lt)}Me(Ss),k.navigation.state==="loading"&&Ss>oe?(ct(z,"Expected pending action"),I&&I.abort(),Rt(k.navigation.location,{matches:jn,loaderData:hr,errors:As,fetchers:new Map(k.fetchers)})):(Ze({errors:As,loaderData:fw(k.loaderData,hr,jn,As),fetchers:new Map(k.fetchers)}),ce=!1)}async function ss(Q,W,ee,he,xe,Ce,ze,Ne,je,Pe){let Ue=k.fetchers.get(Q);gt(Q,_u(Pe,Ue?Ue.data:void 0),{flushSync:Ne});let De=new AbortController,Fe=Sl(n.history,ee,De.signal);if(ze){let rt=await zr(xe,ee,Fe.signal,Q);if(rt.type==="aborted")return;if(rt.type==="error"){We(Q,W,rt.error,{flushSync:Ne});return}else if(rt.matches)xe=rt.matches,he=Au(xe,ee);else{We(Q,W,es(404,{pathname:ee}),{flushSync:Ne});return}}G.set(Q,De);let at=ie,St=Dl(a,o,Fe,xe,he,r,Ce),ft=(await tr(Fe,St,Ce,Q))[he.route.id];if(G.get(Q)===De&&G.delete(Q),!Fe.signal.aborted){if(ge.has(Q)){gt(Q,ra(void 0));return}if(vo(ft))if(oe>at){gt(Q,ra(void 0));return}else{H.add(Q),await er(Fe,ft,!1,{preventScrollReset:je});return}if(jr(ft)){We(Q,W,ft.error);return}gt(Q,ra(ft.data))}}async function er(Q,W,ee,{submission:he,fetcherSubmission:xe,preventScrollReset:Ce,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(ce=!0);let Ne=W.response.headers.get("Location");ct(Ne,"Expected a Location header on the redirect Response"),Ne=uw(Ne,new URL(Q.url),h);let je=Fu(k.location,Ne,{_isRedirect:!0});if(t){let St=!1;if(W.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(y0.test(Ne)){const wt=n.history.createURL(Ne);St=wt.origin!==e.location.origin||rs(wt.pathname,h)==null}if(St){ze?e.location.replace(Ne):e.location.assign(Ne);return}}I=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:De,formEncType:Fe}=k.navigation;!he&&!xe&&Ue&&De&&Fe&&(he=yw(k.navigation));let at=he||xe;if(UN.has(W.response.status)&&at&&Dr(at.formMethod))await Ft(Pe,je,{submission:{...at,formAction:Ne},preventScrollReset:Ce||O,enableViewTransition:ee?V:void 0});else{let St=Ug(je,he);await Ft(Pe,je,{overrideNavigation:St,fetcherSubmission:xe,preventScrollReset:Ce||O,enableViewTransition:ee?V:void 0})}}async function tr(Q,W,ee,he){let xe,Ce={};try{xe=await YN(p,Q,W,he,ee,!1)}catch(ze){return W.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{Ce[Ne.route.id]={type:"error",error:ze}}),Ce}for(let[ze,Ne]of Object.entries(xe))if(tR(Ne)){let je=Ne.result;Ce[ze]={type:"redirect",response:ZN(je,Q,ze,W,h)}}else Ce[ze]=await WN(Ne);return Ce}async function Es(Q,W,ee,he){let xe=tr(ee,Q,he,null),Ce=Promise.all(W.map(async je=>{if(je.matches&&je.match&&je.request&&je.controller){let Ue=(await tr(je.request,je.matches,he,je.key))[je.match.route.id];return{[je.key]:Ue}}else return Promise.resolve({[je.key]:{type:"error",error:es(404,{pathname:je.path})}})})),ze=await xe,Ne=(await Ce).reduce((je,Pe)=>Object.assign(je,Pe),{});return{loaderResults:ze,fetcherResults:Ne}}function is(){ce=!0,ae.forEach((Q,W)=>{G.has(W)&&pe.add(W),dr(W)})}function gt(Q,W,ee={}){k.fetchers.set(Q,W),Ze({fetchers:new Map(k.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We(Q,W,ee,he={}){let xe=yo(k.matches,W);Gt(Q),Ze({errors:{[xe.route.id]:ee},fetchers:new Map(k.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function wn(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),k.fetchers.get(Q)||BN}function Gt(Q){let W=k.fetchers.get(Q);G.has(Q)&&!(W&&W.state==="loading"&&be.has(Q))&&dr(Q),ae.delete(Q),be.delete(Q),H.delete(Q),ge.delete(Q),pe.delete(Q),k.fetchers.delete(Q)}function Zs(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),Ze({fetchers:new Map(k.fetchers)})}function dr(Q){let W=G.get(Q);W&&(W.abort(),G.delete(Q))}function Lr(Q){for(let W of Q){let ee=wn(W),he=ra(ee.data);k.fetchers.set(W,he)}}function Vr(){let Q=[],W=!1;for(let ee of H){let he=k.fetchers.get(ee);ct(he,`Expected fetcher: ${ee}`),he.state==="loading"&&(H.delete(ee),Q.push(ee),W=!0)}return Lr(Q),W}function Me(Q){let W=[];for(let[ee,he]of be)if(he<Q){let xe=k.fetchers.get(ee);ct(xe,`Expected fetcher: ${ee}`),xe.state==="loading"&&(dr(ee),be.delete(ee),W.push(ee))}return Lr(W),W.length>0}function Oe(Q,W){let ee=k.blockers.get(Q)||xu;return Se.get(Q)!==W&&Se.set(Q,W),ee}function Je(Q){k.blockers.delete(Q),Se.delete(Q)}function ht(Q,W){let ee=k.blockers.get(Q)||xu;ct(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let he=new Map(k.blockers);he.set(Q,W),Ze({blockers:he})}function qt({currentLocation:Q,nextLocation:W,historyAction:ee}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let he=Array.from(Se.entries()),[xe,Ce]=he[he.length-1],ze=k.blockers.get(xe);if(!(ze&&ze.state==="proceeding")&&Ce({currentLocation:Q,nextLocation:W,historyAction:ee}))return xe}function sn(Q){let W=es(404,{pathname:Q}),ee=d||u,{matches:he,route:xe}=pw(ee);return{notFoundMatches:he,route:xe,error:W}}function nr(Q,W,ee){if(T=Q,P=W,A=ee||null,!R&&k.navigation===zg){R=!0;let he=Mn(k.location,k.matches);he!=null&&Ze({restoreScrollPosition:he})}return()=>{T=null,P=null,A=null}}function On(Q,W){return A&&A(Q,W.map(he=>vN(he,k.loaderData)))||Q.key}function qn(Q,W){if(T&&P){let ee=On(Q,W);T[ee]=P()}}function Mn(Q,W){if(T){let ee=On(Q,W),he=T[ee];if(typeof he=="number")return he}return null}function Qt(Q,W,ee){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:rf(W,ee,h,!0)}}else return{active:!0,matches:rf(W,ee,h,!0)||[]};return{active:!1,matches:null}}async function zr(Q,W,ee,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let xe=Q;for(;;){let Ce=d==null,ze=d||u,Ne=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:xe,fetcherKey:he,patch:(Ue,De)=>{ee.aborted||aw(Ue,De,ze,Ne,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:xe}}finally{Ce&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let je=ia(ze,W,h);if(je)return{type:"success",matches:je};let Pe=rf(ze,W,h,!0);if(!Pe||xe.length===Pe.length&&xe.every((Ue,De)=>Ue.route.id===Pe[De].route.id))return{type:"success",matches:null};xe=Pe}}function _r(Q){o={},d=xf(Q,a,void 0,o)}function Ts(Q,W){let ee=d==null;aw(Q,W,d||u,o,a),ee&&(u=[...u],Ze({}))}return L={get basename(){return h},get future(){return y},get state(){return k},get routes(){return u},get window(){return e},initialize:ye,subscribe:it,enableScrollRestoration:nr,navigate:Ht,fetch:_s,revalidate:fn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:wn,deleteFetcher:Zs,dispose:Te,getBlocker:Oe,deleteBlocker:Je,patchRoutes:Ts,_internalFetchControllers:G,_internalSetRoutes:_r},L}function HN(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function gy(n,e,t,r,a,o){let u,d;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){d=p;break}}else u=e,d=e[e.length-1];let h=g0(r||".",p0(u),rs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&d){let p=v0(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let y=new URLSearchParams(h.search),b=y.getAll("index");y.delete("index"),b.filter(T=>T).forEach(T=>y.append("index",T));let _=y.toString();h.search=_?`?${_}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:qs([t,h.pathname])),Na(h)}function sw(n,e,t){if(!t||!HN(t))return{path:e};if(t.formMethod&&!nR(t.formMethod))return{path:e,error:es(405,{method:t.formMethod})};let r=()=>({path:e,error:es(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=JE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(o))return r();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[T,A])=>`${_}${T}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Dr(o))return r();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let d,h;if(t.formData)d=by(t.formData),h=t.formData;else if(t.body instanceof FormData)d=by(t.body),h=t.body;else if(t.body instanceof URLSearchParams)d=t.body,h=dw(d);else if(t.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(t.body),h=dw(d)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Dr(p.formMethod))return{path:e,submission:p};let y=La(e);return n&&y.search&&v0(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Na(y),submission:p}}function iw(n,e,t,r,a,o,u,d,h,p,y,b,_,T,A,P,R,N,E){var U;let w=E?jr(E[1])?E[1].error:E[1].data:void 0,M=a.createURL(o.location),L=a.createURL(h),k;if(y&&o.errors){let j=Object.keys(o.errors)[0];k=u.findIndex(ce=>ce.route.id===j)}else if(E&&jr(E[1])){let j=E[0];k=u.findIndex(ce=>ce.route.id===j)-1}let z=E?E[1].statusCode:void 0,O=z&&z>=400,I={currentUrl:M,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:L,nextParams:u[0].params,...d,actionResult:w,actionStatus:z},V=u.map((j,ce)=>{let{route:pe}=j,G=null;if(k!=null&&ce>k?G=!1:pe.lazy?G=!0:pe.loader==null?G=!1:y?G=yy(pe,o.loaderData,o.errors):$N(o.loaderData,o.matches[ce],j)&&(G=!0),G!==null)return vy(t,r,n,j,p,e,G);let ie=O?!1:b||M.pathname+M.search===L.pathname+L.search||M.search!==L.search||GN(o.matches[ce],j),oe={...I,defaultShouldRevalidate:ie},be=Ef(j,oe);return vy(t,r,n,j,p,e,be,oe)}),F=[];return A.forEach((j,ce)=>{if(y||!u.some(ae=>ae.route.id===j.routeId)||T.has(ce))return;let pe=ia(R,j.path,N);if(!pe){F.push({key:ce,routeId:j.routeId,path:j.path,matches:null,match:null,request:null,controller:null});return}if(P.has(ce))return;let G=o.fetchers.get(ce),ie=Au(pe,j.path),oe=new AbortController,be=Sl(a,j.path,oe.signal),H=null;if(_.has(ce))_.delete(ce),H=Dl(t,r,be,pe,ie,p,e);else if(G&&G.state!=="idle"&&G.data===void 0)b&&(H=Dl(t,r,be,pe,ie,p,e));else{let ae={...I,defaultShouldRevalidate:O?!1:b};Ef(ie,ae)&&(H=Dl(t,r,be,pe,ie,p,e,ae))}H&&F.push({key:ce,routeId:j.routeId,path:j.path,matches:H,match:ie,request:be,controller:oe})}),{dsMatches:V,revalidatingFetchers:F}}function yy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function $N(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function GN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ef(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function aw(n,e,t,r,a){let o;if(n){let h=r[n];ct(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let u=e.filter(h=>!o.some(p=>KE(h,p))),d=xf(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function KE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>KE(t,o))}):!1}var ow=new WeakMap,YE=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ct(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=ow.get(a);u||(u={},ow.set(a,u));let d=u[n];if(d)return d;let h=(async()=>{let p=mN(n),b=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)rn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(b)rn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(a,{[n]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return u[n]=h,h},lw=new WeakMap;function QN(n,e,t,r,a){let o=t[n.id];if(ct(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=lw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),T={};for(let A in _){let P=_[A];if(P===void 0)continue;let R=gN(A),E=o[A]!==void 0&&A!=="hasErrorBoundary";R?rn(!R,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?rn(!E,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=P}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return lw.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(n.lazy),d=[],h;for(let y of u){if(a&&a.includes(y))continue;let b=YE({key:y,route:n,manifest:t,mapRouteProperties:r});b&&(d.push(b),y===e&&(h=b))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function cw(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function KN(n){return n.matches.some(e=>e.route.unstable_middleware)?XE(n,!1,()=>cw(n),(e,t)=>({[t]:{type:"error",result:e}})):cw(n)}async function XE(n,e,t,r){let{matches:a,request:o,params:u,context:d}=n,h={handlerResult:void 0};try{let p=a.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(_=>[b.route.id,_]):[]),y=await WE({request:o,params:u,context:d},p,e,h,t);return e?y:h.handlerResult}catch(p){if(!h.middlewareError)throw p;let y=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,y):y}}async function WE(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[h,p]=d,y=!1,b,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await WE(n,e,t,r,a,o+1)};try{let T=await p({request:n.request,params:n.params,context:n.context},_);return y?T===void 0?b:T:_()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:h,error:T}):r.middlewareError={routeId:h,error:T},T}}function ZE(n,e,t,r,a){let o=YE({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=QN(r.route,Dr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function vy(n,e,t,r,a,o,u,d=null){let h=!1,p=ZE(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return h=!0,d?typeof y=="boolean"?Ef(r,{...d,defaultShouldRevalidate:y}):Ef(r,d):u},resolve(y){return h||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?XN({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Dl(n,e,t,r,a,o,u,d=null){return r.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:ZE(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:vy(n,e,t,h,o,u,!0,d))}async function YN(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},h=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return XE(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,_)=>({[_]:{type:"error",result:b}}))}});try{await Promise.all(t.flatMap(p=>{var y,b;return[(y=p._lazyPromises)==null?void 0:y.handler,(b=p._lazyPromises)==null?void 0:b.route]}))}catch{}return h}async function XN({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,d,h=Dr(n.method),p=h?"action":"loader",y=b=>{let _,T=new Promise((R,N)=>_=N);d=()=>_(),n.signal.addEventListener("abort",d);let A=R=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):b({request:n,params:e.params,context:o},...R!==void 0?[R]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(N=>A(N)):A())}}catch(R){return{type:"error",result:R}}})();return Promise.race([P,T])};try{let b=h?e.route.action:e.route.loader;if(t||r)if(b){let _,[T]=await Promise.all([y(b).catch(A=>{_=A}),t,r]);if(_!==void 0)throw _;u=T}else{await t;let _=h?e.route.action:e.route.loader;if(_)[u]=await Promise.all([y(_),r]);else if(p==="action"){let T=new URL(n.url),A=T.pathname+T.search;throw es(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let _=new URL(n.url),T=_.pathname+_.search;throw es(404,{pathname:T})}}catch(b){return{type:"error",result:b}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function WN(n){var r,a,o,u,d,h;let{result:e,type:t}=n;if(eT(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new wf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?gw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new wf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:qu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:qu(e)?e.status:void 0}:gw(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ZN(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!y0.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=gy(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function uw(n,e,t){if(y0.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rs(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Sl(n,e,t,r){let a=n.createURL(JE(e)).toString(),o={signal:t};if(r&&Dr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=by(r.formData):o.body=r.formData}return new Request(a,o)}function by(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function dw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function JN(n,e,t,r=!1,a=!1){let o={},u=null,d,h=!1,p={},y=t&&jr(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,T=e[_];if(ct(!vo(T),"Cannot handle redirect results in processLoaderData"),jr(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},a)u[_]=A;else{let P=yo(n,_);u[P.route.id]==null&&(u[P.route.id]=A)}r||(o[_]=QE),h||(h=!0,d=qu(T.error)?T.error.status:500),T.headers&&(p[_]=T.headers)}else o[_]=T.data,T.statusCode&&T.statusCode!==200&&!h&&(d=T.statusCode),T.headers&&(p[_]=T.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:p}}function hw(n,e,t,r,a,o){let{loaderData:u,errors:d}=JN(e,t,r);return a.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:y,controller:b}=h,_=o[p];if(ct(_,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(jr(_)){let T=yo(n.matches,y==null?void 0:y.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:_.error}),n.fetchers.delete(p)}else if(vo(_))ct(!1,"Unhandled fetcher revalidation redirect");else{let T=ra(_.data);n.fetchers.set(p,T)}}),{loaderData:u,errors:d}}function fw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==QE).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function mw(n){return n?jr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function yo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function pw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function es(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new wf(n||500,u,new Error(d),!0)}function Bh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(vo(a))return{key:r,result:a}}}function JE(n){let e=typeof n=="string"?La(n):n;return Na({...e,hash:""})}function eR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function tR(n){return eT(n.result)&&zN.has(n.result.status)}function jr(n){return n.type==="error"}function vo(n){return(n&&n.type)==="redirect"}function gw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function eT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function nR(n){return VN.has(n.toUpperCase())}function Dr(n){return kN.has(n.toUpperCase())}function v0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Au(n,e){let t=typeof e=="string"?La(e).search:e.search;if(n[n.length-1].route.index&&v0(t||""))return n[n.length-1];let r=HE(n);return r[r.length-1]}function yw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Ug(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _u(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ra(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function iR(n,e){try{let t=n.sessionStorage.getItem(GE);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function aR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(GE,JSON.stringify(t))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function oR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ko=q.createContext(null);ko.displayName="DataRouter";var od=q.createContext(null);od.displayName="DataRouterState";var b0=q.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var tT=q.createContext(new Map);tT.displayName="Fetchers";var lR=q.createContext(null);lR.displayName="Await";var Xs=q.createContext(null);Xs.displayName="Navigation";var nm=q.createContext(null);nm.displayName="Location";var bs=q.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var x0=q.createContext(null);x0.displayName="RouteError";function cR(n,{relative:e}={}){ct(ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xs),{hash:a,pathname:o,search:u}=ud(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:qs([t,o])),r.createHref({pathname:d,search:u,hash:a})}function ld(){return q.useContext(nm)!=null}function Ws(){return ct(ld(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(nm).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(n){q.useContext(Xs).static||q.useLayoutEffect(n)}function cd(){let{isDataRoute:n}=q.useContext(bs);return n?TR():uR()}function uR(){ct(ld(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ko),{basename:e,navigator:t}=q.useContext(Xs),{matches:r}=q.useContext(bs),{pathname:a}=Ws(),o=JSON.stringify(p0(r)),u=q.useRef(!1);return rT(()=>{u.current=!0}),q.useCallback((h,p={})=>{if(rn(u.current,nT),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=g0(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var dR=q.createContext(null);function hR(n){let e=q.useContext(bs).outlet;return e&&q.createElement(dR.Provider,{value:n},e)}function _0(){let{matches:n}=q.useContext(bs),e=n[n.length-1];return e?e.params:{}}function ud(n,{relative:e}={}){let{matches:t}=q.useContext(bs),{pathname:r}=Ws(),a=JSON.stringify(p0(t));return q.useMemo(()=>g0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function fR(n,e,t,r){ct(ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Xs),{matches:u}=q.useContext(bs),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let E=b&&b.path||"";sT(p,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let _=Ws(),T;T=_;let A=T.pathname||"/",P=A;if(y!=="/"){let E=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=!o&&t&&t.matches&&t.matches.length>0?t.matches:ia(n,{pathname:P});return rn(b||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),rn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vR(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:qs([y,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:qs([y,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),u,t,r)}function mR(){let n=ER(),e=qu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,u)}var pR=q.createElement(mR,null),gR=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(bs.Provider,{value:this.props.routeContext},q.createElement(x0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:n,match:e,children:t}){let r=q.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bs.Provider,{value:n},t)}function vR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:b}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,y)=>{let b,_=!1,T=null,A=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||pR,u&&(d<0&&y===0?(sT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):d===y&&(_=!0,A=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),R=()=>{let N;return b?N=T:_?N=A:p.route.Component?N=q.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,q.createElement(yR,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(gR,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function w0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(n){let e=q.useContext(ko);return ct(e,w0(n)),e}function xR(n){let e=q.useContext(od);return ct(e,w0(n)),e}function _R(n){let e=q.useContext(bs);return ct(e,w0(n)),e}function E0(n){let e=_R(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wR(){return E0("useRouteId")}function ER(){var r;let n=q.useContext(x0),e=xR("useRouteError"),t=E0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TR(){let{router:n}=bR("useNavigate"),e=E0("useNavigate"),t=q.useRef(!1);return rT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{rn(t.current,nT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var vw={};function sT(n,e,t){!e&&!vw[n]&&(vw[n]=!0,rn(!1,t))}var bw={};function xw(n,e){!n&&!bw[e]&&(bw[e]=!0,console.warn(e))}function SR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var AR=["HydrateFallback","hydrateFallbackElement"],CR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function NR({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[u,d]=q.useState({isTransitioning:!1}),[h,p]=q.useState(),[y,b]=q.useState(),[_,T]=q.useState(),A=q.useRef(new Map),P=q.useCallback((w,{deletedFetchers:M,flushSync:L,viewTransitionOpts:k})=>{w.fetchers.forEach((O,I)=>{O.data!==void 0&&A.current.set(I,O.data)}),M.forEach(O=>A.current.delete(O)),xw(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(xw(k==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!z){e&&L?e(()=>r(w)):q.startTransition(()=>r(w));return}if(e&&L){e(()=>{y&&(h&&h.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let O=n.window.document.startViewTransition(()=>{e(()=>r(w))});O.finished.finally(()=>{e(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>b(O));return}y?(h&&h.resolve(),y.skipTransition(),T({state:w,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(w),d({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,e,y,h]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new CR)},[u]),q.useEffect(()=>{if(h&&a&&n.window){let w=a,M=h.promise,L=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(w)),await M});L.finished.finally(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})}),b(L)}},[a,h,n.window]),q.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,y,t.location,a]),q.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),T(void 0))},[u.isTransitioning,_]);let R=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,M,L)=>n.navigate(w,{state:M,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(w,M,L)=>n.navigate(w,{replace:!0,state:M,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),N=n.basename||"/",E=q.useMemo(()=>({router:n,navigator:R,static:!1,basename:N}),[n,R,N]);return q.createElement(q.Fragment,null,q.createElement(ko.Provider,{value:E},q.createElement(od.Provider,{value:t},q.createElement(tT.Provider,{value:A.current},q.createElement(b0.Provider,{value:u},q.createElement(MR,{basename:N,location:t.location,navigationType:t.historyAction,navigator:R},q.createElement(RR,{routes:n.routes,future:n.future,state:t})))))),null)}var RR=q.memo(IR);function IR({routes:n,future:e,state:t}){return fR(n,void 0,t,e)}function OR(n){return hR(n.context)}function MR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=La(t));let{pathname:h="/",search:p="",hash:y="",state:b=null,key:_="default"}=t,T=q.useMemo(()=>{let A=rs(h,u);return A==null?null:{location:{pathname:A,search:p,hash:y,state:b,key:_},navigationType:r}},[u,h,p,y,b,_,r]);return rn(T!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:q.createElement(Xs.Provider,{value:d},q.createElement(nm.Provider,{children:e,value:T}))}var sf="get",af="application/x-www-form-urlencoded";function rm(n){return n!=null&&typeof n.tagName=="string"}function jR(n){return rm(n)&&n.tagName.toLowerCase()==="button"}function DR(n){return rm(n)&&n.tagName.toLowerCase()==="form"}function PR(n){return rm(n)&&n.tagName.toLowerCase()==="input"}function kR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LR(n,e){return n.button===0&&(!e||e==="_self")&&!kR(n)}function xy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function VR(n,e){let t=xy(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Fh=null;function zR(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var UR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(n){return n!=null&&!UR.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${af}"`),null):n}function BR(n,e){let t,r,a,o,u;if(DR(n)){let d=n.getAttribute("action");r=d?rs(d,e):null,t=n.getAttribute("method")||sf,a=Bg(n.getAttribute("enctype"))||af,o=new FormData(n)}else if(jR(n)||PR(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?rs(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||sf,a=Bg(n.getAttribute("formenctype"))||Bg(d.getAttribute("enctype"))||af,o=new FormData(d,n),!zR()){let{name:p,type:y,value:b}=n;if(y==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,b)}}else{if(rm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sf,r=null,a=af,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function T0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HR(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await FR(o,t);return u.links?u.links():[]}return[]}));return KR(r.flat(1).filter(qR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _w(n,e,t,r,a,o){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var b;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $R(n,e,{includeHydrateFallback:t}={}){return GR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function GR(n){return[...new Set(n)]}function QR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function KR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(QR(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var YR=new Set([100,101,204,205]);function XR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function iT(){let n=q.useContext(ko);return T0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WR(){let n=q.useContext(od);return T0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var S0=q.createContext(void 0);S0.displayName="FrameworkContext";function aT(){let n=q.useContext(S0);return T0(n,"You must render this element inside a <HydratedRouter> element"),n}function ZR(n,e){let t=q.useContext(S0),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,_=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=N=>{N.forEach(E=>{u(E.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[n]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{a(!0)},A=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:wu(d,T),onBlur:wu(h,A),onMouseEnter:wu(p,T),onMouseLeave:wu(y,A),onTouchStart:wu(b,T)}]:[!1,_,{}]}function wu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JR({page:n,...e}){let{router:t}=iT(),r=q.useMemo(()=>ia(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(tI,{page:n,matches:r,...e}):null}function eI(n){let{manifest:e,routeModules:t}=aT(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return HR(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function tI({page:n,matches:e,...t}){let r=Ws(),{manifest:a,routeModules:o}=aT(),{basename:u}=iT(),{loaderData:d,matches:h}=WR(),p=q.useMemo(()=>_w(n,e,h,a,r,"data"),[n,e,h,a,r]),y=q.useMemo(()=>_w(n,e,h,a,r,"assets"),[n,e,h,a,r]),b=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,P=!1;if(e.forEach(N=>{var w;let E=a.routes[N.route.id];!E||!E.hasLoader||(!p.some(M=>M.route.id===N.route.id)&&N.route.id in d&&((w=o[N.route.id])!=null&&w.shouldRevalidate)||E.hasClientLoader?P=!0:A.add(N.route.id))}),A.size===0)return[];let R=XR(n,u);return P&&A.size>0&&R.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[u,d,r,a,p,e,n,o]),_=q.useMemo(()=>$R(y,a),[y,a]),T=eI(y);return q.createElement(q.Fragment,null,b.map(A=>q.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>q.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),T.map(({key:A,link:P})=>q.createElement("link",{key:A,...P})))}function nI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.5.3")}catch{}function rI(n,e){return qN({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:uN({window:e==null?void 0:e.window}),hydrationData:sI(),routes:n,mapRouteProperties:SR,hydrationRouteProperties:AR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function sI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:iI(n.errors)}),n}function iI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new wf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:h,to:p,preventScrollReset:y,viewTransition:b,..._},T){let{basename:A}=q.useContext(Xs),P=typeof p=="string"&&lT.test(p),R,N=!1;if(typeof p=="string"&&P&&(R=p,oT))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),F=rs(V.pathname,A);V.origin===I.origin&&F!=null?p=F+V.search+V.hash:N=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=cR(p,{relative:a}),[w,M,L]=ZR(r,_),k=cI(p,{replace:u,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:b});function z(I){e&&e(I),I.defaultPrevented||k(I)}let O=q.createElement("a",{..._,...L,href:R||E,onClick:N||o?e:z,ref:nI(T,M),target:h,"data-discover":!P&&t==="render"?"true":void 0});return w&&!P?q.createElement(q.Fragment,null,O,q.createElement(JR,{page:E})):O});Mt.displayName="Link";var aI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:h,...p},y){let b=ud(u,{relative:p.relative}),_=Ws(),T=q.useContext(od),{navigator:A,basename:P}=q.useContext(Xs),R=T!=null&&pI(b)&&d===!0,N=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,E=_.pathname,w=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(E=E.toLowerCase(),w=w?w.toLowerCase():null,N=N.toLowerCase()),w&&P&&(w=rs(w,P)||w);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=E===N||!a&&E.startsWith(N)&&E.charAt(M)==="/",k=w!=null&&(w===N||!a&&w.startsWith(N)&&w.charAt(N.length)==="/"),z={isActive:L,isPending:k,isTransitioning:R},O=L?e:void 0,I;typeof r=="function"?I=r(z):I=[r,L?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(z):o;return q.createElement(Mt,{...p,"aria-current":O,className:I,ref:y,style:V,to:u,viewTransition:d},typeof h=="function"?h(z):h)});aI.displayName="NavLink";var oI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=sf,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:b,..._},T)=>{let A=fI(),P=mI(d,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&lT.test(d),E=w=>{if(h&&h(w),w.defaultPrevented)return;w.preventDefault();let M=w.nativeEvent.submitter,L=(M==null?void 0:M.getAttribute("formmethod"))||u;A(M||w.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:b})};return q.createElement("form",{ref:T,method:R,action:P,onSubmit:r?h:E,..._,"data-discover":!N&&n==="render"?"true":void 0})});oI.displayName="Form";function lI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let e=q.useContext(ko);return ct(e,lI(n)),e}function cI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=cd(),h=Ws(),p=ud(n,{relative:o});return q.useCallback(y=>{if(LR(y,e)){y.preventDefault();let b=t!==void 0?t:Na(h)===Na(p);d(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[h,d,p,t,r,e,n,a,o,u])}function uI(n){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(xy(n)),t=q.useRef(!1),r=Ws(),a=q.useMemo(()=>VR(r.search,t.current?null:e.current),[r.search]),o=cd(),u=q.useCallback((d,h)=>{const p=xy(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,h)},[o,a]);return[a,u]}var dI=0,hI=()=>`__${String(++dI)}__`;function fI(){let{router:n}=cT("useSubmit"),{basename:e}=q.useContext(Xs),t=wR();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:h,body:p}=BR(r,e);if(a.navigate===!1){let y=a.fetcherKey||hI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function mI(n,{relative:e}={}){let{basename:t}=q.useContext(Xs),r=q.useContext(bs);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ud(n||".",{relative:e})},u=Ws();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qs([t,o.pathname])),Na(o)}function pI(n,e={}){let t=q.useContext(b0);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cT("useViewTransitionState"),a=ud(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _f(a.pathname,u)!=null||_f(a.pathname,o)!=null}new TextEncoder;[...YR];var gI=UE();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yI(n){return q.createElement(NR,{flushSync:gI.flushSync,...n})}var qh={},ww;function vI(){if(ww)return qh;ww=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(qh,"__esModule",{value:!0});var e=tm();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:d="",autoFill:h=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:b=!1,direction:_="left",speed:T=50,delay:A=0,loop:P=0,gradient:R=!1,gradientColor:N="white",gradientWidth:E=200,onFinish:w,onCycleComplete:M,onMount:L,children:k},z){const[O,I]=e.useState(0),[V,F]=e.useState(0),[U,j]=e.useState(1),[ce,pe]=e.useState(!1),G=e.useRef(null),ie=z||G,oe=e.useRef(null),be=e.useCallback(()=>{if(oe.current&&ie.current){const Ee=ie.current.getBoundingClientRect(),ye=oe.current.getBoundingClientRect();let Te=Ee.width,it=ye.width;(_==="up"||_==="down")&&(Te=Ee.height,it=ye.height),j(h&&Te&&it&&it<Te?Math.ceil(Te/it):1),I(Te),F(it)}},[h,ie,_]);e.useEffect(()=>{if(ce&&(be(),oe.current&&ie.current)){const Ee=new ResizeObserver(()=>be());return Ee.observe(ie.current),Ee.observe(oe.current),()=>{Ee&&Ee.disconnect()}}},[be,ie,ce]),e.useEffect(()=>{be()},[be,k]),e.useEffect(()=>{pe(!0)},[]),e.useEffect(()=>{typeof L=="function"&&L()},[]);const H=e.useMemo(()=>h?V*U/T:V<O?O/T:V/T,[h,O,V,U,T]),ae=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!b||b?"paused":"running","--width":_==="up"||_==="down"?"100vh":"100%","--transform":_==="up"?"rotate(-90deg)":_==="down"?"rotate(90deg)":"none"}),[u,p,y,b,_]),ve=e.useMemo(()=>({"--gradient-color":N,"--gradient-width":typeof E=="number"?`${E}px`:E}),[N,E]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":_==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${A}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":h?"auto":"100%"}),[p,_,H,A,P,h]),Se=e.useMemo(()=>({"--transform":_==="up"?"rotate(90deg)":_==="down"?"rotate(-90deg)":"none"}),[_]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(k,it=>r.default.createElement("div",{style:Se,className:"rfm-child"},it)))),[Se,k]);return ce?r.default.createElement("div",{ref:ie,style:ae,className:"rfm-marquee-container "+d},R&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:M,onAnimationEnd:w},r.default.createElement("div",{className:"rfm-initial-child-container",ref:oe},e.Children.map(k,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(U-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},Ve(U))):null});return qh.default=a,qh}var bI=vI();const uT=zE(bI);var dT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ew=Ut.createContext&&Ut.createContext(dT),xI=["attr","size","title"];function _I(n,e){if(n==null)return{};var t=wI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function wI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Tf(){return Tf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tf.apply(this,arguments)}function Tw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Sf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(t),!0).forEach(function(r){EI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EI(n,e,t){return e=TI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TI(n){var e=SI(n,"string");return typeof e=="symbol"?e:e+""}function SI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hT(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,Sf({key:t},e.attr),hT(e.child)))}function dd(n){return e=>Ut.createElement(AI,Tf({attr:Sf({},n.attr)},e),hT(n.child))}function AI(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=_I(n,xI),d=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ut.createElement("svg",Tf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:Sf(Sf({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return Ew!==void 0?Ut.createElement(Ew.Consumer,null,t=>e(t)):e(dT)}function CI(n){return dd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function NI(n){return dd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Sw(n){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function RI(n){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const II=()=>{};var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},OI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,y=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|p>>6,T=p&63;h||(T=64,u||(_=64)),r.push(t[y],t[b],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||b==null)throw new MI;const _=o<<2|d>>4;if(r.push(_),p!==64){const T=d<<4&240|p>>2;if(r.push(T),b!==64){const A=p<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(n){const e=fT(n);return mT.encodeByteArray(e,!0)},Af=function(n){return jI(n).replace(/\./g,"")},pT=function(n){try{return mT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>DI().__FIREBASE_DEFAULTS__,kI=()=>{if(typeof process>"u"||typeof Aw>"u")return;const n=Aw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pT(n[1]);return e&&JSON.parse(e)},sm=()=>{try{return II()||PI()||kI()||LI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gT=n=>{var e,t;return(t=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VI=n=>{const e=gT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yT=()=>{var n;return(n=sm())===null||n===void 0?void 0:n.config},vT=n=>{var e;return(e=sm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Af(JSON.stringify(t)),Af(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function FI(){var n;const e=(n=sm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GI(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QI(){return!FI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class Oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=XI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?WI(o,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Oi(a,d,r)}}function WI(n,e){return n.replace(ZI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function JI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ra(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Cw(o)&&Cw(u)){if(!Ra(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Nu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eO(n,e){const t=new tO(n,e);return t.subscribe.bind(t)}class tO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Fg),a.error===void 0&&(a.error=Fg),a.complete===void 0&&(a.complete=Fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iO(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sO(n){return n===go?void 0:n}function iO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const oO={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},lO=ut.INFO,cO={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},uO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=cO[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A0{constructor(e){this.name=e,this._logLevel=lO,this._logHandler=uO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const dO=(n,e)=>e.some(t=>n instanceof t);let Nw,Rw;function hO(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fO(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,_y=new WeakMap,xT=new WeakMap,qg=new WeakMap,C0=new WeakMap;function mO(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(wa(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&bT.set(t,n)}).catch(()=>{}),C0.set(e,n),e}function pO(n){if(_y.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});_y.set(n,e)}let wy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _y.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gO(n){wy=n(wy)}function yO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Hg(this),e,...t);return xT.set(r,e.sort?e.sort():[e]),wa(r)}:fO().includes(n)?function(...e){return n.apply(Hg(this),e),wa(bT.get(this))}:function(...e){return wa(n.apply(Hg(this),e))}}function vO(n){return typeof n=="function"?yO(n):(n instanceof IDBTransaction&&pO(n),dO(n,hO())?new Proxy(n,wy):n)}function wa(n){if(n instanceof IDBRequest)return mO(n);if(qg.has(n))return qg.get(n);const e=vO(n);return e!==n&&(qg.set(n,e),C0.set(e,n)),e}const Hg=n=>C0.get(n);function bO(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=wa(u);return r&&u.addEventListener("upgradeneeded",h=>{r(wa(u.result),h.oldVersion,h.newVersion,wa(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const xO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],$g=new Map;function Iw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=_O.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||xO.includes(t)))return;const o=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return $g.set(e,o),o}gO(n=>({...n,get:(e,t,r)=>Iw(e,t)||n.get(e,t,r),has:(e,t)=>!!Iw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function EO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",Ow="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new A0("@firebase/app"),TO="@firebase/app-compat",SO="@firebase/analytics-compat",AO="@firebase/analytics",CO="@firebase/app-check-compat",NO="@firebase/app-check",RO="@firebase/auth",IO="@firebase/auth-compat",OO="@firebase/database",MO="@firebase/data-connect",jO="@firebase/database-compat",DO="@firebase/functions",PO="@firebase/functions-compat",kO="@firebase/installations",LO="@firebase/installations-compat",VO="@firebase/messaging",zO="@firebase/messaging-compat",UO="@firebase/performance",BO="@firebase/performance-compat",FO="@firebase/remote-config",qO="@firebase/remote-config-compat",HO="@firebase/storage",$O="@firebase/storage-compat",GO="@firebase/firestore",QO="@firebase/vertexai",KO="@firebase/firestore-compat",YO="firebase",XO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",WO={[Ey]:"fire-core",[TO]:"fire-core-compat",[AO]:"fire-analytics",[SO]:"fire-analytics-compat",[NO]:"fire-app-check",[CO]:"fire-app-check-compat",[RO]:"fire-auth",[IO]:"fire-auth-compat",[OO]:"fire-rtdb",[MO]:"fire-data-connect",[jO]:"fire-rtdb-compat",[DO]:"fire-fn",[PO]:"fire-fn-compat",[kO]:"fire-iid",[LO]:"fire-iid-compat",[VO]:"fire-fcm",[zO]:"fire-fcm-compat",[UO]:"fire-perf",[BO]:"fire-perf-compat",[FO]:"fire-rc",[qO]:"fire-rc-compat",[HO]:"fire-gcs",[$O]:"fire-gcs-compat",[GO]:"fire-fst",[KO]:"fire-fst-compat",[QO]:"fire-vertex","fire-js":"fire-js",[YO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,ZO=new Map,Sy=new Map;function Mw(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tc(n){const e=n.name;if(Sy.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,n);for(const t of Cf.values())Mw(t,n);for(const t of ZO.values())Mw(t,n);return!0}function N0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new hd("app","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=XO;function _T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ea.create("bad-app-name",{appName:String(a)});if(t||(t=yT()),!t)throw Ea.create("no-options");const o=Cf.get(a);if(o){if(Ra(t,o.options)&&Ra(r,o.config))return o;throw Ea.create("duplicate-app",{appName:a})}const u=new aO(a);for(const h of Sy.values())u.addComponent(h);const d=new eM(t,r,u);return Cf.set(a,d),d}function wT(n=Ty){const e=Cf.get(n);if(!e&&n===Ty&&yT())return _T();if(!e)throw Ea.create("no-app",{appName:n});return e}function Ta(n,e,t){var r;let a=(r=WO[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(d.join(" "));return}tc(new Ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firebase-heartbeat-database",nM=1,Hu="firebase-heartbeat-store";let Gg=null;function ET(){return Gg||(Gg=bO(tM,nM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ea.create("idb-open",{originalErrorMessage:n.message})})),Gg}async function rM(n){try{const t=(await ET()).transaction(Hu),r=await t.objectStore(Hu).get(TT(n));return await t.done,r}catch(e){if(e instanceof Oi)Ai.warn(e.message);else{const t=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function jw(n,e){try{const r=(await ET()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,TT(n)),await r.done}catch(t){if(t instanceof Oi)Ai.warn(t.message);else{const r=Ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function TT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=1024,iM=30;class aM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>iM){const u=cM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dw(),{heartbeatsToSend:r,unsentEntries:a}=oM(this._heartbeatsCache.heartbeats),o=Af(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function oM(n,e=sM){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Pw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Pw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Pw(n){return Af(JSON.stringify({version:2,heartbeats:n})).length}function cM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n){tc(new Ro("platform-logger",e=>new wO(e),"PRIVATE")),tc(new Ro("heartbeat",e=>new aM(e),"PRIVATE")),Ta(Ey,Ow,n),Ta(Ey,Ow,"esm2017"),Ta("fire-js","")}uM("");var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,ST;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,O){function I(){}I.prototype=O.prototype,z.D=O.prototype,z.prototype=new I,z.prototype.constructor=z,z.C=function(V,F,U){for(var j=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)j[ce-2]=arguments[ce];return O.prototype[F].apply(V,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,O,I){I||(I=0);var V=Array(16);if(typeof O=="string")for(var F=0;16>F;++F)V[F]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(F=0;16>F;++F)V[F]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=z.g[0],I=z.g[1],F=z.g[2];var U=z.g[3],j=O+(U^I&(F^U))+V[0]+3614090360&4294967295;O=I+(j<<7&4294967295|j>>>25),j=U+(F^O&(I^F))+V[1]+3905402710&4294967295,U=O+(j<<12&4294967295|j>>>20),j=F+(I^U&(O^I))+V[2]+606105819&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(O^F&(U^O))+V[3]+3250441966&4294967295,I=F+(j<<22&4294967295|j>>>10),j=O+(U^I&(F^U))+V[4]+4118548399&4294967295,O=I+(j<<7&4294967295|j>>>25),j=U+(F^O&(I^F))+V[5]+1200080426&4294967295,U=O+(j<<12&4294967295|j>>>20),j=F+(I^U&(O^I))+V[6]+2821735955&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(O^F&(U^O))+V[7]+4249261313&4294967295,I=F+(j<<22&4294967295|j>>>10),j=O+(U^I&(F^U))+V[8]+1770035416&4294967295,O=I+(j<<7&4294967295|j>>>25),j=U+(F^O&(I^F))+V[9]+2336552879&4294967295,U=O+(j<<12&4294967295|j>>>20),j=F+(I^U&(O^I))+V[10]+4294925233&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(O^F&(U^O))+V[11]+2304563134&4294967295,I=F+(j<<22&4294967295|j>>>10),j=O+(U^I&(F^U))+V[12]+1804603682&4294967295,O=I+(j<<7&4294967295|j>>>25),j=U+(F^O&(I^F))+V[13]+4254626195&4294967295,U=O+(j<<12&4294967295|j>>>20),j=F+(I^U&(O^I))+V[14]+2792965006&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(O^F&(U^O))+V[15]+1236535329&4294967295,I=F+(j<<22&4294967295|j>>>10),j=O+(F^U&(I^F))+V[1]+4129170786&4294967295,O=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(O^I))+V[6]+3225465664&4294967295,U=O+(j<<9&4294967295|j>>>23),j=F+(O^I&(U^O))+V[11]+643717713&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^O&(F^U))+V[0]+3921069994&4294967295,I=F+(j<<20&4294967295|j>>>12),j=O+(F^U&(I^F))+V[5]+3593408605&4294967295,O=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(O^I))+V[10]+38016083&4294967295,U=O+(j<<9&4294967295|j>>>23),j=F+(O^I&(U^O))+V[15]+3634488961&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^O&(F^U))+V[4]+3889429448&4294967295,I=F+(j<<20&4294967295|j>>>12),j=O+(F^U&(I^F))+V[9]+568446438&4294967295,O=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(O^I))+V[14]+3275163606&4294967295,U=O+(j<<9&4294967295|j>>>23),j=F+(O^I&(U^O))+V[3]+4107603335&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^O&(F^U))+V[8]+1163531501&4294967295,I=F+(j<<20&4294967295|j>>>12),j=O+(F^U&(I^F))+V[13]+2850285829&4294967295,O=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(O^I))+V[2]+4243563512&4294967295,U=O+(j<<9&4294967295|j>>>23),j=F+(O^I&(U^O))+V[7]+1735328473&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^O&(F^U))+V[12]+2368359562&4294967295,I=F+(j<<20&4294967295|j>>>12),j=O+(I^F^U)+V[5]+4294588738&4294967295,O=I+(j<<4&4294967295|j>>>28),j=U+(O^I^F)+V[8]+2272392833&4294967295,U=O+(j<<11&4294967295|j>>>21),j=F+(U^O^I)+V[11]+1839030562&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^O)+V[14]+4259657740&4294967295,I=F+(j<<23&4294967295|j>>>9),j=O+(I^F^U)+V[1]+2763975236&4294967295,O=I+(j<<4&4294967295|j>>>28),j=U+(O^I^F)+V[4]+1272893353&4294967295,U=O+(j<<11&4294967295|j>>>21),j=F+(U^O^I)+V[7]+4139469664&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^O)+V[10]+3200236656&4294967295,I=F+(j<<23&4294967295|j>>>9),j=O+(I^F^U)+V[13]+681279174&4294967295,O=I+(j<<4&4294967295|j>>>28),j=U+(O^I^F)+V[0]+3936430074&4294967295,U=O+(j<<11&4294967295|j>>>21),j=F+(U^O^I)+V[3]+3572445317&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^O)+V[6]+76029189&4294967295,I=F+(j<<23&4294967295|j>>>9),j=O+(I^F^U)+V[9]+3654602809&4294967295,O=I+(j<<4&4294967295|j>>>28),j=U+(O^I^F)+V[12]+3873151461&4294967295,U=O+(j<<11&4294967295|j>>>21),j=F+(U^O^I)+V[15]+530742520&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^O)+V[2]+3299628645&4294967295,I=F+(j<<23&4294967295|j>>>9),j=O+(F^(I|~U))+V[0]+4096336452&4294967295,O=I+(j<<6&4294967295|j>>>26),j=U+(I^(O|~F))+V[7]+1126891415&4294967295,U=O+(j<<10&4294967295|j>>>22),j=F+(O^(U|~I))+V[14]+2878612391&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~O))+V[5]+4237533241&4294967295,I=F+(j<<21&4294967295|j>>>11),j=O+(F^(I|~U))+V[12]+1700485571&4294967295,O=I+(j<<6&4294967295|j>>>26),j=U+(I^(O|~F))+V[3]+2399980690&4294967295,U=O+(j<<10&4294967295|j>>>22),j=F+(O^(U|~I))+V[10]+4293915773&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~O))+V[1]+2240044497&4294967295,I=F+(j<<21&4294967295|j>>>11),j=O+(F^(I|~U))+V[8]+1873313359&4294967295,O=I+(j<<6&4294967295|j>>>26),j=U+(I^(O|~F))+V[15]+4264355552&4294967295,U=O+(j<<10&4294967295|j>>>22),j=F+(O^(U|~I))+V[6]+2734768916&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~O))+V[13]+1309151649&4294967295,I=F+(j<<21&4294967295|j>>>11),j=O+(F^(I|~U))+V[4]+4149444226&4294967295,O=I+(j<<6&4294967295|j>>>26),j=U+(I^(O|~F))+V[11]+3174756917&4294967295,U=O+(j<<10&4294967295|j>>>22),j=F+(O^(U|~I))+V[2]+718787259&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~O))+V[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+F&4294967295,z.g[3]=z.g[3]+U&4294967295}r.prototype.u=function(z,O){O===void 0&&(O=z.length);for(var I=O-this.blockSize,V=this.B,F=this.h,U=0;U<O;){if(F==0)for(;U<=I;)a(this,z,U),U+=this.blockSize;if(typeof z=="string"){for(;U<O;)if(V[F++]=z.charCodeAt(U++),F==this.blockSize){a(this,V),F=0;break}}else for(;U<O;)if(V[F++]=z[U++],F==this.blockSize){a(this,V),F=0;break}}this.h=F,this.o+=O},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;var I=8*this.o;for(O=z.length-8;O<z.length;++O)z[O]=I&255,I/=256;for(this.u(z),z=Array(16),O=I=0;4>O;++O)for(var V=0;32>V;V+=8)z[I++]=this.g[O]>>>V&255;return z};function o(z,O){var I=d;return Object.prototype.hasOwnProperty.call(I,z)?I[z]:I[z]=O(z)}function u(z,O){this.h=O;for(var I=[],V=!0,F=z.length-1;0<=F;F--){var U=z[F]|0;V&&U==O||(I[F]=U,V=!1)}this.g=I}var d={};function h(z){return-128<=z&&128>z?o(z,function(O){return new u([O|0],0>O?-1:0)}):new u([z|0],0>z?-1:0)}function p(z){if(isNaN(z)||!isFinite(z))return b;if(0>z)return R(p(-z));for(var O=[],I=1,V=0;z>=I;V++)O[V]=z/I|0,I*=4294967296;return new u(O,0)}function y(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return R(y(z.substring(1),O));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(O,8)),V=b,F=0;F<z.length;F+=8){var U=Math.min(8,z.length-F),j=parseInt(z.substring(F,F+U),O);8>U?(U=p(Math.pow(O,U)),V=V.j(U).add(p(j))):(V=V.j(I),V=V.add(p(j)))}return V}var b=h(0),_=h(1),T=h(16777216);n=u.prototype,n.m=function(){if(P(this))return-R(this).m();for(var z=0,O=1,I=0;I<this.g.length;I++){var V=this.i(I);z+=(0<=V?V:4294967296+V)*O,O*=4294967296}return z},n.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(A(this))return"0";if(P(this))return"-"+R(this).toString(z);for(var O=p(Math.pow(z,6)),I=this,V="";;){var F=M(I,O).g;I=N(I,F.j(O));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(z);if(I=F,A(I))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},n.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function A(z){if(z.h!=0)return!1;for(var O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function P(z){return z.h==-1}n.l=function(z){return z=N(this,z),P(z)?-1:A(z)?0:1};function R(z){for(var O=z.g.length,I=[],V=0;V<O;V++)I[V]=~z.g[V];return new u(I,~z.h).add(_)}n.abs=function(){return P(this)?R(this):this},n.add=function(z){for(var O=Math.max(this.g.length,z.g.length),I=[],V=0,F=0;F<=O;F++){var U=V+(this.i(F)&65535)+(z.i(F)&65535),j=(U>>>16)+(this.i(F)>>>16)+(z.i(F)>>>16);V=j>>>16,U&=65535,j&=65535,I[F]=j<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function N(z,O){return z.add(R(O))}n.j=function(z){if(A(this)||A(z))return b;if(P(this))return P(z)?R(this).j(R(z)):R(R(this).j(z));if(P(z))return R(this.j(R(z)));if(0>this.l(T)&&0>z.l(T))return p(this.m()*z.m());for(var O=this.g.length+z.g.length,I=[],V=0;V<2*O;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<z.g.length;F++){var U=this.i(V)>>>16,j=this.i(V)&65535,ce=z.i(F)>>>16,pe=z.i(F)&65535;I[2*V+2*F]+=j*pe,E(I,2*V+2*F),I[2*V+2*F+1]+=U*pe,E(I,2*V+2*F+1),I[2*V+2*F+1]+=j*ce,E(I,2*V+2*F+1),I[2*V+2*F+2]+=U*ce,E(I,2*V+2*F+2)}for(V=0;V<O;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=O;V<2*O;V++)I[V]=0;return new u(I,0)};function E(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function w(z,O){this.g=z,this.h=O}function M(z,O){if(A(O))throw Error("division by zero");if(A(z))return new w(b,b);if(P(z))return O=M(R(z),O),new w(R(O.g),R(O.h));if(P(O))return O=M(z,R(O)),new w(R(O.g),O.h);if(30<z.g.length){if(P(z)||P(O))throw Error("slowDivide_ only works with positive integers.");for(var I=_,V=O;0>=V.l(z);)I=L(I),V=L(V);var F=k(I,1),U=k(V,1);for(V=k(V,2),I=k(I,2);!A(V);){var j=U.add(V);0>=j.l(z)&&(F=F.add(I),U=j),V=k(V,1),I=k(I,1)}return O=N(z,F.j(O)),new w(F,O)}for(F=b;0<=z.l(O);){for(I=Math.max(1,Math.floor(z.m()/O.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=p(I),j=U.j(O);P(j)||0<j.l(z);)I-=V,U=p(I),j=U.j(O);A(U)&&(U=_),F=F.add(U),z=N(z,j)}return new w(F,z)}n.A=function(z){return M(this,z).h},n.and=function(z){for(var O=Math.max(this.g.length,z.g.length),I=[],V=0;V<O;V++)I[V]=this.i(V)&z.i(V);return new u(I,this.h&z.h)},n.or=function(z){for(var O=Math.max(this.g.length,z.g.length),I=[],V=0;V<O;V++)I[V]=this.i(V)|z.i(V);return new u(I,this.h|z.h)},n.xor=function(z){for(var O=Math.max(this.g.length,z.g.length),I=[],V=0;V<O;V++)I[V]=this.i(V)^z.i(V);return new u(I,this.h^z.h)};function L(z){for(var O=z.g.length+1,I=[],V=0;V<O;V++)I[V]=z.i(V)<<1|z.i(V-1)>>>31;return new u(I,z.h)}function k(z,O){var I=O>>5;O%=32;for(var V=z.g.length-I,F=[],U=0;U<V;U++)F[U]=0<O?z.i(U+I)>>>O|z.i(U+I+1)<<32-O:z.i(U+I);return new u(F,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ST=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Sa=u}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AT,Ru,CT,of,Ay,NT,RT,IT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,S){return f==Array.prototype||f==Object.prototype||(f[x]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(f,x){if(x)e:{var S=r;f=f.split(".");for(var B=0;B<f.length-1;B++){var Z=f[B];if(!(Z in S))break e;S=S[Z]}f=f[f.length-1],B=S[f],x=x(B),x!=B&&x!=null&&e(S,f,{configurable:!0,writable:!0,value:x})}}function o(f,x){f instanceof String&&(f+="");var S=0,B=!1,Z={next:function(){if(!B&&S<f.length){var se=S++;return{value:x(se,f[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function p(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function y(f,x,S){return f.call.apply(f.bind,arguments)}function b(f,x,S){if(!f)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,B),f.apply(x,Z)}}return function(){return f.apply(x,arguments)}}function _(f,x,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function T(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var B=S.slice();return B.push.apply(B,arguments),f.apply(this,B)}}function A(f,x){function S(){}S.prototype=x.prototype,f.aa=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(B,Z,se){for(var _e=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)_e[yt-2]=arguments[yt];return x.prototype[Z].apply(B,_e)}}function P(f){const x=f.length;if(0<x){const S=Array(x);for(let B=0;B<x;B++)S[B]=f[B];return S}return[]}function R(f,x){for(let S=1;S<arguments.length;S++){const B=arguments[S];if(h(B)){const Z=f.length||0,se=B.length||0;f.length=Z+se;for(let _e=0;_e<se;_e++)f[Z+_e]=B[_e]}else f.push(B)}}class N{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function M(f){return M[" "](f),f}M[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(f,x,S){for(const B in f)x.call(S,f[B],B,f)}function z(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function O(f){const x={};for(const S in f)x[S]=f[S];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,x){let S,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(S in B)f[S]=B[S];for(let se=0;se<I.length;se++)S=I[se],Object.prototype.hasOwnProperty.call(B,S)&&(f[S]=B[S])}}function F(f){var x=1;f=f.split(":");const S=[];for(;0<x&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function U(f){d.setTimeout(()=>{throw f},0)}function j(){var f=be;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ce{constructor(){this.h=this.g=null}add(x,S){const B=pe.get();B.set(x,S),this.h?this.h.next=B:this.g=B,this.h=B}}var pe=new N(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,be=new ce,H=()=>{const f=d.Promise.resolve(void 0);ie=()=>{f.then(ae)}};var ae=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(S){U(S)}var x=pe;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}oe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};d.addEventListener("test",S,x),d.removeEventListener("test",S,x)}catch{}return f}();function Ve(f,x){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,B=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(L){e:{try{M(x.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(x=null)}}else S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement);this.relatedTarget=x,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}A(Ve,ge);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(f,x,S,B,Z){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!B,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Rt(f){this.src=f,this.g={},this.h=0}Rt.prototype.add=function(f,x,S,B,Z){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var _e=fn(f,x,B,Z);return-1<_e?(x=f[_e],S||(x.fa=!1)):(x=new it(x,this.src,se,!!B,Z),x.fa=S,f.push(x)),x};function Ht(f,x){var S=x.type;if(S in f.g){var B=f.g[S],Z=Array.prototype.indexOf.call(B,x,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(B,Z,1),se&&(Ze(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function fn(f,x,S,B){for(var Z=0;Z<f.length;++Z){var se=f[Z];if(!se.da&&se.listener==x&&se.capture==!!S&&se.ha==B)return Z}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),ur={};function Jn(f,x,S,B,Z){if(Array.isArray(x)){for(var se=0;se<x.length;se++)Jn(f,x[se],S,B,Z);return null}return S=is(S),f&&f[ye]?f.K(x,S,p(B)?!!B.capture:!1,Z):Xt(f,x,S,!1,B,Z)}function Xt(f,x,S,B,Z,se){if(!x)throw Error("Invalid event type");var _e=p(Z)?!!Z.capture:!!Z,yt=tr(f);if(yt||(f[Ft]=yt=new Rt(f)),S=yt.add(x,S,B,_e,se),S.proxy)return S;if(B=xs(),S.proxy=B,B.src=f,B.listener=S,f.addEventListener)Se||(Z=_e),Z===void 0&&(Z=!1),f.addEventListener(x.toString(),B,Z);else if(f.attachEvent)f.attachEvent(ss(x.toString()),B);else if(f.addListener&&f.removeListener)f.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xs(){function f(S){return x.call(f.src,f.listener,S)}const x=er;return f}function _s(f,x,S,B,Z){if(Array.isArray(x))for(var se=0;se<x.length;se++)_s(f,x[se],S,B,Z);else B=p(B)?!!B.capture:!!B,S=is(S),f&&f[ye]?(f=f.i,x=String(x).toString(),x in f.g&&(se=f.g[x],S=fn(se,S,B,Z),-1<S&&(Ze(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete f.g[x],f.h--)))):f&&(f=tr(f))&&(x=f.g[x.toString()],f=-1,x&&(f=fn(x,S,B,Z)),(S=-1<f?x[f]:null)&&ws(S))}function ws(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ye])Ht(x.i,f);else{var S=f.type,B=f.proxy;x.removeEventListener?x.removeEventListener(S,B,f.capture):x.detachEvent?x.detachEvent(ss(S),B):x.addListener&&x.removeListener&&x.removeListener(B),(S=tr(x))?(Ht(S,f),S.h==0&&(S.src=null,x[Ft]=null)):Ze(f)}}}function ss(f){return f in ur?ur[f]:ur[f]="on"+f}function er(f,x){if(f.da)f=!0;else{x=new Ve(x,this);var S=f.listener,B=f.ha||f.src;f.fa&&ws(f),f=S.call(B,x)}return f}function tr(f){return f=f[Ft],f instanceof Rt?f:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function is(f){return typeof f=="function"?f:(f[Es]||(f[Es]=function(x){return f.handleEvent(x)}),f[Es])}function gt(){ve.call(this),this.i=new Rt(this),this.M=this,this.F=null}A(gt,ve),gt.prototype[ye]=!0,gt.prototype.removeEventListener=function(f,x,S,B){_s(this,f,x,S,B)};function We(f,x){var S,B=f.F;if(B)for(S=[];B;B=B.F)S.push(B);if(f=f.M,B=x.type||x,typeof x=="string")x=new ge(x,f);else if(x instanceof ge)x.target=x.target||f;else{var Z=x;x=new ge(B,f),V(x,Z)}if(Z=!0,S)for(var se=S.length-1;0<=se;se--){var _e=x.g=S[se];Z=wn(_e,B,!0,x)&&Z}if(_e=x.g=f,Z=wn(_e,B,!0,x)&&Z,Z=wn(_e,B,!1,x)&&Z,S)for(se=0;se<S.length;se++)_e=x.g=S[se],Z=wn(_e,B,!1,x)&&Z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var S=f.g[x],B=0;B<S.length;B++)Ze(S[B]);delete f.g[x],f.h--}}this.F=null},gt.prototype.K=function(f,x,S,B){return this.i.add(String(f),x,!1,S,B)},gt.prototype.L=function(f,x,S,B){return this.i.add(String(f),x,!0,S,B)};function wn(f,x,S,B){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Z=!0,se=0;se<x.length;++se){var _e=x[se];if(_e&&!_e.da&&_e.capture==S){var yt=_e.listener,pn=_e.ha||_e.src;_e.fa&&Ht(f.i,_e),Z=yt.call(pn,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function Gt(f,x,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function Zs(f){f.g=Gt(()=>{f.g=null,f.i&&(f.i=!1,Zs(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class dr extends ve{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(f){ve.call(this),this.h=f,this.g={}}A(Lr,ve);var Vr=[];function Me(f){k(f.g,function(x,S){this.g.hasOwnProperty(S)&&ws(x)},f),f.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Me(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,Je=d.JSON.parse,ht=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function qt(){}qt.prototype.h=null;function sn(f){return f.h||(f.h=f.i())}function nr(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ge.call(this,"d")}A(qn,ge);function Mn(){ge.call(this,"c")}A(Mn,ge);var Qt={},zr=null;function _r(){return zr=zr||new gt}Qt.La="serverreachability";function Ts(f){ge.call(this,Qt.La,f)}A(Ts,ge);function Q(f){const x=_r();We(x,new Ts(x))}Qt.STAT_EVENT="statevent";function W(f,x){ge.call(this,Qt.STAT_EVENT,f),this.stat=x}A(W,ge);function ee(f){const x=_r();We(x,new W(x,f))}Qt.Ma="timingevent";function he(f,x){ge.call(this,Qt.Ma,f),this.size=x}A(he,ge);function xe(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function ze(f,x,S,B,Z,se){f.info(function(){if(f.g)if(se)for(var _e="",yt=se.split("&"),pn=0;pn<yt.length;pn++){var vt=yt[pn].split("=");if(1<vt.length){var Tn=vt[0];vt=vt[1];var gn=Tn.split("_");_e=2<=gn.length&&gn[1]=="type"?_e+(Tn+"="+vt+"&"):_e+(Tn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+x+`
`+S+`
`+_e})}function Ne(f,x,S,B,Z,se,_e){f.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+x+`
`+S+`
`+se+" "+_e})}function je(f,x,S,B){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ue(f,S)+(B?" "+B:"")})}function Pe(f,x){f.info(function(){return"TIMEOUT: "+x})}Ce.prototype.info=function(){};function Ue(f,x){if(!f.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var B=S[f];if(!(2>B.length)){var Z=B[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Z.length;_e++)Z[_e]=""}}}}return Oe(S)}catch{return x}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function St(){}A(St,qt),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},at=new St;function wt(f,x,S,B){this.j=f,this.i=x,this.l=S,this.R=B||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var rt={},Ur={};function mn(f,x,S){f.L=1,f.v=$a(Tr(x)),f.m=S,f.P=!0,rr(f,null)}function rr(f,x){f.F=Date.now(),wr(f),f.A=Tr(f.v);var S=f.A,B=f.R;Array.isArray(B)||(B=[String(B)]),Tc(S.i,"t",B),f.C=0,S=f.j.J,f.h=new ft,f.g=kd(f.j,S?x:null,!f.m),0<f.O&&(f.M=new dr(_(f.Y,f,f.g),f.O)),x=f.U,S=f.g,B=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Vr[0]=Z.toString()),Z=Vr);for(var se=0;se<Z.length;se++){var _e=Jn(S,Z[se],B||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Q(),ze(f.i,f.u,f.A,f.l,f.R,f.m)}wt.prototype.ca=function(f){f=f.target;const x=this.M;x&&$r(f)==3?x.j():this.Y(f)},wt.prototype.Y=function(f){try{if(f==this.g)e:{const gn=$r(this.g);var x=this.g.Ba();const ai=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Nd(this.g)))){this.J||gn!=4||x==7||(x==8||0>=ai?Q(3):Q(2)),Hn(this);var S=this.g.Z();this.X=S;t:if(jn(this)){var B=Nd(this.g);f="";var Z=B.length,se=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),sr(this);var _e="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Z;x++)this.h.h=!0,f+=this.h.i.decode(B[x],{stream:!(se&&x==Z-1)});B.length=0,this.h.g+=f,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Ne(this.i,this.u,this.A,this.l,this.R,gn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,pn=this.g;if((yt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(yt)){var vt=yt;break t}}vt=null}if(S=vt)je(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,S);else{this.o=!1,this.s=3,ee(12),Ke(this),sr(this);break e}}if(this.P){S=!0;let Pn;for(;!this.J&&this.C<_e.length;)if(Pn=Ss(this,_e),Pn==Ur){gn==4&&(this.s=4,ee(14),S=!1),je(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==rt){this.s=4,ee(15),je(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else je(this.i,this.l,Pn,null),an(this,Pn);if(jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||_e.length!=0||this.h.h||(this.s=1,ee(16),S=!1),this.o=this.o&&S,!S)je(this.i,this.l,_e,"[Invalid Chunked Response]"),Ke(this),sr(this);else if(0<_e.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Ja(Tn),Tn.M=!0,ee(11))}}else je(this.i,this.l,_e,null),an(this,_e);gn==4&&Ke(this),this.o&&!this.J&&(gn==4?jd(this.j,this):(this.o=!1,wr(this)))}else Vm(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ke(this),sr(this)}}}catch{}finally{}};function jn(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ss(f,x){var S=f.C,B=x.indexOf(`
`,S);return B==-1?Ur:(S=Number(x.substring(S,B)),isNaN(S)?rt:(B+=1,B+S>x.length?Ur:(x=x.slice(B,B+S),f.C=B+S,x)))}wt.prototype.cancel=function(){this.J=!0,Ke(this)};function wr(f){f.S=Date.now()+f.I,Mi(f,f.I)}function Mi(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xe(_(f.ba,f),x)}function Hn(f){f.B&&(d.clearTimeout(f.B),f.B=null)}wt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),ee(17)),Ke(this),this.s=2,sr(this)):Mi(this,this.S-f)};function sr(f){f.j.G==0||f.J||jd(f.j,f)}function Ke(f){Hn(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,Me(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function an(f,x){try{var S=f.j;if(S.G!=0&&(S.g==f||Br(S.h,f))){if(!f.K&&Br(S.h,f)&&S.G==3){try{var B=S.Da.g.parse(x)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Yo(S),Qo(S);else break e;Rc(S),ee(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=xe(_(S.Za,S),6e3));if(1>=Lt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ii(S,11)}else if((f.K||S.g==f)&&Yo(S),!E(x))for(Z=S.Da.g.parse(x),x=0;x<Z.length;x++){let vt=Z[x];if(S.T=vt[0],vt=vt[1],S.G==2)if(vt[0]=="c"){S.K=vt[1],S.ia=vt[2];const Tn=vt[3];Tn!=null&&(S.la=Tn,S.j.info("VER="+S.la));const gn=vt[4];gn!=null&&(S.Aa=gn,S.j.info("SVER="+S.Aa));const ai=vt[5];ai!=null&&typeof ai=="number"&&0<ai&&(B=1.5*ai,S.L=B,S.j.info("backChannelRequestTimeoutMs_="+B)),B=S;const Pn=f.g;if(Pn){const js=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var se=B.h;se.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Js(se,se.h),se.h=null))}if(B.D){const Oc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(B.ya=Oc,jt(B.I,B.D,Oc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),B=S;var _e=f;if(B.qa=Pd(B,B.J?B.ia:null,B.W),_e.K){Dn(B.h,_e);var yt=_e,pn=B.L;pn&&(yt.I=pn),yt.B&&(Hn(yt),wr(yt)),B.g=_e}else Od(B);0<S.i.length&&Ko(S)}else vt[0]!="stop"&&vt[0]!="close"||ii(S,7);else S.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ii(S,7):Cc(S):vt[0]!="noop"&&S.l&&S.l.ta(vt),S.v=0)}}Q(4)}catch{}}var Er=class{constructor(f,x){this.g=f,this.map=x}};function hr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lt(f){return f.h?1:f.g?f.g.size:0}function Br(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Js(f,x){f.g?f.g.add(x):f.h=x}function Dn(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}hr.prototype.cancel=function(){if(this.i=xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.D);return x}return P(f.i)}function Dm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var x=[],S=f.length,B=0;B<S;B++)x.push(f[B]);return x}x=[],S=0;for(B in f)x[S++]=f[B];return x}function Bo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var x=[];f=f.length;for(var S=0;S<f;S++)x.push(S);return x}x=[],S=0;for(const B in f)x[S++]=B;return x}}}function _c(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var S=Bo(f),B=Dm(f),Z=B.length,se=0;se<Z;se++)x.call(void 0,B[se],S&&S[se],f)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pm(f,x){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var B=f[S].indexOf("="),Z=null;if(0<=B){var se=f[S].substring(0,B);Z=f[S].substring(B+1)}else se=f[S];x(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof on){this.h=f.h,Ha(this,f.j),this.o=f.o,this.g=f.g,ji(this,f.s),this.l=f.l;var x=f.i,S=new ti;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),ei(this,S),this.m=f.m}else f&&(x=String(f).match(qa))?(this.h=!1,Ha(this,x[1]||"",!0),this.o=Fr(x[2]||""),this.g=Fr(x[3]||"",!0),ji(this,x[4]),this.l=Fr(x[5]||"",!0),ei(this,x[6]||"",!0),this.m=Fr(x[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}on.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Ga(x,wc,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ga(x,wc,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ga(S,S.charAt(0)=="/"?km:Ec,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ga(S,Fo)),f.join("")};function Tr(f){return new on(f)}function Ha(f,x,S){f.j=S?Fr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function ji(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function ei(f,x,S){x instanceof ti?(f.i=x,Ad(f.i,f.h)):(S||(x=Ga(x,Lm)),f.i=new ti(x,f.h))}function jt(f,x,S){f.i.set(x,S)}function $a(f){return jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ga(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,Sd),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var wc=/[#\/\?@]/g,Ec=/[#\?:]/g,km=/[#\?]/g,Lm=/[#\?@]/g,Fo=/#/g;function ti(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function qr(f){f.g||(f.g=new Map,f.h=0,f.i&&Pm(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=ti.prototype,n.add=function(f,x){qr(this),this.i=null,f=Cs(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function ni(f,x){qr(f),x=Cs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ri(f,x){return qr(f),x=Cs(f,x),f.g.has(x)}n.forEach=function(f,x){qr(this),this.g.forEach(function(S,B){S.forEach(function(Z){f.call(x,Z,B,this)},this)},this)},n.na=function(){qr(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let B=0;B<x.length;B++){const Z=f[B];for(let se=0;se<Z.length;se++)S.push(x[B])}return S},n.V=function(f){qr(this);let x=[];if(typeof f=="string")ri(this,f)&&(x=x.concat(this.g.get(Cs(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)x=x.concat(f[S])}return x},n.set=function(f,x){return qr(this),this.i=null,f=Cs(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function Tc(f,x,S){ni(f,x),0<S.length&&(f.i=null,f.g.set(Cs(f,x),P(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var B=x[S];const se=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var Z=se;_e[B]!==""&&(Z+="="+encodeURIComponent(String(_e[B]))),f.push(Z)}}return this.i=f.join("&")};function Cs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Ad(f,x){x&&!f.j&&(qr(f),f.i=null,f.g.forEach(function(S,B){var Z=B.toLowerCase();B!=Z&&(ni(this,B),Tc(this,Z,S))},f)),f.j=x}function Qa(f,x){const S=new Ce;if(d.Image){const B=new Image;B.onload=T(Hr,S,"TestLoadImage: loaded",!0,x,B),B.onerror=T(Hr,S,"TestLoadImage: error",!1,x,B),B.onabort=T(Hr,S,"TestLoadImage: abort",!1,x,B),B.ontimeout=T(Hr,S,"TestLoadImage: timeout",!1,x,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=f}else x(!1)}function as(f,x){const S=new Ce,B=new AbortController,Z=setTimeout(()=>{B.abort(),Hr(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:B.signal}).then(se=>{clearTimeout(Z),se.ok?Hr(S,"TestPingServer: ok",!0,x):Hr(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),Hr(S,"TestPingServer: error",!1,x)})}function Hr(f,x,S,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(S)}catch{}}function Ka(){this.g=new ht}function Ns(f,x,S){const B=S||"";try{_c(f,function(Z,se){let _e=Z;p(Z)&&(_e=Oe(Z)),x.push(B+se+"="+encodeURIComponent(_e))})}catch(Z){throw x.push(B+"type="+encodeURIComponent("_badmap")),Z}}function Di(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Di,qt),Di.prototype.g=function(){return new si(this.l,this.j)},Di.prototype.i=function(f){return function(){return f}}({});function si(f,x){gt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(si,gt),n=si.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Is(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Rs(this):Is(this),this.readyState==3&&Sc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Rs(this))},n.Qa=function(f){this.g&&(this.response=f,Rs(this))},n.ga=function(){this.g&&Rs(this)};function Rs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Is(f)}n.setRequestHeader=function(f,x){this.u.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function Is(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ac(f){let x="";return k(f,function(S,B){x+=B,x+=":",x+=S,x+=`\r
`}),x}function En(f,x,S){e:{for(B in S){var B=!1;break e}B=!0}B||(S=Ac(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):jt(f,x,S))}function At(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(At,gt);var qo=/^https?$/i,Ya=["POST","PUT"];n=At.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,x,S,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?sn(this.o):sn(at),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){Cd(this,se);return}if(f=S||"",S=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)S.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())S.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ya,x,void 0))||B||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of S)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){Cd(this,se)}};function Cd(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Ho(f),Os(f)}function Ho(f){f.A||(f.A=!0,We(f,"complete"),We(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,We(this,"complete"),We(this,"abort"),Os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},n.bb=function(){$o(this)};function $o(f){if(f.h&&typeof u<"u"&&(!f.v[1]||$r(f)!=4||f.Z()!=2)){if(f.u&&$r(f)==4)Gt(f.Ea,0,f);else if(We(f,"readystatechange"),$r(f)==4){f.h=!1;try{const _e=f.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var B;if(B=_e===0){var Z=String(f.D).match(qa)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),B=!qo.test(Z?Z.toLowerCase():"")}S=B}if(S)We(f,"complete"),We(f,"success");else{f.m=6;try{var se=2<$r(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Ho(f)}}finally{Os(f)}}}}function Os(f,x){if(f.g){Xa(f);const S=f.g,B=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||We(f,"ready");try{S.onreadystatechange=B}catch{}}}function Xa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function $r(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Je(x)}};function Nd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Vm(f){const x={};f=(f.g&&2<=$r(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<f.length;B++){if(E(f[B]))continue;var S=F(f[B]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=x[Z]||[];x[Z]=se,se.push(S)}z(x,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function Go(f){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,f),this.cb=Wa("retryDelaySeedMs",1e4,f),this.Wa=Wa("forwardChannelMaxRetries",2,f),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hr(f&&f.concurrentRequestLimit),this.Da=new Ka,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(f,x,S,B){ee(0),this.W=f,this.H=x||{},S&&B!==void 0&&(this.H.OSID=S,this.H.OAID=B),this.F=this.X,this.I=Pd(this,null,this.W),Ko(this)};function Cc(f){if(Rd(f),f.G==3){var x=f.U++,S=Tr(f.I);if(jt(S,"SID",f.K),jt(S,"RID",x),jt(S,"TYPE","terminate"),Za(f,S),x=new wt(f,f.j,x),x.L=2,x.v=$a(Tr(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=x.v,S=!0),S||(x.g=kd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wr(x)}Dd(f)}function Qo(f){f.g&&(Ja(f),f.g.cancel(),f.g=null)}function Rd(f){Qo(f),f.u&&(d.clearTimeout(f.u),f.u=null),Yo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ko(f){if(!As(f.h)&&!f.s){f.s=!0;var x=f.Ga;ie||H(),oe||(ie(),oe=!0),be.add(x,f),f.B=0}}function zm(f,x){return Lt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xe(_(f.Ga,f,x),Ic(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new wt(this,this.j,f);let se=this.o;if(this.S&&(se?(se=O(se),V(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var B=this.i[S];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(x+=B,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Id(this,Z,x),S=Tr(this.I),jt(S,"RID",f),jt(S,"CVER",22),this.D&&jt(S,"X-HTTP-Session-Id",this.D),Za(this,S),se&&(this.O?x="headers="+encodeURIComponent(String(Ac(se)))+"&"+x:this.m&&En(S,this.m,se)),Js(this.h,Z),this.Ua&&jt(S,"TYPE","init"),this.P?(jt(S,"$req",x),jt(S,"SID","null"),Z.T=!0,mn(Z,S,null)):mn(Z,S,x),this.G=2}}else this.G==3&&(f?Nc(this,f):this.i.length==0||As(this.h)||Nc(this))};function Nc(f,x){var S;x?S=x.l:S=f.U++;const B=Tr(f.I);jt(B,"SID",f.K),jt(B,"RID",S),jt(B,"AID",f.T),Za(f,B),f.m&&f.o&&En(B,f.m,f.o),S=new wt(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),x&&(f.i=x.D.concat(f.i)),x=Id(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Js(f.h,S),mn(S,B,x)}function Za(f,x){f.H&&k(f.H,function(S,B){jt(x,B,S)}),f.l&&_c({},function(S,B){jt(x,B,S)})}function Id(f,x,S){S=Math.min(f.i.length,S);var B=f.l?_(f.l.Na,f.l,f):null;e:{var Z=f.i;let se=-1;for(;;){const _e=["count="+S];se==-1?0<S?(se=Z[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let yt=!0;for(let pn=0;pn<S;pn++){let vt=Z[pn].g;const Tn=Z[pn].map;if(vt-=se,0>vt)se=Math.max(0,Z[pn].g-100),yt=!1;else try{Ns(Tn,_e,"req"+vt+"_")}catch{B&&B(Tn)}}if(yt){B=_e.join("&");break e}}}return f=f.i.splice(0,S),x.D=f,B}function Od(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;ie||H(),oe||(ie(),oe=!0),be.add(x,f),f.v=0}}function Rc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xe(_(f.Fa,f),Ic(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xe(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qo(this),Md(this))};function Ja(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Md(f){f.g=new wt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=Tr(f.qa);jt(x,"RID","rpc"),jt(x,"SID",f.K),jt(x,"AID",f.T),jt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&jt(x,"TO",f.ja),jt(x,"TYPE","xmlhttp"),Za(f,x),f.m&&f.o&&En(x,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=$a(Tr(x)),S.m=null,S.P=!0,rr(S,f)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Rc(this),ee(19))};function Yo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function jd(f,x){var S=null;if(f.g==x){Yo(f),Ja(f),f.g=null;var B=2}else if(Br(f.h,x))S=x.D,Dn(f.h,x),B=1;else return;if(f.G!=0){if(x.o)if(B==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Z=f.B;B=_r(),We(B,new he(B,S)),Ko(f)}else Od(f);else if(Z=x.s,Z==3||Z==0&&0<x.X||!(B==1&&zm(f,x)||B==2&&Rc(f)))switch(S&&0<S.length&&(x=f.h,x.i=x.i.concat(S)),Z){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function Ic(f,x){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*x}function ii(f,x){if(f.j.info("Error code "+x),x==2){var S=_(f.fb,f),B=f.Xa;const Z=!B;B=new on(B||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ha(B,"https"),$a(B),Z?Qa(B.toString(),S):as(B.toString(),S)}else ee(2);f.G=0,f.l&&f.l.sa(x),Dd(f),Rd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Dd(f){if(f.G=0,f.ka=[],f.l){const x=xc(f.h);(x.length!=0||f.i.length!=0)&&(R(f.ka,x),R(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function Pd(f,x,S){var B=S instanceof on?Tr(S):new on(S);if(B.g!="")x&&(B.g=x+"."+B.g),ji(B,B.s);else{var Z=d.location;B=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new on(null);B&&Ha(se,B),x&&(se.g=x),Z&&ji(se,Z),S&&(se.l=S),B=se}return S=f.D,x=f.ya,S&&x&&jt(B,S,x),jt(B,"VER",f.la),Za(f,B),B}function kd(f,x,S){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new At(new Di({eb:S})):new At(f.pa),x.Ha(f.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}n=Ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xo(){}Xo.prototype.g=function(f,x){return new ir(f,x)};function ir(f,x){gt.call(this),this.g=new Go(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!E(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!E(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Ms(this)}A(ir,gt),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Cc(this.g)},ir.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Oe(f),f=S);x.i.push(new Er(x.Ya++,f)),x.G==3&&Ko(x)},ir.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,ir.aa.N.call(this)};function Vd(f){qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const S in x){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}A(Vd,qn);function zd(){Mn.call(this),this.status=1}A(zd,Mn);function Ms(f){this.g=f}A(Ms,Ld),Ms.prototype.ua=function(){We(this.g,"a")},Ms.prototype.ta=function(f){We(this.g,new Vd(f))},Ms.prototype.sa=function(f){We(this.g,new zd)},Ms.prototype.ra=function(){We(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,IT=function(){return new Xo},RT=function(){return _r()},NT=Qt,Ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,of=De,Fe.COMPLETE="complete",CT=Fe,nr.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ru=nr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,AT=At}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Vw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new A0("@firebase/firestore");function Al(){return Io.logLevel}function Ae(n,...e){if(Io.logLevel<=ut.DEBUG){const t=e.map(R0);Io.debug(`Firestore (${fc}): ${n}`,...t)}}function Ci(n,...e){if(Io.logLevel<=ut.ERROR){const t=e.map(R0);Io.error(`Firestore (${fc}): ${n}`,...t)}}function nc(n,...e){if(Io.logLevel<=ut.WARN){const t=e.map(R0);Io.warn(`Firestore (${fc}): ${n}`,...t)}}function R0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OT(n,r,t)}function OT(n,e,t){let r=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ci(r),new Error(r)}function Nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||OT(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fM{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Nt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new MT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class mM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new mM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Nt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=yM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function Cy(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=jT(),u=vM(o.encode(Uw(n,t)),o.encode(Uw(e,t)));return u!==0?u:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function Uw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function rc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-62135596800,Fw=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Fw);return new xn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bw)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new xn(0,0))}static max(){return new Ye(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class zs{constructor(e,t,r){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=zs.isNumericId(e),a=zs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zs.extractNumericId(e).compare(zs.extractNumericId(t)):Cy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sa.fromString(e.substring(4,e.length-2))}}class Bt extends zs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends zs{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new Bn([qw])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(o(),a++)}if(o(),u)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function xM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new Ia(a,Le.empty(),e)}function _M(n){return new Ia(n.readTime,n.key,$u)}class Ia{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ia(Ye.min(),Le.empty(),$u)}static max(){return new Ia(Ye.max(),Le.empty(),$u)}}function wM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==EM)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},h=>r(h))}),u=!0,o===a&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(a=>a?me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,a)=>{const o=e.length,u=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(y=>{u[p]=y,++d,d===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new me((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function SM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}im.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function am(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function AM(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="";function CM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hw(e)),e=NM(n.get(t),e);return Hw(e)}function NM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case PT:t+="";break;default:t+=o}}return t}function Hw(n){return n+PT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??zn.RED,this.left=a??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new zn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new kr([])}unionWith(e){let t=new _n(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LT("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(n){if(Nt(!!n,39018),typeof n=="string"){let e=0;const t=RM.exec(n);if(Nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ma(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="server_timestamp",zT="__type__",UT="__previous_value__",BT="__local_write_time__";function om(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||t===void 0?void 0:t.stringValue)===VT}function lm(n){const e=n.mapValue.fields[UT];return om(e)?lm(e):e}function Gu(n){const e=Oa(n.mapValue.fields[BT].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t,r,a,o,u,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Rf="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||Rf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",OM="__max__",Gh={mapValue:{}},qT="__vector__",If="value";function ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?om(n)?4:jM(n)?9007199254740991:MM(n)?10:11:$e(28295,{value:n})}function Ys(n,e){if(n===e)return!0;const t=ja(n);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Oa(a.timestampValue),d=Oa(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Ma(a.bytesValue).isEqual(Ma(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return nn(a.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return nn(a.integerValue)===nn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=nn(a.doubleValue),d=nn(o.doubleValue);return u===d?Nf(u)===Nf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if($w(u)!==$w(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!Ys(u[h],d[h])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function Ku(n,e){return(n.values||[]).find(t=>Ys(t,e))!==void 0}function sc(n,e){if(n===e)return 0;const t=ja(n),r=ja(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=nn(o.integerValue||o.doubleValue),h=nn(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return Qw(n.timestampValue,e.timestampValue);case 4:return Qw(Gu(n),Gu(e));case 5:return Cy(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Ma(o),h=Ma(u);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),h=u.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=nt(d[p],h[p]);if(y!==0)return y}return nt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=nt(nn(o.latitude),nn(u.latitude));return d!==0?d:nt(nn(o.longitude),nn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kw(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,h,p,y;const b=o.fields||{},_=u.fields||{},T=(d=b[If])===null||d===void 0?void 0:d.arrayValue,A=(h=_[If])===null||h===void 0?void 0:h.arrayValue,P=nt(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:Kw(T,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Gh.mapValue&&u===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(u===Gh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=u.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let b=0;b<h.length&&b<y.length;++b){const _=Cy(h[b],y[b]);if(_!==0)return _;const T=sc(d[h[b]],p[y[b]]);if(T!==0)return T}return nt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function Qw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Oa(n),r=Oa(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function Kw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=sc(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function ic(n){return Ny(n)}function Ny(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Oa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ma(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Ny(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Ny(t.fields[u])}`;return a+"}"}(n.mapValue):$e(61005,{value:n})}function lf(n){switch(ja(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+lf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+lf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Va(r.fields,(o,u)=>{a+=o.length+lf(u)}),a}(n.mapValue);default:throw $e(13486,{value:n})}}function Of(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ry(n){return!!n&&"integerValue"in n}function O0(n){return!!n&&"arrayValue"in n}function Yw(n){return!!n&&"nullValue"in n}function Xw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cf(n){return!!n&&"mapValue"in n}function MM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||t===void 0?void 0:t.stringValue)===qT}function Lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=Bn.emptyPath(),r={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=d.popLast()}u?r[d.lastSegment()]=Lu(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());cf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];cf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Va(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new br(Lu(this.value))}}function HT(n){const e=[];return Va(n.fields,(t,r)=>{const a=new Bn([t]);if(cf(r)){const o=HT(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,a,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xn(e,0,Ye.min(),Ye.min(),Ye.min(),br.empty(),0)}static newFoundDocument(e,t,r,a){return new Xn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ye.min(),Ye.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ye.min(),Ye.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function Ww(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=sc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function DM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class dn extends $T{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kM(e,t,r):t==="array-contains"?new zM(e,r):t==="in"?new UM(e,r):t==="not-in"?new BM(e,r):t==="array-contains-any"?new FM(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new LM(e,r):new VM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sc(t,this.value)):t!==null&&ja(this.value)===ja(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends $T{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return GT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GT(n){return n.op==="and"}function QT(n){return PM(n)&&GT(n)}function PM(n){for(const e of n.filters)if(e instanceof ys)return!1;return!0}function Iy(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+ic(n.value);if(QT(n))return n.filters.map(e=>Iy(e)).join(",");{const e=n.filters.map(t=>Iy(t)).join(",");return`${n.op}(${e})`}}function KT(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&Ys(r.value,a.value)}(n,e):n instanceof ys?function(r,a){return a instanceof ys&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,d)=>o&&KT(u,a.filters[d]),!0):!1}(n,e):void $e(19439)}function YT(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`}(n):n instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(YT).join(" ,")+"}"}(n):"Filter"}class kM extends dn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class LM extends dn{constructor(e,t){super(e,"in",t),this.keys=XT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VM extends dn{constructor(e,t){super(e,"not-in",t),this.keys=XT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class zM extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return O0(t)&&Ku(t.arrayValue,this.value)}}class UM extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}}class BM extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ku(this.value.arrayValue,t)}}class FM extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!O0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t=null,r=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function Jw(n,e=null,t=[],r=[],a=null,o=null,u=null){return new qM(n,e,t,r,a,o,u)}function M0(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Iy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ic(r)).join(",")),e.Ie=t}return e.Ie}function j0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zw(n.startAt,e.startAt)&&Zw(n.endAt,e.endAt)}function Oy(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,r=[],a=[],o=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HM(n,e,t,r,a,o,u,d){return new Lo(n,e,t,r,a,o,u,d)}function cm(n){return new Lo(n)}function e1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function D0(n){return n.collectionGroup!==null}function Pl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new _n(Bn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Yu(o,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new Yu(Bn.keyField(),r))}return e.Ee}function Hs(n){const e=Xe(n);return e.de||(e.de=$M(e,Pl(n))),e.de}function $M(n,e){if(n.limitType==="F")return Jw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Yu(a.field,o)});const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return Jw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function My(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mf(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return j0(Hs(n),Hs(e))&&n.limitType===e.limitType}function WT(n){return`${M0(Hs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>YT(a)).join(", ")}]`),am(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>ic(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>ic(a)).join(",")),`Target(${r})`}(Hs(n))}; limitType=${n.limitType})`}function dm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,d,h){const p=Ww(u,d,h);return u.inclusive?p<=0:p<0}(r.startAt,Pl(r),a)||r.endAt&&!function(u,d,h){const p=Ww(u,d,h);return u.inclusive?p>=0:p>0}(r.endAt,Pl(r),a))}(n,e)}function GM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZT(n){return(e,t)=>{let r=!1;for(const a of Pl(n)){const o=QM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function QM(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,u,d){const h=u.data.field(o),p=d.data.field(o);return h!==null&&p!==null?sc(h,p):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Yt(Le.comparator);function Ni(){return KM}const JT=new Yt(Le.comparator);function Iu(...n){let e=JT;for(const t of n)e=e.insert(t.key,t);return e}function eS(n){let e=JT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bo(){return Vu()}function tS(){return Vu()}function Vu(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const YM=new Yt(Le.comparator),XM=new _n(Le.comparator);function dt(...n){let e=XM;for(const t of n)e=e.add(t);return e}const WM=new _n(nt);function ZM(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function nS(n){return{integerValue:""+n}}function JM(n,e){return AM(e)?nS(e):P0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function ej(n,e,t){return n instanceof Xu?function(a,o){const u={fields:{[zT]:{stringValue:VT},[BT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&om(o)&&(o=lm(o)),o&&(u.fields[UT]=o),{mapValue:u}}(t,e):n instanceof oc?sS(n,e):n instanceof Wu?iS(n,e):function(a,o){const u=rS(a,o),d=t1(u)+t1(a.Re);return Ry(u)&&Ry(a.Re)?nS(d):P0(a.serializer,d)}(n,e)}function tj(n,e,t){return n instanceof oc?sS(n,e):n instanceof Wu?iS(n,e):t}function rS(n,e){return n instanceof jf?function(r){return Ry(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xu extends hm{}class oc extends hm{constructor(e){super(),this.elements=e}}function sS(n,e){const t=aS(e);for(const r of n.elements)t.some(a=>Ys(a,r))||t.push(r);return{arrayValue:{values:t}}}class Wu extends hm{constructor(e){super(),this.elements=e}}function iS(n,e){let t=aS(e);for(const r of n.elements)t=t.filter(a=>!Ys(a,r));return{arrayValue:{values:t}}}class jf extends hm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function t1(n){return nn(n.integerValue||n.doubleValue)}function aS(n){return O0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t){this.field=e,this.transform=t}}function nj(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof oc&&a instanceof oc||r instanceof Wu&&a instanceof Wu?rc(r.elements,a.elements,Ys):r instanceof jf&&a instanceof jf?Ys(r.Re,a.Re):r instanceof Xu&&a instanceof Xu}(n.transform,e.transform)}class rj{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let fm=class{};function lS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new k0(n.key,ts.none()):new md(n.key,n.data,ts.none());{const t=n.data,r=br.empty();let a=new _n(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new za(n.key,r,new kr(a.toArray()),ts.none())}}function sj(n,e,t){n instanceof md?function(a,o,u){const d=a.value.clone(),h=r1(a.fieldTransforms,o,u.transformResults);d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof za?function(a,o,u){if(!uf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=r1(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(cS(a)),h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function zu(n,e,t,r){return n instanceof md?function(o,u,d,h){if(!uf(o.precondition,u))return d;const p=o.value.clone(),y=s1(o.fieldTransforms,h,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof za?function(o,u,d,h){if(!uf(o.precondition,u))return d;const p=s1(o.fieldTransforms,h,u),y=u.data;return y.setAll(cS(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,d){return uf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function ij(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=rS(r.transform,a||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function n1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&rc(r,a,(o,u)=>nj(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class md extends fm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class za extends fm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function r1(n,e,t){const r=new Map;Nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);r.set(o.field,tj(u,d,t[a]))}return r}function s1(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,ej(o,u,e))}return r}class k0 extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aj extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&sj(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tS();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const h=lS(u,d);h!==null&&r.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(t,r)=>n1(t,r))&&rc(this.baseMutations,e.baseMutations,(t,r)=>n1(t,r))}}class L0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return YM}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new L0(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,xt;function uj(n){switch(n){case ue.OK:return $e(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function uS(n){if(n===void 0)return Ci("GRPC error has no .code"),ue.UNKNOWN;switch(n){case un.OK:return ue.OK;case un.CANCELLED:return ue.CANCELLED;case un.UNKNOWN:return ue.UNKNOWN;case un.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case un.INTERNAL:return ue.INTERNAL;case un.UNAVAILABLE:return ue.UNAVAILABLE;case un.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case un.NOT_FOUND:return ue.NOT_FOUND;case un.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case un.ABORTED:return ue.ABORTED;case un.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case un.DATA_LOSS:return ue.DATA_LOSS;default:return $e(39323,{code:n})}}(xt=un||(un={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Sa([4294967295,4294967295],0);function i1(n){const e=jT().encode(n),t=new ST;return t.update(e),new Uint8Array(t.digest())}function a1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sa([t,r],0),new Sa([a,o],0)]}class V0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ou(`Invalid padding: ${t}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Sa.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Sa.fromNumber(r)));return a.compare(dj)===1&&(a=new Sa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=i1(e),[r,a]=a1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new V0(o,a,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=i1(e),[r,a]=a1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mm(Ye.min(),a,new Yt(nt),Ni(),dt())}}class pd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pd(r,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class dS{constructor(e,t){this.targetId=e,this.Ce=t}}class hS{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class o1{constructor(){this.Fe=0,this.Me=l1(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),t=dt(),r=dt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:$e(38017,{changeType:o})}}),new pd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=l1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hj{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=Qh(),this.Ye=Qh(),this.Ze=new Yt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Oy(o))if(r===0){const u=new Le(o.path);this.tt(t,u,Xn.newNoDocument(u,Ye.min()))}else Nt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),h=d?this.lt(d,e,u):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Ma(r).toUint8Array()}catch(h){if(h instanceof LT)return nc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new V0(u,a,o)}catch(h){return nc(h instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Oy(d.target)){const h=new Le(d.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Xn.newNoDocument(h,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new mm(e,t,this.Ze,this.He,r);return this.He=Ni(),this.Je=Qh(),this.Ye=Qh(),this.Ze=new Yt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new o1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _n(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _n(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new o1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new Yt(Le.comparator)}function l1(){return new Yt(Le.comparator)}const fj={asc:"ASCENDING",desc:"DESCENDING"},mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pj={and:"AND",or:"OR"};class gj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jy(n,e){return n.useProto3Json||am(e)?e:{value:e}}function Df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yj(n,e){return Df(n,e.toTimestamp())}function $s(n){return Nt(!!n,49232),Ye.fromTimestamp(function(t){const r=Oa(t);return new xn(r.seconds,r.nanos)}(n))}function z0(n,e){return Dy(n,e).canonicalString()}function Dy(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mS(n){const e=Bt.fromString(n);return Nt(bS(e),10190,{key:e.toString()}),e}function Py(n,e){return z0(n.databaseId,e.path)}function Qg(n,e){const t=mS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(gS(t))}function pS(n,e){return z0(n.databaseId,e)}function vj(n){const e=mS(n);return e.length===4?Bt.emptyPath():gS(e)}function ky(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gS(n){return Nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function c1(n,e,t){return{name:Py(n,e),fields:t.value.mapValue.fields}}function bj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Nt(y===void 0||typeof y=="string",58123),Fn.fromBase64String(y||"")):(Nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Fn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const y=p.code===void 0?ue.UNKNOWN:uS(p.code);return new we(y,p.message||"")}(u);t=new hS(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qg(n,r.document.name),o=$s(r.document.updateTime),u=r.document.createTime?$s(r.document.createTime):Ye.min(),d=new br({mapValue:{fields:r.document.fields}}),h=Xn.newFoundDocument(a,o,u,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new df(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Qg(n,r.document),o=r.readTime?$s(r.readTime):Ye.min(),u=Xn.newNoDocument(a,o),d=r.removedTargetIds||[];t=new df([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Qg(n,r.document),o=r.removedTargetIds||[];t=new df([],o,a,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new cj(a,o),d=r.targetId;t=new dS(d,u)}}return t}function xj(n,e){let t;if(e instanceof md)t={update:c1(n,e.key,e.value)};else if(e instanceof k0)t={delete:Py(n,e.key)};else if(e instanceof za)t={update:c1(n,e.key,e.data),updateMask:Rj(e.fieldMask)};else{if(!(e instanceof aj))return $e(16599,{ft:e.type});t={verify:Py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Xu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jf)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw $e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:yj(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(n,e.precondition)),t}function _j(n,e){return n&&n.length>0?(Nt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?$s(a.updateTime):$s(o);return u.isEqual(Ye.min())&&(u=$s(o)),new rj(u,a.transformResults||[])}(t,e))):[]}function wj(n,e){return{documents:[pS(n,e.path)]}}function Ej(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pS(n,a);const o=function(p){if(p.length!==0)return vS(ys.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Nl(_.field),direction:Aj(_.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=jy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function Tj(n){let e=vj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Nt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const _=yS(b);return _ instanceof ys&&QT(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(A){return new Yu(Rl(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,am(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(b){const _=!!b.before,T=b.values||[];return new ac(T,_)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const _=!b.before,T=b.values||[];return new ac(T,_)}(t.endAt)),HM(e,a,u,o,d,"F",h,p)}function Sj(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Rl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Rl(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rl(t.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Rl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(r=>yS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function Aj(n){return fj[n]}function Cj(n){return mj[n]}function Nj(n){return pj[n]}function Nl(n){return{fieldPath:n.canonicalString()}}function Rl(n){return Bn.fromServerFormat(n.fieldPath)}function vS(n){return n instanceof dn?function(t){if(t.op==="=="){if(Xw(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NAN"}};if(Yw(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xw(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NAN"}};if(Yw(t.value))return{unaryFilter:{field:Nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(t.field),op:Cj(t.op),value:t.value}}}(n):n instanceof ys?function(t){const r=t.getFilters().map(a=>vS(a));return r.length===1?r[0]:{compositeFilter:{op:Nj(t.op),filters:r}}}(n):$e(54877,{filter:n})}function Rj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r,a,o=Ye.min(),u=Ye.min(),d=Fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.wt=e}}function Oj(n){const e=Tj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.yn=new jj}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Ia.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class jj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new _n(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new _n(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(xS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new lc(0)}static ir(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LruGarbageCollector",Dj=1048576;function h1([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class Pj{constructor(e){this.cr=e,this.buffer=new _n(h1),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();h1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(d1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pc(t)?Ae(d1,"Ignoring IndexedDB error during garbage collection: ",t):await mc(t)}await this.Ir(3e5)})}}class Lj{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(im.le);const r=new Pj(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(u1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),Al()<=ut.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function Vj(n,e){return new Lj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&zu(r.mutation,a,kr.empty(),xn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dt()){const a=bo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Iu();return o.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,a){let o=Ni();const u=Vu(),d=function(){return Vu()}();return t.forEach((h,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof za)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),zu(y.mutation,p,y.mutation.getFieldMask(),xn.now())):u.set(p.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var b;return d.set(p,new Uj(y,(b=u.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Vu();let a=new Yt((u,d)=>u-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||kr.empty();y=d.applyToLocalView(p,y),r.set(h,y);const b=(a.get(d.batchId)||dt()).add(h);a=a.insert(d.batchId,b)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,b=tS();y.forEach(_=>{if(!o.has(_)){const T=lS(t.get(_),r.get(_));T!==null&&b.set(_,T),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):D0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):me.resolve(bo());let d=$u,h=o;return u.next(p=>me.forEach(p,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(y)?me.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{h=h.insert(y,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,dt())).next(y=>({batchId:d,changes:eS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Iu();return this.indexManager.getCollectionParents(e,o).next(d=>me.forEach(d,h=>{const p=function(b,_){return new Lo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((h,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xn.newInvalidDocument(y)))});let d=Iu();return u.forEach((h,p)=>{const y=o.get(h);y!==void 0&&zu(y.mutation,p,kr.empty(),xn.now()),dm(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:$s(a.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:Oj(a.bundledQuery),readTime:$s(a.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.overlays=new Yt(Le.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bo();return me.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const a=bo(),o=t.length+1,u=new Le(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Yt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=bo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=bo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return me.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lj(t,r));let o=this.Or.get(t);o===void 0&&(o=dt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.Nr=new _n(Nn.Br),this.Lr=new _n(Nn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Nn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Nn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Nn(t,e),a=new Nn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Nn(t,e),a=new Nn(t,e+1);let o=dt();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Nn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new _n(Nn.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new oj(o,t,r,a);this.mutationQueue.push(u);for(const d of a)this.zr=this.zr.add(new Nn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?I0:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nn(t,0),a=new Nn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const d=this.jr(u.Gr);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(nt);return t.forEach(a=>{const o=new Nn(a,0),u=new Nn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Nn(new Le(o),0);let d=new _n(nt);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Gr)),!0)},u),me.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Nt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,a=>{const o=new Nn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Nn(t,0),a=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.Zr=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ni();const u=t.path,d=new Le(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||wM(_M(y),r)<=0||(a.has(y.key)||dm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,a){$e(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qj(this)}getSize(e){return me.resolve(this.size)}}class Qj extends zj{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.persistence=e,this.ei=new Vo(t=>M0(t),j0),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new U0,this.targetCount=0,this.ri=lc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),me.waitFor(o).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.ii={},this.overlays={},this.si=new im(0),this.oi=!1,this.oi=!0,this._i=new Hj,this.referenceDelegate=e(this),this.ai=new Kj(this),this.indexManager=new Mj,this.remoteDocumentCache=function(a){return new Gj(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Ij(t),this.ci=new Fj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new $j(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new Yj(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class Yj extends TM{constructor(e){super(),this.currentSequenceNumber=e}}class B0{constructor(e){this.persistence=e,this.Ti=new U0,this.Ii=null}static Ei(e){return new B0(e)}get di(){if(this.Ii)return this.Ii;throw $e(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Pf{constructor(e,t){this.persistence=e,this.Ri=new Vo(r=>CM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=Vj(this,t)}static Ei(e,t){return new Pf(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?me.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lf(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=dt(),a=dt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new F0(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return QI()?8:SM(Zn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Xj;return this.fs(e,t,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Al()<=ut.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(Al()<=ut.DEBUG&&Ae("QueryEngine","Query:",Cl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Al()<=ut.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(t))):me.resolve())}Rs(e,t){if(e1(t))return me.resolve(null);let r=Hs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Mf(t,null,"F"),r=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dt(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,u,h.readTime)?this.Rs(e,Mf(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,a){return e1(t)||a.isEqual(Ye.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?me.resolve(null):(Al()<=ut.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cl(t)),this.ws(e,u,t,xM(a,$u)).next(d=>d))})}ps(e,t){let r=new _n(ZT(e));return t.forEach((a,o)=>{dm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Al()<=ut.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.As.getDocumentsMatchingQuery(e,t,Ia.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LocalStore",Zj=3e8;class Jj{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Yt(nt),this.Ds=new Vo(o=>M0(o),j0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function e4(n,e,t,r){return new Jj(n,e,t,r)}async function wS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let h=dt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:d}))})})}function t4(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const b=p.batch,_=b.keys();let T=me.resolve();return _.forEach(A=>{T=T.next(()=>y.getEntry(h,A)).next(P=>{const R=p.docVersions.get(A);Nt(R!==null,48541),P.version.compareTo(R)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(h,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=dt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function ES(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function n4(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((y,b)=>{const _=a.get(b);if(!_)return;d.push(t.ai.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,b)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(Fn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(b,T),function(P,R,N){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Zj?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,T,y)&&d.push(t.ai.updateTargetData(o,T))});let h=Ni(),p=dt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(r4(o,u,e.documentUpdates).next(y=>{h=y.xs,p=y.Os})),!r.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(b=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return me.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function r4(n,e,t){let r=dt(),a=dt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Ni();return t.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ye.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):Ae(q0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:u,Os:a}})}function s4(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i4(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,me.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new va(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Ly(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!pc(u))throw u;Ae(q0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function f1(n,e,t){const r=Xe(n);let a=Ye.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,y){const b=Xe(h),_=b.Ds.get(y);return _!==void 0?me.resolve(b.Ss.get(_)):b.ai.getTargetData(p,y)}(r,u,Hs(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ye.min(),t?o:dt())).next(d=>(a4(r,GM(e),d),{documents:d,Ns:o})))}function a4(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class m1{constructor(){this.activeTargetIds=ZM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o4{constructor(){this.So=new m1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new m1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="ConnectivityMonitor";class g1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(p1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(p1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Vy(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="RestConnection",c4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Rf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=Vy(),d=this.$o(e,t.toUriEncodedString());Ae(Kg,`Sending RPC '${e}' ${u}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,d,h,r).then(p=>(Ae(Kg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw nc(Kg,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=c4[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class h4 extends u4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Vy();return new Promise((u,d)=>{const h=new AT;h.setWithCredentials(!0),h.listenOnce(CT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case of.NO_ERROR:const y=h.getResponseJson();Ae(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case of.TIMEOUT:Ae(Qn,`RPC '${e}' ${o} timed out`),d(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const b=h.getStatus();if(Ae(Qn,`RPC '${e}' ${o} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const A=function(R){const N=R.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(N)>=0?N:ue.UNKNOWN}(T.status);d(new we(A,T.message))}else d(new we(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new we(ue.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ae(Qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae(Qn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Vy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=IT(),d=RT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=o.join("");Ae(Qn,`Creating RPC '${e}' stream ${a}: ${y}`,h);const b=u.createWebChannel(y,h);let _=!1,T=!1;const A=new d4({Go:R=>{T?Ae(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(_||(Ae(Qn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Ae(Qn,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},zo:()=>b.close()}),P=(R,N,E)=>{R.listen(N,w=>{try{E(w)}catch(M){setTimeout(()=>{throw M},0)}})};return P(b,Ru.EventType.OPEN,()=>{T||(Ae(Qn,`RPC '${e}' stream ${a} transport opened.`),A.t_())}),P(b,Ru.EventType.CLOSE,()=>{T||(T=!0,Ae(Qn,`RPC '${e}' stream ${a} transport closed`),A.r_())}),P(b,Ru.EventType.ERROR,R=>{T||(T=!0,nc(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),A.r_(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),P(b,Ru.EventType.MESSAGE,R=>{var N;if(!T){const E=R.data[0];Nt(!!E,16349);const w=E,M=(w==null?void 0:w.error)||((N=w[0])===null||N===void 0?void 0:N.error);if(M){Ae(Qn,`RPC '${e}' stream ${a} received error:`,M);const L=M.status;let k=function(I){const V=un[I];if(V!==void 0)return uS(V)}(L),z=M.message;k===void 0&&(k=ue.INTERNAL,z="Unknown error status: "+L+" with message "+M.message),T=!0,A.r_(new we(k,z)),b.close()}else Ae(Qn,`RPC '${e}' stream ${a} received:`,E),A.i_(E)}}),P(d,NT.STAT_EVENT,R=>{R.stat===Ay.PROXY?Ae(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Ay.NOPROXY&&Ae(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){return new gj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="PersistentStream";class SS{constructor(e,t,r,a,o,u,d,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new TS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ae(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f4 extends SS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=bj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?$s(u.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=ky(this.serializer),t.addTarget=function(o,u){let d;const h=u.target;if(d=Oy(h)?{documents:wj(o,h)}:{query:Ej(o,h).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=fS(o,u.resumeToken);const p=jy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ye.min())>0){d.readTime=Df(o,u.snapshotVersion.toTimestamp());const p=jy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=Sj(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=ky(this.serializer),t.removeTarget=e,this.F_(t)}}class m4 extends SS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=_j(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=ky(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xj(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class g4 extends p4{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Dy(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,Dy(t,r),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ue.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class y4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(t),this.ea=!1):Ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class v4{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{zo(this)&&(Ae(Oo,"Restarting streams for network reachability change."),await async function(h){const p=Xe(h);p.aa.add(4),await gd(p),p.la.set("Unknown"),p.aa.delete(4),await gm(p)}(this))})}),this.la=new y4(r,a)}}async function gm(n){if(zo(n))for(const e of n.ua)await e(!0)}async function gd(n){for(const e of n.ua)await e(!1)}function AS(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Q0(t)?G0(t):gc(t).b_()&&$0(t,e))}function H0(n,e){const t=Xe(n),r=gc(t);t._a.delete(e),r.b_()&&CS(t,e),t._a.size===0&&(r.b_()?r.v_():zo(t)&&t.la.set("Unknown"))}function $0(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gc(n).U_(e)}function CS(n,e){n.ha.Ke(e),gc(n).K_(e)}function G0(n){n.ha=new hj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),gc(n).start(),n.la.ta()}function Q0(n){return zo(n)&&!gc(n).w_()&&n._a.size>0}function zo(n){return Xe(n).aa.size===0}function NS(n){n.ha=void 0}async function b4(n){n.la.set("Online")}async function x4(n){n._a.forEach((e,t)=>{$0(n,e)})}async function _4(n,e){NS(n),Q0(n)?(n.la.ia(e),G0(n)):n.la.set("Unknown")}async function w4(n,e,t){if(n.la.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Ae(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kf(n,r)}else if(e instanceof df?n.ha.Xe(e):e instanceof dS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await ES(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,p)=>{const y=o._a.get(h);if(!y)return;o._a.set(h,y.withResumeToken(Fn.EMPTY_BYTE_STRING,y.snapshotVersion)),CS(o,h);const b=new va(y.target,h,p,y.sequenceNumber);$0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ae(Oo,"Failed to raise snapshot:",r),await kf(n,r)}}async function kf(n,e,t){if(!pc(e))throw e;n.aa.add(1),await gd(n),n.la.set("Offline"),t||(t=()=>ES(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Oo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await gm(n)})}function RS(n,e){return e().catch(t=>kf(n,t,e))}async function ym(n){const e=Xe(n),t=Da(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:I0;for(;E4(e);)try{const a=await s4(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,T4(e,a)}catch(a){await kf(e,a)}IS(e)&&OS(e)}function E4(n){return zo(n)&&n.oa.length<10}function T4(n,e){n.oa.push(e);const t=Da(n);t.b_()&&t.W_&&t.G_(e.mutations)}function IS(n){return zo(n)&&!Da(n).w_()&&n.oa.length>0}function OS(n){Da(n).start()}async function S4(n){Da(n).H_()}async function A4(n){const e=Da(n);for(const t of n.oa)e.G_(t.mutations)}async function C4(n,e,t){const r=n.oa.shift(),a=L0.from(r,e,t);await RS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await ym(n)}async function N4(n,e){e&&Da(n).W_&&await async function(r,a){if(function(u){return uj(u)&&u!==ue.ABORTED}(a.code)){const o=r.oa.shift();Da(r).D_(),await RS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await ym(r)}}(n,e),IS(n)&&OS(n)}async function v1(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Oo,"RemoteStore received new credentials");const r=zo(t);t.aa.add(3),await gd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await gm(t)}async function R4(n,e){const t=Xe(n);e?(t.aa.delete(2),await gm(t)):e||(t.aa.add(2),await gd(t),t.la.set("Unknown"))}function gc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new f4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:b4.bind(null,n),Jo:x4.bind(null,n),Zo:_4.bind(null,n),Q_:w4.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Q0(n)?G0(n):n.la.set("Unknown")):(await n.Pa.stop(),NS(n))})),n.Pa}function Da(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new m4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:S4.bind(null,n),Zo:N4.bind(null,n),z_:A4.bind(null,n),j_:C4.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await ym(n)):(await n.Ta.stop(),n.oa.length>0&&(Ae(Oo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,d=new K0(e,t,u,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y0(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),pc(n))return new we(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.Ia=new Yt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class cc{constructor(e,t,r,a,o,u,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new cc(e,t,kl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class O4{constructor(){this.queries=x1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=x1(),o.forEach((u,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function x1(){return new Vo(n=>WT(n),um)}async function X0(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new I4,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=Y0(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Z0(t)}async function W0(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function M4(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Ra)d.pa(a)&&(r=!0);u.Aa=a}}r&&Z0(t)}function j4(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Z0(n){n.fa.forEach(e=>{e.next()})}var zy,_1;(_1=zy||(zy={})).ya="default",_1.Cache="cache";class J0{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class D4{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dt(),this.mutatedKeys=dt(),this.Ua=ZT(e),this.Ka=new kl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new b1,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const _=a.get(y),T=dm(this.query,b)?b:null,A=!!_&&this.mutatedKeys.has(_.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;_&&T?_.data.isEqual(T.data)?A!==P&&(r.track({type:3,doc:T}),R=!0):this.ja(_,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Ua(T,h)>0||p&&this.Ua(T,p)<0)&&(d=!0)):!_&&T?(r.track({type:0,doc:T}),R=!0):_&&!T&&(r.track({type:1,doc:_}),R=!0,(h||p)&&(d=!0)),R&&(T?(u=u.add(T),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,b)=>function(T,A){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:R})}};return P(T)-P(A)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,u.length!==0||p?{snapshot:new cc(this.query,e.Ka,o,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new b1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new jS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new MS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return cc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ev="SyncEngine";class P4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class k4{constructor(e){this.key=e,this.tu=!1}}class L4{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Vo(d=>WT(d),um),this.iu=new Map,this.su=new Set,this.ou=new Yt(Le.comparator),this._u=new Map,this.au=new U0,this.uu={},this.cu=new Map,this.lu=lc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function V4(n,e,t=!0){const r=zS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await DS(r,e,t,!0),a}async function z4(n,e){const t=zS(n);await DS(t,e,!0,!1)}async function DS(n,e,t,r){const a=await i4(n.localStore,Hs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await U4(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&AS(n.remoteStore,a),d}async function U4(n,e,t,r,a){n.Pu=(b,_,T)=>async function(P,R,N,E){let w=R.view.Ga(N);w.ys&&(w=await f1(P.localStore,R.query,!1).then(({documents:z})=>R.view.Ga(z,w)));const M=E&&E.targetChanges.get(R.targetId),L=E&&E.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(w,P.isPrimaryClient,M,L);return E1(P,R.targetId,k.Ya),k.snapshot}(n,b,_,T);const o=await f1(n.localStore,e,!0),u=new D4(e,o.Ns),d=u.Ga(o.documents),h=pd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,h);E1(n,t,p.Ya);const y=new P4(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function B4(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!um(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ly(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&H0(r.remoteStore,a.targetId),Uy(r,a.targetId)}).catch(mc)):(Uy(r,a.targetId),await Ly(r.localStore,a.targetId,!0))}async function F4(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),H0(t.remoteStore,r.targetId))}async function q4(n,e,t){const r=X4(n);try{const a=await function(u,d){const h=Xe(u),p=xn.now(),y=d.reduce((T,A)=>T.add(A.key),dt());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Ni(),P=dt();return h.Cs.getEntries(T,y).next(R=>{A=R,A.forEach((N,E)=>{E.isValidDocument()||(P=P.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,A)).next(R=>{b=R;const N=[];for(const E of d){const w=ij(E,b.get(E.key).overlayedDocument);w!=null&&N.push(new za(E.key,w,HT(w.value.mapValue),ts.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,N,d)}).next(R=>{_=R;const N=R.applyToLocalDocumentSet(b,P);return h.documentOverlayCache.saveOverlays(T,R.batchId,N)})}).then(()=>({batchId:_.batchId,changes:eS(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,d,h){let p=u.uu[u.currentUser.toKey()];p||(p=new Yt(nt)),p=p.insert(d,h),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,t),await yd(r,a.changes),await ym(r.remoteStore)}catch(a){const o=Y0(a,"Failed to persist write");t.reject(o)}}async function PS(n,e){const t=Xe(n);try{const r=await n4(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Nt(u.tu,14607):a.removedDocuments.size>0&&(Nt(u.tu,42227),u.tu=!1))}),await yd(t,r,e)}catch(r){await mc(r)}}function w1(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const h=Xe(u);h.onlineState=d;let p=!1;h.queries.forEach((y,b)=>{for(const _ of b.Ra)_.ga(d)&&(p=!0)}),p&&Z0(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H4(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Yt(Le.comparator);u=u.insert(o,Xn.newNoDocument(o,Ye.min()));const d=dt().add(o),h=new mm(Ye.min(),new Map,new Yt(nt),u,d);await PS(r,h),r.ou=r.ou.remove(o),r._u.delete(e),tv(r)}else await Ly(r.localStore,e,!1).then(()=>Uy(r,e,t)).catch(mc)}async function $4(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await t4(t.localStore,e);LS(t,r,null),kS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yd(t,a)}catch(a){await mc(a)}}async function G4(n,e,t){const r=Xe(n);try{const a=await function(u,d){const h=Xe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(b=>(Nt(b!==null,37113),y=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);LS(r,e,t),kS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yd(r,a)}catch(a){await mc(a)}}function kS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function LS(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||VS(n,r)})}function VS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(H0(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),tv(n))}function E1(n,e,t){for(const r of t)r instanceof MS?(n.au.addReference(r.key,e),Q4(n,r)):r instanceof jS?(Ae(ev,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||VS(n,r.key)):$e(19791,{Iu:r})}function Q4(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ae(ev,"New document in limbo: "+t),n.su.add(r),tv(n))}function tv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new k4(t)),n.ou=n.ou.insert(t,r),AS(n.remoteStore,new va(Hs(cm(t.path)),r,"TargetPurposeLimboResolution",im.le))}}async function yd(n,e,t){const r=Xe(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{u.push(r.Pu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(p){a.push(p);const b=F0.Ps(h.targetId,p);o.push(b)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(h,p){const y=Xe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>me.forEach(p,_=>me.forEach(_.ls,T=>y.persistence.referenceDelegate.addReference(b,_.targetId,T)).next(()=>me.forEach(_.hs,T=>y.persistence.referenceDelegate.removeReference(b,_.targetId,T)))))}catch(b){if(!pc(b))throw b;Ae(q0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const T=y.Ss.get(_),A=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(_,P)}}}(r.localStore,o))}async function K4(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ae(ev,"User change. New user:",e.toKey());const r=await wS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(h=>{h.reject(new we(ue.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yd(t,r.Ms)}}function Y4(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return dt().add(r.key);{let a=dt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const d=t.ru.get(u);a=a.unionWith(d.view.Wa)}return a}}function zS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H4.bind(null,e),e.nu.Q_=M4.bind(null,e.eventManager),e.nu.Tu=j4.bind(null,e.eventManager),e}function X4(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return e4(this.persistence,new Wj,e.initialUser,this.serializer)}Ru(e){return new _S(B0.Ei,this.serializer)}Au(e){return new o4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class W4 extends Lf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Nt(this.persistence.referenceDelegate instanceof Pf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kj(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new _S(r=>Pf.Ei(r,t),this.serializer)}}class By{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O4}()}createDatastore(e){const t=pm(e.databaseInfo.databaseId),r=function(o){return new h4(o)}(e.databaseInfo);return function(o,u,d,h){return new g4(o,u,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,d){return new v4(r,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>w1(this.syncEngine,t,0),function(){return g1.C()?new g1:new l4}())}createSyncEngine(e,t){return function(a,o,u,d,h,p,y){const b=new L4(a,o,u,d,h,p);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ae(Oo,"RemoteStore shutting down."),o.aa.add(5),await gd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class Z4{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=DT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(Pa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(Pa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Y0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(Pa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await wS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function T1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await J4(n);Ae(Pa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>v1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>v1(e.remoteStore,a)),n._onlineComponents=e}async function J4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(Pa,"Using user provided OfflineComponentProvider");try{await Xg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nc("Error using user provided cache. Falling back to memory cache: "+t),await Xg(n,new Lf)}}else Ae(Pa,"Using default OfflineComponentProvider"),await Xg(n,new W4(void 0));return n._offlineComponents}async function US(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(Pa,"Using user provided OnlineComponentProvider"),await T1(n,n._uninitializedComponentsProvider._online)):(Ae(Pa,"Using default OnlineComponentProvider"),await T1(n,new By))),n._onlineComponents}function eD(n){return US(n).then(e=>e.syncEngine)}async function Vf(n){const e=await US(n),t=e.eventManager;return t.onListen=V4.bind(null,e.syncEngine),t.onUnlisten=B4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=z4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F4.bind(null,e.syncEngine),t}function tD(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,p){const y=new nv({next:_=>{y.yu(),u.enqueueAndForget(()=>W0(o,b));const T=_.docs.has(d);!T&&_.fromCache?p.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new J0(cm(d.path),y,{includeMetadataChanges:!0,Fa:!0});return X0(o,b)}(await Vf(n),n.asyncQueue,e,t,r)),r.promise}function nD(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,p){const y=new nv({next:_=>{y.yu(),u.enqueueAndForget(()=>W0(o,b)),_.fromCache&&h.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new J0(d,y,{includeMetadataChanges:!0,Fa:!0});return X0(o,b)}(await Vf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,e,t){if(!t)throw new we(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rD(n,e,t,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function A1(n){if(!Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C1(n){if(Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firestore.googleapis.com",N1=!0;class R1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qS,this.ssl=N1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:N1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dj)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dM;switch(r.type){case"firstParty":return new pM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=S1.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),S1.delete(t),r.terminate())}(this),Promise.resolve()}}function sD(n,e,t,r={}){var a;const o=(n=xr(n,bm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==qS&&o.host!==d&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Ra(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yn.MOCK_USER;else{p=UI(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(b)}n._authCredentials=new hM(new MT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua=class HS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HS(this.firestore,e,this._query)}};class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Aa extends Ua{constructor(e,t,r){super(e,t,cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Le(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function ns(n,e,...t){if(n=hn(n),FS("collection","path",e),n instanceof bm){const r=Bt.fromString(e,...t);return C1(r),new Aa(n,null,r)}{if(!(n instanceof Wn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return C1(r),new Aa(n.firestore,null,r)}}function ka(n,e,...t){if(n=hn(n),arguments.length===1&&(e=DT.newId()),FS("doc","path",e),n instanceof bm){const r=Bt.fromString(e,...t);return A1(r),new Wn(n,null,new Le(r))}{if(!(n instanceof Wn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return A1(r),new Wn(n.firestore,n instanceof Aa?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new TS(this,"async_queue_retry"),this.ju=()=>{const r=Yg();r&&Ae(I1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Yg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Yg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!pc(e))throw e;Ae(I1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",M1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=K0.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&$e(47125,{ec:M1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function M1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ri extends bm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new O1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function iD(n,e){const t=typeof n=="object"?n:wT(),r=typeof n=="string"?n:Rf,a=N0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=VI("firestore");o&&sD(a,...o)}return a}function xm(n){if(n._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aD(n),n._firestoreClient}function aD(n){var e,t,r;const a=n._freezeSettings(),o=function(d,h,p,y){return new IM(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Z4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(Fn.fromBase64String(e))}catch(t){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^__.*__$/;class lD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new md(e,this.data,t,this.fieldTransforms)}}class $S{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{oc:n})}}class wm{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(GS(this.oc)&&oD.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class cD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pm(e)}dc(e,t,r,a=!1){return new wm({oc:e,methodName:t,Ec:r,path:Bn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(n){const e=n._freezeSettings(),t=pm(n._databaseId);return new cD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);ov("Data must be an object, but it was:",u,r);const d=YS(r,u);let h,p;if(o.merge)h=new kr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=Fy(e,b,t);if(!u.contains(_))throw new we(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);WS(y,_)||y.push(_)}h=new kr(y),p=u.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,p=u.fieldTransforms;return new lD(new br(d),h,p)}class Em extends vd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}function uD(n,e,t){return new wm({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iv extends vd{_toFieldTransform(e){return new oS(e.path,new Xu)}isEqual(e){return e instanceof iv}}class av extends vd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=uD(this,e,!0),r=this.Ac.map(o=>yc(o,t)),a=new oc(r);return new oS(e.path,a)}isEqual(e){return e instanceof av&&Ra(this.Ac,e.Ac)}}function dD(n,e,t,r){const a=n.dc(1,e,t);ov("Data must be an object, but it was:",a,r);const o=[],u=br.empty();Va(r,(h,p)=>{const y=lv(e,h,t);p=hn(p);const b=a.hc(y);if(p instanceof Em)o.push(y);else{const _=yc(p,b);_!=null&&(o.push(y),u.set(y,_))}});const d=new kr(o);return new $S(u,d,a.fieldTransforms)}function hD(n,e,t,r,a,o){const u=n.dc(1,e,t),d=[Fy(e,r,t)],h=[a];if(o.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Fy(e,o[_])),h.push(o[_+1]);const p=[],y=br.empty();for(let _=d.length-1;_>=0;--_)if(!WS(p,d[_])){const T=d[_];let A=h[_];A=hn(A);const P=u.hc(T);if(A instanceof Em)p.push(T);else{const R=yc(A,P);R!=null&&(p.push(T),y.set(T,R))}}const b=new kr(p);return new $S(y,b,u.fieldTransforms)}function KS(n,e,t,r=!1){return yc(t,n.dc(r?4:3,e))}function yc(n,e){if(XS(n=hn(n)))return ov("Unsupported field value:",e,n),YS(n,e);if(n instanceof vd)return function(r,a){if(!GS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const d of r){let h=yc(d,a.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xn.fromDate(r);return{timestampValue:Df(a.serializer,o)}}if(r instanceof xn){const o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Df(a.serializer,o)}}if(r instanceof rv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uc)return{bytesValue:fS(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof sv)return function(u,d){return{mapValue:{fields:{[FT]:{stringValue:qT},[If]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return P0(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${vm(r)}`)}(n,e)}function YS(n,e){const t={};return kT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(n,(r,a)=>{const o=yc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function XS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof rv||n instanceof uc||n instanceof Wn||n instanceof vd||n instanceof sv)}function ov(n,e,t){if(!XS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=vm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Fy(n,e,t){if((e=hn(e))instanceof _m)return e._internalPath;if(typeof e=="string")return lv(n,e);throw zf("Field path arguments must be of type string or ",n,!1,void 0,t)}const fD=new RegExp("[~\\*/\\[\\]]");function lv(n,e,t){if(e.search(fD)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _m(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zf(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${a}`),h+=")"),new we(ue.INVALID_ARGUMENT,d+n+h)}function WS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mD extends cv{data(){return super.data()}}function Tm(n,e){return typeof e=="string"?lv(n,e):e instanceof _m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uv{}class Sm extends uv{}function Mo(n,e,...t){let r=[];e instanceof uv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(h=>h instanceof dv).length,d=o.filter(h=>h instanceof Am).length;if(u>1||u>0&&d>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Am extends Sm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Am(e,t,r)}_apply(e){const t=this._parse(e);return e2(e._query,t),new Ua(e.firestore,e.converter,My(e._query,t))}_parse(e){const t=bd(e.firestore);return function(o,u,d,h,p,y,b){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){P1(b,y);const A=[];for(const P of b)A.push(D1(h,o,P));_={arrayValue:{values:A}}}else _=D1(h,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||P1(b,y),_=KS(d,u,b,y==="in"||y==="not-in");return dn.create(p,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(n,e,t){const r=e,a=Tm("where",n);return Am._create(a,r,t)}class dv extends uv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const h of d)e2(u,h),u=My(u,h)}(e._query,t),new Ua(e.firestore,e.converter,My(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends Sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(o,u)}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Lo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function pD(n,e="asc"){const t=e,r=Tm("orderBy",n);return hv._create(r,t)}class fv extends Sm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new fv(e,t,r)}_apply(e){return new Ua(e.firestore,e.converter,Mf(e._query,this._limit,this._limitType))}}function Uf(n){return fv._create("limit",n,"F")}class mv extends Sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mv(e,t,r)}_apply(e){const t=gD(e,this.type,this._docOrFields,this._inclusive);return new Ua(e.firestore,e.converter,function(a,o){return new Lo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function JS(...n){return mv._create("startAfter",n,!1)}function gD(n,e,t,r){if(t[0]=hn(t[0]),t[0]instanceof cv)return function(o,u,d,h,p){if(!h)throw new we(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const b of Pl(o))if(b.field.isKeyField())y.push(Of(u,h.key));else{const _=h.data.field(b.field);if(om(_))throw new we(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=b.field.canonicalString();throw new we(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}y.push(_)}return new ac(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=bd(n.firestore);return function(u,d,h,p,y,b){const _=u.explicitOrderBy;if(y.length>_.length)throw new we(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let A=0;A<y.length;A++){const P=y[A];if(_[A].field.isKeyField()){if(typeof P!="string")throw new we(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!D0(u)&&P.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const R=u.path.child(Bt.fromString(P));if(!Le.isDocumentKey(R))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const N=new Le(R);T.push(Of(d,N))}else{const R=KS(h,p,P);T.push(R)}}return new ac(T,b)}(n._query,n.firestore._databaseId,a,e,t,r)}}function D1(n,e,t){if(typeof(t=hn(t))=="string"){if(t==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&t.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Of(n,new Le(r))}if(t instanceof Wn)return Of(n,t._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function P1(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yD{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Va(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[If].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>nn(u.doubleValue));return new sv(o)}convertGeoPoint(e){return new rv(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);Nt(bS(r),9688,{name:e});const a=new Qu(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ci(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n2 extends cv{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hf extends n2{data(e={}){return super.data(e)}}class r2{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hf(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const h=new hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new hf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:vD(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){n=xr(n,Wn);const e=xr(n.firestore,Ri);return tD(xm(e),n._key).then(t=>i2(e,n,t))}class pv extends yD{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function Ba(n){n=xr(n,Ua);const e=xr(n.firestore,Ri),t=xm(e),r=new pv(e);return ZS(n._query),nD(t,n._query).then(a=>new r2(e,r,n,a))}function Ff(n,e,t){n=xr(n,Wn);const r=xr(n.firestore,Ri),a=t2(n.converter,e,t);return Cm(r,[QS(bd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ts.none())])}function s2(n,e,t,...r){n=xr(n,Wn);const a=xr(n.firestore,Ri),o=bd(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof _m?hD(o,"updateDoc",n._key,e,t,r):dD(o,"updateDoc",n._key,e),Cm(a,[u.toMutation(n._key,ts.exists(!0))])}function bD(n){return Cm(xr(n.firestore,Ri),[new k0(n._key,ts.none())])}function xD(n,e){const t=xr(n.firestore,Ri),r=ka(n),a=t2(n.converter,e);return Cm(t,[QS(bd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then(()=>r)}function _D(n,...e){var t,r,a;n=hn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||j1(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(j1(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let h,p,y;if(n instanceof Wn)p=xr(n.firestore,Ri),y=cm(n._key.path),h={next:b=>{e[u]&&e[u](i2(p,n,b))},error:e[u+1],complete:e[u+2]};else{const b=xr(n,Ua);p=xr(b.firestore,Ri),y=b._query;const _=new pv(p);h={next:T=>{e[u]&&e[u](new r2(p,_,b,T))},error:e[u+1],complete:e[u+2]},ZS(n._query)}return function(_,T,A,P){const R=new nv(P),N=new J0(T,R,A);return _.asyncQueue.enqueueAndForget(async()=>X0(await Vf(_),N)),()=>{R.yu(),_.asyncQueue.enqueueAndForget(async()=>W0(await Vf(_),N))}}(xm(p),y,d,h)}function Cm(n,e){return function(r,a){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>q4(await eD(r),a,o)),o.promise}(xm(n),e)}function i2(n,e,t){const r=t.docs.get(e._key),a=new pv(n);return new n2(n,a,e._key,r,new Mu(t.hasPendingWrites,t.fromCache),e.converter)}function wD(){return new iv("serverTimestamp")}function ED(...n){return new av("arrayUnion",n)}(function(e,t=!0){(function(a){fc=a})(hc),tc(new Ro("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new Ri(new fM(r.getProvider("auth-internal")),new gM(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(p.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ta(Lw,Vw,e),Ta(Lw,Vw,"esm2017")})();var TD="firebase",SD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(TD,SD,"app");function gv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=a2,o2=new hd("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new A0("@firebase/auth");function CD(n,...e){qf.logLevel<=ut.WARN&&qf.warn(`Auth (${hc}): ${n}`,...e)}function ff(n,...e){qf.logLevel<=ut.ERROR&&qf.error(`Auth (${hc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,...e){throw yv(n,...e)}function Gs(n,...e){return yv(n,...e)}function l2(n,e,t){const r=Object.assign(Object.assign({},AD()),{[e]:t});return new hd("auth","Firebase",r).create(e,{appName:n.name})}function Ca(n){return l2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return o2.create(n,...e)}function He(n,e,...t){if(!n)throw yv(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ff(e),new Error(e)}function Ii(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ND(){return k1()==="http:"||k1()==="https:"}function k1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ND()||HI()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=BI()||$I()}get(){return RD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){Ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jD=new xd(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fa(n,e,t,r,a={}){return u2(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=fd(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return qI()||(p.referrerPolicy="no-referrer"),c2.fetch()(await d2(n,n.config.apiHost,t,d),p)})}async function u2(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},OD),e);try{const a=new PD(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Yh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Yh(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Yh(n,"user-disabled",u);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw l2(n,y,p);vs(n,y)}}catch(a){if(a instanceof Oi)throw a;vs(n,"network-request-failed",{message:String(a)})}}async function Nm(n,e,t,r,a={}){const o=await Fa(n,e,t,r,a);return"mfaPendingCredential"in o&&vs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function d2(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?vv(n.config,a):`${n.config.apiScheme}://${a}`;return MD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function DD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),jD.get())})}}function Yh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Gs(n,e,r);return a.customData._tokenResponse=t,a}function L1(n){return n!==void 0&&n.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LD(n,e){return Fa(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){return Fa(n,"POST","/v1/accounts:delete",e)}async function Hf(n,e){return Fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zD(n,e=!1){const t=hn(n),r=await t.getIdToken(e),a=bv(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Uu(Wg(a.auth_time)),issuedAtTime:Uu(Wg(a.iat)),expirationTime:Uu(Wg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Wg(n){return Number(n)*1e3}function bv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=pT(t);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function V1(n){const e=bv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Oi&&UD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Zu(n,Hf(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?h2(o.providerUserInfo):[],d=qD(n.providerData,u),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Hy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function FD(n){const e=hn(n);await $f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qD(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function h2(n){return n.map(e=>{var{providerId:t}=e,r=gv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e){const t=await u2(n,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await d2(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",c2.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $D(n,e){return Fa(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=V1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await HD(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ll;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zD(this,e)}reload(){return FD(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $f(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Zu(this,VD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,d,h,p,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(d=t.tenantId)!==null&&d!==void 0?d:void 0,R=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,E=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:w,emailVerified:M,isAnonymous:L,providerData:k,stsTokenManager:z}=t;He(w&&z,e,"internal-error");const O=Ll.fromJSON(this.name,z);He(typeof w=="string",e,"internal-error"),na(b,e.name),na(_,e.name),He(typeof M=="boolean",e,"internal-error"),He(typeof L=="boolean",e,"internal-error"),na(T,e.name),na(A,e.name),na(P,e.name),na(R,e.name),na(N,e.name),na(E,e.name);const I=new ms({uid:w,auth:e,email:_,emailVerified:M,displayName:b,isAnonymous:L,photoURL:A,phoneNumber:T,tenantId:P,stsTokenManager:O,createdAt:N,lastLoginAt:E});return k&&Array.isArray(k)&&(I.providerData=k.map(V=>Object.assign({},V))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ll;a.updateFromServerResponse(t);const o=new ms({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await $f(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?h2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Ll;d.updateFromIdToken(r);const h=new ms({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;function Ti(n){Ii(n instanceof Function,"Expected a class definition");let e=z1.get(n);return e?(Ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,z1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}f2.type="NONE";const U1=f2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=mf(this.userKey,a.apiKey,o),this.fullPersistenceKey=mf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hf(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vl(Ti(U1),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ti(U1);const u=mf(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const _=await Hf(e,{idToken:y}).catch(()=>{});if(!_)break;b=await ms._fromGetAccountInfoResponse(e,_,y)}else b=ms._fromJSON(e,y);p!==o&&(d=b),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vl(o,e,r):(o=h[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Vl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b2(e))return"Blackberry";if(x2(e))return"Webos";if(p2(e))return"Safari";if((e.includes("chrome/")||g2(e))&&!e.includes("edge/"))return"Chrome";if(v2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function m2(n=Zn()){return/firefox\//i.test(n)}function p2(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g2(n=Zn()){return/crios\//i.test(n)}function y2(n=Zn()){return/iemobile/i.test(n)}function v2(n=Zn()){return/android/i.test(n)}function b2(n=Zn()){return/blackberry/i.test(n)}function x2(n=Zn()){return/webos/i.test(n)}function xv(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GD(n=Zn()){var e;return xv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QD(){return GI()&&document.documentMode===10}function _2(n=Zn()){return xv(n)||v2(n)||x2(n)||b2(n)||/windows phone/i.test(n)||y2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n,e=[]){let t;switch(n){case"Browser":t=B1(Zn());break;case"Worker":t=`${B1(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const h=e(o);u(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e={}){return Fa(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class WD{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:XD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F1(this),this.idTokenSubscription=new F1(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hf(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $f(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Ca(this));const t=e?hn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),t=new WD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await $D(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vc(n){return hn(n)}class F1{constructor(e){this.auth=e,this.observer=null,this.addObserver=eO(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(n){Rm=n}function E2(n){return Rm.loadJS(n)}function eP(){return Rm.recaptchaEnterpriseScript}function tP(){return Rm.gapiScript}function nP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rP{constructor(){this.enterprise=new sP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iP="recaptcha-enterprise",T2="NO_RECAPTCHA";class aP{constructor(e){this.type=iP,this.auth=vc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{LD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new kD(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,u,d){const h=window.grecaptcha;L1(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(T2)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rP().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&L1(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=eP();h.length!==0&&(h+=d),E2(h).then(()=>{a(d,o,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function q1(n,e,t,r=!1,a=!1){const o=new aP(n);let u;if(a)u=T2;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function H1(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await q1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q1(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n,e){const t=N0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ra(o,e??{}))return a;vs(a,"already-initialized")}return t.initialize({options:e})}function lP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cP(n,e,t){const r=vc(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=S2(e),{host:u,port:d}=uP(e),h=d===null?"":`:${d}`,p={url:`${o}//${u}${h}/`},y=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ra(p,r.config.emulator)&&Ra(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,dP()}function S2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uP(n){const e=S2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:$1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:$1(u)}}}function $1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function hP(n,e){return Fa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e){return Nm(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(n,e){return Nm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function pP(n,e){return Nm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends _v{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ju(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ju(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,t,"signInWithPassword",fP);case"emailLink":return mP(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,r,"signUpPassword",hP);case"emailLink":return pP(e,{idToken:t,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return Nm(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="http://localhost";class jo extends _v{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=gv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new jo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:gP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vP(n){const e=Cu(Nu(n)).link,t=e?Cu(Nu(e)).deep_link_id:null,r=Cu(Nu(n)).deep_link_id;return(r?Cu(Nu(r)).link:null)||r||t||e||n}class wv{constructor(e){var t,r,a,o,u,d;const h=Cu(Nu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,b=yP((a=h.mode)!==null&&a!==void 0?a:null);He(p&&y&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=vP(e);try{return new wv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.providerId=bc.PROVIDER_ID}static credential(e,t){return Ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wv.parseLink(t);return He(r,"argument-error"),Ju._fromEmailAndCode(e,r.code,r.tenantId)}}bc.PROVIDER_ID="password";bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends A2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends _d{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends _d{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends _d{constructor(){super("twitter.com")}static credential(e,t){return jo._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ca.credential(t,r)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await ms._fromIdTokenResponse(e,r,a),u=G1(r);return new dc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=G1(r);return new dc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function G1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Oi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Gf(e,t,r,a)}}function C2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(n,o,e,r):o})}async function bP(n,e,t=!1){const r=await Zu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return dc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e,t=!1){const{auth:r}=n;if(fs(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const o=await Zu(n,C2(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=bv(o.idToken);He(u,r,"internal-error");const{sub:d}=u;return He(n.uid===d,r,"user-mismatch"),dc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r="signIn",a=await C2(n,r,e),o=await dc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function _P(n,e){return N2(vc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n){const e=vc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EP(n,e,t){return fs(n.app)?Promise.reject(Ca(n)):_P(hn(n),bc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wP(n),r})}function TP(n,e,t,r){return hn(n).onIdTokenChanged(e,t,r)}function SP(n,e,t){return hn(n).beforeAuthStateChanged(e,t)}function AP(n,e,t,r){return hn(n).onAuthStateChanged(e,t,r)}function CP(n){return hn(n).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1e3,RP=10;class I2 extends R2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);QD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RP):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},NP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}I2.type="LOCAL";const IP=I2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2 extends R2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}O2.type="SESSION";const M2=O2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,o)),h=await OP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,h)=>{const p=Ev("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function jP(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function DP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function kP(){return j2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firebaseLocalStorageDb",LP=1,Kf="firebaseLocalStorage",P2="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Om(n,e){return n.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function VP(){const n=indexedDB.deleteDatabase(D2);return new wd(n).toPromise()}function $y(){const n=indexedDB.open(D2,LP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Kf,{keyPath:P2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Kf)?e(r):(r.close(),await VP(),e(await $y()))})})}async function Q1(n,e,t){const r=Om(n,!0).put({[P2]:e,value:t});return new wd(r).toPromise()}async function zP(n,e){const t=Om(n,!1).get(e),r=await new wd(t).toPromise();return r===void 0?null:r.value}function K1(n,e){const t=Om(n,!0).delete(e);return new wd(t).toPromise()}const UP=800,BP=3;class k2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>BP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(kP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DP(),!this.activeServiceWorker)return;this.sender=new MP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await Q1(e,Qf,"1"),await K1(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Om(a,!1).getAll();return new wd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k2.type="LOCAL";const FP=k2;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n,e){return e?Ti(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends _v{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HP(n){return N2(n.auth,new Tv(n),n.bypassAuthState)}function $P(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),xP(t,new Tv(n),n.bypassAuthState)}async function GP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),bP(t,new Tv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HP;case"linkViaPopup":case"linkViaRedirect":return GP;case"reauthViaPopup":case"reauthViaRedirect":return $P;default:vs(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new xd(2e3,1e4);class Ol extends L2{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QP.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="pendingRedirect",pf=new Map;class YP extends L2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await XP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XP(n,e){const t=JP(e),r=ZP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function WP(n,e){pf.set(n._key(),e)}function ZP(n){return Ti(n._redirectPersistence)}function JP(n){return mf(KP,n.config.apiKey,n.name)}async function e3(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r=vc(n),a=qP(r,e),u=await new YP(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=10*60*1e3;class n3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!V2(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(e))}saveEventToCache(e){this.cachedEventUids.add(Y1(e)),this.lastProcessedEventTime=Date.now()}}function Y1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function V2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e={}){return Fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a3=/^https?/;async function o3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await s3(n);for(const t of e)try{if(l3(t))return}catch{}vs(n,"unauthorized-domain")}function l3(n){const e=qy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!a3.test(t))return!1;if(i3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new xd(3e4,6e4);function X1(){const n=Qs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function u3(n){return new Promise((e,t)=>{var r,a,o;function u(){X1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X1(),t(Gs(n,"network-request-failed"))},timeout:c3.get()})}if(!((a=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Qs().gapi)===null||o===void 0)&&o.load)u();else{const d=nP("iframefcb");return Qs()[d]=()=>{gapi.load?u():t(Gs(n,"network-request-failed"))},E2(`${tP()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw gf=null,e})}let gf=null;function d3(n){return gf=gf||u3(n),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new xd(5e3,15e3),f3="__/auth/iframe",m3="emulator/auth/iframe",p3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y3(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vv(e,m3):`https://${n.config.authDomain}/${f3}`,r={apiKey:e.apiKey,appName:n.name,v:hc},a=g3.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${fd(r).slice(1)}`}async function v3(n){const e=await d3(n),t=Qs().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:y3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p3,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Gs(n,"network-request-failed"),d=Qs().setTimeout(()=>{o(u)},h3.get());function h(){Qs().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x3=500,_3=600,w3="_blank",E3="http://localhost";class W1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T3(n,e,t,r=x3,a=_3){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},b3),{width:r.toString(),height:a.toString(),top:o,left:u}),p=Zn().toLowerCase();t&&(d=g2(p)?w3:t),m2(p)&&(e=e||E3,h.scrollbars="yes");const y=Object.entries(h).reduce((_,[T,A])=>`${_}${T}=${A},`,"");if(GD(p)&&d!=="_self")return S3(e||"",d),new W1(null);const b=window.open(e||"",d,y);He(b,n,"popup-blocked");try{b.focus()}catch{}return new W1(b)}function S3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="__/auth/handler",C3="emulator/auth/handler",N3=encodeURIComponent("fac");async function Z1(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hc,eventId:a};if(e instanceof A2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof _d){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await n._getAppCheckToken(),p=h?`#${N3}=${encodeURIComponent(h)}`:"";return`${R3(n)}?${fd(d).slice(1)}${p}`}function R3({config:n}){return n.emulator?vv(n,C3):`https://${n.authDomain}/${A3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class I3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M2,this._completeRedirectFn=e3,this._overrideRedirectResult=WP}async _openPopup(e,t,r,a){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Z1(e,t,r,qy(),a);return T3(e,u,Ev())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await Z1(e,t,r,qy(),a);return jP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await v3(e),r=new n3(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zg,{type:Zg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Zg];u!==void 0&&t(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _2()||p2()||xv()}}const O3=I3;var J1="@firebase/auth",eE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(n){tc(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(n)},p=new ZD(r,a,o,h);return lP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tc(new Ro("auth-internal",e=>{const t=vc(e.getProvider("auth").getImmediate());return(r=>new M3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(J1,eE,j3(n)),Ta(J1,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=5*60,k3=vT("authIdTokenMaxAge")||P3;let tE=null;const L3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>k3)return;const a=t==null?void 0:t.token;tE!==a&&(tE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function V3(n=wT()){const e=N0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oP(n,{popupRedirectResolver:O3,persistence:[FP,IP,M2]}),r=vT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=L3(o.toString());SP(t,u,()=>u(t.currentUser)),TP(t,d=>u(d))}}const a=gT("auth");return a&&cP(t,`http://${a}`),t}function z3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Gs("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",z3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");const U3={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},B3=_T(U3),Jg=V3(),bn=iD(B3),F3=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Ba(ns(bn,"headline")),a=[];r.forEach(o=>{const u=o.data();u.news&&a.push(u.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),m.jsxs("div",{className:"w-[100%] md:w-[80%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[m.jsxs("div",{className:"shrink-0 whitespace-nowrap text-[16px] md:text-[18px]",children:[" ",m.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})]}),m.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:m.jsx(uT,{children:n.map((t,r)=>m.jsx("span",{className:"mx-4",children:t},r))})}),m.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 shrink-0 text-[20px] md:text-[24px]",children:[" ",m.jsx("a",{href:"",children:m.jsx(CI,{})}),m.jsx("a",{href:"",children:m.jsx(RI,{})}),m.jsx("a",{href:"",children:m.jsx(NI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),nE=n=>{const e=H3(n);return e.charAt(0).toUpperCase()+e.slice(1)},z2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),$3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...d},h)=>q.createElement("svg",{ref:h,...G3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:z2("lucide",a),...!o&&!$3(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(Q3,{ref:o,iconNode:e,className:z2(`lucide-${q3(nE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=nE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y3=In("chevron-down",K3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],W3=In("chevron-up",X3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ey=In("clock",Z3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],ek=In("facebook",J3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nk=In("house",tk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],sk=In("instagram",rk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ak=In("list",ik);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lk=In("mail",ok);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uk=In("map-pin",ck);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],hk=In("menu",dk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M5 12h14",key:"1ays0h"}]],mk=In("minus",fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gk=In("package",pk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],U2=In("phone",yk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bk=In("plus",vk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ty=In("search",xk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yf=In("shopping-cart",_k);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ek=In("twitter",wk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gy=In("x",Tk),rE="/assets/Untitled%20design%20(1)-d8yNnjIf.png",Sk=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=q.useState(t);q.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},u=()=>r.reduce((p,y)=>{const b=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(b)*y.quantity},0),d=p=>{const y=r.filter(b=>b.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},h=(p,y)=>{const b=r.map(_=>{if(_.id===p){const T=_.quantity+y;return{..._,quantity:T>0?T:1}}return _});a(b),localStorage.setItem("cart",JSON.stringify(b)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:b}))};return m.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:m.jsx("div",{className:"w-screen max-w-md",children:m.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[m.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:m.jsx(Gy,{className:"h-6 w-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?m.jsxs("div",{className:"text-center mt-12",children:[m.jsx(yf,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),m.jsx("div",{className:"mt-6",children:m.jsx(Mt,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):m.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var _,T;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),b=Math.floor(y)*p.quantity;return m.jsxs("li",{className:"py-6 flex gap-4",children:[m.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:m.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[m.jsx("h3",{children:p.name}),m.jsxs("p",{children:["৳",o(b)]})]}),((_=p.color)==null?void 0:_.name)&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",m.jsx("span",{className:"capitalize",children:p.color.name})]}),((T=p.size)==null?void 0:T.size)&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",m.jsx("span",{className:"uppercase",children:p.size.size})]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>h(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:m.jsx(mk,{className:"w-4 h-4"})}),m.jsx("span",{className:"text-sm",children:p.quantity}),m.jsx("button",{onClick:()=>h(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:m.jsx(bk,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>d(p.id),className:"text-red-600 hover:text-red-500",children:m.jsx(Gy,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&m.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[m.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[m.jsx("p",{children:"Subtotal"}),m.jsxs("p",{children:["৳",o(u())]})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[m.jsx(Mt,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),m.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},Ak=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[u,d]=q.useState([]),[h,p]=q.useState(!0),[y,b]=q.useState(0),[_,T]=q.useState(!1),[A,P]=q.useState([]);q.useEffect(()=>{(async()=>{try{const w=Mo(ns(bn,"menu-categories"),pD("order")),M=await Ba(w),L=[];M.forEach(k=>{L.push({id:k.id,...k.data()})}),d(L),p(!1)}catch(w){console.error("Error fetching menu items:",w),p(!1)}})()},[]),q.useEffect(()=>{const E=()=>{const w=JSON.parse(localStorage.getItem("cart"))||[],M=w.reduce((L,k)=>L+k.quantity,0);b(M),P(w)};return E(),window.addEventListener("storage",E),window.addEventListener("cartUpdated",E),()=>{window.removeEventListener("storage",E),window.removeEventListener("cartUpdated",E)}},[]);const R=E=>{o(w=>w===E?null:E)},N=()=>{e(!0)};return h?m.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsx(Mt,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),u.map(E=>E.type==="dropdown"?m.jsxs("div",{className:"group relative",children:[m.jsx(Mt,{to:`/category/${E.id}`,className:"text-gray-700 hover:text-black capitalize",children:E.id}),m.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:E.items.map(w=>m.jsx(Mt,{to:`${w.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:w.name},w.path))})]},E.id):m.jsx(Mt,{to:E.path,className:"text-gray-700 hover:text-black capitalize",children:E.id},E.id))]}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(Mt,{to:"/",children:m.jsx("img",{src:rE,alt:"Brand Logo",className:"h-[190px] w-auto"})})}),m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsxs("div",{className:"group relative",children:[m.jsx(Mt,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),m.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:u.filter(E=>E.type==="dropdown").map(E=>m.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:E.id}),m.jsx("div",{className:"space-y-1",children:E.items.map(w=>m.jsx(Mt,{to:`${w.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:w.name},w.path))})]},E.id))})]}),m.jsx(Mt,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),m.jsxs("button",{onClick:()=>T(!0),className:"text-gray-700 hover:text-black relative",children:[m.jsx(yf,{size:20}),y>0&&m.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(ty,{size:20})}),t&&m.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]})]}),m.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>e(!n),children:n?m.jsx(Gy,{size:24}):m.jsx(hk,{size:24})})}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(Mt,{to:"/",children:m.jsx("img",{src:rE,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(ty,{size:24})})})]})]}),n&&m.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[m.jsx(Mt,{to:"/",className:"block font-semibold",children:"Home"}),u.map(E=>E.type==="dropdown"?m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>R(E.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[E.id,a===E.id?m.jsx(W3,{size:18}):m.jsx(Y3,{size:18})]}),a===E.id&&m.jsx("div",{className:"ml-4 mt-2 space-y-1",children:E.items.map(w=>m.jsx(Mt,{to:`${w.path}`,className:"block capitalize",children:w.name},w.path))})]},E.id):m.jsx(Mt,{to:E.path,className:"block font-semibold capitalize",children:E.id},E.id)),m.jsx(Mt,{to:"/cart",className:"block font-semibold",children:"Orders"}),m.jsxs("button",{onClick:()=>{e(!1),T(!0)},className:"flex items-center space-x-2 relative",children:[m.jsx(yf,{size:20}),m.jsx("span",{children:"Cart"}),y>0&&m.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[m.jsx(ty,{size:20}),m.jsx("span",{children:"Search"})]}),t&&m.jsx("div",{className:"mt-2",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]}),m.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:m.jsxs("div",{className:"flex justify-around items-center h-16",children:[m.jsxs(Mt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(nk,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),m.jsxs("button",{onClick:N,className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(ak,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),m.jsxs(Mt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(gk,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),m.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[m.jsx(yf,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&m.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),m.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(U2,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),m.jsx(Sk,{isOpen:_,onClose:()=>T(!1),cartItems:A})]})},Ck=()=>m.jsx("div",{children:m.jsx("div",{children:m.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:m.jsx(uT,{children:"hnbkjbndsfh;kln"})})})});var Ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Do=typeof window>"u"||"Deno"in globalThis;function vr(){}function Nk(n,e){return typeof n=="function"?n(e):n}function Qy(n){return typeof n=="number"&&n>=0&&n!==1/0}function B2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ul(n,e){return typeof n=="function"?n(e):n}function hs(n,e){return typeof n=="function"?n(e):n}function sE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==Sv(u,e.options))return!1}else if(!td(e.queryKey,u))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function iE(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(ed(e.options.mutationKey)!==ed(o))return!1}else if(!td(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Sv(n,e){return((e==null?void 0:e.queryKeyHashFn)||ed)(n)}function ed(n){return JSON.stringify(n,(e,t)=>Yy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function td(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>td(n[t],e[t])):!1}function F2(n,e){if(n===e)return n;const t=aE(n)&&aE(e);if(t||Yy(n)&&Yy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,d=t?[]:{};let h=0;for(let p=0;p<u;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(d[y]=void 0,h++):(d[y]=F2(n[y],e[y]),d[y]===n[y]&&n[y]!==void 0&&h++)}return a===u&&h===a?n:d}return e}function Ky(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function aE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Yy(n){if(!oE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!oE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function oE(n){return Object.prototype.toString.call(n)==="[object Object]"}function Rk(n){return new Promise(e=>{setTimeout(e,n)})}function Xy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?F2(n,e):e}function Ik(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Ok(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Av=Symbol();function q2(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Mk(n,e){return typeof n=="function"?n(...e):!!n}var xo,ua,Fl,IE,jk=(IE=class extends Ed{constructor(){super();Qe(this,xo);Qe(this,ua);Qe(this,Fl);Ie(this,Fl,e=>{if(!Do&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ua)||this.setEventListener(Y(this,Fl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ua))==null||e.call(this),Ie(this,ua,void 0))}setEventListener(e){var t;Ie(this,Fl,e),(t=Y(this,ua))==null||t.call(this),Ie(this,ua,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,xo)!==e&&(Ie(this,xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,xo)=="boolean"?Y(this,xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xo=new WeakMap,ua=new WeakMap,Fl=new WeakMap,IE),Cv=new jk,ql,da,Hl,OE,Dk=(OE=class extends Ed{constructor(){super();Qe(this,ql,!0);Qe(this,da);Qe(this,Hl);Ie(this,Hl,e=>{if(!Do&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,da)||this.setEventListener(Y(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,da))==null||e.call(this),Ie(this,da,void 0))}setEventListener(e){var t;Ie(this,Hl,e),(t=Y(this,da))==null||t.call(this),Ie(this,da,e(this.setOnline.bind(this)))}setOnline(e){Y(this,ql)!==e&&(Ie(this,ql,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,ql)}},ql=new WeakMap,da=new WeakMap,Hl=new WeakMap,OE),Yf=new Dk;function Wy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Pk(n){return Math.min(1e3*2**n,3e4)}function H2(n){return(n??"online")==="online"?Yf.isOnline():!0}var $2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ny(n){return n instanceof $2}function G2(n){let e=!1,t=0,r=!1,a;const o=Wy(),u=P=>{var R;r||(_(new $2(P)),(R=n.abort)==null||R.call(n))},d=()=>{e=!0},h=()=>{e=!1},p=()=>Cv.isFocused()&&(n.networkMode==="always"||Yf.isOnline())&&n.canRun(),y=()=>H2(n.networkMode)&&n.canRun(),b=P=>{var R;r||(r=!0,(R=n.onSuccess)==null||R.call(n,P),a==null||a(),o.resolve(P))},_=P=>{var R;r||(r=!0,(R=n.onError)==null||R.call(n,P),a==null||a(),o.reject(P))},T=()=>new Promise(P=>{var R;a=N=>{(r||p())&&P(N)},(R=n.onPause)==null||R.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),A=()=>{if(r)return;let P;const R=t===0?n.initialPromise:void 0;try{P=R??n.fn()}catch(N){P=Promise.reject(N)}Promise.resolve(P).then(b).catch(N=>{var k;if(r)return;const E=n.retry??(Do?0:3),w=n.retryDelay??Pk,M=typeof w=="function"?w(t,N):w,L=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,N);if(e||!L){_(N);return}t++,(k=n.onFail)==null||k.call(n,t,N),Rk(M).then(()=>p()?void 0:T()).then(()=>{e?_(N):A()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?A():T().then(A),o)}}var kk=n=>setTimeout(n,0);function Lk(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=kk;const o=d=>{e?n.push(d):a(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Un=Lk(),_o,ME,Q2=(ME=class{constructor(){Qe(this,_o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qy(this.gcTime)&&Ie(this,_o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Do?1/0:5*60*1e3))}clearGcTimeout(){Y(this,_o)&&(clearTimeout(Y(this,_o)),Ie(this,_o,void 0))}},_o=new WeakMap,ME),$l,Gl,Jr,wo,Kn,rd,Eo,us,xi,jE,Vk=(jE=class extends Q2{constructor(e){super();Qe(this,us);Qe(this,$l);Qe(this,Gl);Qe(this,Jr);Qe(this,wo);Qe(this,Kn);Qe(this,rd);Qe(this,Eo);Ie(this,Eo,!1),Ie(this,rd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,wo,e.client),Ie(this,Jr,Y(this,wo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,$l,zk(this.options)),this.state=e.state??Y(this,$l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,rd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Jr).remove(this)}setData(e,t){const r=Xy(this.state.data,e,this.options);return mt(this,us,xi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){mt(this,us,xi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Kn))==null?void 0:r.promise;return(a=Y(this,Kn))==null||a.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,$l))}isActive(){return this.observers.some(e=>hs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!B2(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Jr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Kn)&&(Y(this,Eo)?Y(this,Kn).cancel({revert:!0}):Y(this,Kn).cancelRetry()),this.scheduleGc()),Y(this,Jr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,us,xi).call(this,{type:"invalidate"})}fetch(e,t){var h,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Kn))return Y(this,Kn).continueRetry(),Y(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Ie(this,Eo,!0),r.signal)})},o=()=>{const b=q2(this.options,t),_={client:Y(this,wo),queryKey:this.queryKey,meta:this.meta};return a(_),Ie(this,Eo,!1),this.options.persister?this.options.persister(b,_,this):b(_)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,wo),state:this.state,fetchFn:o};a(u),(h=this.options.behavior)==null||h.onFetch(u,this),Ie(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&mt(this,us,xi).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const d=b=>{var _,T,A,P;ny(b)&&b.silent||mt(this,us,xi).call(this,{type:"error",error:b}),ny(b)||((T=(_=Y(this,Jr).config).onError)==null||T.call(_,b,this),(P=(A=Y(this,Jr).config).onSettled)==null||P.call(A,this.state.data,b,this)),this.scheduleGc()};return Ie(this,Kn,G2({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var _,T,A,P;if(b===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(R){d(R);return}(T=(_=Y(this,Jr).config).onSuccess)==null||T.call(_,b,this),(P=(A=Y(this,Jr).config).onSettled)==null||P.call(A,b,this.state.error,this),this.scheduleGc()},onError:d,onFail:(b,_)=>{mt(this,us,xi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{mt(this,us,xi).call(this,{type:"pause"})},onContinue:()=>{mt(this,us,xi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,Kn).start()}},$l=new WeakMap,Gl=new WeakMap,Jr=new WeakMap,wo=new WeakMap,Kn=new WeakMap,rd=new WeakMap,Eo=new WeakMap,us=new WeakSet,xi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...K2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return ny(a)&&a.revert&&Y(this,Gl)?{...Y(this,Gl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Jr).notify({query:this,type:"updated",action:e})})},jE);function K2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H2(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function zk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Us,DE,Uk=(DE=class extends Ed{constructor(e={}){super();Qe(this,Us);this.config=e,Ie(this,Us,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Sv(a,t);let u=this.get(o);return u||(u=new Vk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){Y(this,Us).has(e.queryHash)||(Y(this,Us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Us).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Us).get(e)}getAll(){return[...Y(this,Us).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>sE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>sE(e,r)):t}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Us=new WeakMap,DE),Bs,or,To,Fs,sa,PE,Bk=(PE=class extends Q2{constructor(e){super();Qe(this,Fs);Qe(this,Bs);Qe(this,or);Qe(this,To);this.mutationId=e.mutationId,Ie(this,or,e.mutationCache),Ie(this,Bs,[]),this.state=e.state||Fk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Bs).includes(e)||(Y(this,Bs).push(e),this.clearGcTimeout(),Y(this,or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Bs,Y(this,Bs).filter(t=>t!==e)),this.scheduleGc(),Y(this,or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,or).remove(this))}continue(){var e;return((e=Y(this,To))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,d,h,p,y,b,_,T,A,P,R,N,E,w,M,L,k,z,O;const t=()=>{mt(this,Fs,sa).call(this,{type:"continue"})};Ie(this,To,G2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,V)=>{mt(this,Fs,sa).call(this,{type:"failed",failureCount:I,error:V})},onPause:()=>{mt(this,Fs,sa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,or).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,To).canStart();try{if(r)t();else{mt(this,Fs,sa).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=Y(this,or).config).onMutate)==null?void 0:u.call(o,e,this));const V=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));V!==this.state.context&&mt(this,Fs,sa).call(this,{type:"pending",context:V,variables:e,isPaused:a})}const I=await Y(this,To).start();return await((y=(p=Y(this,or).config).onSuccess)==null?void 0:y.call(p,I,e,this.state.context,this)),await((_=(b=this.options).onSuccess)==null?void 0:_.call(b,I,e,this.state.context)),await((A=(T=Y(this,or).config).onSettled)==null?void 0:A.call(T,I,null,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,I,null,e,this.state.context)),mt(this,Fs,sa).call(this,{type:"success",data:I}),I}catch(I){try{throw await((E=(N=Y(this,or).config).onError)==null?void 0:E.call(N,I,e,this.state.context,this)),await((M=(w=this.options).onError)==null?void 0:M.call(w,I,e,this.state.context)),await((k=(L=Y(this,or).config).onSettled)==null?void 0:k.call(L,void 0,I,this.state.variables,this.state.context,this)),await((O=(z=this.options).onSettled)==null?void 0:O.call(z,void 0,I,e,this.state.context)),I}finally{mt(this,Fs,sa).call(this,{type:"error",error:I})}}finally{Y(this,or).runNext(this)}}},Bs=new WeakMap,or=new WeakMap,To=new WeakMap,Fs=new WeakSet,sa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Un.batch(()=>{Y(this,Bs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,or).notify({mutation:this,type:"updated",action:e})})},PE);function Fk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,ds,sd,kE,qk=(kE=class extends Ed{constructor(e={}){super();Qe(this,wi);Qe(this,ds);Qe(this,sd);this.config=e,Ie(this,wi,new Set),Ie(this,ds,new Map),Ie(this,sd,0)}build(e,t,r){const a=new Bk({mutationCache:this,mutationId:++Uh(this,sd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,wi).add(e);const t=Xh(e);if(typeof t=="string"){const r=Y(this,ds).get(t);r?r.push(e):Y(this,ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,wi).delete(e)){const t=Xh(e);if(typeof t=="string"){const r=Y(this,ds).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xh(e);if(typeof t=="string"){const r=Y(this,ds).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Xh(e);if(typeof t=="string"){const a=(r=Y(this,ds).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{Y(this,wi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,wi).clear(),Y(this,ds).clear()})}getAll(){return Array.from(Y(this,wi))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>iE(t,r))}findAll(e={}){return this.getAll().filter(t=>iE(e,t))}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Un.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},wi=new WeakMap,ds=new WeakMap,sd=new WeakMap,kE);function Xh(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Xf(n){return{onFetch:(e,t)=>{var y,b,_,T,A;const r=e.options,a=(_=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:_.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],u=((A=e.state.data)==null?void 0:A.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let P=!1;const R=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},N=q2(e.options,e.fetchOptions),E=async(w,M,L)=>{if(P)return Promise.reject();if(M==null&&w.pages.length)return Promise.resolve(w);const k={client:e.client,queryKey:e.queryKey,pageParam:M,direction:L?"backward":"forward",meta:e.options.meta};R(k);const z=await N(k),{maxPages:O}=e.options,I=L?Ok:Ik;return{pages:I(w.pages,z,O),pageParams:I(w.pageParams,M,O)}};if(a&&o.length){const w=a==="backward",M=w?Y2:Zy,L={pages:o,pageParams:u},k=M(r,L);d=await E(L,k,w)}else{const w=n??o.length;do{const M=h===0?u[0]??r.initialPageParam:Zy(r,d);if(h>0&&M==null)break;d=await E(d,M),h++}while(h<w)}return d};e.options.persister?e.fetchFn=()=>{var P,R;return(R=(P=e.options).persister)==null?void 0:R.call(P,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function Zy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Y2(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function Hk(n,e){return e?Zy(n,e)!=null:!1}function $k(n,e){return!e||!n.getPreviousPageParam?!1:Y2(n,e)!=null}var Jt,ha,fa,Ql,Kl,ma,Yl,Xl,LE,Gk=(LE=class{constructor(n={}){Qe(this,Jt);Qe(this,ha);Qe(this,fa);Qe(this,Ql);Qe(this,Kl);Qe(this,ma);Qe(this,Yl);Qe(this,Xl);Ie(this,Jt,n.queryCache||new Uk),Ie(this,ha,n.mutationCache||new qk),Ie(this,fa,n.defaultOptions||{}),Ie(this,Ql,new Map),Ie(this,Kl,new Map),Ie(this,ma,0)}mount(){Uh(this,ma)._++,Y(this,ma)===1&&(Ie(this,Yl,Cv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onFocus())})),Ie(this,Xl,Yf.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onOnline())})))}unmount(){var n,e;Uh(this,ma)._--,Y(this,ma)===0&&((n=Y(this,Yl))==null||n.call(this),Ie(this,Yl,void 0),(e=Y(this,Xl))==null||e.call(this),Ie(this,Xl,void 0))}isFetching(n){return Y(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,ha).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ul(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Jt).get(r.queryHash),o=a==null?void 0:a.state.data,u=Nk(e,o);if(u!==void 0)return Y(this,Jt).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Un.batch(()=>Y(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Jt);Un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Jt);return Un.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Un.batch(()=>Y(this,Jt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return Un.batch(()=>(Y(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>Y(this,Jt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Jt).build(this,e);return t.isStaleByTime(Ul(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=Xf(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=Xf(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Yf.isOnline()?Y(this,ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Jt)}getMutationCache(){return Y(this,ha)}getDefaultOptions(){return Y(this,fa)}setDefaultOptions(n){Ie(this,fa,n)}setQueryDefaults(n,e){Y(this,Ql).set(ed(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Ql).values()],t={};return e.forEach(r=>{td(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Kl).set(ed(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Kl).values()],t={};return e.forEach(r=>{td(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,fa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,fa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Jt).clear(),Y(this,ha).clear()}},Jt=new WeakMap,ha=new WeakMap,fa=new WeakMap,Ql=new WeakMap,Kl=new WeakMap,ma=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,LE),gr,pt,id,lr,So,Wl,pa,ga,ad,Zl,Jl,Ao,Co,ya,ec,Ct,ju,Jy,e0,t0,n0,r0,s0,i0,W2,VE,X2=(VE=class extends Ed{constructor(e,t){super();Qe(this,Ct);Qe(this,gr);Qe(this,pt);Qe(this,id);Qe(this,lr);Qe(this,So);Qe(this,Wl);Qe(this,pa);Qe(this,ga);Qe(this,ad);Qe(this,Zl);Qe(this,Jl);Qe(this,Ao);Qe(this,Co);Qe(this,ya);Qe(this,ec,new Set);this.options=t,Ie(this,gr,e),Ie(this,ga,null),Ie(this,pa,Wy()),this.options.experimental_prefetchInRender||Y(this,pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,pt).addObserver(this),lE(Y(this,pt),this.options)?mt(this,Ct,ju).call(this):this.updateResult(),mt(this,Ct,n0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return a0(Y(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return a0(Y(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Ct,r0).call(this),mt(this,Ct,s0).call(this),Y(this,pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,pt);if(this.options=Y(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,Y(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Ct,i0).call(this),Y(this,pt).setOptions(this.options),t._defaulted&&!Ky(this.options,t)&&Y(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,pt),observer:this});const a=this.hasListeners();a&&cE(Y(this,pt),r,this.options,t)&&mt(this,Ct,ju).call(this),this.updateResult(),a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||Ul(this.options.staleTime,Y(this,pt))!==Ul(t.staleTime,Y(this,pt)))&&mt(this,Ct,Jy).call(this);const o=mt(this,Ct,e0).call(this);a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||o!==Y(this,ya))&&mt(this,Ct,t0).call(this,o)}getOptimisticResult(e){const t=Y(this,gr).getQueryCache().build(Y(this,gr),e),r=this.createResult(t,e);return Kk(this,r)&&(Ie(this,lr,r),Ie(this,Wl,this.options),Ie(this,So,Y(this,pt).state)),r}getCurrentResult(){return Y(this,lr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,ec).add(e)}getCurrentQuery(){return Y(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,gr).defaultQueryOptions(e),r=Y(this,gr).getQueryCache().build(Y(this,gr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return mt(this,Ct,ju).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,lr)))}createResult(e,t){var I;const r=Y(this,pt),a=this.options,o=Y(this,lr),u=Y(this,So),d=Y(this,Wl),p=e!==r?e.state:Y(this,id),{state:y}=e;let b={...y},_=!1,T;if(t._optimisticResults){const V=this.hasListeners(),F=!V&&lE(e,t),U=V&&cE(e,r,t,a);(F||U)&&(b={...b,...K2(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:A,errorUpdatedAt:P,status:R}=b;T=b.data;let N=!1;if(t.placeholderData!==void 0&&T===void 0&&R==="pending"){let V;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(V=o.data,N=!0):V=typeof t.placeholderData=="function"?t.placeholderData((I=Y(this,Jl))==null?void 0:I.state.data,Y(this,Jl)):t.placeholderData,V!==void 0&&(R="success",T=Xy(o==null?void 0:o.data,V,t),_=!0)}if(t.select&&T!==void 0&&!N)if(o&&T===(u==null?void 0:u.data)&&t.select===Y(this,ad))T=Y(this,Zl);else try{Ie(this,ad,t.select),T=t.select(T),T=Xy(o==null?void 0:o.data,T,t),Ie(this,Zl,T),Ie(this,ga,null)}catch(V){Ie(this,ga,V)}Y(this,ga)&&(A=Y(this,ga),T=Y(this,Zl),P=Date.now(),R="error");const E=b.fetchStatus==="fetching",w=R==="pending",M=R==="error",L=w&&E,k=T!==void 0,O={status:R,fetchStatus:b.fetchStatus,isPending:w,isSuccess:R==="success",isError:M,isInitialLoading:L,isLoading:L,data:T,dataUpdatedAt:b.dataUpdatedAt,error:A,errorUpdatedAt:P,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:M&&!k,isPaused:b.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:M&&k,isStale:Nv(e,t),refetch:this.refetch,promise:Y(this,pa)};if(this.options.experimental_prefetchInRender){const V=j=>{O.status==="error"?j.reject(O.error):O.data!==void 0&&j.resolve(O.data)},F=()=>{const j=Ie(this,pa,O.promise=Wy());V(j)},U=Y(this,pa);switch(U.status){case"pending":e.queryHash===r.queryHash&&V(U);break;case"fulfilled":(O.status==="error"||O.data!==U.value)&&F();break;case"rejected":(O.status!=="error"||O.error!==U.reason)&&F();break}}return O}updateResult(){const e=Y(this,lr),t=this.createResult(Y(this,pt),this.options);if(Ie(this,So,Y(this,pt).state),Ie(this,Wl,this.options),Y(this,So).data!==void 0&&Ie(this,Jl,Y(this,pt)),Ky(t,e))return;Ie(this,lr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,ec).size)return!0;const u=new Set(o??Y(this,ec));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,lr)).some(d=>{const h=d;return Y(this,lr)[h]!==e[h]&&u.has(h)})};mt(this,Ct,W2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Ct,n0).call(this)}},gr=new WeakMap,pt=new WeakMap,id=new WeakMap,lr=new WeakMap,So=new WeakMap,Wl=new WeakMap,pa=new WeakMap,ga=new WeakMap,ad=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,Ao=new WeakMap,Co=new WeakMap,ya=new WeakMap,ec=new WeakMap,Ct=new WeakSet,ju=function(e){mt(this,Ct,i0).call(this);let t=Y(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},Jy=function(){mt(this,Ct,r0).call(this);const e=Ul(this.options.staleTime,Y(this,pt));if(Do||Y(this,lr).isStale||!Qy(e))return;const r=B2(Y(this,lr).dataUpdatedAt,e)+1;Ie(this,Ao,setTimeout(()=>{Y(this,lr).isStale||this.updateResult()},r))},e0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,pt)):this.options.refetchInterval)??!1},t0=function(e){mt(this,Ct,s0).call(this),Ie(this,ya,e),!(Do||hs(this.options.enabled,Y(this,pt))===!1||!Qy(Y(this,ya))||Y(this,ya)===0)&&Ie(this,Co,setInterval(()=>{(this.options.refetchIntervalInBackground||Cv.isFocused())&&mt(this,Ct,ju).call(this)},Y(this,ya)))},n0=function(){mt(this,Ct,Jy).call(this),mt(this,Ct,t0).call(this,mt(this,Ct,e0).call(this))},r0=function(){Y(this,Ao)&&(clearTimeout(Y(this,Ao)),Ie(this,Ao,void 0))},s0=function(){Y(this,Co)&&(clearInterval(Y(this,Co)),Ie(this,Co,void 0))},i0=function(){const e=Y(this,gr).getQueryCache().build(Y(this,gr),this.options);if(e===Y(this,pt))return;const t=Y(this,pt);Ie(this,pt,e),Ie(this,id,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},W2=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,lr))}),Y(this,gr).getQueryCache().notify({query:Y(this,pt),type:"observerResultsUpdated"})})},VE);function Qk(n,e){return hs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function lE(n,e){return Qk(n,e)||n.state.data!==void 0&&a0(n,e,e.refetchOnMount)}function a0(n,e,t){if(hs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Nv(n,e)}return!1}function cE(n,e,t,r){return(n!==e||hs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Nv(n,t)}function Nv(n,e){return hs(e.enabled,n)!==!1&&n.isStaleByTime(Ul(e.staleTime,n))}function Kk(n,e){return!Ky(n.getCurrentResult(),e)}var Yk=class extends X2{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Xf()})}getOptimisticResult(n){return n.behavior=Xf(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var A,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:d}=r,h=(P=(A=t.fetchMeta)==null?void 0:A.fetchMore)==null?void 0:P.direction,p=u&&h==="forward",y=a&&h==="forward",b=u&&h==="backward",_=a&&h==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Hk(e,t.data),hasPreviousPage:$k(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:b,isFetchingPreviousPage:_,isRefetchError:d&&!p&&!b,isRefetching:o&&!y&&!_}}},Z2=q.createContext(void 0),Xk=n=>{const e=q.useContext(Z2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Wk=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(Z2.Provider,{value:n,children:e})),J2=q.createContext(!1),Zk=()=>q.useContext(J2);J2.Provider;function Jk(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var eL=q.createContext(Jk()),tL=()=>q.useContext(eL),nL=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},rL=n=>{q.useEffect(()=>{n.clearReset()},[n])},sL=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||Mk(t,[n.error,r])),iL=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},aL=(n,e)=>n.isLoading&&n.isFetching&&!e,oL=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,uE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function eA(n,e,t){var b,_,T,A,P;const r=Xk(),a=Zk(),o=tL(),u=r.defaultQueryOptions(n);(_=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u),u._optimisticResults=a?"isRestoring":"optimistic",iL(u),nL(u,o),rL(o);const d=!r.getQueryCache().get(u.queryHash),[h]=q.useState(()=>new e(r,u)),p=h.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(R=>{const N=y?h.subscribe(Un.batchCalls(R)):vr;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),q.useEffect(()=>{h.setOptions(u)},[u,h]),oL(u,p))throw uE(u,h,o);if(sL({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((A=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||A.call(T,u,p),u.experimental_prefetchInRender&&!Do&&aL(p,a)){const R=d?uE(u,h,o):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;R==null||R.catch(vr).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?p:h.trackResult(p)}function lL(n,e){return eA(n,X2)}function tA(n,e){return eA(n,Yk)}const cL="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",nA=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=q.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)};return m.jsx("footer",{className:"bg-gray-100 mt-20 text-gray-700 play-regular w-full border-t border-gray-200",children:m.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 mb-10 border-b border-gray-200 pb-8",children:[m.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:m.jsx(Mt,{to:"/",className:"flex justify-center",children:m.jsx("img",{src:cL,alt:"Brand Logo",className:""})})}),m.jsx("div",{className:"text-sm md:text-base",children:m.jsxs("p",{children:[a,!t&&e.split(`
`).length>4&&m.jsx("button",{onClick:o,className:"text-blue-500 hover:underline focus:outline-none",children:"Read More"}),t&&e.split(`
`).length>4&&m.jsx("button",{onClick:o,className:"text-blue-500 hover:underline focus:outline-none",children:"Read Less"})]})})]}),m.jsxs("div",{className:"max-w-7xl mx-auto pt-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About Us"}),m.jsx("p",{className:"text-sm leading-relaxed mb-4",children:"We are dedicated to providing the best products and services to our customers with quality and care."}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors",children:m.jsx(ek,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-500 hover:text-pink-500 transition-colors",children:m.jsx(sk,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-500 hover:text-sky-500 transition-colors",children:m.jsx(Ek,{size:20})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),m.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((u,d)=>m.jsx("li",{children:m.jsx(Mt,{to:u.path,className:"hover:text-blue-600 transition-colors",children:u.name})},d))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(uk,{size:18,className:"mt-0.5 flex-shrink-0"}),m.jsx("span",{children:"123 Street Name, City, Country"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(lk,{size:18}),m.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(U2,{size:18}),m.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ey,{size:18}),m.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ey,{size:18}),m.jsx("span",{children:"Saturday: 10am - 6pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ey,{size:18}),m.jsx("span",{children:"Sunday: Closed"})]})]})]})]}),m.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200",children:m.jsxs("div",{className:"text-center max-w-md mx-auto",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-4",children:"Subscribe to Our Newsletter"}),m.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[m.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full sm:w-auto flex-grow px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm"}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Subscribe"})]})]})}),m.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center text-xs text-gray-500",children:m.jsxs("p",{children:["© ",n," Mahira Collection. All rights reserved."]})})]})]})})},uL=new Gk;function dL(){return m.jsx(m.Fragment,{children:m.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto  bg-gray-100 shadow-xl mb-16 md:mb-0",children:m.jsxs(Wk,{client:uL,children:[m.jsx(F3,{}),m.jsx(Ck,{}),m.jsx(Ak,{}),m.jsx(OR,{}),m.jsx(nA,{})]})})})}const rA=()=>{const[t,r]=uI(),a=Number(t.get("page"))||1,[o,u]=q.useState(!1),d=q.useRef(null),h=R=>(typeof R!="number"&&(R=parseFloat(R)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(R)),{data:p=[],isLoading:y}=lL({queryKey:["allProducts"],queryFn:async()=>{const R=await Ba(ns(bn,"products")),N=[];R.forEach(w=>{const M=w.data();M.available&&M.stock>0&&N.push({id:w.id,...M})});const E=[...N];for(let w=E.length-1;w>0;w--){const M=Math.floor(Math.random()*(w+1));[E[w],E[M]]=[E[M],E[w]]}return E},staleTime:1/0,cacheTime:24*60*60*1e3}),b=p.slice(0,3+(a-1)*2),_=R=>{var w;const N=JSON.parse(localStorage.getItem("cart"))||[],E=N.find(M=>M.id===R.id);E?E.quantity+=1:N.push({id:R.id,name:R.name,price:R.discount?Math.round(R.price-R.price*(R.discount/100)):Math.round(R.price),image:R.mainImage||((w=R.images)==null?void 0:w[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(N)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},T=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:_(R)},A=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:(_(R),window.location.href="/cart")},P=async()=>{const R=window.scrollY||document.documentElement.scrollTop;u(!0),await new Promise(N=>setTimeout(N,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,R),u(!1)},0)};return y?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):m.jsxs("div",{className:"md:px-4 min-h-screen",ref:d,children:[m.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),b.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:b.map(R=>{var I;const N=R.discount&&R.discount>0,E=R.colorVariants&&R.colorVariants.length>0,M=window.innerWidth<768?17:25,L=R.name.length>M,k=L?`${R.name.substring(0,M)}...`:R.name,z=N?Math.round(R.price-R.price*(R.discount/100)):null,O=N?z:Math.round(R.price);return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(Mt,{to:`/product/${R.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:R.mainImage||((I=R.images)==null?void 0:I[0])||"/placeholder-product.jpg",alt:R.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),N&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[R.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[k,L&&m.jsx(Mt,{to:`/product/${R.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(O)]}),N&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",h(Math.round(R.price))]})})]}),R.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",R.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>T(R),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:E?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>A(R),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${R.stock>0?"text-green-600":"text-red-500"}`,children:R.stock>0?"In Stock":"Out of Stock"}),R.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[R.stock," units"]})]})]})]},R.id)})}),p.length>b.length&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:P,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function dE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Rv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:dE(e[r])&&dE(n[r])&&Object.keys(e[r]).length>0&&Rv(n[r],e[r])})}const sA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gs(){const n=typeof document<"u"?document:{};return Rv(n,sA),n}const hL={document:sA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function cr(){const n=typeof window<"u"?window:{};return Rv(n,hL),n}function fL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function mL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function o0(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function No(){return Date.now()}function pL(n){const e=cr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function gL(n,e){e===void 0&&(e="x");const t=cr();let r,a,o;const u=pL(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Du(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function yL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Pr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!yL(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const d=a[o],h=Object.getOwnPropertyDescriptor(r,d);h!==void 0&&h.enumerable&&(Du(n[d])&&Du(r[d])?r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d]):!Du(n[d])&&Du(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d])):n[d]=r[d])}}}return n}function Wh(n,e,t){n.style.setProperty(e,t)}function iA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=cr(),o=-e.translate;let u=null,d;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(_,T)=>p==="next"&&_>=T||p==="prev"&&_<=T,b=()=>{d=new Date().getTime(),u===null&&(u=d);const _=Math.max(Math.min((d-u)/h,1),0),T=.5-Math.cos(_*Math.PI)/2;let A=o+T*(t-o);if(y(A,t)&&(A=t),e.wrapperEl.scrollTo({[r]:A}),y(A,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:A})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(b)};b()}function ps(n,e){e===void 0&&(e="");const t=cr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function vL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function bL(n,e){const t=cr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=vL(n,e))),r}function Wf(n){try{console.warn(n);return}catch{}}function Zf(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:fL(e)),t}function xL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function _L(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function xa(n,e){return cr().getComputedStyle(n,null).getPropertyValue(e)}function Jf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function aA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function ry(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function l0(n,e,t){const r=cr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Rn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let sy;function wL(){const n=cr(),e=gs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function oA(){return sy||(sy=wL()),sy}let iy;function EL(n){let{userAgent:e}=n===void 0?{}:n;const t=oA(),r=cr(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,h=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=a==="Win32";let A=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&A&&t.touch&&P.indexOf(`${d}x${h}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),A=!1),p&&!T&&(u.os="android",u.android=!0),(y||_||b)&&(u.os="ios",u.ios=!0),u}function lA(n){return n===void 0&&(n={}),iy||(iy=EL(n)),iy}let ay;function TL(){const n=cr(),e=lA();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function cA(){return ay||(ay=TL()),ay}function SL(n){let{swiper:e,on:t,emit:r}=n;const a=cr();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=a.requestAnimationFrame(()=>{const{width:_,height:T}=e;let A=_,P=T;b.forEach(R=>{let{contentBoxSize:N,contentRect:E,target:w}=R;w&&w!==e.el||(A=E?E.width:(N[0]||N).inlineSize,P=E?E.height:(N[0]||N).blockSize)}),(A!==_||P!==T)&&d()})}),o.observe(e.el))},p=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){h();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",y)})}function AL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=cr(),d=function(y,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,T=new _(A=>{if(e.__preventObserver__)return;if(A.length===1){a("observerUpdate",A[0]);return}const P=function(){a("observerUpdate",A[0])};u.requestAnimationFrame?u.requestAnimationFrame(P):u.setTimeout(P,0)});T.observe(y,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(T)},h=()=>{if(e.params.observer){if(e.params.observeParents){const y=aA(e.hostEl);for(let b=0;b<y.length;b+=1)d(y[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",h),r("destroy",p)}var CL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(p=>{p.apply(r,t)})}),n}};function NL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(xa(r,"padding-left")||0,10)-parseInt(xa(r,"padding-right")||0,10),t=t-parseInt(xa(r,"padding-top")||0,10)-parseInt(xa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function RL(){const n=this;function e(V,F){return parseFloat(V.getPropertyValue(n.getDirectionLabel(F))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:d}=n,h=n.virtual&&t.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,y=ps(a,`.${n.params.slideClass}, swiper-slide`),b=h?n.virtual.slides.length:y.length;let _=[];const T=[],A=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let R=t.slidesOffsetAfter;typeof R=="function"&&(R=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,E=n.slidesGrid.length;let w=t.spaceBetween,M=-P,L=0,k=0;if(typeof o>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*o:typeof w=="string"&&(w=parseFloat(w)),n.virtualSize=-w,y.forEach(V=>{u?V.style.marginLeft="":V.style.marginRight="",V.style.marginBottom="",V.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Wh(r,"--swiper-centered-offset-before",""),Wh(r,"--swiper-centered-offset-after",""));const z=t.grid&&t.grid.rows>1&&n.grid;z?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let O;const I=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(V=>typeof t.breakpoints[V].slidesPerView<"u").length>0;for(let V=0;V<b;V+=1){O=0;let F;if(y[V]&&(F=y[V]),z&&n.grid.updateSlide(V,F,y),!(y[V]&&xa(F,"display")==="none")){if(t.slidesPerView==="auto"){I&&(y[V].style[n.getDirectionLabel("width")]="");const U=getComputedStyle(F),j=F.style.transform,ce=F.style.webkitTransform;if(j&&(F.style.transform="none"),ce&&(F.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?l0(F,"width"):l0(F,"height");else{const pe=e(U,"width"),G=e(U,"padding-left"),ie=e(U,"padding-right"),oe=e(U,"margin-left"),be=e(U,"margin-right"),H=U.getPropertyValue("box-sizing");if(H&&H==="border-box")O=pe+oe+be;else{const{clientWidth:ae,offsetWidth:ve}=F;O=pe+G+ie+oe+be+(ve-ae)}}j&&(F.style.transform=j),ce&&(F.style.webkitTransform=ce),t.roundLengths&&(O=Math.floor(O))}else O=(o-(t.slidesPerView-1)*w)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),y[V]&&(y[V].style[n.getDirectionLabel("width")]=`${O}px`);y[V]&&(y[V].swiperSlideSize=O),A.push(O),t.centeredSlides?(M=M+O/2+L/2+w,L===0&&V!==0&&(M=M-o/2-w),V===0&&(M=M-o/2-w),Math.abs(M)<1/1e3&&(M=0),t.roundLengths&&(M=Math.floor(M)),k%t.slidesPerGroup===0&&_.push(M),T.push(M)):(t.roundLengths&&(M=Math.floor(M)),(k-Math.min(n.params.slidesPerGroupSkip,k))%n.params.slidesPerGroup===0&&_.push(M),T.push(M),M=M+O+w),n.virtualSize+=O+w,L=O,k+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+R,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+w}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+w}px`),z&&n.grid.updateWrapperSize(O,_),!t.centeredSlides){const V=[];for(let F=0;F<_.length;F+=1){let U=_[F];t.roundLengths&&(U=Math.floor(U)),_[F]<=n.virtualSize-o&&V.push(U)}_=V,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(h&&t.loop){const V=A[0]+w;if(t.slidesPerGroup>1){const F=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),U=V*t.slidesPerGroup;for(let j=0;j<F;j+=1)_.push(_[_.length-1]+U)}for(let F=0;F<n.virtual.slidesBefore+n.virtual.slidesAfter;F+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+V),T.push(T[T.length-1]+V),n.virtualSize+=V}if(_.length===0&&(_=[0]),w!==0){const V=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((F,U)=>!t.cssMode||t.loop?!0:U!==y.length-1).forEach(F=>{F.style[V]=`${w}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let V=0;A.forEach(U=>{V+=U+(w||0)}),V-=w;const F=V>o?V-o:0;_=_.map(U=>U<=0?-P:U>F?F+R:U)}if(t.centerInsufficientSlides){let V=0;A.forEach(U=>{V+=U+(w||0)}),V-=w;const F=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(V+F<o){const U=(o-V-F)/2;_.forEach((j,ce)=>{_[ce]=j-U}),T.forEach((j,ce)=>{T[ce]=j+U})}}if(Object.assign(n,{slides:y,snapGrid:_,slidesGrid:T,slidesSizesGrid:A}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Wh(r,"--swiper-centered-offset-before",`${-_[0]}px`),Wh(r,"--swiper-centered-offset-after",`${n.size/2-A[A.length-1]/2}px`);const V=-n.snapGrid[0],F=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(U=>U+V),n.slidesGrid=n.slidesGrid.map(U=>U+F)}if(b!==p&&n.emit("slidesLengthChange"),_.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const V=`${t.containerModifierClass}backface-hidden`,F=n.el.classList.contains(V);b<=t.maxBackfaceHiddenSlides?F||n.el.classList.add(V):F&&n.el.classList.remove(V)}}function IL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function OL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const hE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function ML(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const p=r[h];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),T=-(u-y),A=T+e.slidesSizesGrid[h],P=T>=0&&T<=e.size-e.slidesSizesGrid[h],R=T>=0&&T<e.size-1||A>1&&A<=e.size||T<=0&&A>=e.size;R&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),hE(p,R,t.slideVisibleClass),hE(p,P,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-_:_}}function jL(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:d}=e;const h=o,p=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=b||a>=1,y&&(a=0),b&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[y],T=e.slidesGrid[b],A=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=_?d=(P-_)/A:d=(P+A-T)/A,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const oy=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function DL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=b=>ps(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let h,p,y;if(o)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),h=d(`[data-swiper-slide-index="${b}"]`)}else h=d(`[data-swiper-slide-index="${a}"]`);else u?(h=e.find(b=>b.column===a),y=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):h=e[a];h&&(u||(y=_L(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=xL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{oy(b,b===h,t.slideActiveClass),oy(b,b===y,t.slideNextClass),oy(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const vf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},ly=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},c0=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,d=[u-e];d.push(...Array.from({length:e}).map((h,p)=>u+r+p)),n.slides.forEach((h,p)=>{d.includes(h.column)&&ly(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const d=(u%t+t)%t;(d<a||d>o)&&ly(n,d)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&ly(n,u)};function PL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function kL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:d}=e;let h=n,p;const y=T=>{let A=T-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof h>"u"&&(h=PL(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const T=Math.min(a.slidesPerGroupSkip,h);p=T+Math.floor((h-T)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(h);return}const b=e.grid&&a.grid&&a.grid.rows>1;let _;if(e.virtual&&a.virtual.enabled&&a.loop)_=y(h);else if(b){const T=e.slides.find(P=>P.column===h);let A=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(T),0)),_=Math.floor(A/a.grid.rows)}else if(e.slides[h]){const T=e.slides[h].getAttribute("data-swiper-slide-index");T?_=parseInt(T,10):_=h}else _=h;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:h}),e.initialized&&c0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function LL(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,u;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,u=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var VL={updateSize:NL,updateSlides:RL,updateAutoHeight:IL,updateSlidesOffset:OL,updateSlidesProgress:ML,updateProgress:jL,updateSlidesClasses:DL,updateActiveIndex:kL,updateClickedSlide:LL};function zL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=gL(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function UL(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let d=0,h=0;const p=0;t.isHorizontal()?d=r?-n:n:h=n,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-h:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let y;const b=t.maxTranslate()-t.minTranslate();b===0?y=0:y=(n-t.minTranslate())/b,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function BL(){return-this.snapGrid[0]}function FL(){return-this.snapGrid[this.snapGrid.length-1]}function qL(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>h?y=h:r&&n<p?y=p:y=n,o.updateProgress(y),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return iA({swiper:o,targetPosition:-y,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var HL={getTranslate:zL,setTranslate:UL,minTranslate:BL,maxTranslate:FL,translateTo:qL};function $L(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function uA(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let d=r;if(d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==u){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function GL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),uA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function QL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),uA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var KL={setTransition:$L,transitionStart:GL,transitionEnd:QL};function YL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:y,activeIndex:b,rtlTranslate:_,wrapperEl:T,enabled:A}=o;if(!A&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,u);let R=P+Math.floor((u-P)/o.params.slidesPerGroup);R>=h.length&&(R=h.length-1);const N=-h[R];if(d.normalizeSlideIndex)for(let z=0;z<p.length;z+=1){const O=-Math.floor(N*100),I=Math.floor(p[z]*100),V=Math.floor(p[z+1]*100);typeof p[z+1]<"u"?O>=I&&O<V-(V-I)/2?u=z:O>=I&&O<V&&(u=z+1):O>=I&&(u=z)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?N>o.translate&&N>o.minTranslate():N<o.translate&&N<o.minTranslate())||!o.allowSlidePrev&&N>o.translate&&N>o.maxTranslate()&&(b||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(N);let E;u>b?E="next":u<b?E="prev":E="reset";const w=o.virtual&&o.params.virtual.enabled;if(!(w&&a)&&(_&&-N===o.translate||!_&&N===o.translate))return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(N),E!=="reset"&&(o.transitionStart(t,E),o.transitionEnd(t,E)),!1;if(d.cssMode){const z=o.isHorizontal(),O=_?N:-N;if(e===0)w&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),w&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[z?"scrollLeft":"scrollTop"]=O})):T[z?"scrollLeft":"scrollTop"]=O,w&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return iA({swiper:o,targetPosition:O,side:z?"left":"top"}),!0;T.scrollTo({[z?"left":"top"]:O,behavior:"smooth"})}return!0}const k=cA().isSafari;return w&&!a&&k&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(N),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,E),e===0?o.transitionEnd(t,E):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,E))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function XL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let d;if(o){const _=u*a.params.grid.rows;d=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else d=a.getSlideIndexByData(u);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let b=h-d<y;if(p&&(b=b||d<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?d+1:d-h+1,slideRealIndex:_==="next"?a.realIndex:void 0})}if(o){const _=u*a.params.grid.rows;u=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function WL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function ZL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:d,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=d?r.translate:-r.translate;function _(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const T=_(b),A=o.map(E=>_(E)),P=a.freeMode&&a.freeMode.enabled;let R=o[A.indexOf(T)-1];if(typeof R>"u"&&(a.cssMode||P)){let E;o.forEach((w,M)=>{T>=w&&(E=M)}),typeof E<"u"&&(R=P?o[E]:o[E>0?E-1:E])}let N=0;if(typeof R<"u"&&(N=u.indexOf(R),N<0&&(N=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),a.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(N,n,e,t)}),!0;return r.slideTo(N,n,e,t)}function JL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function e5(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[d]){const p=a.snapGrid[d],y=a.snapGrid[d+1];h-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],y=a.snapGrid[d];h-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function t5(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),o0(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),o0(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var n5={slideTo:YL,slideToLoop:XL,slideNext:WL,slidePrev:ZL,slideReset:JL,slideToClosest:e5,slideToClickedSlide:t5};function r5(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ps(a,`.${r.slideClass}, swiper-slide`).forEach((_,T)=>{_.setAttribute("data-swiper-slide-index",T)})},u=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(u?r.grid.rows:1),h=t.slides.length%d!==0,p=u&&t.slides.length%r.grid.rows!==0,y=b=>{for(let _=0;_<b;_+=1){const T=t.isElement?Zf("swiper-slide",[r.slideBlankClass]):Zf("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(h){if(r.loopAddBlankSlides){const b=d-t.slides.length%d;y(b),t.recalcSlides(),t.updateSlides()}else Wf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;y(b),t.recalcSlides(),t.updateSlides()}else Wf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function s5(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:d,byMousewheel:h}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:b,allowSlideNext:_,slidesEl:T,params:A}=p,{centeredSlides:P,initialSlide:R}=A;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&A.virtual.enabled){t&&(!A.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A.centeredSlides&&p.snapIndex<A.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=b,p.allowSlideNext=_,p.emit("loopFix");return}let N=A.slidesPerView;N==="auto"?N=p.slidesPerViewDynamic():(N=Math.ceil(parseFloat(A.slidesPerView,10)),P&&N%2===0&&(N=N+1));const E=A.slidesPerGroupAuto?N:A.slidesPerGroup;let w=E;w%E!==0&&(w+=E-w%E),w+=A.loopAdditionalSlides,p.loopedSlides=w;const M=p.grid&&A.grid&&A.grid.rows>1;y.length<N+w||p.params.effect==="cards"&&y.length<N+w*2?Wf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):M&&A.grid.fill==="row"&&Wf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const L=[],k=[],z=M?Math.ceil(y.length/A.grid.rows):y.length,O=u&&z-R<N&&!P;let I=O?R:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find(G=>G.classList.contains(A.slideActiveClass))):I=o;const V=r==="next"||!r,F=r==="prev"||!r;let U=0,j=0;const pe=(M?y[o].column:o)+(P&&typeof a>"u"?-N/2+.5:0);if(pe<w){U=Math.max(w-pe,E);for(let G=0;G<w-pe;G+=1){const ie=G-Math.floor(G/z)*z;if(M){const oe=z-ie-1;for(let be=y.length-1;be>=0;be-=1)y[be].column===oe&&L.push(be)}else L.push(z-ie-1)}}else if(pe+N>z-w){j=Math.max(pe-(z-w*2),E),O&&(j=Math.max(j,N-z+R+1));for(let G=0;G<j;G+=1){const ie=G-Math.floor(G/z)*z;M?y.forEach((oe,be)=>{oe.column===ie&&k.push(be)}):k.push(ie)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<N+w*2&&(k.includes(o)&&k.splice(k.indexOf(o),1),L.includes(o)&&L.splice(L.indexOf(o),1)),F&&L.forEach(G=>{y[G].swiperLoopMoveDOM=!0,T.prepend(y[G]),y[G].swiperLoopMoveDOM=!1}),V&&k.forEach(G=>{y[G].swiperLoopMoveDOM=!0,T.append(y[G]),y[G].swiperLoopMoveDOM=!1}),p.recalcSlides(),A.slidesPerView==="auto"?p.updateSlides():M&&(L.length>0&&F||k.length>0&&V)&&p.slides.forEach((G,ie)=>{p.grid.updateSlide(ie,G,p.slides)}),A.watchSlidesProgress&&p.updateSlidesOffset(),t){if(L.length>0&&F){if(typeof e>"u"){const G=p.slidesGrid[I],oe=p.slidesGrid[I+U]-G;h?p.setTranslate(p.translate-oe):(p.slideTo(I+Math.ceil(U),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else if(a){const G=M?L.length/A.grid.rows:L.length;p.slideTo(p.activeIndex+G,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(k.length>0&&V)if(typeof e>"u"){const G=p.slidesGrid[I],oe=p.slidesGrid[I-j]-G;h?p.setTranslate(p.translate-oe):(p.slideTo(I-j,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else{const G=M?k.length/A.grid.rows:k.length;p.slideTo(p.activeIndex-G,0,!1,!0)}}if(p.allowSlidePrev=b,p.allowSlideNext=_,p.controller&&p.controller.control&&!d){const G={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix({...G,slideTo:ie.params.slidesPerView===A.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...G,slideTo:p.controller.control.params.slidesPerView===A.slidesPerView?t:!1})}p.emit("loopFix")}function i5(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var a5={loopCreate:r5,loopFix:s5,loopDestroy:i5};function o5(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function l5(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var c5={setGrabCursor:o5,unsetGrabCursor:l5};function u5(n,e){e===void 0&&(e=this);function t(r){if(!r||r===gs()||r===cr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function fE(n,e,t){const r=cr(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function d5(n){const e=this,t=gs();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){fE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!bL(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(h=y[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?u5(b,h):h.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const T=u.currentX,A=u.currentY;if(!fE(e,r,T))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=T,u.startY=A,a.touchStartTime=No(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;h.matches(a.focusableElements)&&(P=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const R=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||R)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function h5(n){const e=gs(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(L=>L.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const y=p.pageX,b=p.pageY;if(h.preventedByNestedSwiper){o.startX=y,o.startY=b;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b}),r.touchStartTime=No());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=b;const _=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let L;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+T*T>=25&&(L=Math.atan2(Math.abs(T),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?L>a.touchAngle:90-L>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let A=t.isHorizontal()?_:T,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(A=Math.abs(A)*(u?1:-1),P=Math.abs(P)*(u?1:-1)),o.diff=A,A*=a.touchRatio,u&&(A=-A,P=-P);const R=t.touchesDirection;t.swipeDirection=A>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const N=t.params.loop&&!a.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(N&&E&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(L)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&R!==t.touchesDirection&&N&&E&&Math.abs(A)>=1){Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=A+r.startTranslate;let w=!0,M=a.resistanceRatio;if(a.touchReleaseOnEdges&&(M=0),A>0?(N&&E&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+A)**M))):A<0&&(N&&E&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-A)**M))),w&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(A)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function f5(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(L=>L.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:h,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=No(),_=b-t.touchStartTime;if(e.allowClick){const L=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(L&&L[0]||r.target,L),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=No(),o0(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(u.followFinger?T=h?e.translate:-e.translate:T=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const A=T>=-e.maxTranslate()&&!e.params.loop;let P=0,R=e.slidesSizesGrid[0];for(let L=0;L<p.length;L+=L<u.slidesPerGroupSkip?1:u.slidesPerGroup){const k=L<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[L+k]<"u"?(A||T>=p[L]&&T<p[L+k])&&(P=L,R=p[L+k]-p[L]):(A||T>=p[L])&&(P=L,R=p[p.length-1]-p[p.length-2])}let N=null,E=null;u.rewind&&(e.isBeginning?E=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(N=0));const w=(T-p[P])/R,M=P<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?N:P+M):e.slideTo(P)),e.swipeDirection==="prev"&&(w>1-u.longSwipesRatio?e.slideTo(P+M):E!==null&&w<0&&Math.abs(w)>u.longSwipesRatio?e.slideTo(E):e.slideTo(P))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+M):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(N!==null?N:P+M),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:P))}}function mE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function m5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function p5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function g5(n){const e=this;vf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function y5(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const dA=(n,e)=>{const t=gs(),{params:r,el:a,wrapperEl:o,device:u}=n,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",mE,!0):n[p]("observerUpdate",mE,!0),a[h]("load",n.onLoad,{capture:!0}))};function v5(){const n=this,{params:e}=n;n.onTouchStart=d5.bind(n),n.onTouchMove=h5.bind(n),n.onTouchEnd=f5.bind(n),n.onDocumentTouchStart=y5.bind(n),e.cssMode&&(n.onScroll=p5.bind(n)),n.onClick=m5.bind(n),n.onLoad=g5.bind(n),dA(n,"on")}function b5(){dA(this,"off")}var x5={attachEvents:v5,detachEvents:b5};const pE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function _5(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=gs(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,h);if(!p||n.currentBreakpoint===p)return;const b=(p in o?o[p]:void 0)||n.originalParams,_=pE(n,r),T=pE(n,b),A=n.params.grabCursor,P=b.grabCursor,R=r.enabled;_&&!T?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&T&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),A&&!P?n.unsetGrabCursor():!A&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof b[k]>"u")return;const z=r[k]&&r[k].enabled,O=b[k]&&b[k].enabled;z&&!O&&n[k].disable(),!z&&O&&n[k].enable()});const N=b.direction&&b.direction!==r.direction,E=r.loop&&(b.slidesPerView!==r.slidesPerView||N),w=r.loop;N&&t&&n.changeDirection(),Pr(n.params,b);const M=n.params.enabled,L=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),R&&!M?n.disable():!R&&M&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(E?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!w&&L?(n.loopCreate(e),n.updateSlides()):w&&!L&&n.loopDestroy()),n.emit("breakpoint",b)}function w5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=cr(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:o*h,point:d}}return{value:d,point:d}});u.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<u.length;d+=1){const{point:h,value:p}=u[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var E5={setBreakpoint:_5,getBreakpoint:w5};function T5(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function S5(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=T5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function A5(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var C5={addClasses:S5,removeClasses:A5};function N5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var R5={checkOverflow:N5},u0={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function I5(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Pr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Pr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Pr(e,r)}}const cy={eventsEmitter:CL,update:VL,translate:HL,transition:KL,slide:n5,loop:a5,grabCursor:c5,events:x5,breakpoints:E5,checkOverflow:R5,classes:C5},uy={};let Iv=class _i{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Pr({},t),e&&!t.el&&(t.el=e);const u=gs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(b=>{const _=Pr({},t,{el:b});y.push(new _i(_))}),y}const d=this;d.__swiper__=!0,d.support=oA(),d.device=lA({userAgent:t.userAgent}),d.browser=cA(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const h={};d.modules.forEach(y=>{y({params:t,swiper:d,extendParams:I5(t,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=Pr({},u0,h);return d.params=Pr({},p,uy,t),d.originalParams=Pr({},d.params),d.passedParams=Pr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(y=>{d.on(y,d.params.on[y])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=ps(t,`.${r.slideClass}, swiper-slide`),o=Jf(a[0]);return Jf(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ps(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:d,size:h,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=o[p]?Math.ceil(o[p].swiperSlideSize):0,_;for(let T=p+1;T<o.length;T+=1)o[T]&&!_&&(b+=Math.ceil(o[T].swiperSlideSize),y+=1,b>h&&(_=!0));for(let T=p-1;T>=0;T-=1)o[T]&&!_&&(b+=o[T].swiperSlideSize,y+=1,b>h&&(_=!0))}else if(e==="current")for(let b=p+1;b<o.length;b+=1)(t?u[b]+d[b]-u[p]<h:u[b]-u[p]<h)&&(y+=1);else for(let b=p-1;b>=0;b-=1)u[p]-u[b]<h&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&vf(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ps(r,a())[0];return!u&&t.params.createElements&&(u=Zf("div",t.params.wrapperClass),r.append(u),ps(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl"),wrongRTL:xa(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?vf(t,o):o.addEventListener("load",u=>{vf(t,u.target)})}),c0(t),t.initialized=!0,c0(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),mL(r)),r.destroyed=!0),null}static extendDefaults(e){Pr(uy,e)}static get extendedDefaults(){return uy}static get defaults(){return u0}static installModule(e){_i.prototype.__modules__||(_i.prototype.__modules__=[]);const t=_i.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>_i.installModule(t)),_i):(_i.installModule(e),_i)}};Object.keys(cy).forEach(n=>{Object.keys(cy[n]).forEach(e=>{Iv.prototype[e]=cy[n][e]})});Iv.use([SL,AL]);const hA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Po(e[r])&&Po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Bl(n[r],e[r]):n[r]=e[r]})}function fA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function mA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function pA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function gA(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function O5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function M5(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:h}=n;const p=a.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:y,pagination:b,navigation:_,scrollbar:T,virtual:A,thumbs:P}=e;let R,N,E,w,M,L,k,z;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(R=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(N=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||h)&&(y.pagination||y.pagination===!1)&&b&&!b.el&&(E=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(y.scrollbar||y.scrollbar===!1)&&T&&!T.el&&(w=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(M=!0);const O=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),y[I].prevEl=void 0,y[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),y[I].el=void 0,e[I].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?L=!0:!y.loop&&r.loop?k=!0:z=!0),p.forEach(I=>{if(Po(y[I])&&Po(r[I]))Object.assign(y[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&O(I);else{const V=r[I];(V===!0||V===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?V===!1&&O(I):y[I]=r[I]}}),p.includes("controller")&&!N&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&A&&y.virtual.enabled?(A.slides=t,A.update(!0)):a.includes("virtual")&&A&&y.virtual.enabled&&(t&&(A.slides=t),A.update(!0)),a.includes("children")&&t&&y.loop&&(z=!0),R&&P.init()&&P.update(!0),N&&(e.controller.control=y.controller.control),E&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(y.pagination.el=h),b.init(),b.render(),b.update()),w&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(y.scrollbar.el=d),T.init(),T.updateSize(),T.setTranslate()),M&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),_.init(),_.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(L||z)&&e.loopDestroy(),(k||z)&&e.loopCreate(),e.update()}function j5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Bl(t,u0),t._emitClasses=!0,t.init=!1;const o={},u=hA.map(h=>h.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(h=>{typeof n[h]>"u"||(u.indexOf(h)>=0?Po(n[h])?(t[h]={},a[h]={},Bl(t[h],n[h]),Bl(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function D5(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:d}=n;fA(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),mA(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),pA(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function P5(n,e,t,r,a){const o=[];if(!e)return o;const u=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return hA.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Po(n[h])&&Po(e[h])){const p=Object.keys(n[h]),y=Object.keys(e[h]);p.length!==y.length?u(h):(p.forEach(b=>{n[h][b]!==e[h][b]&&u(h)}),y.forEach(b=>{n[h][b]!==e[h][b]&&u(h)}))}else n[h]!==e[h]&&u(h)}),o}const k5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},em.apply(this,arguments)}function yA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function vA(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{yA(t)?e.push(t):t.props&&t.props.children&&vA(t.props.children).forEach(r=>e.push(r))}),e}function L5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(yA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=vA(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function V5(n,e,t){if(!t)return null;const r=y=>{let b=y;return y<0?b=e.length+y:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,d=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let y=d;y<h;y+=1)y>=o&&y<=u&&p.push(e[r(y)]);return p.map((y,b)=>Ut.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${b}`}))}function Bu(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const gE=q.createContext(null),z5=q.createContext(null),Ml=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...d}=n===void 0?{}:n,h=!1;const[p,y]=q.useState("swiper"),[b,_]=q.useState(null),[T,A]=q.useState(!1),P=q.useRef(!1),R=q.useRef(null),N=q.useRef(null),E=q.useRef(null),w=q.useRef(null),M=q.useRef(null),L=q.useRef(null),k=q.useRef(null),z=q.useRef(null),{params:O,passedParams:I,rest:V,events:F}=j5(d),{slides:U,slots:j}=L5(o),ce=()=>{A(!T)};Object.assign(O.on,{_containerClasses(be,H){y(H)}});const pe=()=>{Object.assign(O.on,F),h=!0;const be={...O};if(delete be.wrapperClass,N.current=new Iv(be),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=U;const H={cache:!1,slides:U,renderExternal:_,renderExternalUpdate:!1};Bl(N.current.params.virtual,H),Bl(N.current.originalParams.virtual,H)}};R.current||pe(),N.current&&N.current.on("_beforeBreakpoint",ce);const G=()=>{h||!F||!N.current||Object.keys(F).forEach(be=>{N.current.on(be,F[be])})},ie=()=>{!F||!N.current||Object.keys(F).forEach(be=>{N.current.off(be,F[be])})};q.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",ce)}),q.useEffect(()=>{!P.current&&N.current&&(N.current.emitSlidesClasses(),P.current=!0)}),Bu(()=>{if(e&&(e.current=R.current),!!R.current)return N.current.destroyed&&pe(),D5({el:R.current,nextEl:M.current,prevEl:L.current,paginationEl:k.current,scrollbarEl:z.current,swiper:N.current},O),u&&!N.current.destroyed&&u(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),Bu(()=>{G();const be=P5(I,E.current,U,w.current,H=>H.key);return E.current=I,w.current=U,be.length&&N.current&&!N.current.destroyed&&M5({swiper:N.current,slides:U,passedParams:I,changedParams:be,nextEl:M.current,prevEl:L.current,scrollbarEl:z.current,paginationEl:k.current}),()=>{ie()}}),Bu(()=>{k5(N.current)},[b]);function oe(){return O.virtual?V5(N.current,U,b):U.map((be,H)=>Ut.cloneElement(be,{swiper:N.current,swiperSlideIndex:H}))}return Ut.createElement(r,em({ref:R,className:gA(`${p}${t?` ${t}`:""}`)},V),Ut.createElement(z5.Provider,{value:N.current},j["container-start"],Ut.createElement(a,{className:O5(O.wrapperClass)},j["wrapper-start"],oe(),j["wrapper-end"]),fA(O)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:L,className:"swiper-button-prev"}),Ut.createElement("div",{ref:M,className:"swiper-button-next"})),pA(O)&&Ut.createElement("div",{ref:z,className:"swiper-scrollbar"}),mA(O)&&Ut.createElement("div",{ref:k,className:"swiper-pagination"}),j["container-end"]))});Ml.displayName="Swiper";const jl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:d,virtualIndex:h,swiperSlideIndex:p,...y}=n===void 0?{}:n;const b=q.useRef(null),[_,T]=q.useState("swiper-slide"),[A,P]=q.useState(!1);function R(M,L,k){L===b.current&&T(k)}Bu(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",R),()=>{o&&o.off("_slideClass",R)}}}),Bu(()=>{o&&b.current&&!o.destroyed&&T(o.getSlideClasses(b.current))},[o]);const N={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(N):r,w=()=>{P(!0)};return Ut.createElement(t,em({ref:b,className:gA(`${_}${a?` ${a}`:""}`),"data-swiper-slide-index":h,onLoad:w},y),u&&Ut.createElement(gE.Provider,{value:N},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},E(),d&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ut.createElement(gE.Provider,{value:N},E(),d&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});jl.displayName="SwiperSlide";function bA(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=ps(n.el,`.${r[a]}`)[0];o||(o=Zf("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function bf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(A){let P;return A&&typeof A=="string"&&e.isElement&&(P=e.el.querySelector(A)||e.hostEl.querySelector(A),P)?P:(A&&(typeof A=="string"&&(P=[...document.querySelectorAll(A)]),e.params.uniqueNavElements&&typeof A=="string"&&P&&P.length>1&&e.el.querySelectorAll(A).length===1?P=e.el.querySelector(A):P&&P.length===1&&(P=P[0])),A&&!P?A:P)}function u(A,P){const R=e.params.navigation;A=Rn(A),A.forEach(N=>{N&&(N.classList[P?"add":"remove"](...R.disabledClass.split(" ")),N.tagName==="BUTTON"&&(N.disabled=P),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](R.lockClass))})}function d(){const{nextEl:A,prevEl:P}=e.navigation;if(e.params.loop){u(P,!1),u(A,!1);return}u(P,e.isBeginning&&!e.params.rewind),u(A,e.isEnd&&!e.params.rewind)}function h(A){A.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(A){A.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const A=e.params.navigation;if(e.params.navigation=bA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let P=o(A.nextEl),R=o(A.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:R}),P=Rn(P),R=Rn(R);const N=(E,w)=>{E&&E.addEventListener("click",w==="next"?p:h),!e.enabled&&E&&E.classList.add(...A.lockClass.split(" "))};P.forEach(E=>N(E,"next")),R.forEach(E=>N(E,"prev"))}function b(){let{nextEl:A,prevEl:P}=e.navigation;A=Rn(A),P=Rn(P);const R=(N,E)=>{N.removeEventListener("click",E==="next"?p:h),N.classList.remove(...e.params.navigation.disabledClass.split(" "))};A.forEach(N=>R(N,"next")),P.forEach(N=>R(N,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?T():(y(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:A,prevEl:P}=e.navigation;if(A=Rn(A),P=Rn(P),e.enabled){d();return}[...A,...P].filter(R=>!!R).forEach(R=>R.classList.add(e.params.navigation.lockClass))}),r("click",(A,P)=>{let{nextEl:R,prevEl:N}=e.navigation;R=Rn(R),N=Rn(N);const E=P.target;let w=N.includes(E)||R.includes(E);if(e.isElement&&!w){const M=P.path||P.composedPath&&P.composedPath();M&&(w=M.find(L=>R.includes(L)||N.includes(L)))}if(e.params.navigation.hideOnClick&&!w){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let M;R.length?M=R[0].classList.contains(e.params.navigation.hiddenClass):N.length&&(M=N[0].classList.contains(e.params.navigation.hiddenClass)),a(M===!0?"navigationShow":"navigationHide"),[...R,...N].filter(L=>!!L).forEach(L=>L.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),d()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:T,update:d,init:y,destroy:b})}function Eu(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function U5(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(E,w){const{bulletActiveClass:M}=e.params.pagination;E&&(E=E[`${w==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${M}-${w}`),E=E[`${w==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${M}-${w}-${w}`)))}function y(E,w,M){if(E=E%M,w=w%M,w===E+1)return"next";if(w===E-1)return"previous"}function b(E){const w=E.target.closest(Eu(e.params.pagination.bulletClass));if(!w)return;E.preventDefault();const M=Jf(w)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===M)return;const L=y(e.realIndex,M,e.slides.length);L==="next"?e.slideNext():L==="previous"?e.slidePrev():e.slideToLoop(M)}else e.slideTo(M)}function _(){const E=e.rtl,w=e.params.pagination;if(h())return;let M=e.pagination.el;M=Rn(M);let L,k;const z=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(z/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(k=e.previousRealIndex||0,L=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(L=e.snapIndex,k=e.previousSnapIndex):(k=e.previousIndex||0,L=e.activeIndex||0),w.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let V,F,U;if(w.dynamicBullets&&(u=l0(I[0],e.isHorizontal()?"width":"height"),M.forEach(j=>{j.style[e.isHorizontal()?"width":"height"]=`${u*(w.dynamicMainBullets+4)}px`}),w.dynamicMainBullets>1&&k!==void 0&&(d+=L-(k||0),d>w.dynamicMainBullets-1?d=w.dynamicMainBullets-1:d<0&&(d=0)),V=Math.max(L-d,0),F=V+(Math.min(I.length,w.dynamicMainBullets)-1),U=(F+V)/2),I.forEach(j=>{const ce=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(pe=>`${w.bulletActiveClass}${pe}`)].map(pe=>typeof pe=="string"&&pe.includes(" ")?pe.split(" "):pe).flat();j.classList.remove(...ce)}),M.length>1)I.forEach(j=>{const ce=Jf(j);ce===L?j.classList.add(...w.bulletActiveClass.split(" ")):e.isElement&&j.setAttribute("part","bullet"),w.dynamicBullets&&(ce>=V&&ce<=F&&j.classList.add(...`${w.bulletActiveClass}-main`.split(" ")),ce===V&&p(j,"prev"),ce===F&&p(j,"next"))});else{const j=I[L];if(j&&j.classList.add(...w.bulletActiveClass.split(" ")),e.isElement&&I.forEach((ce,pe)=>{ce.setAttribute("part",pe===L?"bullet-active":"bullet")}),w.dynamicBullets){const ce=I[V],pe=I[F];for(let G=V;G<=F;G+=1)I[G]&&I[G].classList.add(...`${w.bulletActiveClass}-main`.split(" "));p(ce,"prev"),p(pe,"next")}}if(w.dynamicBullets){const j=Math.min(I.length,w.dynamicMainBullets+4),ce=(u*j-u)/2-U*u,pe=E?"right":"left";I.forEach(G=>{G.style[e.isHorizontal()?pe:"top"]=`${ce}px`})}}M.forEach((I,V)=>{if(w.type==="fraction"&&(I.querySelectorAll(Eu(w.currentClass)).forEach(F=>{F.textContent=w.formatFractionCurrent(L+1)}),I.querySelectorAll(Eu(w.totalClass)).forEach(F=>{F.textContent=w.formatFractionTotal(O)})),w.type==="progressbar"){let F;w.progressbarOpposite?F=e.isHorizontal()?"vertical":"horizontal":F=e.isHorizontal()?"horizontal":"vertical";const U=(L+1)/O;let j=1,ce=1;F==="horizontal"?j=U:ce=U,I.querySelectorAll(Eu(w.progressbarFillClass)).forEach(pe=>{pe.style.transform=`translate3d(0,0,0) scaleX(${j}) scaleY(${ce})`,pe.style.transitionDuration=`${e.params.speed}ms`})}w.type==="custom"&&w.renderCustom?(I.innerHTML=w.renderCustom(e,L+1,O),V===0&&a("paginationRender",I)):(V===0&&a("paginationRender",I),a("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](w.lockClass)})}function T(){const E=e.params.pagination;if(h())return;const w=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let M=e.pagination.el;M=Rn(M);let L="";if(E.type==="bullets"){let k=e.params.loop?Math.ceil(w/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&k>w&&(k=w);for(let z=0;z<k;z+=1)E.renderBullet?L+=E.renderBullet.call(e,z,E.bulletClass):L+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?L=E.renderFraction.call(e,E.currentClass,E.totalClass):L=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?L=E.renderProgressbar.call(e,E.progressbarFillClass):L=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],M.forEach(k=>{E.type!=="custom"&&(k.innerHTML=L||""),E.type==="bullets"&&e.pagination.bullets.push(...k.querySelectorAll(Eu(E.bulletClass)))}),E.type!=="custom"&&a("paginationRender",M[0])}function A(){e.params.pagination=bA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let w;typeof E.el=="string"&&e.isElement&&(w=e.el.querySelector(E.el)),!w&&typeof E.el=="string"&&(w=[...document.querySelectorAll(E.el)]),w||(w=E.el),!(!w||w.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(w)&&w.length>1&&(w=[...e.el.querySelectorAll(E.el)],w.length>1&&(w=w.find(M=>aA(M,".swiper")[0]===e.el))),Array.isArray(w)&&w.length===1&&(w=w[0]),Object.assign(e.pagination,{el:w}),w=Rn(w),w.forEach(M=>{E.type==="bullets"&&E.clickable&&M.classList.add(...(E.clickableClass||"").split(" ")),M.classList.add(E.modifierClass+E.type),M.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(M.classList.add(`${E.modifierClass}${E.type}-dynamic`),d=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&M.classList.add(E.progressbarOppositeClass),E.clickable&&M.addEventListener("click",b),e.enabled||M.classList.add(E.lockClass)}))}function P(){const E=e.params.pagination;if(h())return;let w=e.pagination.el;w&&(w=Rn(w),w.forEach(M=>{M.classList.remove(E.hiddenClass),M.classList.remove(E.modifierClass+E.type),M.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(M.classList.remove(...(E.clickableClass||"").split(" ")),M.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(M=>M.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:w}=e.pagination;w=Rn(w),w.forEach(M=>{M.classList.remove(E.horizontalClass,E.verticalClass),M.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?N():(A(),T(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{T(),_()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=Rn(E),E.forEach(w=>w.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(E,w)=>{const M=w.target,L=Rn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&L&&L.length>0&&!M.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&M===e.navigation.nextEl||e.navigation.prevEl&&M===e.navigation.prevEl))return;const k=L[0].classList.contains(e.params.pagination.hiddenClass);a(k===!0?"paginationShow":"paginationHide"),L.forEach(z=>z.classList.toggle(e.params.pagination.hiddenClass))}});const R=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Rn(E),E.forEach(w=>w.classList.remove(e.params.pagination.paginationDisabledClass))),A(),T(),_()},N=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Rn(E),E.forEach(w=>w.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:R,disable:N,render:T,update:_,init:A,destroy:P})}function B5(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,d,h=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,b=new Date().getTime(),_,T,A,P,R,N,E;function w(oe){!e||e.destroyed||!e.wrapperEl||oe.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!(E||oe.detail&&oe.detail.bySwiperTouchMove)&&V())}const M=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(p=y,_=!1);const oe=e.autoplay.paused?y:b+p-new Date().getTime();e.autoplay.timeLeft=oe,a("autoplayTimeLeft",oe,oe/h),d=requestAnimationFrame(()=>{M()})},L=()=>{let oe;return e.virtual&&e.params.virtual.enabled?oe=e.slides.find(H=>H.classList.contains("swiper-slide-active")):oe=e.slides[e.activeIndex],oe?parseInt(oe.getAttribute("data-swiper-autoplay"),10):void 0},k=oe=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),M();let be=typeof oe>"u"?e.params.autoplay.delay:oe;h=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=L();!Number.isNaN(H)&&H>0&&typeof oe>"u"&&(be=H,h=H,p=H),y=be;const ae=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ae,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ae,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ae,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ae,!0,!0),a("autoplay")),e.params.cssMode&&(b=new Date().getTime(),requestAnimationFrame(()=>{k()})))};return be>0?(clearTimeout(u),u=setTimeout(()=>{ve()},be)):requestAnimationFrame(()=>{ve()}),be},z=()=>{b=new Date().getTime(),e.autoplay.running=!0,k(),a("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(d),a("autoplayStop")},I=(oe,be)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),oe||(N=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):V()};if(e.autoplay.paused=!0,be){R&&(y=e.params.autoplay.delay),R=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-b),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},V=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(b=new Date().getTime(),N?(N=!1,k(y)):k(),e.autoplay.paused=!1,a("autoplayResume"))},F=()=>{if(e.destroyed||!e.autoplay.running)return;const oe=gs();oe.visibilityState==="hidden"&&(N=!0,I(!0)),oe.visibilityState==="visible"&&V()},U=oe=>{oe.pointerType==="mouse"&&(N=!0,E=!0,!(e.animating||e.autoplay.paused)&&I(!0))},j=oe=>{oe.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&V())},ce=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",U),e.el.addEventListener("pointerleave",j))},pe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",U),e.el.removeEventListener("pointerleave",j))},G=()=>{gs().addEventListener("visibilitychange",F)},ie=()=>{gs().removeEventListener("visibilitychange",F)};r("init",()=>{e.params.autoplay.enabled&&(ce(),G(),z())}),r("destroy",()=>{pe(),ie(),e.autoplay.running&&O()}),r("_freeModeStaticRelease",()=>{(A||N)&&V()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():I(!0,!0)}),r("beforeTransitionStart",(oe,be,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?I(!0,!0):O())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}T=!0,A=!1,N=!1,P=setTimeout(()=>{N=!0,A=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(P),clearTimeout(u),e.params.autoplay.disableOnInteraction){A=!1,T=!1;return}A&&e.params.cssMode&&V(),A=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(R=!0)}),Object.assign(e.autoplay,{start:z,stop:O,pause:I,resume:V})}function yE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,b=p.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let _;p.params.loop?_=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=y,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Du(p.swiper)){const b=Object.assign({},p.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function h(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const b=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let _=1;const T=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),y.slides.forEach(R=>R.classList.remove(T)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let R=0;R<_;R+=1)ps(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+R}"]`).forEach(N=>{N.classList.add(T)});else for(let R=0;R<_;R+=1)y.slides[e.realIndex+R]&&y.slides[e.realIndex+R].classList.add(T);const A=e.params.thumbs.autoScrollOffset,P=A&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const R=y.activeIndex;let N,E;if(y.params.loop){const w=y.slides.find(M=>M.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);N=y.slides.indexOf(w),E=e.activeIndex>e.previousIndex?"next":"prev"}else N=e.realIndex,E=N>e.previousIndex?"next":"prev";P&&(N+=E==="next"?A:-1*A),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(N)<0&&(y.params.centeredSlides?N>R?N=N-Math.floor(b/2)+1:N=N+Math.floor(b/2)-1:N>R&&y.params.slidesPerGroup,y.slideTo(N,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=gs(),b=()=>{const T=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(T&&T.swiper)p.swiper=T.swiper,d(),h(!0);else if(T){const A=`${e.params.eventsPrefix}init`,P=R=>{p.swiper=R.detail[0],T.removeEventListener(A,P),d(),h(!0),p.swiper.update(),e.update()};T.addEventListener(A,P)}return T},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else d(),h(!0)}),r("slideChange update resize observerUpdate",()=>{h()}),r("setTransition",(p,y)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:h})}function vE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:h,touches:p}=e;h.velocities.length===0&&h.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:No()})}function d(h){let{currentPos:p}=h;if(e.params.cssMode)return;const{params:y,wrapperEl:b,rtlTranslate:_,snapGrid:T,touchEventsData:A}=e,R=No()-A.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<T.length?e.slideTo(T.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(A.velocities.length>1){const O=A.velocities.pop(),I=A.velocities.pop(),V=O.position-I.position,F=O.time-I.time;e.velocity=V/F,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(F>150||No()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,A.velocities.length=0;let N=1e3*y.freeMode.momentumRatio;const E=e.velocity*N;let w=e.translate+E;_&&(w=-w);let M=!1,L;const k=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let z;if(w<e.maxTranslate())y.freeMode.momentumBounce?(w+e.maxTranslate()<-k&&(w=e.maxTranslate()-k),L=e.maxTranslate(),M=!0,A.allowMomentumBounce=!0):w=e.maxTranslate(),y.loop&&y.centeredSlides&&(z=!0);else if(w>e.minTranslate())y.freeMode.momentumBounce?(w-e.minTranslate()>k&&(w=e.minTranslate()+k),L=e.minTranslate(),M=!0,A.allowMomentumBounce=!0):w=e.minTranslate(),y.loop&&y.centeredSlides&&(z=!0);else if(y.freeMode.sticky){let O;for(let I=0;I<T.length;I+=1)if(T[I]>-w){O=I;break}Math.abs(T[O]-w)<Math.abs(T[O-1]-w)||e.swipeDirection==="next"?w=T[O]:w=T[O-1],w=-w}if(z&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?N=Math.abs((-w-e.translate)/e.velocity):N=Math.abs((w-e.translate)/e.velocity),y.freeMode.sticky){const O=Math.abs((_?-w:w)-e.translate),I=e.slidesSizesGrid[e.activeIndex];O<I?N=y.speed:O<2*I?N=y.speed*1.5:N=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&M?(e.updateProgress(L),e.setTransition(N),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ry(b,()=>{!e||e.destroyed||!A.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(L),ry(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(w),e.setTransition(N),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ry(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(w),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||R>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:d}})}const F5=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Ba(ns(bn,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),m.jsx("div",{className:"w-full",children:m.jsx(Ml,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[B5,U5,bf],className:"mySwiper",children:n.map((t,r)=>m.jsx(jl,{children:m.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},bE=()=>m.jsxs("div",{className:"bg-gray-100 ",children:[m.jsx("div",{children:m.jsx(F5,{})}),m.jsx("div",{className:"px-4",children:m.jsx("div",{children:m.jsx(rA,{})})})]}),q5=q.createContext(),H5=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const h=AP(Jg,p=>{t(p),a(!1)});return()=>h()},[]);const d={user:e,login:async(h,p)=>{a(!0);try{await EP(Jg,h,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await CP(Jg)},loading:r};return m.jsx(q5.Provider,{value:d,children:n})},$5=()=>m.jsx("div",{children:m.jsx("p",{children:"this is admin page"})}),xE=()=>{const{gender:n,category:e}=_0(),t=2,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const E=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const u=E=>E?Math.round(E).toLocaleString("en-US"):"0",d=async({pageParam:E=null})=>{const w=E?Mo(ns(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),JS(E),Uf(t)):Mo(ns(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),Uf(t)),M=await Ba(w),L=[];return M.forEach(k=>{const z=k.data();z.available&&z.stock>0&&L.push({id:k.id,...z})}),{products:L,lastVisible:M.docs[M.docs.length-1]}},{data:h,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:b,isLoading:_,error:T}=tA({queryKey:["products",n,e],queryFn:d,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),A=E=>{const w=JSON.parse(localStorage.getItem("cart"))||[],M=w.find(L=>L.id===E.id);M?M.quantity+=1:w.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?Math.round(E.price-E.price*(E.discount/100)):Math.round(E.price),image:E.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(w)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},P=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:A(E)},R=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:(A(E),window.location.href="/cart")},N=(h==null?void 0:h.pages.flatMap(E=>E.products))||[];return _?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):T?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:["Showing products for ",n," / ",e]}),N.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:N.map(E=>{const w=E.discount&&E.discount>0,M=E.colorVariants&&E.colorVariants.length>0,L=a?17:25,k=E.name.length>L,z=k?`${E.name.substring(0,L)}...`:E.name;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(Mt,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:E.mainImage||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),w&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[z,k&&m.jsx(Mt,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:O=>{O.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(E.discount?E.price-E.price*(E.discount/100):E.price)]}),E.regularPrice&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",u(E.regularPrice)]})})]}),E.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>P(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:M?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>R(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),y&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>p(),disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:b?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},Zh=n=>{},d0=typeof window>"u"?q.useEffect:q.useLayoutEffect,xA=n=>typeof n=="number"&&n>0,_E=n=>xA(n)?n:0,h0=n=>Math.round(100*n)/100,f0=n=>Math.round(2*n)/2,wE=n=>n===0?0:-1*h0(n),G5={},Q5="rr--group",K5="rr--box",Y5="rr--svg",X5="rr--reset",EE="rr--focus-reset",W5="rr--svg-stop-1",Z5="rr--svg-stop-2",TE="rr--on",SE="rr--off",Pu={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},Jh={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},dy={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},hy={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},J5="rr--pointer",e6="rr--disabled",t6="rr--dir-y",n6="rr--dir-x",r6="rr--has-stroke",s6="rr--has-border",i6="rr--hf-box-on",a6="rr--hf-box-int",o6="rr--hf-box-off",l6="rr--hf-svg-on",c6="rr--hf-svg-off",ef={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},tf={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},u6="--rr--border-width",_A="horizontal",wA="vertical",fy="svg",AE="box",Mr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Il={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},_a={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},nf={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function d6({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=_A,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",d=q.useId(),h=q.useRef(null),[p,y]=q.useState(null),[b,_]=q.useState(!1),T=q.useRef(null),A=q.useRef(null),P=q.useCallback(R=>{const{width:N,height:E,x:w,y:M}=R.getBBox();if(((...L)=>L.every(k=>typeof k=="number"))(N,E,w,M)){const L=`${u} ${h0(N+t)} ${h0(E+t)}`,k=`${wE(w)} ${wE(M)}`;y({viewBox:L,translateData:k})}},[t,u]);return d0(()=>{if(h.current){const{width:R,height:N,x:E,y:w}=h.current.getBBox();if(R===0&&N===0&&E===0&&w===0){const M=function(L){if(!L||!L.parentElement)return null;let k=L==null?void 0:L.parentElement;for(;k&&window.getComputedStyle(k).display!=="none";)k=k.parentElement;return k}(h.current);M&&(A.current=M,_(!0))}else _(!1);P(h.current)}},[n,t,a]),d0(()=>{if(b&&A.current)return T.current=new MutationObserver((R,N)=>{R.forEach(()=>{window.getComputedStyle(A.current).display==="none"||(P(h.current),N.disconnect())})}),T.current.observe(A.current,{attributes:!0}),()=>{var R;(R=T.current)==null||R.disconnect()}},[b,P]),m.jsxs("svg",{"aria-hidden":"true",className:Y5,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&m.jsx("defs",{children:m.jsxs("linearGradient",{id:d,...r===wA?{gradientTransform:"rotate(90)"}:{},children:[m.jsx("stop",{className:W5,offset:"50%"}),m.jsx("stop",{className:Z5,offset:"50%"})]})}),m.jsx("g",{ref:h,shapeRendering:"geometricPrecision",...function(){if(p){const R=`translate(${p==null?void 0:p.translateData})`;return R==="translate(0 0)"?{}:{transform:R}}return{transform:void 0}}(),...a?{fill:`url('#${d}')`}:{},children:n})]})}function EA(n,e,t){switch(e){case _a.FILL:return n[ef.FILL]=t,!0;case _a.BOX:return n[ef.BOX]=t,!0;case _a.BORDER:return n[ef.BORDER]=t,!0;case _a.STROKE:return n[ef.STROKE]=t,!0}return!1}function h6(n,e,t){if(!EA(n,e,t))switch(e){case nf.FILL:n[tf.FILL]=t;break;case nf.BOX:n[tf.BOX]=t;break;case nf.BORDER:n[tf.BORDER]=t;break;case nf.STROKE:n[tf.STROKE]=t}}function f6(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))EA(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const my=n=>`${n} ${Pu.COLORS}`;function m6({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:d,absoluteStrokeWidth:h,spaceBetween:p,spaceInside:y}){const b=a?J5:"",_=function(E){switch(E){case Mr.SMALL:return dy.SMALL;case Mr.MEDIUM:return dy.MEDIUM;case Mr.LARGE:return dy.LARGE;default:return""}}(p),T=function(E){switch(E){case Mr.SMALL:return hy.SMALL;case Mr.MEDIUM:return hy.MEDIUM;case Mr.LARGE:return hy.LARGE;default:return""}}(y),A=!t&&r?e6:"",P=a&&o!==Il.NONE?function(E){switch(E){case Il.ZOOM:return my(Pu.ZOOM);case Il.POSITION:return my(Pu.POSITION);case Il.OPACITY:return my(Pu.OPACITY);case Il.COLORS:return Pu.COLORS;default:return""}}(o):"",R=u===wA?t6:n6,N=function(E){switch(E){case Mr.SMALL:return Jh.SMALL;case Mr.MEDIUM:return Jh.MEDIUM;case Mr.LARGE:return Jh.LARGE;case Mr.FULL:return Jh.FULL;default:return""}}(e);return`${Q5} ${R} ${h>0?r6:""} ${d>0?s6:""}
${P} ${N} ${b} ${A} ${_}
${T} ${n}`.replace(/  +/g," ").trimEnd()}function p6(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?TE:SE:a<=t?TE:SE)}function g6(n,e,t){const r=Math.floor(f0(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?o6:o===r?a6:i6:o>r?c6:l6)}function CE(n,e){const t={};xA(e)&&(t[u6]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)h6(t,a,o);return t}const y6=[_a.FILL,_a.BOX,_a.STROKE,_a.BORDER];function py(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const v6="@smastrom/react-rating",b6=n=>`[${v6}] - Nothing's returned from rendering. Reason: ${n}.`;function Tu(n,e){return n.shouldRender=!1,n.reason=b6(e),n}const NE="itemShapes is not a valid JSX element",x6=m.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});m.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});m.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});m.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});m.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});m.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const _6={itemShapes:x6,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},ku=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=Zh,onHoverChange:a=Zh,onFocus:o=Zh,onBlur:u=Zh,preventDefault:d="all",isDisabled:h=!1,highlightOnlySelected:p=!1,orientation:y=_A,spaceBetween:b=Mr.NONE,spaceInside:_=Mr.SMALL,radius:T=Mr.NONE,transition:A=Il.COLORS,itemStyles:P=_6,isRequired:R=!1,halfFillMode:N=fy,visibleLabelId:E,visibleItemLabelIds:w,invisibleItemLabels:M,invisibleLabel:L=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:k="Reset rating",id:z,className:O,style:I},V)=>{const F=Array.from({length:e},(Me,Oe)=>Oe+1),U=t&&!Number.isInteger(n),j=U&&!p,ce=U&&p?Math.round(n):n,pe=!t&&!h,G=ce>=.25,ie=typeof O=="string"?O:"",oe=N===AE?AE:fy,be=j&&!(Me=>Number.isInteger(f0(Me)))(ce),H=!R&&!t,ae=R?e:e+1,ve=j?function(Me,Oe){const Je=f0(Oe);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(F,ce):F.indexOf(ce),{staticColors:ge,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:Oe,boxBorderWidth:Je,...ht}=P,qt=function(sn){const nr={...sn},On={},qn=Object.entries(nr);if(qn.length>0)for(const[Mn,Qt]of qn)if(Array.isArray(Qt)||typeof Qt=="string"){if(Array.isArray(Qt))for(const zr of y6)if(zr===Mn){const _r=Qt.filter(Ts=>typeof Ts=="string");_r.length>0&&(On[Mn]=_r,delete nr[Mn])}else delete nr[Mn]}else delete nr[Mn];return{arrayColors:On,staticColors:nr}}(ht);return{itemShapes:Me,absoluteStrokeWidth:_E(Oe),absoluteBoxBorderWidth:_E(Je),...qt}},[P]),Te=Object.keys(Se).length>0,it=q.useCallback((Me,Oe)=>({dynamicClassNames:be?g6(ce,e,oe):p6(p,e,Me),dynamicCssVars:Oe&&Te?f6(Se,Me,p):[]}),[Se,Te,p,oe,be,e,ce]),Ze=q.useCallback(()=>_s(py(ae,ve,!R)),[ve,ae,R]),Rt=q.useRef(!0),Ht=q.useRef(!0),fn=q.useRef(null),Ft=q.useRef([]),ur=q.useRef(!1),[Jn,Xt]=q.useState({staticCssVars:CE(ge,ye),...it(ve,G)}),[xs,_s]=q.useState(()=>pe?py(ae,ve,!R):[]);d0(()=>{pe&&Ft.current&&(ur.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(Ft.current[0]))},[pe]),q.useEffect(()=>{if(!Rt.current)return Xt({staticCssVars:CE(ge,ye),...it(ve,G)});Rt.current=!1},[ge,it,ye,ve,G]),q.useEffect(()=>{if(!Ht.current&&pe)return Ze();Ht.current=!1},[pe,Ze]);const{shouldRender:ws,reason:ss}=function({items:Me,itemShapes:Oe}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return Tu(Je,"items is invalid");if(!Oe)return Tu(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Oe)&&!q.isValidElement(Oe))return Tu(Je,NE);if(Array.isArray(Oe)){if(Oe.length!==Me)return Tu(Je,"itemShapes length mismatch");if(!Oe.every(ht=>q.isValidElement(ht)))return Tu(Je,NE)}return Je}({items:e,itemShapes:Ve});if(!ws)return console.error(ss),null;function er(Me,Oe,Je=()=>{}){Ft.current.some(ht=>ht===Me.relatedTarget)?Je():Oe()}function tr(){a(0),Ze()}function Es(Me){er(Me,()=>{tr()}),Xt({...Jn,...it(ve,G)})}function is(Me){er(Me,()=>{tr(),u()})}function gt(Me,Oe){const Je=!R&&Oe===F.length?0:Oe+1;er(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){_s(py(ae,Me,!R)),Ft.current[Me].focus()}const wn=m6({className:ie,radius:T,readOnly:t,isDisabled:h,isDynamic:pe,transition:A,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:b,spaceInside:_});function Gt(Me){return{ref:Oe=>Ft.current[Me]=Oe}}function Zs(Me){return{tabIndex:xs[Me],onKeyDown:Oe=>function(Je,ht){let qt=0;const sn=R?F.length-1:F.length,nr=ht-1,On=ht+1,qn=!R&&ht===F.length,Mn=ht===0?sn:nr,Qt=sn===ht?0:On;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return qt=ur.current?Mn:Qt,We(qt);case"ArrowUp":case"ArrowLeft":return qt=ur.current?Qt:Mn,We(qt);case"Enter":case"Space":return d!=="all"&&d!=="click"||Je.preventDefault(),r(qn?0:ht+1)}Je.stopPropagation()}(Oe,Me)}}function dr(Me){return{onClick:Oe=>function(Je,ht){d!=="all"&&d!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(R||ve!==ht?ht+1:0)}(Oe,Me),onMouseEnter:()=>function(Oe){a(Oe+1),Xt({...Jn,...it(Oe,!0)})}(Me),onMouseLeave:Es}}function Lr(Me){if(t)return{};const Oe={};if(Array.isArray(w))Oe["aria-labelledby"]=w[Me];else{const Je=Array.isArray(M)?M:F.map((ht,qt)=>`Rate ${qt+1}`);Oe["aria-label"]=Je[Me]}return h&&(Oe["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===ce,...Oe}}function Vr(Me){const Oe={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return be&&oe===fy&&(Oe.hasHF=Me===ve),Oe}return m.jsx("div",{id:z,className:wn,style:{...I,...Jn.staticCssVars},ref:function(Me){pe&&!R&&(fn.current=Me),V&&(V.current=Me)},...function(){if(!t){const Me=R&&!h,Oe={role:"radiogroup","aria-required":Me};return Me&&(Oe["aria-invalid"]=ce<=0),typeof E=="string"&&E.length>0?Oe["aria-labelledby"]=E:Oe["aria-label"]=L,Oe}return{role:"img","aria-label":L}}(),...G5,children:F.map((Me,Oe)=>{return m.jsxs(q.Fragment,{children:[m.jsx("div",{className:`${K5} ${Jn.dynamicClassNames[Oe]}`,style:Jn.dynamicCssVars[Oe],...Lr(Oe),...(ht=Oe,pe?{...Gt(ht),...Zs(ht),...dr(ht),onFocus:qt=>gt(qt,ht),onBlur:qt=>is(qt)}:{}),children:m.jsx(d6,{...Vr(Oe)})}),H&&Oe===F.length-1&&m.jsx("div",{...(Je=Oe+1,{className:X5,role:"radio","aria-label":k,"aria-checked":ce===0,onClick:()=>r(0),onFocus:qt=>{var sn;gt(qt,Je),(sn=fn.current)==null||sn.classList.add(EE)},onBlur:qt=>{var sn;is(qt),(sn=fn.current)==null||sn.classList.remove(EE)},...Zs(Je),...Gt(Je),...h?{"aria-disabled":"true"}:{}})})]},Me);var Je,ht})})});ku.displayName="Rating";function w6(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}w6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ov=n=>typeof n=="number"&&!isNaN(n),nd=n=>typeof n=="string",TA=n=>typeof n=="function",E6=n=>nd(n)||Ov(n),T6=n=>q.isValidElement(n)||nd(n)||TA(n)||Ov(n),S6=1,SA=()=>`${S6++}`,Ks=new Map,m0=[],RE=new Set,AA=()=>Ks.size>0,A6=(n,{containerId:e})=>{var t;return(t=Ks.get(e||1))==null?void 0:t.toasts.get(n)};function C6(n,e){var t;if(e)return!!((t=Ks.get(e))!=null&&t.isToastActive(n));let r=!1;return Ks.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function N6(n){if(!AA()){m0=m0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||E6(n))Ks.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ks.get(n.containerId);e?e.removeToast(n.id):Ks.forEach(t=>{t.removeToast(n.id)})}}var R6=(n={})=>{Ks.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function I6(n,e){T6(n)&&(AA()||m0.push({content:n,options:e}),Ks.forEach(t=>{t.buildToast(n,e)}))}function CA(n,e){Ks.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function O6(n){return RE.add(n),()=>{RE.delete(n)}}function M6(n){return n&&(nd(n.toastId)||Ov(n.toastId))?n.toastId:SA()}function Td(n,e){return I6(n,e),e.toastId}function Mm(n,e){return{...e,type:e&&e.type||n,toastId:M6(e)}}function jm(n){return(e,t)=>Td(e,Mm(n,t))}function _t(n,e){return Td(n,Mm("default",e))}_t.loading=(n,e)=>Td(n,Mm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function j6(n,{pending:e,error:t,success:r},a){let o;e&&(o=nd(e)?_t.loading(e,a):_t.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,b)=>{if(y==null){_t.dismiss(o);return}let _={type:p,...u,...a,data:b},T=nd(y)?{render:y}:y;return o?_t.update(o,{..._,...T}):_t(T.render,{..._,...T}),b},h=TA(n)?n():n;return h.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),h}_t.promise=j6;_t.success=jm("success");_t.info=jm("info");_t.error=jm("error");_t.warning=jm("warning");_t.warn=_t.warning;_t.dark=(n,e)=>Td(n,Mm("default",{theme:"dark",...e}));function D6(n){N6(n)}_t.dismiss=D6;_t.clearWaitingQueue=R6;_t.isActive=C6;_t.update=(n,e={})=>{let t=A6(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:SA()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Td(u,o)}};_t.done=n=>{_t.update(n,{progress:1})};_t.onChange=O6;_t.play=n=>CA(!0,n);_t.pause=n=>CA(!1,n);function P6(n){return dd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const k6=()=>{var ie,oe,be,H,ae,ve,ge,Se,Ve,Ee;const{productId:n}=_0(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,u]=q.useState(null),[d,h]=q.useState(null),[p,y]=q.useState(0),[b,_]=q.useState(null),[T,A]=q.useState(null),[P,R]=q.useState("description"),[N,E]=q.useState([]),[w,M]=q.useState(!1),[L,k]=q.useState({name:"",contact:"",rating:0,comment:""}),[z,O]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const it=Mo(ns(bn,"products"),ba("productId","==",n)),Ze=await Ba(it);if(!Ze.empty){const Rt=Ze.docs[0],Ht={id:Rt.id,...Rt.data()};t(Ht),Ht.isColorVariants&&((Te=Ht.colorVariants)==null?void 0:Te.length)>0&&u(Ht.colorVariants[0])}a(!1)}catch(it){console.error("Error fetching product:",it),a(!1)}})()},[n]),q.useEffect(()=>{let ye;return(()=>{if(!n)return;const it=ns(bn,"reviews"),Ze=Mo(it,ba("productId","==",n));ye=_D(Ze,Rt=>{const Ht=[];Rt.forEach(fn=>{Ht.push({id:fn.id,...fn.data()})}),E(Ht)},Rt=>{console.error("Error listening to reviews:",Rt)})})(),()=>{ye&&ye()}},[n]);const I=()=>{var Ze,Rt,Ht,fn;if(ce()){_t.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!T){_t.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(Rt=o==null?void 0:o.images)==null?void 0:Rt[0]:(Ht=e.images)==null?void 0:Ht[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(fn=o==null?void 0:o.images)==null?void 0:fn[0]}:null,size:T?{size:T.size,stock:T.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},it=ye.findIndex(Ft=>{var ur,Jn,Xt,xs;return!(Ft.id!==Te.id||e.isColorVariants&&((ur=Ft.color)==null?void 0:ur.name)!==((Jn=Te.color)==null?void 0:Jn.name)||T&&((Xt=Ft.size)==null?void 0:Xt.size)!==((xs=Te.size)==null?void 0:xs.size))});it>=0?(ye[it].quantity+=1,_t.success("Item quantity increased in cart")):(ye.push(Te),_t.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},V=()=>{I(),window.location.href="/cart"},F=async ye=>{if(ye.preventDefault(),!L.name||!L.comment||L.rating===0||!L.contact){_t.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.contact),it=/^[0-9]{10,15}$/.test(L.contact);if(!Te&&!it){_t.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:L.name,contact:L.contact,contactType:Te?"email":"phone",rating:L.rating,comment:L.comment,createdAt:new Date().toISOString()};z?(await s2(ka(bn,"reviews",z),Ze),_t.success("Review updated successfully")):(await xD(ns(bn,"reviews"),Ze),_t.success("Review submitted successfully")),M(!1),k({name:"",contact:"",rating:0,comment:""}),O(null)}catch(Ze){console.error("Error submitting review:",Ze),_t.error("Failed to submit review")}},U=ye=>{k({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),O(ye.id),M(!0)},j=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await bD(ka(bn,"reviews",ye)),_t.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),_t.error("Failed to delete review")}},ce=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},pe=ye=>ye<1;if(r)return m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return m.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const G=N.length>0?(N.reduce((ye,Te)=>ye+Te.rating,0)/N.length).toFixed(1):0;return m.jsxs("div",{className:"pt-6",children:[w&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold",children:z?"Edit Review":"Write a Review"}),m.jsx("button",{onClick:()=>{M(!1),O(null),k({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:F,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:L.name,onChange:ye=>k({...L,name:ye.target.value}),required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:L.contact,onChange:ye=>k({...L,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),m.jsx(ku,{style:{maxWidth:150},value:L.rating,onChange:ye=>k({...L,rating:ye}),isRequired:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),m.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:L.comment,onChange:ye=>k({...L,comment:ye.target.value}),required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:()=>{M(!1),O(null),k({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:z?"Update Review":"Submit Review"})]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[m.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[bf,yE],className:"mb-2 rounded-lg relative",children:[(ie=o==null?void 0:o.images)==null?void 0:ie.map((ye,Te)=>m.jsxs(jl,{children:[m.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),m.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[m.jsx("p",{children:o.colorName}),m.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"relative mt-2",children:[m.jsx(Ml,{onSwiper:h,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[bf,yE,vE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>m.jsx(jl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>u(ye),children:[m.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[bf],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:_,children:[(oe=e.images)==null?void 0:oe.map((ye,Te)=>m.jsx(jl,{children:m.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((be=e.images)==null?void 0:be.length)>1&&m.jsx("div",{className:"relative mt-2",children:m.jsx(Ml,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[vE],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>m.jsx(jl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),b&&b.slideTo(Te)},children:[m.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),m.jsxs("div",{className:"px-2 sm:px-0",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:m.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[m.jsx("span",{children:m.jsx(Sw,{})}),m.jsx("p",{children:"Ask for details"})]})}),m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx(ku,{style:{maxWidth:100},value:G,readOnly:!0}),m.jsxs("span",{className:"ml-2 text-gray-700",children:[G," (",N.length," ",N.length===1?"review":"reviews",")"]})]}),m.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[m.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&m.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&m.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),m.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>m.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&u(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((ae=o==null?void 0:o.sizes)==null?void 0:ae.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(T==null?void 0:T.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${pe(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!pe(ye.stock)&&A(ye),disabled:pe(ye.stock),children:ye.size}),m.jsxs("span",{className:`text-xs mt-1 ${pe(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),m.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[m.jsx("span",{className:`font-medium ${ce()?"text-red-500":"text-green-600"}`,children:ce()?"Out of Stock":"In Stock"}),!ce()&&m.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),m.jsx("div",{children:e.productType&&m.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),m.jsxs("div",{className:"flex gap-3 mb-2",children:[m.jsx("button",{onClick:I,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ce()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:ce()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!T,children:"Add to Cart"}),m.jsx("button",{onClick:V,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ce()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:ce()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!T,children:"Buy Now"})]}),m.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[m.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:m.jsx(P6,{className:"text-black text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"কল করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx(Sw,{className:"text-green-500 text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),m.jsxs("div",{className:"mt-8 border-t pt-6",children:[m.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("description"),children:"Description"}),m.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("reviews"),children:["Reviews (",N.length,")"]})]}),m.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?m.jsxs("div",{className:"space-y-4",children:[e.productType&&m.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:m.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),m.jsx("div",{className:"prose max-w-none text-gray-600",children:e.description||"No description available."}),e.detailsImage&&m.jsx("div",{className:"mt-4",children:m.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[m.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[m.jsxs("h3",{className:"text-xl font-bold",children:[G," out of 5"]}),m.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:m.jsx(ku,{style:{maxWidth:120},value:G,readOnly:!0})}),m.jsxs("p",{className:"text-gray-600",children:[N.length," ",N.length===1?"review":"reviews"]})]}),m.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),N.length>0?m.jsx("div",{className:"space-y-6",children:N.map(ye=>m.jsxs("div",{className:"border-b pb-4",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold",children:ye.name}),m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx(ku,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>U(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),m.jsx("button",{onClick:()=>j(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),m.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&m.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),m.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),m.jsx("button",{onClick:()=>M(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},L6=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=E=>{const{name:w,value:M,type:L,checked:k}=E.target;e(z=>({...z,[w]:L==="checkbox"?k:M}))},r=E=>{const{name:w,value:M}=E.target;e(L=>({...L,[w]:Number(M)}))},a=E=>{const{name:w,value:M}=E.target;e(L=>({...L,[w]:M.split(",").map(k=>k.trim())}))},o=(E,w,M)=>{const L=[...n.colorVariants];L[E][w]=w==="stock"||w==="isOutfit"?w==="isOutfit"?M:Number(M):M,e(k=>({...k,colorVariants:L}))},u=(E,w,M)=>{const L=[...n.colorVariants];L[E].images[w]=M,e(k=>({...k,colorVariants:L}))},d=(E,w,M,L)=>{const k=[...n.colorVariants];k[E].sizes[w][M]=M==="stock"?Number(L):L,e(z=>({...z,colorVariants:k}))},h=()=>{e(E=>({...E,colorVariants:[...E.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=E=>{const w=[...n.colorVariants];w.splice(E,1),e(M=>({...M,colorVariants:w}))},y=E=>{const w=[...n.colorVariants];w[E].images.push(""),e(M=>({...M,colorVariants:w}))},b=(E,w)=>{const M=[...n.colorVariants];M[E].images.splice(w,1),e(L=>({...L,colorVariants:M}))},_=E=>{const w=[...n.colorVariants];w[E].sizes.push({size:"",stock:0}),e(M=>({...M,colorVariants:w}))},T=(E,w)=>{const M=[...n.colorVariants];M[E].sizes.splice(w,1),e(L=>({...L,colorVariants:M}))},A=(E,w)=>{const M=[...n.images];M[E]=w,e(L=>({...L,images:M}))},P=()=>{e(E=>({...E,images:[...E.images,""]}))},R=E=>{const w=[...n.images];w.splice(E,1),e(M=>({...M,images:w}))},N=async E=>{E.preventDefault();try{const w={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?w.colorVariants=n.colorVariants.map(L=>{const{isOutfit:k,sizes:z,...O}=L;return k?{...O,sizes:z}:O}):w.images=n.images;const M=ka(bn,n.collectionName,n.documentName);await Ff(M,w),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(L=>({...L,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(w){console.error("Error adding document: ",w),alert("Error uploading product!")}};return m.jsxs("div",{className:"container mx-auto p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),m.jsxs("form",{onSubmit:N,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),m.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),m.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),m.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),m.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Gender"}),m.jsx("option",{value:"men",children:"Men"}),m.jsx("option",{value:"women",children:"Women"}),m.jsx("option",{value:"unisex",children:"Unisex"}),m.jsx("option",{value:"kids",children:"Kids"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),m.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),m.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Delivery Charge Option"}),m.jsx("option",{value:"true",children:"Apply Delivery Charge"}),m.jsx("option",{value:"false",children:"Free Delivery"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),m.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),m.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),m.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),m.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),m.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),m.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),m.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),m.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),m.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[m.jsx("option",{value:"",children:"Select Product Type"}),m.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),m.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((E,w)=>m.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),m.jsx("input",{type:"text",value:E.colorName,onChange:M=>o(w,"colorName",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:E.stock,onChange:M=>o(w,"stock",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),m.jsx("input",{type:"text",value:E.thumbnail,onChange:M=>o(w,"thumbnail",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:E.isOutfit,onChange:M=>o(w,"isOutfit",M.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),E.isOutfit&&m.jsxs("div",{className:"space-y-3 mt-3",children:[m.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),E.sizes.map((M,L)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),m.jsx("input",{type:"text",value:M.size,onChange:k=>d(w,L,"size",k.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:M.stock,onChange:k=>d(w,L,"stock",k.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("button",{type:"button",onClick:()=>T(w,L),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},L)),m.jsx("button",{type:"button",onClick:()=>_(w),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),E.images.map((M,L)=>m.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[m.jsx("input",{type:"text",value:M,onChange:k=>u(w,L,k.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>b(w,L),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},L)),m.jsx("button",{type:"button",onClick:()=>y(w),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("button",{type:"button",onClick:()=>p(w),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},w)),m.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((E,w)=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"text",value:E,onChange:M=>A(w,M.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>R(w),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},w)),m.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},V6=()=>{const{gender:n}=_0(),e=2,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,u]=q.useState(window.innerWidth>=768),d=w=>(typeof w!="number"&&(w=parseFloat(w)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(w)));q.useEffect(()=>{const w=()=>{const M=window.innerWidth;a(M<768),u(M>=768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const h=async({pageParam:w=null})=>{const M=w?Mo(ns(bn,"products"),ba("gender","==",n),JS(w),Uf(e)):Mo(ns(bn,"products"),ba("gender","==",n),Uf(e)),L=await Ba(M),k=[];return L.forEach(z=>{const O=z.data();O.available&&O.stock>0&&k.push({id:z.id,...O})}),{products:k,lastVisible:L.docs[L.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:b,isFetchingNextPage:_,isLoading:T,error:A}=tA({queryKey:["products",n],queryFn:h,getNextPageParam:w=>w.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=w=>{var k;const M=JSON.parse(localStorage.getItem("cart"))||[],L=M.find(z=>z.id===w.id);L?L.quantity+=1:M.push({id:w.id,productId:w.productId,name:w.name,price:w.discount?Math.round(w.price-w.price*(w.discount/100)):Math.round(w.price),image:w.mainImage||((k=w.images)==null?void 0:k[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(M)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},R=w=>{var L;w.isColorVariants&&((L=w.colorVariants)==null?void 0:L.length)>0?window.location.href=`/product/${w.productId||w.id}`:P(w)},N=w=>{var L;w.isColorVariants&&((L=w.colorVariants)==null?void 0:L.length)>0?window.location.href=`/product/${w.productId||w.id}`:(P(w),window.location.href="/cart")},E=(p==null?void 0:p.pages.flatMap(w=>w.products))||[];return T?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):A?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"min-h-screen md:px-4",ref:t,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:[n,"'s Collection"]}),E.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:E.map(w=>{var ce,pe;const M=w.discount&&w.discount>0,L=w.isColorVariants&&((ce=w.colorVariants)==null?void 0:ce.length)>0,k=r&&w.name.length>17?`${w.name.substring(0,17)}.`:w.name,z=o&&w.name.length>25?`${w.name.substring(0,25)}.`:w.name,O=r?k:z,I=r&&w.name.length>17,V=o&&w.name.length>25,F=M?Math.round(w.price-w.price*(w.discount/100)):null,U=M?F:Math.round(w.price),j=w.regularPrice?Math.round(w.regularPrice):null;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(Mt,{to:`/product/${w.productId||w.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:w.mainImage||((pe=w.images)==null?void 0:pe[0])||"/placeholder-product.jpg",alt:w.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),M&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[w.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[O,(I||V)&&m.jsx(Mt,{to:`/product/${w.productId||w.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:G=>{G.preventDefault(),window.location.href=`/product/${w.productId||w.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",d(U)]}),M&&j&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",d(j)]})})]}),w.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",w.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>R(w),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:L?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>N(w),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${w.stock>0?"text-green-600":"text-red-500"}`,children:w.stock>0?"In Stock":"Out of Stock"}),w.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[w.stock," units"]})]})]})]},w.id)})}),b&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>y(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},z6=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:b}=p.target;e(_=>({..._,[y]:b}))},o=(p,y)=>{const{name:b,value:_}=y.target,T=[...n.items];T[p]={...T[p],[b]:_},e(A=>({...A,items:T}))},u=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const y=n.items.filter((b,_)=>_!==p);e(b=>({...b,items:y}))},h=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=ka(bn,n.collectionName,n.documentName),b=await Bf(y);let _={};b.exists()&&(_=b.data());const T={..._,type:n.type,updatedAt:wD()};if(n.type==="link"&&(T.order=Number(n.order)),n.type==="dropdown"){const A=_.items||[],P=n.items.filter(R=>R.name&&R.path);T.items=[...A,...P],T.path=null}else T.path=n.path,T.items=null;await Ff(y,T,{merge:!0}),alert("Category saved successfully!"),e(A=>({...A,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex border-b mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),m.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),m.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[m.jsx("option",{value:"dropdown",children:"Dropdown"}),m.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),m.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),m.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("button",{type:"button",onClick:()=>d(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),m.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),m.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",m.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",m.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:m.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),m.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},U6=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[u,d]=q.useState(""),[h,p]=q.useState(0),[y,b]=q.useState(""),[_,T]=q.useState(!0),[A,P]=q.useState({}),R=cd(),N=U=>{const j=typeof U=="string"?parseFloat(U):U;return Math.floor(j).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const pe=(JSON.parse(localStorage.getItem("cart"))||[]).map(ie=>({...ie,price:typeof ie.price=="string"?parseFloat(ie.price):ie.price,deliveryCharge:typeof ie.deliveryCharge>"u"?!0:ie.deliveryCharge}));e(pe);const G={};for(const ie of pe)try{const oe=ka(bn,"products",ie.productId),be=await Bf(oe);be.exists()&&(G[ie.productId]=be.data())}catch(oe){console.error("Error fetching product data:",oe)}P(G),E(),T(!1)})();const j=ce=>{if(ce.detail)e(ce.detail);else{const pe=JSON.parse(localStorage.getItem("cart"))||[];e(pe)}E()};return window.addEventListener("cartUpdated",j),()=>{window.removeEventListener("cartUpdated",j)}},[]);const E=async()=>{try{await new Promise(pe=>setTimeout(pe,500));const U={coxbazar:50,outOfCoxbazar:100},ce=n.some(pe=>{const G=A[pe.productId];return(G==null?void 0:G.deliveryCharge)===!0||typeof(G==null?void 0:G.deliveryCharge)>"u"&&(pe.deliveryCharge===!0||typeof pe.deliveryCharge>"u")})?t==="inside"?U.coxbazar:U.outOfCoxbazar:0;o(ce)}catch(U){console.error("Error fetching shipping charges:",U);const j=n.some(ce=>{const pe=A[ce.productId];return(pe==null?void 0:pe.deliveryCharge)===!0||typeof(pe==null?void 0:pe.deliveryCharge)>"u"&&(ce.deliveryCharge===!0||typeof ce.deliveryCharge>"u")});o(j?t==="inside"?50:100:0)}};q.useEffect(()=>{E()},[t,n,A]);const w=(U,j)=>{if(j<1)return;const ce=n.map(pe=>pe.id===U?{...pe,quantity:j}:pe);localStorage.setItem("cart",JSON.stringify(ce)),e(ce),window.dispatchEvent(new Event("storage"))},M=U=>{const j=n.filter(ce=>ce.id!==U);localStorage.setItem("cart",JSON.stringify(j)),e(j),window.dispatchEvent(new Event("storage"))},L=()=>n.reduce((U,j)=>{const ce=typeof j.price=="number"?j.price:typeof j.price=="string"?parseFloat(j.price):0;return U+Math.floor(ce)*j.quantity},0),k=()=>{const U=L();return Math.floor(U+a-h)},z=U=>{r(U.target.value)},O=async()=>{if(!u.trim()){b("Please enter a coupon code");return}T(!0);try{await new Promise(j=>setTimeout(j,800));const U={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};U.valid?(p(U.discountAmount),b(`Coupon applied! Discount: ৳${N(U.discountAmount)}`)):(p(0),b(U.message))}catch(U){console.error("Error applying coupon:",U),b("Failed to apply coupon. Please try again.")}finally{T(!1)}},I=()=>{const U={cartItems:n.map(j=>({...j,price:typeof j.price=="string"?parseFloat(j.price):j.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:h}};localStorage.setItem("checkoutState",JSON.stringify(U)),R("/checkout",{state:U})};if(_&&n.length===0)return m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const V=n.some(U=>{const j=A[U.productId];return(j==null?void 0:j.deliveryCharge)===!0||typeof(j==null?void 0:j.deliveryCharge)>"u"&&(U.deliveryCharge===!0||typeof U.deliveryCharge>"u")}),F=n.filter(U=>{const j=A[U.productId];return(j==null?void 0:j.deliveryCharge)===!1||U.deliveryCharge===!1});return m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),m.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?m.jsxs("div",{className:"text-center py-8 sm:py-12",children:[m.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),m.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx(Mt,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(U=>{var G,ie;const j=typeof U.price=="number"?U.price:typeof U.price=="string"?parseFloat(U.price):0;Math.floor(j)*U.quantity;const ce=A[U.productId],pe=(ce==null?void 0:ce.deliveryCharge)===!1||U.deliveryCharge===!1;return m.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:m.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("div",{className:"pr-2",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:U.name}),((G=U.color)==null?void 0:G.name)&&m.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",m.jsx("span",{className:"capitalize",children:U.color.name})]}),((ie=U.size)==null?void 0:ie.size)&&m.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",m.jsx("span",{className:"uppercase",children:U.size.size})]}),pe&&m.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),m.jsx("button",{onClick:()=>M(U.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:m.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",N(j)]}),m.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[m.jsx("button",{onClick:()=>w(U.id,U.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),m.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:U.quantity}),m.jsx("button",{onClick:()=>w(U.id,U.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},U.id)})})})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",N(L())]})]}),V?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),m.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:z,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:z,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",N(a)]})]})]}):m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),m.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),F.length>0&&m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),m.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:F.map(U=>{var j;return m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-1",children:"•"}),m.jsx("span",{className:"line-clamp-1",children:U.name}),((j=U.size)==null?void 0:j.size)&&m.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",U.size.size,")"]})]},U.id)})})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),m.jsxs("div",{className:"flex rounded-md shadow-sm",children:[m.jsx("input",{type:"text",id:"coupon",value:u,onChange:U=>d(U.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),m.jsx("button",{onClick:O,disabled:_,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:_?m.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&m.jsx("p",{className:`mt-1 text-xs sm:text-sm ${h>0?"text-green-600":"text-red-600"}`,children:y})]}),h>0&&m.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[m.jsx("span",{children:"Discount"}),m.jsxs("span",{children:["-৳",N(h)]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",N(k())]})]})}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx("button",{onClick:I,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),m.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:m.jsxs("p",{children:["or"," ",m.jsxs(Mt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",m.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},B6=()=>{const n=Ws(),e=cd(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[u,d]=q.useState(!1),[h,p]=q.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const M=localStorage.getItem("checkoutState");return M?JSON.parse(M):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:b,shipping:_,coupon:T}=y();q.useEffect(()=>{b.length===0&&e("/cart")},[b,e]),q.useEffect(()=>{const M=async()=>{try{const L=ns(bn,"products"),k=await Ba(L),z=b.map(I=>I.id);let O=!1;k.forEach(I=>{z.includes(I.id)&&I.data().productType&&(O=!0)}),d(O),r(I=>({...I,paymentMethod:O?"bkash":"cash"})),p(!1)}catch(L){console.error("Error checking product types:",L),p(!1)}};b.length>0?M():p(!1)},[b]);const A=M=>{const L=typeof M=="string"?parseFloat(M):M;return Math.floor(L).toLocaleString("en-US")},P=()=>b.reduce((M,L)=>{const k=typeof L.price=="number"?L.price:typeof L.price=="string"?parseFloat(L.price):0;return M+Math.floor(k)*L.quantity},0),R=()=>{const M=P();return Math.floor(M+_.charge-T.discount)},N=M=>{const{name:L,value:k,type:z,checked:O}=M.target;r({...t,[L]:z==="checkbox"?O:k}),a[L]&&o({...a,[L]:""})},E=()=>{const M={};return t.name.trim()||(M.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(M.phone="Please enter a valid Bangladeshi phone number"):M.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(M.address="Address should be at least 10 characters"):M.address="Address is required",t.notes.length>100&&(M.notes="Notes should not exceed 100 characters"),t.agreeTerms||(M.agreeTerms="You must agree to the terms and conditions"),o(M),Object.keys(M).length===0},w=M=>{if(M.preventDefault(),!E())return;const L={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:b,shipping:_,coupon:T,subtotal:P(),total:R(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:L,hasAnyProductWithType:u}})};return console.log(t),h?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:m.jsx("div",{className:"text-center",children:m.jsxs("div",{className:"inline-flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("span",{children:"Loading payment options..."})]})})}):m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),m.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),m.jsx("form",{onSubmit:w,children:m.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-2",children:["Payment Method ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("div",{className:"space-y-2",children:u?m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment (Required for selected products)"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-cash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"Cash on Delivery"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment"})]})]})}),u&&m.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-700",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"}),u&&m.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Note: Some products in your cart require bKash payment."})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"name",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Full Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:N,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.name?"border-red-500":"border"}`}),a.name&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"phone",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Phone Number ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500 sm:text-sm",children:"+88"})}),m.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:N,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.phone?"border-red-500":"border"}`})]}),a.phone&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"address",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Delivery Address ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:N,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.address?"border-red-500":"border"}`,placeholder:"House #, Road #, Area, District"}),a.address&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm sm:text-base font-medium text-gray-700",children:"Order Notes (Optional)"}),m.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:N,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.notes?"border-red-500":"border"}`,placeholder:"Any special instructions for your order..."}),m.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&m.jsx("p",{className:"text-sm text-red-600",children:a.notes}),m.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex items-center h-5",children:m.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:N,className:`h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 ${a.agreeTerms?"border-red-500":"border"}`})}),m.jsxs("div",{className:"ml-3 text-sm",children:[m.jsxs("label",{htmlFor:"agreeTerms",className:"font-medium text-gray-700",children:["I agree to the ",m.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ",m.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&m.jsx("p",{className:"mt-1 text-red-600",children:a.agreeTerms})]})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Place Order"}),a.submit&&m.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:a.submit})]})]})})]})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),m.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[m.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[m.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[b.length," ",b.length===1?"Item":"Items"]}),m.jsx("ul",{className:"divide-y divide-gray-200",children:b.map(M=>{var z;const L=typeof M.price=="number"?M.price:typeof M.price=="string"?parseFloat(M.price):0,k=Math.floor(L)*M.quantity;return m.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:m.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:M.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[M.quantity," × ৳",A(L)]}),((z=M.size)==null?void 0:z.size)&&m.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",M.size.size]})]})]}),m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",A(k)]})]},M.id)})})]}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",A(P())]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),m.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:_.charge>0?`৳${A(_.charge)} (${_.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:m.jsx("span",{className:"text-green-600",children:"Free"})})]}),T.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",A(T.discount),T.code&&` (${T.code})`]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",A(R())]})]})})]})]})]})})]})]})})},F6=()=>{const n=Ws(),e=cd(),{orderData:t}=n.state||{},[r,a]=q.useState({bkashNumber:"",transactionId:""}),[o,u]=q.useState({}),[d,h]=q.useState(!1),[p,y]=q.useState(!1);if(!t)return e("/checkout"),null;const b=N=>{const E=typeof N=="string"?parseFloat(N):N;return Math.floor(E).toLocaleString("en-US")},_=N=>{const{name:E,value:w}=N.target;a({...r,[E]:w}),o[E]&&u({...o,[E]:""})},T=()=>{const N={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(N.bkashNumber="Please enter a valid bKash number"):N.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(N.transactionId="Transaction ID should be at least 8 characters"):N.transactionId="Transaction ID is required",u(N),Object.keys(N).length===0},A=async N=>{try{const E=[];console.log("Items to update:",N);for(const w of N){const M=ka(bn,"products",w.id),L=await Bf(M);if(!L.exists()){console.warn(`Product not found: ${w.id}`);continue}const k=L.data();console.log(`Product data for ${w.id}:`,k);let z={};if(w.color&&w.size&&k.colorVariants){console.log(`Updating with color and size for ${w.id}`,w);const O=k.colorVariants.map(I=>I);console.log("Updated color variants:",O),z={colorVariants:O,stock:(k.stock||0)-w.quantity}}else if(w.color&&k.colorVariants&&!w.size){console.log(`Updating with only color for ${w.id}`,w);const O=k.colorVariants.map(I=>I.colorName===w.color.name?{...I,stock:(I.stock||0)-w.quantity}:I);console.log("Updated color variants:",O),z={colorVariants:O,stock:(k.stock||0)-w.quantity}}else console.log(`Updating regular product ${w.id}`,w),z={stock:(k.stock||0)-w.quantity};E.push(s2(M,z))}await Promise.all(E),console.log("All stock updates completed successfully")}catch(E){throw console.error("Error updating product stock:",E),E}},P=async(N,E,w,M,L,k)=>{try{const z=`প্রিয় ${w}, আপনার অর্ডার #${N} সফলভাবে গ্রহণ করা হয়েছে! মোট: ৳${b(L)}। পণ্য: ${M.slice(0,3).map(j=>j.name).join(", ")}${M.length>3?` এবং আরো ${M.length-3}টি`:""}। অর্ডার সম্পর্কিত যেকোনো তথ্যের জন্য কল করুন আমাদের helpline এ 01783694568 . mahiracollection থেকে shopping এর জন্য আপনাকে ধন্যবাদ।`,O=k==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",I=`নতুন অর্ডার #${N}
গ্রাহক: ${w}
মোবাইল: ${E}
পণ্য: ${M.map(j=>`${j.name} (${j.quantity}x)`).join(", ")}
মোট: ৳${b(L)}
পেমেন্ট: ${O}`,V={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${E.replace(/^0/,"")}`,message:z},{to:"8801736600480",message:I}]},U=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).json();if(console.log("SMS API রেস্পন্স:",U),U.error_message)throw new Error(U.error_message);return U}catch(z){console.error("SMS পাঠানোর সময় ত্রুটি:",z)}},R=async()=>{if(!(t.paymentMethod==="bkash"&&!T())){h(!0);try{await A(t.items);const N=ka(bn,"orders",t.customer.phone),E=`${Date.now()}`.slice(-6),w={...t,orderId:E,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(w.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await Bf(N)).exists()?await Ff(N,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:ED(w),updatedAt:new Date().toISOString()},{merge:!0}):await Ff(N,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[w],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await P(E,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(N){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",N)}finally{h(!1)}}};return p?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:m.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),m.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",m.jsx("span",{className:"font-medium",children:t.customer.phone})]}),m.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),m.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),m.jsxs("div",{className:"px-6 py-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),m.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((N,E)=>{var M,L;const w=Math.floor(N.price)*N.quantity;return m.jsxs("li",{className:"py-4 flex justify-between",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:m.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.name}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.quantity," × ৳",b(N.price)]}),((M=N.size)==null?void 0:M.size)&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",N.size.size]}),((L=N.color)==null?void 0:L.color)&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",N.color.color]})]})]}),m.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",b(w)]})]},E)})})]}),m.jsxs("div",{className:"space-y-3 pt-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),m.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",b(t.subtotal)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${b(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:m.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),m.jsxs("span",{className:"text-sm font-medium",children:["-৳",b(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:m.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[m.jsx("span",{children:"মোট"}),m.jsxs("span",{children:["৳",b(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&m.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"bKash পেমেন্ট ডিটেইলস"})}),m.jsx("div",{className:"px-6 py-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:["bKash নম্বর ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"relative rounded-md shadow-sm",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500",children:"+88"})}),m.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:_,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2 rounded-md border ${o.bkashNumber?"border-red-500":"border-gray-300"} focus:ring-blue-500 focus:border-blue-500`})]}),o.bkashNumber&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.bkashNumber})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-700 mb-1",children:["ট্রানজেকশন আইডি ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:_,className:`block w-full py-2 rounded-md border ${o.transactionId?"border-red-500":"border-gray-300"} focus:ring-blue-500 focus:border-blue-500`,placeholder:"ট্রানজেকশন আইডি লিখুন"}),o.transactionId&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.transactionId})]}),m.jsxs("div",{className:"bg-blue-50 p-3 rounded-md text-sm text-blue-700",children:[m.jsx("p",{children:m.jsx("strong",{children:"পেমেন্ট নির্দেশাবলী:"})}),m.jsxs("p",{className:"mt-1",children:["1. bKash নম্বর: ",m.jsx("strong",{children:"017XXXXXXXX"})," এ ৳",b(t.total)," পাঠান"]}),m.jsx("p",{className:"mt-1",children:"2. উপরে আপনার bKash নম্বর এবং ট্রানজেকশন আইডি লিখুন"})]})]})})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),m.jsx("div",{className:"px-6 py-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),m.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),m.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),m.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),m.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),m.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?m.jsxs("span",{className:"inline-flex items-center",children:[m.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),m.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:m.jsx("div",{className:"px-6 py-4",children:m.jsx("button",{onClick:R,disabled:d,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:d?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},q6=rI([{path:"/",element:m.jsx(dL,{}),children:[{index:!0,element:m.jsx(bE,{})},{path:"/home",element:m.jsx(bE,{})},{path:"/category/:gender",element:m.jsx(V6,{})},{path:"/category/:gender/:category",element:m.jsx(xE,{})},{path:"/category/:gender",element:m.jsx(xE,{})},{path:"/all-categories",element:m.jsx(rA,{})},{path:"/product/:productId",element:m.jsx(k6,{})},{path:"/admin",element:m.jsx($5,{})},{path:"/up-products",element:m.jsx(L6,{})},{path:"/up-categories",element:m.jsx(z6,{})},{path:"/cart",element:m.jsx(U6,{})},{path:"/checkout",element:m.jsx(B6,{})},{path:"/complete-order",element:m.jsx(F6,{})},{path:"/footer",element:m.jsx(nA,{})}]}]);aN.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(H5,{children:m.jsx(yI,{router:q6})})}));
