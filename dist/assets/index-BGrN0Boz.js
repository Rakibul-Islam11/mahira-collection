var U_=n=>{throw TypeError(n)};var Cg=(n,e,t)=>e.has(n)||U_("Cannot "+t);var Y=(n,e,t)=>(Cg(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?U_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Cg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mt=(n,e,t)=>(Cg(n,e,"access private method"),t);var Vh=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function L1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rg={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function XC(){if(B_)return pu;B_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var F_;function WC(){return F_||(F_=1,Rg.exports=XC()),Rg.exports}var m=WC(),Ng={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function ZC(){if(q_)return et;q_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function I(H,ie,ye){this.props=H,this.context=ie,this.refs=P,this.updater=ye||T}I.prototype.isReactComponent={},I.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=I.prototype;function w(H,ie,ye){this.props=H,this.context=ie,this.refs=P,this.updater=ye||T}var E=w.prototype=new N;E.constructor=w,C(E,I.prototype),E.isPureReactComponent=!0;var L=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function V(H,ie,ye,pe,Se,Ve){return ye=Ve.ref,{$$typeof:n,type:H,key:ie,ref:ye!==void 0?ye:null,props:Ve}}function M(H,ie){return V(H.type,ie,void 0,void 0,void 0,H.props)}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function R(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ye){return ie[ye]})}var D=/\/+/g;function F(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?R(""+H.key):ie.toString(36)}function k(){}function oe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(k,k):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ve(H,ie,ye,pe,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,ve(Ee(H._payload),ie,ye,pe,Se)}}if(Ee)return Se=Se(H),Ee=pe===""?"."+F(H,0):pe,L(Se)?(ye="",Ee!=null&&(ye=Ee.replace(D,"$&/")+"/"),ve(Se,ie,ye,"",function(it){return it})):Se!=null&&(O(Se)&&(Se=M(Se,ye+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(D,"$&/")+"/")+Ee)),ie.push(Se)),1;Ee=0;var ge=pe===""?".":pe+":";if(L(H))for(var Te=0;Te<H.length;Te++)pe=H[Te],Ve=ge+F(pe,Te),Ee+=ve(pe,ie,ye,Ve,Se);else if(Te=_(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(pe=H.next()).done;)pe=pe.value,Ve=ge+F(pe,Te++),Ee+=ve(pe,ie,ye,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return ve(oe(H),ie,ye,pe,Se);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,ie,ye){if(H==null)return H;var pe=[],Se=0;return ve(H,pe,"","",function(Ve){return ie.call(ye,Ve,Se++)}),pe}function le(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ye){(H._status===0||H._status===-1)&&(H._status=1,H._result=ye)},function(ye){(H._status===0||H._status===-1)&&(H._status=2,H._result=ye)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return et.Children={map:$,forEach:function(H,ie,ye){$(H,function(){ie.apply(this,arguments)},ye)},count:function(H){var ie=0;return $(H,function(){ie++}),ie},toArray:function(H){return $(H,function(ie){return ie})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=I,et.Fragment=t,et.Profiler=a,et.PureComponent=w,et.StrictMode=r,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return B.H.useMemoCache(H)}},et.cache=function(H){return function(){return H.apply(null,arguments)}},et.cloneElement=function(H,ie,ye){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pe=C({},H.props),Se=H.key,Ve=void 0;if(ie!=null)for(Ee in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(Se=""+ie.key),ie)!U.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(pe[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)pe.children=ye;else if(1<Ee){for(var ge=Array(Ee),Te=0;Te<Ee;Te++)ge[Te]=arguments[Te+2];pe.children=ge}return V(H.type,Se,void 0,void 0,Ve,pe)},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},et.createElement=function(H,ie,ye){var pe,Se={},Ve=null;if(ie!=null)for(pe in ie.key!==void 0&&(Ve=""+ie.key),ie)U.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=ie[pe]);var Ee=arguments.length-2;if(Ee===1)Se.children=ye;else if(1<Ee){for(var ge=Array(Ee),Te=0;Te<Ee;Te++)ge[Te]=arguments[Te+2];Se.children=ge}if(H&&H.defaultProps)for(pe in Ee=H.defaultProps,Ee)Se[pe]===void 0&&(Se[pe]=Ee[pe]);return V(H,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:d,render:H}},et.isValidElement=O,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:le}},et.memo=function(H,ie){return{$$typeof:p,type:H,compare:ie===void 0?null:ie}},et.startTransition=function(H){var ie=B.T,ye={};B.T=ye;try{var pe=H(),Se=B.S;Se!==null&&Se(ye,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(xe,ae)}catch(Ve){ae(Ve)}finally{B.T=ie}},et.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},et.use=function(H){return B.H.use(H)},et.useActionState=function(H,ie,ye){return B.H.useActionState(H,ie,ye)},et.useCallback=function(H,ie){return B.H.useCallback(H,ie)},et.useContext=function(H){return B.H.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H,ie){return B.H.useDeferredValue(H,ie)},et.useEffect=function(H,ie,ye){var pe=B.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(H,ie)},et.useId=function(){return B.H.useId()},et.useImperativeHandle=function(H,ie,ye){return B.H.useImperativeHandle(H,ie,ye)},et.useInsertionEffect=function(H,ie){return B.H.useInsertionEffect(H,ie)},et.useLayoutEffect=function(H,ie){return B.H.useLayoutEffect(H,ie)},et.useMemo=function(H,ie){return B.H.useMemo(H,ie)},et.useOptimistic=function(H,ie){return B.H.useOptimistic(H,ie)},et.useReducer=function(H,ie,ye){return B.H.useReducer(H,ie,ye)},et.useRef=function(H){return B.H.useRef(H)},et.useState=function(H){return B.H.useState(H)},et.useSyncExternalStore=function(H,ie,ye){return B.H.useSyncExternalStore(H,ie,ye)},et.useTransition=function(){return B.H.useTransition()},et.version="19.1.0",et}var H_;function Wf(){return H_||(H_=1,Ng.exports=ZC()),Ng.exports}var q=Wf();const Ut=L1(q);var Ig={exports:{}},gu={},Og={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function JC(){return G_||(G_=1,function(n){function e($,le){var ae=$.length;$.push(le);e:for(;0<ae;){var xe=ae-1>>>1,H=$[xe];if(0<a(H,le))$[xe]=le,$[ae]=H,ae=xe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var le=$[0],ae=$.pop();if(ae!==le){$[0]=ae;e:for(var xe=0,H=$.length,ie=H>>>1;xe<ie;){var ye=2*(xe+1)-1,pe=$[ye],Se=ye+1,Ve=$[Se];if(0>a(pe,ae))Se<H&&0>a(Ve,pe)?($[xe]=Ve,$[Se]=ae,xe=Se):($[xe]=pe,$[ye]=ae,xe=ye);else if(Se<H&&0>a(Ve,ae))$[xe]=Ve,$[Se]=ae,xe=Se;else break e}}return le}function a($,le){var ae=$.sortIndex-le.sortIndex;return ae!==0?ae:$.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],y=1,b=null,_=3,T=!1,C=!1,P=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function L($){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=$)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(p)}}function B($){if(P=!1,L($),!C)if(t(h)!==null)C=!0,U||(U=!0,F());else{var le=t(p);le!==null&&ve(B,le.startTime-$)}}var U=!1,V=-1,M=5,O=-1;function R(){return I?!0:!(n.unstable_now()-O<M)}function D(){if(I=!1,U){var $=n.unstable_now();O=$;var le=!0;try{e:{C=!1,P&&(P=!1,w(V),V=-1),T=!0;var ae=_;try{t:{for(L($),b=t(h);b!==null&&!(b.expirationTime>$&&R());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,_=b.priorityLevel;var H=xe(b.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){b.callback=H,L($),le=!0;break t}b===t(h)&&r(h),L($)}else r(h);b=t(h)}if(b!==null)le=!0;else{var ie=t(p);ie!==null&&ve(B,ie.startTime-$),le=!1}}break e}finally{b=null,_=ae,T=!1}le=void 0}}finally{le?F():U=!1}}}var F;if(typeof E=="function")F=function(){E(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,oe=k.port2;k.port1.onmessage=D,F=function(){oe.postMessage(null)}}else F=function(){N(D,0)};function ve($,le){V=N(function(){$(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ae=_;_=le;try{return $()}finally{_=ae}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=_;_=$;try{return le()}finally{_=ae}},n.unstable_scheduleCallback=function($,le,ae){var xe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,$={id:y++,callback:le,priorityLevel:$,startTime:ae,expirationTime:H,sortIndex:-1},ae>xe?($.sortIndex=ae,e(p,$),t(h)===null&&$===t(p)&&(P?(w(V),V=-1):P=!0,ve(B,ae-xe))):($.sortIndex=H,e(h,$),C||T||(C=!0,U||(U=!0,F()))),$},n.unstable_shouldYield=R,n.unstable_wrapCallback=function($){var le=_;return function(){var ae=_;_=le;try{return $.apply(this,arguments)}finally{_=ae}}}}(Mg)),Mg}var $_;function eR(){return $_||($_=1,Og.exports=JC()),Og.exports}var Dg={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function tR(){if(Q_)return $n;Q_=1;var n=Wf();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,y)},$n.flushSync=function(h){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=p,r.p=y,r.d.f()}},$n.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},$n.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},$n.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:T}):y==="script"&&r.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$n.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},$n.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin);r.d.L(h,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$n.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},$n.requestFormReset=function(h){r.d.r(h)},$n.unstable_batchedUpdates=function(h,p){return h(p)},$n.useFormState=function(h,p,y){return u.H.useFormState(h,p,y)},$n.useFormStatus=function(){return u.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var K_;function V1(){if(K_)return Dg.exports;K_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dg.exports=tR(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function nR(){if(Y_)return gu;Y_=1;var n=eR(),e=Wf(),t=V1();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function h(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),s;if(v===c)return d(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var A=!1,j=g.child;j;){if(j===l){A=!0,l=g,c=v;break}if(j===c){A=!0,c=g,l=v;break}j=j.sibling}if(!A){for(j=v.child;j;){if(j===l){A=!0,l=v,c=g;break}if(j===c){A=!0,c=v,l=g;break}j=j.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case I:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case E:return(s.displayName||"Context")+".Provider";case w:return(s._context.displayName||"Context")+".Consumer";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return i=s.displayName||null,i!==null?i:oe(s.type)||"Memo";case M:i=s._payload,s=s._init;try{return oe(s(i))}catch{}}return null}var ve=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function ie(s){return{current:s}}function ye(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function pe(s,i){H++,xe[H]=s.current,s.current=i}var Se=ie(null),Ve=ie(null),Ee=ie(null),ge=ie(null);function Te(s,i){switch(pe(Ee,i),pe(Ve,s),pe(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?m_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=m_(i),s=p_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ye(Se),pe(Se,s)}function it(){ye(Se),ye(Ve),ye(Ee)}function Ze(s){s.memoizedState!==null&&pe(ge,s);var i=Se.current,l=p_(i,s.type);i!==l&&(pe(Ve,s),pe(Se,l))}function It(s){Ve.current===s&&(ye(Se),ye(Ve)),ge.current===s&&(ye(ge),uu._currentValue=ae)}var Ht=Object.prototype.hasOwnProperty,fn=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,ur=n.unstable_shouldYield,Jn=n.unstable_requestPaint,Xt=n.unstable_now,xs=n.unstable_getCurrentPriorityLevel,_s=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,ss=n.unstable_NormalPriority,er=n.unstable_LowPriority,tr=n.unstable_IdlePriority,Es=n.log,is=n.unstable_setDisableYieldValue,gt=null,We=null;function wn(s){if(typeof Es=="function"&&is(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,s)}catch{}}var $t=Math.clz32?Math.clz32:Vr,Zs=Math.log,dr=Math.LN2;function Vr(s){return s>>>=0,s===0?32:31-(Zs(s)/dr|0)|0}var zr=256,Me=4194304;function Oe(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,v=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var j=c&134217727;return j!==0?(c=j&~v,c!==0?g=Oe(c):(A&=j,A!==0?g=Oe(A):l||(l=j&~s,l!==0&&(g=Oe(l))))):(j=c&~v,j!==0?g=Oe(j):A!==0?g=Oe(A):l||(l=c&~s,l!==0&&(g=Oe(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function ht(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qt(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var s=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),s}function nr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function In(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function qn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function On(s,i,l,c,g,v){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var j=s.entanglements,G=s.expirationTimes,te=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-$t(l),fe=1<<ce;j[ce]=0,G[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var re=ne[ce];re!==null&&(re.lane&=-536870913)}l&=~fe}c!==0&&Qt(s,c,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(A&~i))}function Qt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-$t(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Ur(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-$t(l),g=1<<c;g&i|s[c]&i&&(s[c]|=i),l&=~g}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ts(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:j_(s.type))}function W(s,i){var l=le.p;try{return le.p=s,i()}finally{le.p=l}}var ee=Math.random().toString(36).slice(2),he="__reactFiber$"+ee,be="__reactProps$"+ee,Ce="__reactContainer$"+ee,ze="__reactEvents$"+ee,Re="__reactListeners$"+ee,De="__reactHandles$"+ee,Pe="__reactResources$"+ee,Ue="__reactMarker$"+ee;function je(s){delete s[he],delete s[be],delete s[ze],delete s[Re],delete s[De]}function Fe(s){var i=s[he];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ce]||l[he]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=b_(s);s!==null;){if(l=s[he])return l;s=b_(s)}return i}s=l,l=s.parentNode}return null}function at(s){if(s=s[he]||s[Ce]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function At(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function wt(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(s){s[Ue]=!0}var rt=new Set,Br={};function mn(s,i){rr(s,i),rr(s+"Capture",i)}function rr(s,i){for(Br[s]=i,s=0;s<i.length;s++)rt.add(i[s])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},wr={};function Mi(s){return Ht.call(wr,s)?!0:Ht.call(Ss,s)?!1:Mn.test(s)?wr[s]=!0:(Ss[s]=!0,!1)}function Hn(s,i,l){if(Mi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function sr(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ke(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}var an,Er;function hr(s){if(an===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+s+Er}var As=!1;function Lt(s,i){if(!s||As)return"";As=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(re){ne=re}s.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),A=v[0],j=v[1];if(A&&j){var G=A.split(`
`),te=j.split(`
`);for(g=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(c===G.length||g===te.length)for(c=G.length-1,g=te.length-1;1<=c&&0<=g&&G[c]!==te[g];)g--;for(;1<=c&&0<=g;c--,g--)if(G[c]!==te[g]){if(c!==1||g!==1)do if(c--,g--,0>g||G[c]!==te[g]){var ce=`
`+G[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=g);break}}}finally{As=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?hr(l):""}function Fr(s){switch(s.tag){case 26:case 27:case 5:return hr(s.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return Lt(s.type,!1);case 11:return Lt(s.type.render,!1);case 1:return Lt(s.type,!0);case 31:return hr("Activity");default:return""}}function Js(s){try{var i="";do i+=Fr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vc(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Om(s){var i=vc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(A){c=""+A,v.call(this,A)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bo(s){s._valueTracker||(s._valueTracker=Om(s))}function bc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=vc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function Ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Mm=/[\n"\\]/g;function on(s){return s.replace(Mm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(s,i,l,c,g,v,A,j){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),i!=null?A==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),i!=null?Di(s,A,Dn(i)):l!=null?Di(s,A,Dn(l)):c!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Dn(j):s.removeAttribute("name")}function Fa(s,i,l,c,g,v,A,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,j||i===s.value||(s.value=i),s.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=j?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Di(s,i,l){i==="number"&&Ba(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ei(s,i,l,c){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Dt(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function qa(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function qr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Ha.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function xc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&Ed(s,g,c)}else for(var v in i)i.hasOwnProperty(v)&&Ed(s,v,i[v])}function _c(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return jm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ti=null;function Hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ni=null,ri=null;function wc(s){var i=at(s);if(i&&(s=i.stateNode)){var l=s[be]||null;e:switch(s=i.stateNode,i.type){case"input":if(Tr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var g=c[be]||null;if(!g)throw Error(r(90));Tr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&bc(c)}break e;case"textarea":Dt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(s,!!l.multiple,i,!1)}}}var Cs=!1;function Td(s,i,l){if(Cs)return s(i,l);Cs=!0;try{var c=s(i);return c}finally{if(Cs=!1,(ni!==null||ri!==null)&&(yh(),ni&&(i=ni,s=ri,ri=ni=null,wc(i),s)))for(i=0;i<s.length;i++)wc(s[i])}}function Ga(s,i){var l=s.stateNode;if(l===null)return null;var c=l[be]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(as)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Gr=!1}var Rs=null,ji=null,si=null;function Ec(){if(si)return si;var s,i=ji,l=i.length,c,g="value"in Rs?Rs.value:Rs.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var A=l-s;for(c=1;c<=A&&i[l-c]===g[v-c];c++);return si=g.slice(s,1<c?1-c:void 0)}function Ns(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Is(){return!0}function Tc(){return!1}function En(s){function i(l,c,g,v,A){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(l=s[j],this[j]=l?l(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Is:Tc,this.isPropagationStopped=Tc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=En(Ct),Qa=y({},Ct,{view:0,detail:0}),Sd=En(Qa),Ho,Go,Os,Ka=y({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Os&&(Os&&s.type==="mousemove"?(Ho=s.screenX-Os.screenX,Go=s.screenY-Os.screenY):Go=Ho=0,Os=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),$r=En(Ka),Ad=y({},Ka,{dataTransfer:0}),Pm=En(Ad),Ya=y({},Qa,{relatedTarget:0}),$o=En(Ya),Sc=y({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=En(Sc),Cd=y({},Ct,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ko=En(Cd),km=y({},Ct,{data:0}),Ac=En(km),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Nd[s])?!!i[s]:!1}function Wa(){return Cc}var Id=y({},Qa,{key:function(s){if(s.key){var i=Xa[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ns(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(s){return s.type==="keypress"?Ns(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ns(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yo=En(Id),Od=y({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=En(Od),ii=y({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Md=En(ii),Dd=y({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),jd=En(Dd),Pd=y({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=En(Pd),ir=y({},Ct,{newState:0,oldState:0}),kd=En(ir),Ld=[9,13,27,32],Ms=as&&"CompositionEvent"in window,f=null;as&&"documentMode"in document&&(f=document.documentMode);var x=as&&"TextEvent"in window&&!f,S=as&&(!Ms||f&&8<f&&11>=f),z=" ",Z=!1;function se(s,i){switch(s){case"keyup":return Ld.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yt=!1;function pn(s,i){switch(s){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Z=!0,z);case"textInput":return s=i.data,s===z&&Z?null:s;default:return null}}function vt(s,i){if(yt)return s==="compositionend"||!Ms&&se(s,i)?(s=Ec(),si=ji=Rs=null,yt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Tn[s.type]:i==="textarea"}function ai(s,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=Eh(i,"onChange"),0<i.length&&(l=new qo("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var jn=null,Ds=null;function Nc(s){c_(s,0)}function Vd(s){var i=At(s);if(bc(i))return s}function Iv(s,i){if(s==="change")return i}var Ov=!1;if(as){var Lm;if(as){var Vm="oninput"in document;if(!Vm){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Vm=typeof Mv.oninput=="function"}Lm=Vm}else Lm=!1;Ov=Lm&&(!document.documentMode||9<document.documentMode)}function Dv(){jn&&(jn.detachEvent("onpropertychange",jv),Ds=jn=null)}function jv(s){if(s.propertyName==="value"&&Vd(Ds)){var i=[];ai(i,Ds,s,Hr(s)),Td(Nc,i)}}function AA(s,i,l){s==="focusin"?(Dv(),jn=i,Ds=l,jn.attachEvent("onpropertychange",jv)):s==="focusout"&&Dv()}function CA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vd(Ds)}function RA(s,i){if(s==="click")return Vd(i)}function NA(s,i){if(s==="input"||s==="change")return Vd(i)}function IA(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Sr=typeof Object.is=="function"?Object.is:IA;function Ic(s,i){if(Sr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ht.call(i,g)||!Sr(s[g],i[g]))return!1}return!0}function Pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kv(s,i){var l=Pv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Pv(l)}}function Lv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Lv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Vv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ba(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ba(s.document)}return i}function zm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var OA=as&&"documentMode"in document&&11>=document.documentMode,Wo=null,Um=null,Oc=null,Bm=!1;function zv(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bm||Wo==null||Wo!==Ba(c)||(c=Wo,"selectionStart"in c&&zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oc&&Ic(Oc,c)||(Oc=c,c=Eh(Um,"onSelect"),0<c.length&&(i=new qo("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Wo)))}function Za(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Fm={},Uv={};as&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Ja(s){if(Fm[s])return Fm[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Uv)return Fm[s]=i[l];return s}var Bv=Ja("animationend"),Fv=Ja("animationiteration"),qv=Ja("animationstart"),MA=Ja("transitionrun"),DA=Ja("transitionstart"),jA=Ja("transitioncancel"),Hv=Ja("transitionend"),Gv=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function os(s,i){Gv.set(s,i),mn(i,[s])}var $v=new WeakMap;function Qr(s,i){if(typeof s=="object"&&s!==null){var l=$v.get(s);return l!==void 0?l:(i={value:s,source:i,stack:Js(i)},$v.set(s,i),i)}return{value:s,source:i,stack:Js(i)}}var Kr=[],Jo=0,Hm=0;function zd(){for(var s=Jo,i=Hm=Jo=0;i<s;){var l=Kr[i];Kr[i++]=null;var c=Kr[i];Kr[i++]=null;var g=Kr[i];Kr[i++]=null;var v=Kr[i];if(Kr[i++]=null,c!==null&&g!==null){var A=c.pending;A===null?g.next=g:(g.next=A.next,A.next=g),c.pending=g}v!==0&&Qv(l,g,v)}}function Ud(s,i,l,c){Kr[Jo++]=s,Kr[Jo++]=i,Kr[Jo++]=l,Kr[Jo++]=c,Hm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Gm(s,i,l,c){return Ud(s,i,l,c),Bd(s)}function el(s,i){return Ud(s,null,null,i),Bd(s)}function Qv(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-$t(l),s=v.hiddenUpdates,c=s[g],c===null?s[g]=[i]:c.push(i),i.lane=l|536870912),v):null}function Bd(s){if(50<nu)throw nu=0,Wp=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={};function PA(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,c){return new PA(s,i,l,c)}function $m(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oi(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Kv(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Fd(s,i,l,c,g,v){var A=0;if(c=s,typeof s=="function")$m(s)&&(A=1);else if(typeof s=="string")A=LC(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Ar(31,l,i,g),s.elementType=O,s.lanes=v,s;case C:return eo(l.children,g,v,i);case P:A=8,g|=24;break;case I:return s=Ar(12,l,i,g|2),s.elementType=I,s.lanes=v,s;case B:return s=Ar(13,l,i,g),s.elementType=B,s.lanes=v,s;case U:return s=Ar(19,l,i,g),s.elementType=U,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case E:A=10;break e;case w:A=9;break e;case L:A=11;break e;case V:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Ar(A,l,i,g),i.elementType=s,i.type=c,i.lanes=v,i}function eo(s,i,l,c){return s=Ar(7,s,c,i),s.lanes=l,s}function Qm(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function Km(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nl=[],rl=0,qd=null,Hd=0,Yr=[],Xr=0,to=null,li=1,ci="";function no(s,i){nl[rl++]=Hd,nl[rl++]=qd,qd=s,Hd=i}function Yv(s,i,l){Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=to,to=s;var c=li;s=ci;var g=32-$t(c)-1;c&=~(1<<g),l+=1;var v=32-$t(i)+g;if(30<v){var A=g-g%5;v=(c&(1<<A)-1).toString(32),c>>=A,g-=A,li=1<<32-$t(i)+g|l<<g|c,ci=v+s}else li=1<<v|l<<g|c,ci=s}function Ym(s){s.return!==null&&(no(s,1),Yv(s,1,0))}function Xm(s){for(;s===qd;)qd=nl[--rl],nl[rl]=null,Hd=nl[--rl],nl[rl]=null;for(;s===to;)to=Yr[--Xr],Yr[Xr]=null,ci=Yr[--Xr],Yr[Xr]=null,li=Yr[--Xr],Yr[Xr]=null}var ar=null,Wt=null,Tt=!1,ro=null,js=!1,Wm=Error(r(519));function so(s){var i=Error(r(418,""));throw jc(Qr(i,s)),Wm}function Xv(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[he]=s,i[be]=c,l){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(l=0;l<su.length;l++)lt(su[l],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),Fa(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),qa(i,c.value,c.defaultValue,c.children),Bo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||f_(i.textContent,l)?(c.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),c.onScroll!=null&&lt("scroll",i),c.onScrollEnd!=null&&lt("scrollend",i),c.onClick!=null&&(i.onclick=Th),i=!0):i=!1,i||so(s)}function Wv(s){for(ar=s.return;ar;)switch(ar.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:ar=ar.return}}function Mc(s){if(s!==ar)return!1;if(!Tt)return Wv(s),Tt=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||fg(s.type,s.memoizedProps)),l=!l),l&&Wt&&so(s),Wv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Wt=cs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Wt=null}}else i===27?(i=Wt,Xi(s.type)?(s=yg,yg=null,Wt=s):Wt=i):Wt=ar?cs(s.stateNode.nextSibling):null;return!0}function Dc(){Wt=ar=null,Tt=!1}function Zv(){var s=ro;return s!==null&&(pr===null?pr=s:pr.push.apply(pr,s),ro=null),s}function jc(s){ro===null?ro=[s]:ro.push(s)}var Zm=ie(null),io=null,ui=null;function Pi(s,i,l){pe(Zm,i._currentValue),i._currentValue=l}function di(s){s._currentValue=Zm.current,ye(Zm)}function Jm(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function ep(s,i,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=g;for(var G=0;G<i.length;G++)if(j.context===i[G]){v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),Jm(v.return,l,s),c||(A=null);break e}v=j.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),Jm(A,l,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Pc(s,i,l,c){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var j=g.type;Sr(g.pendingProps.value,A.value)||(s!==null?s.push(j):s=[j])}}else if(g===ge.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(uu):s=[uu])}g=g.return}s!==null&&ep(i,s,l,c),i.flags|=262144}function Gd(s){for(s=s.firstContext;s!==null;){if(!Sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ao(s){io=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gn(s){return Jv(io,s)}function $d(s,i){return io===null&&ao(s),Jv(s,i)}function Jv(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(s===null)throw Error(r(308));ui=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else ui=ui.next=i;return l}var kA=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},LA=n.unstable_scheduleCallback,VA=n.unstable_NormalPriority,yn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new kA,data:new Map,refCount:0}}function kc(s){s.refCount--,s.refCount===0&&LA(VA,function(){s.controller.abort()})}var Lc=null,np=0,sl=0,il=null;function zA(s,i){if(Lc===null){var l=Lc=[];np=0,sl=sg(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return np++,i.then(eb,eb),i}function eb(){if(--np===0&&Lc!==null){il!==null&&(il.status="fulfilled");var s=Lc;Lc=null,sl=0,il=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function UA(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var tb=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zA(s,i),tb!==null&&tb(s,i)};var oo=ie(null);function rp(){var s=oo.current;return s!==null?s:zt.pooledCache}function Qd(s,i){i===null?pe(oo,oo.current):pe(oo,i.pool)}function nb(){var s=rp();return s===null?null:{parent:yn._currentValue,pool:s}}var Vc=Error(r(460)),rb=Error(r(474)),Kd=Error(r(542)),sp={then:function(){}};function sb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yd(){}function ib(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Yd,Yd),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ob(s),s;default:if(typeof i.status=="string")i.then(Yd,Yd);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ob(s),s}throw zc=i,Vc}}var zc=null;function ab(){if(zc===null)throw Error(r(459));var s=zc;return zc=null,s}function ob(s){if(s===Vc||s===Kd)throw Error(r(483))}var ki=!1;function ip(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Li(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Bd(s),Qv(s,null,l),i}return Ud(s,c,i,l),Bd(s)}function Uc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}function op(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var lp=!1;function Bc(){if(lp){var s=il;if(s!==null)throw s}}function Fc(s,i,l,c){lp=!1;var g=s.updateQueue;ki=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var G=j,te=G.next;G.next=null,A===null?v=te:A.next=te,A=G;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==A&&(j===null?ce.firstBaseUpdate=te:j.next=te,ce.lastBaseUpdate=G))}if(v!==null){var fe=g.baseState;A=0,ce=te=G=null,j=v;do{var ne=j.lane&-536870913,re=ne!==j.lane;if(re?(bt&ne)===ne:(c&ne)===ne){ne!==0&&ne===sl&&(lp=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var $e=s,Be=j;ne=i;var kt=l;switch(Be.tag){case 1:if($e=Be.payload,typeof $e=="function"){fe=$e.call(kt,fe,ne);break e}fe=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Be.payload,ne=typeof $e=="function"?$e.call(kt,fe,ne):$e,ne==null)break e;fe=y({},fe,ne);break e;case 2:ki=!0}}ne=j.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(te=ce=re,G=fe):ce=ce.next=re,A|=ne;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ce===null&&(G=fe),g.baseState=G,g.firstBaseUpdate=te,g.lastBaseUpdate=ce,v===null&&(g.shared.lanes=0),$i|=A,s.lanes=A,s.memoizedState=fe}}function lb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function cb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)lb(l[s],i)}var al=ie(null),Xd=ie(0);function ub(s,i){s=vi,pe(Xd,s),pe(al,i),vi=s|i.baseLanes}function cp(){pe(Xd,vi),pe(al,al.current)}function up(){vi=Xd.current,ye(al),ye(Xd)}var zi=0,tt=null,jt=null,ln=null,Wd=!1,ol=!1,lo=!1,Zd=0,qc=0,ll=null,BA=0;function en(){throw Error(r(321))}function dp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Sr(s[l],i[l]))return!1;return!0}function hp(s,i,l,c,g,v){return zi=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?Qb:Kb,lo=!1,v=l(c,g),lo=!1,ol&&(v=hb(i,l,c,g)),db(s),v}function db(s){$.H=sh;var i=jt!==null&&jt.next!==null;if(zi=0,ln=jt=tt=null,Wd=!1,qc=0,ll=null,i)throw Error(r(300));s===null||Sn||(s=s.dependencies,s!==null&&Gd(s)&&(Sn=!0))}function hb(s,i,l,c){tt=s;var g=0;do{if(ol&&(ll=null),qc=0,ol=!1,25<=g)throw Error(r(301));if(g+=1,ln=jt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=KA,v=i(l,c)}while(ol);return v}function FA(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Hc(i):i,s=s.useState()[0],(jt!==null?jt.memoizedState:null)!==s&&(tt.flags|=1024),i}function fp(){var s=Zd!==0;return Zd=0,s}function mp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function pp(s){if(Wd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Wd=!1}zi=0,ln=jt=tt=null,ol=!1,qc=Zd=0,ll=null}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?tt.memoizedState=ln=s:ln=ln.next=s,ln}function cn(){if(jt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var i=ln===null?tt.memoizedState:ln.next;if(i!==null)ln=i,jt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ln===null?tt.memoizedState=ln=s:ln=ln.next=s}return ln}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(s){var i=qc;return qc+=1,ll===null&&(ll=[]),s=ib(ll,s,i),i=tt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Qb:Kb),s}function Jd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hc(s);if(s.$$typeof===E)return Gn(s)}throw Error(r(438,String(s)))}function yp(s){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=gp(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=R;return i.index++,l}function hi(s,i){return typeof i=="function"?i(s):i}function eh(s){var i=cn();return vp(i,jt,s)}function vp(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=s.baseQueue,v=c.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}i.baseQueue=g=v,c.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var j=A=null,G=null,te=i,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(bt&fe)===fe:(zi&fe)===fe){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===sl&&(ce=!0);else if((zi&ne)===ne){te=te.next,ne===sl&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(j=G=fe,A=v):G=G.next=fe,tt.lanes|=ne,$i|=ne;fe=te.action,lo&&l(v,fe),v=te.hasEagerState?te.eagerState:l(v,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(j=G=ne,A=v):G=G.next=ne,tt.lanes|=fe,$i|=fe;te=te.next}while(te!==null&&te!==i);if(G===null?A=v:G.next=j,!Sr(v,s.memoizedState)&&(Sn=!0,ce&&(l=il,l!==null)))throw l;s.memoizedState=v,s.baseState=A,s.baseQueue=G,c.lastRenderedState=v}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function bp(s){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do v=s(v,A.action),A=A.next;while(A!==g);Sr(v,i.memoizedState)||(Sn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function fb(s,i,l){var c=tt,g=cn(),v=Tt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var A=!Sr((jt||g).memoizedState,l);A&&(g.memoizedState=l,Sn=!0),g=g.queue;var j=gb.bind(null,c,g,s);if(Gc(2048,8,j,[s]),g.getSnapshot!==i||A||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,cl(9,th(),pb.bind(null,c,g,l,i),null),zt===null)throw Error(r(349));v||(zi&124)!==0||mb(c,i,l)}return l}function mb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=gp(),tt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function pb(s,i,l,c){i.value=l,i.getSnapshot=c,yb(i)&&vb(s)}function gb(s,i,l){return l(function(){yb(i)&&vb(s)})}function yb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Sr(s,l)}catch{return!0}}function vb(s){var i=el(s,2);i!==null&&Or(i,s,2)}function xp(s){var i=fr();if(typeof s=="function"){var l=s;if(s=l(),lo){wn(!0);try{l()}finally{wn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},i}function bb(s,i,l,c){return s.baseState=l,vp(s,jt,typeof c=="function"?c:hi)}function qA(s,i,l,c,g){if(rh(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};$.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,xb(i,v)):(v.next=l.next,i.pending=l.next=v)}}function xb(s,i){var l=i.action,c=i.payload,g=s.state;if(i.isTransition){var v=$.T,A={};$.T=A;try{var j=l(g,c),G=$.S;G!==null&&G(A,j),_b(s,i,j)}catch(te){_p(s,i,te)}finally{$.T=v}}else try{v=l(g,c),_b(s,i,v)}catch(te){_p(s,i,te)}}function _b(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){wb(s,i,c)},function(c){return _p(s,i,c)}):wb(s,i,l)}function wb(s,i,l){i.status="fulfilled",i.value=l,Eb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,xb(s,l)))}function _p(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Eb(i),i=i.next;while(i!==c)}s.action=null}function Eb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Tb(s,i){return i}function Sb(s,i){if(Tt){var l=zt.formState;if(l!==null){e:{var c=tt;if(Tt){if(Wt){t:{for(var g=Wt,v=js;g.nodeType!==8;){if(!v){g=null;break t}if(g=cs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Wt=cs(g.nextSibling),c=g.data==="F!";break e}}so(c)}c=!1}c&&(i=l[0])}}return l=fr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tb,lastRenderedState:i},l.queue=c,l=Hb.bind(null,tt,c),c.dispatch=l,c=xp(!1),v=Ap.bind(null,tt,!1,c.queue),c=fr(),g={state:i,dispatch:null,action:s,pending:null},c.queue=g,l=qA.bind(null,tt,g,v,l),g.dispatch=l,c.memoizedState=s,[i,l,!1]}function Ab(s){var i=cn();return Cb(i,jt,s)}function Cb(s,i,l){if(i=vp(s,i,Tb)[0],s=eh(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Hc(i)}catch(A){throw A===Vc?Kd:A}else c=i;i=cn();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,cl(9,th(),HA.bind(null,g,l),null)),[c,v,s]}function HA(s,i){s.action=i}function Rb(s){var i=cn(),l=jt;if(l!==null)return Cb(i,l,s);cn(),i=i.memoizedState,l=cn();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function cl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=tt.updateQueue,i===null&&(i=gp(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function th(){return{destroy:void 0,resource:void 0}}function Nb(){return cn().memoizedState}function nh(s,i,l,c){var g=fr();c=c===void 0?null:c,tt.flags|=s,g.memoizedState=cl(1|i,th(),l,c)}function Gc(s,i,l,c){var g=cn();c=c===void 0?null:c;var v=g.memoizedState.inst;jt!==null&&c!==null&&dp(c,jt.memoizedState.deps)?g.memoizedState=cl(i,v,l,c):(tt.flags|=s,g.memoizedState=cl(1|i,v,l,c))}function Ib(s,i){nh(8390656,8,s,i)}function Ob(s,i){Gc(2048,8,s,i)}function Mb(s,i){return Gc(4,2,s,i)}function Db(s,i){return Gc(4,4,s,i)}function jb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Pb(s,i,l){l=l!=null?l.concat([s]):null,Gc(4,4,jb.bind(null,i,s),l)}function wp(){}function kb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&dp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function Lb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&dp(i,c[1]))return c[0];if(c=s(),lo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c}function Ep(s,i,l){return l===void 0||(zi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=Ux(),tt.lanes|=s,$i|=s,l)}function Vb(s,i,l,c){return Sr(l,i)?l:al.current!==null?(s=Ep(s,l,c),Sr(s,i)||(Sn=!0),s):(zi&42)===0?(Sn=!0,s.memoizedState=l):(s=Ux(),tt.lanes|=s,$i|=s,i)}function zb(s,i,l,c,g){var v=le.p;le.p=v!==0&&8>v?v:8;var A=$.T,j={};$.T=j,Ap(s,!1,i,l);try{var G=g(),te=$.S;if(te!==null&&te(j,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=UA(G,c);$c(s,i,ce,Ir(s))}else $c(s,i,c,Ir(s))}catch(fe){$c(s,i,{then:function(){},status:"rejected",reason:fe},Ir())}finally{le.p=v,$.T=A}}function GA(){}function Tp(s,i,l,c){if(s.tag!==5)throw Error(r(476));var g=Ub(s).queue;zb(s,g,i,ae,l===null?GA:function(){return Bb(s),l(c)})}function Ub(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ae},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Bb(s){var i=Ub(s).next.queue;$c(s,i,{},Ir())}function Sp(){return Gn(uu)}function Fb(){return cn().memoizedState}function qb(){return cn().memoizedState}function $A(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ir();s=Li(l);var c=Vi(i,s,l);c!==null&&(Or(c,i,l),Uc(c,i,l)),i={cache:tp()},s.payload=i;return}i=i.return}}function QA(s,i,l){var c=Ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rh(s)?Gb(i,l):(l=Gm(s,i,l,c),l!==null&&(Or(l,s,c),$b(l,i,c)))}function Hb(s,i,l){var c=Ir();$c(s,i,l,c)}function $c(s,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rh(s))Gb(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var A=i.lastRenderedState,j=v(A,l);if(g.hasEagerState=!0,g.eagerState=j,Sr(j,A))return Ud(s,i,g,0),zt===null&&zd(),!1}catch{}finally{}if(l=Gm(s,i,g,c),l!==null)return Or(l,s,c),$b(l,i,c),!0}return!1}function Ap(s,i,l,c){if(c={lane:2,revertLane:sg(),action:c,hasEagerState:!1,eagerState:null,next:null},rh(s)){if(i)throw Error(r(479))}else i=Gm(s,l,c,2),i!==null&&Or(i,s,2)}function rh(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Gb(s,i){ol=Wd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function $b(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}var sh={readContext:Gn,use:Jd,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Qb={readContext:Gn,use:Jd,useCallback:function(s,i){return fr().memoizedState=[s,i===void 0?null:i],s},useContext:Gn,useEffect:Ib,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,nh(4194308,4,jb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return nh(4194308,4,s,i)},useInsertionEffect:function(s,i){nh(4,2,s,i)},useMemo:function(s,i){var l=fr();i=i===void 0?null:i;var c=s();if(lo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=fr();if(l!==void 0){var g=l(i);if(lo){wn(!0);try{l(i)}finally{wn(!1)}}}else g=i;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=QA.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=fr();return s={current:s},i.memoizedState=s},useState:function(s){s=xp(s);var i=s.queue,l=Hb.bind(null,tt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:wp,useDeferredValue:function(s,i){var l=fr();return Ep(l,s,i)},useTransition:function(){var s=xp(!1);return s=zb.bind(null,tt,s.queue,!0,!1),fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=tt,g=fr();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),zt===null)throw Error(r(349));(bt&124)!==0||mb(c,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Ib(gb.bind(null,c,v,s),[s]),c.flags|=2048,cl(9,th(),pb.bind(null,c,v,l,i),null),l},useId:function(){var s=fr(),i=zt.identifierPrefix;if(Tt){var l=ci,c=li;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=Zd++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=BA++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Sp,useFormState:Sb,useActionState:Sb,useOptimistic:function(s){var i=fr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ap.bind(null,tt,!0,l),l.dispatch=i,[s,i]},useMemoCache:yp,useCacheRefresh:function(){return fr().memoizedState=$A.bind(null,tt)}},Kb={readContext:Gn,use:Jd,useCallback:kb,useContext:Gn,useEffect:Ob,useImperativeHandle:Pb,useInsertionEffect:Mb,useLayoutEffect:Db,useMemo:Lb,useReducer:eh,useRef:Nb,useState:function(){return eh(hi)},useDebugValue:wp,useDeferredValue:function(s,i){var l=cn();return Vb(l,jt.memoizedState,s,i)},useTransition:function(){var s=eh(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Hc(s),i]},useSyncExternalStore:fb,useId:Fb,useHostTransitionStatus:Sp,useFormState:Ab,useActionState:Ab,useOptimistic:function(s,i){var l=cn();return bb(l,jt,s,i)},useMemoCache:yp,useCacheRefresh:qb},KA={readContext:Gn,use:Jd,useCallback:kb,useContext:Gn,useEffect:Ob,useImperativeHandle:Pb,useInsertionEffect:Mb,useLayoutEffect:Db,useMemo:Lb,useReducer:bp,useRef:Nb,useState:function(){return bp(hi)},useDebugValue:wp,useDeferredValue:function(s,i){var l=cn();return jt===null?Ep(l,s,i):Vb(l,jt.memoizedState,s,i)},useTransition:function(){var s=bp(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Hc(s),i]},useSyncExternalStore:fb,useId:Fb,useHostTransitionStatus:Sp,useFormState:Rb,useActionState:Rb,useOptimistic:function(s,i){var l=cn();return jt!==null?bb(l,jt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:yp,useCacheRefresh:qb},ul=null,Qc=0;function ih(s){var i=Qc;return Qc+=1,ul===null&&(ul=[]),ib(ul,s,i)}function Kc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ah(s,i){throw i.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Yb(s){var i=s._init;return i(s._payload)}function Xb(s){function i(X,K){if(s){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=oi(X,K),X.index=0,X.sibling=null,X}function v(X,K,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function A(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function j(X,K,J,de){return K===null||K.tag!==6?(K=Qm(J,X.mode,de),K.return=X,K):(K=g(K,J),K.return=X,K)}function G(X,K,J,de){var Ne=J.type;return Ne===C?ce(X,K,J.props.children,de,J.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&Yb(Ne)===K.type)?(K=g(K,J.props),Kc(K,J),K.return=X,K):(K=Fd(J.type,J.key,J.props,null,X.mode,de),Kc(K,J),K.return=X,K)}function te(X,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Km(J,X.mode,de),K.return=X,K):(K=g(K,J.children||[]),K.return=X,K)}function ce(X,K,J,de,Ne){return K===null||K.tag!==7?(K=eo(J,X.mode,de,Ne),K.return=X,K):(K=g(K,J),K.return=X,K)}function fe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Qm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=Fd(K.type,K.key,K.props,null,X.mode,J),Kc(J,K),J.return=X,J;case T:return K=Km(K,X.mode,J),K.return=X,K;case M:var de=K._init;return K=de(K._payload),fe(X,K,J)}if(ve(K)||F(K))return K=eo(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return fe(X,ih(K),J);if(K.$$typeof===E)return fe(X,$d(X,K),J);ah(X,K)}return null}function ne(X,K,J,de){var Ne=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ne!==null?null:j(X,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ne?G(X,K,J,de):null;case T:return J.key===Ne?te(X,K,J,de):null;case M:return Ne=J._init,J=Ne(J._payload),ne(X,K,J,de)}if(ve(J)||F(J))return Ne!==null?null:ce(X,K,J,de,null);if(typeof J.then=="function")return ne(X,K,ih(J),de);if(J.$$typeof===E)return ne(X,K,$d(X,J),de);ah(X,J)}return null}function re(X,K,J,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(J)||null,j(K,X,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return X=X.get(de.key===null?J:de.key)||null,G(K,X,de,Ne);case T:return X=X.get(de.key===null?J:de.key)||null,te(K,X,de,Ne);case M:var st=de._init;return de=st(de._payload),re(X,K,J,de,Ne)}if(ve(de)||F(de))return X=X.get(J)||null,ce(K,X,de,Ne,null);if(typeof de.then=="function")return re(X,K,J,ih(de),Ne);if(de.$$typeof===E)return re(X,K,J,$d(K,de),Ne);ah(K,de)}return null}function $e(X,K,J,de){for(var Ne=null,st=null,ke=K,qe=K=0,Cn=null;ke!==null&&qe<J.length;qe++){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var Et=ne(X,ke,J[qe],de);if(Et===null){ke===null&&(ke=Cn);break}s&&ke&&Et.alternate===null&&i(X,ke),K=v(Et,K,qe),st===null?Ne=Et:st.sibling=Et,st=Et,ke=Cn}if(qe===J.length)return l(X,ke),Tt&&no(X,qe),Ne;if(ke===null){for(;qe<J.length;qe++)ke=fe(X,J[qe],de),ke!==null&&(K=v(ke,K,qe),st===null?Ne=ke:st.sibling=ke,st=ke);return Tt&&no(X,qe),Ne}for(ke=c(ke);qe<J.length;qe++)Cn=re(ke,X,qe,J[qe],de),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?qe:Cn.key),K=v(Cn,K,qe),st===null?Ne=Cn:st.sibling=Cn,st=Cn);return s&&ke.forEach(function(ta){return i(X,ta)}),Tt&&no(X,qe),Ne}function Be(X,K,J,de){if(J==null)throw Error(r(151));for(var Ne=null,st=null,ke=K,qe=K=0,Cn=null,Et=J.next();ke!==null&&!Et.done;qe++,Et=J.next()){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var ta=ne(X,ke,Et.value,de);if(ta===null){ke===null&&(ke=Cn);break}s&&ke&&ta.alternate===null&&i(X,ke),K=v(ta,K,qe),st===null?Ne=ta:st.sibling=ta,st=ta,ke=Cn}if(Et.done)return l(X,ke),Tt&&no(X,qe),Ne;if(ke===null){for(;!Et.done;qe++,Et=J.next())Et=fe(X,Et.value,de),Et!==null&&(K=v(Et,K,qe),st===null?Ne=Et:st.sibling=Et,st=Et);return Tt&&no(X,qe),Ne}for(ke=c(ke);!Et.done;qe++,Et=J.next())Et=re(ke,X,qe,Et.value,de),Et!==null&&(s&&Et.alternate!==null&&ke.delete(Et.key===null?qe:Et.key),K=v(Et,K,qe),st===null?Ne=Et:st.sibling=Et,st=Et);return s&&ke.forEach(function(YC){return i(X,YC)}),Tt&&no(X,qe),Ne}function kt(X,K,J,de){if(typeof J=="object"&&J!==null&&J.type===C&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ne=J.key;K!==null;){if(K.key===Ne){if(Ne=J.type,Ne===C){if(K.tag===7){l(X,K.sibling),de=g(K,J.props.children),de.return=X,X=de;break e}}else if(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&Yb(Ne)===K.type){l(X,K.sibling),de=g(K,J.props),Kc(de,J),de.return=X,X=de;break e}l(X,K);break}else i(X,K);K=K.sibling}J.type===C?(de=eo(J.props.children,X.mode,de,J.key),de.return=X,X=de):(de=Fd(J.type,J.key,J.props,null,X.mode,de),Kc(de,J),de.return=X,X=de)}return A(X);case T:e:{for(Ne=J.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),de=g(K,J.children||[]),de.return=X,X=de;break e}else{l(X,K);break}else i(X,K);K=K.sibling}de=Km(J,X.mode,de),de.return=X,X=de}return A(X);case M:return Ne=J._init,J=Ne(J._payload),kt(X,K,J,de)}if(ve(J))return $e(X,K,J,de);if(F(J)){if(Ne=F(J),typeof Ne!="function")throw Error(r(150));return J=Ne.call(J),Be(X,K,J,de)}if(typeof J.then=="function")return kt(X,K,ih(J),de);if(J.$$typeof===E)return kt(X,K,$d(X,J),de);ah(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),de=g(K,J),de.return=X,X=de):(l(X,K),de=Qm(J,X.mode,de),de.return=X,X=de),A(X)):l(X,K)}return function(X,K,J,de){try{Qc=0;var Ne=kt(X,K,J,de);return ul=null,Ne}catch(ke){if(ke===Vc||ke===Kd)throw ke;var st=Ar(29,ke,null,X.mode);return st.lanes=de,st.return=X,st}finally{}}}var dl=Xb(!0),Wb=Xb(!1),Wr=ie(null),Ps=null;function Ui(s){var i=s.alternate;pe(vn,vn.current&1),pe(Wr,s),Ps===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ps=s)}function Zb(s){if(s.tag===22){if(pe(vn,vn.current),pe(Wr,s),Ps===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ps=s)}}else Bi()}function Bi(){pe(vn,vn.current),pe(Wr,Wr.current)}function fi(s){ye(Wr),Ps===s&&(Ps=null),ye(vn)}var vn=ie(0);function oh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||gg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cp(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Rp={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Uc(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Uc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Ir(),c=Li(l);c.tag=2,i!=null&&(c.callback=i),i=Vi(s,c,l),i!==null&&(Or(i,s,l),Uc(i,s,l))}};function Jb(s,i,l,c,g,v,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,A):i.prototype&&i.prototype.isPureReactComponent?!Ic(l,c)||!Ic(g,v):!0}function ex(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&Rp.enqueueReplaceState(i,i.state,null)}function co(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var lh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function tx(s){lh(s)}function nx(s){console.error(s)}function rx(s){lh(s)}function ch(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function sx(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Np(s,i,l){return l=Li(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(s,i)},l}function ix(s){return s=Li(s),s.tag=3,s}function ax(s,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;s.payload=function(){return g(v)},s.callback=function(){sx(i,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){sx(i,l,c),typeof g!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})})}function YA(s,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Pc(i,l,g,!0),l=Wr.current,l!==null){switch(l.tag){case 13:return Ps===null?Jp():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===sp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),tg(s,c,g)),!1;case 22:return l.flags|=65536,c===sp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),tg(s,c,g)),!1}throw Error(r(435,l.tag))}return tg(s,c,g),Jp(),!1}if(Tt)return i=Wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==Wm&&(s=Error(r(422),{cause:c}),jc(Qr(s,l)))):(c!==Wm&&(i=Error(r(423),{cause:c}),jc(Qr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Qr(c,l),g=Np(s.stateNode,c,g),op(s,g),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:c});if(v=Qr(v,l),tu===null?tu=[v]:tu.push(v),Zt!==4&&(Zt=2),i===null)return!0;c=Qr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Np(l.stateNode,c,s),op(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ix(g),ax(g,s,l,c),op(l,g),!1}l=l.return}while(l!==null);return!1}var ox=Error(r(461)),Sn=!1;function Pn(s,i,l,c){i.child=s===null?Wb(i,null,l,c):dl(i,s.child,l,c)}function lx(s,i,l,c,g){l=l.render;var v=i.ref;if("ref"in c){var A={};for(var j in c)j!=="ref"&&(A[j]=c[j])}else A=c;return ao(i),c=hp(s,i,l,A,v,g),j=fp(),s!==null&&!Sn?(mp(s,i,g),mi(s,i,g)):(Tt&&j&&Ym(i),i.flags|=1,Pn(s,i,c,g),i.child)}function cx(s,i,l,c,g){if(s===null){var v=l.type;return typeof v=="function"&&!$m(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,ux(s,i,v,c,g)):(s=Fd(l.type,null,c,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!Lp(s,g)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ic,l(A,c)&&s.ref===i.ref)return mi(s,i,g)}return i.flags|=1,s=oi(v,c),s.ref=i.ref,s.return=i,i.child=s}function ux(s,i,l,c,g){if(s!==null){var v=s.memoizedProps;if(Ic(v,c)&&s.ref===i.ref)if(Sn=!1,i.pendingProps=c=v,Lp(s,g))(s.flags&131072)!==0&&(Sn=!0);else return i.lanes=s.lanes,mi(s,i,g)}return Ip(s,i,l,c,g)}function dx(s,i,l){var c=i.pendingProps,g=c.children,v=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return hx(s,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Qd(i,v!==null?v.cachePool:null),v!==null?ub(i,v):cp(),Zb(i);else return i.lanes=i.childLanes=536870912,hx(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Qd(i,v.cachePool),ub(i,v),Bi(),i.memoizedState=null):(s!==null&&Qd(i,null),cp(),Bi());return Pn(s,i,g,l),i.child}function hx(s,i,l,c){var g=rp();return g=g===null?null:{parent:yn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&Qd(i,null),cp(),Zb(i),s!==null&&Pc(s,i,c,!0),null}function uh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Ip(s,i,l,c,g){return ao(i),l=hp(s,i,l,c,void 0,g),c=fp(),s!==null&&!Sn?(mp(s,i,g),mi(s,i,g)):(Tt&&c&&Ym(i),i.flags|=1,Pn(s,i,l,g),i.child)}function fx(s,i,l,c,g,v){return ao(i),i.updateQueue=null,l=hb(i,c,l,g),db(s),c=fp(),s!==null&&!Sn?(mp(s,i,v),mi(s,i,v)):(Tt&&c&&Ym(i),i.flags|=1,Pn(s,i,l,v),i.child)}function mx(s,i,l,c,g){if(ao(i),i.stateNode===null){var v=tl,A=l.contextType;typeof A=="object"&&A!==null&&(v=Gn(A)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Rp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},ip(i),A=l.contextType,v.context=typeof A=="object"&&A!==null?Gn(A):tl,v.state=i.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Cp(i,l,A,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Rp.enqueueReplaceState(v,v.state,null),Fc(i,c,v,g),Bc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){v=i.stateNode;var j=i.memoizedProps,G=co(l,j);v.props=G;var te=v.context,ce=l.contextType;A=tl,typeof ce=="object"&&ce!==null&&(A=Gn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||te!==A)&&ex(i,v,c,A),ki=!1;var ne=i.memoizedState;v.state=ne,Fc(i,c,v,g),Bc(),te=i.memoizedState,j||ne!==te||ki?(typeof fe=="function"&&(Cp(i,l,fe,c),te=i.memoizedState),(G=ki||Jb(i,l,G,c,ne,te,A))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),v.props=c,v.state=te,v.context=A,c=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,ap(s,i),A=i.memoizedProps,ce=co(l,A),v.props=ce,fe=i.pendingProps,ne=v.context,te=l.contextType,G=tl,typeof te=="object"&&te!==null&&(G=Gn(te)),j=l.getDerivedStateFromProps,(te=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==fe||ne!==G)&&ex(i,v,c,G),ki=!1,ne=i.memoizedState,v.state=ne,Fc(i,c,v,g),Bc();var re=i.memoizedState;A!==fe||ne!==re||ki||s!==null&&s.dependencies!==null&&Gd(s.dependencies)?(typeof j=="function"&&(Cp(i,l,j,c),re=i.memoizedState),(ce=ki||Jb(i,l,ce,c,ne,re,G)||s!==null&&s.dependencies!==null&&Gd(s.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),v.props=c,v.state=re,v.context=G,c=ce):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),c=!1)}return v=c,uh(s,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&c?(i.child=dl(i,s.child,null,g),i.child=dl(i,null,l,g)):Pn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=mi(s,i,g),s}function px(s,i,l,c){return Dc(),i.flags|=256,Pn(s,i,l,c),i.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(s){return{baseLanes:s,cachePool:nb()}}function Dp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Zr),s}function gx(s,i,l){var c=i.pendingProps,g=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=s!==null&&s.memoizedState===null?!1:(vn.current&2)!==0),A&&(g=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,s===null){if(Tt){if(g?Ui(i):Bi(),Tt){var j=Wt,G;if(G=j){e:{for(G=j,j=js;G.nodeType!==8;){if(!j){j=null;break e}if(G=cs(G.nextSibling),G===null){j=null;break e}}j=G}j!==null?(i.memoizedState={dehydrated:j,treeContext:to!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=j,G.return=i,i.child=G,ar=i,Wt=null,G=!0):G=!1}G||so(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return gg(j)?i.lanes=32:i.lanes=536870912,null;fi(i)}return j=c.children,c=c.fallback,g?(Bi(),g=i.mode,j=dh({mode:"hidden",children:j},g),c=eo(c,g,l,null),j.return=i,c.return=i,j.sibling=c,i.child=j,g=i.child,g.memoizedState=Mp(l),g.childLanes=Dp(s,A,l),i.memoizedState=Op,c):(Ui(i),jp(i,j))}if(G=s.memoizedState,G!==null&&(j=G.dehydrated,j!==null)){if(v)i.flags&256?(Ui(i),i.flags&=-257,i=Pp(s,i,l)):i.memoizedState!==null?(Bi(),i.child=s.child,i.flags|=128,i=null):(Bi(),g=c.fallback,j=i.mode,c=dh({mode:"visible",children:c.children},j),g=eo(g,j,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,dl(i,s.child,null,l),c=i.child,c.memoizedState=Mp(l),c.childLanes=Dp(s,A,l),i.memoizedState=Op,i=g);else if(Ui(i),gg(j)){if(A=j.nextSibling&&j.nextSibling.dataset,A)var te=A.dgst;A=te,c=Error(r(419)),c.stack="",c.digest=A,jc({value:c,source:null,stack:null}),i=Pp(s,i,l)}else if(Sn||Pc(s,i,l,!1),A=(l&s.childLanes)!==0,Sn||A){if(A=zt,A!==null&&(c=l&-l,c=(c&42)!==0?1:_r(c),c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==G.retryLane))throw G.retryLane=c,el(s,c),Or(A,s,c),ox;j.data==="$?"||Jp(),i=Pp(s,i,l)}else j.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Wt=cs(j.nextSibling),ar=i,Tt=!0,ro=null,js=!1,s!==null&&(Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=to,li=s.id,ci=s.overflow,to=i),i=jp(i,c.children),i.flags|=4096);return i}return g?(Bi(),g=c.fallback,j=i.mode,G=s.child,te=G.sibling,c=oi(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,te!==null?g=oi(te,g):(g=eo(g,j,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,j=s.child.memoizedState,j===null?j=Mp(l):(G=j.cachePool,G!==null?(te=yn._currentValue,G=G.parent!==te?{parent:te,pool:te}:G):G=nb(),j={baseLanes:j.baseLanes|l,cachePool:G}),g.memoizedState=j,g.childLanes=Dp(s,A,l),i.memoizedState=Op,c):(Ui(i),l=s.child,s=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(A=i.deletions,A===null?(i.deletions=[s],i.flags|=16):A.push(s)),i.child=l,i.memoizedState=null,l)}function jp(s,i){return i=dh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function dh(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Pp(s,i,l){return dl(i,s.child,null,l),s=jp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function yx(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Jm(s.return,i,l)}function kp(s,i,l,c,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=g)}function vx(s,i,l){var c=i.pendingProps,g=c.revealOrder,v=c.tail;if(Pn(s,i,c.children,l),c=vn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yx(s,l,i);else if(s.tag===19)yx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(pe(vn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&oh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),kp(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&oh(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}kp(i,!0,l,null,v);break;case"together":kp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),$i|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Pc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=oi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=oi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Lp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Gd(s)))}function XA(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Pi(i,yn,s.memoizedState.cache),Dc();break;case 27:case 5:Ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ui(i),i.flags|=128,null):(l&i.child.childLanes)!==0?gx(s,i,l):(Ui(i),s=mi(s,i,l),s!==null?s.sibling:null);Ui(i);break;case 19:var g=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Pc(s,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return vx(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(vn,vn.current),c)break;return null;case 22:case 23:return i.lanes=0,dx(s,i,l);case 24:Pi(i,yn,s.memoizedState.cache)}return mi(s,i,l)}function bx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Sn=!0;else{if(!Lp(s,l)&&(i.flags&128)===0)return Sn=!1,XA(s,i,l);Sn=(s.flags&131072)!==0}else Sn=!1,Tt&&(i.flags&1048576)!==0&&Yv(i,Hd,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")$m(c)?(s=co(c,s),i.tag=1,i=mx(null,i,c,s,l)):(i.tag=0,i=Ip(null,i,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===L){i.tag=11,i=lx(null,i,c,s,l);break e}else if(g===V){i.tag=14,i=cx(null,i,c,s,l);break e}}throw i=oe(c)||c,Error(r(306,i,""))}}return i;case 0:return Ip(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=co(c,i.pendingProps),mx(s,i,c,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;g=v.element,ap(s,i),Fc(i,c,null,l);var A=i.memoizedState;if(c=A.cache,Pi(i,yn,c),c!==v.cache&&ep(i,[yn],l,!0),Bc(),c=A.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=px(s,i,c,l);break e}else if(c!==g){g=Qr(Error(r(424)),i),jc(g),i=px(s,i,c,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wt=cs(s.firstChild),ar=i,Tt=!0,ro=null,js=!0,l=Wb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Dc(),c===g){i=mi(s,i,l);break e}Pn(s,i,c,l)}i=i.child}return i;case 26:return uh(s,i),s===null?(l=E_(i.type,null,i.pendingProps,null))?i.memoizedState=l:Tt||(l=i.type,s=i.pendingProps,c=Sh(Ee.current).createElement(l),c[he]=i,c[be]=s,Ln(c,l,s),ft(c),i.stateNode=c):i.memoizedState=E_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&Tt&&(c=i.stateNode=x_(i.type,i.pendingProps,Ee.current),ar=i,js=!0,g=Wt,Xi(i.type)?(yg=g,Wt=cs(c.firstChild)):Wt=g),Pn(s,i,i.pendingProps.children,l),uh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Tt&&((g=c=Wt)&&(c=TC(c,i.type,i.pendingProps,js),c!==null?(i.stateNode=c,ar=i,Wt=cs(c.firstChild),js=!1,g=!0):g=!1),g||so(i)),Ze(i),g=i.type,v=i.pendingProps,A=s!==null?s.memoizedProps:null,c=v.children,fg(g,v)?c=null:A!==null&&fg(g,A)&&(i.flags|=32),i.memoizedState!==null&&(g=hp(s,i,FA,null,null,l),uu._currentValue=g),uh(s,i),Pn(s,i,c,l),i.child;case 6:return s===null&&Tt&&((s=l=Wt)&&(l=SC(l,i.pendingProps,js),l!==null?(i.stateNode=l,ar=i,Wt=null,s=!0):s=!1),s||so(i)),null;case 13:return gx(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=dl(i,null,c,l):Pn(s,i,c,l),i.child;case 11:return lx(s,i,i.type,i.pendingProps,l);case 7:return Pn(s,i,i.pendingProps,l),i.child;case 8:return Pn(s,i,i.pendingProps.children,l),i.child;case 12:return Pn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Pi(i,i.type,c.value),Pn(s,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,ao(i),g=Gn(g),c=c(g),i.flags|=1,Pn(s,i,c,l),i.child;case 14:return cx(s,i,i.type,i.pendingProps,l);case 15:return ux(s,i,i.type,i.pendingProps,l);case 19:return vx(s,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},s===null?(l=dh(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(s.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return dx(s,i,l);case 24:return ao(i),c=Gn(yn),s===null?(g=rp(),g===null&&(g=zt,v=tp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:c,cache:g},ip(i),Pi(i,yn,g)):((s.lanes&l)!==0&&(ap(s,i),Fc(i,null,null,l),Bc()),g=s.memoizedState,v=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Pi(i,yn,c)):(c=v.cache,Pi(i,yn,c),c!==g.cache&&ep(i,[yn],l,!0))),Pn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(s){s.flags|=4}function xx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!R_(i)){if(i=Wr.current,i!==null&&((bt&4194048)===bt?Ps!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==Ps))throw zc=sp,rb;s.flags|=8192}}function hh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?nr():536870912,s.lanes|=i,pl|=i)}function Yc(s,i){if(!Tt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Kt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function WA(s,i,l){var c=i.pendingProps;switch(Xm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(yn),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Mc(i)?pi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zv())),Kt(i),null;case 26:return l=i.memoizedState,s===null?(pi(i),l!==null?(Kt(i),xx(i,l)):(Kt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(pi(i),Kt(i),xx(i,l)):(Kt(i),i.flags&=-16777217):(s.memoizedProps!==c&&pi(i),Kt(i),i.flags&=-16777217),null;case 27:It(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}s=Se.current,Mc(i)?Xv(i):(s=x_(g,c,l),i.stateNode=s,pi(i))}return Kt(i),null;case 5:if(It(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}if(s=Se.current,Mc(i))Xv(i);else{switch(g=Sh(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[he]=i,s[be]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Ln(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pi(i)}}return Kt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Mc(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,g=ar,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[he]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||f_(s.nodeValue,l)),s||so(i)}else s=Sh(s).createTextNode(c),s[he]=i,i.stateNode=s}return Kt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Mc(i),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[he]=i}else Dc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),g=!1}else g=Zv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(fi(i),i):(fi(i),null)}if(fi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),hh(i,i.updateQueue),Kt(i),null;case 4:return it(),s===null&&lg(i.stateNode.containerInfo),Kt(i),null;case 10:return di(i.type),Kt(i),null;case 19:if(ye(vn),g=i.memoizedState,g===null)return Kt(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)Yc(g,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=oh(s),v!==null){for(i.flags|=128,Yc(g,!1),s=v.updateQueue,i.updateQueue=s,hh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Kv(l,s),l=l.sibling;return pe(vn,vn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Xt()>ph&&(i.flags|=128,c=!0,Yc(g,!1),i.lanes=4194304)}else{if(!c)if(s=oh(v),s!==null){if(i.flags|=128,c=!0,s=s.updateQueue,i.updateQueue=s,hh(i,s),Yc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Tt)return Kt(i),null}else 2*Xt()-g.renderingStartTime>ph&&l!==536870912&&(i.flags|=128,c=!0,Yc(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Xt(),i.sibling=null,s=vn.current,pe(vn,c?s&1|2:s&1),i):(Kt(i),null);case 22:case 23:return fi(i),up(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),l=i.updateQueue,l!==null&&hh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&ye(oo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(yn),Kt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function ZA(s,i){switch(Xm(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return di(yn),it(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(fi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Dc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ye(vn),null;case 4:return it(),null;case 10:return di(i.type),null;case 22:case 23:return fi(i),up(),s!==null&&ye(oo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return di(yn),null;case 25:return null;default:return null}}function _x(s,i){switch(Xm(i),i.tag){case 3:di(yn),it();break;case 26:case 27:case 5:It(i);break;case 4:it();break;case 13:fi(i);break;case 19:ye(vn);break;case 10:di(i.type);break;case 22:case 23:fi(i),up(),s!==null&&ye(oo);break;case 24:di(yn)}}function Xc(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var v=l.create,A=l.inst;c=v(),A.destroy=c}l=l.next}while(l!==g)}}catch(j){Vt(i,i.return,j)}}function Fi(s,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&s)===s){var A=c.inst,j=A.destroy;if(j!==void 0){A.destroy=void 0,g=i;var G=l,te=j;try{te()}catch(ce){Vt(g,G,ce)}}}c=c.next}while(c!==v)}}catch(ce){Vt(i,i.return,ce)}}function wx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{cb(i,l)}catch(c){Vt(s,s.return,c)}}}function Ex(s,i,l){l.props=co(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(s,i,c)}}function Wc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){Vt(s,i,g)}}function ks(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Vt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(s,i,g)}else l.current=null}function Tx(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Vt(s,s.return,g)}}function Vp(s,i,l){try{var c=s.stateNode;bC(c,s.type,l,i),c[be]=i}catch(g){Vt(s,s.return,g)}}function Sx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xi(s.type)||s.tag===4}function zp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Up(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Th));else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(Up(s,i,l),s=s.sibling;s!==null;)Up(s,i,l),s=s.sibling}function fh(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(fh(s,i,l),s=s.sibling;s!==null;)fh(s,i,l),s=s.sibling}function Ax(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Ln(i,c,l),i[he]=s,i[be]=l}catch(v){Vt(s,s.return,v)}}var gi=!1,tn=!1,Bp=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,An=null;function JA(s,i){if(s=s.containerInfo,dg=Oh,s=Vv(s),zm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,j=-1,G=-1,te=0,ce=0,fe=s,ne=null;t:for(;;){for(var re;fe!==l||g!==0&&fe.nodeType!==3||(j=A+g),fe!==v||c!==0&&fe.nodeType!==3||(G=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===s)break t;if(ne===l&&++te===g&&(j=A),ne===v&&++ce===c&&(G=A),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=j===-1||G===-1?null:{start:j,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:s,selectionRange:l},Oh=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var $e=co(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate($e,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)pg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function Rx(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:qi(s,l),c&4&&Xc(5,l);break;case 1:if(qi(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(A){Vt(l,l.return,A)}else{var g=co(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(l,l.return,A)}}c&64&&wx(l),c&512&&Wc(l,l.return);break;case 3:if(qi(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{cb(s,i)}catch(A){Vt(l,l.return,A)}}break;case 27:i===null&&c&4&&Ax(l);case 26:case 5:qi(s,l),i===null&&c&4&&Tx(l),c&512&&Wc(l,l.return);break;case 12:qi(s,l);break;case 13:qi(s,l),c&4&&Ox(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=lC.bind(null,l),AC(s,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||tn,g=gi;var v=tn;gi=c,(tn=i)&&!v?Hi(s,l,(l.subtreeFlags&8772)!==0):qi(s,l),gi=g,tn=v}break;case 30:break;default:qi(s,l)}}function Nx(s){var i=s.alternate;i!==null&&(s.alternate=null,Nx(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&je(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,mr=!1;function yi(s,i,l){for(l=l.child;l!==null;)Ix(s,i,l),l=l.sibling}function Ix(s,i,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:tn||ks(l,i),yi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||ks(l,i);var c=Gt,g=mr;Xi(l.type)&&(Gt=l.stateNode,mr=!1),yi(s,i,l),au(l.stateNode),Gt=c,mr=g;break;case 5:tn||ks(l,i);case 6:if(c=Gt,g=mr,Gt=null,yi(s,i,l),Gt=c,mr=g,Gt!==null)if(mr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){Vt(l,i,v)}else try{Gt.removeChild(l.stateNode)}catch(v){Vt(l,i,v)}break;case 18:Gt!==null&&(mr?(s=Gt,v_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),mu(s)):v_(Gt,l.stateNode));break;case 4:c=Gt,g=mr,Gt=l.stateNode.containerInfo,mr=!0,yi(s,i,l),Gt=c,mr=g;break;case 0:case 11:case 14:case 15:tn||Fi(2,l,i),tn||Fi(4,l,i),yi(s,i,l);break;case 1:tn||(ks(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ex(l,i,c)),yi(s,i,l);break;case 21:yi(s,i,l);break;case 22:tn=(c=tn)||l.memoizedState!==null,yi(s,i,l),tn=c;break;default:yi(s,i,l)}}function Ox(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mu(s)}catch(l){Vt(i,i.return,l)}}function eC(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Cx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Cx),i;default:throw Error(r(435,s.tag))}}function Fp(s,i){var l=eC(s);i.forEach(function(c){var g=cC.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Cr(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=s,A=i,j=A;e:for(;j!==null;){switch(j.tag){case 27:if(Xi(j.type)){Gt=j.stateNode,mr=!1;break e}break;case 5:Gt=j.stateNode,mr=!1;break e;case 3:case 4:Gt=j.stateNode.containerInfo,mr=!0;break e}j=j.return}if(Gt===null)throw Error(r(160));Ix(v,A,g),Gt=null,mr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Mx(i,s),i=i.sibling}var ls=null;function Mx(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Cr(i,s),Rr(s),c&4&&(Fi(3,s,s.return),Xc(3,s),Fi(5,s,s.return));break;case 1:Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),c&64&&gi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ls;if(Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[he]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Ln(v,c,l),v[he]=s,ft(v),c=v;break e;case"link":var A=A_("link","href",g).get(c+(l.href||""));if(A){for(var j=0;j<A.length;j++)if(v=A[j],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(j,1);break t}}v=g.createElement(c),Ln(v,c,l),g.head.appendChild(v);break;case"meta":if(A=A_("meta","content",g).get(c+(l.content||""))){for(j=0;j<A.length;j++)if(v=A[j],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(j,1);break t}}v=g.createElement(c),Ln(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[he]=s,ft(v),c=v}s.stateNode=c}else C_(g,s.type,s.stateNode);else s.stateNode=S_(g,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?C_(g,s.type,s.stateNode):S_(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Vp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),l!==null&&c&4&&Vp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),s.flags&32){g=s.stateNode;try{qr(g,"")}catch(re){Vt(s,s.return,re)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,Vp(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Bp=!0);break;case 6:if(Cr(i,s),Rr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(re){Vt(s,s.return,re)}}break;case 3:if(Rh=null,g=ls,ls=Ah(i.containerInfo),Cr(i,s),ls=g,Rr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{mu(i.containerInfo)}catch(re){Vt(s,s.return,re)}Bp&&(Bp=!1,Dx(s));break;case 4:c=ls,ls=Ah(s.stateNode.containerInfo),Cr(i,s),Rr(s),ls=c;break;case 12:Cr(i,s),Rr(s);break;case 13:Cr(i,s),Rr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kp=Xt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Fp(s,c)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=gi,ce=tn;if(gi=te||g,tn=ce||G,Cr(i,s),tn=ce,gi=te,Rr(s),c&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||gi||tn||uo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{j=G.stateNode;var fe=G.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;j.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt(G,G.return,re)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(re){Vt(G,G.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Fp(s,l))));break;case 19:Cr(i,s),Rr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Fp(s,c)));break;case 30:break;case 21:break;default:Cr(i,s),Rr(s)}}function Rr(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(Sx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=zp(s);fh(s,v,g);break;case 5:var A=l.stateNode;l.flags&32&&(qr(A,""),l.flags&=-33);var j=zp(s);fh(s,j,A);break;case 3:case 4:var G=l.stateNode.containerInfo,te=zp(s);Up(s,te,G);break;default:throw Error(r(161))}}catch(ce){Vt(s,s.return,ce)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Dx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Dx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function qi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Rx(s,i.alternate,i),i=i.sibling}function uo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),uo(i);break;case 1:ks(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ex(i,i.return,l),uo(i);break;case 27:au(i.stateNode);case 26:case 5:ks(i,i.return),uo(i);break;case 22:i.memoizedState===null&&uo(i);break;case 30:uo(i);break;default:uo(i)}s=s.sibling}}function Hi(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=s,v=i,A=v.flags;switch(v.tag){case 0:case 11:case 15:Hi(g,v,l),Xc(4,v);break;case 1:if(Hi(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Vt(c,c.return,te)}if(c=v,g=c.updateQueue,g!==null){var j=c.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)lb(G[g],j)}catch(te){Vt(c,c.return,te)}}l&&A&64&&wx(v),Wc(v,v.return);break;case 27:Ax(v);case 26:case 5:Hi(g,v,l),l&&c===null&&A&4&&Tx(v),Wc(v,v.return);break;case 12:Hi(g,v,l);break;case 13:Hi(g,v,l),l&&A&4&&Ox(g,v);break;case 22:v.memoizedState===null&&Hi(g,v,l),Wc(v,v.return);break;case 30:break;default:Hi(g,v,l)}i=i.sibling}}function qp(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&kc(l))}function Hp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&kc(s))}function Ls(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jx(s,i,l,c),i=i.sibling}function jx(s,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ls(s,i,l,c),g&2048&&Xc(9,i);break;case 1:Ls(s,i,l,c);break;case 3:Ls(s,i,l,c),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&kc(s)));break;case 12:if(g&2048){Ls(s,i,l,c),s=i.stateNode;try{var v=i.memoizedProps,A=v.id,j=v.onPostCommit;typeof j=="function"&&j(A,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Vt(i,i.return,G)}}else Ls(s,i,l,c);break;case 13:Ls(s,i,l,c);break;case 23:break;case 22:v=i.stateNode,A=i.alternate,i.memoizedState!==null?v._visibility&2?Ls(s,i,l,c):Zc(s,i):v._visibility&2?Ls(s,i,l,c):(v._visibility|=2,hl(s,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&qp(A,i);break;case 24:Ls(s,i,l,c),g&2048&&Hp(i.alternate,i);break;default:Ls(s,i,l,c)}}function hl(s,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,A=i,j=l,G=c,te=A.flags;switch(A.tag){case 0:case 11:case 15:hl(v,A,j,G,g),Xc(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?hl(v,A,j,G,g):Zc(v,A):(ce._visibility|=2,hl(v,A,j,G,g)),g&&te&2048&&qp(A.alternate,A);break;case 24:hl(v,A,j,G,g),g&&te&2048&&Hp(A.alternate,A);break;default:hl(v,A,j,G,g)}i=i.sibling}}function Zc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,g=c.flags;switch(c.tag){case 22:Zc(l,c),g&2048&&qp(c.alternate,c);break;case 24:Zc(l,c),g&2048&&Hp(c.alternate,c);break;default:Zc(l,c)}i=i.sibling}}var Jc=8192;function fl(s){if(s.subtreeFlags&Jc)for(s=s.child;s!==null;)Px(s),s=s.sibling}function Px(s){switch(s.tag){case 26:fl(s),s.flags&Jc&&s.memoizedState!==null&&zC(ls,s.memoizedState,s.memoizedProps);break;case 5:fl(s);break;case 3:case 4:var i=ls;ls=Ah(s.stateNode.containerInfo),fl(s),ls=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=Jc,Jc=16777216,fl(s),Jc=i):fl(s));break;default:fl(s)}}function kx(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function eu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Vx(c,s)}kx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lx(s),s=s.sibling}function Lx(s){switch(s.tag){case 0:case 11:case 15:eu(s),s.flags&2048&&Fi(9,s,s.return);break;case 3:eu(s);break;case 12:eu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,mh(s)):eu(s);break;default:eu(s)}}function mh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Vx(c,s)}kx(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),mh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,mh(i));break;default:mh(i)}s=s.sibling}}function Vx(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:Fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,An=c;else e:for(l=s;An!==null;){c=An;var g=c.sibling,v=c.return;if(Nx(c),c===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var tC={getCacheForType:function(s){var i=Gn(yn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},nC=typeof WeakMap=="function"?WeakMap:Map,Ot=0,zt=null,ot=null,bt=0,Mt=0,Nr=null,Gi=!1,ml=!1,Gp=!1,vi=0,Zt=0,$i=0,ho=0,$p=0,Zr=0,pl=0,tu=null,pr=null,Qp=!1,Kp=0,ph=1/0,gh=null,Qi=null,kn=0,Ki=null,gl=null,yl=0,Yp=0,Xp=null,zx=null,nu=0,Wp=null;function Ir(){if((Ot&2)!==0&&bt!==0)return bt&-bt;if($.T!==null){var s=sl;return s!==0?s:sg()}return Q()}function Ux(){Zr===0&&(Zr=(bt&536870912)===0||Tt?sn():536870912);var s=Wr.current;return s!==null&&(s.flags|=32),Zr}function Or(s,i,l){(s===zt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(vl(s,0),Yi(s,bt,Zr,!1)),qn(s,l),((Ot&2)===0||s!==zt)&&(s===zt&&((Ot&2)===0&&(ho|=l),Zt===4&&Yi(s,bt,Zr,!1)),Vs(s))}function Bx(s,i,l){if((Ot&6)!==0)throw Error(r(327));var c=!l&&(i&124)===0&&(i&s.expiredLanes)===0||ht(s,i),g=c?iC(s,i):eg(s,i,!0),v=c;do{if(g===0){ml&&!c&&Yi(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!rC(l)){g=eg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var j=s;g=tu;var G=j.current.memoizedState.isDehydrated;if(G&&(vl(j,A).flags|=256),A=eg(j,A,!1),A!==2){if(Gp&&!G){j.errorRecoveryDisabledLanes|=v,ho|=v,g=4;break e}v=pr,pr=g,v!==null&&(pr===null?pr=v:pr.push.apply(pr,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){vl(s,0),Yi(s,i,0,!0);break}e:{switch(c=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Yi(c,i,Zr,!Gi);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Kp+300-Xt(),10<g)){if(Yi(c,i,Zr,!Gi),Je(c,0,!0)!==0)break e;c.timeoutHandle=g_(Fx.bind(null,c,l,pr,gh,Qp,i,Zr,ho,pl,Gi,v,2,-0,0),g);break e}Fx(c,l,pr,gh,Qp,i,Zr,ho,pl,Gi,v,0,-0,0)}}break}while(!0);Vs(s)}function Fx(s,i,l,c,g,v,A,j,G,te,ce,fe,ne,re){if(s.timeoutHandle=-1,fe=i.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(cu={stylesheets:null,count:0,unsuspend:VC},Px(i),fe=UC(),fe!==null)){s.cancelPendingCommit=fe(Yx.bind(null,s,i,v,l,c,g,A,j,G,ce,1,ne,re)),Yi(s,v,A,!te);return}Yx(s,i,v,l,c,g,A,j,G)}function rC(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Sr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(s,i,l,c){i&=~$p,i&=~ho,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var g=i;0<g;){var v=31-$t(g),A=1<<v;c[v]=-1,g&=~A}l!==0&&Qt(s,l,i)}function yh(){return(Ot&6)===0?(ru(0),!1):!0}function Zp(){if(ot!==null){if(Mt===0)var s=ot.return;else s=ot,ui=io=null,pp(s),ul=null,Qc=0,s=ot;for(;s!==null;)_x(s.alternate,s),s=s.return;ot=null}}function vl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,_C(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Zp(),zt=s,ot=l=oi(s.current,null),bt=i,Mt=0,Nr=null,Gi=!1,ml=ht(s,i),Gp=!1,pl=Zr=$p=ho=$i=Zt=0,pr=tu=null,Qp=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var g=31-$t(c),v=1<<g;i|=s[g],c&=~v}return vi=i,zd(),l}function qx(s,i){tt=null,$.H=sh,i===Vc||i===Kd?(i=ab(),Mt=3):i===rb?(i=ab(),Mt=4):Mt=i===ox?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nr=i,ot===null&&(Zt=1,ch(s,Qr(i,s.current)))}function Hx(){var s=$.H;return $.H=sh,s===null?sh:s}function Gx(){var s=$.A;return $.A=tC,s}function Jp(){Zt=4,Gi||(bt&4194048)!==bt&&Wr.current!==null||(ml=!0),($i&134217727)===0&&(ho&134217727)===0||zt===null||Yi(zt,bt,Zr,!1)}function eg(s,i,l){var c=Ot;Ot|=2;var g=Hx(),v=Gx();(zt!==s||bt!==i)&&(gh=null,vl(s,i)),i=!1;var A=Zt;e:do try{if(Mt!==0&&ot!==null){var j=ot,G=Nr;switch(Mt){case 8:Zp(),A=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(i=!0);var te=Mt;if(Mt=0,Nr=null,bl(s,j,G,te),l&&ml){A=0;break e}break;default:te=Mt,Mt=0,Nr=null,bl(s,j,G,te)}}sC(),A=Zt;break}catch(ce){qx(s,ce)}while(!0);return i&&s.shellSuspendCounter++,ui=io=null,Ot=c,$.H=g,$.A=v,ot===null&&(zt=null,bt=0,zd()),A}function sC(){for(;ot!==null;)$x(ot)}function iC(s,i){var l=Ot;Ot|=2;var c=Hx(),g=Gx();zt!==s||bt!==i?(gh=null,ph=Xt()+500,vl(s,i)):ml=ht(s,i);e:do try{if(Mt!==0&&ot!==null){i=ot;var v=Nr;t:switch(Mt){case 1:Mt=0,Nr=null,bl(s,i,v,1);break;case 2:case 9:if(sb(v)){Mt=0,Nr=null,Qx(i);break}i=function(){Mt!==2&&Mt!==9||zt!==s||(Mt=7),Vs(s)},v.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:sb(v)?(Mt=0,Nr=null,Qx(i)):(Mt=0,Nr=null,bl(s,i,v,7));break;case 5:var A=null;switch(ot.tag){case 26:A=ot.memoizedState;case 5:case 27:var j=ot;if(!A||R_(A)){Mt=0,Nr=null;var G=j.sibling;if(G!==null)ot=G;else{var te=j.return;te!==null?(ot=te,vh(te)):ot=null}break t}}Mt=0,Nr=null,bl(s,i,v,5);break;case 6:Mt=0,Nr=null,bl(s,i,v,6);break;case 8:Zp(),Zt=6;break e;default:throw Error(r(462))}}aC();break}catch(ce){qx(s,ce)}while(!0);return ui=io=null,$.H=c,$.A=g,Ot=l,ot!==null?0:(zt=null,bt=0,zd(),Zt)}function aC(){for(;ot!==null&&!ur();)$x(ot)}function $x(s){var i=bx(s.alternate,s,vi);s.memoizedProps=s.pendingProps,i===null?vh(s):ot=i}function Qx(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=fx(l,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=fx(l,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:pp(i);default:_x(l,i),i=ot=Kv(i,vi),i=bx(l,i,vi)}s.memoizedProps=s.pendingProps,i===null?vh(s):ot=i}function bl(s,i,l,c){ui=io=null,pp(i),ul=null,Qc=0;var g=i.return;try{if(YA(s,g,i,l,bt)){Zt=1,ch(s,Qr(l,s.current)),ot=null;return}}catch(v){if(g!==null)throw ot=g,v;Zt=1,ch(s,Qr(l,s.current)),ot=null;return}i.flags&32768?(Tt||c===1?s=!0:ml||(bt&536870912)!==0?s=!1:(Gi=s=!0,(c===2||c===9||c===3||c===6)&&(c=Wr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Kx(i,s)):vh(i)}function vh(s){var i=s;do{if((i.flags&32768)!==0){Kx(i,Gi);return}s=i.return;var l=WA(i.alternate,i,vi);if(l!==null){ot=l;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=s}while(i!==null);Zt===0&&(Zt=5)}function Kx(s,i){do{var l=ZA(s.alternate,s);if(l!==null){l.flags&=32767,ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ot=s;return}ot=s=l}while(s!==null);Zt=6,ot=null}function Yx(s,i,l,c,g,v,A,j,G){s.cancelPendingCommit=null;do bh();while(kn!==0);if((Ot&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Hm,On(s,l,v,A,j,G),s===zt&&(ot=zt=null,bt=0),gl=i,Ki=s,yl=l,Yp=v,Xp=g,zx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,uC(ss,function(){return e_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,g=le.p,le.p=2,A=Ot,Ot|=4;try{JA(s,i,l)}finally{Ot=A,le.p=g,$.T=c}}kn=1,Xx(),Wx(),Zx()}}function Xx(){if(kn===1){kn=0;var s=Ki,i=gl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=le.p;le.p=2;var g=Ot;Ot|=4;try{Mx(i,s);var v=hg,A=Vv(s.containerInfo),j=v.focusedElem,G=v.selectionRange;if(A!==j&&j&&j.ownerDocument&&Lv(j.ownerDocument.documentElement,j)){if(G!==null&&zm(j)){var te=G.start,ce=G.end;if(ce===void 0&&(ce=te),"selectionStart"in j)j.selectionStart=te,j.selectionEnd=Math.min(ce,j.value.length);else{var fe=j.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),$e=j.textContent.length,Be=Math.min(G.start,$e),kt=G.end===void 0?Be:Math.min(G.end,$e);!re.extend&&Be>kt&&(A=kt,kt=Be,Be=A);var X=kv(j,Be),K=kv(j,kt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Be>kt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(fe=[],re=j;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<fe.length;j++){var de=fe[j];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Oh=!!dg,hg=dg=null}finally{Ot=g,le.p=c,$.T=l}}s.current=i,kn=2}}function Wx(){if(kn===2){kn=0;var s=Ki,i=gl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=le.p;le.p=2;var g=Ot;Ot|=4;try{Rx(s,i.alternate,i)}finally{Ot=g,le.p=c,$.T=l}}kn=3}}function Zx(){if(kn===4||kn===3){kn=0,Jn();var s=Ki,i=gl,l=yl,c=zx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kn=5:(kn=0,gl=Ki=null,Jx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Qi=null),Ts(l),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,g=le.p,le.p=2,$.T=null;try{for(var v=s.onRecoverableError,A=0;A<c.length;A++){var j=c[A];v(j.value,{componentStack:j.stack})}}finally{$.T=i,le.p=g}}(yl&3)!==0&&bh(),Vs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Wp?nu++:(nu=0,Wp=s):nu=0,ru(0)}}function Jx(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,kc(i)))}function bh(s){return Xx(),Wx(),Zx(),e_()}function e_(){if(kn!==5)return!1;var s=Ki,i=Yp;Yp=0;var l=Ts(yl),c=$.T,g=le.p;try{le.p=32>l?32:l,$.T=null,l=Xp,Xp=null;var v=Ki,A=yl;if(kn=0,gl=Ki=null,yl=0,(Ot&6)!==0)throw Error(r(331));var j=Ot;if(Ot|=4,Lx(v.current),jx(v,v.current,A,l),Ot=j,ru(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,v)}catch{}return!0}finally{le.p=g,$.T=c,Jx(s,i)}}function t_(s,i,l){i=Qr(l,i),i=Np(s.stateNode,i,2),s=Vi(s,i,2),s!==null&&(qn(s,2),Vs(s))}function Vt(s,i,l){if(s.tag===3)t_(s,s,l);else for(;i!==null;){if(i.tag===3){t_(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qi===null||!Qi.has(c))){s=Qr(l,s),l=ix(2),c=Vi(i,l,2),c!==null&&(ax(l,c,i,s),qn(c,2),Vs(c));break}}i=i.return}}function tg(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new nC;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(Gp=!0,g.add(l),s=oC.bind(null,s,i,l),i.then(s,s))}function oC(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,zt===s&&(bt&l)===l&&(Zt===4||Zt===3&&(bt&62914560)===bt&&300>Xt()-Kp?(Ot&2)===0&&vl(s,0):$p|=l,pl===bt&&(pl=0)),Vs(s)}function n_(s,i){i===0&&(i=nr()),s=el(s,i),s!==null&&(qn(s,i),Vs(s))}function lC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),n_(s,l)}function cC(s,i){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),n_(s,l)}function uC(s,i){return fn(s,i)}var xh=null,xl=null,ng=!1,_h=!1,rg=!1,fo=0;function Vs(s){s!==xl&&s.next===null&&(xl===null?xh=xl=s:xl=xl.next=s),_h=!0,ng||(ng=!0,hC())}function ru(s,i){if(!rg&&_h){rg=!0;do for(var l=!1,c=xh;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var A=c.suspendedLanes,j=c.pingedLanes;v=(1<<31-$t(42|s)+1)-1,v&=g&~(A&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,a_(c,v))}else v=bt,v=Je(c,c===zt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ht(c,v)||(l=!0,a_(c,v));c=c.next}while(l);rg=!1}}function dC(){r_()}function r_(){_h=ng=!1;var s=0;fo!==0&&(xC()&&(s=fo),fo=0);for(var i=Xt(),l=null,c=xh;c!==null;){var g=c.next,v=s_(c,i);v===0?(c.next=null,l===null?xh=g:l.next=g,g===null&&(xl=l)):(l=c,(s!==0||(v&3)!==0)&&(_h=!0)),c=g}ru(s)}function s_(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var A=31-$t(v),j=1<<A,G=g[A];G===-1?((j&l)===0||(j&c)!==0)&&(g[A]=qt(j,i)):G<=i&&(s.expiredLanes|=j),v&=~j}if(i=zt,l=bt,l=Je(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ft(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ht(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&Ft(c),Ts(l)){case 2:case 8:l=ws;break;case 32:l=ss;break;case 268435456:l=tr;break;default:l=ss}return c=i_.bind(null,s),l=fn(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&Ft(c),s.callbackPriority=2,s.callbackNode=null,2}function i_(s,i){if(kn!==0&&kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(bh()&&s.callbackNode!==l)return null;var c=bt;return c=Je(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Bx(s,c,i),s_(s,Xt()),s.callbackNode!=null&&s.callbackNode===l?i_.bind(null,s):null)}function a_(s,i){if(bh())return null;Bx(s,i,!0)}function hC(){wC(function(){(Ot&6)!==0?fn(_s,dC):r_()})}function sg(){return fo===0&&(fo=sn()),fo}function o_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function l_(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function fC(s,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var v=o_((g[be]||null).action),A=c.submitter;A&&(i=(i=A[be]||null)?o_(i.formAction):A.getAttribute("formAction"),i!==null&&(v=i,A=null));var j=new qo("action","action",null,c,g);s.push({event:j,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fo!==0){var G=A?l_(g,A):new FormData(g);Tp(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(j.preventDefault(),G=A?l_(g,A):new FormData(g),Tp(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var ig=0;ig<qm.length;ig++){var ag=qm[ig],mC=ag.toLowerCase(),pC=ag[0].toUpperCase()+ag.slice(1);os(mC,"on"+pC)}os(Bv,"onAnimationEnd"),os(Fv,"onAnimationIteration"),os(qv,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(MA,"onTransitionRun"),os(DA,"onTransitionStart"),os(jA,"onTransitionCancel"),os(Hv,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function c_(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var A=c.length-1;0<=A;A--){var j=c[A],G=j.instance,te=j.currentTarget;if(j=j.listener,G!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=te;try{v(g)}catch(ce){lh(ce)}g.currentTarget=null,v=G}else for(A=0;A<c.length;A++){if(j=c[A],G=j.instance,te=j.currentTarget,j=j.listener,G!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=te;try{v(g)}catch(ce){lh(ce)}g.currentTarget=null,v=G}}}}function lt(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var c=s+"__bubble";l.has(c)||(u_(i,s,2,!1),l.add(c))}function og(s,i,l){var c=0;i&&(c|=4),u_(l,s,c,i)}var wh="_reactListening"+Math.random().toString(36).slice(2);function lg(s){if(!s[wh]){s[wh]=!0,rt.forEach(function(l){l!=="selectionchange"&&(gC.has(l)||og(l,!1,s),og(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[wh]||(i[wh]=!0,og("selectionchange",!1,i))}}function u_(s,i,l,c){switch(j_(i)){case 2:var g=qC;break;case 8:g=HC;break;default:g=wg}l=g.bind(null,i,l,s),g=void 0,!Gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function cg(s,i,l,c,g){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var j=c.stateNode.containerInfo;if(j===g)break;if(A===4)for(A=c.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;j!==null;){if(A=Fe(j),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){c=v=A;continue e}j=j.parentNode}}c=c.return}Td(function(){var te=v,ce=Hr(l),fe=[];e:{var ne=Gv.get(s);if(ne!==void 0){var re=qo,$e=s;switch(s){case"keypress":if(Ns(l)===0)break e;case"keydown":case"keyup":re=Yo;break;case"focusin":$e="focus",re=$o;break;case"focusout":$e="blur",re=$o;break;case"beforeblur":case"afterblur":re=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Md;break;case Bv:case Fv:case qv:re=Qo;break;case Hv:re=jd;break;case"scroll":case"scrollend":re=Sd;break;case"wheel":re=Xo;break;case"copy":case"cut":case"paste":re=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Rc;break;case"toggle":case"beforetoggle":re=kd}var Be=(i&4)!==0,kt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var K=te,J;K!==null;){var de=K;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||X===null||(de=Ga(K,X),de!=null&&Be.push(iu(K,de,J))),kt)break;K=K.return}0<Be.length&&(ne=new re(ne,$e,null,l,ce),fe.push({event:ne,listeners:Be}))}}if((i&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&l!==ti&&($e=l.relatedTarget||l.fromElement)&&(Fe($e)||$e[Ce]))break e;if((re||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?($e=l.relatedTarget||l.toElement,re=te,$e=$e?Fe($e):null,$e!==null&&(kt=o($e),Be=$e.tag,$e!==kt||Be!==5&&Be!==27&&Be!==6)&&($e=null)):(re=null,$e=te),re!==$e)){if(Be=$r,de="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Rc,de="onPointerLeave",X="onPointerEnter",K="pointer"),kt=re==null?ne:At(re),J=$e==null?ne:At($e),ne=new Be(de,K+"leave",re,l,ce),ne.target=kt,ne.relatedTarget=J,de=null,Fe(ce)===te&&(Be=new Be(X,K+"enter",$e,l,ce),Be.target=J,Be.relatedTarget=kt,de=Be),kt=de,re&&$e)t:{for(Be=re,X=$e,K=0,J=Be;J;J=_l(J))K++;for(J=0,de=X;de;de=_l(de))J++;for(;0<K-J;)Be=_l(Be),K--;for(;0<J-K;)X=_l(X),J--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=_l(Be),X=_l(X)}Be=null}else Be=null;re!==null&&d_(fe,ne,re,Be,!1),$e!==null&&kt!==null&&d_(fe,kt,$e,Be,!0)}}e:{if(ne=te?At(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ne=Iv;else if(gn(ne))if(Ov)Ne=NA;else{Ne=CA;var st=AA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&_c(te.elementType)&&(Ne=Iv):Ne=RA;if(Ne&&(Ne=Ne(s,te))){ai(fe,Ne,l,ce);break e}st&&st(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Di(ne,"number",ne.value)}switch(st=te?At(te):window,s){case"focusin":(gn(st)||st.contentEditable==="true")&&(Wo=st,Um=te,Oc=null);break;case"focusout":Oc=Um=Wo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,zv(fe,l,ce);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":zv(fe,l,ce)}var ke;if(Ms)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else yt?se(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(S&&l.locale!=="ko"&&(yt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&yt&&(ke=Ec()):(Rs=ce,ji="value"in Rs?Rs.value:Rs.textContent,yt=!0)),st=Eh(te,qe),0<st.length&&(qe=new Ac(qe,s,null,l,ce),fe.push({event:qe,listeners:st}),ke?qe.data=ke:(ke=_e(l),ke!==null&&(qe.data=ke)))),(ke=x?pn(s,l):vt(s,l))&&(qe=Eh(te,"onBeforeInput"),0<qe.length&&(st=new Ac("onBeforeInput","beforeinput",null,l,ce),fe.push({event:st,listeners:qe}),st.data=ke)),fC(fe,s,te,l,ce)}c_(fe,i)})}function iu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Eh(s,i){for(var l=i+"Capture",c=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ga(s,l),g!=null&&c.unshift(iu(s,g,v)),g=Ga(s,i),g!=null&&c.push(iu(s,g,v))),s.tag===3)return c;s=s.return}return[]}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function d_(s,i,l,c,g){for(var v=i._reactName,A=[];l!==null&&l!==c;){var j=l,G=j.alternate,te=j.stateNode;if(j=j.tag,G!==null&&G===c)break;j!==5&&j!==26&&j!==27||te===null||(G=te,g?(te=Ga(l,v),te!=null&&A.unshift(iu(l,te,G))):g||(te=Ga(l,v),te!=null&&A.push(iu(l,te,G)))),l=l.return}A.length!==0&&s.push({event:i,listeners:A})}var yC=/\r\n?/g,vC=/\u0000|\uFFFD/g;function h_(s){return(typeof s=="string"?s:""+s).replace(yC,`
`).replace(vC,"")}function f_(s,i){return i=h_(i),h_(s)===i}function Th(){}function Pt(s,i,l,c,g,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qr(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qr(s,""+c);break;case"className":sr(s,"class",c);break;case"tabIndex":sr(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(s,l,c);break;case"style":xc(s,c,v);break;case"data":if(i!=="object"){sr(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Pt(s,i,"name",g.name,g,null),Pt(s,i,"formEncType",g.formEncType,g,null),Pt(s,i,"formMethod",g.formMethod,g,null),Pt(s,i,"formTarget",g.formTarget,g,null)):(Pt(s,i,"encType",g.encType,g,null),Pt(s,i,"method",g.method,g,null),Pt(s,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Th);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Hn(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hn(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dm.get(l)||l,Hn(s,l,c))}}function ug(s,i,l,c,g,v){switch(l){case"style":xc(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?qr(s,c):(typeof c=="number"||typeof c=="bigint")&&qr(s,""+c);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[be]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Hn(s,l,c)}}}function Ln(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,v,A,l,null)}}g&&Pt(s,i,"srcSet",l.srcSet,l,null),c&&Pt(s,i,"src",l.src,l,null);return;case"input":lt("invalid",s);var j=v=A=g=null,G=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":g=ce;break;case"type":A=ce;break;case"checked":G=ce;break;case"defaultChecked":te=ce;break;case"value":v=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,i));break;default:Pt(s,i,c,ce,l,null)}}Fa(s,v,j,G,te,A,g,!1),Bo(s);return;case"select":lt("invalid",s),c=A=v=null;for(g in l)if(l.hasOwnProperty(g)&&(j=l[g],j!=null))switch(g){case"value":v=j;break;case"defaultValue":A=j;break;case"multiple":c=j;default:Pt(s,i,g,j,l,null)}i=v,l=A,s.multiple=!!c,i!=null?ei(s,!!c,i,!1):l!=null&&ei(s,!!c,l,!0);return;case"textarea":lt("invalid",s),v=g=c=null;for(A in l)if(l.hasOwnProperty(A)&&(j=l[A],j!=null))switch(A){case"value":c=j;break;case"defaultValue":g=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(s,i,A,j,l,null)}qa(s,c,g,v),Bo(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pt(s,i,G,c,l,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(c=0;c<su.length;c++)lt(su[c],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,te,c,l,null)}return;default:if(_c(i)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&ug(s,i,ce,c,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(c=l[j],c!=null&&Pt(s,i,j,c,l,null))}function bC(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,j=null,G=null,te=null,ce=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=fe;default:c.hasOwnProperty(re)||Pt(s,i,re,null,c,fe)}}for(var ne in c){var re=c[ne];if(fe=l[ne],c.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":v=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":ce=re;break;case"value":A=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:re!==fe&&Pt(s,i,ne,re,c,fe)}}Tr(s,A,j,G,te,ce,v,g);return;case"select":re=A=j=ne=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":re=G;default:c.hasOwnProperty(v)||Pt(s,i,v,null,c,G)}for(g in c)if(v=c[g],G=l[g],c.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":ne=v;break;case"defaultValue":j=v;break;case"multiple":A=v;default:v!==G&&Pt(s,i,g,v,c,G)}i=j,l=A,c=re,ne!=null?ei(s,!!l,ne,!1):!!c!=!!l&&(i!=null?ei(s,!!l,i,!0):ei(s,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(j in l)if(g=l[j],l.hasOwnProperty(j)&&g!=null&&!c.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(s,i,j,null,c,g)}for(A in c)if(g=c[A],v=l[A],c.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Pt(s,i,A,g,c,v)}Dt(s,ne,re);return;case"option":for(var $e in l)if(ne=l[$e],l.hasOwnProperty($e)&&ne!=null&&!c.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:Pt(s,i,$e,null,c,ne)}for(G in c)if(ne=c[G],re=l[G],c.hasOwnProperty(G)&&ne!==re&&(ne!=null||re!=null))switch(G){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Pt(s,i,G,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!c.hasOwnProperty(Be)&&Pt(s,i,Be,null,c,ne);for(te in c)if(ne=c[te],re=l[te],c.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:Pt(s,i,te,ne,c,re)}return;default:if(_c(i)){for(var kt in l)ne=l[kt],l.hasOwnProperty(kt)&&ne!==void 0&&!c.hasOwnProperty(kt)&&ug(s,i,kt,void 0,c,ne);for(ce in c)ne=c[ce],re=l[ce],!c.hasOwnProperty(ce)||ne===re||ne===void 0&&re===void 0||ug(s,i,ce,ne,c,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&Pt(s,i,X,null,c,ne);for(fe in c)ne=c[fe],re=l[fe],!c.hasOwnProperty(fe)||ne===re||ne==null&&re==null||Pt(s,i,fe,ne,c,re)}var dg=null,hg=null;function Sh(s){return s.nodeType===9?s:s.ownerDocument}function m_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function fg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mg=null;function xC(){var s=window.event;return s&&s.type==="popstate"?s===mg?!1:(mg=s,!0):(mg=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(s){return y_.resolve(null).then(s).catch(EC)}:g_;function EC(s){setTimeout(function(){throw s})}function Xi(s){return s==="head"}function v_(s,i){var l=i,c=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var A=s.ownerDocument;if(l&1&&au(A.documentElement),l&2&&au(A.body),l&4)for(l=A.head,au(l),A=l.firstChild;A;){var j=A.nextSibling,G=A.nodeName;A[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=j}}if(g===0){s.removeChild(v),mu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);mu(i)}function pg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pg(l),je(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function TC(s,i,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function SC(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=cs(s.nextSibling),s===null))return null;return s}function gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function AC(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function cs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var yg=null;function b_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function x_(s,i,l){switch(i=Sh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function au(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);je(s)}var Jr=new Map,__=new Set;function Ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bi=le.d;le.d={f:CC,r:RC,D:NC,C:IC,L:OC,m:MC,X:jC,S:DC,M:PC};function CC(){var s=bi.f(),i=yh();return s||i}function RC(s){var i=at(s);i!==null&&i.tag===5&&i.type==="form"?Bb(i):bi.r(s)}var wl=typeof document>"u"?null:document;function w_(s,i,l){var c=wl;if(c&&typeof i=="string"&&i){var g=on(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),__.has(g)||(__.add(g),s={rel:s,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Ln(i,"link",s),ft(i),c.head.appendChild(i)))}}function NC(s){bi.D(s),w_("dns-prefetch",s,null)}function IC(s,i){bi.C(s,i),w_("preconnect",s,i)}function OC(s,i,l){bi.L(s,i,l);var c=wl;if(c&&s&&i){var g='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+on(l.imageSizes)+'"]')):g+='[href="'+on(s)+'"]';var v=g;switch(i){case"style":v=El(s);break;case"script":v=Tl(s)}Jr.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Jr.set(v,s),c.querySelector(g)!==null||i==="style"&&c.querySelector(ou(v))||i==="script"&&c.querySelector(lu(v))||(i=c.createElement("link"),Ln(i,"link",s),ft(i),c.head.appendChild(i)))}}function MC(s,i){bi.m(s,i);var l=wl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+on(c)+'"][href="'+on(s)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(s)}if(!Jr.has(v)&&(s=y({rel:"modulepreload",href:s},i),Jr.set(v,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lu(v)))return}c=l.createElement("link"),Ln(c,"link",s),ft(c),l.head.appendChild(c)}}}function DC(s,i,l){bi.S(s,i,l);var c=wl;if(c&&s){var g=wt(c).hoistableStyles,v=El(s);i=i||"default";var A=g.get(v);if(!A){var j={loading:0,preload:null};if(A=c.querySelector(ou(v)))j.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Jr.get(v))&&vg(s,l);var G=A=c.createElement("link");ft(G),Ln(G,"link",s),G._p=new Promise(function(te,ce){G.onload=te,G.onerror=ce}),G.addEventListener("load",function(){j.loading|=1}),G.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Ch(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:j},g.set(v,A)}}}function jC(s,i){bi.X(s,i);var l=wl;if(l&&s){var c=wt(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(lu(g)),v||(s=y({src:s,async:!0},i),(i=Jr.get(g))&&bg(s,i),v=l.createElement("script"),ft(v),Ln(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function PC(s,i){bi.M(s,i);var l=wl;if(l&&s){var c=wt(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(lu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=Jr.get(g))&&bg(s,i),v=l.createElement("script"),ft(v),Ln(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function E_(s,i,l,c){var g=(g=Ee.current)?Ah(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=wt(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=El(l.href);var v=wt(g).hoistableStyles,A=v.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,A),(v=g.querySelector(ou(s)))&&!v._p&&(A.instance=v,A.state.loading=5),Jr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jr.set(s,l),v||kC(g,s,l,A.state))),i&&c===null)throw Error(r(528,""));return A}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=wt(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function El(s){return'href="'+on(s)+'"'}function ou(s){return'link[rel="stylesheet"]['+s+"]"}function T_(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function kC(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Ln(i,"link",l),ft(i),s.head.appendChild(i))}function Tl(s){return'[src="'+on(s)+'"]'}function lu(s){return"script[async]"+s}function S_(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+on(l.href)+'"]');if(c)return i.instance=c,ft(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ft(c),Ln(c,"style",g),Ch(c,l.precedence,s),i.instance=c;case"stylesheet":g=El(l.href);var v=s.querySelector(ou(g));if(v)return i.state.loading|=4,i.instance=v,ft(v),v;c=T_(l),(g=Jr.get(g))&&vg(c,g),v=(s.ownerDocument||s).createElement("link"),ft(v);var A=v;return A._p=new Promise(function(j,G){A.onload=j,A.onerror=G}),Ln(v,"link",c),i.state.loading|=4,Ch(v,l.precedence,s),i.instance=v;case"script":return v=Tl(l.src),(g=s.querySelector(lu(v)))?(i.instance=g,ft(g),g):(c=l,(g=Jr.get(v))&&(c=y({},l),bg(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),ft(g),Ln(g,"link",c),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ch(c,l.precedence,s));return i.instance}function Ch(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,A=0;A<c.length;A++){var j=c[A];if(j.dataset.precedence===i)v=j;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function vg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function bg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Rh=null;function A_(s,i,l){if(Rh===null){var c=new Map,g=Rh=new Map;g.set(l,c)}else g=Rh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[he]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(i)||"";A=s+A;var j=c.get(A);j?j.push(v):c.set(A,[v])}}return c}function C_(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function LC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var cu=null;function VC(){}function zC(s,i,l){if(cu===null)throw Error(r(475));var c=cu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=El(l.href),v=s.querySelector(ou(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Nh.bind(c),s.then(c,c)),i.state.loading|=4,i.instance=v,ft(v);return}v=s.ownerDocument||s,l=T_(l),(g=Jr.get(g))&&vg(l,g),v=v.createElement("link"),ft(v);var A=v;A._p=new Promise(function(j,G){A.onload=j,A.onerror=G}),Ln(v,"link",l),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Nh.bind(c),s.addEventListener("load",i),s.addEventListener("error",i))}}function UC(){if(cu===null)throw Error(r(475));var s=cu;return s.stylesheets&&s.count===0&&xg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&xg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ih=null;function xg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ih=new Map,i.forEach(BC,s),Ih=null,Nh.call(s))}function BC(s,i){if(!(i.state.loading&4)){var l=Ih.get(s);if(l)var c=l.get(null);else{l=new Map,Ih.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}g=i.instance,A=g.getAttribute("data-precedence"),v=l.get(A)||c,v===c&&l.set(null,g),l.set(A,g),this.count++,c=Nh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var uu={$$typeof:E,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function FC(s,i,l,c,g,v,A,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function N_(s,i,l,c,g,v,A,j,G,te,ce,fe){return s=new FC(s,i,l,A,j,G,te,fe),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=tp(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},ip(v),s}function I_(s){return s?(s=tl,s):tl}function O_(s,i,l,c,g,v){g=I_(g),c.context===null?c.context=g:c.pendingContext=g,c=Li(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Vi(s,c,i),l!==null&&(Or(l,s,i),Uc(l,s,i))}function M_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function _g(s,i){M_(s,i),(s=s.alternate)&&M_(s,i)}function D_(s){if(s.tag===13){var i=el(s,67108864);i!==null&&Or(i,s,67108864),_g(s,67108864)}}var Oh=!0;function qC(s,i,l,c){var g=$.T;$.T=null;var v=le.p;try{le.p=2,wg(s,i,l,c)}finally{le.p=v,$.T=g}}function HC(s,i,l,c){var g=$.T;$.T=null;var v=le.p;try{le.p=8,wg(s,i,l,c)}finally{le.p=v,$.T=g}}function wg(s,i,l,c){if(Oh){var g=Eg(c);if(g===null)cg(s,i,c,Mh,l),P_(s,c);else if($C(g,s,i,l,c))c.stopPropagation();else if(P_(s,c),i&4&&-1<GC.indexOf(s)){for(;g!==null;){var v=at(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Oe(v.pendingLanes);if(A!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;A;){var G=1<<31-$t(A);j.entanglements[1]|=G,A&=~G}Vs(v),(Ot&6)===0&&(ph=Xt()+500,ru(0))}}break;case 13:j=el(v,2),j!==null&&Or(j,v,2),yh(),_g(v,2)}if(v=Eg(c),v===null&&cg(s,i,c,Mh,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else cg(s,i,c,null,l)}}function Eg(s){return s=Hr(s),Tg(s)}var Mh=null;function Tg(s){if(Mh=null,s=Fe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Mh=s,null}function j_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case _s:return 2;case ws:return 8;case ss:case er:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Sg=!1,Wi=null,Zi=null,Ji=null,du=new Map,hu=new Map,ea=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(s,i){switch(s){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(i.pointerId)}}function fu(s,i,l,c,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},i!==null&&(i=at(i),i!==null&&D_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function $C(s,i,l,c,g){switch(i){case"focusin":return Wi=fu(Wi,s,i,l,c,g),!0;case"dragenter":return Zi=fu(Zi,s,i,l,c,g),!0;case"mouseover":return Ji=fu(Ji,s,i,l,c,g),!0;case"pointerover":var v=g.pointerId;return du.set(v,fu(du.get(v)||null,s,i,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,hu.set(v,fu(hu.get(v)||null,s,i,l,c,g)),!0}return!1}function k_(s){var i=Fe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var c=Ir();c=_r(c);var g=el(l,c);g!==null&&Or(g,l,c),_g(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Eg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=at(l),i!==null&&D_(i),s.blockedOn=l,!1;i.shift()}return!0}function L_(s,i,l){Dh(s)&&l.delete(i)}function QC(){Sg=!1,Wi!==null&&Dh(Wi)&&(Wi=null),Zi!==null&&Dh(Zi)&&(Zi=null),Ji!==null&&Dh(Ji)&&(Ji=null),du.forEach(L_),hu.forEach(L_)}function jh(s,i){s.blockedOn===i&&(s.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QC)))}var Ph=null;function V_(s){Ph!==s&&(Ph=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ph===s&&(Ph=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],g=s[i+2];if(typeof c!="function"){if(Tg(c||l)===null)continue;break}var v=at(l);v!==null&&(s.splice(i,3),i-=3,Tp(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function mu(s){function i(G){return jh(G,s)}Wi!==null&&jh(Wi,s),Zi!==null&&jh(Zi,s),Ji!==null&&jh(Ji,s),du.forEach(i),hu.forEach(i);for(var l=0;l<ea.length;l++){var c=ea[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ea.length&&(l=ea[0],l.blockedOn===null);)k_(l),l.blockedOn===null&&ea.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],A=g[be]||null;if(typeof v=="function")A||V_(l);else if(A){var j=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[be]||null)j=A.formAction;else if(Tg(g)!==null)continue}else j=A.action;typeof j=="function"?l[c+1]=j:(l.splice(c,3),c-=3),V_(l)}}}function Ag(s){this._internalRoot=s}kh.prototype.render=Ag.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Ir();O_(l,c,s,i,null,null)},kh.prototype.unmount=Ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;O_(s.current,2,null,s,null,null),yh(),i[Ce]=null}};function kh(s){this._internalRoot=s}kh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ea.length&&i!==0&&i<ea[l].priority;l++);ea.splice(l,0,s),l===0&&k_(s)}};var z_=e.version;if(z_!=="19.1.0")throw Error(r(527,z_,"19.1.0"));le.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var KC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{gt=Lh.inject(KC),We=Lh}catch{}}return gu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",g=tx,v=nx,A=rx,j=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=N_(s,1,!1,null,null,l,c,g,v,A,j,null),s[Ce]=i.current,lg(s),new Ag(i)},gu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,g="",v=tx,A=nx,j=rx,G=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),i=N_(s,1,!0,i,l??null,c,g,v,A,j,G,te),i.context=I_(null),l=i.current,c=Ir(),c=_r(c),g=Li(c),g.callback=null,Vi(l,g,c),l=c,i.current.lanes=l,qn(i,l),Vs(i),s[Ce]=i.current,lg(s),new kh(i)},gu.version="19.1.0",gu}var X_;function rR(){if(X_)return Ig.exports;X_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ig.exports=nR(),Ig.exports}var sR=rR(),yu={},W_;function iR(){if(W_)return yu;W_=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.parse=u,yu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,T){const C=new o,P=_.length;if(P<2)return C;const I=(T==null?void 0:T.decode)||y;let N=0;do{const w=_.indexOf("=",N);if(w===-1)break;const E=_.indexOf(";",N),L=E===-1?P:E;if(w>L){N=_.lastIndexOf(";",w-1)+1;continue}const B=d(_,N,w),U=h(_,w,B),V=_.slice(B,U);if(C[V]===void 0){let M=d(_,w+1,L),O=h(_,L,M);const R=I(_.slice(M,O));C[V]=R}N=L+1}while(N<P);return C}function d(_,T,C){do{const P=_.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<C);return C}function h(_,T,C){for(;T>C;){const P=_.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return C}function p(_,T,C){const P=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=P(T);if(!e.test(I))throw new TypeError(`argument val is invalid: ${T}`);let N=_+"="+I;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return yu}iR();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z1=n=>{throw TypeError(n)},aR=(n,e,t)=>e.has(n)||z1("Cannot "+t),jg=(n,e,t)=>(aR(n,e,"read from private field"),t?t.call(n):e.get(n)),oR=(n,e,t)=>e.has(n)?z1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Z_="popstate";function lR(n={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Uu("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ra(a)}return uR(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cR(){return Math.random().toString(36).substring(2,10)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function Uu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:t,key:e&&e.key||r||cR()}}function Ra({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function uR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",h=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let I=y(),N=I==null?null:I-p;p=I,h&&h({action:d,location:P.location,delta:N})}function _(I,N){d="PUSH";let w=Uu(P.location,I,N);p=y()+1;let E=J_(w,p),L=P.createHref(w);try{u.pushState(E,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(L)}o&&h&&h({action:d,location:P.location,delta:1})}function T(I,N){d="REPLACE";let w=Uu(P.location,I,N);p=y();let E=J_(w,p),L=P.createHref(w);u.replaceState(E,"",L),o&&h&&h({action:d,location:P.location,delta:0})}function C(I){let N=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof I=="string"?I:Ra(I);return w=w.replace(/ $/,"%20"),ct(N,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,N)}let P={get action(){return d},get location(){return n(a,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Z_,b),h=I,()=>{a.removeEventListener(Z_,b),h=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let N=C(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:T,go(I){return u.go(I)}};return P}var Eu,ew=class{constructor(n){if(oR(this,Eu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(jg(this,Eu).has(n))return jg(this,Eu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){jg(this,Eu).set(n,e)}};Eu=new WeakMap;var dR=new Set(["lazy","caseSensitive","path","id","index","children"]);function hR(n){return dR.has(n)}var fR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function mR(n){return fR.has(n)}function pR(n){return n.index===!0}function vf(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],d=typeof a.id=="string"?a.id:u.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),pR(a)){let h={...a,...e(a),id:d};return r[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return r[d]=h,a.children&&(h.children=vf(a.children,e,u,r)),h}})}function ia(n,e,t="/"){return tf(n,e,t,!1)}function tf(n,e,t,r){let a=typeof e=="string"?Pa(e):e,o=rs(a.pathname||"/",t);if(o==null)return null;let u=U1(n);yR(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=RR(o);d=AR(u[h],p,r)}return d}function gR(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function U1(n,e=[],t=[],r=""){let a=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=qs([r,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),U1(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:TR(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let h of B1(o.path))a(o,u,h)}),e}function B1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=B1(r.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function yR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vR=/^:[\w-]+$/,bR=3,xR=2,_R=1,wR=10,ER=-2,tw=n=>n==="*";function TR(n,e){let t=n.split("/"),r=t.length;return t.some(tw)&&(r+=ER),e&&(r+=xR),t.filter(a=>!tw(a)).reduce((a,o)=>a+(vR.test(o)?bR:o===""?_R:wR),r)}function SR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function AR(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),_=h.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=bf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:qs([o,b.pathname]),pathnameBase:OR(qs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=qs([o,b.pathnameBase]))}return u}function bf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=CR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},_)=>{if(y==="*"){let C=d[_]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const T=d[_];return b&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function CR(n,e=!1,t=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function RR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function NR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Pa(n):n;return{pathname:t?t.startsWith("/")?t:IR(t,e):e,search:MR(r),hash:DR(a)}}function IR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function h0(n){let e=F1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function f0(n,e,t,r=!1){let a;typeof n=="string"?a=Pa(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),Pg("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Pg("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Pg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let h=NR(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),OR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,xf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Bu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var q1=["POST","PUT","PATCH","DELETE"],jR=new Set(q1),PR=["GET",...q1],kR=new Set(PR),LR=new Set([301,302,303,307,308]),VR=new Set([307,308]),kg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),H1="remix-router-transitions",G1=Symbol("ResetLoaderData");function BR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||UR,o={},u=vf(n.routes,a,void 0,o),d,h=n.basename||"/",p=n.dataStrategy||$R,y={unstable_middleware:!1,...n.future},b=null,_=new Set,T=null,C=null,P=null,I=n.hydrationData!=null,N=ia(u,n.history.location,h),w=!1,E=null;if(N==null&&!n.patchRoutesOnNavigation){let Q=ts(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=fw(u);N=W,E={[ee.id]:Q}}N&&!n.hydrationData&&Qt(N,u,n.history.location.pathname).active&&(N=null);let L;if(N)if(N.some(Q=>Q.route.lazy))L=!1;else if(!N.some(Q=>Q.route.loader))L=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=N.findIndex(he=>W[he.route.id]!==void 0);L=N.slice(0,ee+1).every(he=>!my(he.route,Q,W))}else L=N.every(ee=>!my(ee.route,Q,W))}else{L=!1,N=[];let Q=Qt(null,u,n.history.location.pathname);Q.active&&Q.matches&&(w=!0,N=Q.matches)}let B,U={historyAction:n.history.action,location:n.history.location,matches:N,initialized:L,navigation:kg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||E,fetchers:new Map,blockers:new Map},V="POP",M=!1,O,R=!1,D=new Map,F=null,k=!1,oe=!1,ve=new Set,$=new Map,le=0,ae=-1,xe=new Map,H=new Set,ie=new Map,ye=new Map,pe=new Set,Se=new Map,Ve,Ee=null;function ge(){if(b=n.history.listen(({action:Q,location:W,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}rn(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=qt({currentLocation:U.location,nextLocation:W,historyAction:Q});if(he&&ee!=null){let be=new Promise(Ce=>{Ve=Ce});n.history.go(ee*-1),ht(he,{state:"blocked",location:W,proceed(){ht(he,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>n.history.go(ee))},reset(){let Ce=new Map(U.blockers);Ce.set(he,vu),Ze({blockers:Ce})}});return}return Ft(Q,W)}),t){rN(e,D);let Q=()=>sN(e,D);e.addEventListener("pagehide",Q),F=()=>e.removeEventListener("pagehide",Q)}return U.initialized||Ft("POP",U.location,{initialHydration:!0}),B}function Te(){b&&b(),F&&F(),_.clear(),O&&O.abort(),U.fetchers.forEach((Q,W)=>$t(W)),U.blockers.forEach((Q,W)=>Je(W))}function it(Q){return _.add(Q),()=>_.delete(Q)}function Ze(Q,W={}){U={...U,...Q};let ee=[],he=[];U.fetchers.forEach((be,Ce)=>{be.state==="idle"&&(pe.has(Ce)?ee.push(Ce):he.push(Ce))}),pe.forEach(be=>{!U.fetchers.has(be)&&!$.has(be)&&ee.push(be)}),[..._].forEach(be=>be(U,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(be=>$t(be)),he.forEach(be=>U.fetchers.delete(be))}function It(Q,W,{flushSync:ee}={}){var Pe,Ue;let he=U.actionData!=null&&U.navigation.formMethod!=null&&jr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,be;W.actionData?Object.keys(W.actionData).length>0?be=W.actionData:be=null:he?be=U.actionData:be=null;let Ce=W.loaderData?dw(U.loaderData,W.loaderData,W.matches||[],W.errors):U.loaderData,ze=U.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((je,Fe)=>ze.set(Fe,vu)));let Re=M===!0||U.navigation.formMethod!=null&&jr(U.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;d&&(u=d,d=void 0),k||V==="POP"||(V==="PUSH"?n.history.push(Q,Q.state):V==="REPLACE"&&n.history.replace(Q,Q.state));let De;if(V==="POP"){let je=D.get(U.location.pathname);je&&je.has(Q.pathname)?De={currentLocation:U.location,nextLocation:Q}:D.has(Q.pathname)&&(De={currentLocation:Q,nextLocation:U.location})}else if(R){let je=D.get(U.location.pathname);je?je.add(Q.pathname):(je=new Set([Q.pathname]),D.set(U.location.pathname,je)),De={currentLocation:U.location,nextLocation:Q}}Ze({...W,actionData:be,loaderData:Ce,historyAction:V,location:Q,initialized:!0,navigation:kg,revalidation:"idle",restoreScrollPosition:On(Q,W.matches||U.matches),preventScrollReset:Re,blockers:ze},{viewTransitionOpts:De,flushSync:ee===!0}),V="POP",M=!1,R=!1,k=!1,oe=!1,Ee==null||Ee.resolve(),Ee=null}async function Ht(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let ee=fy(U.location,U.matches,h,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:he,submission:be,error:Ce}=nw(!1,ee,W),ze=U.location,Re=Uu(U.location,he,W&&W.state);Re={...Re,...n.history.encodeLocation(Re)};let De=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";De===!0?Pe="REPLACE":De===!1||be!=null&&jr(be.formMethod)&&be.formAction===U.location.pathname+U.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,je=(W&&W.flushSync)===!0,Fe=qt({currentLocation:ze,nextLocation:Re,historyAction:Pe});if(Fe){ht(Fe,{state:"blocked",location:Re,proceed(){ht(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Ht(Q,W)},reset(){let at=new Map(U.blockers);at.set(Fe,vu),Ze({blockers:at})}});return}await Ft(Pe,Re,{submission:be,pendingError:Ce,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:je})}function fn(){Ee||(Ee=iN()),is(),Ze({revalidation:"loading"});let Q=Ee.promise;return U.navigation.state==="submitting"?Q:U.navigation.state==="idle"?(Ft(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),Q):(Ft(V||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:R===!0}),Q)}async function Ft(Q,W,ee){O&&O.abort(),O=null,V=Q,k=(ee&&ee.startUninterruptedRevalidation)===!0,qn(U.location,U.matches),M=(ee&&ee.preventScrollReset)===!0,R=(ee&&ee.enableViewTransition)===!0;let he=d||u,be=ee&&ee.overrideNavigation,Ce=ee!=null&&ee.initialHydration&&U.matches&&U.matches.length>0&&!w?U.matches:ia(he,W,h),ze=(ee&&ee.flushSync)===!0;if(Ce&&U.initialized&&!oe&&ZR(U.location,W)&&!(ee&&ee.submission&&jr(ee.submission.formMethod))){It(W,{matches:Ce},{flushSync:ze});return}let Re=Qt(Ce,he,W.pathname);if(Re.active&&Re.matches&&(Ce=Re.matches),!Ce){let{error:wt,notFoundMatches:ft,route:rt}=sn(W.pathname);It(W,{matches:ft,loaderData:{},errors:{[rt.id]:wt}},{flushSync:ze});return}O=new AbortController;let De=Sl(n.history,W,O.signal,ee&&ee.submission),Pe=new ew(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(ee&&ee.pendingError)Ue=[po(Ce).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&jr(ee.submission.formMethod)){let wt=await ur(De,W,ee.submission,Ce,Pe,Re.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ze});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[ft,rt]=wt.pendingActionResult;if(Dr(rt)&&Bu(rt.error)&&rt.error.status===404){O=null,It(W,{matches:wt.matches,loaderData:{},errors:{[ft]:rt.error}});return}}Ce=wt.matches||Ce,Ue=wt.pendingActionResult,be=Lg(W,ee.submission),ze=!1,Re.active=!1,De=Sl(n.history,De.url,De.signal)}let{shortCircuited:je,matches:Fe,loaderData:at,errors:At}=await Jn(De,W,Ce,Pe,Re.active,be,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ze,Ue);je||(O=null,It(W,{matches:Fe||Ce,...hw(Ue),loaderData:at,errors:At}))}async function ur(Q,W,ee,he,be,Ce,ze,Re={}){is();let De=tN(W,ee);if(Ze({navigation:De},{flushSync:Re.flushSync===!0}),Ce){let je=await Ur(he,W.pathname,Q.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let Fe=po(je.partialMatches).route.id;return{matches:je.partialMatches,pendingActionResult:[Fe,{type:"error",error:je.error}]}}else if(je.matches)he=je.matches;else{let{notFoundMatches:Fe,error:at,route:At}=sn(W.pathname);return{matches:Fe,pendingActionResult:[At.id,{type:"error",error:at}]}}}let Pe,Ue=Tu(he,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:ts(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let je=jl(a,o,Q,he,Ue,ze?[]:r,be),Fe=await tr(Q,je,be,null);if(Pe=Fe[Ue.route.id],!Pe){for(let at of he)if(Fe[at.route.id]){Pe=Fe[at.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(go(Pe)){let je;return Re&&Re.replace!=null?je=Re.replace:je=lw(Pe.response.headers.get("Location"),new URL(Q.url),h)===U.location.pathname+U.location.search,await er(Q,Pe,!0,{submission:ee,replace:je}),{shortCircuited:!0}}if(Dr(Pe)){let je=po(he,Ue.route.id);return(Re&&Re.replace)!==!0&&(V="PUSH"),{matches:he,pendingActionResult:[je.route.id,Pe,Ue.route.id]}}return{matches:he,pendingActionResult:[Ue.route.id,Pe]}}async function Jn(Q,W,ee,he,be,Ce,ze,Re,De,Pe,Ue,je){let Fe=Ce||Lg(W,ze),at=ze||Re||pw(Fe),At=!k&&!Pe;if(be){if(At){let an=Xt(je);Ze({navigation:Fe,...an!==void 0?{actionData:an}:{}},{flushSync:Ue})}let Ke=await Ur(ee,W.pathname,Q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let an=po(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[an]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:an,notFoundMatches:Er,route:hr}=sn(W.pathname);return{matches:Er,loaderData:{},errors:{[hr.id]:an}}}}let wt=d||u,{dsMatches:ft,revalidatingFetchers:rt}=rw(Q,he,a,o,n.history,U,ee,at,W,Pe?[]:r,Pe===!0,oe,ve,pe,ie,H,wt,h,je);if(ae=++le,!n.dataStrategy&&!ft.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=zr();return It(W,{matches:ee,loaderData:{},errors:je&&Dr(je[1])?{[je[0]]:je[1].error}:null,...hw(je),...Ke?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(At){let Ke={};if(!be){Ke.navigation=Fe;let an=Xt(je);an!==void 0&&(Ke.actionData=an)}rt.length>0&&(Ke.fetchers=xs(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{dr(Ke.key),Ke.controller&&$.set(Ke.key,Ke.controller)});let Br=()=>rt.forEach(Ke=>dr(Ke.key));O&&O.signal.addEventListener("abort",Br);let{loaderResults:mn,fetcherResults:rr}=await Es(ft,rt,Q,he);if(Q.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Br),rt.forEach(Ke=>$.delete(Ke.key));let Mn=zh(mn);if(Mn)return await er(Q,Mn.result,!0,{replace:De}),{shortCircuited:!0};if(Mn=zh(rr),Mn)return H.add(Mn.key),await er(Q,Mn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Ss,errors:wr}=uw(U,ee,mn,je,rt,rr);Pe&&U.errors&&(wr={...U.errors,...wr});let Mi=zr(),Hn=Me(ae),sr=Mi||Hn||rt.length>0;return{matches:ee,loaderData:Ss,errors:wr,...sr?{fetchers:new Map(U.fetchers)}:{}}}function Xt(Q){if(Q&&!Dr(Q[1]))return{[Q[0]]:Q[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function xs(Q){return Q.forEach(W=>{let ee=U.fetchers.get(W.key),he=bu(void 0,ee?ee.data:void 0);U.fetchers.set(W.key,he)}),new Map(U.fetchers)}async function _s(Q,W,ee,he){dr(Q);let be=(he&&he.flushSync)===!0,Ce=d||u,ze=fy(U.location,U.matches,h,ee,W,he==null?void 0:he.relative),Re=ia(Ce,ze,h),De=Qt(Re,Ce,ze);if(De.active&&De.matches&&(Re=De.matches),!Re){We(Q,W,ts(404,{pathname:ze}),{flushSync:be});return}let{path:Pe,submission:Ue,error:je}=nw(!0,ze,he);if(je){We(Q,W,je,{flushSync:be});return}let Fe=Tu(Re,Pe),at=new ew(n.unstable_getContext?await n.unstable_getContext():void 0),At=(he&&he.preventScrollReset)===!0;if(Ue&&jr(Ue.formMethod)){await ws(Q,W,Pe,Fe,Re,at,De.active,be,At,Ue);return}ie.set(Q,{routeId:W,path:Pe}),await ss(Q,W,Pe,Fe,Re,at,De.active,be,At,Ue)}async function ws(Q,W,ee,he,be,Ce,ze,Re,De,Pe){is(),ie.delete(Q);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Fr=ts(405,{method:Pe.formMethod,pathname:ee,routeId:W});return We(Q,W,Fr,{flushSync:Re}),!0}return!1}if(!ze&&Ue(he))return;let je=U.fetchers.get(Q);gt(Q,nN(Pe,je),{flushSync:Re});let Fe=new AbortController,at=Sl(n.history,ee,Fe.signal,Pe);if(ze){let Lt=await Ur(be,ee,at.signal,Q);if(Lt.type==="aborted")return;if(Lt.type==="error"){We(Q,W,Lt.error,{flushSync:Re});return}else if(Lt.matches){if(be=Lt.matches,he=Tu(be,ee),Ue(he))return}else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Re});return}}$.set(Q,Fe);let At=le,wt=jl(a,o,at,be,he,r,Ce),rt=(await tr(at,wt,Ce,Q))[he.route.id];if(at.signal.aborted){$.get(Q)===Fe&&$.delete(Q);return}if(pe.has(Q)){if(go(rt)||Dr(rt)){gt(Q,ra(void 0));return}}else{if(go(rt))if($.delete(Q),ae>At){gt(Q,ra(void 0));return}else return H.add(Q),gt(Q,bu(Pe)),er(at,rt,!1,{fetcherSubmission:Pe,preventScrollReset:De});if(Dr(rt)){We(Q,W,rt.error);return}}let Br=U.navigation.location||U.location,mn=Sl(n.history,Br,Fe.signal),rr=d||u,Mn=U.navigation.state!=="idle"?ia(rr,U.navigation.location,h):U.matches;ct(Mn,"Didn't find any matches after fetcher action");let Ss=++le;xe.set(Q,Ss);let wr=bu(Pe,rt.data);U.fetchers.set(Q,wr);let{dsMatches:Mi,revalidatingFetchers:Hn}=rw(mn,Ce,a,o,n.history,U,Mn,Pe,Br,r,!1,oe,ve,pe,ie,H,rr,h,[he.route.id,rt]);Hn.filter(Lt=>Lt.key!==Q).forEach(Lt=>{let Fr=Lt.key,Js=U.fetchers.get(Fr),Dn=bu(void 0,Js?Js.data:void 0);U.fetchers.set(Fr,Dn),dr(Fr),Lt.controller&&$.set(Fr,Lt.controller)}),Ze({fetchers:new Map(U.fetchers)});let sr=()=>Hn.forEach(Lt=>dr(Lt.key));Fe.signal.addEventListener("abort",sr);let{loaderResults:Ke,fetcherResults:an}=await Es(Mi,Hn,mn,Ce);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",sr),xe.delete(Q),$.delete(Q),Hn.forEach(Lt=>$.delete(Lt.key));let Er=zh(Ke);if(Er)return er(mn,Er.result,!1,{preventScrollReset:De});if(Er=zh(an),Er)return H.add(Er.key),er(mn,Er.result,!1,{preventScrollReset:De});let{loaderData:hr,errors:As}=uw(U,Mn,Ke,void 0,Hn,an);if(U.fetchers.has(Q)){let Lt=ra(rt.data);U.fetchers.set(Q,Lt)}Me(Ss),U.navigation.state==="loading"&&Ss>ae?(ct(V,"Expected pending action"),O&&O.abort(),It(U.navigation.location,{matches:Mn,loaderData:hr,errors:As,fetchers:new Map(U.fetchers)})):(Ze({errors:As,loaderData:dw(U.loaderData,hr,Mn,As),fetchers:new Map(U.fetchers)}),oe=!1)}async function ss(Q,W,ee,he,be,Ce,ze,Re,De,Pe){let Ue=U.fetchers.get(Q);gt(Q,bu(Pe,Ue?Ue.data:void 0),{flushSync:Re});let je=new AbortController,Fe=Sl(n.history,ee,je.signal);if(ze){let rt=await Ur(be,ee,Fe.signal,Q);if(rt.type==="aborted")return;if(rt.type==="error"){We(Q,W,rt.error,{flushSync:Re});return}else if(rt.matches)be=rt.matches,he=Tu(be,ee);else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Re});return}}$.set(Q,je);let at=le,At=jl(a,o,Fe,be,he,r,Ce),ft=(await tr(Fe,At,Ce,Q))[he.route.id];if($.get(Q)===je&&$.delete(Q),!Fe.signal.aborted){if(pe.has(Q)){gt(Q,ra(void 0));return}if(go(ft))if(ae>at){gt(Q,ra(void 0));return}else{H.add(Q),await er(Fe,ft,!1,{preventScrollReset:De});return}if(Dr(ft)){We(Q,W,ft.error);return}gt(Q,ra(ft.data))}}async function er(Q,W,ee,{submission:he,fetcherSubmission:be,preventScrollReset:Ce,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let Re=W.response.headers.get("Location");ct(Re,"Expected a Location header on the redirect Response"),Re=lw(Re,new URL(Q.url),h);let De=Uu(U.location,Re,{_isRedirect:!0});if(t){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(m0.test(Re)){const wt=n.history.createURL(Re);At=wt.origin!==e.location.origin||rs(wt.pathname,h)==null}if(At){ze?e.location.replace(Re):e.location.assign(Re);return}}O=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:je,formEncType:Fe}=U.navigation;!he&&!be&&Ue&&je&&Fe&&(he=pw(U.navigation));let at=he||be;if(VR.has(W.response.status)&&at&&jr(at.formMethod))await Ft(Pe,De,{submission:{...at,formAction:Re},preventScrollReset:Ce||M,enableViewTransition:ee?R:void 0});else{let At=Lg(De,he);await Ft(Pe,De,{overrideNavigation:At,fetcherSubmission:be,preventScrollReset:Ce||M,enableViewTransition:ee?R:void 0})}}async function tr(Q,W,ee,he){let be,Ce={};try{be=await QR(p,Q,W,he,ee,!1)}catch(ze){return W.filter(Re=>Re.shouldLoad).forEach(Re=>{Ce[Re.route.id]={type:"error",error:ze}}),Ce}for(let[ze,Re]of Object.entries(be))if(JR(Re)){let De=Re.result;Ce[ze]={type:"redirect",response:XR(De,Q,ze,W,h)}}else Ce[ze]=await YR(Re);return Ce}async function Es(Q,W,ee,he){let be=tr(ee,Q,he,null),Ce=Promise.all(W.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Ue=(await tr(De.request,De.matches,he,De.key))[De.match.route.id];return{[De.key]:Ue}}else return Promise.resolve({[De.key]:{type:"error",error:ts(404,{pathname:De.path})}})})),ze=await be,Re=(await Ce).reduce((De,Pe)=>Object.assign(De,Pe),{});return{loaderResults:ze,fetcherResults:Re}}function is(){oe=!0,ie.forEach((Q,W)=>{$.has(W)&&ve.add(W),dr(W)})}function gt(Q,W,ee={}){U.fetchers.set(Q,W),Ze({fetchers:new Map(U.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We(Q,W,ee,he={}){let be=po(U.matches,W);$t(Q),Ze({errors:{[be.route.id]:ee},fetchers:new Map(U.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function wn(Q){return ye.set(Q,(ye.get(Q)||0)+1),pe.has(Q)&&pe.delete(Q),U.fetchers.get(Q)||zR}function $t(Q){let W=U.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&xe.has(Q))&&dr(Q),ie.delete(Q),xe.delete(Q),H.delete(Q),pe.delete(Q),ve.delete(Q),U.fetchers.delete(Q)}function Zs(Q){let W=(ye.get(Q)||0)-1;W<=0?(ye.delete(Q),pe.add(Q)):ye.set(Q,W),Ze({fetchers:new Map(U.fetchers)})}function dr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function Vr(Q){for(let W of Q){let ee=wn(W),he=ra(ee.data);U.fetchers.set(W,he)}}function zr(){let Q=[],W=!1;for(let ee of H){let he=U.fetchers.get(ee);ct(he,`Expected fetcher: ${ee}`),he.state==="loading"&&(H.delete(ee),Q.push(ee),W=!0)}return Vr(Q),W}function Me(Q){let W=[];for(let[ee,he]of xe)if(he<Q){let be=U.fetchers.get(ee);ct(be,`Expected fetcher: ${ee}`),be.state==="loading"&&(dr(ee),xe.delete(ee),W.push(ee))}return Vr(W),W.length>0}function Oe(Q,W){let ee=U.blockers.get(Q)||vu;return Se.get(Q)!==W&&Se.set(Q,W),ee}function Je(Q){U.blockers.delete(Q),Se.delete(Q)}function ht(Q,W){let ee=U.blockers.get(Q)||vu;ct(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let he=new Map(U.blockers);he.set(Q,W),Ze({blockers:he})}function qt({currentLocation:Q,nextLocation:W,historyAction:ee}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let he=Array.from(Se.entries()),[be,Ce]=he[he.length-1],ze=U.blockers.get(be);if(!(ze&&ze.state==="proceeding")&&Ce({currentLocation:Q,nextLocation:W,historyAction:ee}))return be}function sn(Q){let W=ts(404,{pathname:Q}),ee=d||u,{matches:he,route:be}=fw(ee);return{notFoundMatches:he,route:be,error:W}}function nr(Q,W,ee){if(T=Q,P=W,C=ee||null,!I&&U.navigation===kg){I=!0;let he=On(U.location,U.matches);he!=null&&Ze({restoreScrollPosition:he})}return()=>{T=null,P=null,C=null}}function In(Q,W){return C&&C(Q,W.map(he=>gR(he,U.loaderData)))||Q.key}function qn(Q,W){if(T&&P){let ee=In(Q,W);T[ee]=P()}}function On(Q,W){if(T){let ee=In(Q,W),he=T[ee];if(typeof he=="number")return he}return null}function Qt(Q,W,ee){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:tf(W,ee,h,!0)}}else return{active:!0,matches:tf(W,ee,h,!0)||[]};return{active:!1,matches:null}}async function Ur(Q,W,ee,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let be=Q;for(;;){let Ce=d==null,ze=d||u,Re=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:be,fetcherKey:he,patch:(Ue,je)=>{ee.aborted||sw(Ue,je,ze,Re,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:be}}finally{Ce&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let De=ia(ze,W,h);if(De)return{type:"success",matches:De};let Pe=tf(ze,W,h,!0);if(!Pe||be.length===Pe.length&&be.every((Ue,je)=>Ue.route.id===Pe[je].route.id))return{type:"success",matches:null};be=Pe}}function _r(Q){o={},d=vf(Q,a,void 0,o)}function Ts(Q,W){let ee=d==null;sw(Q,W,d||u,o,a),ee&&(u=[...u],Ze({}))}return B={get basename(){return h},get future(){return y},get state(){return U},get routes(){return u},get window(){return e},initialize:ge,subscribe:it,enableScrollRestoration:nr,navigate:Ht,fetch:_s,revalidate:fn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:wn,deleteFetcher:Zs,dispose:Te,getBlocker:Oe,deleteBlocker:Je,patchRoutes:Ts,_internalFetchControllers:$,_internalSetRoutes:_r},B}function FR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function fy(n,e,t,r,a,o){let u,d;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){d=p;break}}else u=e,d=e[e.length-1];let h=f0(r||".",h0(u),rs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&d){let p=p0(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let y=new URLSearchParams(h.search),b=y.getAll("index");y.delete("index"),b.filter(T=>T).forEach(T=>y.append("index",T));let _=y.toString();h.search=_?`?${_}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:qs([t,h.pathname])),Ra(h)}function nw(n,e,t){if(!t||!FR(t))return{path:e};if(t.formMethod&&!eN(t.formMethod))return{path:e,error:ts(405,{method:t.formMethod})};let r=()=>({path:e,error:ts(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=W1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!jr(o))return r();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[T,C])=>`${_}${T}=${C}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!jr(o))return r();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let d,h;if(t.formData)d=gy(t.formData),h=t.formData;else if(t.body instanceof FormData)d=gy(t.body),h=t.body;else if(t.body instanceof URLSearchParams)d=t.body,h=cw(d);else if(t.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(t.body),h=cw(d)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(jr(p.formMethod))return{path:e,submission:p};let y=Pa(e);return n&&y.search&&p0(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Ra(y),submission:p}}function rw(n,e,t,r,a,o,u,d,h,p,y,b,_,T,C,P,I,N,w){var F;let E=w?Dr(w[1])?w[1].error:w[1].data:void 0,L=a.createURL(o.location),B=a.createURL(h),U;if(y&&o.errors){let k=Object.keys(o.errors)[0];U=u.findIndex(oe=>oe.route.id===k)}else if(w&&Dr(w[1])){let k=w[0];U=u.findIndex(oe=>oe.route.id===k)-1}let V=w?w[1].statusCode:void 0,M=V&&V>=400,O={currentUrl:L,currentParams:((F=o.matches[0])==null?void 0:F.params)||{},nextUrl:B,nextParams:u[0].params,...d,actionResult:E,actionStatus:V},R=u.map((k,oe)=>{let{route:ve}=k,$=null;if(U!=null&&oe>U?$=!1:ve.lazy?$=!0:ve.loader==null?$=!1:y?$=my(ve,o.loaderData,o.errors):qR(o.loaderData,o.matches[oe],k)&&($=!0),$!==null)return py(t,r,n,k,p,e,$);let le=M?!1:b||L.pathname+L.search===B.pathname+B.search||L.search!==B.search||HR(o.matches[oe],k),ae={...O,defaultShouldRevalidate:le},xe=_f(k,ae);return py(t,r,n,k,p,e,xe,ae)}),D=[];return C.forEach((k,oe)=>{if(y||!u.some(ie=>ie.route.id===k.routeId)||T.has(oe))return;let ve=ia(I,k.path,N);if(!ve){D.push({key:oe,routeId:k.routeId,path:k.path,matches:null,match:null,request:null,controller:null});return}if(P.has(oe))return;let $=o.fetchers.get(oe),le=Tu(ve,k.path),ae=new AbortController,xe=Sl(a,k.path,ae.signal),H=null;if(_.has(oe))_.delete(oe),H=jl(t,r,xe,ve,le,p,e);else if($&&$.state!=="idle"&&$.data===void 0)b&&(H=jl(t,r,xe,ve,le,p,e));else{let ie={...O,defaultShouldRevalidate:M?!1:b};_f(le,ie)&&(H=jl(t,r,xe,ve,le,p,e,ie))}H&&D.push({key:oe,routeId:k.routeId,path:k.path,matches:H,match:le,request:xe,controller:ae})}),{dsMatches:R,revalidatingFetchers:D}}function my(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function qR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function HR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function _f(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function sw(n,e,t,r,a){let o;if(n){let h=r[n];ct(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let u=e.filter(h=>!o.some(p=>$1(h,p))),d=vf(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function $1(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>$1(t,o))}):!1}var iw=new WeakMap,Q1=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ct(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=iw.get(a);u||(u={},iw.set(a,u));let d=u[n];if(d)return d;let h=(async()=>{let p=hR(n),b=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)rn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(b)rn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(a,{[n]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return u[n]=h,h},aw=new WeakMap;function GR(n,e,t,r,a){let o=t[n.id];if(ct(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=aw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),T={};for(let C in _){let P=_[C];if(P===void 0)continue;let I=mR(C),w=o[C]!==void 0&&C!=="hasErrorBoundary";I?rn(!I,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):w?rn(!w,`Route "${o.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):T[C]=P}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return aw.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(n.lazy),d=[],h;for(let y of u){if(a&&a.includes(y))continue;let b=Q1({key:y,route:n,manifest:t,mapRouteProperties:r});b&&(d.push(b),y===e&&(h=b))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function ow(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function $R(n){return n.matches.some(e=>e.route.unstable_middleware)?K1(n,!1,()=>ow(n),(e,t)=>({[t]:{type:"error",result:e}})):ow(n)}async function K1(n,e,t,r){let{matches:a,request:o,params:u,context:d}=n,h={handlerResult:void 0};try{let p=a.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(_=>[b.route.id,_]):[]),y=await Y1({request:o,params:u,context:d},p,e,h,t);return e?y:h.handlerResult}catch(p){if(!h.middlewareError)throw p;let y=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,y):y}}async function Y1(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[h,p]=d,y=!1,b,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await Y1(n,e,t,r,a,o+1)};try{let T=await p({request:n.request,params:n.params,context:n.context},_);return y?T===void 0?b:T:_()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:h,error:T}):r.middlewareError={routeId:h,error:T},T}}function X1(n,e,t,r,a){let o=Q1({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=GR(r.route,jr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function py(n,e,t,r,a,o,u,d=null){let h=!1,p=X1(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return h=!0,d?typeof y=="boolean"?_f(r,{...d,defaultShouldRevalidate:y}):_f(r,d):u},resolve(y){return h||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?KR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function jl(n,e,t,r,a,o,u,d=null){return r.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:X1(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:py(n,e,t,h,o,u,!0,d))}async function QR(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},h=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return K1(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,_)=>({[_]:{type:"error",result:b}}))}});try{await Promise.all(t.flatMap(p=>{var y,b;return[(y=p._lazyPromises)==null?void 0:y.handler,(b=p._lazyPromises)==null?void 0:b.route]}))}catch{}return h}async function KR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,d,h=jr(n.method),p=h?"action":"loader",y=b=>{let _,T=new Promise((I,N)=>_=N);d=()=>_(),n.signal.addEventListener("abort",d);let C=I=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):b({request:n,params:e.params,context:o},...I!==void 0?[I]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(N=>C(N)):C())}}catch(I){return{type:"error",result:I}}})();return Promise.race([P,T])};try{let b=h?e.route.action:e.route.loader;if(t||r)if(b){let _,[T]=await Promise.all([y(b).catch(C=>{_=C}),t,r]);if(_!==void 0)throw _;u=T}else{await t;let _=h?e.route.action:e.route.loader;if(_)[u]=await Promise.all([y(_),r]);else if(p==="action"){let T=new URL(n.url),C=T.pathname+T.search;throw ts(405,{method:n.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let _=new URL(n.url),T=_.pathname+_.search;throw ts(404,{pathname:T})}}catch(b){return{type:"error",result:b}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function YR(n){var r,a,o,u,d,h;let{result:e,type:t}=n;if(Z1(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new xf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?mw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new xf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Bu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Bu(e)?e.status:void 0}:mw(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function XR(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!m0.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=fy(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function lw(n,e,t){if(m0.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rs(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Sl(n,e,t,r){let a=n.createURL(W1(e)).toString(),o={signal:t};if(r&&jr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=gy(r.formData):o.body=r.formData}return new Request(a,o)}function gy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function cw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function WR(n,e,t,r=!1,a=!1){let o={},u=null,d,h=!1,p={},y=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,T=e[_];if(ct(!go(T),"Cannot handle redirect results in processLoaderData"),Dr(T)){let C=T.error;if(y!==void 0&&(C=y,y=void 0),u=u||{},a)u[_]=C;else{let P=po(n,_);u[P.route.id]==null&&(u[P.route.id]=C)}r||(o[_]=G1),h||(h=!0,d=Bu(T.error)?T.error.status:500),T.headers&&(p[_]=T.headers)}else o[_]=T.data,T.statusCode&&T.statusCode!==200&&!h&&(d=T.statusCode),T.headers&&(p[_]=T.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:p}}function uw(n,e,t,r,a,o){let{loaderData:u,errors:d}=WR(e,t,r);return a.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:y,controller:b}=h,_=o[p];if(ct(_,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Dr(_)){let T=po(n.matches,y==null?void 0:y.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:_.error}),n.fetchers.delete(p)}else if(go(_))ct(!1,"Unhandled fetcher revalidation redirect");else{let T=ra(_.data);n.fetchers.set(p,T)}}),{loaderData:u,errors:d}}function dw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==G1).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function hw(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function po(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function fw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new xf(n||500,u,new Error(d),!0)}function zh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(go(a))return{key:r,result:a}}}function W1(n){let e=typeof n=="string"?Pa(n):n;return Ra({...e,hash:""})}function ZR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function JR(n){return Z1(n.result)&&LR.has(n.result.status)}function Dr(n){return n.type==="error"}function go(n){return(n&&n.type)==="redirect"}function mw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Z1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function eN(n){return kR.has(n.toUpperCase())}function jr(n){return jR.has(n.toUpperCase())}function p0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tu(n,e){let t=typeof e=="string"?Pa(e).search:e.search;if(n[n.length-1].route.index&&p0(t||""))return n[n.length-1];let r=F1(n);return r[r.length-1]}function pw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Lg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ra(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function rN(n,e){try{let t=n.sessionStorage.getItem(H1);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function sN(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(H1,JSON.stringify(t))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function iN(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ko=q.createContext(null);ko.displayName="DataRouter";var ad=q.createContext(null);ad.displayName="DataRouterState";var g0=q.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var J1=q.createContext(new Map);J1.displayName="Fetchers";var aN=q.createContext(null);aN.displayName="Await";var Xs=q.createContext(null);Xs.displayName="Navigation";var Zf=q.createContext(null);Zf.displayName="Location";var bs=q.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var y0=q.createContext(null);y0.displayName="RouteError";function oN(n,{relative:e}={}){ct(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xs),{hash:a,pathname:o,search:u}=ld(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:qs([t,o])),r.createHref({pathname:d,search:u,hash:a})}function od(){return q.useContext(Zf)!=null}function Ws(){return ct(od(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Zf).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(n){q.useContext(Xs).static||q.useLayoutEffect(n)}function Jf(){let{isDataRoute:n}=q.useContext(bs);return n?wN():lN()}function lN(){ct(od(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ko),{basename:e,navigator:t}=q.useContext(Xs),{matches:r}=q.useContext(bs),{pathname:a}=Ws(),o=JSON.stringify(h0(r)),u=q.useRef(!1);return tT(()=>{u.current=!0}),q.useCallback((h,p={})=>{if(rn(u.current,eT),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=f0(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var cN=q.createContext(null);function uN(n){let e=q.useContext(bs).outlet;return e&&q.createElement(cN.Provider,{value:n},e)}function v0(){let{matches:n}=q.useContext(bs),e=n[n.length-1];return e?e.params:{}}function ld(n,{relative:e}={}){let{matches:t}=q.useContext(bs),{pathname:r}=Ws(),a=JSON.stringify(h0(t));return q.useMemo(()=>f0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function dN(n,e,t,r){ct(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Xs),{matches:u}=q.useContext(bs),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let w=b&&b.path||"";nT(p,!b||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let _=Ws(),T;T=_;let C=T.pathname||"/",P=C;if(y!=="/"){let w=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(w.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:ia(n,{pathname:P});return rn(b||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),rn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gN(I&&I.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:qs([y,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?y:qs([y,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),u,t,r)}function hN(){let n=_N(),e=Bu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,u)}var fN=q.createElement(hN,null),mN=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(bs.Provider,{value:this.props.routeContext},q.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pN({routeContext:n,match:e,children:t}){let r=q.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bs.Provider,{value:n},t)}function gN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:b}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,y)=>{let b,_=!1,T=null,C=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||fN,u&&(d<0&&y===0?(nT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):d===y&&(_=!0,C=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),I=()=>{let N;return b?N=T:_?N=C:p.route.Component?N=q.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,q.createElement(pN,{match:p,routeContext:{outlet:h,matches:P,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(mN,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:I(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):I()},null)}function b0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(n){let e=q.useContext(ko);return ct(e,b0(n)),e}function vN(n){let e=q.useContext(ad);return ct(e,b0(n)),e}function bN(n){let e=q.useContext(bs);return ct(e,b0(n)),e}function x0(n){let e=bN(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xN(){return x0("useRouteId")}function _N(){var r;let n=q.useContext(y0),e=vN("useRouteError"),t=x0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function wN(){let{router:n}=yN("useNavigate"),e=x0("useNavigate"),t=q.useRef(!1);return tT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{rn(t.current,eT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var gw={};function nT(n,e,t){!e&&!gw[n]&&(gw[n]=!0,rn(!1,t))}var yw={};function vw(n,e){!n&&!yw[e]&&(yw[e]=!0,console.warn(e))}function EN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var TN=["HydrateFallback","hydrateFallbackElement"],SN=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function AN({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[u,d]=q.useState({isTransitioning:!1}),[h,p]=q.useState(),[y,b]=q.useState(),[_,T]=q.useState(),C=q.useRef(new Map),P=q.useCallback((E,{deletedFetchers:L,flushSync:B,viewTransitionOpts:U})=>{E.fetchers.forEach((M,O)=>{M.data!==void 0&&C.current.set(O,M.data)}),L.forEach(M=>C.current.delete(M)),vw(B===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(vw(U==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!V){e&&B?e(()=>r(E)):q.startTransition(()=>r(E));return}if(e&&B){e(()=>{y&&(h&&h.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let M=n.window.document.startViewTransition(()=>{e(()=>r(E))});M.finished.finally(()=>{e(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>b(M));return}y?(h&&h.resolve(),y.skipTransition(),T({state:E,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(E),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,y,h]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new SN)},[u]),q.useEffect(()=>{if(h&&a&&n.window){let E=a,L=h.promise,B=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(E)),await L});B.finished.finally(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})}),b(B)}},[a,h,n.window]),q.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,y,t.location,a]),q.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),T(void 0))},[u.isTransitioning,_]);let I=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,L,B)=>n.navigate(E,{state:L,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(E,L,B)=>n.navigate(E,{replace:!0,state:L,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[n]),N=n.basename||"/",w=q.useMemo(()=>({router:n,navigator:I,static:!1,basename:N}),[n,I,N]);return q.createElement(q.Fragment,null,q.createElement(ko.Provider,{value:w},q.createElement(ad.Provider,{value:t},q.createElement(J1.Provider,{value:C.current},q.createElement(g0.Provider,{value:u},q.createElement(IN,{basename:N,location:t.location,navigationType:t.historyAction,navigator:I},q.createElement(CN,{routes:n.routes,future:n.future,state:t})))))),null)}var CN=q.memo(RN);function RN({routes:n,future:e,state:t}){return dN(n,void 0,t,e)}function NN(n){return uN(n.context)}function IN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Pa(t));let{pathname:h="/",search:p="",hash:y="",state:b=null,key:_="default"}=t,T=q.useMemo(()=>{let C=rs(h,u);return C==null?null:{location:{pathname:C,search:p,hash:y,state:b,key:_},navigationType:r}},[u,h,p,y,b,_,r]);return rn(T!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:q.createElement(Xs.Provider,{value:d},q.createElement(Zf.Provider,{children:e,value:T}))}var nf="get",rf="application/x-www-form-urlencoded";function em(n){return n!=null&&typeof n.tagName=="string"}function ON(n){return em(n)&&n.tagName.toLowerCase()==="button"}function MN(n){return em(n)&&n.tagName.toLowerCase()==="form"}function DN(n){return em(n)&&n.tagName.toLowerCase()==="input"}function jN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PN(n,e){return n.button===0&&(!e||e==="_self")&&!jN(n)}function yy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function kN(n,e){let t=yy(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Uh=null;function LN(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var VN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(n){return n!=null&&!VN.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):n}function zN(n,e){let t,r,a,o,u;if(MN(n)){let d=n.getAttribute("action");r=d?rs(d,e):null,t=n.getAttribute("method")||nf,a=Vg(n.getAttribute("enctype"))||rf,o=new FormData(n)}else if(ON(n)||DN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?rs(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||nf,a=Vg(n.getAttribute("formenctype"))||Vg(d.getAttribute("enctype"))||rf,o=new FormData(d,n),!LN()){let{name:p,type:y,value:b}=n;if(y==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,b)}}else{if(em(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nf,r=null,a=rf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function _0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function UN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FN(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await UN(o,t);return u.links?u.links():[]}return[]}));return $N(r.flat(1).filter(BN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bw(n,e,t,r,a,o){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var b;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function qN(n,e,{includeHydrateFallback:t}={}){return HN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function HN(n){return[...new Set(n)]}function GN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $N(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(GN(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var QN=new Set([100,101,204,205]);function KN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function rT(){let n=q.useContext(ko);return _0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YN(){let n=q.useContext(ad);return _0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var w0=q.createContext(void 0);w0.displayName="FrameworkContext";function sT(){let n=q.useContext(w0);return _0(n,"You must render this element inside a <HydratedRouter> element"),n}function XN(n,e){let t=q.useContext(w0),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,_=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=N=>{N.forEach(w=>{u(w.isIntersecting)})},I=new IntersectionObserver(P,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:xu(d,T),onBlur:xu(h,C),onMouseEnter:xu(p,T),onMouseLeave:xu(y,C),onTouchStart:xu(b,T)}]:[!1,_,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WN({page:n,...e}){let{router:t}=rT(),r=q.useMemo(()=>ia(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(JN,{page:n,matches:r,...e}):null}function ZN(n){let{manifest:e,routeModules:t}=sT(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return FN(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function JN({page:n,matches:e,...t}){let r=Ws(),{manifest:a,routeModules:o}=sT(),{basename:u}=rT(),{loaderData:d,matches:h}=YN(),p=q.useMemo(()=>bw(n,e,h,a,r,"data"),[n,e,h,a,r]),y=q.useMemo(()=>bw(n,e,h,a,r,"assets"),[n,e,h,a,r]),b=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,P=!1;if(e.forEach(N=>{var E;let w=a.routes[N.route.id];!w||!w.hasLoader||(!p.some(L=>L.route.id===N.route.id)&&N.route.id in d&&((E=o[N.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?P=!0:C.add(N.route.id))}),C.size===0)return[];let I=KN(n,u);return P&&C.size>0&&I.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[u,d,r,a,p,e,n,o]),_=q.useMemo(()=>qN(y,a),[y,a]),T=ZN(y);return q.createElement(q.Fragment,null,b.map(C=>q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>q.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:P})=>q.createElement("link",{key:C,...P})))}function eI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iT&&(window.__reactRouterVersion="7.5.3")}catch{}function tI(n,e){return BR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:lR({window:e==null?void 0:e.window}),hydrationData:nI(),routes:n,mapRouteProperties:EN,hydrationRouteProperties:TN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function nI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:rI(n.errors)}),n}function rI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new xf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:h,to:p,preventScrollReset:y,viewTransition:b,..._},T){let{basename:C}=q.useContext(Xs),P=typeof p=="string"&&aT.test(p),I,N=!1;if(typeof p=="string"&&P&&(I=p,iT))try{let O=new URL(window.location.href),R=p.startsWith("//")?new URL(O.protocol+p):new URL(p),D=rs(R.pathname,C);R.origin===O.origin&&D!=null?p=D+R.search+R.hash:N=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=oN(p,{relative:a}),[E,L,B]=XN(r,_),U=oI(p,{replace:u,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:b});function V(O){e&&e(O),O.defaultPrevented||U(O)}let M=q.createElement("a",{..._,...B,href:I||w,onClick:N||o?e:V,ref:eI(T,L),target:h,"data-discover":!P&&t==="render"?"true":void 0});return E&&!P?q.createElement(q.Fragment,null,M,q.createElement(WN,{page:w})):M});St.displayName="Link";var sI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:h,...p},y){let b=ld(u,{relative:p.relative}),_=Ws(),T=q.useContext(ad),{navigator:C,basename:P}=q.useContext(Xs),I=T!=null&&fI(b)&&d===!0,N=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,w=_.pathname,E=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(w=w.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&P&&(E=rs(E,P)||E);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let B=w===N||!a&&w.startsWith(N)&&w.charAt(L)==="/",U=E!=null&&(E===N||!a&&E.startsWith(N)&&E.charAt(N.length)==="/"),V={isActive:B,isPending:U,isTransitioning:I},M=B?e:void 0,O;typeof r=="function"?O=r(V):O=[r,B?"active":null,U?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(V):o;return q.createElement(St,{...p,"aria-current":M,className:O,ref:y,style:R,to:u,viewTransition:d},typeof h=="function"?h(V):h)});sI.displayName="NavLink";var iI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=nf,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:b,..._},T)=>{let C=dI(),P=hI(d,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&aT.test(d),w=E=>{if(h&&h(E),E.defaultPrevented)return;E.preventDefault();let L=E.nativeEvent.submitter,B=(L==null?void 0:L.getAttribute("formmethod"))||u;C(L||E.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:b})};return q.createElement("form",{ref:T,method:I,action:P,onSubmit:r?h:w,..._,"data-discover":!N&&n==="render"?"true":void 0})});iI.displayName="Form";function aI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(n){let e=q.useContext(ko);return ct(e,aI(n)),e}function oI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=Jf(),h=Ws(),p=ld(n,{relative:o});return q.useCallback(y=>{if(PN(y,e)){y.preventDefault();let b=t!==void 0?t:Ra(h)===Ra(p);d(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[h,d,p,t,r,e,n,a,o,u])}function lI(n){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(yy(n)),t=q.useRef(!1),r=Ws(),a=q.useMemo(()=>kN(r.search,t.current?null:e.current),[r.search]),o=Jf(),u=q.useCallback((d,h)=>{const p=yy(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,h)},[o,a]);return[a,u]}var cI=0,uI=()=>`__${String(++cI)}__`;function dI(){let{router:n}=oT("useSubmit"),{basename:e}=q.useContext(Xs),t=xN();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:h,body:p}=zN(r,e);if(a.navigate===!1){let y=a.fetcherKey||uI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function hI(n,{relative:e}={}){let{basename:t}=q.useContext(Xs),r=q.useContext(bs);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ld(n||".",{relative:e})},u=Ws();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qs([t,o.pathname])),Ra(o)}function fI(n,e={}){let t=q.useContext(g0);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oT("useViewTransitionState"),a=ld(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bf(a.pathname,u)!=null||bf(a.pathname,o)!=null}new TextEncoder;[...QN];var mI=V1();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pI(n){return q.createElement(AN,{flushSync:mI.flushSync,...n})}var Bh={},xw;function gI(){if(xw)return Bh;xw=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(Bh,"__esModule",{value:!0});var e=Wf();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:d="",autoFill:h=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:b=!1,direction:_="left",speed:T=50,delay:C=0,loop:P=0,gradient:I=!1,gradientColor:N="white",gradientWidth:w=200,onFinish:E,onCycleComplete:L,onMount:B,children:U},V){const[M,O]=e.useState(0),[R,D]=e.useState(0),[F,k]=e.useState(1),[oe,ve]=e.useState(!1),$=e.useRef(null),le=V||$,ae=e.useRef(null),xe=e.useCallback(()=>{if(ae.current&&le.current){const Ee=le.current.getBoundingClientRect(),ge=ae.current.getBoundingClientRect();let Te=Ee.width,it=ge.width;(_==="up"||_==="down")&&(Te=Ee.height,it=ge.height),k(h&&Te&&it&&it<Te?Math.ceil(Te/it):1),O(Te),D(it)}},[h,le,_]);e.useEffect(()=>{if(oe&&(xe(),ae.current&&le.current)){const Ee=new ResizeObserver(()=>xe());return Ee.observe(le.current),Ee.observe(ae.current),()=>{Ee&&Ee.disconnect()}}},[xe,le,oe]),e.useEffect(()=>{xe()},[xe,U]),e.useEffect(()=>{ve(!0)},[]),e.useEffect(()=>{typeof B=="function"&&B()},[]);const H=e.useMemo(()=>h?R*F/T:R<M?M/T:R/T,[h,M,R,F,T]),ie=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!b||b?"paused":"running","--width":_==="up"||_==="down"?"100vh":"100%","--transform":_==="up"?"rotate(-90deg)":_==="down"?"rotate(90deg)":"none"}),[u,p,y,b,_]),ye=e.useMemo(()=>({"--gradient-color":N,"--gradient-width":typeof w=="number"?`${w}px`:w}),[N,w]),pe=e.useMemo(()=>({"--play":p?"running":"paused","--direction":_==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${C}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":h?"auto":"100%"}),[p,_,H,C,P,h]),Se=e.useMemo(()=>({"--transform":_==="up"?"rotate(90deg)":_==="down"?"rotate(-90deg)":"none"}),[_]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ge,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(U,it=>r.default.createElement("div",{style:Se,className:"rfm-child"},it)))),[Se,U]);return oe?r.default.createElement("div",{ref:le,style:ie,className:"rfm-marquee-container "+d},I&&r.default.createElement("div",{style:ye,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:pe,onAnimationIteration:L,onAnimationEnd:E},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(U,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(F-1)),r.default.createElement("div",{className:"rfm-marquee",style:pe},Ve(F))):null});return Bh.default=a,Bh}var yI=gI();const lT=L1(yI);var cT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_w=Ut.createContext&&Ut.createContext(cT),vI=["attr","size","title"];function bI(n,e){if(n==null)return{};var t=xI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function xI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wf(){return wf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wf.apply(this,arguments)}function ww(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ef(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(t),!0).forEach(function(r){_I(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ww(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _I(n,e,t){return e=wI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wI(n){var e=EI(n,"string");return typeof e=="symbol"?e:e+""}function EI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uT(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,Ef({key:t},e.attr),uT(e.child)))}function cd(n){return e=>Ut.createElement(TI,wf({attr:Ef({},n.attr)},e),uT(n.child))}function TI(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=bI(n,vI),d=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ut.createElement("svg",wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:Ef(Ef({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return _w!==void 0?Ut.createElement(_w.Consumer,null,t=>e(t)):e(cT)}function SI(n){return cd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function AI(n){return cd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Ew(n){return cd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function CI(n){return cd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const RI=()=>{};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},NI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,y=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|p>>6,T=p&63;h||(T=64,u||(_=64)),r.push(t[y],t[b],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||b==null)throw new II;const _=o<<2|d>>4;if(r.push(_),p!==64){const T=d<<4&240|p>>2;if(r.push(T),b!==64){const C=p<<6&192|b;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OI=function(n){const e=dT(n);return hT.encodeByteArray(e,!0)},Tf=function(n){return OI(n).replace(/\./g,"")},fT=function(n){try{return hT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=()=>MI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof Tw>"u")return;const n=Tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fT(n[1]);return e&&JSON.parse(e)},tm=()=>{try{return RI()||DI()||jI()||PI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mT=n=>{var e,t;return(t=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kI=n=>{const e=mT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pT=()=>{var n;return(n=tm())===null||n===void 0?void 0:n.config},gT=n=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tf(JSON.stringify(t)),Tf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function UI(){var n;const e=(n=tm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HI(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GI(){return!UI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $I(){try{return typeof indexedDB=="object"}catch{return!1}}function QI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=KI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ud.prototype.create)}}class ud{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?YI(o,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Oi(a,d,r)}}function YI(n,e){return n.replace(XI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const XI=/\{\$([^}]+)}/g;function WI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Sw(o)&&Sw(u)){if(!Co(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Sw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Au(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZI(n,e){const t=new JI(n,e);return t.subscribe.bind(t)}class JI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");eO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=zg),a.error===void 0&&(a.error=zg),a.complete===void 0&&(a.complete=zg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new LI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rO(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nO(n){return n===mo?void 0:n}function rO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const iO={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},aO=ut.INFO,oO={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},lO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=oO[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=aO,this._logHandler=lO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const cO=(n,e)=>e.some(t=>n instanceof t);let Aw,Cw;function uO(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dO(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yT=new WeakMap,vy=new WeakMap,vT=new WeakMap,Ug=new WeakMap,T0=new WeakMap;function hO(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(wa(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&yT.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function fO(n){if(vy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});vy.set(n,e)}let by={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||vT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mO(n){by=n(by)}function pO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bg(this),e,...t);return vT.set(r,e.sort?e.sort():[e]),wa(r)}:dO().includes(n)?function(...e){return n.apply(Bg(this),e),wa(yT.get(this))}:function(...e){return wa(n.apply(Bg(this),e))}}function gO(n){return typeof n=="function"?pO(n):(n instanceof IDBTransaction&&fO(n),cO(n,uO())?new Proxy(n,by):n)}function wa(n){if(n instanceof IDBRequest)return hO(n);if(Ug.has(n))return Ug.get(n);const e=gO(n);return e!==n&&(Ug.set(n,e),T0.set(e,n)),e}const Bg=n=>T0.get(n);function yO(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=wa(u);return r&&u.addEventListener("upgradeneeded",h=>{r(wa(u.result),h.oldVersion,h.newVersion,wa(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const vO=["get","getKey","getAll","getAllKeys","count"],bO=["put","add","delete","clear"],Fg=new Map;function Rw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=bO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||vO.includes(t)))return;const o=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return Fg.set(e,o),o}mO(n=>({...n,get:(e,t,r)=>Rw(e,t)||n.get(e,t,r),has:(e,t)=>!!Rw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_O(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _O(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xy="@firebase/app",Nw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new E0("@firebase/app"),wO="@firebase/app-compat",EO="@firebase/analytics-compat",TO="@firebase/analytics",SO="@firebase/app-check-compat",AO="@firebase/app-check",CO="@firebase/auth",RO="@firebase/auth-compat",NO="@firebase/database",IO="@firebase/data-connect",OO="@firebase/database-compat",MO="@firebase/functions",DO="@firebase/functions-compat",jO="@firebase/installations",PO="@firebase/installations-compat",kO="@firebase/messaging",LO="@firebase/messaging-compat",VO="@firebase/performance",zO="@firebase/performance-compat",UO="@firebase/remote-config",BO="@firebase/remote-config-compat",FO="@firebase/storage",qO="@firebase/storage-compat",HO="@firebase/firestore",GO="@firebase/vertexai",$O="@firebase/firestore-compat",QO="firebase",KO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",YO={[xy]:"fire-core",[wO]:"fire-core-compat",[TO]:"fire-analytics",[EO]:"fire-analytics-compat",[AO]:"fire-app-check",[SO]:"fire-app-check-compat",[CO]:"fire-auth",[RO]:"fire-auth-compat",[NO]:"fire-rtdb",[IO]:"fire-data-connect",[OO]:"fire-rtdb-compat",[MO]:"fire-fn",[DO]:"fire-fn-compat",[jO]:"fire-iid",[PO]:"fire-iid-compat",[kO]:"fire-fcm",[LO]:"fire-fcm-compat",[VO]:"fire-perf",[zO]:"fire-perf-compat",[UO]:"fire-rc",[BO]:"fire-rc-compat",[FO]:"fire-gcs",[qO]:"fire-gcs-compat",[HO]:"fire-fst",[$O]:"fire-fst-compat",[GO]:"fire-vertex","fire-js":"fire-js",[QO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,XO=new Map,wy=new Map;function Iw(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tc(n){const e=n.name;if(wy.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(const t of Sf.values())Iw(t,n);for(const t of XO.values())Iw(t,n);return!0}function S0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new ud("app","Firebase",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=KO;function bT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ea.create("bad-app-name",{appName:String(a)});if(t||(t=pT()),!t)throw Ea.create("no-options");const o=Sf.get(a);if(o){if(Co(t,o.options)&&Co(r,o.config))return o;throw Ea.create("duplicate-app",{appName:a})}const u=new sO(a);for(const h of wy.values())u.addComponent(h);const d=new ZO(t,r,u);return Sf.set(a,d),d}function xT(n=_y){const e=Sf.get(n);if(!e&&n===_y&&pT())return bT();if(!e)throw Ea.create("no-app",{appName:n});return e}function Ta(n,e,t){var r;let a=(r=YO[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(d.join(" "));return}tc(new Ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebase-heartbeat-database",eM=1,Fu="firebase-heartbeat-store";let qg=null;function _T(){return qg||(qg=yO(JO,eM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ea.create("idb-open",{originalErrorMessage:n.message})})),qg}async function tM(n){try{const t=(await _T()).transaction(Fu),r=await t.objectStore(Fu).get(wT(n));return await t.done,r}catch(e){if(e instanceof Oi)Ai.warn(e.message);else{const t=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function Ow(n,e){try{const r=(await _T()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,wT(n)),await r.done}catch(t){if(t instanceof Oi)Ai.warn(t.message);else{const r=Ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function wT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=1024,rM=30;class sM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>rM){const u=oM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mw(),{heartbeatsToSend:r,unsentEntries:a}=iM(this._heartbeatsCache.heartbeats),o=Tf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function Mw(){return new Date().toISOString().substring(0,10)}function iM(n,e=nM){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Dw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Dw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class aM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $I()?QI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dw(n){return Tf(JSON.stringify({version:2,heartbeats:n})).length}function oM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){tc(new Ro("platform-logger",e=>new xO(e),"PRIVATE")),tc(new Ro("heartbeat",e=>new sM(e),"PRIVATE")),Ta(xy,Nw,n),Ta(xy,Nw,"esm2017"),Ta("fire-js","")}lM("");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,ET;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,M){function O(){}O.prototype=M.prototype,V.D=M.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(R,D,F){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return M.prototype[D].apply(R,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,M,O){O||(O=0);var R=Array(16);if(typeof M=="string")for(var D=0;16>D;++D)R[D]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(D=0;16>D;++D)R[D]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=V.g[0],O=V.g[1],D=V.g[2];var F=V.g[3],k=M+(F^O&(D^F))+R[0]+3614090360&4294967295;M=O+(k<<7&4294967295|k>>>25),k=F+(D^M&(O^D))+R[1]+3905402710&4294967295,F=M+(k<<12&4294967295|k>>>20),k=D+(O^F&(M^O))+R[2]+606105819&4294967295,D=F+(k<<17&4294967295|k>>>15),k=O+(M^D&(F^M))+R[3]+3250441966&4294967295,O=D+(k<<22&4294967295|k>>>10),k=M+(F^O&(D^F))+R[4]+4118548399&4294967295,M=O+(k<<7&4294967295|k>>>25),k=F+(D^M&(O^D))+R[5]+1200080426&4294967295,F=M+(k<<12&4294967295|k>>>20),k=D+(O^F&(M^O))+R[6]+2821735955&4294967295,D=F+(k<<17&4294967295|k>>>15),k=O+(M^D&(F^M))+R[7]+4249261313&4294967295,O=D+(k<<22&4294967295|k>>>10),k=M+(F^O&(D^F))+R[8]+1770035416&4294967295,M=O+(k<<7&4294967295|k>>>25),k=F+(D^M&(O^D))+R[9]+2336552879&4294967295,F=M+(k<<12&4294967295|k>>>20),k=D+(O^F&(M^O))+R[10]+4294925233&4294967295,D=F+(k<<17&4294967295|k>>>15),k=O+(M^D&(F^M))+R[11]+2304563134&4294967295,O=D+(k<<22&4294967295|k>>>10),k=M+(F^O&(D^F))+R[12]+1804603682&4294967295,M=O+(k<<7&4294967295|k>>>25),k=F+(D^M&(O^D))+R[13]+4254626195&4294967295,F=M+(k<<12&4294967295|k>>>20),k=D+(O^F&(M^O))+R[14]+2792965006&4294967295,D=F+(k<<17&4294967295|k>>>15),k=O+(M^D&(F^M))+R[15]+1236535329&4294967295,O=D+(k<<22&4294967295|k>>>10),k=M+(D^F&(O^D))+R[1]+4129170786&4294967295,M=O+(k<<5&4294967295|k>>>27),k=F+(O^D&(M^O))+R[6]+3225465664&4294967295,F=M+(k<<9&4294967295|k>>>23),k=D+(M^O&(F^M))+R[11]+643717713&4294967295,D=F+(k<<14&4294967295|k>>>18),k=O+(F^M&(D^F))+R[0]+3921069994&4294967295,O=D+(k<<20&4294967295|k>>>12),k=M+(D^F&(O^D))+R[5]+3593408605&4294967295,M=O+(k<<5&4294967295|k>>>27),k=F+(O^D&(M^O))+R[10]+38016083&4294967295,F=M+(k<<9&4294967295|k>>>23),k=D+(M^O&(F^M))+R[15]+3634488961&4294967295,D=F+(k<<14&4294967295|k>>>18),k=O+(F^M&(D^F))+R[4]+3889429448&4294967295,O=D+(k<<20&4294967295|k>>>12),k=M+(D^F&(O^D))+R[9]+568446438&4294967295,M=O+(k<<5&4294967295|k>>>27),k=F+(O^D&(M^O))+R[14]+3275163606&4294967295,F=M+(k<<9&4294967295|k>>>23),k=D+(M^O&(F^M))+R[3]+4107603335&4294967295,D=F+(k<<14&4294967295|k>>>18),k=O+(F^M&(D^F))+R[8]+1163531501&4294967295,O=D+(k<<20&4294967295|k>>>12),k=M+(D^F&(O^D))+R[13]+2850285829&4294967295,M=O+(k<<5&4294967295|k>>>27),k=F+(O^D&(M^O))+R[2]+4243563512&4294967295,F=M+(k<<9&4294967295|k>>>23),k=D+(M^O&(F^M))+R[7]+1735328473&4294967295,D=F+(k<<14&4294967295|k>>>18),k=O+(F^M&(D^F))+R[12]+2368359562&4294967295,O=D+(k<<20&4294967295|k>>>12),k=M+(O^D^F)+R[5]+4294588738&4294967295,M=O+(k<<4&4294967295|k>>>28),k=F+(M^O^D)+R[8]+2272392833&4294967295,F=M+(k<<11&4294967295|k>>>21),k=D+(F^M^O)+R[11]+1839030562&4294967295,D=F+(k<<16&4294967295|k>>>16),k=O+(D^F^M)+R[14]+4259657740&4294967295,O=D+(k<<23&4294967295|k>>>9),k=M+(O^D^F)+R[1]+2763975236&4294967295,M=O+(k<<4&4294967295|k>>>28),k=F+(M^O^D)+R[4]+1272893353&4294967295,F=M+(k<<11&4294967295|k>>>21),k=D+(F^M^O)+R[7]+4139469664&4294967295,D=F+(k<<16&4294967295|k>>>16),k=O+(D^F^M)+R[10]+3200236656&4294967295,O=D+(k<<23&4294967295|k>>>9),k=M+(O^D^F)+R[13]+681279174&4294967295,M=O+(k<<4&4294967295|k>>>28),k=F+(M^O^D)+R[0]+3936430074&4294967295,F=M+(k<<11&4294967295|k>>>21),k=D+(F^M^O)+R[3]+3572445317&4294967295,D=F+(k<<16&4294967295|k>>>16),k=O+(D^F^M)+R[6]+76029189&4294967295,O=D+(k<<23&4294967295|k>>>9),k=M+(O^D^F)+R[9]+3654602809&4294967295,M=O+(k<<4&4294967295|k>>>28),k=F+(M^O^D)+R[12]+3873151461&4294967295,F=M+(k<<11&4294967295|k>>>21),k=D+(F^M^O)+R[15]+530742520&4294967295,D=F+(k<<16&4294967295|k>>>16),k=O+(D^F^M)+R[2]+3299628645&4294967295,O=D+(k<<23&4294967295|k>>>9),k=M+(D^(O|~F))+R[0]+4096336452&4294967295,M=O+(k<<6&4294967295|k>>>26),k=F+(O^(M|~D))+R[7]+1126891415&4294967295,F=M+(k<<10&4294967295|k>>>22),k=D+(M^(F|~O))+R[14]+2878612391&4294967295,D=F+(k<<15&4294967295|k>>>17),k=O+(F^(D|~M))+R[5]+4237533241&4294967295,O=D+(k<<21&4294967295|k>>>11),k=M+(D^(O|~F))+R[12]+1700485571&4294967295,M=O+(k<<6&4294967295|k>>>26),k=F+(O^(M|~D))+R[3]+2399980690&4294967295,F=M+(k<<10&4294967295|k>>>22),k=D+(M^(F|~O))+R[10]+4293915773&4294967295,D=F+(k<<15&4294967295|k>>>17),k=O+(F^(D|~M))+R[1]+2240044497&4294967295,O=D+(k<<21&4294967295|k>>>11),k=M+(D^(O|~F))+R[8]+1873313359&4294967295,M=O+(k<<6&4294967295|k>>>26),k=F+(O^(M|~D))+R[15]+4264355552&4294967295,F=M+(k<<10&4294967295|k>>>22),k=D+(M^(F|~O))+R[6]+2734768916&4294967295,D=F+(k<<15&4294967295|k>>>17),k=O+(F^(D|~M))+R[13]+1309151649&4294967295,O=D+(k<<21&4294967295|k>>>11),k=M+(D^(O|~F))+R[4]+4149444226&4294967295,M=O+(k<<6&4294967295|k>>>26),k=F+(O^(M|~D))+R[11]+3174756917&4294967295,F=M+(k<<10&4294967295|k>>>22),k=D+(M^(F|~O))+R[2]+718787259&4294967295,D=F+(k<<15&4294967295|k>>>17),k=O+(F^(D|~M))+R[9]+3951481745&4294967295,V.g[0]=V.g[0]+M&4294967295,V.g[1]=V.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+F&4294967295}r.prototype.u=function(V,M){M===void 0&&(M=V.length);for(var O=M-this.blockSize,R=this.B,D=this.h,F=0;F<M;){if(D==0)for(;F<=O;)a(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<M;)if(R[D++]=V.charCodeAt(F++),D==this.blockSize){a(this,R),D=0;break}}else for(;F<M;)if(R[D++]=V[F++],D==this.blockSize){a(this,R),D=0;break}}this.h=D,this.o+=M},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var M=1;M<V.length-8;++M)V[M]=0;var O=8*this.o;for(M=V.length-8;M<V.length;++M)V[M]=O&255,O/=256;for(this.u(V),V=Array(16),M=O=0;4>M;++M)for(var R=0;32>R;R+=8)V[O++]=this.g[M]>>>R&255;return V};function o(V,M){var O=d;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=M(V)}function u(V,M){this.h=M;for(var O=[],R=!0,D=V.length-1;0<=D;D--){var F=V[D]|0;R&&F==M||(O[D]=F,R=!1)}this.g=O}var d={};function h(V){return-128<=V&&128>V?o(V,function(M){return new u([M|0],0>M?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return I(p(-V));for(var M=[],O=1,R=0;V>=O;R++)M[R]=V/O|0,O*=4294967296;return new u(M,0)}function y(V,M){if(V.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V.charAt(0)=="-")return I(y(V.substring(1),M));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(M,8)),R=b,D=0;D<V.length;D+=8){var F=Math.min(8,V.length-D),k=parseInt(V.substring(D,D+F),M);8>F?(F=p(Math.pow(M,F)),R=R.j(F).add(p(k))):(R=R.j(O),R=R.add(p(k)))}return R}var b=h(0),_=h(1),T=h(16777216);n=u.prototype,n.m=function(){if(P(this))return-I(this).m();for(var V=0,M=1,O=0;O<this.g.length;O++){var R=this.i(O);V+=(0<=R?R:4294967296+R)*M,M*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(P(this))return"-"+I(this).toString(V);for(var M=p(Math.pow(V,6)),O=this,R="";;){var D=L(O,M).g;O=N(O,D.j(M));var F=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=D,C(O))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var M=0;M<V.g.length;M++)if(V.g[M]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=N(this,V),P(V)?-1:C(V)?0:1};function I(V){for(var M=V.g.length,O=[],R=0;R<M;R++)O[R]=~V.g[R];return new u(O,~V.h).add(_)}n.abs=function(){return P(this)?I(this):this},n.add=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],R=0,D=0;D<=M;D++){var F=R+(this.i(D)&65535)+(V.i(D)&65535),k=(F>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);R=k>>>16,F&=65535,k&=65535,O[D]=k<<16|F}return new u(O,O[O.length-1]&-2147483648?-1:0)};function N(V,M){return V.add(I(M))}n.j=function(V){if(C(this)||C(V))return b;if(P(this))return P(V)?I(this).j(I(V)):I(I(this).j(V));if(P(V))return I(this.j(I(V)));if(0>this.l(T)&&0>V.l(T))return p(this.m()*V.m());for(var M=this.g.length+V.g.length,O=[],R=0;R<2*M;R++)O[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<V.g.length;D++){var F=this.i(R)>>>16,k=this.i(R)&65535,oe=V.i(D)>>>16,ve=V.i(D)&65535;O[2*R+2*D]+=k*ve,w(O,2*R+2*D),O[2*R+2*D+1]+=F*ve,w(O,2*R+2*D+1),O[2*R+2*D+1]+=k*oe,w(O,2*R+2*D+1),O[2*R+2*D+2]+=F*oe,w(O,2*R+2*D+2)}for(R=0;R<M;R++)O[R]=O[2*R+1]<<16|O[2*R];for(R=M;R<2*M;R++)O[R]=0;return new u(O,0)};function w(V,M){for(;(V[M]&65535)!=V[M];)V[M+1]+=V[M]>>>16,V[M]&=65535,M++}function E(V,M){this.g=V,this.h=M}function L(V,M){if(C(M))throw Error("division by zero");if(C(V))return new E(b,b);if(P(V))return M=L(I(V),M),new E(I(M.g),I(M.h));if(P(M))return M=L(V,I(M)),new E(I(M.g),M.h);if(30<V.g.length){if(P(V)||P(M))throw Error("slowDivide_ only works with positive integers.");for(var O=_,R=M;0>=R.l(V);)O=B(O),R=B(R);var D=U(O,1),F=U(R,1);for(R=U(R,2),O=U(O,2);!C(R);){var k=F.add(R);0>=k.l(V)&&(D=D.add(O),F=k),R=U(R,1),O=U(O,1)}return M=N(V,D.j(M)),new E(D,M)}for(D=b;0<=V.l(M);){for(O=Math.max(1,Math.floor(V.m()/M.m())),R=Math.ceil(Math.log(O)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=p(O),k=F.j(M);P(k)||0<k.l(V);)O-=R,F=p(O),k=F.j(M);C(F)&&(F=_),D=D.add(F),V=N(V,k)}return new E(D,V)}n.A=function(V){return L(this,V).h},n.and=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],R=0;R<M;R++)O[R]=this.i(R)&V.i(R);return new u(O,this.h&V.h)},n.or=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],R=0;R<M;R++)O[R]=this.i(R)|V.i(R);return new u(O,this.h|V.h)},n.xor=function(V){for(var M=Math.max(this.g.length,V.g.length),O=[],R=0;R<M;R++)O[R]=this.i(R)^V.i(R);return new u(O,this.h^V.h)};function B(V){for(var M=V.g.length+1,O=[],R=0;R<M;R++)O[R]=V.i(R)<<1|V.i(R-1)>>>31;return new u(O,V.h)}function U(V,M){var O=M>>5;M%=32;for(var R=V.g.length-O,D=[],F=0;F<R;F++)D[F]=0<M?V.i(F+O)>>>M|V.i(F+O+1)<<32-M:V.i(F+O);return new u(D,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ET=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Sa=u}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,Cu,ST,sf,Ey,AT,CT,RT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,S){return f==Array.prototype||f==Object.prototype||(f[x]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(f,x){if(x)e:{var S=r;f=f.split(".");for(var z=0;z<f.length-1;z++){var Z=f[z];if(!(Z in S))break e;S=S[Z]}f=f[f.length-1],z=S[f],x=x(z),x!=z&&x!=null&&e(S,f,{configurable:!0,writable:!0,value:x})}}function o(f,x){f instanceof String&&(f+="");var S=0,z=!1,Z={next:function(){if(!z&&S<f.length){var se=S++;return{value:x(se,f[se]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function p(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function y(f,x,S){return f.call.apply(f.bind,arguments)}function b(f,x,S){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,z),f.apply(x,Z)}}return function(){return f.apply(x,arguments)}}function _(f,x,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function T(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var z=S.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function C(f,x){function S(){}S.prototype=x.prototype,f.aa=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(z,Z,se){for(var _e=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)_e[yt-2]=arguments[yt];return x.prototype[Z].apply(z,_e)}}function P(f){const x=f.length;if(0<x){const S=Array(x);for(let z=0;z<x;z++)S[z]=f[z];return S}return[]}function I(f,x){for(let S=1;S<arguments.length;S++){const z=arguments[S];if(h(z)){const Z=f.length||0,se=z.length||0;f.length=Z+se;for(let _e=0;_e<se;_e++)f[Z+_e]=z[_e]}else f.push(z)}}class N{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var B=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function U(f,x,S){for(const z in f)x.call(S,f[z],z,f)}function V(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function M(f){const x={};for(const S in f)x[S]=f[S];return x}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,x){let S,z;for(let Z=1;Z<arguments.length;Z++){z=arguments[Z];for(S in z)f[S]=z[S];for(let se=0;se<O.length;se++)S=O[se],Object.prototype.hasOwnProperty.call(z,S)&&(f[S]=z[S])}}function D(f){var x=1;f=f.split(":");const S=[];for(;0<x&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function F(f){d.setTimeout(()=>{throw f},0)}function k(){var f=xe;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class oe{constructor(){this.h=this.g=null}add(x,S){const z=ve.get();z.set(x,S),this.h?this.h.next=z:this.g=z,this.h=z}}var ve=new N(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,xe=new oe,H=()=>{const f=d.Promise.resolve(void 0);le=()=>{f.then(ie)}};var ie=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(S){F(S)}var x=ve;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}ae=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};d.addEventListener("test",S,x),d.removeEventListener("test",S,x)}catch{}return f}();function Ve(f,x){if(pe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(B){e:{try{L(x.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(x=null)}}else S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement);this.relatedTarget=x,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}C(Ve,pe);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(f,x,S,z,Z){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!z,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function It(f){this.src=f,this.g={},this.h=0}It.prototype.add=function(f,x,S,z,Z){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var _e=fn(f,x,z,Z);return-1<_e?(x=f[_e],S||(x.fa=!1)):(x=new it(x,this.src,se,!!z,Z),x.fa=S,f.push(x)),x};function Ht(f,x){var S=x.type;if(S in f.g){var z=f.g[S],Z=Array.prototype.indexOf.call(z,x,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(z,Z,1),se&&(Ze(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function fn(f,x,S,z){for(var Z=0;Z<f.length;++Z){var se=f[Z];if(!se.da&&se.listener==x&&se.capture==!!S&&se.ha==z)return Z}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),ur={};function Jn(f,x,S,z,Z){if(Array.isArray(x)){for(var se=0;se<x.length;se++)Jn(f,x[se],S,z,Z);return null}return S=is(S),f&&f[ge]?f.K(x,S,p(z)?!!z.capture:!1,Z):Xt(f,x,S,!1,z,Z)}function Xt(f,x,S,z,Z,se){if(!x)throw Error("Invalid event type");var _e=p(Z)?!!Z.capture:!!Z,yt=tr(f);if(yt||(f[Ft]=yt=new It(f)),S=yt.add(x,S,z,_e,se),S.proxy)return S;if(z=xs(),S.proxy=z,z.src=f,z.listener=S,f.addEventListener)Se||(Z=_e),Z===void 0&&(Z=!1),f.addEventListener(x.toString(),z,Z);else if(f.attachEvent)f.attachEvent(ss(x.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xs(){function f(S){return x.call(f.src,f.listener,S)}const x=er;return f}function _s(f,x,S,z,Z){if(Array.isArray(x))for(var se=0;se<x.length;se++)_s(f,x[se],S,z,Z);else z=p(z)?!!z.capture:!!z,S=is(S),f&&f[ge]?(f=f.i,x=String(x).toString(),x in f.g&&(se=f.g[x],S=fn(se,S,z,Z),-1<S&&(Ze(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete f.g[x],f.h--)))):f&&(f=tr(f))&&(x=f.g[x.toString()],f=-1,x&&(f=fn(x,S,z,Z)),(S=-1<f?x[f]:null)&&ws(S))}function ws(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ge])Ht(x.i,f);else{var S=f.type,z=f.proxy;x.removeEventListener?x.removeEventListener(S,z,f.capture):x.detachEvent?x.detachEvent(ss(S),z):x.addListener&&x.removeListener&&x.removeListener(z),(S=tr(x))?(Ht(S,f),S.h==0&&(S.src=null,x[Ft]=null)):Ze(f)}}}function ss(f){return f in ur?ur[f]:ur[f]="on"+f}function er(f,x){if(f.da)f=!0;else{x=new Ve(x,this);var S=f.listener,z=f.ha||f.src;f.fa&&ws(f),f=S.call(z,x)}return f}function tr(f){return f=f[Ft],f instanceof It?f:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function is(f){return typeof f=="function"?f:(f[Es]||(f[Es]=function(x){return f.handleEvent(x)}),f[Es])}function gt(){ye.call(this),this.i=new It(this),this.M=this,this.F=null}C(gt,ye),gt.prototype[ge]=!0,gt.prototype.removeEventListener=function(f,x,S,z){_s(this,f,x,S,z)};function We(f,x){var S,z=f.F;if(z)for(S=[];z;z=z.F)S.push(z);if(f=f.M,z=x.type||x,typeof x=="string")x=new pe(x,f);else if(x instanceof pe)x.target=x.target||f;else{var Z=x;x=new pe(z,f),R(x,Z)}if(Z=!0,S)for(var se=S.length-1;0<=se;se--){var _e=x.g=S[se];Z=wn(_e,z,!0,x)&&Z}if(_e=x.g=f,Z=wn(_e,z,!0,x)&&Z,Z=wn(_e,z,!1,x)&&Z,S)for(se=0;se<S.length;se++)_e=x.g=S[se],Z=wn(_e,z,!1,x)&&Z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var S=f.g[x],z=0;z<S.length;z++)Ze(S[z]);delete f.g[x],f.h--}}this.F=null},gt.prototype.K=function(f,x,S,z){return this.i.add(String(f),x,!1,S,z)},gt.prototype.L=function(f,x,S,z){return this.i.add(String(f),x,!0,S,z)};function wn(f,x,S,z){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Z=!0,se=0;se<x.length;++se){var _e=x[se];if(_e&&!_e.da&&_e.capture==S){var yt=_e.listener,pn=_e.ha||_e.src;_e.fa&&Ht(f.i,_e),Z=yt.call(pn,z)!==!1&&Z}}return Z&&!z.defaultPrevented}function $t(f,x,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function Zs(f){f.g=$t(()=>{f.g=null,f.i&&(f.i=!1,Zs(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class dr extends ye{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(f){ye.call(this),this.h=f,this.g={}}C(Vr,ye);var zr=[];function Me(f){U(f.g,function(x,S){this.g.hasOwnProperty(S)&&ws(x)},f),f.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Me(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,Je=d.JSON.parse,ht=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function qt(){}qt.prototype.h=null;function sn(f){return f.h||(f.h=f.i())}function nr(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){pe.call(this,"d")}C(qn,pe);function On(){pe.call(this,"c")}C(On,pe);var Qt={},Ur=null;function _r(){return Ur=Ur||new gt}Qt.La="serverreachability";function Ts(f){pe.call(this,Qt.La,f)}C(Ts,pe);function Q(f){const x=_r();We(x,new Ts(x))}Qt.STAT_EVENT="statevent";function W(f,x){pe.call(this,Qt.STAT_EVENT,f),this.stat=x}C(W,pe);function ee(f){const x=_r();We(x,new W(x,f))}Qt.Ma="timingevent";function he(f,x){pe.call(this,Qt.Ma,f),this.size=x}C(he,pe);function be(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function ze(f,x,S,z,Z,se){f.info(function(){if(f.g)if(se)for(var _e="",yt=se.split("&"),pn=0;pn<yt.length;pn++){var vt=yt[pn].split("=");if(1<vt.length){var Tn=vt[0];vt=vt[1];var gn=Tn.split("_");_e=2<=gn.length&&gn[1]=="type"?_e+(Tn+"="+vt+"&"):_e+(Tn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+z+") [attempt "+Z+"]: "+x+`
`+S+`
`+_e})}function Re(f,x,S,z,Z,se,_e){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Z+"]: "+x+`
`+S+`
`+se+" "+_e})}function De(f,x,S,z){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ue(f,S)+(z?" "+z:"")})}function Pe(f,x){f.info(function(){return"TIMEOUT: "+x})}Ce.prototype.info=function(){};function Ue(f,x){if(!f.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var z=S[f];if(!(2>z.length)){var Z=z[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Z.length;_e++)Z[_e]=""}}}}return Oe(S)}catch{return x}}var je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function At(){}C(At,qt),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},at=new At;function wt(f,x,S,z){this.j=f,this.i=x,this.l=S,this.R=z||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var rt={},Br={};function mn(f,x,S){f.L=1,f.v=qa(Tr(x)),f.m=S,f.P=!0,rr(f,null)}function rr(f,x){f.F=Date.now(),wr(f),f.A=Tr(f.v);var S=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),wc(S.i,"t",z),f.C=0,S=f.j.J,f.h=new ft,f.g=jd(f.j,S?x:null,!f.m),0<f.O&&(f.M=new dr(_(f.Y,f,f.g),f.O)),x=f.U,S=f.g,z=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(zr[0]=Z.toString()),Z=zr);for(var se=0;se<Z.length;se++){var _e=Jn(S,Z[se],z||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=f.H?M(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Q(),ze(f.i,f.u,f.A,f.l,f.R,f.m)}wt.prototype.ca=function(f){f=f.target;const x=this.M;x&&$r(f)==3?x.j():this.Y(f)},wt.prototype.Y=function(f){try{if(f==this.g)e:{const gn=$r(this.g);var x=this.g.Ba();const ai=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Ad(this.g)))){this.J||gn!=4||x==7||(x==8||0>=ai?Q(3):Q(2)),Hn(this);var S=this.g.Z();this.X=S;t:if(Mn(this)){var z=Ad(this.g);f="";var Z=z.length,se=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),sr(this);var _e="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Z;x++)this.h.h=!0,f+=this.h.i.decode(z[x],{stream:!(se&&x==Z-1)});z.length=0,this.h.g+=f,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Re(this.i,this.u,this.A,this.l,this.R,gn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,pn=this.g;if((yt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(yt)){var vt=yt;break t}}vt=null}if(S=vt)De(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,S);else{this.o=!1,this.s=3,ee(12),Ke(this),sr(this);break e}}if(this.P){S=!0;let jn;for(;!this.J&&this.C<_e.length;)if(jn=Ss(this,_e),jn==Br){gn==4&&(this.s=4,ee(14),S=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==rt){this.s=4,ee(15),De(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else De(this.i,this.l,jn,null),an(this,jn);if(Mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||_e.length!=0||this.h.h||(this.s=1,ee(16),S=!1),this.o=this.o&&S,!S)De(this.i,this.l,_e,"[Invalid Chunked Response]"),Ke(this),sr(this);else if(0<_e.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Wa(Tn),Tn.M=!0,ee(11))}}else De(this.i,this.l,_e,null),an(this,_e);gn==4&&Ke(this),this.o&&!this.J&&(gn==4?Od(this.j,this):(this.o=!1,wr(this)))}else Pm(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ke(this),sr(this)}}}catch{}finally{}};function Mn(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ss(f,x){var S=f.C,z=x.indexOf(`
`,S);return z==-1?Br:(S=Number(x.substring(S,z)),isNaN(S)?rt:(z+=1,z+S>x.length?Br:(x=x.slice(z,z+S),f.C=z+S,x)))}wt.prototype.cancel=function(){this.J=!0,Ke(this)};function wr(f){f.S=Date.now()+f.I,Mi(f,f.I)}function Mi(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=be(_(f.ba,f),x)}function Hn(f){f.B&&(d.clearTimeout(f.B),f.B=null)}wt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),ee(17)),Ke(this),this.s=2,sr(this)):Mi(this,this.S-f)};function sr(f){f.j.G==0||f.J||Od(f.j,f)}function Ke(f){Hn(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,Me(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function an(f,x){try{var S=f.j;if(S.G!=0&&(S.g==f||Fr(S.h,f))){if(!f.K&&Fr(S.h,f)&&S.G==3){try{var z=S.Da.g.parse(x)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Z=z;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Yo(S),Qo(S);else break e;Cc(S),ee(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=be(_(S.Za,S),6e3));if(1>=Lt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ii(S,11)}else if((f.K||S.g==f)&&Yo(S),!w(x))for(Z=S.Da.g.parse(x),x=0;x<Z.length;x++){let vt=Z[x];if(S.T=vt[0],vt=vt[1],S.G==2)if(vt[0]=="c"){S.K=vt[1],S.ia=vt[2];const Tn=vt[3];Tn!=null&&(S.la=Tn,S.j.info("VER="+S.la));const gn=vt[4];gn!=null&&(S.Aa=gn,S.j.info("SVER="+S.Aa));const ai=vt[5];ai!=null&&typeof ai=="number"&&0<ai&&(z=1.5*ai,S.L=z,S.j.info("backChannelRequestTimeoutMs_="+z)),z=S;const jn=f.g;if(jn){const Ds=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var se=z.h;se.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Js(se,se.h),se.h=null))}if(z.D){const Nc=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(z.ya=Nc,Dt(z.I,z.D,Nc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),z=S;var _e=f;if(z.qa=Dd(z,z.J?z.ia:null,z.W),_e.K){Dn(z.h,_e);var yt=_e,pn=z.L;pn&&(yt.I=pn),yt.B&&(Hn(yt),wr(yt)),z.g=_e}else Nd(z);0<S.i.length&&Ko(S)}else vt[0]!="stop"&&vt[0]!="close"||ii(S,7);else S.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ii(S,7):Sc(S):vt[0]!="noop"&&S.l&&S.l.ta(vt),S.v=0)}}Q(4)}catch{}}var Er=class{constructor(f,x){this.g=f,this.map=x}};function hr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lt(f){return f.h?1:f.g?f.g.size:0}function Fr(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Js(f,x){f.g?f.g.add(x):f.h=x}function Dn(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}hr.prototype.cancel=function(){if(this.i=vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.D);return x}return P(f.i)}function Om(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var x=[],S=f.length,z=0;z<S;z++)x.push(f[z]);return x}x=[],S=0;for(z in f)x[S++]=f[z];return x}function Bo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var x=[];f=f.length;for(var S=0;S<f;S++)x.push(S);return x}x=[],S=0;for(const z in f)x[S++]=z;return x}}}function bc(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var S=Bo(f),z=Om(f),Z=z.length,se=0;se<Z;se++)x.call(void 0,z[se],S&&S[se],f)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mm(f,x){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var z=f[S].indexOf("="),Z=null;if(0<=z){var se=f[S].substring(0,z);Z=f[S].substring(z+1)}else se=f[S];x(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof on){this.h=f.h,Fa(this,f.j),this.o=f.o,this.g=f.g,Di(this,f.s),this.l=f.l;var x=f.i,S=new ti;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),ei(this,S),this.m=f.m}else f&&(x=String(f).match(Ba))?(this.h=!1,Fa(this,x[1]||"",!0),this.o=qr(x[2]||""),this.g=qr(x[3]||"",!0),Di(this,x[4]),this.l=qr(x[5]||"",!0),ei(this,x[6]||"",!0),this.m=qr(x[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}on.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Ha(x,xc,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ha(x,xc,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ha(S,S.charAt(0)=="/"?Dm:_c,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ha(S,Fo)),f.join("")};function Tr(f){return new on(f)}function Fa(f,x,S){f.j=S?qr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Di(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function ei(f,x,S){x instanceof ti?(f.i=x,Td(f.i,f.h)):(S||(x=Ha(x,jm)),f.i=new ti(x,f.h))}function Dt(f,x,S){f.i.set(x,S)}function qa(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function qr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ha(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,Ed),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ed(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xc=/[#\/\?@]/g,_c=/[#\?:]/g,Dm=/[#\?]/g,jm=/[#\?@]/g,Fo=/#/g;function ti(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Hr(f){f.g||(f.g=new Map,f.h=0,f.i&&Mm(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=ti.prototype,n.add=function(f,x){Hr(this),this.i=null,f=Cs(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function ni(f,x){Hr(f),x=Cs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ri(f,x){return Hr(f),x=Cs(f,x),f.g.has(x)}n.forEach=function(f,x){Hr(this),this.g.forEach(function(S,z){S.forEach(function(Z){f.call(x,Z,z,this)},this)},this)},n.na=function(){Hr(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let z=0;z<x.length;z++){const Z=f[z];for(let se=0;se<Z.length;se++)S.push(x[z])}return S},n.V=function(f){Hr(this);let x=[];if(typeof f=="string")ri(this,f)&&(x=x.concat(this.g.get(Cs(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)x=x.concat(f[S])}return x},n.set=function(f,x){return Hr(this),this.i=null,f=Cs(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function wc(f,x,S){ni(f,x),0<S.length&&(f.i=null,f.g.set(Cs(f,x),P(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var z=x[S];const se=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var Z=se;_e[z]!==""&&(Z+="="+encodeURIComponent(String(_e[z]))),f.push(Z)}}return this.i=f.join("&")};function Cs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Td(f,x){x&&!f.j&&(Hr(f),f.i=null,f.g.forEach(function(S,z){var Z=z.toLowerCase();z!=Z&&(ni(this,z),wc(this,Z,S))},f)),f.j=x}function Ga(f,x){const S=new Ce;if(d.Image){const z=new Image;z.onload=T(Gr,S,"TestLoadImage: loaded",!0,x,z),z.onerror=T(Gr,S,"TestLoadImage: error",!1,x,z),z.onabort=T(Gr,S,"TestLoadImage: abort",!1,x,z),z.ontimeout=T(Gr,S,"TestLoadImage: timeout",!1,x,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else x(!1)}function as(f,x){const S=new Ce,z=new AbortController,Z=setTimeout(()=>{z.abort(),Gr(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:z.signal}).then(se=>{clearTimeout(Z),se.ok?Gr(S,"TestPingServer: ok",!0,x):Gr(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),Gr(S,"TestPingServer: error",!1,x)})}function Gr(f,x,S,z,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),z(S)}catch{}}function $a(){this.g=new ht}function Rs(f,x,S){const z=S||"";try{bc(f,function(Z,se){let _e=Z;p(Z)&&(_e=Oe(Z)),x.push(z+se+"="+encodeURIComponent(_e))})}catch(Z){throw x.push(z+"type="+encodeURIComponent("_badmap")),Z}}function ji(f){this.l=f.Ub||null,this.j=f.eb||!1}C(ji,qt),ji.prototype.g=function(){return new si(this.l,this.j)},ji.prototype.i=function(f){return function(){return f}}({});function si(f,x){gt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(si,gt),n=si.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Is(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ec(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ec(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Ns(this):Is(this),this.readyState==3&&Ec(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ns(this))},n.Qa=function(f){this.g&&(this.response=f,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Is(f)}n.setRequestHeader=function(f,x){this.u.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function Is(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Tc(f){let x="";return U(f,function(S,z){x+=z,x+=":",x+=S,x+=`\r
`}),x}function En(f,x,S){e:{for(z in S){var z=!1;break e}z=!0}z||(S=Tc(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Dt(f,x,S))}function Ct(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ct,gt);var qo=/^https?$/i,Qa=["POST","PUT"];n=Ct.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,x,S,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?sn(this.o):sn(at),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){Sd(this,se);return}if(f=S||"",S=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Z in z)S.set(Z,z[Z]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const se of z.keys())S.set(se,z.get(se));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qa,x,void 0))||z||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of S)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){Sd(this,se)}};function Sd(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Ho(f),Os(f)}function Ho(f){f.A||(f.A=!0,We(f,"complete"),We(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,We(this,"complete"),We(this,"abort"),Os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},n.bb=function(){Go(this)};function Go(f){if(f.h&&typeof u<"u"&&(!f.v[1]||$r(f)!=4||f.Z()!=2)){if(f.u&&$r(f)==4)$t(f.Ea,0,f);else if(We(f,"readystatechange"),$r(f)==4){f.h=!1;try{const _e=f.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var z;if(z=_e===0){var Z=String(f.D).match(Ba)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),z=!qo.test(Z?Z.toLowerCase():"")}S=z}if(S)We(f,"complete"),We(f,"success");else{f.m=6;try{var se=2<$r(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",Ho(f)}}finally{Os(f)}}}}function Os(f,x){if(f.g){Ka(f);const S=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||We(f,"ready");try{S.onreadystatechange=z}catch{}}}function Ka(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function $r(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Je(x)}};function Ad(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Pm(f){const x={};f=(f.g&&2<=$r(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(w(f[z]))continue;var S=D(f[z]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=x[Z]||[];x[Z]=se,se.push(S)}V(x,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function $o(f){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,f),this.cb=Ya("retryDelaySeedMs",1e4,f),this.Wa=Ya("forwardChannelMaxRetries",2,f),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hr(f&&f.concurrentRequestLimit),this.Da=new $a,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$o.prototype,n.la=8,n.G=1,n.connect=function(f,x,S,z){ee(0),this.W=f,this.H=x||{},S&&z!==void 0&&(this.H.OSID=S,this.H.OAID=z),this.F=this.X,this.I=Dd(this,null,this.W),Ko(this)};function Sc(f){if(Cd(f),f.G==3){var x=f.U++,S=Tr(f.I);if(Dt(S,"SID",f.K),Dt(S,"RID",x),Dt(S,"TYPE","terminate"),Xa(f,S),x=new wt(f,f.j,x),x.L=2,x.v=qa(Tr(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=x.v,S=!0),S||(x.g=jd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wr(x)}Md(f)}function Qo(f){f.g&&(Wa(f),f.g.cancel(),f.g=null)}function Cd(f){Qo(f),f.u&&(d.clearTimeout(f.u),f.u=null),Yo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ko(f){if(!As(f.h)&&!f.s){f.s=!0;var x=f.Ga;le||H(),ae||(le(),ae=!0),xe.add(x,f),f.B=0}}function km(f,x){return Lt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=be(_(f.Ga,f,x),Rc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new wt(this,this.j,f);let se=this.o;if(this.S&&(se?(se=M(se),R(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var z=this.i[S];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(x+=z,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Rd(this,Z,x),S=Tr(this.I),Dt(S,"RID",f),Dt(S,"CVER",22),this.D&&Dt(S,"X-HTTP-Session-Id",this.D),Xa(this,S),se&&(this.O?x="headers="+encodeURIComponent(String(Tc(se)))+"&"+x:this.m&&En(S,this.m,se)),Js(this.h,Z),this.Ua&&Dt(S,"TYPE","init"),this.P?(Dt(S,"$req",x),Dt(S,"SID","null"),Z.T=!0,mn(Z,S,null)):mn(Z,S,x),this.G=2}}else this.G==3&&(f?Ac(this,f):this.i.length==0||As(this.h)||Ac(this))};function Ac(f,x){var S;x?S=x.l:S=f.U++;const z=Tr(f.I);Dt(z,"SID",f.K),Dt(z,"RID",S),Dt(z,"AID",f.T),Xa(f,z),f.m&&f.o&&En(z,f.m,f.o),S=new wt(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),x&&(f.i=x.D.concat(f.i)),x=Rd(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Js(f.h,S),mn(S,z,x)}function Xa(f,x){f.H&&U(f.H,function(S,z){Dt(x,z,S)}),f.l&&bc({},function(S,z){Dt(x,z,S)})}function Rd(f,x,S){S=Math.min(f.i.length,S);var z=f.l?_(f.l.Na,f.l,f):null;e:{var Z=f.i;let se=-1;for(;;){const _e=["count="+S];se==-1?0<S?(se=Z[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let yt=!0;for(let pn=0;pn<S;pn++){let vt=Z[pn].g;const Tn=Z[pn].map;if(vt-=se,0>vt)se=Math.max(0,Z[pn].g-100),yt=!1;else try{Rs(Tn,_e,"req"+vt+"_")}catch{z&&z(Tn)}}if(yt){z=_e.join("&");break e}}}return f=f.i.splice(0,S),x.D=f,z}function Nd(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;le||H(),ae||(le(),ae=!0),xe.add(x,f),f.v=0}}function Cc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=be(_(f.Fa,f),Rc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=be(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qo(this),Id(this))};function Wa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Id(f){f.g=new wt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=Tr(f.qa);Dt(x,"RID","rpc"),Dt(x,"SID",f.K),Dt(x,"AID",f.T),Dt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(x,"TO",f.ja),Dt(x,"TYPE","xmlhttp"),Xa(f,x),f.m&&f.o&&En(x,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=qa(Tr(x)),S.m=null,S.P=!0,rr(S,f)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Cc(this),ee(19))};function Yo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Od(f,x){var S=null;if(f.g==x){Yo(f),Wa(f),f.g=null;var z=2}else if(Fr(f.h,x))S=x.D,Dn(f.h,x),z=1;else return;if(f.G!=0){if(x.o)if(z==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Z=f.B;z=_r(),We(z,new he(z,S)),Ko(f)}else Nd(f);else if(Z=x.s,Z==3||Z==0&&0<x.X||!(z==1&&km(f,x)||z==2&&Cc(f)))switch(S&&0<S.length&&(x=f.h,x.i=x.i.concat(S)),Z){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function Rc(f,x){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*x}function ii(f,x){if(f.j.info("Error code "+x),x==2){var S=_(f.fb,f),z=f.Xa;const Z=!z;z=new on(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fa(z,"https"),qa(z),Z?Ga(z.toString(),S):as(z.toString(),S)}else ee(2);f.G=0,f.l&&f.l.sa(x),Md(f),Cd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Md(f){if(f.G=0,f.ka=[],f.l){const x=vc(f.h);(x.length!=0||f.i.length!=0)&&(I(f.ka,x),I(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function Dd(f,x,S){var z=S instanceof on?Tr(S):new on(S);if(z.g!="")x&&(z.g=x+"."+z.g),Di(z,z.s);else{var Z=d.location;z=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new on(null);z&&Fa(se,z),x&&(se.g=x),Z&&Di(se,Z),S&&(se.l=S),z=se}return S=f.D,x=f.ya,S&&x&&Dt(z,S,x),Dt(z,"VER",f.la),Xa(f,z),z}function jd(f,x,S){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new Ct(new ji({eb:S})):new Ct(f.pa),x.Ha(f.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pd(){}n=Pd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xo(){}Xo.prototype.g=function(f,x){return new ir(f,x)};function ir(f,x){gt.call(this),this.g=new $o(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!w(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!w(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Ms(this)}C(ir,gt),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Sc(this.g)},ir.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Oe(f),f=S);x.i.push(new Er(x.Ya++,f)),x.G==3&&Ko(x)},ir.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,ir.aa.N.call(this)};function kd(f){qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const S in x){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}C(kd,qn);function Ld(){On.call(this),this.status=1}C(Ld,On);function Ms(f){this.g=f}C(Ms,Pd),Ms.prototype.ua=function(){We(this.g,"a")},Ms.prototype.ta=function(f){We(this.g,new kd(f))},Ms.prototype.sa=function(f){We(this.g,new Ld)},Ms.prototype.ra=function(){We(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,RT=function(){return new Xo},CT=function(){return _r()},AT=Qt,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,sf=je,Fe.COMPLETE="complete",ST=Fe,nr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Cu=nr,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,TT=Ct}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",kw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new E0("@firebase/firestore");function Al(){return No.logLevel}function Ae(n,...e){if(No.logLevel<=ut.DEBUG){const t=e.map(A0);No.debug(`Firestore (${hc}): ${n}`,...t)}}function Ci(n,...e){if(No.logLevel<=ut.ERROR){const t=e.map(A0);No.error(`Firestore (${hc}): ${n}`,...t)}}function nc(n,...e){if(No.logLevel<=ut.WARN){const t=e.map(A0);No.warn(`Firestore (${hc}): ${n}`,...t)}}function A0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NT(n,r,t)}function NT(n,e,t){let r=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ci(r),new Error(r)}function Nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||NT(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dM{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Nt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class hM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new hM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Nt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=pM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function Ty(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=OT(),u=gM(o.encode(Vw(n,t)),o.encode(Vw(e,t)));return u!==0?u:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function Vw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function gM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function rc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Uw=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uw);return new xn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zw)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new xn(0,0))}static max(){return new Ye(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__name__";class zs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=zs.isNumericId(e),a=zs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zs.extractNumericId(e).compare(zs.extractNumericId(t)):Ty(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sa.fromString(e.substring(4,e.length-2))}}class Bt extends zs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const yM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends zs{construct(e,t,r){return new Un(e,t,r)}static isValidIdentifier(e){return yM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bw}static keyField(){return new Un([Bw])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(o(),a++)}if(o(),u)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function vM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new Na(a,Le.empty(),e)}function bM(n){return new Na(n.readTime,n.key,qu)}class Na{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Na(Ye.min(),Le.empty(),qu)}static max(){return new Na(Ye.max(),Le.empty(),qu)}}function xM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==_M)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},h=>r(h))}),u=!0,o===a&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(a=>a?me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,a)=>{const o=e.length,u=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(y=>{u[p]=y,++d,d===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new me((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function EM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-1;function rm(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function TM(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function SM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fw(e)),e=AM(n.get(t),e);return Fw(e)}function AM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case DT:t+="";break;default:t+=o}}return t}function Fw(n){return n+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qh(this.root,e,this.comparator,!0)}}class qh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Vn.RED,this.left=a??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Vn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new kr([])}unionWith(e){let t=new _n(Un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PT("Invalid base64 string: "+o):o}}(e);return new Bn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(n){if(Nt(!!n,39018),typeof n=="string"){let e=0;const t=CM.exec(n);if(Nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oa(n){return typeof n=="string"?Bn.fromBase64String(n):Bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",LT="__type__",VT="__previous_value__",zT="__local_write_time__";function sm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LT])===null||t===void 0?void 0:t.stringValue)===kT}function im(n){const e=n.mapValue.fields[VT];return sm(e)?im(e):e}function Hu(n){const e=Ia(n.mapValue.fields[zT].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t,r,a,o,u,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Cf="(default)";class Gu{constructor(e,t){this.projectId=e,this.database=t||Cf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__type__",NM="__max__",Hh={mapValue:{}},BT="__vector__",Rf="value";function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sm(n)?4:OM(n)?9007199254740991:IM(n)?10:11:Ge(28295,{value:n})}function Ys(n,e){if(n===e)return!0;const t=Ma(n);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ia(a.timestampValue),d=Ia(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Oa(a.bytesValue).isEqual(Oa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return nn(a.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return nn(a.integerValue)===nn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=nn(a.doubleValue),d=nn(o.doubleValue);return u===d?Af(u)===Af(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(qw(u)!==qw(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!Ys(u[h],d[h])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>Ys(t,e))!==void 0}function sc(n,e){if(n===e)return 0;const t=Ma(n),r=Ma(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=nn(o.integerValue||o.doubleValue),h=nn(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return Gw(n.timestampValue,e.timestampValue);case 4:return Gw(Hu(n),Hu(e));case 5:return Ty(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Oa(o),h=Oa(u);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),h=u.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=nt(d[p],h[p]);if(y!==0)return y}return nt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=nt(nn(o.latitude),nn(u.latitude));return d!==0?d:nt(nn(o.longitude),nn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $w(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,h,p,y;const b=o.fields||{},_=u.fields||{},T=(d=b[Rf])===null||d===void 0?void 0:d.arrayValue,C=(h=_[Rf])===null||h===void 0?void 0:h.arrayValue,P=nt(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:$w(T,C)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Hh.mapValue&&u===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(u===Hh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=u.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let b=0;b<h.length&&b<y.length;++b){const _=Ty(h[b],y[b]);if(_!==0)return _;const T=sc(d[h[b]],p[y[b]]);if(T!==0)return T}return nt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function Gw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Ia(n),r=Ia(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function $w(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=sc(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function ic(n){return Sy(n)}function Sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Sy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Sy(t.fields[u])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function af(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=im(n);return e?16+af(e):16;case 5:return 2*n.stringValue.length;case 6:return Oa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+af(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return ka(r.fields,(o,u)=>{a+=o.length+af(u)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Nf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ay(n){return!!n&&"integerValue"in n}function R0(n){return!!n&&"arrayValue"in n}function Qw(n){return!!n&&"nullValue"in n}function Kw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function of(n){return!!n&&"mapValue"in n}function IM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||t===void 0?void 0:t.stringValue)===BT}function Pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=Un.emptyPath(),r={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=d.popLast()}u?r[d.lastSegment()]=Pu(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];of(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ka(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new br(Pu(this.value))}}function FT(n){const e=[];return ka(n.fields,(t,r)=>{const a=new Un([t]);if(of(r)){const o=FT(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,a,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xn(e,0,Ye.min(),Ye.min(),Ye.min(),br.empty(),0)}static newFoundDocument(e,t,r,a){return new Xn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ye.min(),Ye.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ye.min(),Ye.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function Yw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=sc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function MM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class dn extends qT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jM(e,t,r):t==="array-contains"?new LM(e,r):t==="in"?new VM(e,r):t==="not-in"?new zM(e,r):t==="array-contains-any"?new UM(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PM(e,r):new kM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sc(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends qT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return HT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HT(n){return n.op==="and"}function GT(n){return DM(n)&&HT(n)}function DM(n){for(const e of n.filters)if(e instanceof ys)return!1;return!0}function Cy(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+ic(n.value);if(GT(n))return n.filters.map(e=>Cy(e)).join(",");{const e=n.filters.map(t=>Cy(t)).join(",");return`${n.op}(${e})`}}function $T(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&Ys(r.value,a.value)}(n,e):n instanceof ys?function(r,a){return a instanceof ys&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,d)=>o&&$T(u,a.filters[d]),!0):!1}(n,e):void Ge(19439)}function QT(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`}(n):n instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(QT).join(" ,")+"}"}(n):"Filter"}class jM extends dn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class PM extends dn{constructor(e,t){super(e,"in",t),this.keys=KT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kM extends dn{constructor(e,t){super(e,"not-in",t),this.keys=KT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class LM extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R0(t)&&$u(t.arrayValue,this.value)}}class VM extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class zM extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}}class UM extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t=null,r=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function Ww(n,e=null,t=[],r=[],a=null,o=null,u=null){return new BM(n,e,t,r,a,o,u)}function N0(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ic(r)).join(",")),e.Ie=t}return e.Ie}function I0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$T(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xw(n.startAt,e.startAt)&&Xw(n.endAt,e.endAt)}function Ry(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,r=[],a=[],o=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function FM(n,e,t,r,a,o,u,d){return new Lo(n,e,t,r,a,o,u,d)}function am(n){return new Lo(n)}function Zw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O0(n){return n.collectionGroup!==null}function Pl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new _n(Un.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Qu(o,r))}),t.has(Un.keyField().canonicalString())||e.Ee.push(new Qu(Un.keyField(),r))}return e.Ee}function Hs(n){const e=Xe(n);return e.de||(e.de=qM(e,Pl(n))),e.de}function qM(n,e){if(n.limitType==="F")return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Qu(a.field,o)});const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ny(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function If(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function om(n,e){return I0(Hs(n),Hs(e))&&n.limitType===e.limitType}function YT(n){return`${N0(Hs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>QT(a)).join(", ")}]`),rm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>ic(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>ic(a)).join(",")),`Target(${r})`}(Hs(n))}; limitType=${n.limitType})`}function lm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,d,h){const p=Yw(u,d,h);return u.inclusive?p<=0:p<0}(r.startAt,Pl(r),a)||r.endAt&&!function(u,d,h){const p=Yw(u,d,h);return u.inclusive?p>=0:p>0}(r.endAt,Pl(r),a))}(n,e)}function HM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XT(n){return(e,t)=>{let r=!1;for(const a of Pl(n)){const o=GM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function GM(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,u,d){const h=u.data.field(o),p=d.data.field(o);return h!==null&&p!==null?sc(h,p):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Yt(Le.comparator);function Ri(){return $M}const WT=new Yt(Le.comparator);function Ru(...n){let e=WT;for(const t of n)e=e.insert(t.key,t);return e}function ZT(n){let e=WT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return ku()}function JT(){return ku()}function ku(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const QM=new Yt(Le.comparator),KM=new _n(Le.comparator);function dt(...n){let e=KM;for(const t of n)e=e.add(t);return e}const YM=new _n(nt);function XM(){return YM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function eS(n){return{integerValue:""+n}}function WM(n,e){return TM(e)?eS(e):M0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function ZM(n,e,t){return n instanceof Ku?function(a,o){const u={fields:{[LT]:{stringValue:kT},[zT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&sm(o)&&(o=im(o)),o&&(u.fields[VT]=o),{mapValue:u}}(t,e):n instanceof Yu?nS(n,e):n instanceof Xu?rS(n,e):function(a,o){const u=tS(a,o),d=Jw(u)+Jw(a.Re);return Ay(u)&&Ay(a.Re)?eS(d):M0(a.serializer,d)}(n,e)}function JM(n,e,t){return n instanceof Yu?nS(n,e):n instanceof Xu?rS(n,e):t}function tS(n,e){return n instanceof Of?function(r){return Ay(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ku extends cm{}class Yu extends cm{constructor(e){super(),this.elements=e}}function nS(n,e){const t=sS(e);for(const r of n.elements)t.some(a=>Ys(a,r))||t.push(r);return{arrayValue:{values:t}}}class Xu extends cm{constructor(e){super(),this.elements=e}}function rS(n,e){let t=sS(e);for(const r of n.elements)t=t.filter(a=>!Ys(a,r));return{arrayValue:{values:t}}}class Of extends cm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Jw(n){return nn(n.integerValue||n.doubleValue)}function sS(n){return R0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t){this.field=e,this.transform=t}}function tD(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Yu&&a instanceof Yu||r instanceof Xu&&a instanceof Xu?rc(r.elements,a.elements,Ys):r instanceof Of&&a instanceof Of?Ys(r.Re,a.Re):r instanceof Ku&&a instanceof Ku}(n.transform,e.transform)}class nD{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let um=class{};function iS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new D0(n.key,ns.none()):new hd(n.key,n.data,ns.none());{const t=n.data,r=br.empty();let a=new _n(Un.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new La(n.key,r,new kr(a.toArray()),ns.none())}}function rD(n,e,t){n instanceof hd?function(a,o,u){const d=a.value.clone(),h=tE(a.fieldTransforms,o,u.transformResults);d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof La?function(a,o,u){if(!lf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=tE(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(aS(a)),h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Lu(n,e,t,r){return n instanceof hd?function(o,u,d,h){if(!lf(o.precondition,u))return d;const p=o.value.clone(),y=nE(o.fieldTransforms,h,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(o,u,d,h){if(!lf(o.precondition,u))return d;const p=nE(o.fieldTransforms,h,u),y=u.data;return y.setAll(aS(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,d){return lf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function sD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=tS(r.transform,a||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&rc(r,a,(o,u)=>tD(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hd extends um{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class La extends um{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tE(n,e,t){const r=new Map;Nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);r.set(o.field,JM(u,d,t[a]))}return r}function nE(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,ZM(o,u,e))}return r}class D0 extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&rD(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JT();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const h=iS(u,d);h!==null&&r.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(t,r)=>eE(t,r))&&rc(this.baseMutations,e.baseMutations,(t,r)=>eE(t,r))}}class j0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return QM}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new j0(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,xt;function cD(n){switch(n){case ue.OK:return Ge(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function oS(n){if(n===void 0)return Ci("GRPC error has no .code"),ue.UNKNOWN;switch(n){case un.OK:return ue.OK;case un.CANCELLED:return ue.CANCELLED;case un.UNKNOWN:return ue.UNKNOWN;case un.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case un.INTERNAL:return ue.INTERNAL;case un.UNAVAILABLE:return ue.UNAVAILABLE;case un.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case un.NOT_FOUND:return ue.NOT_FOUND;case un.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case un.ABORTED:return ue.ABORTED;case un.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case un.DATA_LOSS:return ue.DATA_LOSS;default:return Ge(39323,{code:n})}}(xt=un||(un={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Sa([4294967295,4294967295],0);function rE(n){const e=OT().encode(n),t=new ET;return t.update(e),new Uint8Array(t.digest())}function sE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sa([t,r],0),new Sa([a,o],0)]}class P0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Sa.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Sa.fromNumber(r)));return a.compare(uD)===1&&(a=new Sa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=rE(e),[r,a]=sE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new P0(o,a,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=rE(e),[r,a]=sE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dm(Ye.min(),a,new Yt(nt),Ri(),dt())}}class fd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fd(r,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class lS{constructor(e,t){this.targetId=e,this.Ce=t}}class cS{constructor(e,t,r=Bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class iE{constructor(){this.Fe=0,this.Me=aE(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),t=dt(),r=dt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new fd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dD{constructor(e){this.ze=e,this.je=new Map,this.He=Ri(),this.Je=Gh(),this.Ye=Gh(),this.Ze=new Yt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Ry(o))if(r===0){const u=new Le(o.path);this.tt(t,u,Xn.newNoDocument(u,Ye.min()))}else Nt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),h=d?this.lt(d,e,u):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Oa(r).toUint8Array()}catch(h){if(h instanceof PT)return nc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new P0(u,a,o)}catch(h){return nc(h instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Ry(d.target)){const h=new Le(d.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Xn.newNoDocument(h,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new dm(e,t,this.Ze,this.He,r);return this.He=Ri(),this.Je=Gh(),this.Ye=Gh(),this.Ze=new Yt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new iE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _n(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _n(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Gh(){return new Yt(Le.comparator)}function aE(){return new Yt(Le.comparator)}const hD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class pD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iy(n,e){return n.useProto3Json||rm(e)?e:{value:e}}function Mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gD(n,e){return Mf(n,e.toTimestamp())}function Gs(n){return Nt(!!n,49232),Ye.fromTimestamp(function(t){const r=Ia(t);return new xn(r.seconds,r.nanos)}(n))}function k0(n,e){return Oy(n,e).canonicalString()}function Oy(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dS(n){const e=Bt.fromString(n);return Nt(gS(e),10190,{key:e.toString()}),e}function My(n,e){return k0(n.databaseId,e.path)}function Hg(n,e){const t=dS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(fS(t))}function hS(n,e){return k0(n.databaseId,e)}function yD(n){const e=dS(n);return e.length===4?Bt.emptyPath():fS(e)}function Dy(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fS(n){return Nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oE(n,e,t){return{name:My(n,e),fields:t.value.mapValue.fields}}function vD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Nt(y===void 0||typeof y=="string",58123),Bn.fromBase64String(y||"")):(Nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Bn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const y=p.code===void 0?ue.UNKNOWN:oS(p.code);return new we(y,p.message||"")}(u);t=new cS(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Hg(n,r.document.name),o=Gs(r.document.updateTime),u=r.document.createTime?Gs(r.document.createTime):Ye.min(),d=new br({mapValue:{fields:r.document.fields}}),h=Xn.newFoundDocument(a,o,u,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new cf(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Hg(n,r.document),o=r.readTime?Gs(r.readTime):Ye.min(),u=Xn.newNoDocument(a,o),d=r.removedTargetIds||[];t=new cf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Hg(n,r.document),o=r.removedTargetIds||[];t=new cf([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new lD(a,o),d=r.targetId;t=new lS(d,u)}}return t}function bD(n,e){let t;if(e instanceof hd)t={update:oE(n,e.key,e.value)};else if(e instanceof D0)t={delete:My(n,e.key)};else if(e instanceof La)t={update:oE(n,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof iD))return Ge(16599,{ft:e.type});t={verify:My(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Ku)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Of)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ge(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:gD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function xD(n,e){return n&&n.length>0?(Nt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Gs(a.updateTime):Gs(o);return u.isEqual(Ye.min())&&(u=Gs(o)),new nD(u,a.transformResults||[])}(t,e))):[]}function _D(n,e){return{documents:[hS(n,e.path)]}}function wD(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hS(n,a);const o=function(p){if(p.length!==0)return pS(ys.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Rl(_.field),direction:SD(_.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Iy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function ED(n){let e=yD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Nt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const _=mS(b);return _ instanceof ys&&GT(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(C){return new Qu(Nl(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,rm(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(b){const _=!!b.before,T=b.values||[];return new ac(T,_)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const _=!b.before,T=b.values||[];return new ac(T,_)}(t.endAt)),FM(e,a,u,o,d,"F",h,p)}function TD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Nl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Nl(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nl(t.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Nl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(r=>mS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function SD(n){return hD[n]}function AD(n){return fD[n]}function CD(n){return mD[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Nl(n){return Un.fromServerFormat(n.fieldPath)}function pS(n){return n instanceof dn?function(t){if(t.op==="=="){if(Kw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:AD(t.op),value:t.value}}}(n):n instanceof ys?function(t){const r=t.getFilters().map(a=>pS(a));return r.length===1?r[0]:{compositeFilter:{op:CD(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function RD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r,a,o=Ye.min(),u=Ye.min(),d=Bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.wt=e}}function ID(n){const e=ED({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.yn=new MD}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Na.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class MD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new _n(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new _n(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(yS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new oc(0)}static ir(){return new oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",DD=1048576;function uE([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class jD{constructor(e){this.cr=e,this.buffer=new _n(uE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(cE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mc(t)?Ae(cE,"Ignoring IndexedDB error during garbage collection: ",t):await fc(t)}await this.Ir(3e5)})}}class kD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(nm.le);const r=new jD(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(lE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),Al()<=ut.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function LD(n,e){return new kD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Lu(r.mutation,a,kr.empty(),xn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dt()){const a=yo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Ru();return o.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,a){let o=Ri();const u=ku(),d=function(){return ku()}();return t.forEach((h,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof La)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Lu(y.mutation,p,y.mutation.getFieldMask(),xn.now())):u.set(p.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var b;return d.set(p,new zD(y,(b=u.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const r=ku();let a=new Yt((u,d)=>u-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||kr.empty();y=d.applyToLocalView(p,y),r.set(h,y);const b=(a.get(d.batchId)||dt()).add(h);a=a.insert(d.batchId,b)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,b=JT();y.forEach(_=>{if(!o.has(_)){const T=iS(t.get(_),r.get(_));T!==null&&b.set(_,T),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):me.resolve(yo());let d=qu,h=o;return u.next(p=>me.forEach(p,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(y)?me.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{h=h.insert(y,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,dt())).next(y=>({batchId:d,changes:ZT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Ru();return this.indexManager.getCollectionParents(e,o).next(d=>me.forEach(d,h=>{const p=function(b,_){return new Lo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((h,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xn.newInvalidDocument(y)))});let d=Ru();return u.forEach((h,p)=>{const y=o.get(h);y!==void 0&&Lu(y.mutation,p,kr.empty(),xn.now()),lm(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gs(a.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:ID(a.bundledQuery),readTime:Gs(a.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new Yt(Le.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yo();return me.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const a=yo(),o=t.length+1,u=new Le(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Yt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=yo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=yo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return me.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new oD(t,r));let o=this.Or.get(t);o===void 0&&(o=dt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Nr=new _n(Rn.Br),this.Lr=new _n(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=dt();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new _n(Rn.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new aD(o,t,r,a);this.mutationQueue.push(u);for(const d of a)this.zr=this.zr.add(new Rn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?C0:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const d=this.jr(u.Gr);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(nt);return t.forEach(a=>{const o=new Rn(a,0),u=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Rn(new Le(o),0);let d=new _n(nt);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Gr)),!0)},u),me.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Nt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.Zr=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ri();const u=t.path,d=new Le(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||xM(bM(y),r)<=0||(a.has(y.key)||lm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $D(this)}getSize(e){return me.resolve(this.size)}}class $D extends VD{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.persistence=e,this.ei=new Vo(t=>N0(t),I0),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new L0,this.targetCount=0,this.ri=oc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),me.waitFor(o).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.ii={},this.overlays={},this.si=new nm(0),this.oi=!1,this.oi=!0,this._i=new qD,this.referenceDelegate=e(this),this.ai=new QD(this),this.indexManager=new OD,this.remoteDocumentCache=function(a){return new GD(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new ND(t),this.ci=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new HD(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new KD(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class KD extends wM{constructor(e){super(),this.currentSequenceNumber=e}}class V0{constructor(e){this.persistence=e,this.Ti=new L0,this.Ii=null}static Ei(e){return new V0(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Df{constructor(e,t){this.persistence=e,this.Ri=new Vo(r=>SM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=LD(this,t)}static Ei(e,t){return new Df(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?me.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=af(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=dt(),a=dt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new z0(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return GI()?8:EM(Zn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new YD;return this.fs(e,t,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Al()<=ut.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(Al()<=ut.DEBUG&&Ae("QueryEngine","Query:",Cl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Al()<=ut.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(t))):me.resolve())}Rs(e,t){if(Zw(t))return me.resolve(null);let r=Hs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=If(t,null,"F"),r=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dt(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,u,h.readTime)?this.Rs(e,If(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,a){return Zw(t)||a.isEqual(Ye.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?me.resolve(null):(Al()<=ut.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cl(t)),this.ws(e,u,t,vM(a,qu)).next(d=>d))})}ps(e,t){let r=new _n(XT(e));return t.forEach((a,o)=>{lm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Al()<=ut.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.As.getDocumentsMatchingQuery(e,t,Na.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LocalStore",WD=3e8;class ZD{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Yt(nt),this.Ds=new Vo(o=>N0(o),I0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function JD(n,e,t,r){return new ZD(n,e,t,r)}async function bS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let h=dt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:d}))})})}function e4(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const b=p.batch,_=b.keys();let T=me.resolve();return _.forEach(C=>{T=T.next(()=>y.getEntry(h,C)).next(P=>{const I=p.docVersions.get(C);Nt(I!==null,48541),P.version.compareTo(I)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(h,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=dt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function xS(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function t4(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((y,b)=>{const _=a.get(b);if(!_)return;d.push(t.ai.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,b)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(Bn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(b,T),function(P,I,N){return P.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=WD?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,T,y)&&d.push(t.ai.updateTargetData(o,T))});let h=Ri(),p=dt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(n4(o,u,e.documentUpdates).next(y=>{h=y.xs,p=y.Os})),!r.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(b=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return me.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function n4(n,e,t){let r=dt(),a=dt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Ri();return t.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ye.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):Ae(U0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:u,Os:a}})}function r4(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=C0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s4(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,me.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new va(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function jy(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!mc(u))throw u;Ae(U0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function dE(n,e,t){const r=Xe(n);let a=Ye.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,y){const b=Xe(h),_=b.Ds.get(y);return _!==void 0?me.resolve(b.Ss.get(_)):b.ai.getTargetData(p,y)}(r,u,Hs(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ye.min(),t?o:dt())).next(d=>(i4(r,HM(e),d),{documents:d,Ns:o})))}function i4(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class hE{constructor(){this.activeTargetIds=XM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.So=new hE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new hE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class mE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function Py(){return $h===null?$h=function(){return 268435456+Math.round(2147483648*Math.random())}():$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=Py(),d=this.$o(e,t.toUriEncodedString());Ae(Gg,`Sending RPC '${e}' ${u}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,d,h,r).then(p=>(Ae(Gg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw nc(Gg,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=l4[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class d4 extends c4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Py();return new Promise((u,d)=>{const h=new TT;h.setWithCredentials(!0),h.listenOnce(ST.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sf.NO_ERROR:const y=h.getResponseJson();Ae(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case sf.TIMEOUT:Ae(Qn,`RPC '${e}' ${o} timed out`),d(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const b=h.getStatus();if(Ae(Qn,`RPC '${e}' ${o} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const C=function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(N)>=0?N:ue.UNKNOWN}(T.status);d(new we(C,T.message))}else d(new we(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ae(Qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae(Qn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Py(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RT(),d=CT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=o.join("");Ae(Qn,`Creating RPC '${e}' stream ${a}: ${y}`,h);const b=u.createWebChannel(y,h);let _=!1,T=!1;const C=new u4({Go:I=>{T?Ae(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(_||(Ae(Qn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Ae(Qn,`RPC '${e}' stream ${a} sending:`,I),b.send(I))},zo:()=>b.close()}),P=(I,N,w)=>{I.listen(N,E=>{try{w(E)}catch(L){setTimeout(()=>{throw L},0)}})};return P(b,Cu.EventType.OPEN,()=>{T||(Ae(Qn,`RPC '${e}' stream ${a} transport opened.`),C.t_())}),P(b,Cu.EventType.CLOSE,()=>{T||(T=!0,Ae(Qn,`RPC '${e}' stream ${a} transport closed`),C.r_())}),P(b,Cu.EventType.ERROR,I=>{T||(T=!0,nc(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.r_(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),P(b,Cu.EventType.MESSAGE,I=>{var N;if(!T){const w=I.data[0];Nt(!!w,16349);const E=w,L=(E==null?void 0:E.error)||((N=E[0])===null||N===void 0?void 0:N.error);if(L){Ae(Qn,`RPC '${e}' stream ${a} received error:`,L);const B=L.status;let U=function(O){const R=un[O];if(R!==void 0)return oS(R)}(B),V=L.message;U===void 0&&(U=ue.INTERNAL,V="Unknown error status: "+B+" with message "+L.message),T=!0,C.r_(new we(U,V)),b.close()}else Ae(Qn,`RPC '${e}' stream ${a} received:`,w),C.i_(w)}}),P(d,AT.STAT_EVENT,I=>{I.stat===Ey.PROXY?Ae(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Ey.NOPROXY&&Ae(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n){return new pD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class wS{constructor(e,t,r,a,o,u,d,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _S(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ae(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h4 extends wS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=vD(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?Gs(u.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Dy(this.serializer),t.addTarget=function(o,u){let d;const h=u.target;if(d=Ry(h)?{documents:_D(o,h)}:{query:wD(o,h).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=uS(o,u.resumeToken);const p=Iy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ye.min())>0){d.readTime=Mf(o,u.snapshotVersion.toTimestamp());const p=Iy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=TD(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Dy(this.serializer),t.removeTarget=e,this.F_(t)}}class f4 extends wS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=xD(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Dy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{}class p4 extends m4{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Oy(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,Oy(t,r),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ue.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class g4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(t),this.ea=!1):Ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class y4{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{zo(this)&&(Ae(Io,"Restarting streams for network reachability change."),await async function(h){const p=Xe(h);p.aa.add(4),await md(p),p.la.set("Unknown"),p.aa.delete(4),await fm(p)}(this))})}),this.la=new g4(r,a)}}async function fm(n){if(zo(n))for(const e of n.ua)await e(!0)}async function md(n){for(const e of n.ua)await e(!1)}function ES(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),H0(t)?q0(t):pc(t).b_()&&F0(t,e))}function B0(n,e){const t=Xe(n),r=pc(t);t._a.delete(e),r.b_()&&TS(t,e),t._a.size===0&&(r.b_()?r.v_():zo(t)&&t.la.set("Unknown"))}function F0(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pc(n).U_(e)}function TS(n,e){n.ha.Ke(e),pc(n).K_(e)}function q0(n){n.ha=new dD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),pc(n).start(),n.la.ta()}function H0(n){return zo(n)&&!pc(n).w_()&&n._a.size>0}function zo(n){return Xe(n).aa.size===0}function SS(n){n.ha=void 0}async function v4(n){n.la.set("Online")}async function b4(n){n._a.forEach((e,t)=>{F0(n,e)})}async function x4(n,e){SS(n),H0(n)?(n.la.ia(e),q0(n)):n.la.set("Unknown")}async function _4(n,e,t){if(n.la.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Ae(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(n,r)}else if(e instanceof cf?n.ha.Xe(e):e instanceof lS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await xS(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,p)=>{const y=o._a.get(h);if(!y)return;o._a.set(h,y.withResumeToken(Bn.EMPTY_BYTE_STRING,y.snapshotVersion)),TS(o,h);const b=new va(y.target,h,p,y.sequenceNumber);F0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ae(Io,"Failed to raise snapshot:",r),await jf(n,r)}}async function jf(n,e,t){if(!mc(e))throw e;n.aa.add(1),await md(n),n.la.set("Offline"),t||(t=()=>xS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Io,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await fm(n)})}function AS(n,e){return e().catch(t=>jf(n,t,e))}async function mm(n){const e=Xe(n),t=Da(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:C0;for(;w4(e);)try{const a=await r4(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,E4(e,a)}catch(a){await jf(e,a)}CS(e)&&RS(e)}function w4(n){return zo(n)&&n.oa.length<10}function E4(n,e){n.oa.push(e);const t=Da(n);t.b_()&&t.W_&&t.G_(e.mutations)}function CS(n){return zo(n)&&!Da(n).w_()&&n.oa.length>0}function RS(n){Da(n).start()}async function T4(n){Da(n).H_()}async function S4(n){const e=Da(n);for(const t of n.oa)e.G_(t.mutations)}async function A4(n,e,t){const r=n.oa.shift(),a=j0.from(r,e,t);await AS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await mm(n)}async function C4(n,e){e&&Da(n).W_&&await async function(r,a){if(function(u){return cD(u)&&u!==ue.ABORTED}(a.code)){const o=r.oa.shift();Da(r).D_(),await AS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await mm(r)}}(n,e),CS(n)&&RS(n)}async function gE(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Io,"RemoteStore received new credentials");const r=zo(t);t.aa.add(3),await md(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await fm(t)}async function R4(n,e){const t=Xe(n);e?(t.aa.delete(2),await fm(t)):e||(t.aa.add(2),await md(t),t.la.set("Unknown"))}function pc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new h4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:v4.bind(null,n),Jo:b4.bind(null,n),Zo:x4.bind(null,n),Q_:_4.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),H0(n)?q0(n):n.la.set("Unknown")):(await n.Pa.stop(),SS(n))})),n.Pa}function Da(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new f4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:T4.bind(null,n),Zo:C4.bind(null,n),z_:S4.bind(null,n),j_:A4.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await mm(n)):(await n.Ta.stop(),n.oa.length>0&&(Ae(Io,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,d=new G0(e,t,u,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),mc(n))return new we(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Ru(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Ia=new Yt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class lc{constructor(e,t,r,a,o,u,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new lc(e,t,kl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class I4{constructor(){this.queries=vE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=vE(),o.forEach((u,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function vE(){return new Vo(n=>YT(n),om)}async function Q0(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new N4,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=$0(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Y0(t)}async function K0(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function O4(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Ra)d.pa(a)&&(r=!0);u.Aa=a}}r&&Y0(t)}function M4(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Y0(n){n.fa.forEach(e=>{e.next()})}var ky,bE;(bE=ky||(ky={})).ya="default",bE.Cache="cache";class X0{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class D4{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dt(),this.mutatedKeys=dt(),this.Ua=XT(e),this.Ka=new kl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new yE,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const _=a.get(y),T=lm(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;_&&T?_.data.isEqual(T.data)?C!==P&&(r.track({type:3,doc:T}),I=!0):this.ja(_,T)||(r.track({type:2,doc:T}),I=!0,(h&&this.Ua(T,h)>0||p&&this.Ua(T,p)<0)&&(d=!0)):!_&&T?(r.track({type:0,doc:T}),I=!0):_&&!T&&(r.track({type:1,doc:_}),I=!0,(h||p)&&(d=!0)),I&&(T?(u=u.add(T),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,b)=>function(T,C){const P=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:I})}};return P(T)-P(C)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,u.length!==0||p?{snapshot:new lc(this.query,e.Ka,o,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new IS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new NS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return lc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const W0="SyncEngine";class j4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class P4{constructor(e){this.key=e,this.tu=!1}}class k4{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Vo(d=>YT(d),om),this.iu=new Map,this.su=new Set,this.ou=new Yt(Le.comparator),this._u=new Map,this.au=new L0,this.uu={},this.cu=new Map,this.lu=oc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function L4(n,e,t=!0){const r=kS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await OS(r,e,t,!0),a}async function V4(n,e){const t=kS(n);await OS(t,e,!0,!1)}async function OS(n,e,t,r){const a=await s4(n.localStore,Hs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await z4(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&ES(n.remoteStore,a),d}async function z4(n,e,t,r,a){n.Pu=(b,_,T)=>async function(P,I,N,w){let E=I.view.Ga(N);E.ys&&(E=await dE(P.localStore,I.query,!1).then(({documents:V})=>I.view.Ga(V,E)));const L=w&&w.targetChanges.get(I.targetId),B=w&&w.targetMismatches.get(I.targetId)!=null,U=I.view.applyChanges(E,P.isPrimaryClient,L,B);return _E(P,I.targetId,U.Ya),U.snapshot}(n,b,_,T);const o=await dE(n.localStore,e,!0),u=new D4(e,o.Ns),d=u.Ga(o.documents),h=fd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,h);_E(n,t,p.Ya);const y=new j4(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function U4(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!om(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&B0(r.remoteStore,a.targetId),Ly(r,a.targetId)}).catch(fc)):(Ly(r,a.targetId),await jy(r.localStore,a.targetId,!0))}async function B4(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),B0(t.remoteStore,r.targetId))}async function F4(n,e,t){const r=Y4(n);try{const a=await function(u,d){const h=Xe(u),p=xn.now(),y=d.reduce((T,C)=>T.add(C.key),dt());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=Ri(),P=dt();return h.Cs.getEntries(T,y).next(I=>{C=I,C.forEach((N,w)=>{w.isValidDocument()||(P=P.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,C)).next(I=>{b=I;const N=[];for(const w of d){const E=sD(w,b.get(w.key).overlayedDocument);E!=null&&N.push(new La(w.key,E,FT(E.value.mapValue),ns.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,N,d)}).next(I=>{_=I;const N=I.applyToLocalDocumentSet(b,P);return h.documentOverlayCache.saveOverlays(T,I.batchId,N)})}).then(()=>({batchId:_.batchId,changes:ZT(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,d,h){let p=u.uu[u.currentUser.toKey()];p||(p=new Yt(nt)),p=p.insert(d,h),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,t),await pd(r,a.changes),await mm(r.remoteStore)}catch(a){const o=$0(a,"Failed to persist write");t.reject(o)}}async function MS(n,e){const t=Xe(n);try{const r=await t4(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Nt(u.tu,14607):a.removedDocuments.size>0&&(Nt(u.tu,42227),u.tu=!1))}),await pd(t,r,e)}catch(r){await fc(r)}}function xE(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const h=Xe(u);h.onlineState=d;let p=!1;h.queries.forEach((y,b)=>{for(const _ of b.Ra)_.ga(d)&&(p=!0)}),p&&Y0(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q4(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Yt(Le.comparator);u=u.insert(o,Xn.newNoDocument(o,Ye.min()));const d=dt().add(o),h=new dm(Ye.min(),new Map,new Yt(nt),u,d);await MS(r,h),r.ou=r.ou.remove(o),r._u.delete(e),Z0(r)}else await jy(r.localStore,e,!1).then(()=>Ly(r,e,t)).catch(fc)}async function H4(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await e4(t.localStore,e);jS(t,r,null),DS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pd(t,a)}catch(a){await fc(a)}}async function G4(n,e,t){const r=Xe(n);try{const a=await function(u,d){const h=Xe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(b=>(Nt(b!==null,37113),y=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);jS(r,e,t),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pd(r,a)}catch(a){await fc(a)}}function DS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function jS(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Ly(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||PS(n,r)})}function PS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(B0(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Z0(n))}function _E(n,e,t){for(const r of t)r instanceof NS?(n.au.addReference(r.key,e),$4(n,r)):r instanceof IS?(Ae(W0,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||PS(n,r.key)):Ge(19791,{Iu:r})}function $4(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ae(W0,"New document in limbo: "+t),n.su.add(r),Z0(n))}function Z0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new P4(t)),n.ou=n.ou.insert(t,r),ES(n.remoteStore,new va(Hs(am(t.path)),r,"TargetPurposeLimboResolution",nm.le))}}async function pd(n,e,t){const r=Xe(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{u.push(r.Pu(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(p){a.push(p);const b=z0.Ps(h.targetId,p);o.push(b)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(h,p){const y=Xe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>me.forEach(p,_=>me.forEach(_.ls,T=>y.persistence.referenceDelegate.addReference(b,_.targetId,T)).next(()=>me.forEach(_.hs,T=>y.persistence.referenceDelegate.removeReference(b,_.targetId,T)))))}catch(b){if(!mc(b))throw b;Ae(U0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const T=y.Ss.get(_),C=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(C);y.Ss=y.Ss.insert(_,P)}}}(r.localStore,o))}async function Q4(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ae(W0,"User change. New user:",e.toKey());const r=await bS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(h=>{h.reject(new we(ue.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(t,r.Ms)}}function K4(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return dt().add(r.key);{let a=dt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const d=t.ru.get(u);a=a.unionWith(d.view.Wa)}return a}}function kS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.nu.Q_=O4.bind(null,e.eventManager),e.nu.Tu=M4.bind(null,e.eventManager),e}function Y4(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return JD(this.persistence,new XD,e.initialUser,this.serializer)}Ru(e){return new vS(V0.Ei,this.serializer)}Au(e){return new a4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class X4 extends Pf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Nt(this.persistence.referenceDelegate instanceof Df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PD(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new vS(r=>Df.Ei(r,t),this.serializer)}}class Vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I4}()}createDatastore(e){const t=hm(e.databaseInfo.databaseId),r=function(o){return new d4(o)}(e.databaseInfo);return function(o,u,d,h){return new p4(o,u,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,d){return new y4(r,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>xE(this.syncEngine,t,0),function(){return mE.C()?new mE:new o4}())}createSyncEngine(e,t){return function(a,o,u,d,h,p,y){const b=new k4(a,o,u,d,h,p);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ae(Io,"RemoteStore shutting down."),o.aa.add(5),await md(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class W4{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(ja,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(ja,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(ja,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await bS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Z4(n);Ae(ja,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>gE(e.remoteStore,a)),n._onlineComponents=e}async function Z4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(ja,"Using user provided OfflineComponentProvider");try{await Qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nc("Error using user provided cache. Falling back to memory cache: "+t),await Qg(n,new Pf)}}else Ae(ja,"Using default OfflineComponentProvider"),await Qg(n,new X4(void 0));return n._offlineComponents}async function LS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(ja,"Using user provided OnlineComponentProvider"),await wE(n,n._uninitializedComponentsProvider._online)):(Ae(ja,"Using default OnlineComponentProvider"),await wE(n,new Vy))),n._onlineComponents}function J4(n){return LS(n).then(e=>e.syncEngine)}async function kf(n){const e=await LS(n),t=e.eventManager;return t.onListen=L4.bind(null,e.syncEngine),t.onUnlisten=U4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=V4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B4.bind(null,e.syncEngine),t}function ej(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,p){const y=new J0({next:_=>{y.yu(),u.enqueueAndForget(()=>K0(o,b));const T=_.docs.has(d);!T&&_.fromCache?p.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new X0(am(d.path),y,{includeMetadataChanges:!0,Fa:!0});return Q0(o,b)}(await kf(n),n.asyncQueue,e,t,r)),r.promise}function tj(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,p){const y=new J0({next:_=>{y.yu(),u.enqueueAndForget(()=>K0(o,b)),_.fromCache&&h.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new X0(d,y,{includeMetadataChanges:!0,Fa:!0});return Q0(o,b)}(await kf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n,e,t){if(!t)throw new we(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nj(n,e,t,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TE(n){if(!Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SE(n){if(Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firestore.googleapis.com",AE=!0;class CE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=AE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=EE.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),EE.delete(t),r.terminate())}(this),Promise.resolve()}}function rj(n,e,t,r={}){var a;const o=(n=xr(n,gm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==US&&o.host!==d&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Co(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yn.MOCK_USER;else{p=VI(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(b)}n._authCredentials=new uM(new IT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va=class BS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new BS(this.firestore,e,this._query)}};class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Aa extends Va{constructor(e,t,r){super(e,t,am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Le(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Lr(n,e,...t){if(n=hn(n),zS("collection","path",e),n instanceof gm){const r=Bt.fromString(e,...t);return SE(r),new Aa(n,null,r)}{if(!(n instanceof Wn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return SE(r),new Aa(n.firestore,null,r)}}function Oo(n,e,...t){if(n=hn(n),arguments.length===1&&(e=MT.newId()),zS("doc","path",e),n instanceof gm){const r=Bt.fromString(e,...t);return TE(r),new Wn(n,null,new Le(r))}{if(!(n instanceof Wn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return TE(r),new Wn(n.firestore,n instanceof Aa?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _S(this,"async_queue_retry"),this.ju=()=>{const r=$g();r&&Ae(RE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=$g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=$g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!mc(e))throw e;Ae(RE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=G0.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:IE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function IE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ni extends gm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new NE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function sj(n,e){const t=typeof n=="object"?n:xT(),r=typeof n=="string"?n:Cf,a=S0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=kI("firestore");o&&rj(a,...o)}return a}function ym(n){if(n._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ij(n),n._firestoreClient}function ij(n){var e,t,r;const a=n._freezeSettings(),o=function(d,h,p,y){return new RM(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new W4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Bn.fromBase64String(e))}catch(t){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^__.*__$/;class oj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new hd(e,this.data,t,this.fieldTransforms)}}class FS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class nv{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Lf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(qS(this.oc)&&aj.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class lj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hm(e)}dc(e,t,r,a=!1){return new nv({oc:e,methodName:t,Ec:r,path:Un.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(n){const e=n._freezeSettings(),t=hm(n._databaseId);return new lj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);sv("Data must be an object, but it was:",u,r);const d=$S(r,u);let h,p;if(o.merge)h=new kr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=zy(e,b,t);if(!u.contains(_))throw new we(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);KS(y,_)||y.push(_)}h=new kr(y),p=u.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,p=u.fieldTransforms;return new oj(new br(d),h,p)}class xm extends bm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}class rv extends bm{_toFieldTransform(e){return new eD(e.path,new Ku)}isEqual(e){return e instanceof rv}}function cj(n,e,t,r){const a=n.dc(1,e,t);sv("Data must be an object, but it was:",a,r);const o=[],u=br.empty();ka(r,(h,p)=>{const y=iv(e,h,t);p=hn(p);const b=a.hc(y);if(p instanceof xm)o.push(y);else{const _=yd(p,b);_!=null&&(o.push(y),u.set(y,_))}});const d=new kr(o);return new FS(u,d,a.fieldTransforms)}function uj(n,e,t,r,a,o){const u=n.dc(1,e,t),d=[zy(e,r,t)],h=[a];if(o.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(zy(e,o[_])),h.push(o[_+1]);const p=[],y=br.empty();for(let _=d.length-1;_>=0;--_)if(!KS(p,d[_])){const T=d[_];let C=h[_];C=hn(C);const P=u.hc(T);if(C instanceof xm)p.push(T);else{const I=yd(C,P);I!=null&&(p.push(T),y.set(T,I))}}const b=new kr(p);return new FS(y,b,u.fieldTransforms)}function GS(n,e,t,r=!1){return yd(t,n.dc(r?4:3,e))}function yd(n,e){if(QS(n=hn(n)))return sv("Unsupported field value:",e,n),$S(n,e);if(n instanceof bm)return function(r,a){if(!qS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const d of r){let h=yd(d,a.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xn.fromDate(r);return{timestampValue:Mf(a.serializer,o)}}if(r instanceof xn){const o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(a.serializer,o)}}if(r instanceof ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:uS(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:k0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof tv)return function(u,d){return{mapValue:{fields:{[UT]:{stringValue:BT},[Rf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return M0(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${pm(r)}`)}(n,e)}function $S(n,e){const t={};return jT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(r,a)=>{const o=yd(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function QS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof ev||n instanceof cc||n instanceof Wn||n instanceof bm||n instanceof tv)}function sv(n,e,t){if(!QS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=pm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function zy(n,e,t){if((e=hn(e))instanceof vm)return e._internalPath;if(typeof e=="string")return iv(n,e);throw Lf("Field path arguments must be of type string or ",n,!1,void 0,t)}const dj=new RegExp("[~\\*/\\[\\]]");function iv(n,e,t){if(e.search(dj)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vm(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lf(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${a}`),h+=")"),new we(ue.INVALID_ARGUMENT,d+n+h)}function KS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hj extends av{data(){return super.data()}}function _m(n,e){return typeof e=="string"?iv(n,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class wm extends ov{}function Mo(n,e,...t){let r=[];e instanceof ov&&r.push(e),r=r.concat(t),function(o){const u=o.filter(h=>h instanceof lv).length,d=o.filter(h=>h instanceof Em).length;if(u>1||u>0&&d>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Em extends wm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Em(e,t,r)}_apply(e){const t=this._parse(e);return WS(e._query,t),new Va(e.firestore,e.converter,Ny(e._query,t))}_parse(e){const t=gd(e.firestore);return function(o,u,d,h,p,y,b){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){DE(b,y);const C=[];for(const P of b)C.push(ME(h,o,P));_={arrayValue:{values:C}}}else _=ME(h,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||DE(b,y),_=GS(d,u,b,y==="in"||y==="not-in");return dn.create(p,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(n,e,t){const r=e,a=_m("where",n);return Em._create(a,r,t)}class lv extends ov{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const h of d)WS(u,h),u=Ny(u,h)}(e._query,t),new Va(e.firestore,e.converter,Ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends wm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(o,u)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Lo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function fj(n,e="asc"){const t=e,r=_m("orderBy",n);return cv._create(r,t)}class uv extends wm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new uv(e,t,r)}_apply(e){return new Va(e.firestore,e.converter,If(e._query,this._limit,this._limitType))}}function Vf(n){return uv._create("limit",n,"F")}class dv extends wm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dv(e,t,r)}_apply(e){const t=mj(e,this.type,this._docOrFields,this._inclusive);return new Va(e.firestore,e.converter,function(a,o){return new Lo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function XS(...n){return dv._create("startAfter",n,!1)}function mj(n,e,t,r){if(t[0]=hn(t[0]),t[0]instanceof av)return function(o,u,d,h,p){if(!h)throw new we(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const b of Pl(o))if(b.field.isKeyField())y.push(Nf(u,h.key));else{const _=h.data.field(b.field);if(sm(_))throw new we(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=b.field.canonicalString();throw new we(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}y.push(_)}return new ac(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=gd(n.firestore);return function(u,d,h,p,y,b){const _=u.explicitOrderBy;if(y.length>_.length)throw new we(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let C=0;C<y.length;C++){const P=y[C];if(_[C].field.isKeyField()){if(typeof P!="string")throw new we(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!O0(u)&&P.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const I=u.path.child(Bt.fromString(P));if(!Le.isDocumentKey(I))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const N=new Le(I);T.push(Nf(d,N))}else{const I=GS(h,p,P);T.push(I)}}return new ac(T,b)}(n._query,n.firestore._databaseId,a,e,t,r)}}function ME(n,e,t){if(typeof(t=hn(t))=="string"){if(t==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&t.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nf(n,new Le(r))}if(t instanceof Wn)return Nf(n,t._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(t)}.`)}function DE(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WS(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pj{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ka(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Rf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>nn(u.doubleValue));return new tv(o)}convertGeoPoint(e){return new ev(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=im(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=Ia(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);Nt(gS(r),9688,{name:e});const a=new Gu(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ci(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JS extends av{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uf extends JS{data(e={}){return super.data(e)}}class e2{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uf(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const h=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new uf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:gj(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n){n=xr(n,Wn);const e=xr(n.firestore,Ni);return ej(ym(e),n._key).then(t=>r2(e,n,t))}class hv extends pj{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function za(n){n=xr(n,Va);const e=xr(n.firestore,Ni),t=ym(e),r=new hv(e);return YS(n._query),tj(t,n._query).then(a=>new e2(e,r,n,a))}function fv(n,e,t){n=xr(n,Wn);const r=xr(n.firestore,Ni),a=ZS(n.converter,e,t);return Tm(r,[HS(gd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ns.none())])}function yj(n,e,t,...r){n=xr(n,Wn);const a=xr(n.firestore,Ni),o=gd(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof vm?uj(o,"updateDoc",n._key,e,t,r):cj(o,"updateDoc",n._key,e),Tm(a,[u.toMutation(n._key,ns.exists(!0))])}function vj(n){return Tm(xr(n.firestore,Ni),[new D0(n._key,ns.none())])}function n2(n,e){const t=xr(n.firestore,Ni),r=Oo(n),a=ZS(n.converter,e);return Tm(t,[HS(gd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then(()=>r)}function bj(n,...e){var t,r,a;n=hn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||OE(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(OE(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let h,p,y;if(n instanceof Wn)p=xr(n.firestore,Ni),y=am(n._key.path),h={next:b=>{e[u]&&e[u](r2(p,n,b))},error:e[u+1],complete:e[u+2]};else{const b=xr(n,Va);p=xr(b.firestore,Ni),y=b._query;const _=new hv(p);h={next:T=>{e[u]&&e[u](new e2(p,_,b,T))},error:e[u+1],complete:e[u+2]},YS(n._query)}return function(_,T,C,P){const I=new J0(P),N=new X0(T,I,C);return _.asyncQueue.enqueueAndForget(async()=>Q0(await kf(_),N)),()=>{I.yu(),_.asyncQueue.enqueueAndForget(async()=>K0(await kf(_),N))}}(ym(p),y,d,h)}function Tm(n,e){return function(r,a){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>F4(await J4(r),a,o)),o.promise}(ym(n),e)}function r2(n,e,t){const r=t.docs.get(e._key),a=new hv(n);return new JS(n,a,e._key,r,new Iu(t.hasPendingWrites,t.fromCache),e.converter)}function xj(){return new rv("serverTimestamp")}(function(e,t=!0){(function(a){hc=a})(dc),tc(new Ro("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new Ni(new dM(r.getProvider("auth-internal")),new mM(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(p.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ta(Pw,kw,e),Ta(Pw,kw,"esm2017")})();var _j="firebase",wj="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(_j,wj,"app");function mv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function s2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ej=s2,i2=new ud("auth","Firebase",s2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new E0("@firebase/auth");function Tj(n,...e){zf.logLevel<=ut.WARN&&zf.warn(`Auth (${dc}): ${n}`,...e)}function df(n,...e){zf.logLevel<=ut.ERROR&&zf.error(`Auth (${dc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,...e){throw pv(n,...e)}function $s(n,...e){return pv(n,...e)}function a2(n,e,t){const r=Object.assign(Object.assign({},Ej()),{[e]:t});return new ud("auth","Firebase",r).create(e,{appName:n.name})}function Ca(n){return a2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return i2.create(n,...e)}function He(n,e,...t){if(!n)throw pv(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw df(e),new Error(e)}function Ii(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Sj(){return jE()==="http:"||jE()==="https:"}function jE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sj()||FI()||"connection"in navigator)?navigator.onLine:!0}function Cj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=zI()||qI()}get(){return Aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n,e){Ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ij=new vd(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ua(n,e,t,r,a={}){return l2(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=dd(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return BI()||(p.referrerPolicy="no-referrer"),o2.fetch()(await c2(n,n.config.apiHost,t,d),p)})}async function l2(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rj),e);try{const a=new Mj(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Qh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Qh(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Qh(n,"user-disabled",u);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw a2(n,y,p);vs(n,y)}}catch(a){if(a instanceof Oi)throw a;vs(n,"network-request-failed",{message:String(a)})}}async function Sm(n,e,t,r,a={}){const o=await Ua(n,e,t,r,a);return"mfaPendingCredential"in o&&vs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function c2(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?gv(n.config,a):`${n.config.apiScheme}://${a}`;return Nj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function Oj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),Ij.get())})}}function Qh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=$s(n,e,r);return a.customData._tokenResponse=t,a}function PE(n){return n!==void 0&&n.enterprise!==void 0}class Dj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Oj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jj(n,e){return Ua(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n,e){return Ua(n,"POST","/v1/accounts:delete",e)}async function Uf(n,e){return Ua(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kj(n,e=!1){const t=hn(n),r=await t.getIdToken(e),a=yv(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Vu(Kg(a.auth_time)),issuedAtTime:Vu(Kg(a.iat)),expirationTime:Vu(Kg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Kg(n){return Number(n)*1e3}function yv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const a=fT(t);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(a){return df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kE(n){const e=yv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Oi&&Lj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Lj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Wu(n,Uf(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?u2(o.providerUserInfo):[],d=Uj(n.providerData,u),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new By(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function zj(n){const e=hn(n);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Uj(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function u2(n){return n.map(e=>{var{providerId:t}=e,r=mv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(n,e){const t=await l2(n,{},async()=>{const r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await c2(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",o2.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fj(n,e){return Ua(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=kE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await Bj(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ll;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new By(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kj(this,e)}reload(){return zj(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Wu(this,Pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,d,h,p,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(d=t.tenantId)!==null&&d!==void 0?d:void 0,I=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,w=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:E,emailVerified:L,isAnonymous:B,providerData:U,stsTokenManager:V}=t;He(E&&V,e,"internal-error");const M=Ll.fromJSON(this.name,V);He(typeof E=="string",e,"internal-error"),na(b,e.name),na(_,e.name),He(typeof L=="boolean",e,"internal-error"),He(typeof B=="boolean",e,"internal-error"),na(T,e.name),na(C,e.name),na(P,e.name),na(I,e.name),na(N,e.name),na(w,e.name);const O=new ms({uid:E,auth:e,email:_,emailVerified:L,displayName:b,isAnonymous:B,photoURL:C,phoneNumber:T,tenantId:P,stsTokenManager:M,createdAt:N,lastLoginAt:w});return U&&Array.isArray(U)&&(O.providerData=U.map(R=>Object.assign({},R))),I&&(O._redirectEventId=I),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ll;a.updateFromServerResponse(t);const o=new ms({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Bf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?u2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Ll;d.updateFromIdToken(r);const h=new ms({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Ti(n){Ii(n instanceof Function,"Expected a class definition");let e=LE.get(n);return e?(Ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d2.type="NONE";const VE=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=hf(this.userKey,a.apiKey,o),this.fullPersistenceKey=hf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uf(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vl(Ti(VE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ti(VE);const u=hf(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const _=await Uf(e,{idToken:y}).catch(()=>{});if(!_)break;b=await ms._fromGetAccountInfoResponse(e,_,y)}else b=ms._fromJSON(e,y);p!==o&&(d=b),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Vl(o,e,r):(o=h[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Vl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y2(e))return"Blackberry";if(v2(e))return"Webos";if(f2(e))return"Safari";if((e.includes("chrome/")||m2(e))&&!e.includes("edge/"))return"Chrome";if(g2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h2(n=Zn()){return/firefox\//i.test(n)}function f2(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m2(n=Zn()){return/crios\//i.test(n)}function p2(n=Zn()){return/iemobile/i.test(n)}function g2(n=Zn()){return/android/i.test(n)}function y2(n=Zn()){return/blackberry/i.test(n)}function v2(n=Zn()){return/webos/i.test(n)}function vv(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qj(n=Zn()){var e;return vv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hj(){return HI()&&document.documentMode===10}function b2(n=Zn()){return vv(n)||g2(n)||v2(n)||y2(n)||/windows phone/i.test(n)||p2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n,e=[]){let t;switch(n){case"Browser":t=zE(Zn());break;case"Worker":t=`${zE(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const h=e(o);u(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n,e={}){return Ua(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=6;class Kj{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Qj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new Gj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uf(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Ca(this));const t=e?hn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $j(this),t=new Kj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ud("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Tj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gc(n){return hn(n)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZI(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xj(n){Am=n}function _2(n){return Am.loadJS(n)}function Wj(){return Am.recaptchaEnterpriseScript}function Zj(){return Am.gapiScript}function Jj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class eP{constructor(){this.enterprise=new tP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nP="recaptcha-enterprise",w2="NO_RECAPTCHA";class rP{constructor(e){this.type=nP,this.auth=gc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{jj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Dj(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,u,d){const h=window.grecaptcha;PE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(w2)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eP().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&PE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Wj();h.length!==0&&(h+=d),_2(h).then(()=>{a(d,o,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function BE(n,e,t,r=!1,a=!1){const o=new rP(n);let u;if(a)u=w2;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function FE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await BE(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await BE(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n,e){const t=S0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Co(o,e??{}))return a;vs(a,"already-initialized")}return t.initialize({options:e})}function iP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aP(n,e,t){const r=gc(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=E2(e),{host:u,port:d}=oP(e),h=d===null?"":`:${d}`,p={url:`${o}//${u}${h}/`},y=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Co(p,r.config.emulator)&&Co(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,lP()}function E2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oP(n){const e=E2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:qE(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:qE(u)}}}function qE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function cP(n,e){return Ua(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,e){return Sm(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e){return Sm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function hP(n,e){return Sm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends bv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,t,"signInWithPassword",uP);case"emailLink":return dP(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,r,"signUpPassword",cP);case"emailLink":return hP(e,{idToken:t,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return Sm(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="http://localhost";class Do extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=mv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Do(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:fP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pP(n){const e=Su(Au(n)).link,t=e?Su(Au(e)).deep_link_id:null,r=Su(Au(n)).deep_link_id;return(r?Su(Au(r)).link:null)||r||t||e||n}class xv{constructor(e){var t,r,a,o,u,d;const h=Su(Au(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,b=mP((a=h.mode)!==null&&a!==void 0?a:null);He(p&&y&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=pP(e);try{return new xv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,t){return Zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xv.parseLink(t);return He(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends T2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends bd{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends bd{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends bd{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ca.credential(t,r)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await ms._fromIdTokenResponse(e,r,a),u=HE(r);return new uc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=HE(r);return new uc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function HE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends Oi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Ff(e,t,r,a)}}function S2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(n,o,e,r):o})}async function gP(n,e,t=!1){const r=await Wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e,t=!1){const{auth:r}=n;if(fs(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const o=await Wu(n,S2(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=yv(o.idToken);He(u,r,"internal-error");const{sub:d}=u;return He(n.uid===d,r,"user-mismatch"),uc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r="signIn",a=await S2(n,r,e),o=await uc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function vP(n,e){return A2(gc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n){const e=gc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xP(n,e,t){return fs(n.app)?Promise.reject(Ca(n)):vP(hn(n),yc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bP(n),r})}function _P(n,e,t,r){return hn(n).onIdTokenChanged(e,t,r)}function wP(n,e,t){return hn(n).beforeAuthStateChanged(e,t)}function EP(n,e,t,r){return hn(n).onAuthStateChanged(e,t,r)}function TP(n){return hn(n).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=1e3,AP=10;class R2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);Hj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,AP):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}R2.type="LOCAL";const CP=R2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N2.type="SESSION";const I2=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,o)),h=await RP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,h)=>{const p=_v("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function IP(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function OP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DP(){return O2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebaseLocalStorageDb",jP=1,Hf="firebaseLocalStorage",D2="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rm(n,e){return n.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function PP(){const n=indexedDB.deleteDatabase(M2);return new xd(n).toPromise()}function Fy(){const n=indexedDB.open(M2,jP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hf,{keyPath:D2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hf)?e(r):(r.close(),await PP(),e(await Fy()))})})}async function GE(n,e,t){const r=Rm(n,!0).put({[D2]:e,value:t});return new xd(r).toPromise()}async function kP(n,e){const t=Rm(n,!1).get(e),r=await new xd(t).toPromise();return r===void 0?null:r.value}function $E(n,e){const t=Rm(n,!0).delete(e);return new xd(t).toPromise()}const LP=800,VP=3;class j2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>VP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(DP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fy();return await GE(e,qf,"1"),await $E(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>GE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>kP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Rm(a,!1).getAll();return new xd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j2.type="LOCAL";const zP=j2;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n,e){return e?Ti(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BP(n){return A2(n.auth,new wv(n),n.bypassAuthState)}function FP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),yP(t,new wv(n),n.bypassAuthState)}async function qP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),gP(t,new wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BP;case"linkViaPopup":case"linkViaRedirect":return qP;case"reauthViaPopup":case"reauthViaRedirect":return FP;default:vs(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new vd(2e3,1e4);class Ol extends P2{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HP.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="pendingRedirect",ff=new Map;class $P extends P2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await QP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QP(n,e){const t=XP(e),r=YP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function KP(n,e){ff.set(n._key(),e)}function YP(n){return Ti(n._redirectPersistence)}function XP(n){return hf(GP,n.config.apiKey,n.name)}async function WP(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r=gc(n),a=UP(r,e),u=await new $P(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=10*60*1e3;class JP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k2(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($s(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZP&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(n,e={}){return Ua(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r3=/^https?/;async function s3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await t3(n);for(const t of e)try{if(i3(t))return}catch{}vs(n,"unauthorized-domain")}function i3(n){const e=Uy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!r3.test(t))return!1;if(n3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new vd(3e4,6e4);function KE(){const n=Qs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function o3(n){return new Promise((e,t)=>{var r,a,o;function u(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),t($s(n,"network-request-failed"))},timeout:a3.get()})}if(!((a=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Qs().gapi)===null||o===void 0)&&o.load)u();else{const d=Jj("iframefcb");return Qs()[d]=()=>{gapi.load?u():t($s(n,"network-request-failed"))},_2(`${Zj()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw mf=null,e})}let mf=null;function l3(n){return mf=mf||o3(n),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new vd(5e3,15e3),u3="__/auth/iframe",d3="emulator/auth/iframe",h3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m3(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gv(e,d3):`https://${n.config.authDomain}/${u3}`,r={apiKey:e.apiKey,appName:n.name,v:dc},a=f3.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dd(r).slice(1)}`}async function p3(n){const e=await l3(n),t=Qs().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:m3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h3,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=$s(n,"network-request-failed"),d=Qs().setTimeout(()=>{o(u)},c3.get());function h(){Qs().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y3=500,v3=600,b3="_blank",x3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _3(n,e,t,r=y3,a=v3){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},g3),{width:r.toString(),height:a.toString(),top:o,left:u}),p=Zn().toLowerCase();t&&(d=m2(p)?b3:t),h2(p)&&(e=e||x3,h.scrollbars="yes");const y=Object.entries(h).reduce((_,[T,C])=>`${_}${T}=${C},`,"");if(qj(p)&&d!=="_self")return w3(e||"",d),new YE(null);const b=window.open(e||"",d,y);He(b,n,"popup-blocked");try{b.focus()}catch{}return new YE(b)}function w3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="__/auth/handler",T3="emulator/auth/handler",S3=encodeURIComponent("fac");async function XE(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:dc,eventId:a};if(e instanceof T2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",WI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof bd){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await n._getAppCheckToken(),p=h?`#${S3}=${encodeURIComponent(h)}`:"";return`${A3(n)}?${dd(d).slice(1)}${p}`}function A3({config:n}){return n.emulator?gv(n,T3):`https://${n.authDomain}/${E3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class C3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I2,this._completeRedirectFn=WP,this._overrideRedirectResult=KP}async _openPopup(e,t,r,a){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await XE(e,t,r,Uy(),a);return _3(e,u,_v())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await XE(e,t,r,Uy(),a);return IP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await p3(e),r=new JP(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yg,{type:Yg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Yg];u!==void 0&&t(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b2()||f2()||vv()}}const R3=C3;var WE="@firebase/auth",ZE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O3(n){tc(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x2(n)},p=new Yj(r,a,o,h);return iP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tc(new Ro("auth-internal",e=>{const t=gc(e.getProvider("auth").getImmediate());return(r=>new N3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(WE,ZE,I3(n)),Ta(WE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=5*60,D3=gT("authIdTokenMaxAge")||M3;let JE=null;const j3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D3)return;const a=t==null?void 0:t.token;JE!==a&&(JE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function P3(n=xT()){const e=S0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sP(n,{popupRedirectResolver:R3,persistence:[zP,CP,I2]}),r=gT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=j3(o.toString());wP(t,u,()=>u(t.currentUser)),_P(t,d=>u(d))}}const a=mT("auth");return a&&aP(t,`http://${a}`),t}function k3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Xj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=$s("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",k3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O3("Browser");const L3={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},V3=bT(L3),Xg=P3(),bn=sj(V3),z3=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await za(Lr(bn,"headline")),a=[];r.forEach(o=>{const u=o.data();u.news&&a.push(u.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),m.jsxs("div",{className:"w-[100%] md:w-[75%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[m.jsx("div",{className:"shrink-0 whitespace-nowrap text-[14px]",children:m.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})}),m.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:m.jsx(lT,{children:n.map((t,r)=>m.jsx("span",{className:"mx-4",children:t},r))})}),m.jsxs("div",{className:"flex flex-row gap-1 md:gap-2 shrink-0",children:[m.jsx("a",{href:"",children:m.jsx(SI,{})}),m.jsx("a",{href:"",children:m.jsx(CI,{})}),m.jsx("a",{href:"",children:m.jsx(AI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),e1=n=>{const e=B3(n);return e.charAt(0).toUpperCase()+e.slice(1)},L2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),F3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...d},h)=>q.createElement("svg",{ref:h,...q3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:L2("lucide",a),...!o&&!F3(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(H3,{ref:o,iconNode:e,className:L2(`lucide-${U3(e1(n))}`,`lucide-${n}`,r),...a}));return t.displayName=e1(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$3=Fn("chevron-down",G3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],K3=Fn("chevron-up",Q3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wg=Fn("clock",Y3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],W3=Fn("facebook",X3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],J3=Fn("house",Z3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],tk=Fn("instagram",ek);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rk=Fn("list",nk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ik=Fn("mail",sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ok=Fn("map-pin",ak);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],ck=Fn("menu",lk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M5 12h14",key:"1ays0h"}]],dk=Fn("minus",uk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],V2=Fn("phone",hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mk=Fn("plus",fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zg=Fn("search",pk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pf=Fn("shopping-cart",gk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],vk=Fn("twitter",yk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qy=Fn("x",bk),t1="/assets/Untitled%20design%20(1)-d8yNnjIf.png",xk=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=q.useState(t);q.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},u=()=>r.reduce((p,y)=>{const b=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(b)*y.quantity},0),d=p=>{const y=r.filter(b=>b.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new Event("cartUpdated"))},h=(p,y)=>{const b=r.map(_=>{if(_.id===p){const T=_.quantity+y;return{..._,quantity:T>0?T:1}}return _});a(b),localStorage.setItem("cart",JSON.stringify(b)),window.dispatchEvent(new Event("cartUpdated"))};return m.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:m.jsx("div",{className:"w-screen max-w-md",children:m.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[m.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:m.jsx(qy,{className:"h-6 w-6"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?m.jsxs("div",{className:"text-center mt-12",children:[m.jsx(pf,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),m.jsx("div",{className:"mt-6",children:m.jsx(St,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):m.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var _,T;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),b=Math.floor(y)*p.quantity;return m.jsxs("li",{className:"py-6 flex gap-4",children:[m.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:m.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[m.jsx("h3",{children:p.name}),m.jsxs("p",{children:["৳",o(b)]})]}),((_=p.color)==null?void 0:_.name)&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",m.jsx("span",{className:"capitalize",children:p.color.name})]}),((T=p.size)==null?void 0:T.size)&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",m.jsx("span",{className:"uppercase",children:p.size.size})]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>h(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:m.jsx(dk,{className:"w-4 h-4"})}),m.jsx("span",{className:"text-sm",children:p.quantity}),m.jsx("button",{onClick:()=>h(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:m.jsx(mk,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>d(p.id),className:"text-red-600 hover:text-red-500",children:m.jsx(qy,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&m.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[m.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[m.jsx("p",{children:"Subtotal"}),m.jsxs("p",{children:["৳",o(u())]})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[m.jsx(St,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),m.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},_k=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[u,d]=q.useState([]),[h,p]=q.useState(!0),[y,b]=q.useState(0),[_,T]=q.useState(!1),[C,P]=q.useState([]);q.useEffect(()=>{(async()=>{try{const w=Mo(Lr(bn,"menu-categories"),fj("order")),E=await za(w),L=[];E.forEach(B=>{L.push({id:B.id,...B.data()})}),d(L),p(!1)}catch(w){console.error("Error fetching menu items:",w),p(!1)}})()},[]),q.useEffect(()=>{const N=()=>{const w=JSON.parse(localStorage.getItem("cart"))||[],E=w.reduce((L,B)=>L+B.quantity,0);b(E),P(w)};return N(),window.addEventListener("storage",N),window.addEventListener("cartUpdated",N),()=>{window.removeEventListener("storage",N),window.removeEventListener("cartUpdated",N)}},[]);const I=N=>{o(w=>w===N?null:N)};return h?m.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsx(St,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),u.map(N=>N.type==="dropdown"?m.jsxs("div",{className:"group relative",children:[m.jsx(St,{to:`/category/${N.id}`,className:"text-gray-700 hover:text-black capitalize",children:N.id}),m.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:N.items.map(w=>m.jsx(St,{to:`${w.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:w.name},w.path))})]},N.id):m.jsx(St,{to:N.path,className:"text-gray-700 hover:text-black capitalize",children:N.id},N.id))]}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(St,{to:"/",children:m.jsx("img",{src:t1,alt:"Brand Logo",className:"h-[190px] w-auto"})})}),m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsxs("div",{className:"group relative",children:[m.jsx(St,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),m.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:u.filter(N=>N.type==="dropdown").map(N=>m.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:N.id}),m.jsx("div",{className:"space-y-1",children:N.items.map(w=>m.jsx(St,{to:`${w.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:w.name},w.path))})]},N.id))})]}),m.jsx(St,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),m.jsxs("button",{onClick:()=>T(!0),className:"text-gray-700 hover:text-black relative",children:[m.jsx(pf,{size:20}),y>0&&m.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(Zg,{size:20})}),t&&m.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]})]}),m.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>e(!n),children:n?m.jsx(qy,{size:24}):m.jsx(ck,{size:24})})}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(St,{to:"/",children:m.jsx("img",{src:t1,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(Zg,{size:24})})})]})]}),n&&m.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[m.jsx(St,{to:"/",className:"block font-semibold",children:"Home"}),u.map(N=>N.type==="dropdown"?m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>I(N.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[N.id,a===N.id?m.jsx(K3,{size:18}):m.jsx($3,{size:18})]}),a===N.id&&m.jsx("div",{className:"ml-4 mt-2 space-y-1",children:N.items.map(w=>m.jsx(St,{to:`${w.path}`,className:"block capitalize",children:w.name},w.path))})]},N.id):m.jsx(St,{to:N.path,className:"block font-semibold capitalize",children:N.id},N.id)),m.jsx(St,{to:"/orders",className:"block font-semibold",children:"Orders"}),m.jsxs("button",{onClick:()=>{e(!1),T(!0)},className:"flex items-center space-x-2 relative",children:[m.jsx(pf,{size:20}),m.jsx("span",{children:"Cart"}),y>0&&m.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[m.jsx(Zg,{size:20}),m.jsx("span",{children:"Search"})]}),t&&m.jsx("div",{className:"mt-2",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]}),m.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:m.jsxs("div",{className:"flex justify-around items-center h-16",children:[m.jsxs(St,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(J3,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),m.jsxs(St,{to:"/all-categories",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(rk,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),m.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[m.jsx(pf,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&m.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),m.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(V2,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),m.jsx(xk,{isOpen:_,onClose:()=>T(!1),cartItems:C})]})},wk=()=>m.jsx("div",{children:m.jsx("div",{children:m.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:m.jsx(lT,{children:"hnbkjbndsfh;kln"})})})});var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function vr(){}function Ek(n,e){return typeof n=="function"?n(e):n}function Hy(n){return typeof n=="number"&&n>=0&&n!==1/0}function z2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ul(n,e){return typeof n=="function"?n(e):n}function hs(n,e){return typeof n=="function"?n(e):n}function n1(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==Ev(u,e.options))return!1}else if(!ed(e.queryKey,u))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function r1(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Ju(e.options.mutationKey)!==Ju(o))return!1}else if(!ed(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Ev(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ju)(n)}function Ju(n){return JSON.stringify(n,(e,t)=>$y(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ed(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ed(n[t],e[t])):!1}function U2(n,e){if(n===e)return n;const t=s1(n)&&s1(e);if(t||$y(n)&&$y(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,d=t?[]:{};let h=0;for(let p=0;p<u;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(d[y]=void 0,h++):(d[y]=U2(n[y],e[y]),d[y]===n[y]&&n[y]!==void 0&&h++)}return a===u&&h===a?n:d}return e}function Gy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function s1(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function $y(n){if(!i1(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!i1(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function i1(n){return Object.prototype.toString.call(n)==="[object Object]"}function Tk(n){return new Promise(e=>{setTimeout(e,n)})}function Qy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?U2(n,e):e}function Sk(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Ak(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Tv=Symbol();function B2(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Tv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Ck(n,e){return typeof n=="function"?n(...e):!!n}var vo,ua,Fl,R1,Rk=(R1=class extends _d{constructor(){super();Qe(this,vo);Qe(this,ua);Qe(this,Fl);Ie(this,Fl,e=>{if(!jo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ua)||this.setEventListener(Y(this,Fl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ua))==null||e.call(this),Ie(this,ua,void 0))}setEventListener(e){var t;Ie(this,Fl,e),(t=Y(this,ua))==null||t.call(this),Ie(this,ua,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,vo)!==e&&(Ie(this,vo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,vo)=="boolean"?Y(this,vo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vo=new WeakMap,ua=new WeakMap,Fl=new WeakMap,R1),Sv=new Rk,ql,da,Hl,N1,Nk=(N1=class extends _d{constructor(){super();Qe(this,ql,!0);Qe(this,da);Qe(this,Hl);Ie(this,Hl,e=>{if(!jo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,da)||this.setEventListener(Y(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,da))==null||e.call(this),Ie(this,da,void 0))}setEventListener(e){var t;Ie(this,Hl,e),(t=Y(this,da))==null||t.call(this),Ie(this,da,e(this.setOnline.bind(this)))}setOnline(e){Y(this,ql)!==e&&(Ie(this,ql,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,ql)}},ql=new WeakMap,da=new WeakMap,Hl=new WeakMap,N1),Gf=new Nk;function Ky(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Ik(n){return Math.min(1e3*2**n,3e4)}function F2(n){return(n??"online")==="online"?Gf.isOnline():!0}var q2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Jg(n){return n instanceof q2}function H2(n){let e=!1,t=0,r=!1,a;const o=Ky(),u=P=>{var I;r||(_(new q2(P)),(I=n.abort)==null||I.call(n))},d=()=>{e=!0},h=()=>{e=!1},p=()=>Sv.isFocused()&&(n.networkMode==="always"||Gf.isOnline())&&n.canRun(),y=()=>F2(n.networkMode)&&n.canRun(),b=P=>{var I;r||(r=!0,(I=n.onSuccess)==null||I.call(n,P),a==null||a(),o.resolve(P))},_=P=>{var I;r||(r=!0,(I=n.onError)==null||I.call(n,P),a==null||a(),o.reject(P))},T=()=>new Promise(P=>{var I;a=N=>{(r||p())&&P(N)},(I=n.onPause)==null||I.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),C=()=>{if(r)return;let P;const I=t===0?n.initialPromise:void 0;try{P=I??n.fn()}catch(N){P=Promise.reject(N)}Promise.resolve(P).then(b).catch(N=>{var U;if(r)return;const w=n.retry??(jo?0:3),E=n.retryDelay??Ik,L=typeof E=="function"?E(t,N):E,B=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,N);if(e||!B){_(N);return}t++,(U=n.onFail)==null||U.call(n,t,N),Tk(L).then(()=>p()?void 0:T()).then(()=>{e?_(N):C()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?C():T().then(C),o)}}var Ok=n=>setTimeout(n,0);function Mk(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=Ok;const o=d=>{e?n.push(d):a(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var zn=Mk(),bo,I1,G2=(I1=class{constructor(){Qe(this,bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hy(this.gcTime)&&Ie(this,bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(jo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,bo)&&(clearTimeout(Y(this,bo)),Ie(this,bo,void 0))}},bo=new WeakMap,I1),Gl,$l,es,xo,Kn,nd,_o,us,xi,O1,Dk=(O1=class extends G2{constructor(e){super();Qe(this,us);Qe(this,Gl);Qe(this,$l);Qe(this,es);Qe(this,xo);Qe(this,Kn);Qe(this,nd);Qe(this,_o);Ie(this,_o,!1),Ie(this,nd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,xo,e.client),Ie(this,es,Y(this,xo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Gl,jk(this.options)),this.state=e.state??Y(this,Gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,nd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,es).remove(this)}setData(e,t){const r=Qy(this.state.data,e,this.options);return mt(this,us,xi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){mt(this,us,xi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Kn))==null?void 0:r.promise;return(a=Y(this,Kn))==null||a.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Gl))}isActive(){return this.observers.some(e=>hs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!z2(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Kn)&&(Y(this,_o)?Y(this,Kn).cancel({revert:!0}):Y(this,Kn).cancelRetry()),this.scheduleGc()),Y(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,us,xi).call(this,{type:"invalidate"})}fetch(e,t){var h,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Kn))return Y(this,Kn).continueRetry(),Y(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Ie(this,_o,!0),r.signal)})},o=()=>{const b=B2(this.options,t),_={client:Y(this,xo),queryKey:this.queryKey,meta:this.meta};return a(_),Ie(this,_o,!1),this.options.persister?this.options.persister(b,_,this):b(_)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,xo),state:this.state,fetchFn:o};a(u),(h=this.options.behavior)==null||h.onFetch(u,this),Ie(this,$l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&mt(this,us,xi).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const d=b=>{var _,T,C,P;Jg(b)&&b.silent||mt(this,us,xi).call(this,{type:"error",error:b}),Jg(b)||((T=(_=Y(this,es).config).onError)==null||T.call(_,b,this),(P=(C=Y(this,es).config).onSettled)==null||P.call(C,this.state.data,b,this)),this.scheduleGc()};return Ie(this,Kn,H2({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var _,T,C,P;if(b===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(I){d(I);return}(T=(_=Y(this,es).config).onSuccess)==null||T.call(_,b,this),(P=(C=Y(this,es).config).onSettled)==null||P.call(C,b,this.state.error,this),this.scheduleGc()},onError:d,onFail:(b,_)=>{mt(this,us,xi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{mt(this,us,xi).call(this,{type:"pause"})},onContinue:()=>{mt(this,us,xi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,Kn).start()}},Gl=new WeakMap,$l=new WeakMap,es=new WeakMap,xo=new WeakMap,Kn=new WeakMap,nd=new WeakMap,_o=new WeakMap,us=new WeakSet,xi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Jg(a)&&a.revert&&Y(this,$l)?{...Y(this,$l),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,es).notify({query:this,type:"updated",action:e})})},O1);function $2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F2(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function jk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Us,M1,Pk=(M1=class extends _d{constructor(e={}){super();Qe(this,Us);this.config=e,Ie(this,Us,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Ev(a,t);let u=this.get(o);return u||(u=new Dk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){Y(this,Us).has(e.queryHash)||(Y(this,Us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Us).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Us).get(e)}getAll(){return[...Y(this,Us).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>n1(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>n1(e,r)):t}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Us=new WeakMap,M1),Bs,or,wo,Fs,sa,D1,kk=(D1=class extends G2{constructor(e){super();Qe(this,Fs);Qe(this,Bs);Qe(this,or);Qe(this,wo);this.mutationId=e.mutationId,Ie(this,or,e.mutationCache),Ie(this,Bs,[]),this.state=e.state||Lk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Bs).includes(e)||(Y(this,Bs).push(e),this.clearGcTimeout(),Y(this,or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Bs,Y(this,Bs).filter(t=>t!==e)),this.scheduleGc(),Y(this,or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,or).remove(this))}continue(){var e;return((e=Y(this,wo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,d,h,p,y,b,_,T,C,P,I,N,w,E,L,B,U,V,M;const t=()=>{mt(this,Fs,sa).call(this,{type:"continue"})};Ie(this,wo,H2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,R)=>{mt(this,Fs,sa).call(this,{type:"failed",failureCount:O,error:R})},onPause:()=>{mt(this,Fs,sa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,or).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,wo).canStart();try{if(r)t();else{mt(this,Fs,sa).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=Y(this,or).config).onMutate)==null?void 0:u.call(o,e,this));const R=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));R!==this.state.context&&mt(this,Fs,sa).call(this,{type:"pending",context:R,variables:e,isPaused:a})}const O=await Y(this,wo).start();return await((y=(p=Y(this,or).config).onSuccess)==null?void 0:y.call(p,O,e,this.state.context,this)),await((_=(b=this.options).onSuccess)==null?void 0:_.call(b,O,e,this.state.context)),await((C=(T=Y(this,or).config).onSettled)==null?void 0:C.call(T,O,null,this.state.variables,this.state.context,this)),await((I=(P=this.options).onSettled)==null?void 0:I.call(P,O,null,e,this.state.context)),mt(this,Fs,sa).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(N=Y(this,or).config).onError)==null?void 0:w.call(N,O,e,this.state.context,this)),await((L=(E=this.options).onError)==null?void 0:L.call(E,O,e,this.state.context)),await((U=(B=Y(this,or).config).onSettled)==null?void 0:U.call(B,void 0,O,this.state.variables,this.state.context,this)),await((M=(V=this.options).onSettled)==null?void 0:M.call(V,void 0,O,e,this.state.context)),O}finally{mt(this,Fs,sa).call(this,{type:"error",error:O})}}finally{Y(this,or).runNext(this)}}},Bs=new WeakMap,or=new WeakMap,wo=new WeakMap,Fs=new WeakSet,sa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zn.batch(()=>{Y(this,Bs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,or).notify({mutation:this,type:"updated",action:e})})},D1);function Lk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,ds,rd,j1,Vk=(j1=class extends _d{constructor(e={}){super();Qe(this,wi);Qe(this,ds);Qe(this,rd);this.config=e,Ie(this,wi,new Set),Ie(this,ds,new Map),Ie(this,rd,0)}build(e,t,r){const a=new kk({mutationCache:this,mutationId:++Vh(this,rd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,wi).add(e);const t=Kh(e);if(typeof t=="string"){const r=Y(this,ds).get(t);r?r.push(e):Y(this,ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,wi).delete(e)){const t=Kh(e);if(typeof t=="string"){const r=Y(this,ds).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Kh(e);if(typeof t=="string"){const r=Y(this,ds).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Kh(e);if(typeof t=="string"){const a=(r=Y(this,ds).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{Y(this,wi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,wi).clear(),Y(this,ds).clear()})}getAll(){return Array.from(Y(this,wi))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>r1(t,r))}findAll(e={}){return this.getAll().filter(t=>r1(e,t))}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},wi=new WeakMap,ds=new WeakMap,rd=new WeakMap,j1);function Kh(n){var e;return(e=n.options.scope)==null?void 0:e.id}function $f(n){return{onFetch:(e,t)=>{var y,b,_,T,C;const r=e.options,a=(_=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:_.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],u=((C=e.state.data)==null?void 0:C.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let P=!1;const I=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},N=B2(e.options,e.fetchOptions),w=async(E,L,B)=>{if(P)return Promise.reject();if(L==null&&E.pages.length)return Promise.resolve(E);const U={client:e.client,queryKey:e.queryKey,pageParam:L,direction:B?"backward":"forward",meta:e.options.meta};I(U);const V=await N(U),{maxPages:M}=e.options,O=B?Ak:Sk;return{pages:O(E.pages,V,M),pageParams:O(E.pageParams,L,M)}};if(a&&o.length){const E=a==="backward",L=E?Q2:Yy,B={pages:o,pageParams:u},U=L(r,B);d=await w(B,U,E)}else{const E=n??o.length;do{const L=h===0?u[0]??r.initialPageParam:Yy(r,d);if(h>0&&L==null)break;d=await w(d,L),h++}while(h<E)}return d};e.options.persister?e.fetchFn=()=>{var P,I;return(I=(P=e.options).persister)==null?void 0:I.call(P,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function Yy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function Q2(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function zk(n,e){return e?Yy(n,e)!=null:!1}function Uk(n,e){return!e||!n.getPreviousPageParam?!1:Q2(n,e)!=null}var Jt,ha,fa,Ql,Kl,ma,Yl,Xl,P1,Bk=(P1=class{constructor(n={}){Qe(this,Jt);Qe(this,ha);Qe(this,fa);Qe(this,Ql);Qe(this,Kl);Qe(this,ma);Qe(this,Yl);Qe(this,Xl);Ie(this,Jt,n.queryCache||new Pk),Ie(this,ha,n.mutationCache||new Vk),Ie(this,fa,n.defaultOptions||{}),Ie(this,Ql,new Map),Ie(this,Kl,new Map),Ie(this,ma,0)}mount(){Vh(this,ma)._++,Y(this,ma)===1&&(Ie(this,Yl,Sv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onFocus())})),Ie(this,Xl,Gf.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onOnline())})))}unmount(){var n,e;Vh(this,ma)._--,Y(this,ma)===0&&((n=Y(this,Yl))==null||n.call(this),Ie(this,Yl,void 0),(e=Y(this,Xl))==null||e.call(this),Ie(this,Xl,void 0))}isFetching(n){return Y(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,ha).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ul(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Jt).get(r.queryHash),o=a==null?void 0:a.state.data,u=Ek(e,o);if(u!==void 0)return Y(this,Jt).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return zn.batch(()=>Y(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Jt);zn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Jt);return zn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=zn.batch(()=>Y(this,Jt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return zn.batch(()=>(Y(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>Y(this,Jt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Jt).build(this,e);return t.isStaleByTime(Ul(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=$f(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=$f(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Gf.isOnline()?Y(this,ha).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Jt)}getMutationCache(){return Y(this,ha)}getDefaultOptions(){return Y(this,fa)}setDefaultOptions(n){Ie(this,fa,n)}setQueryDefaults(n,e){Y(this,Ql).set(Ju(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Ql).values()],t={};return e.forEach(r=>{ed(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Kl).set(Ju(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Kl).values()],t={};return e.forEach(r=>{ed(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,fa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Ev(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,fa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Jt).clear(),Y(this,ha).clear()}},Jt=new WeakMap,ha=new WeakMap,fa=new WeakMap,Ql=new WeakMap,Kl=new WeakMap,ma=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,P1),gr,pt,sd,lr,Eo,Wl,pa,ga,id,Zl,Jl,To,So,ya,ec,Rt,Ou,Xy,Wy,Zy,Jy,e0,t0,n0,Y2,k1,K2=(k1=class extends _d{constructor(e,t){super();Qe(this,Rt);Qe(this,gr);Qe(this,pt);Qe(this,sd);Qe(this,lr);Qe(this,Eo);Qe(this,Wl);Qe(this,pa);Qe(this,ga);Qe(this,id);Qe(this,Zl);Qe(this,Jl);Qe(this,To);Qe(this,So);Qe(this,ya);Qe(this,ec,new Set);this.options=t,Ie(this,gr,e),Ie(this,ga,null),Ie(this,pa,Ky()),this.options.experimental_prefetchInRender||Y(this,pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,pt).addObserver(this),a1(Y(this,pt),this.options)?mt(this,Rt,Ou).call(this):this.updateResult(),mt(this,Rt,Jy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r0(Y(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r0(Y(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Rt,e0).call(this),mt(this,Rt,t0).call(this),Y(this,pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,pt);if(this.options=Y(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,Y(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Rt,n0).call(this),Y(this,pt).setOptions(this.options),t._defaulted&&!Gy(this.options,t)&&Y(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,pt),observer:this});const a=this.hasListeners();a&&o1(Y(this,pt),r,this.options,t)&&mt(this,Rt,Ou).call(this),this.updateResult(),a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||Ul(this.options.staleTime,Y(this,pt))!==Ul(t.staleTime,Y(this,pt)))&&mt(this,Rt,Xy).call(this);const o=mt(this,Rt,Wy).call(this);a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||o!==Y(this,ya))&&mt(this,Rt,Zy).call(this,o)}getOptimisticResult(e){const t=Y(this,gr).getQueryCache().build(Y(this,gr),e),r=this.createResult(t,e);return qk(this,r)&&(Ie(this,lr,r),Ie(this,Wl,this.options),Ie(this,Eo,Y(this,pt).state)),r}getCurrentResult(){return Y(this,lr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,ec).add(e)}getCurrentQuery(){return Y(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,gr).defaultQueryOptions(e),r=Y(this,gr).getQueryCache().build(Y(this,gr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return mt(this,Rt,Ou).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,lr)))}createResult(e,t){var O;const r=Y(this,pt),a=this.options,o=Y(this,lr),u=Y(this,Eo),d=Y(this,Wl),p=e!==r?e.state:Y(this,sd),{state:y}=e;let b={...y},_=!1,T;if(t._optimisticResults){const R=this.hasListeners(),D=!R&&a1(e,t),F=R&&o1(e,r,t,a);(D||F)&&(b={...b,...$2(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:C,errorUpdatedAt:P,status:I}=b;T=b.data;let N=!1;if(t.placeholderData!==void 0&&T===void 0&&I==="pending"){let R;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(R=o.data,N=!0):R=typeof t.placeholderData=="function"?t.placeholderData((O=Y(this,Jl))==null?void 0:O.state.data,Y(this,Jl)):t.placeholderData,R!==void 0&&(I="success",T=Qy(o==null?void 0:o.data,R,t),_=!0)}if(t.select&&T!==void 0&&!N)if(o&&T===(u==null?void 0:u.data)&&t.select===Y(this,id))T=Y(this,Zl);else try{Ie(this,id,t.select),T=t.select(T),T=Qy(o==null?void 0:o.data,T,t),Ie(this,Zl,T),Ie(this,ga,null)}catch(R){Ie(this,ga,R)}Y(this,ga)&&(C=Y(this,ga),T=Y(this,Zl),P=Date.now(),I="error");const w=b.fetchStatus==="fetching",E=I==="pending",L=I==="error",B=E&&w,U=T!==void 0,M={status:I,fetchStatus:b.fetchStatus,isPending:E,isSuccess:I==="success",isError:L,isInitialLoading:B,isLoading:B,data:T,dataUpdatedAt:b.dataUpdatedAt,error:C,errorUpdatedAt:P,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&!E,isLoadingError:L&&!U,isPaused:b.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:L&&U,isStale:Av(e,t),refetch:this.refetch,promise:Y(this,pa)};if(this.options.experimental_prefetchInRender){const R=k=>{M.status==="error"?k.reject(M.error):M.data!==void 0&&k.resolve(M.data)},D=()=>{const k=Ie(this,pa,M.promise=Ky());R(k)},F=Y(this,pa);switch(F.status){case"pending":e.queryHash===r.queryHash&&R(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&D();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&D();break}}return M}updateResult(){const e=Y(this,lr),t=this.createResult(Y(this,pt),this.options);if(Ie(this,Eo,Y(this,pt).state),Ie(this,Wl,this.options),Y(this,Eo).data!==void 0&&Ie(this,Jl,Y(this,pt)),Gy(t,e))return;Ie(this,lr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,ec).size)return!0;const u=new Set(o??Y(this,ec));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,lr)).some(d=>{const h=d;return Y(this,lr)[h]!==e[h]&&u.has(h)})};mt(this,Rt,Y2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Rt,Jy).call(this)}},gr=new WeakMap,pt=new WeakMap,sd=new WeakMap,lr=new WeakMap,Eo=new WeakMap,Wl=new WeakMap,pa=new WeakMap,ga=new WeakMap,id=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,To=new WeakMap,So=new WeakMap,ya=new WeakMap,ec=new WeakMap,Rt=new WeakSet,Ou=function(e){mt(this,Rt,n0).call(this);let t=Y(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},Xy=function(){mt(this,Rt,e0).call(this);const e=Ul(this.options.staleTime,Y(this,pt));if(jo||Y(this,lr).isStale||!Hy(e))return;const r=z2(Y(this,lr).dataUpdatedAt,e)+1;Ie(this,To,setTimeout(()=>{Y(this,lr).isStale||this.updateResult()},r))},Wy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,pt)):this.options.refetchInterval)??!1},Zy=function(e){mt(this,Rt,t0).call(this),Ie(this,ya,e),!(jo||hs(this.options.enabled,Y(this,pt))===!1||!Hy(Y(this,ya))||Y(this,ya)===0)&&Ie(this,So,setInterval(()=>{(this.options.refetchIntervalInBackground||Sv.isFocused())&&mt(this,Rt,Ou).call(this)},Y(this,ya)))},Jy=function(){mt(this,Rt,Xy).call(this),mt(this,Rt,Zy).call(this,mt(this,Rt,Wy).call(this))},e0=function(){Y(this,To)&&(clearTimeout(Y(this,To)),Ie(this,To,void 0))},t0=function(){Y(this,So)&&(clearInterval(Y(this,So)),Ie(this,So,void 0))},n0=function(){const e=Y(this,gr).getQueryCache().build(Y(this,gr),this.options);if(e===Y(this,pt))return;const t=Y(this,pt);Ie(this,pt,e),Ie(this,sd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},Y2=function(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,lr))}),Y(this,gr).getQueryCache().notify({query:Y(this,pt),type:"observerResultsUpdated"})})},k1);function Fk(n,e){return hs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function a1(n,e){return Fk(n,e)||n.state.data!==void 0&&r0(n,e,e.refetchOnMount)}function r0(n,e,t){if(hs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Av(n,e)}return!1}function o1(n,e,t,r){return(n!==e||hs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Av(n,t)}function Av(n,e){return hs(e.enabled,n)!==!1&&n.isStaleByTime(Ul(e.staleTime,n))}function qk(n,e){return!Gy(n.getCurrentResult(),e)}var Hk=class extends K2{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:$f()})}getOptimisticResult(n){return n.behavior=$f(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var C,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:d}=r,h=(P=(C=t.fetchMeta)==null?void 0:C.fetchMore)==null?void 0:P.direction,p=u&&h==="forward",y=a&&h==="forward",b=u&&h==="backward",_=a&&h==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:zk(e,t.data),hasPreviousPage:Uk(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:b,isFetchingPreviousPage:_,isRefetchError:d&&!p&&!b,isRefetching:o&&!y&&!_}}},X2=q.createContext(void 0),Gk=n=>{const e=q.useContext(X2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$k=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(X2.Provider,{value:n,children:e})),W2=q.createContext(!1),Qk=()=>q.useContext(W2);W2.Provider;function Kk(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Yk=q.createContext(Kk()),Xk=()=>q.useContext(Yk),Wk=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Zk=n=>{q.useEffect(()=>{n.clearReset()},[n])},Jk=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||Ck(t,[n.error,r])),eL=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},tL=(n,e)=>n.isLoading&&n.isFetching&&!e,nL=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,l1=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Z2(n,e,t){var b,_,T,C,P;const r=Gk(),a=Qk(),o=Xk(),u=r.defaultQueryOptions(n);(_=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u),u._optimisticResults=a?"isRestoring":"optimistic",eL(u),Wk(u,o),Zk(o);const d=!r.getQueryCache().get(u.queryHash),[h]=q.useState(()=>new e(r,u)),p=h.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(I=>{const N=y?h.subscribe(zn.batchCalls(I)):vr;return h.updateResult(),N},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),q.useEffect(()=>{h.setOptions(u)},[u,h]),nL(u,p))throw l1(u,h,o);if(Jk({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((C=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||C.call(T,u,p),u.experimental_prefetchInRender&&!jo&&tL(p,a)){const I=d?l1(u,h,o):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;I==null||I.catch(vr).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?p:h.trackResult(p)}function rL(n,e){return Z2(n,K2)}function J2(n,e){return Z2(n,Hk)}const sL="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",eA=()=>{const n=new Date().getFullYear();return m.jsx("footer",{className:"bg-gray-100 mt-20 text-gray-700 play-regular w-full border-t border-gray-200",children:m.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:" flex flex-row items-center justify-between gap-8",children:[m.jsx("div",{className:"w-full   flex justify-start border-b border-gray-200",children:m.jsx(St,{to:"/",className:"flex justify-center",children:m.jsx("img",{src:sL,alt:"Brand Logo",className:" h-24 md:h-40 object-cover"})})}),m.jsx("div",{children:m.jsx("p",{children:"Mahira Collection Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়। আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক। মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন। ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা। Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়। আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি। দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে। আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি। বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি। Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।"})})]}),m.jsxs("div",{className:"max-w-7xl mx-auto pt-10",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About Us"}),m.jsx("p",{className:"text-sm leading-relaxed mb-4",children:"We are dedicated to providing the best products and services to our customers with quality and care."}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-gray-500 hover:text-blue-600 transition-colors",children:m.jsx(W3,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-500 hover:text-pink-500 transition-colors",children:m.jsx(tk,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-500 hover:text-sky-500 transition-colors",children:m.jsx(vk,{size:20})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),m.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((e,t)=>m.jsx("li",{children:m.jsx(St,{to:e.path,className:"hover:text-blue-600 transition-colors",children:e.name})},t))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(ok,{size:18,className:"mt-0.5 flex-shrink-0"}),m.jsx("span",{children:"123 Street Name, City, Country"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(ik,{size:18}),m.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(V2,{size:18}),m.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Wg,{size:18}),m.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Wg,{size:18}),m.jsx("span",{children:"Saturday: 10am - 6pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Wg,{size:18}),m.jsx("span",{children:"Sunday: Closed"})]})]})]})]}),m.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200",children:m.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-2",children:"Subscribe to Our Newsletter"}),m.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[m.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full sm:w-auto flex-grow px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Subscribe"})]})]})}),m.jsx("div",{className:"mt-2 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:m.jsxs("p",{children:["© ",n," Your Company Name. All rights reserved."]})})]})]})})},iL=new Bk;function aL(){return m.jsx(m.Fragment,{children:m.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto px-[1px] bg-gray-100 shadow-xl",children:m.jsxs($k,{client:iL,children:[m.jsx(z3,{}),m.jsx(wk,{}),m.jsx(_k,{}),m.jsx(NN,{}),m.jsx(eA,{})]})})})}const tA=()=>{const[t,r]=lI(),a=Number(t.get("page"))||1,[o,u]=q.useState(!1),d=q.useRef(null),h=I=>(typeof I!="number"&&(I=parseFloat(I)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(I)),{data:p=[],isLoading:y}=rL({queryKey:["allProducts"],queryFn:async()=>{const I=await za(Lr(bn,"products")),N=[];I.forEach(E=>{const L=E.data();L.available&&L.stock>0&&N.push({id:E.id,...L})});const w=[...N];for(let E=w.length-1;E>0;E--){const L=Math.floor(Math.random()*(E+1));[w[E],w[L]]=[w[L],w[E]]}return w},staleTime:1/0,cacheTime:24*60*60*1e3}),b=p.slice(0,3+(a-1)*2),_=I=>{var E;const N=JSON.parse(localStorage.getItem("cart"))||[],w=N.find(L=>L.id===I.id);w?w.quantity+=1:N.push({id:I.id,name:I.name,price:I.discount?Math.round(I.price-I.price*(I.discount/100)):Math.round(I.price),image:I.mainImage||((E=I.images)==null?void 0:E[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(N)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},T=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:_(I)},C=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:(_(I),window.location.href="/cart")},P=async()=>{const I=window.scrollY||document.documentElement.scrollTop;u(!0),await new Promise(N=>setTimeout(N,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,I),u(!1)},0)};return y?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):m.jsxs("div",{className:"px-4 min-h-screen",ref:d,children:[m.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),b.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:b.map(I=>{var O;const N=I.discount&&I.discount>0,w=I.colorVariants&&I.colorVariants.length>0,L=window.innerWidth<768?17:25,B=I.name.length>L,U=B?`${I.name.substring(0,L)}...`:I.name,V=N?Math.round(I.price-I.price*(I.discount/100)):null,M=N?V:Math.round(I.price);return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(St,{to:`/product/${I.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:I.mainImage||((O=I.images)==null?void 0:O[0])||"/placeholder-product.jpg",alt:I.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),N&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[I.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[U,B&&m.jsx(St,{to:`/product/${I.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(M)]}),N&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",h(Math.round(I.price))]})})]}),I.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",I.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>T(I),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:w?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>C(I),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${I.stock>0?"text-green-600":"text-red-500"}`,children:I.stock>0?"In Stock":"Out of Stock"}),I.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[I.stock," units"]})]})]})]},I.id)})}),p.length>b.length&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:P,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function c1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Cv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:c1(e[r])&&c1(n[r])&&Object.keys(e[r]).length>0&&Cv(n[r],e[r])})}const nA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gs(){const n=typeof document<"u"?document:{};return Cv(n,nA),n}const oL={document:nA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function cr(){const n=typeof window<"u"?window:{};return Cv(n,oL),n}function lL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function cL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function s0(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Ao(){return Date.now()}function uL(n){const e=cr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function dL(n,e){e===void 0&&(e="x");const t=cr();let r,a,o;const u=uL(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Mu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function hL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Pr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!hL(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const d=a[o],h=Object.getOwnPropertyDescriptor(r,d);h!==void 0&&h.enumerable&&(Mu(n[d])&&Mu(r[d])?r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d]):!Mu(n[d])&&Mu(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d])):n[d]=r[d])}}}return n}function Yh(n,e,t){n.style.setProperty(e,t)}function rA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=cr(),o=-e.translate;let u=null,d;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(_,T)=>p==="next"&&_>=T||p==="prev"&&_<=T,b=()=>{d=new Date().getTime(),u===null&&(u=d);const _=Math.max(Math.min((d-u)/h,1),0),T=.5-Math.cos(_*Math.PI)/2;let C=o+T*(t-o);if(y(C,t)&&(C=t),e.wrapperEl.scrollTo({[r]:C}),y(C,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:C})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(b)};b()}function ps(n,e){e===void 0&&(e="");const t=cr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function fL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function mL(n,e){const t=cr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=fL(n,e))),r}function Qf(n){try{console.warn(n);return}catch{}}function Kf(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:lL(e)),t}function pL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function gL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function xa(n,e){return cr().getComputedStyle(n,null).getPropertyValue(e)}function Yf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function sA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function ey(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function i0(n,e,t){const r=cr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Nn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let ty;function yL(){const n=cr(),e=gs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function iA(){return ty||(ty=yL()),ty}let ny;function vL(n){let{userAgent:e}=n===void 0?{}:n;const t=iA(),r=cr(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,h=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=a==="Win32";let C=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&C&&t.touch&&P.indexOf(`${d}x${h}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),C=!1),p&&!T&&(u.os="android",u.android=!0),(y||_||b)&&(u.os="ios",u.ios=!0),u}function aA(n){return n===void 0&&(n={}),ny||(ny=vL(n)),ny}let ry;function bL(){const n=cr(),e=aA();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function oA(){return ry||(ry=bL()),ry}function xL(n){let{swiper:e,on:t,emit:r}=n;const a=cr();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=a.requestAnimationFrame(()=>{const{width:_,height:T}=e;let C=_,P=T;b.forEach(I=>{let{contentBoxSize:N,contentRect:w,target:E}=I;E&&E!==e.el||(C=w?w.width:(N[0]||N).inlineSize,P=w?w.height:(N[0]||N).blockSize)}),(C!==_||P!==T)&&d()})}),o.observe(e.el))},p=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){h();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",y)})}function _L(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=cr(),d=function(y,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,T=new _(C=>{if(e.__preventObserver__)return;if(C.length===1){a("observerUpdate",C[0]);return}const P=function(){a("observerUpdate",C[0])};u.requestAnimationFrame?u.requestAnimationFrame(P):u.setTimeout(P,0)});T.observe(y,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(T)},h=()=>{if(e.params.observer){if(e.params.observeParents){const y=sA(e.hostEl);for(let b=0;b<y.length;b+=1)d(y[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",h),r("destroy",p)}var wL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(p=>{p.apply(r,t)})}),n}};function EL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(xa(r,"padding-left")||0,10)-parseInt(xa(r,"padding-right")||0,10),t=t-parseInt(xa(r,"padding-top")||0,10)-parseInt(xa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function TL(){const n=this;function e(R,D){return parseFloat(R.getPropertyValue(n.getDirectionLabel(D))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:d}=n,h=n.virtual&&t.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,y=ps(a,`.${n.params.slideClass}, swiper-slide`),b=h?n.virtual.slides.length:y.length;let _=[];const T=[],C=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,w=n.slidesGrid.length;let E=t.spaceBetween,L=-P,B=0,U=0;if(typeof o>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*o:typeof E=="string"&&(E=parseFloat(E)),n.virtualSize=-E,y.forEach(R=>{u?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Yh(r,"--swiper-centered-offset-before",""),Yh(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let M;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(R=>typeof t.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<b;R+=1){M=0;let D;if(y[R]&&(D=y[R]),V&&n.grid.updateSlide(R,D,y),!(y[R]&&xa(D,"display")==="none")){if(t.slidesPerView==="auto"){O&&(y[R].style[n.getDirectionLabel("width")]="");const F=getComputedStyle(D),k=D.style.transform,oe=D.style.webkitTransform;if(k&&(D.style.transform="none"),oe&&(D.style.webkitTransform="none"),t.roundLengths)M=n.isHorizontal()?i0(D,"width"):i0(D,"height");else{const ve=e(F,"width"),$=e(F,"padding-left"),le=e(F,"padding-right"),ae=e(F,"margin-left"),xe=e(F,"margin-right"),H=F.getPropertyValue("box-sizing");if(H&&H==="border-box")M=ve+ae+xe;else{const{clientWidth:ie,offsetWidth:ye}=D;M=ve+$+le+ae+xe+(ye-ie)}}k&&(D.style.transform=k),oe&&(D.style.webkitTransform=oe),t.roundLengths&&(M=Math.floor(M))}else M=(o-(t.slidesPerView-1)*E)/t.slidesPerView,t.roundLengths&&(M=Math.floor(M)),y[R]&&(y[R].style[n.getDirectionLabel("width")]=`${M}px`);y[R]&&(y[R].swiperSlideSize=M),C.push(M),t.centeredSlides?(L=L+M/2+B/2+E,B===0&&R!==0&&(L=L-o/2-E),R===0&&(L=L-o/2-E),Math.abs(L)<1/1e3&&(L=0),t.roundLengths&&(L=Math.floor(L)),U%t.slidesPerGroup===0&&_.push(L),T.push(L)):(t.roundLengths&&(L=Math.floor(L)),(U-Math.min(n.params.slidesPerGroupSkip,U))%n.params.slidesPerGroup===0&&_.push(L),T.push(L),L=L+M+E),n.virtualSize+=M+E,B=M,U+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+I,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+E}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+E}px`),V&&n.grid.updateWrapperSize(M,_),!t.centeredSlides){const R=[];for(let D=0;D<_.length;D+=1){let F=_[D];t.roundLengths&&(F=Math.floor(F)),_[D]<=n.virtualSize-o&&R.push(F)}_=R,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(h&&t.loop){const R=C[0]+E;if(t.slidesPerGroup>1){const D=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),F=R*t.slidesPerGroup;for(let k=0;k<D;k+=1)_.push(_[_.length-1]+F)}for(let D=0;D<n.virtual.slidesBefore+n.virtual.slidesAfter;D+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+R),T.push(T[T.length-1]+R),n.virtualSize+=R}if(_.length===0&&(_=[0]),E!==0){const R=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((D,F)=>!t.cssMode||t.loop?!0:F!==y.length-1).forEach(D=>{D.style[R]=`${E}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let R=0;C.forEach(F=>{R+=F+(E||0)}),R-=E;const D=R>o?R-o:0;_=_.map(F=>F<=0?-P:F>D?D+I:F)}if(t.centerInsufficientSlides){let R=0;C.forEach(F=>{R+=F+(E||0)}),R-=E;const D=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(R+D<o){const F=(o-R-D)/2;_.forEach((k,oe)=>{_[oe]=k-F}),T.forEach((k,oe)=>{T[oe]=k+F})}}if(Object.assign(n,{slides:y,snapGrid:_,slidesGrid:T,slidesSizesGrid:C}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Yh(r,"--swiper-centered-offset-before",`${-_[0]}px`),Yh(r,"--swiper-centered-offset-after",`${n.size/2-C[C.length-1]/2}px`);const R=-n.snapGrid[0],D=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(F=>F+R),n.slidesGrid=n.slidesGrid.map(F=>F+D)}if(b!==p&&n.emit("slidesLengthChange"),_.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==w&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const R=`${t.containerModifierClass}backface-hidden`,D=n.el.classList.contains(R);b<=t.maxBackfaceHiddenSlides?D||n.el.classList.add(R):D&&n.el.classList.remove(R)}}function SL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function AL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const u1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function CL(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const p=r[h];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),T=-(u-y),C=T+e.slidesSizesGrid[h],P=T>=0&&T<=e.size-e.slidesSizesGrid[h],I=T>=0&&T<e.size-1||C>1&&C<=e.size||T<=0&&C>=e.size;I&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),u1(p,I,t.slideVisibleClass),u1(p,P,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-_:_}}function RL(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:d}=e;const h=o,p=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=b||a>=1,y&&(a=0),b&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[y],T=e.slidesGrid[b],C=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=_?d=(P-_)/C:d=(P+C-T)/C,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const sy=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function NL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=b=>ps(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let h,p,y;if(o)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),h=d(`[data-swiper-slide-index="${b}"]`)}else h=d(`[data-swiper-slide-index="${a}"]`);else u?(h=e.find(b=>b.column===a),y=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):h=e[a];h&&(u||(y=gL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=pL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{sy(b,b===h,t.slideActiveClass),sy(b,b===y,t.slideNextClass),sy(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const gf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},iy=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},a0=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,d=[u-e];d.push(...Array.from({length:e}).map((h,p)=>u+r+p)),n.slides.forEach((h,p)=>{d.includes(h.column)&&iy(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const d=(u%t+t)%t;(d<a||d>o)&&iy(n,d)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&iy(n,u)};function IL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function OL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:d}=e;let h=n,p;const y=T=>{let C=T-e.virtual.slidesBefore;return C<0&&(C=e.virtual.slides.length+C),C>=e.virtual.slides.length&&(C-=e.virtual.slides.length),C};if(typeof h>"u"&&(h=IL(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const T=Math.min(a.slidesPerGroupSkip,h);p=T+Math.floor((h-T)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(h);return}const b=e.grid&&a.grid&&a.grid.rows>1;let _;if(e.virtual&&a.virtual.enabled&&a.loop)_=y(h);else if(b){const T=e.slides.find(P=>P.column===h);let C=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(C)&&(C=Math.max(e.slides.indexOf(T),0)),_=Math.floor(C/a.grid.rows)}else if(e.slides[h]){const T=e.slides[h].getAttribute("data-swiper-slide-index");T?_=parseInt(T,10):_=h}else _=h;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:h}),e.initialized&&a0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function ML(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,u;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,u=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var DL={updateSize:EL,updateSlides:TL,updateAutoHeight:SL,updateSlidesOffset:AL,updateSlidesProgress:CL,updateProgress:RL,updateSlidesClasses:NL,updateActiveIndex:OL,updateClickedSlide:ML};function jL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=dL(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function PL(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let d=0,h=0;const p=0;t.isHorizontal()?d=r?-n:n:h=n,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-h:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let y;const b=t.maxTranslate()-t.minTranslate();b===0?y=0:y=(n-t.minTranslate())/b,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function kL(){return-this.snapGrid[0]}function LL(){return-this.snapGrid[this.snapGrid.length-1]}function VL(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>h?y=h:r&&n<p?y=p:y=n,o.updateProgress(y),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return rA({swiper:o,targetPosition:-y,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var zL={getTranslate:jL,setTranslate:PL,minTranslate:kL,maxTranslate:LL,translateTo:VL};function UL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function lA(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let d=r;if(d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==u){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function BL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),lA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function FL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),lA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var qL={setTransition:UL,transitionStart:BL,transitionEnd:FL};function HL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:y,activeIndex:b,rtlTranslate:_,wrapperEl:T,enabled:C}=o;if(!C&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,u);let I=P+Math.floor((u-P)/o.params.slidesPerGroup);I>=h.length&&(I=h.length-1);const N=-h[I];if(d.normalizeSlideIndex)for(let V=0;V<p.length;V+=1){const M=-Math.floor(N*100),O=Math.floor(p[V]*100),R=Math.floor(p[V+1]*100);typeof p[V+1]<"u"?M>=O&&M<R-(R-O)/2?u=V:M>=O&&M<R&&(u=V+1):M>=O&&(u=V)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?N>o.translate&&N>o.minTranslate():N<o.translate&&N<o.minTranslate())||!o.allowSlidePrev&&N>o.translate&&N>o.maxTranslate()&&(b||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(N);let w;u>b?w="next":u<b?w="prev":w="reset";const E=o.virtual&&o.params.virtual.enabled;if(!(E&&a)&&(_&&-N===o.translate||!_&&N===o.translate))return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(N),w!=="reset"&&(o.transitionStart(t,w),o.transitionEnd(t,w)),!1;if(d.cssMode){const V=o.isHorizontal(),M=_?N:-N;if(e===0)E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),E&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[V?"scrollLeft":"scrollTop"]=M})):T[V?"scrollLeft":"scrollTop"]=M,E&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return rA({swiper:o,targetPosition:M,side:V?"left":"top"}),!0;T.scrollTo({[V?"left":"top"]:M,behavior:"smooth"})}return!0}const U=oA().isSafari;return E&&!a&&U&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(N),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,w),e===0?o.transitionEnd(t,w):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(M){!o||o.destroyed||M.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,w))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function GL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let d;if(o){const _=u*a.params.grid.rows;d=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else d=a.getSlideIndexByData(u);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let b=h-d<y;if(p&&(b=b||d<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?d+1:d-h+1,slideRealIndex:_==="next"?a.realIndex:void 0})}if(o){const _=u*a.params.grid.rows;u=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function $L(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function QL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:d,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=d?r.translate:-r.translate;function _(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const T=_(b),C=o.map(w=>_(w)),P=a.freeMode&&a.freeMode.enabled;let I=o[C.indexOf(T)-1];if(typeof I>"u"&&(a.cssMode||P)){let w;o.forEach((E,L)=>{T>=E&&(w=L)}),typeof w<"u"&&(I=P?o[w]:o[w>0?w-1:w])}let N=0;if(typeof I<"u"&&(N=u.indexOf(I),N<0&&(N=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),a.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(N,n,e,t)}),!0;return r.slideTo(N,n,e,t)}function KL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function YL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[d]){const p=a.snapGrid[d],y=a.snapGrid[d+1];h-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],y=a.snapGrid[d];h-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function XL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),s0(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),s0(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var WL={slideTo:HL,slideToLoop:GL,slideNext:$L,slidePrev:QL,slideReset:KL,slideToClosest:YL,slideToClickedSlide:XL};function ZL(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ps(a,`.${r.slideClass}, swiper-slide`).forEach((_,T)=>{_.setAttribute("data-swiper-slide-index",T)})},u=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(u?r.grid.rows:1),h=t.slides.length%d!==0,p=u&&t.slides.length%r.grid.rows!==0,y=b=>{for(let _=0;_<b;_+=1){const T=t.isElement?Kf("swiper-slide",[r.slideBlankClass]):Kf("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(h){if(r.loopAddBlankSlides){const b=d-t.slides.length%d;y(b),t.recalcSlides(),t.updateSlides()}else Qf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;y(b),t.recalcSlides(),t.updateSlides()}else Qf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function JL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:d,byMousewheel:h}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:b,allowSlideNext:_,slidesEl:T,params:C}=p,{centeredSlides:P,initialSlide:I}=C;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&C.virtual.enabled){t&&(!C.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):C.centeredSlides&&p.snapIndex<C.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=b,p.allowSlideNext=_,p.emit("loopFix");return}let N=C.slidesPerView;N==="auto"?N=p.slidesPerViewDynamic():(N=Math.ceil(parseFloat(C.slidesPerView,10)),P&&N%2===0&&(N=N+1));const w=C.slidesPerGroupAuto?N:C.slidesPerGroup;let E=w;E%w!==0&&(E+=w-E%w),E+=C.loopAdditionalSlides,p.loopedSlides=E;const L=p.grid&&C.grid&&C.grid.rows>1;y.length<N+E||p.params.effect==="cards"&&y.length<N+E*2?Qf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&C.grid.fill==="row"&&Qf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const B=[],U=[],V=L?Math.ceil(y.length/C.grid.rows):y.length,M=u&&V-I<N&&!P;let O=M?I:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(C.slideActiveClass))):O=o;const R=r==="next"||!r,D=r==="prev"||!r;let F=0,k=0;const ve=(L?y[o].column:o)+(P&&typeof a>"u"?-N/2+.5:0);if(ve<E){F=Math.max(E-ve,w);for(let $=0;$<E-ve;$+=1){const le=$-Math.floor($/V)*V;if(L){const ae=V-le-1;for(let xe=y.length-1;xe>=0;xe-=1)y[xe].column===ae&&B.push(xe)}else B.push(V-le-1)}}else if(ve+N>V-E){k=Math.max(ve-(V-E*2),w),M&&(k=Math.max(k,N-V+I+1));for(let $=0;$<k;$+=1){const le=$-Math.floor($/V)*V;L?y.forEach((ae,xe)=>{ae.column===le&&U.push(xe)}):U.push(le)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<N+E*2&&(U.includes(o)&&U.splice(U.indexOf(o),1),B.includes(o)&&B.splice(B.indexOf(o),1)),D&&B.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),R&&U.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),C.slidesPerView==="auto"?p.updateSlides():L&&(B.length>0&&D||U.length>0&&R)&&p.slides.forEach(($,le)=>{p.grid.updateSlide(le,$,p.slides)}),C.watchSlidesProgress&&p.updateSlidesOffset(),t){if(B.length>0&&D){if(typeof e>"u"){const $=p.slidesGrid[O],ae=p.slidesGrid[O+F]-$;h?p.setTranslate(p.translate-ae):(p.slideTo(O+Math.ceil(F),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const $=L?B.length/C.grid.rows:B.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(U.length>0&&R)if(typeof e>"u"){const $=p.slidesGrid[O],ae=p.slidesGrid[O-k]-$;h?p.setTranslate(p.translate-ae):(p.slideTo(O-k,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const $=L?U.length/C.grid.rows:U.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=b,p.allowSlideNext=_,p.controller&&p.controller.control&&!d){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...$,slideTo:le.params.slidesPerView===C.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===C.slidesPerView?t:!1})}p.emit("loopFix")}function e5(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var t5={loopCreate:ZL,loopFix:JL,loopDestroy:e5};function n5(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function r5(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var s5={setGrabCursor:n5,unsetGrabCursor:r5};function i5(n,e){e===void 0&&(e=this);function t(r){if(!r||r===gs()||r===cr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function d1(n,e,t){const r=cr(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function a5(n){const e=this,t=gs();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){d1(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!mL(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(h=y[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?i5(b,h):h.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const T=u.currentX,C=u.currentY;if(!d1(e,r,T))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=T,u.startY=C,a.touchStartTime=Ao(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;h.matches(a.focusableElements)&&(P=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const I=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||I)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function o5(n){const e=gs(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(B=>B.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const y=p.pageX,b=p.pageY;if(h.preventedByNestedSwiper){o.startX=y,o.startY=b;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b}),r.touchStartTime=Ao());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=b;const _=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let B;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+T*T>=25&&(B=Math.atan2(Math.abs(T),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?B>a.touchAngle:90-B>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let C=t.isHorizontal()?_:T,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(C=Math.abs(C)*(u?1:-1),P=Math.abs(P)*(u?1:-1)),o.diff=C,C*=a.touchRatio,u&&(C=-C,P=-P);const I=t.touchesDirection;t.swipeDirection=C>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const N=t.params.loop&&!a.cssMode,w=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(N&&w&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const B=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(B)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==t.touchesDirection&&N&&w&&Math.abs(C)>=1){Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=C+r.startTranslate;let E=!0,L=a.resistanceRatio;if(a.touchReleaseOnEdges&&(L=0),C>0?(N&&w&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(E=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+C)**L))):C<0&&(N&&w&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(E=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-C)**L))),E&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(C)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function l5(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(B=>B.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:h,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Ao(),_=b-t.touchStartTime;if(e.allowClick){const B=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(B&&B[0]||r.target,B),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ao(),s0(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(u.followFinger?T=h?e.translate:-e.translate:T=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const C=T>=-e.maxTranslate()&&!e.params.loop;let P=0,I=e.slidesSizesGrid[0];for(let B=0;B<p.length;B+=B<u.slidesPerGroupSkip?1:u.slidesPerGroup){const U=B<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[B+U]<"u"?(C||T>=p[B]&&T<p[B+U])&&(P=B,I=p[B+U]-p[B]):(C||T>=p[B])&&(P=B,I=p[p.length-1]-p[p.length-2])}let N=null,w=null;u.rewind&&(e.isBeginning?w=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(N=0));const E=(T-p[P])/I,L=P<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?N:P+L):e.slideTo(P)),e.swipeDirection==="prev"&&(E>1-u.longSwipesRatio?e.slideTo(P+L):w!==null&&E<0&&Math.abs(E)>u.longSwipesRatio?e.slideTo(w):e.slideTo(P))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+L):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(N!==null?N:P+L),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:P))}}function h1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function c5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function u5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function d5(n){const e=this;gf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function h5(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const cA=(n,e)=>{const t=gs(),{params:r,el:a,wrapperEl:o,device:u}=n,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",h1,!0):n[p]("observerUpdate",h1,!0),a[h]("load",n.onLoad,{capture:!0}))};function f5(){const n=this,{params:e}=n;n.onTouchStart=a5.bind(n),n.onTouchMove=o5.bind(n),n.onTouchEnd=l5.bind(n),n.onDocumentTouchStart=h5.bind(n),e.cssMode&&(n.onScroll=u5.bind(n)),n.onClick=c5.bind(n),n.onLoad=d5.bind(n),cA(n,"on")}function m5(){cA(this,"off")}var p5={attachEvents:f5,detachEvents:m5};const f1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function g5(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=gs(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,h);if(!p||n.currentBreakpoint===p)return;const b=(p in o?o[p]:void 0)||n.originalParams,_=f1(n,r),T=f1(n,b),C=n.params.grabCursor,P=b.grabCursor,I=r.enabled;_&&!T?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&T&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),C&&!P?n.unsetGrabCursor():!C&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof b[U]>"u")return;const V=r[U]&&r[U].enabled,M=b[U]&&b[U].enabled;V&&!M&&n[U].disable(),!V&&M&&n[U].enable()});const N=b.direction&&b.direction!==r.direction,w=r.loop&&(b.slidesPerView!==r.slidesPerView||N),E=r.loop;N&&t&&n.changeDirection(),Pr(n.params,b);const L=n.params.enabled,B=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),I&&!L?n.disable():!I&&L&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(w?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!E&&B?(n.loopCreate(e),n.updateSlides()):E&&!B&&n.loopDestroy()),n.emit("breakpoint",b)}function y5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=cr(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:o*h,point:d}}return{value:d,point:d}});u.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<u.length;d+=1){const{point:h,value:p}=u[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var v5={setBreakpoint:g5,getBreakpoint:y5};function b5(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function x5(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=b5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function _5(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var w5={addClasses:x5,removeClasses:_5};function E5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var T5={checkOverflow:E5},o0={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function S5(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Pr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Pr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Pr(e,r)}}const ay={eventsEmitter:wL,update:DL,translate:zL,transition:qL,slide:WL,loop:t5,grabCursor:s5,events:p5,breakpoints:v5,checkOverflow:T5,classes:w5},oy={};let Rv=class _i{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Pr({},t),e&&!t.el&&(t.el=e);const u=gs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(b=>{const _=Pr({},t,{el:b});y.push(new _i(_))}),y}const d=this;d.__swiper__=!0,d.support=iA(),d.device=aA({userAgent:t.userAgent}),d.browser=oA(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const h={};d.modules.forEach(y=>{y({params:t,swiper:d,extendParams:S5(t,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=Pr({},o0,h);return d.params=Pr({},p,oy,t),d.originalParams=Pr({},d.params),d.passedParams=Pr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(y=>{d.on(y,d.params.on[y])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=ps(t,`.${r.slideClass}, swiper-slide`),o=Yf(a[0]);return Yf(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ps(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:d,size:h,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=o[p]?Math.ceil(o[p].swiperSlideSize):0,_;for(let T=p+1;T<o.length;T+=1)o[T]&&!_&&(b+=Math.ceil(o[T].swiperSlideSize),y+=1,b>h&&(_=!0));for(let T=p-1;T>=0;T-=1)o[T]&&!_&&(b+=o[T].swiperSlideSize,y+=1,b>h&&(_=!0))}else if(e==="current")for(let b=p+1;b<o.length;b+=1)(t?u[b]+d[b]-u[p]<h:u[b]-u[p]<h)&&(y+=1);else for(let b=p-1;b>=0;b-=1)u[p]-u[b]<h&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&gf(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ps(r,a())[0];return!u&&t.params.createElements&&(u=Kf("div",t.params.wrapperClass),r.append(u),ps(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl"),wrongRTL:xa(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?gf(t,o):o.addEventListener("load",u=>{gf(t,u.target)})}),a0(t),t.initialized=!0,a0(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),cL(r)),r.destroyed=!0),null}static extendDefaults(e){Pr(oy,e)}static get extendedDefaults(){return oy}static get defaults(){return o0}static installModule(e){_i.prototype.__modules__||(_i.prototype.__modules__=[]);const t=_i.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>_i.installModule(t)),_i):(_i.installModule(e),_i)}};Object.keys(ay).forEach(n=>{Object.keys(ay[n]).forEach(e=>{Rv.prototype[e]=ay[n][e]})});Rv.use([xL,_L]);const uA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Po(e[r])&&Po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Bl(n[r],e[r]):n[r]=e[r]})}function dA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function hA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function fA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function mA(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function A5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function C5(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:h}=n;const p=a.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:y,pagination:b,navigation:_,scrollbar:T,virtual:C,thumbs:P}=e;let I,N,w,E,L,B,U,V;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(I=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(N=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||h)&&(y.pagination||y.pagination===!1)&&b&&!b.el&&(w=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(y.scrollbar||y.scrollbar===!1)&&T&&!T.el&&(E=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(L=!0);const M=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),y[O].prevEl=void 0,y[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),y[O].el=void 0,e[O].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?B=!0:!y.loop&&r.loop?U=!0:V=!0),p.forEach(O=>{if(Po(y[O])&&Po(r[O]))Object.assign(y[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&M(O);else{const R=r[O];(R===!0||R===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?R===!1&&M(O):y[O]=r[O]}}),p.includes("controller")&&!N&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&C&&y.virtual.enabled?(C.slides=t,C.update(!0)):a.includes("virtual")&&C&&y.virtual.enabled&&(t&&(C.slides=t),C.update(!0)),a.includes("children")&&t&&y.loop&&(V=!0),I&&P.init()&&P.update(!0),N&&(e.controller.control=y.controller.control),w&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(y.pagination.el=h),b.init(),b.render(),b.update()),E&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(y.scrollbar.el=d),T.init(),T.updateSize(),T.setTranslate()),L&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),_.init(),_.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(B||V)&&e.loopDestroy(),(U||V)&&e.loopCreate(),e.update()}function R5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Bl(t,o0),t._emitClasses=!0,t.init=!1;const o={},u=uA.map(h=>h.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(h=>{typeof n[h]>"u"||(u.indexOf(h)>=0?Po(n[h])?(t[h]={},a[h]={},Bl(t[h],n[h]),Bl(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function N5(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:d}=n;dA(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),hA(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),fA(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function I5(n,e,t,r,a){const o=[];if(!e)return o;const u=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return uA.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Po(n[h])&&Po(e[h])){const p=Object.keys(n[h]),y=Object.keys(e[h]);p.length!==y.length?u(h):(p.forEach(b=>{n[h][b]!==e[h][b]&&u(h)}),y.forEach(b=>{n[h][b]!==e[h][b]&&u(h)}))}else n[h]!==e[h]&&u(h)}),o}const O5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xf.apply(this,arguments)}function pA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function gA(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{pA(t)?e.push(t):t.props&&t.props.children&&gA(t.props.children).forEach(r=>e.push(r))}),e}function M5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(pA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=gA(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function D5(n,e,t){if(!t)return null;const r=y=>{let b=y;return y<0?b=e.length+y:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,d=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let y=d;y<h;y+=1)y>=o&&y<=u&&p.push(e[r(y)]);return p.map((y,b)=>Ut.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${b}`}))}function zu(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const m1=q.createContext(null),j5=q.createContext(null),Ml=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...d}=n===void 0?{}:n,h=!1;const[p,y]=q.useState("swiper"),[b,_]=q.useState(null),[T,C]=q.useState(!1),P=q.useRef(!1),I=q.useRef(null),N=q.useRef(null),w=q.useRef(null),E=q.useRef(null),L=q.useRef(null),B=q.useRef(null),U=q.useRef(null),V=q.useRef(null),{params:M,passedParams:O,rest:R,events:D}=R5(d),{slides:F,slots:k}=M5(o),oe=()=>{C(!T)};Object.assign(M.on,{_containerClasses(xe,H){y(H)}});const ve=()=>{Object.assign(M.on,D),h=!0;const xe={...M};if(delete xe.wrapperClass,N.current=new Rv(xe),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=F;const H={cache:!1,slides:F,renderExternal:_,renderExternalUpdate:!1};Bl(N.current.params.virtual,H),Bl(N.current.originalParams.virtual,H)}};I.current||ve(),N.current&&N.current.on("_beforeBreakpoint",oe);const $=()=>{h||!D||!N.current||Object.keys(D).forEach(xe=>{N.current.on(xe,D[xe])})},le=()=>{!D||!N.current||Object.keys(D).forEach(xe=>{N.current.off(xe,D[xe])})};q.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",oe)}),q.useEffect(()=>{!P.current&&N.current&&(N.current.emitSlidesClasses(),P.current=!0)}),zu(()=>{if(e&&(e.current=I.current),!!I.current)return N.current.destroyed&&ve(),N5({el:I.current,nextEl:L.current,prevEl:B.current,paginationEl:U.current,scrollbarEl:V.current,swiper:N.current},M),u&&!N.current.destroyed&&u(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),zu(()=>{$();const xe=I5(O,w.current,F,E.current,H=>H.key);return w.current=O,E.current=F,xe.length&&N.current&&!N.current.destroyed&&C5({swiper:N.current,slides:F,passedParams:O,changedParams:xe,nextEl:L.current,prevEl:B.current,scrollbarEl:V.current,paginationEl:U.current}),()=>{le()}}),zu(()=>{O5(N.current)},[b]);function ae(){return M.virtual?D5(N.current,F,b):F.map((xe,H)=>Ut.cloneElement(xe,{swiper:N.current,swiperSlideIndex:H}))}return Ut.createElement(r,Xf({ref:I,className:mA(`${p}${t?` ${t}`:""}`)},R),Ut.createElement(j5.Provider,{value:N.current},k["container-start"],Ut.createElement(a,{className:A5(M.wrapperClass)},k["wrapper-start"],ae(),k["wrapper-end"]),dA(M)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:B,className:"swiper-button-prev"}),Ut.createElement("div",{ref:L,className:"swiper-button-next"})),fA(M)&&Ut.createElement("div",{ref:V,className:"swiper-scrollbar"}),hA(M)&&Ut.createElement("div",{ref:U,className:"swiper-pagination"}),k["container-end"]))});Ml.displayName="Swiper";const Dl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:d,virtualIndex:h,swiperSlideIndex:p,...y}=n===void 0?{}:n;const b=q.useRef(null),[_,T]=q.useState("swiper-slide"),[C,P]=q.useState(!1);function I(L,B,U){B===b.current&&T(U)}zu(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",I),()=>{o&&o.off("_slideClass",I)}}}),zu(()=>{o&&b.current&&!o.destroyed&&T(o.getSlideClasses(b.current))},[o]);const N={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(N):r,E=()=>{P(!0)};return Ut.createElement(t,Xf({ref:b,className:mA(`${_}${a?` ${a}`:""}`),"data-swiper-slide-index":h,onLoad:E},y),u&&Ut.createElement(m1.Provider,{value:N},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},w(),d&&!C&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ut.createElement(m1.Provider,{value:N},w(),d&&!C&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});Dl.displayName="SwiperSlide";function yA(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=ps(n.el,`.${r[a]}`)[0];o||(o=Kf("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function yf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(C){let P;return C&&typeof C=="string"&&e.isElement&&(P=e.el.querySelector(C)||e.hostEl.querySelector(C),P)?P:(C&&(typeof C=="string"&&(P=[...document.querySelectorAll(C)]),e.params.uniqueNavElements&&typeof C=="string"&&P&&P.length>1&&e.el.querySelectorAll(C).length===1?P=e.el.querySelector(C):P&&P.length===1&&(P=P[0])),C&&!P?C:P)}function u(C,P){const I=e.params.navigation;C=Nn(C),C.forEach(N=>{N&&(N.classList[P?"add":"remove"](...I.disabledClass.split(" ")),N.tagName==="BUTTON"&&(N.disabled=P),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](I.lockClass))})}function d(){const{nextEl:C,prevEl:P}=e.navigation;if(e.params.loop){u(P,!1),u(C,!1);return}u(P,e.isBeginning&&!e.params.rewind),u(C,e.isEnd&&!e.params.rewind)}function h(C){C.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(C){C.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const C=e.params.navigation;if(e.params.navigation=yA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(C.nextEl||C.prevEl))return;let P=o(C.nextEl),I=o(C.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:I}),P=Nn(P),I=Nn(I);const N=(w,E)=>{w&&w.addEventListener("click",E==="next"?p:h),!e.enabled&&w&&w.classList.add(...C.lockClass.split(" "))};P.forEach(w=>N(w,"next")),I.forEach(w=>N(w,"prev"))}function b(){let{nextEl:C,prevEl:P}=e.navigation;C=Nn(C),P=Nn(P);const I=(N,w)=>{N.removeEventListener("click",w==="next"?p:h),N.classList.remove(...e.params.navigation.disabledClass.split(" "))};C.forEach(N=>I(N,"next")),P.forEach(N=>I(N,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?T():(y(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:C,prevEl:P}=e.navigation;if(C=Nn(C),P=Nn(P),e.enabled){d();return}[...C,...P].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(C,P)=>{let{nextEl:I,prevEl:N}=e.navigation;I=Nn(I),N=Nn(N);const w=P.target;let E=N.includes(w)||I.includes(w);if(e.isElement&&!E){const L=P.path||P.composedPath&&P.composedPath();L&&(E=L.find(B=>I.includes(B)||N.includes(B)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===w||e.pagination.el.contains(w)))return;let L;I.length?L=I[0].classList.contains(e.params.navigation.hiddenClass):N.length&&(L=N[0].classList.contains(e.params.navigation.hiddenClass)),a(L===!0?"navigationShow":"navigationHide"),[...I,...N].filter(B=>!!B).forEach(B=>B.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),d()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:T,update:d,init:y,destroy:b})}function _u(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function P5(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(w,E){const{bulletActiveClass:L}=e.params.pagination;w&&(w=w[`${E==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${L}-${E}`),w=w[`${E==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${L}-${E}-${E}`)))}function y(w,E,L){if(w=w%L,E=E%L,E===w+1)return"next";if(E===w-1)return"previous"}function b(w){const E=w.target.closest(_u(e.params.pagination.bulletClass));if(!E)return;w.preventDefault();const L=Yf(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===L)return;const B=y(e.realIndex,L,e.slides.length);B==="next"?e.slideNext():B==="previous"?e.slidePrev():e.slideToLoop(L)}else e.slideTo(L)}function _(){const w=e.rtl,E=e.params.pagination;if(h())return;let L=e.pagination.el;L=Nn(L);let B,U;const V=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(V/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,B=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(B=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,B=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let R,D,F;if(E.dynamicBullets&&(u=i0(O[0],e.isHorizontal()?"width":"height"),L.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${u*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&U!==void 0&&(d+=B-(U||0),d>E.dynamicMainBullets-1?d=E.dynamicMainBullets-1:d<0&&(d=0)),R=Math.max(B-d,0),D=R+(Math.min(O.length,E.dynamicMainBullets)-1),F=(D+R)/2),O.forEach(k=>{const oe=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ve=>`${E.bulletActiveClass}${ve}`)].map(ve=>typeof ve=="string"&&ve.includes(" ")?ve.split(" "):ve).flat();k.classList.remove(...oe)}),L.length>1)O.forEach(k=>{const oe=Yf(k);oe===B?k.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),E.dynamicBullets&&(oe>=R&&oe<=D&&k.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),oe===R&&p(k,"prev"),oe===D&&p(k,"next"))});else{const k=O[B];if(k&&k.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&O.forEach((oe,ve)=>{oe.setAttribute("part",ve===B?"bullet-active":"bullet")}),E.dynamicBullets){const oe=O[R],ve=O[D];for(let $=R;$<=D;$+=1)O[$]&&O[$].classList.add(...`${E.bulletActiveClass}-main`.split(" "));p(oe,"prev"),p(ve,"next")}}if(E.dynamicBullets){const k=Math.min(O.length,E.dynamicMainBullets+4),oe=(u*k-u)/2-F*u,ve=w?"right":"left";O.forEach($=>{$.style[e.isHorizontal()?ve:"top"]=`${oe}px`})}}L.forEach((O,R)=>{if(E.type==="fraction"&&(O.querySelectorAll(_u(E.currentClass)).forEach(D=>{D.textContent=E.formatFractionCurrent(B+1)}),O.querySelectorAll(_u(E.totalClass)).forEach(D=>{D.textContent=E.formatFractionTotal(M)})),E.type==="progressbar"){let D;E.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const F=(B+1)/M;let k=1,oe=1;D==="horizontal"?k=F:oe=F,O.querySelectorAll(_u(E.progressbarFillClass)).forEach(ve=>{ve.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${oe})`,ve.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(O.innerHTML=E.renderCustom(e,B+1,M),R===0&&a("paginationRender",O)):(R===0&&a("paginationRender",O),a("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](E.lockClass)})}function T(){const w=e.params.pagination;if(h())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let L=e.pagination.el;L=Nn(L);let B="";if(w.type==="bullets"){let U=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>E&&(U=E);for(let V=0;V<U;V+=1)w.renderBullet?B+=w.renderBullet.call(e,V,w.bulletClass):B+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?B=w.renderFraction.call(e,w.currentClass,w.totalClass):B=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?B=w.renderProgressbar.call(e,w.progressbarFillClass):B=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],L.forEach(U=>{w.type!=="custom"&&(U.innerHTML=B||""),w.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(_u(w.bulletClass)))}),w.type!=="custom"&&a("paginationRender",L[0])}function C(){e.params.pagination=yA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let E;typeof w.el=="string"&&e.isElement&&(E=e.el.querySelector(w.el)),!E&&typeof w.el=="string"&&(E=[...document.querySelectorAll(w.el)]),E||(E=w.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(w.el)],E.length>1&&(E=E.find(L=>sA(L,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Nn(E),E.forEach(L=>{w.type==="bullets"&&w.clickable&&L.classList.add(...(w.clickableClass||"").split(" ")),L.classList.add(w.modifierClass+w.type),L.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(L.classList.add(`${w.modifierClass}${w.type}-dynamic`),d=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&L.classList.add(w.progressbarOppositeClass),w.clickable&&L.addEventListener("click",b),e.enabled||L.classList.add(w.lockClass)}))}function P(){const w=e.params.pagination;if(h())return;let E=e.pagination.el;E&&(E=Nn(E),E.forEach(L=>{L.classList.remove(w.hiddenClass),L.classList.remove(w.modifierClass+w.type),L.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(L.classList.remove(...(w.clickableClass||"").split(" ")),L.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(L=>L.classList.remove(...w.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:E}=e.pagination;E=Nn(E),E.forEach(L=>{L.classList.remove(w.horizontalClass,w.verticalClass),L.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?N():(C(),T(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{T(),_()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:w}=e.pagination;w&&(w=Nn(w),w.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(w,E)=>{const L=E.target,B=Nn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&B&&B.length>0&&!L.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&L===e.navigation.nextEl||e.navigation.prevEl&&L===e.navigation.prevEl))return;const U=B[0].classList.contains(e.params.pagination.hiddenClass);a(U===!0?"paginationShow":"paginationHide"),B.forEach(V=>V.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Nn(w),w.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),C(),T(),_()},N=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Nn(w),w.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:I,disable:N,render:T,update:_,init:C,destroy:P})}function k5(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,d,h=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,b=new Date().getTime(),_,T,C,P,I,N,w;function E(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(w||ae.detail&&ae.detail.bySwiperTouchMove)&&R())}const L=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(p=y,_=!1);const ae=e.autoplay.paused?y:b+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/h),d=requestAnimationFrame(()=>{L()})},B=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(H=>H.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},U=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),L();let xe=typeof ae>"u"?e.params.autoplay.delay:ae;h=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=B();!Number.isNaN(H)&&H>0&&typeof ae>"u"&&(xe=H,h=H,p=H),y=xe;const ie=e.params.speed,ye=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ie,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ie,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ie,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ie,!0,!0),a("autoplay")),e.params.cssMode&&(b=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return xe>0?(clearTimeout(u),u=setTimeout(()=>{ye()},xe)):requestAnimationFrame(()=>{ye()}),xe},V=()=>{b=new Date().getTime(),e.autoplay.running=!0,U(),a("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(d),a("autoplayStop")},O=(ae,xe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),ae||(N=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):R()};if(e.autoplay.paused=!0,xe){I&&(y=e.params.autoplay.delay),I=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-b),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},R=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(b=new Date().getTime(),N?(N=!1,U(y)):U(),e.autoplay.paused=!1,a("autoplayResume"))},D=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=gs();ae.visibilityState==="hidden"&&(N=!0,O(!0)),ae.visibilityState==="visible"&&R()},F=ae=>{ae.pointerType==="mouse"&&(N=!0,w=!0,!(e.animating||e.autoplay.paused)&&O(!0))},k=ae=>{ae.pointerType==="mouse"&&(w=!1,e.autoplay.paused&&R())},oe=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",k))},ve=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",k))},$=()=>{gs().addEventListener("visibilitychange",D)},le=()=>{gs().removeEventListener("visibilitychange",D)};r("init",()=>{e.params.autoplay.enabled&&(oe(),$(),V())}),r("destroy",()=>{ve(),le(),e.autoplay.running&&M()}),r("_freeModeStaticRelease",()=>{(C||N)&&R()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?M():O(!0,!0)}),r("beforeTransitionStart",(ae,xe,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?O(!0,!0):M())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}T=!0,C=!1,N=!1,P=setTimeout(()=>{N=!0,C=!0,O(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(P),clearTimeout(u),e.params.autoplay.disableOnInteraction){C=!1,T=!1;return}C&&e.params.cssMode&&R(),C=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(I=!0)}),Object.assign(e.autoplay,{start:V,stop:M,pause:O,resume:R})}function p1(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,b=p.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let _;p.params.loop?_=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=y,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Mu(p.swiper)){const b=Object.assign({},p.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function h(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const b=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let _=1;const T=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),y.slides.forEach(I=>I.classList.remove(T)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let I=0;I<_;I+=1)ps(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(N=>{N.classList.add(T)});else for(let I=0;I<_;I+=1)y.slides[e.realIndex+I]&&y.slides[e.realIndex+I].classList.add(T);const C=e.params.thumbs.autoScrollOffset,P=C&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const I=y.activeIndex;let N,w;if(y.params.loop){const E=y.slides.find(L=>L.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);N=y.slides.indexOf(E),w=e.activeIndex>e.previousIndex?"next":"prev"}else N=e.realIndex,w=N>e.previousIndex?"next":"prev";P&&(N+=w==="next"?C:-1*C),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(N)<0&&(y.params.centeredSlides?N>I?N=N-Math.floor(b/2)+1:N=N+Math.floor(b/2)-1:N>I&&y.params.slidesPerGroup,y.slideTo(N,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=gs(),b=()=>{const T=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(T&&T.swiper)p.swiper=T.swiper,d(),h(!0);else if(T){const C=`${e.params.eventsPrefix}init`,P=I=>{p.swiper=I.detail[0],T.removeEventListener(C,P),d(),h(!0),p.swiper.update(),e.update()};T.addEventListener(C,P)}return T},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else d(),h(!0)}),r("slideChange update resize observerUpdate",()=>{h()}),r("setTransition",(p,y)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:h})}function g1(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:h,touches:p}=e;h.velocities.length===0&&h.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:Ao()})}function d(h){let{currentPos:p}=h;if(e.params.cssMode)return;const{params:y,wrapperEl:b,rtlTranslate:_,snapGrid:T,touchEventsData:C}=e,I=Ao()-C.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<T.length?e.slideTo(T.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(C.velocities.length>1){const M=C.velocities.pop(),O=C.velocities.pop(),R=M.position-O.position,D=M.time-O.time;e.velocity=R/D,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(D>150||Ao()-M.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,C.velocities.length=0;let N=1e3*y.freeMode.momentumRatio;const w=e.velocity*N;let E=e.translate+w;_&&(E=-E);let L=!1,B;const U=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let V;if(E<e.maxTranslate())y.freeMode.momentumBounce?(E+e.maxTranslate()<-U&&(E=e.maxTranslate()-U),B=e.maxTranslate(),L=!0,C.allowMomentumBounce=!0):E=e.maxTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(E>e.minTranslate())y.freeMode.momentumBounce?(E-e.minTranslate()>U&&(E=e.minTranslate()+U),B=e.minTranslate(),L=!0,C.allowMomentumBounce=!0):E=e.minTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(y.freeMode.sticky){let M;for(let O=0;O<T.length;O+=1)if(T[O]>-E){M=O;break}Math.abs(T[M]-E)<Math.abs(T[M-1]-E)||e.swipeDirection==="next"?E=T[M]:E=T[M-1],E=-E}if(V&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?N=Math.abs((-E-e.translate)/e.velocity):N=Math.abs((E-e.translate)/e.velocity),y.freeMode.sticky){const M=Math.abs((_?-E:E)-e.translate),O=e.slidesSizesGrid[e.activeIndex];M<O?N=y.speed:M<2*O?N=y.speed*1.5:N=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&L?(e.updateProgress(B),e.setTransition(N),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ey(b,()=>{!e||e.destroyed||!C.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(B),ey(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(N),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ey(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||I>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:d}})}const L5=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await za(Lr(bn,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),m.jsx("div",{className:"w-full",children:m.jsx(Ml,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[k5,P5,yf],className:"mySwiper",children:n.map((t,r)=>m.jsx(Dl,{children:m.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},y1=()=>m.jsxs("div",{className:"bg-gray-100 ",children:[m.jsx("div",{children:m.jsx(L5,{})}),m.jsx("div",{className:"px-4",children:m.jsx("div",{children:m.jsx(tA,{})})})]}),V5=q.createContext(),z5=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const h=EP(Xg,p=>{t(p),a(!1)});return()=>h()},[]);const d={user:e,login:async(h,p)=>{a(!0);try{await xP(Xg,h,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await TP(Xg)},loading:r};return m.jsx(V5.Provider,{value:d,children:n})},U5=()=>m.jsx("div",{children:m.jsx("p",{children:"this is admin page"})}),v1=()=>{const{gender:n,category:e}=v0(),t=2,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const w=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const u=w=>w?Math.round(w).toLocaleString("en-US"):"0",d=async({pageParam:w=null})=>{const E=w?Mo(Lr(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),XS(w),Vf(t)):Mo(Lr(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),Vf(t)),L=await za(E),B=[];return L.forEach(U=>{const V=U.data();V.available&&V.stock>0&&B.push({id:U.id,...V})}),{products:B,lastVisible:L.docs[L.docs.length-1]}},{data:h,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:b,isLoading:_,error:T}=J2({queryKey:["products",n,e],queryFn:d,getNextPageParam:w=>w.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),C=w=>{const E=JSON.parse(localStorage.getItem("cart"))||[],L=E.find(B=>B.id===w.id);L?L.quantity+=1:E.push({id:w.id,productId:w.productId,name:w.name,price:w.discount?Math.round(w.price-w.price*(w.discount/100)):Math.round(w.price),image:w.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(E)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},P=w=>{w.colorVariants&&w.colorVariants.length>0?window.location.href=`/product/${w.productId||w.id}`:C(w)},I=w=>{w.colorVariants&&w.colorVariants.length>0?window.location.href=`/product/${w.productId||w.id}`:(C(w),window.location.href="/cart")},N=(h==null?void 0:h.pages.flatMap(w=>w.products))||[];return _?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):T?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"min-h-screen p-4",ref:r,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:["Showing products for ",n," / ",e]}),N.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:N.map(w=>{const E=w.discount&&w.discount>0,L=w.colorVariants&&w.colorVariants.length>0,B=a?17:25,U=w.name.length>B,V=U?`${w.name.substring(0,B)}...`:w.name;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(St,{to:`/product/${w.productId||w.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:w.mainImage||"/placeholder-product.jpg",alt:w.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),E&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[w.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[V,U&&m.jsx(St,{to:`/product/${w.productId||w.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:M=>{M.preventDefault(),window.location.href=`/product/${w.productId||w.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(w.discount?w.price-w.price*(w.discount/100):w.price)]}),w.regularPrice&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",u(w.regularPrice)]})})]}),w.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",w.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>P(w),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:L?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>I(w),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${w.stock>0?"text-green-600":"text-red-500"}`,children:w.stock>0?"In Stock":"Out of Stock"}),w.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[w.stock," units"]})]})]})]},w.id)})}),y&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>p(),disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:b?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},Xh=n=>{},l0=typeof window>"u"?q.useEffect:q.useLayoutEffect,vA=n=>typeof n=="number"&&n>0,b1=n=>vA(n)?n:0,c0=n=>Math.round(100*n)/100,u0=n=>Math.round(2*n)/2,x1=n=>n===0?0:-1*c0(n),B5={},F5="rr--group",q5="rr--box",H5="rr--svg",G5="rr--reset",_1="rr--focus-reset",$5="rr--svg-stop-1",Q5="rr--svg-stop-2",w1="rr--on",E1="rr--off",Du={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},Wh={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},ly={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},cy={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},K5="rr--pointer",Y5="rr--disabled",X5="rr--dir-y",W5="rr--dir-x",Z5="rr--has-stroke",J5="rr--has-border",e6="rr--hf-box-on",t6="rr--hf-box-int",n6="rr--hf-box-off",r6="rr--hf-svg-on",s6="rr--hf-svg-off",Zh={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},Jh={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},i6="--rr--border-width",bA="horizontal",xA="vertical",uy="svg",T1="box",Mr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Il={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},_a={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},ef={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function a6({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=bA,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",d=q.useId(),h=q.useRef(null),[p,y]=q.useState(null),[b,_]=q.useState(!1),T=q.useRef(null),C=q.useRef(null),P=q.useCallback(I=>{const{width:N,height:w,x:E,y:L}=I.getBBox();if(((...B)=>B.every(U=>typeof U=="number"))(N,w,E,L)){const B=`${u} ${c0(N+t)} ${c0(w+t)}`,U=`${x1(E)} ${x1(L)}`;y({viewBox:B,translateData:U})}},[t,u]);return l0(()=>{if(h.current){const{width:I,height:N,x:w,y:E}=h.current.getBBox();if(I===0&&N===0&&w===0&&E===0){const L=function(B){if(!B||!B.parentElement)return null;let U=B==null?void 0:B.parentElement;for(;U&&window.getComputedStyle(U).display!=="none";)U=U.parentElement;return U}(h.current);L&&(C.current=L,_(!0))}else _(!1);P(h.current)}},[n,t,a]),l0(()=>{if(b&&C.current)return T.current=new MutationObserver((I,N)=>{I.forEach(()=>{window.getComputedStyle(C.current).display==="none"||(P(h.current),N.disconnect())})}),T.current.observe(C.current,{attributes:!0}),()=>{var I;(I=T.current)==null||I.disconnect()}},[b,P]),m.jsxs("svg",{"aria-hidden":"true",className:H5,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&m.jsx("defs",{children:m.jsxs("linearGradient",{id:d,...r===xA?{gradientTransform:"rotate(90)"}:{},children:[m.jsx("stop",{className:$5,offset:"50%"}),m.jsx("stop",{className:Q5,offset:"50%"})]})}),m.jsx("g",{ref:h,shapeRendering:"geometricPrecision",...function(){if(p){const I=`translate(${p==null?void 0:p.translateData})`;return I==="translate(0 0)"?{}:{transform:I}}return{transform:void 0}}(),...a?{fill:`url('#${d}')`}:{},children:n})]})}function _A(n,e,t){switch(e){case _a.FILL:return n[Zh.FILL]=t,!0;case _a.BOX:return n[Zh.BOX]=t,!0;case _a.BORDER:return n[Zh.BORDER]=t,!0;case _a.STROKE:return n[Zh.STROKE]=t,!0}return!1}function o6(n,e,t){if(!_A(n,e,t))switch(e){case ef.FILL:n[Jh.FILL]=t;break;case ef.BOX:n[Jh.BOX]=t;break;case ef.BORDER:n[Jh.BORDER]=t;break;case ef.STROKE:n[Jh.STROKE]=t}}function l6(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))_A(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const dy=n=>`${n} ${Du.COLORS}`;function c6({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:d,absoluteStrokeWidth:h,spaceBetween:p,spaceInside:y}){const b=a?K5:"",_=function(w){switch(w){case Mr.SMALL:return ly.SMALL;case Mr.MEDIUM:return ly.MEDIUM;case Mr.LARGE:return ly.LARGE;default:return""}}(p),T=function(w){switch(w){case Mr.SMALL:return cy.SMALL;case Mr.MEDIUM:return cy.MEDIUM;case Mr.LARGE:return cy.LARGE;default:return""}}(y),C=!t&&r?Y5:"",P=a&&o!==Il.NONE?function(w){switch(w){case Il.ZOOM:return dy(Du.ZOOM);case Il.POSITION:return dy(Du.POSITION);case Il.OPACITY:return dy(Du.OPACITY);case Il.COLORS:return Du.COLORS;default:return""}}(o):"",I=u===xA?X5:W5,N=function(w){switch(w){case Mr.SMALL:return Wh.SMALL;case Mr.MEDIUM:return Wh.MEDIUM;case Mr.LARGE:return Wh.LARGE;case Mr.FULL:return Wh.FULL;default:return""}}(e);return`${F5} ${I} ${h>0?Z5:""} ${d>0?J5:""}
${P} ${N} ${b} ${C} ${_}
${T} ${n}`.replace(/  +/g," ").trimEnd()}function u6(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?w1:E1:a<=t?w1:E1)}function d6(n,e,t){const r=Math.floor(u0(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?n6:o===r?t6:e6:o>r?s6:r6)}function S1(n,e){const t={};vA(e)&&(t[i6]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)o6(t,a,o);return t}const h6=[_a.FILL,_a.BOX,_a.STROKE,_a.BORDER];function hy(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const f6="@smastrom/react-rating",m6=n=>`[${f6}] - Nothing's returned from rendering. Reason: ${n}.`;function wu(n,e){return n.shouldRender=!1,n.reason=m6(e),n}const A1="itemShapes is not a valid JSX element",p6=m.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});m.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});m.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});m.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});m.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});m.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const g6={itemShapes:p6,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},ju=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=Xh,onHoverChange:a=Xh,onFocus:o=Xh,onBlur:u=Xh,preventDefault:d="all",isDisabled:h=!1,highlightOnlySelected:p=!1,orientation:y=bA,spaceBetween:b=Mr.NONE,spaceInside:_=Mr.SMALL,radius:T=Mr.NONE,transition:C=Il.COLORS,itemStyles:P=g6,isRequired:I=!1,halfFillMode:N=uy,visibleLabelId:w,visibleItemLabelIds:E,invisibleItemLabels:L,invisibleLabel:B=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:U="Reset rating",id:V,className:M,style:O},R)=>{const D=Array.from({length:e},(Me,Oe)=>Oe+1),F=t&&!Number.isInteger(n),k=F&&!p,oe=F&&p?Math.round(n):n,ve=!t&&!h,$=oe>=.25,le=typeof M=="string"?M:"",ae=N===T1?T1:uy,xe=k&&!(Me=>Number.isInteger(u0(Me)))(oe),H=!I&&!t,ie=I?e:e+1,ye=k?function(Me,Oe){const Je=u0(Oe);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(D,oe):D.indexOf(oe),{staticColors:pe,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ge}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:Oe,boxBorderWidth:Je,...ht}=P,qt=function(sn){const nr={...sn},In={},qn=Object.entries(nr);if(qn.length>0)for(const[On,Qt]of qn)if(Array.isArray(Qt)||typeof Qt=="string"){if(Array.isArray(Qt))for(const Ur of h6)if(Ur===On){const _r=Qt.filter(Ts=>typeof Ts=="string");_r.length>0&&(In[On]=_r,delete nr[On])}else delete nr[On]}else delete nr[On];return{arrayColors:In,staticColors:nr}}(ht);return{itemShapes:Me,absoluteStrokeWidth:b1(Oe),absoluteBoxBorderWidth:b1(Je),...qt}},[P]),Te=Object.keys(Se).length>0,it=q.useCallback((Me,Oe)=>({dynamicClassNames:xe?d6(oe,e,ae):u6(p,e,Me),dynamicCssVars:Oe&&Te?l6(Se,Me,p):[]}),[Se,Te,p,ae,xe,e,oe]),Ze=q.useCallback(()=>_s(hy(ie,ye,!I)),[ye,ie,I]),It=q.useRef(!0),Ht=q.useRef(!0),fn=q.useRef(null),Ft=q.useRef([]),ur=q.useRef(!1),[Jn,Xt]=q.useState({staticCssVars:S1(pe,ge),...it(ye,$)}),[xs,_s]=q.useState(()=>ve?hy(ie,ye,!I):[]);l0(()=>{ve&&Ft.current&&(ur.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(Ft.current[0]))},[ve]),q.useEffect(()=>{if(!It.current)return Xt({staticCssVars:S1(pe,ge),...it(ye,$)});It.current=!1},[pe,it,ge,ye,$]),q.useEffect(()=>{if(!Ht.current&&ve)return Ze();Ht.current=!1},[ve,Ze]);const{shouldRender:ws,reason:ss}=function({items:Me,itemShapes:Oe}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return wu(Je,"items is invalid");if(!Oe)return wu(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Oe)&&!q.isValidElement(Oe))return wu(Je,A1);if(Array.isArray(Oe)){if(Oe.length!==Me)return wu(Je,"itemShapes length mismatch");if(!Oe.every(ht=>q.isValidElement(ht)))return wu(Je,A1)}return Je}({items:e,itemShapes:Ve});if(!ws)return console.error(ss),null;function er(Me,Oe,Je=()=>{}){Ft.current.some(ht=>ht===Me.relatedTarget)?Je():Oe()}function tr(){a(0),Ze()}function Es(Me){er(Me,()=>{tr()}),Xt({...Jn,...it(ye,$)})}function is(Me){er(Me,()=>{tr(),u()})}function gt(Me,Oe){const Je=!I&&Oe===D.length?0:Oe+1;er(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){_s(hy(ie,Me,!I)),Ft.current[Me].focus()}const wn=c6({className:le,radius:T,readOnly:t,isDisabled:h,isDynamic:ve,transition:C,orientation:y,absoluteBoxBorderWidth:ge,absoluteStrokeWidth:Ee,spaceBetween:b,spaceInside:_});function $t(Me){return{ref:Oe=>Ft.current[Me]=Oe}}function Zs(Me){return{tabIndex:xs[Me],onKeyDown:Oe=>function(Je,ht){let qt=0;const sn=I?D.length-1:D.length,nr=ht-1,In=ht+1,qn=!I&&ht===D.length,On=ht===0?sn:nr,Qt=sn===ht?0:In;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return qt=ur.current?On:Qt,We(qt);case"ArrowUp":case"ArrowLeft":return qt=ur.current?Qt:On,We(qt);case"Enter":case"Space":return d!=="all"&&d!=="click"||Je.preventDefault(),r(qn?0:ht+1)}Je.stopPropagation()}(Oe,Me)}}function dr(Me){return{onClick:Oe=>function(Je,ht){d!=="all"&&d!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(I||ye!==ht?ht+1:0)}(Oe,Me),onMouseEnter:()=>function(Oe){a(Oe+1),Xt({...Jn,...it(Oe,!0)})}(Me),onMouseLeave:Es}}function Vr(Me){if(t)return{};const Oe={};if(Array.isArray(E))Oe["aria-labelledby"]=E[Me];else{const Je=Array.isArray(L)?L:D.map((ht,qt)=>`Rate ${qt+1}`);Oe["aria-label"]=Je[Me]}return h&&(Oe["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===oe,...Oe}}function zr(Me){const Oe={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return xe&&ae===uy&&(Oe.hasHF=Me===ye),Oe}return m.jsx("div",{id:V,className:wn,style:{...O,...Jn.staticCssVars},ref:function(Me){ve&&!I&&(fn.current=Me),R&&(R.current=Me)},...function(){if(!t){const Me=I&&!h,Oe={role:"radiogroup","aria-required":Me};return Me&&(Oe["aria-invalid"]=oe<=0),typeof w=="string"&&w.length>0?Oe["aria-labelledby"]=w:Oe["aria-label"]=B,Oe}return{role:"img","aria-label":B}}(),...B5,children:D.map((Me,Oe)=>{return m.jsxs(q.Fragment,{children:[m.jsx("div",{className:`${q5} ${Jn.dynamicClassNames[Oe]}`,style:Jn.dynamicCssVars[Oe],...Vr(Oe),...(ht=Oe,ve?{...$t(ht),...Zs(ht),...dr(ht),onFocus:qt=>gt(qt,ht),onBlur:qt=>is(qt)}:{}),children:m.jsx(a6,{...zr(Oe)})}),H&&Oe===D.length-1&&m.jsx("div",{...(Je=Oe+1,{className:G5,role:"radio","aria-label":U,"aria-checked":oe===0,onClick:()=>r(0),onFocus:qt=>{var sn;gt(qt,Je),(sn=fn.current)==null||sn.classList.add(_1)},onBlur:qt=>{var sn;is(qt),(sn=fn.current)==null||sn.classList.remove(_1)},...Zs(Je),...$t(Je),...h?{"aria-disabled":"true"}:{}})})]},Me);var Je,ht})})});ju.displayName="Rating";function y6(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}y6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Nv=n=>typeof n=="number"&&!isNaN(n),td=n=>typeof n=="string",wA=n=>typeof n=="function",v6=n=>td(n)||Nv(n),b6=n=>q.isValidElement(n)||td(n)||wA(n)||Nv(n),x6=1,EA=()=>`${x6++}`,Ks=new Map,d0=[],C1=new Set,TA=()=>Ks.size>0,_6=(n,{containerId:e})=>{var t;return(t=Ks.get(e||1))==null?void 0:t.toasts.get(n)};function w6(n,e){var t;if(e)return!!((t=Ks.get(e))!=null&&t.isToastActive(n));let r=!1;return Ks.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function E6(n){if(!TA()){d0=d0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||v6(n))Ks.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ks.get(n.containerId);e?e.removeToast(n.id):Ks.forEach(t=>{t.removeToast(n.id)})}}var T6=(n={})=>{Ks.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function S6(n,e){b6(n)&&(TA()||d0.push({content:n,options:e}),Ks.forEach(t=>{t.buildToast(n,e)}))}function SA(n,e){Ks.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function A6(n){return C1.add(n),()=>{C1.delete(n)}}function C6(n){return n&&(td(n.toastId)||Nv(n.toastId))?n.toastId:EA()}function wd(n,e){return S6(n,e),e.toastId}function Nm(n,e){return{...e,type:e&&e.type||n,toastId:C6(e)}}function Im(n){return(e,t)=>wd(e,Nm(n,t))}function _t(n,e){return wd(n,Nm("default",e))}_t.loading=(n,e)=>wd(n,Nm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function R6(n,{pending:e,error:t,success:r},a){let o;e&&(o=td(e)?_t.loading(e,a):_t.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,b)=>{if(y==null){_t.dismiss(o);return}let _={type:p,...u,...a,data:b},T=td(y)?{render:y}:y;return o?_t.update(o,{..._,...T}):_t(T.render,{..._,...T}),b},h=wA(n)?n():n;return h.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),h}_t.promise=R6;_t.success=Im("success");_t.info=Im("info");_t.error=Im("error");_t.warning=Im("warning");_t.warn=_t.warning;_t.dark=(n,e)=>wd(n,Nm("default",{theme:"dark",...e}));function N6(n){E6(n)}_t.dismiss=N6;_t.clearWaitingQueue=T6;_t.isActive=w6;_t.update=(n,e={})=>{let t=_6(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:EA()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,wd(u,o)}};_t.done=n=>{_t.update(n,{progress:1})};_t.onChange=A6;_t.play=n=>SA(!0,n);_t.pause=n=>SA(!1,n);function I6(n){return cd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const O6=()=>{var le,ae,xe,H,ie,ye,pe,Se,Ve,Ee;const{productId:n}=v0(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,u]=q.useState(null),[d,h]=q.useState(null),[p,y]=q.useState(0),[b,_]=q.useState(null),[T,C]=q.useState(null),[P,I]=q.useState("description"),[N,w]=q.useState([]),[E,L]=q.useState(!1),[B,U]=q.useState({name:"",contact:"",rating:0,comment:""}),[V,M]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const it=Mo(Lr(bn,"products"),ba("productId","==",n)),Ze=await za(it);if(!Ze.empty){const It=Ze.docs[0],Ht={id:It.id,...It.data()};t(Ht),Ht.isColorVariants&&((Te=Ht.colorVariants)==null?void 0:Te.length)>0&&u(Ht.colorVariants[0])}a(!1)}catch(it){console.error("Error fetching product:",it),a(!1)}})()},[n]),q.useEffect(()=>{let ge;return(()=>{if(!n)return;const it=Lr(bn,"reviews"),Ze=Mo(it,ba("productId","==",n));ge=bj(Ze,It=>{const Ht=[];It.forEach(fn=>{Ht.push({id:fn.id,...fn.data()})}),w(Ht)},It=>{console.error("Error listening to reviews:",It)})})(),()=>{ge&&ge()}},[n]);const O=()=>{var Ze,It,Ht,fn;if(oe()){_t.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!T){_t.error("Please select a size");return}const ge=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(It=o==null?void 0:o.images)==null?void 0:It[0]:(Ht=e.images)==null?void 0:Ht[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(fn=o==null?void 0:o.images)==null?void 0:fn[0]}:null,size:T?{size:T.size,stock:T.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},it=ge.findIndex(Ft=>{var ur,Jn,Xt,xs;return!(Ft.id!==Te.id||e.isColorVariants&&((ur=Ft.color)==null?void 0:ur.name)!==((Jn=Te.color)==null?void 0:Jn.name)||T&&((Xt=Ft.size)==null?void 0:Xt.size)!==((xs=Te.size)==null?void 0:xs.size))});it>=0?(ge[it].quantity+=1,_t.success("Item quantity increased in cart")):(ge.push(Te),_t.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ge)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},R=()=>{O(),window.location.href="/cart"},D=async ge=>{if(ge.preventDefault(),!B.name||!B.comment||B.rating===0||!B.contact){_t.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.contact),it=/^[0-9]{10,15}$/.test(B.contact);if(!Te&&!it){_t.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:B.name,contact:B.contact,contactType:Te?"email":"phone",rating:B.rating,comment:B.comment,createdAt:new Date().toISOString()};V?(await yj(Oo(bn,"reviews",V),Ze),_t.success("Review updated successfully")):(await n2(Lr(bn,"reviews"),Ze),_t.success("Review submitted successfully")),L(!1),U({name:"",contact:"",rating:0,comment:""}),M(null)}catch(Ze){console.error("Error submitting review:",Ze),_t.error("Failed to submit review")}},F=ge=>{U({name:ge.name,contact:ge.contact||"",rating:ge.rating,comment:ge.comment}),M(ge.id),L(!0)},k=async ge=>{if(window.confirm("Are you sure you want to delete this review?"))try{await vj(Oo(bn,"reviews",ge)),_t.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),_t.error("Failed to delete review")}},oe=()=>{var ge;return e.isColorVariants?((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},ve=ge=>ge<1;if(r)return m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return m.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=N.length>0?(N.reduce((ge,Te)=>ge+Te.rating,0)/N.length).toFixed(1):0;return m.jsxs("div",{className:"pt-6",children:[E&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold",children:V?"Edit Review":"Write a Review"}),m.jsx("button",{onClick:()=>{L(!1),M(null),U({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:D,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:B.name,onChange:ge=>U({...B,name:ge.target.value}),required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:B.contact,onChange:ge=>U({...B,contact:ge.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),m.jsx(ju,{style:{maxWidth:150},value:B.rating,onChange:ge=>U({...B,rating:ge}),isRequired:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),m.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:B.comment,onChange:ge=>U({...B,comment:ge.target.value}),required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:()=>{L(!1),M(null),U({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:V?"Update Review":"Submit Review"})]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[m.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[yf,p1],className:"mb-2 rounded-lg relative",children:[(le=o==null?void 0:o.images)==null?void 0:le.map((ge,Te)=>m.jsxs(Dl,{children:[m.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ge,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),m.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[m.jsx("p",{children:o.colorName}),m.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"relative mt-2",children:[m.jsx(Ml,{onSwiper:h,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[yf,p1,g1],className:"thumbnail-swiper",children:e.colorVariants.map((ge,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ge.colorName?"border-blue-500":"border-transparent"} ${ge.stock<1?"opacity-70":""}`,onClick:()=>u(ge),children:[m.jsx("img",{src:ge.thumbnail,alt:ge.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ge.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[yf],className:"mb-2 rounded-lg relative",onSlideChange:ge=>y(ge.activeIndex),onSwiper:_,children:[(ae=e.images)==null?void 0:ae.map((ge,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ge,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((xe=e.images)==null?void 0:xe.length)>1&&m.jsx("div",{className:"relative mt-2",children:m.jsx(Ml,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[g1],className:"thumbnail-swiper",children:e.images.map((ge,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),b&&b.slideTo(Te)},children:[m.jsx("img",{src:ge,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),m.jsxs("div",{className:"px-2 sm:px-0",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:m.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[m.jsx("span",{children:m.jsx(Ew,{})}),m.jsx("p",{children:"Ask for details"})]})}),m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx(ju,{style:{maxWidth:100},value:$,readOnly:!0}),m.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",N.length," ",N.length===1?"review":"reviews",")"]})]}),m.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[m.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&m.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&m.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),m.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ge,Te)=>m.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ge.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ge.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ge.stock>=1&&u(ge),disabled:ge.stock<1,children:[ge.colorName,ge.stock<1&&" (Out)"]},Te))})]}),((ie=o==null?void 0:o.sizes)==null?void 0:ie.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ge,Te)=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(T==null?void 0:T.size)===ge.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${ve(ge.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!ve(ge.stock)&&C(ge),disabled:ve(ge.stock),children:ge.size}),m.jsxs("span",{className:`text-xs mt-1 ${ve(ge.stock)?"text-red-500":"text-gray-500"}`,children:[ge.stock," left"]})]},Te))})]}),m.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[m.jsx("span",{className:`font-medium ${oe()?"text-red-500":"text-green-600"}`,children:oe()?"Out of Stock":"In Stock"}),!oe()&&m.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?`${o.sizes.reduce((ge,Te)=>ge+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),m.jsx("div",{children:e.productType&&m.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),m.jsxs("div",{className:"flex gap-3 mb-2",children:[m.jsx("button",{onClick:O,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${oe()||((pe=o==null?void 0:o.sizes)==null?void 0:pe.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:oe()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!T,children:"Add to Cart"}),m.jsx("button",{onClick:R,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${oe()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:oe()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!T,children:"Buy Now"})]}),m.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[m.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:m.jsx(I6,{className:"text-black text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"কল করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx(Ew,{className:"text-green-500 text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),m.jsxs("div",{className:"mt-8 border-t pt-6",children:[m.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("description"),children:"Description"}),m.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("reviews"),children:["Reviews (",N.length,")"]})]}),m.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?m.jsxs("div",{className:"space-y-4",children:[e.productType&&m.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:m.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),m.jsx("div",{className:"prose max-w-none text-gray-600",children:e.description||"No description available."}),e.detailsImage&&m.jsx("div",{className:"mt-4",children:m.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[m.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[m.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),m.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:m.jsx(ju,{style:{maxWidth:120},value:$,readOnly:!0})}),m.jsxs("p",{className:"text-gray-600",children:[N.length," ",N.length===1?"review":"reviews"]})]}),m.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),N.length>0?m.jsx("div",{className:"space-y-6",children:N.map(ge=>m.jsxs("div",{className:"border-b pb-4",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold",children:ge.name}),m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx(ju,{style:{maxWidth:100},value:ge.rating,readOnly:!0}),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ge.createdAt).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>F(ge),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),m.jsx("button",{onClick:()=>k(ge.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),m.jsx("p",{className:"mt-2 text-gray-700",children:ge.comment}),ge.contact&&m.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ge.contact]})]},ge.id))}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),m.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),m.jsx("button",{onClick:()=>L(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},M6=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=w=>{const{name:E,value:L,type:B,checked:U}=w.target;e(V=>({...V,[E]:B==="checkbox"?U:L}))},r=w=>{const{name:E,value:L}=w.target;e(B=>({...B,[E]:Number(L)}))},a=w=>{const{name:E,value:L}=w.target;e(B=>({...B,[E]:L.split(",").map(U=>U.trim())}))},o=(w,E,L)=>{const B=[...n.colorVariants];B[w][E]=E==="stock"||E==="isOutfit"?E==="isOutfit"?L:Number(L):L,e(U=>({...U,colorVariants:B}))},u=(w,E,L)=>{const B=[...n.colorVariants];B[w].images[E]=L,e(U=>({...U,colorVariants:B}))},d=(w,E,L,B)=>{const U=[...n.colorVariants];U[w].sizes[E][L]=L==="stock"?Number(B):B,e(V=>({...V,colorVariants:U}))},h=()=>{e(w=>({...w,colorVariants:[...w.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=w=>{const E=[...n.colorVariants];E.splice(w,1),e(L=>({...L,colorVariants:E}))},y=w=>{const E=[...n.colorVariants];E[w].images.push(""),e(L=>({...L,colorVariants:E}))},b=(w,E)=>{const L=[...n.colorVariants];L[w].images.splice(E,1),e(B=>({...B,colorVariants:L}))},_=w=>{const E=[...n.colorVariants];E[w].sizes.push({size:"",stock:0}),e(L=>({...L,colorVariants:E}))},T=(w,E)=>{const L=[...n.colorVariants];L[w].sizes.splice(E,1),e(B=>({...B,colorVariants:L}))},C=(w,E)=>{const L=[...n.images];L[w]=E,e(B=>({...B,images:L}))},P=()=>{e(w=>({...w,images:[...w.images,""]}))},I=w=>{const E=[...n.images];E.splice(w,1),e(L=>({...L,images:E}))},N=async w=>{w.preventDefault();try{const E={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?E.colorVariants=n.colorVariants.map(B=>{const{isOutfit:U,sizes:V,...M}=B;return U?{...M,sizes:V}:M}):E.images=n.images;const L=Oo(bn,n.collectionName,n.documentName);await fv(L,E),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(B=>({...B,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(E){console.error("Error adding document: ",E),alert("Error uploading product!")}};return m.jsxs("div",{className:"container mx-auto p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),m.jsxs("form",{onSubmit:N,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),m.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),m.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),m.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),m.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Gender"}),m.jsx("option",{value:"men",children:"Men"}),m.jsx("option",{value:"women",children:"Women"}),m.jsx("option",{value:"unisex",children:"Unisex"}),m.jsx("option",{value:"kids",children:"Kids"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),m.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),m.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Delivery Charge Option"}),m.jsx("option",{value:"true",children:"Apply Delivery Charge"}),m.jsx("option",{value:"false",children:"Free Delivery"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),m.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),m.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),m.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),m.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),m.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),m.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),m.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),m.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),m.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[m.jsx("option",{value:"",children:"Select Product Type"}),m.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),m.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((w,E)=>m.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),m.jsx("input",{type:"text",value:w.colorName,onChange:L=>o(E,"colorName",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:w.stock,onChange:L=>o(E,"stock",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),m.jsx("input",{type:"text",value:w.thumbnail,onChange:L=>o(E,"thumbnail",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:w.isOutfit,onChange:L=>o(E,"isOutfit",L.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),w.isOutfit&&m.jsxs("div",{className:"space-y-3 mt-3",children:[m.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),w.sizes.map((L,B)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),m.jsx("input",{type:"text",value:L.size,onChange:U=>d(E,B,"size",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:L.stock,onChange:U=>d(E,B,"stock",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("button",{type:"button",onClick:()=>T(E,B),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},B)),m.jsx("button",{type:"button",onClick:()=>_(E),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),w.images.map((L,B)=>m.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[m.jsx("input",{type:"text",value:L,onChange:U=>u(E,B,U.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>b(E,B),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},B)),m.jsx("button",{type:"button",onClick:()=>y(E),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("button",{type:"button",onClick:()=>p(E),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},E)),m.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((w,E)=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"text",value:w,onChange:L=>C(E,L.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>I(E),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},E)),m.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},D6=()=>{const{gender:n}=v0(),e=2,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,u]=q.useState(window.innerWidth>=768),d=E=>(typeof E!="number"&&(E=parseFloat(E)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(E)));q.useEffect(()=>{const E=()=>{const L=window.innerWidth;a(L<768),u(L>=768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const h=async({pageParam:E=null})=>{const L=E?Mo(Lr(bn,"products"),ba("gender","==",n),XS(E),Vf(e)):Mo(Lr(bn,"products"),ba("gender","==",n),Vf(e)),B=await za(L),U=[];return B.forEach(V=>{const M=V.data();M.available&&M.stock>0&&U.push({id:V.id,...M})}),{products:U,lastVisible:B.docs[B.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:b,isFetchingNextPage:_,isLoading:T,error:C}=J2({queryKey:["products",n],queryFn:h,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=E=>{var U;const L=JSON.parse(localStorage.getItem("cart"))||[],B=L.find(V=>V.id===E.id);B?B.quantity+=1:L.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?Math.round(E.price-E.price*(E.discount/100)):Math.round(E.price),image:E.mainImage||((U=E.images)==null?void 0:U[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(L)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},I=E=>{var B;E.isColorVariants&&((B=E.colorVariants)==null?void 0:B.length)>0?window.location.href=`/product/${E.productId||E.id}`:P(E)},N=E=>{var B;E.isColorVariants&&((B=E.colorVariants)==null?void 0:B.length)>0?window.location.href=`/product/${E.productId||E.id}`:(P(E),window.location.href="/cart")},w=(p==null?void 0:p.pages.flatMap(E=>E.products))||[];return T?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):C?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"min-h-screen p-4",ref:t,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:[n,"'s Collection"]}),w.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:w.map(E=>{var oe,ve;const L=E.discount&&E.discount>0,B=E.isColorVariants&&((oe=E.colorVariants)==null?void 0:oe.length)>0,U=r&&E.name.length>17?`${E.name.substring(0,17)}.`:E.name,V=o&&E.name.length>25?`${E.name.substring(0,25)}.`:E.name,M=r?U:V,O=r&&E.name.length>17,R=o&&E.name.length>25,D=L?Math.round(E.price-E.price*(E.discount/100)):null,F=L?D:Math.round(E.price),k=E.regularPrice?Math.round(E.regularPrice):null;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(St,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:E.mainImage||((ve=E.images)==null?void 0:ve[0])||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),L&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[M,(O||R)&&m.jsx(St,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",d(F)]}),L&&k&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",d(k)]})})]}),E.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>I(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:B?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>N(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),b&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>y(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},j6=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:b}=p.target;e(_=>({..._,[y]:b}))},o=(p,y)=>{const{name:b,value:_}=y.target,T=[...n.items];T[p]={...T[p],[b]:_},e(C=>({...C,items:T}))},u=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const y=n.items.filter((b,_)=>_!==p);e(b=>({...b,items:y}))},h=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=Oo(bn,n.collectionName,n.documentName),b=await t2(y);let _={};b.exists()&&(_=b.data());const T={..._,type:n.type,updatedAt:xj()};if(n.type==="link"&&(T.order=Number(n.order)),n.type==="dropdown"){const C=_.items||[],P=n.items.filter(I=>I.name&&I.path);T.items=[...C,...P],T.path=null}else T.path=n.path,T.items=null;await fv(y,T,{merge:!0}),alert("Category saved successfully!"),e(C=>({...C,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex border-b mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),m.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),m.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[m.jsx("option",{value:"dropdown",children:"Dropdown"}),m.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),m.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),m.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("button",{type:"button",onClick:()=>d(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),m.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),m.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",m.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",m.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:m.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),m.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},P6=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[u,d]=q.useState(""),[h,p]=q.useState(0),[y,b]=q.useState(""),[_,T]=q.useState(!0),[C,P]=q.useState({}),I=R=>{const D=typeof R=="string"?parseFloat(R):R;return Math.floor(D).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const F=(JSON.parse(localStorage.getItem("cart"))||[]).map(oe=>({...oe,price:typeof oe.price=="string"?parseFloat(oe.price):oe.price,deliveryCharge:typeof oe.deliveryCharge>"u"?!0:oe.deliveryCharge}));e(F);const k={};for(const oe of F)try{const ve=Oo(bn,"products",oe.productId),$=await t2(ve);$.exists()&&(k[oe.productId]=$.data())}catch(ve){console.error("Error fetching product data:",ve)}P(k),N(),T(!1)})()},[]);const N=async()=>{try{await new Promise(k=>setTimeout(k,500));const R={coxbazar:50,outOfCoxbazar:100},F=n.some(k=>{const oe=C[k.productId];return(oe==null?void 0:oe.deliveryCharge)===!0||typeof(oe==null?void 0:oe.deliveryCharge)>"u"&&(k.deliveryCharge===!0||typeof k.deliveryCharge>"u")})?t==="inside"?R.coxbazar:R.outOfCoxbazar:0;o(F)}catch(R){console.error("Error fetching shipping charges:",R);const D=n.some(F=>{const k=C[F.productId];return(k==null?void 0:k.deliveryCharge)===!0||typeof(k==null?void 0:k.deliveryCharge)>"u"&&(F.deliveryCharge===!0||typeof F.deliveryCharge>"u")});o(D?t==="inside"?50:100:0)}};q.useEffect(()=>{N()},[t,n,C]);const w=(R,D)=>{if(D<1)return;const F=n.map(k=>k.id===R?{...k,quantity:D}:k);localStorage.setItem("cart",JSON.stringify(F)),e(F),window.dispatchEvent(new Event("storage"))},E=R=>{const D=n.filter(F=>F.id!==R);localStorage.setItem("cart",JSON.stringify(D)),e(D),window.dispatchEvent(new Event("storage"))},L=()=>n.reduce((R,D)=>{const F=typeof D.price=="number"?D.price:typeof D.price=="string"?parseFloat(D.price):0;return R+Math.floor(F)*D.quantity},0),B=()=>{const R=L();return Math.floor(R+a-h)},U=R=>{r(R.target.value)},V=async()=>{if(!u.trim()){b("Please enter a coupon code");return}T(!0);try{await new Promise(D=>setTimeout(D,800));const R={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};R.valid?(p(R.discountAmount),b(`Coupon applied! Discount: ৳${I(R.discountAmount)}`)):(p(0),b(R.message))}catch(R){console.error("Error applying coupon:",R),b("Failed to apply coupon. Please try again.")}finally{T(!1)}};if(_&&n.length===0)return m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const M=n.some(R=>{const D=C[R.productId];return(D==null?void 0:D.deliveryCharge)===!0||typeof(D==null?void 0:D.deliveryCharge)>"u"&&(R.deliveryCharge===!0||typeof R.deliveryCharge>"u")}),O=n.filter(R=>{const D=C[R.productId];return(D==null?void 0:D.deliveryCharge)===!1||R.deliveryCharge===!1});return m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),m.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?m.jsxs("div",{className:"text-center py-8 sm:py-12",children:[m.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),m.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx(St,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(R=>{var oe,ve;const D=typeof R.price=="number"?R.price:typeof R.price=="string"?parseFloat(R.price):0;Math.floor(D)*R.quantity;const F=C[R.productId],k=(F==null?void 0:F.deliveryCharge)===!1||R.deliveryCharge===!1;return m.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:m.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("div",{className:"pr-2",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:R.name}),((oe=R.color)==null?void 0:oe.name)&&m.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",m.jsx("span",{className:"capitalize",children:R.color.name})]}),((ve=R.size)==null?void 0:ve.size)&&m.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",m.jsx("span",{className:"uppercase",children:R.size.size})]}),k&&m.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),m.jsx("button",{onClick:()=>E(R.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:m.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",I(D)]}),m.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[m.jsx("button",{onClick:()=>w(R.id,R.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),m.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:R.quantity}),m.jsx("button",{onClick:()=>w(R.id,R.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},R.id)})})})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",I(L())]})]}),M?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),m.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:U,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:U,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",I(a)]})]})]}):m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),m.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),O.length>0&&m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),m.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:O.map(R=>{var D;return m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-1",children:"•"}),m.jsx("span",{className:"line-clamp-1",children:R.name}),((D=R.size)==null?void 0:D.size)&&m.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",R.size.size,")"]})]},R.id)})})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),m.jsxs("div",{className:"flex rounded-md shadow-sm",children:[m.jsx("input",{type:"text",id:"coupon",value:u,onChange:R=>d(R.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),m.jsx("button",{onClick:V,disabled:_,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:_?m.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&m.jsx("p",{className:`mt-1 text-xs sm:text-sm ${h>0?"text-green-600":"text-red-600"}`,children:y})]}),h>0&&m.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[m.jsx("span",{children:"Discount"}),m.jsxs("span",{children:["-৳",I(h)]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",I(B())]})]})}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx(St,{to:{pathname:"/checkout",state:{cartItems:n.map(R=>({...R,price:typeof R.price=="string"?parseFloat(R.price):R.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:h}}},className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),m.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:m.jsxs("p",{children:["or"," ",m.jsxs(St,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",m.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},k6=()=>{const n=Ws(),e=Jf(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[u,d]=q.useState(!1),[h,p]=q.useState(!1),[y,b]=q.useState(""),[_,T]=q.useState(!1),[C,P]=q.useState(!0),I=()=>{if(n.state)return n.state;const R=localStorage.getItem("checkoutState");return R?JSON.parse(R):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:N,shipping:w,coupon:E}=I();q.useEffect(()=>{const R=async()=>{try{const D=Lr(bn,"products"),F=await za(D),k=N.map(ve=>ve.id);let oe=!1;F.forEach(ve=>{k.includes(ve.id)&&ve.data().productType&&(oe=!0)}),T(oe),r(ve=>({...ve,paymentMethod:oe?"bkash":"cash"})),P(!1)}catch(D){console.error("Error checking product types:",D),P(!1)}};N.length>0?R():P(!1)},[N]);const L=R=>{const D=typeof R=="string"?parseFloat(R):R;return Math.floor(D).toLocaleString("en-US")},B=()=>N.reduce((R,D)=>{const F=typeof D.price=="number"?D.price:typeof D.price=="string"?parseFloat(D.price):0;return R+Math.floor(F)*D.quantity},0),U=()=>{const R=B();return Math.floor(R+w.charge-E.discount)},V=R=>{const{name:D,value:F,type:k,checked:oe}=R.target;r({...t,[D]:k==="checkbox"?oe:F}),a[D]&&o({...a,[D]:""})},M=()=>{const R={};return t.name.trim()||(R.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(R.phone="Please enter a valid Bangladeshi phone number"):R.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(R.address="Address should be at least 10 characters"):R.address="Address is required",t.notes.length>100&&(R.notes="Notes should not exceed 100 characters"),t.agreeTerms||(R.agreeTerms="You must agree to the terms and conditions"),o(R),Object.keys(R).length===0},O=async R=>{if(R.preventDefault(),!!M()){d(!0);try{const D={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:N,shipping:w,coupon:E,subtotal:B(),total:U(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()},F=await n2(Lr(bn,"orders"),D);b(F.id),p(!0),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage"))}catch(D){console.error("Error submitting order:",D),o({...a,submit:"Failed to place order. Please try again."})}finally{d(!1)}}};return h?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"max-w-3xl mx-auto",children:m.jsxs("div",{className:"text-center bg-white p-6 sm:p-8 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:m.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("h2",{className:"mt-3 text-lg sm:text-xl font-medium text-gray-900",children:"Order Placed Successfully!"}),m.jsxs("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:["Your order ID is: ",m.jsx("span",{className:"font-medium",children:y})]}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"We've sent a confirmation to your phone number."}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]})})}):N.length===0?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-medium text-gray-900",children:"No Order Data Found"}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Please add items to your cart before proceeding to checkout."}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]})}):C?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:m.jsx("div",{className:"text-center",children:m.jsxs("div",{className:"inline-flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("span",{children:"Loading payment options..."})]})})}):m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),m.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),m.jsx("form",{onSubmit:O,children:m.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-2",children:["Payment Method ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("div",{className:"space-y-2",children:_?m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment (Required for selected products)"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-cash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"Cash on Delivery"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment"})]})]})}),_&&m.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-700",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"}),_&&m.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Note: Some products in your cart require bKash payment."})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"name",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Full Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.name?"border-red-500":"border"}`}),a.name&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"phone",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Phone Number ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500 sm:text-sm",children:"+88"})}),m.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:V,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.phone?"border-red-500":"border"}`})]}),a.phone&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"address",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Delivery Address ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.address?"border-red-500":"border"}`,placeholder:"House #, Road #, Area, District"}),a.address&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm sm:text-base font-medium text-gray-700",children:"Order Notes (Optional)"}),m.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.notes?"border-red-500":"border"}`,placeholder:"Any special instructions for your order..."}),m.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&m.jsx("p",{className:"text-sm text-red-600",children:a.notes}),m.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex items-center h-5",children:m.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:V,className:`h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 ${a.agreeTerms?"border-red-500":"border"}`})}),m.jsxs("div",{className:"ml-3 text-sm",children:[m.jsxs("label",{htmlFor:"agreeTerms",className:"font-medium text-gray-700",children:["I agree to the ",m.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ",m.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&m.jsx("p",{className:"mt-1 text-red-600",children:a.agreeTerms})]})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-green-600 hover:bg-green-700 disabled:bg-green-400",children:u?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Place Order"}),a.submit&&m.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:a.submit})]})]})})]})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),m.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[m.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[m.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[N.length," ",N.length===1?"Item":"Items"]}),m.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(R=>{var k;const D=typeof R.price=="number"?R.price:typeof R.price=="string"?parseFloat(R.price):0,F=Math.floor(D)*R.quantity;return m.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:m.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:R.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[R.quantity," × ৳",L(D)]}),((k=R.size)==null?void 0:k.size)&&m.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",R.size.size]})]})]}),m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",L(F)]})]},R.id)})})]}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",L(B())]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),m.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:w.charge>0?`৳${L(w.charge)} (${w.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:m.jsx("span",{className:"text-green-600",children:"Free"})})]}),E.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",L(E.discount),E.code&&` (${E.code})`]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",L(U())]})]})})]})]})]})})]})]})})},L6=()=>{const{state:n}=Ws(),e=Jf(),[t,r]=q.useState(!1),[a,o]=q.useState(null);if(!(n!=null&&n.orderData))return e("/"),null;const{orderData:u,contactNumber:d}=n,h=async()=>{r(!0),o(null);try{await fv(Oo(bn,"orders",d),{...u,status:"confirmed"}),e("/")}catch(p){console.error("Error storing order:",p),o("Failed to store order. Please contact support.")}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-3xl mx-auto",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),m.jsx("h1",{className:"mt-3 text-2xl sm:text-3xl font-bold text-gray-900",children:"Order Ready for Confirmation!"}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Your order will be confirmed after clicking the button below."}),a&&m.jsx("p",{className:"mt-2 text-sm text-red-600",children:a})]}),m.jsxs("div",{className:"mt-8 bg-white shadow-sm rounded-lg overflow-hidden",children:[m.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Order Summary"})}),m.jsx("div",{className:"p-4 sm:p-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Customer Information"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Name"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.name})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Contact Number"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.contactNumber})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Address"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.address})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Order Note"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.orderNote})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Payment Method"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-900 capitalize",children:u.paymentMethod==="bkash"?"bKash Payment Gateway":"Cash on Delivery"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Order Items"}),m.jsx("div",{className:"space-y-4",children:u.items.map((p,y)=>m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden",children:m.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{className:"ml-4 flex-1",children:[m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:p.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[p.color&&`Color: ${p.color}`," ",p.size&&`Size: ${p.size}`]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",p.quantity," × ৳",p.price.toFixed(2)]})]}),m.jsxs("div",{className:"ml-4 text-sm sm:text-base font-medium text-gray-900",children:["৳",(p.price*p.quantity).toFixed(2)]})]},y))})]}),m.jsx("div",{className:"border-t border-gray-200 pt-4",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",u.subtotal.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",u.shippingCharge.toFixed(2)]})]}),u.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",u.discount.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",u.total]})]})]})})]})}),m.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 text-center",children:[m.jsx("button",{onClick:h,disabled:t,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400",children:t?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Storing Order..."]}):"Complete Order"}),m.jsx("p",{className:"mt-3 text-xs sm:text-sm text-gray-500",children:"Click the button above to confirm your order"})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(St,{to:"/",className:"text-sm sm:text-base font-medium text-blue-600 hover:text-blue-500",children:["Back to Home ",m.jsx("span",{"aria-hidden":"true",children:"→"})]})})]})})},V6=tI([{path:"/",element:m.jsx(aL,{}),children:[{index:!0,element:m.jsx(y1,{})},{path:"/home",element:m.jsx(y1,{})},{path:"/category/:gender",element:m.jsx(D6,{})},{path:"/category/:gender/:category",element:m.jsx(v1,{})},{path:"/category/:gender",element:m.jsx(v1,{})},{path:"/all-categories",element:m.jsx(tA,{})},{path:"/product/:productId",element:m.jsx(O6,{})},{path:"/admin",element:m.jsx(U5,{})},{path:"/up-products",element:m.jsx(M6,{})},{path:"/up-categories",element:m.jsx(j6,{})},{path:"/cart",element:m.jsx(P6,{})},{path:"/checkout",element:m.jsx(k6,{})},{path:"/order-complete",element:m.jsx(L6,{})},{path:"/footer",element:m.jsx(eA,{})}]}]);sR.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(z5,{children:m.jsx(pI,{router:V6})})}));
