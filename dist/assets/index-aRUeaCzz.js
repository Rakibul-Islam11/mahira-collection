var U_=n=>{throw TypeError(n)};var Ag=(n,e,t)=>e.has(n)||U_("Cannot "+t);var Y=(n,e,t)=>(Ag(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?U_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Ag(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mt=(n,e,t)=>(Ag(n,e,"access private method"),t);var Uf=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function k1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cg={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function YC(){if(B_)return pu;B_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var F_;function XC(){return F_||(F_=1,Cg.exports=YC()),Cg.exports}var m=XC(),Rg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function WC(){if(q_)return et;q_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function R(H,ie,ve){this.props=H,this.context=ie,this.refs=P,this.updater=ve||w}R.prototype.isReactComponent={},R.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=R.prototype;function T(H,ie,ve){this.props=H,this.context=ie,this.refs=P,this.updater=ve||w}var E=T.prototype=new I;E.constructor=T,A(E,R.prototype),E.isPureReactComponent=!0;var L=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function V(H,ie,ve,ge,Se,Ve){return ve=Ve.ref,{$$typeof:n,type:H,key:ie,ref:ve!==void 0?ve:null,props:Ve}}function O(H,ie){return V(H.type,ie,void 0,void 0,void 0,H.props)}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function M(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ie[ve]})}var z=/\/+/g;function k(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):ie.toString(36)}function D(){}function le(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(D,D):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function fe(H,ie,ve,ge,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,fe(Ee(H._payload),ie,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+k(H,0):ge,L(Se)?(ve="",Ee!=null&&(ve=Ee.replace(z,"$&/")+"/"),fe(Se,ie,ve,"",function(it){return it})):Se!=null&&(N(Se)&&(Se=O(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(z,"$&/")+"/")+Ee)),ie.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(L(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],Ve=ye+k(ge,Te),Ee+=fe(ge,ie,ve,Ve,Se);else if(Te=_(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,Ve=ye+k(ge,Te++),Ee+=fe(ge,ie,ve,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return fe(le(H),ie,ve,ge,Se);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,ie,ve){if(H==null)return H;var ge=[],Se=0;return fe(H,ge,"","",function(Ve){return ie.call(ve,Ve,Se++)}),ge}function ae(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return et.Children={map:$,forEach:function(H,ie,ve){$(H,function(){ie.apply(this,arguments)},ve)},count:function(H){var ie=0;return $(H,function(){ie++}),ie},toArray:function(H){return $(H,function(ie){return ie})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=R,et.Fragment=t,et.Profiler=a,et.PureComponent=T,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},et.cache=function(H){return function(){return H.apply(null,arguments)}},et.cloneElement=function(H,ie,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=A({},H.props),Se=H.key,Ve=void 0;if(ie!=null)for(Ee in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(Se=""+ie.key),ie)!B.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(ge[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return V(H.type,Se,void 0,void 0,Ve,ge)},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},et.createElement=function(H,ie,ve){var ge,Se={},Ve=null;if(ie!=null)for(ge in ie.key!==void 0&&(Ve=""+ie.key),ie)B.call(ie,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=ie[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return V(H,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:d,render:H}},et.isValidElement=N,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:ae}},et.memo=function(H,ie){return{$$typeof:p,type:H,compare:ie===void 0?null:ie}},et.startTransition=function(H){var ie=F.T,ve={};F.T=ve;try{var ge=H(),Se=F.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,oe)}catch(Ve){oe(Ve)}finally{F.T=ie}},et.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},et.use=function(H){return F.H.use(H)},et.useActionState=function(H,ie,ve){return F.H.useActionState(H,ie,ve)},et.useCallback=function(H,ie){return F.H.useCallback(H,ie)},et.useContext=function(H){return F.H.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H,ie){return F.H.useDeferredValue(H,ie)},et.useEffect=function(H,ie,ve){var ge=F.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,ie)},et.useId=function(){return F.H.useId()},et.useImperativeHandle=function(H,ie,ve){return F.H.useImperativeHandle(H,ie,ve)},et.useInsertionEffect=function(H,ie){return F.H.useInsertionEffect(H,ie)},et.useLayoutEffect=function(H,ie){return F.H.useLayoutEffect(H,ie)},et.useMemo=function(H,ie){return F.H.useMemo(H,ie)},et.useOptimistic=function(H,ie){return F.H.useOptimistic(H,ie)},et.useReducer=function(H,ie,ve){return F.H.useReducer(H,ie,ve)},et.useRef=function(H){return F.H.useRef(H)},et.useState=function(H){return F.H.useState(H)},et.useSyncExternalStore=function(H,ie,ve){return F.H.useSyncExternalStore(H,ie,ve)},et.useTransition=function(){return F.H.useTransition()},et.version="19.1.0",et}var H_;function Wh(){return H_||(H_=1,Rg.exports=WC()),Rg.exports}var q=Wh();const Ut=k1(q);var Ng={exports:{}},gu={},Ig={exports:{}},Og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function ZC(){return G_||(G_=1,function(n){function e($,ae){var oe=$.length;$.push(ae);e:for(;0<oe;){var xe=oe-1>>>1,H=$[xe];if(0<a(H,ae))$[xe]=ae,$[oe]=H,oe=xe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ae=$[0],oe=$.pop();if(oe!==ae){$[0]=oe;e:for(var xe=0,H=$.length,ie=H>>>1;xe<ie;){var ve=2*(xe+1)-1,ge=$[ve],Se=ve+1,Ve=$[Se];if(0>a(ge,oe))Se<H&&0>a(Ve,ge)?($[xe]=Ve,$[Se]=oe,xe=Se):($[xe]=ge,$[ve]=oe,xe=ve);else if(Se<H&&0>a(Ve,oe))$[xe]=Ve,$[Se]=oe,xe=Se;else break e}}return ae}function a($,ae){var oe=$.sortIndex-ae.sortIndex;return oe!==0?oe:$.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],y=1,b=null,_=3,w=!1,A=!1,P=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function L($){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=$)r(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(p)}}function F($){if(P=!1,L($),!A)if(t(f)!==null)A=!0,B||(B=!0,k());else{var ae=t(p);ae!==null&&fe(F,ae.startTime-$)}}var B=!1,V=-1,O=5,N=-1;function M(){return R?!0:!(n.unstable_now()-N<O)}function z(){if(R=!1,B){var $=n.unstable_now();N=$;var ae=!0;try{e:{A=!1,P&&(P=!1,T(V),V=-1),w=!0;var oe=_;try{t:{for(L($),b=t(f);b!==null&&!(b.expirationTime>$&&M());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,_=b.priorityLevel;var H=xe(b.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){b.callback=H,L($),ae=!0;break t}b===t(f)&&r(f),L($)}else r(f);b=t(f)}if(b!==null)ae=!0;else{var ie=t(p);ie!==null&&fe(F,ie.startTime-$),ae=!1}}break e}finally{b=null,_=oe,w=!1}ae=void 0}}finally{ae?k():B=!1}}}var k;if(typeof E=="function")k=function(){E(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,le=D.port2;D.port1.onmessage=z,k=function(){le.postMessage(null)}}else k=function(){I(z,0)};function fe($,ae){V=I(function(){$(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var oe=_;_=ae;try{return $()}finally{_=oe}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=_;_=$;try{return ae()}finally{_=oe}},n.unstable_scheduleCallback=function($,ae,oe){var xe=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=oe+H,$={id:y++,callback:ae,priorityLevel:$,startTime:oe,expirationTime:H,sortIndex:-1},oe>xe?($.sortIndex=oe,e(p,$),t(f)===null&&$===t(p)&&(P?(T(V),V=-1):P=!0,fe(F,oe-xe))):($.sortIndex=H,e(f,$),A||w||(A=!0,B||(B=!0,k()))),$},n.unstable_shouldYield=M,n.unstable_wrapCallback=function($){var ae=_;return function(){var oe=_;_=ae;try{return $.apply(this,arguments)}finally{_=oe}}}}(Og)),Og}var $_;function JC(){return $_||($_=1,Ig.exports=ZC()),Ig.exports}var Mg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function eR(){if(Q_)return Gn;Q_=1;var n=Wh();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Gn.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=d(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Gn.requestFormReset=function(f){r.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var K_;function L1(){if(K_)return Mg.exports;K_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mg.exports=eR(),Mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function tR(){if(Y_)return gu;Y_=1;var n=JC(),e=Wh(),t=L1();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return d(g),s;if(v===c)return d(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var C=!1,j=g.child;j;){if(j===l){C=!0,l=g,c=v;break}if(j===c){C=!0,c=g,l=v;break}j=j.sibling}if(!C){for(j=v.child;j;){if(j===l){C=!0,l=v,c=g;break}if(j===c){C=!0,c=v,l=g;break}j=j.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case R:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case E:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return i=s.displayName||null,i!==null?i:le(s.type)||"Memo";case O:i=s._payload,s=s._init;try{return le(s(i))}catch{}}return null}var fe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function ie(s){return{current:s}}function ve(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function ge(s,i){H++,xe[H]=s.current,s.current=i}var Se=ie(null),Ve=ie(null),Ee=ie(null),ye=ie(null);function Te(s,i){switch(ge(Ee,i),ge(Ve,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?m_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=m_(i),s=p_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function it(){ve(Se),ve(Ve),ve(Ee)}function Ze(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=p_(i,s.type);i!==l&&(ge(Ve,s),ge(Se,l))}function It(s){Ve.current===s&&(ve(Se),ve(Ve)),ye.current===s&&(ve(ye),uu._currentValue=oe)}var Ht=Object.prototype.hasOwnProperty,hn=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,ur=n.unstable_shouldYield,Zn=n.unstable_requestPaint,Xt=n.unstable_now,xs=n.unstable_getCurrentPriorityLevel,_s=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,ss=n.unstable_NormalPriority,Jn=n.unstable_LowPriority,er=n.unstable_IdlePriority,Es=n.log,is=n.unstable_setDisableYieldValue,yt=null,We=null;function wn(s){if(typeof Es=="function"&&is(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(yt,s)}catch{}}var $t=Math.clz32?Math.clz32:Vr,Zs=Math.log,dr=Math.LN2;function Vr(s){return s>>>=0,s===0?32:31-(Zs(s)/dr|0)|0}var zr=256,Me=4194304;function Oe(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,v=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var j=c&134217727;return j!==0?(c=j&~v,c!==0?g=Oe(c):(C&=j,C!==0?g=Oe(C):l||(l=j&~s,l!==0&&(g=Oe(l))))):(j=c&~v,j!==0?g=Oe(j):C!==0?g=Oe(C):l||(l=c&~s,l!==0&&(g=Oe(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function ft(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qt(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var s=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),s}function tr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function In(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Fn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function On(s,i,l,c,g,v){var C=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var j=s.entanglements,G=s.expirationTimes,te=s.hiddenUpdates;for(l=C&~l;0<l;){var ce=31-$t(l),me=1<<ce;j[ce]=0,G[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var re=ne[ce];re!==null&&(re.lane&=-536870913)}l&=~me}c!==0&&Qt(s,c,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(C&~i))}function Qt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-$t(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Ur(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-$t(l),g=1<<c;g&i|s[c]&i&&(s[c]|=i),l&=~g}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ts(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:j_(s.type))}function W(s,i){var l=ae.p;try{return ae.p=s,i()}finally{ae.p=l}}var ee=Math.random().toString(36).slice(2),he="__reactFiber$"+ee,be="__reactProps$"+ee,Ce="__reactContainer$"+ee,ze="__reactEvents$"+ee,Re="__reactListeners$"+ee,De="__reactHandles$"+ee,Pe="__reactResources$"+ee,Ue="__reactMarker$"+ee;function je(s){delete s[he],delete s[be],delete s[ze],delete s[Re],delete s[De]}function Fe(s){var i=s[he];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ce]||l[he]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=b_(s);s!==null;){if(l=s[he])return l;s=b_(s)}return i}s=l,l=s.parentNode}return null}function at(s){if(s=s[he]||s[Ce]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function At(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Et(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(s){s[Ue]=!0}var rt=new Set,Br={};function mn(s,i){nr(s,i),nr(s+"Capture",i)}function nr(s,i){for(Br[s]=i,s=0;s<i.length;s++)rt.add(i[s])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},wr={};function Mi(s){return Ht.call(wr,s)?!0:Ht.call(Ss,s)?!1:Mn.test(s)?wr[s]=!0:(Ss[s]=!0,!1)}function qn(s,i,l){if(Mi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function rr(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ke(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}var an,Er;function fr(s){if(an===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+s+Er}var As=!1;function Lt(s,i){if(!s||As)return"";As=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var ne=re}Reflect.construct(s,[],me)}else{try{me.call()}catch(re){ne=re}s.call(me.prototype)}}else{try{throw Error()}catch(re){ne=re}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),C=v[0],j=v[1];if(C&&j){var G=C.split(`
`),te=j.split(`
`);for(g=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(c===G.length||g===te.length)for(c=G.length-1,g=te.length-1;1<=c&&0<=g&&G[c]!==te[g];)g--;for(;1<=c&&0<=g;c--,g--)if(G[c]!==te[g]){if(c!==1||g!==1)do if(c--,g--,0>g||G[c]!==te[g]){var ce=`
`+G[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=g);break}}}finally{As=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?fr(l):""}function Fr(s){switch(s.tag){case 26:case 27:case 5:return fr(s.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Lt(s.type,!1);case 11:return Lt(s.type.render,!1);case 1:return Lt(s.type,!0);case 31:return fr("Activity");default:return""}}function Js(s){try{var i="";do i+=Fr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vc(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Im(s){var i=vc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){c=""+C,v.call(this,C)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bo(s){s._valueTracker||(s._valueTracker=Im(s))}function bc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=vc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function Ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Om=/[\n"\\]/g;function on(s){return s.replace(Om,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(s,i,l,c,g,v,C,j){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),i!=null?C==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),i!=null?Di(s,C,Dn(i)):l!=null?Di(s,C,Dn(l)):c!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.name=""+Dn(j):s.removeAttribute("name")}function Fa(s,i,l,c,g,v,C,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,j||i===s.value||(s.value=i),s.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=j?s.checked:!!c,s.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function Di(s,i,l){i==="number"&&Ba(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ei(s,i,l,c){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Dt(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function qa(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(fe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function qr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Ha.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function xc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&Td(s,g,c)}else for(var v in i)i.hasOwnProperty(v)&&Td(s,v,i[v])}function _c(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return Dm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ti=null;function Hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ni=null,ri=null;function wc(s){var i=at(s);if(i&&(s=i.stateNode)){var l=s[be]||null;e:switch(s=i.stateNode,i.type){case"input":if(Tr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var g=c[be]||null;if(!g)throw Error(r(90));Tr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&bc(c)}break e;case"textarea":Dt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(s,!!l.multiple,i,!1)}}}var Cs=!1;function Sd(s,i,l){if(Cs)return s(i,l);Cs=!0;try{var c=s(i);return c}finally{if(Cs=!1,(ni!==null||ri!==null)&&(bf(),ni&&(i=ni,s=ri,ri=ni=null,wc(i),s)))for(i=0;i<s.length;i++)wc(s[i])}}function Ga(s,i){var l=s.stateNode;if(l===null)return null;var c=l[be]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(as)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Gr=!1}var Rs=null,ji=null,si=null;function Ec(){if(si)return si;var s,i=ji,l=i.length,c,g="value"in Rs?Rs.value:Rs.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var C=l-s;for(c=1;c<=C&&i[l-c]===g[v-c];c++);return si=g.slice(s,1<c?1-c:void 0)}function Ns(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Is(){return!0}function Tc(){return!1}function En(s){function i(l,c,g,v,C){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(l=s[j],this[j]=l?l(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Is:Tc,this.isPropagationStopped=Tc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=En(Ct),Qa=y({},Ct,{view:0,detail:0}),Ad=En(Qa),Ho,Go,Os,Ka=y({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Os&&(Os&&s.type==="mousemove"?(Ho=s.screenX-Os.screenX,Go=s.screenY-Os.screenY):Go=Ho=0,Os=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),$r=En(Ka),Cd=y({},Ka,{dataTransfer:0}),jm=En(Cd),Ya=y({},Qa,{relatedTarget:0}),$o=En(Ya),Sc=y({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=En(Sc),Rd=y({},Ct,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ko=En(Rd),Pm=y({},Ct,{data:0}),Ac=En(Pm),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Id[s])?!!i[s]:!1}function Wa(){return Cc}var Od=y({},Qa,{key:function(s){if(s.key){var i=Xa[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ns(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(s){return s.type==="keypress"?Ns(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ns(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yo=En(Od),Md=y({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=En(Md),ii=y({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Dd=En(ii),jd=y({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pd=En(jd),kd=y({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=En(kd),sr=y({},Ct,{newState:0,oldState:0}),Ld=En(sr),Vd=[9,13,27,32],Ms=as&&"CompositionEvent"in window,h=null;as&&"documentMode"in document&&(h=document.documentMode);var x=as&&"TextEvent"in window&&!h,S=as&&(!Ms||h&&8<h&&11>=h),U=" ",Z=!1;function se(s,i){switch(s){case"keyup":return Vd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vt=!1;function pn(s,i){switch(s){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Z=!0,U);case"textInput":return s=i.data,s===U&&Z?null:s;default:return null}}function bt(s,i){if(vt)return s==="compositionend"||!Ms&&se(s,i)?(s=Ec(),si=ji=Rs=null,vt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Tn[s.type]:i==="textarea"}function ai(s,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=Sf(i,"onChange"),0<i.length&&(l=new qo("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var jn=null,Ds=null;function Nc(s){c_(s,0)}function zd(s){var i=At(s);if(bc(i))return s}function Iv(s,i){if(s==="change")return i}var Ov=!1;if(as){var km;if(as){var Lm="oninput"in document;if(!Lm){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Lm=typeof Mv.oninput=="function"}km=Lm}else km=!1;Ov=km&&(!document.documentMode||9<document.documentMode)}function Dv(){jn&&(jn.detachEvent("onpropertychange",jv),Ds=jn=null)}function jv(s){if(s.propertyName==="value"&&zd(Ds)){var i=[];ai(i,Ds,s,Hr(s)),Sd(Nc,i)}}function SA(s,i,l){s==="focusin"?(Dv(),jn=i,Ds=l,jn.attachEvent("onpropertychange",jv)):s==="focusout"&&Dv()}function AA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zd(Ds)}function CA(s,i){if(s==="click")return zd(i)}function RA(s,i){if(s==="input"||s==="change")return zd(i)}function NA(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Sr=typeof Object.is=="function"?Object.is:NA;function Ic(s,i){if(Sr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ht.call(i,g)||!Sr(s[g],i[g]))return!1}return!0}function Pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kv(s,i){var l=Pv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Pv(l)}}function Lv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Lv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Vv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ba(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ba(s.document)}return i}function Vm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var IA=as&&"documentMode"in document&&11>=document.documentMode,Wo=null,zm=null,Oc=null,Um=!1;function zv(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Um||Wo==null||Wo!==Ba(c)||(c=Wo,"selectionStart"in c&&Vm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oc&&Ic(Oc,c)||(Oc=c,c=Sf(zm,"onSelect"),0<c.length&&(i=new qo("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Wo)))}function Za(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Bm={},Uv={};as&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Ja(s){if(Bm[s])return Bm[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Uv)return Bm[s]=i[l];return s}var Bv=Ja("animationend"),Fv=Ja("animationiteration"),qv=Ja("animationstart"),OA=Ja("transitionrun"),MA=Ja("transitionstart"),DA=Ja("transitioncancel"),Hv=Ja("transitionend"),Gv=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function os(s,i){Gv.set(s,i),mn(i,[s])}var $v=new WeakMap;function Qr(s,i){if(typeof s=="object"&&s!==null){var l=$v.get(s);return l!==void 0?l:(i={value:s,source:i,stack:Js(i)},$v.set(s,i),i)}return{value:s,source:i,stack:Js(i)}}var Kr=[],Jo=0,qm=0;function Ud(){for(var s=Jo,i=qm=Jo=0;i<s;){var l=Kr[i];Kr[i++]=null;var c=Kr[i];Kr[i++]=null;var g=Kr[i];Kr[i++]=null;var v=Kr[i];if(Kr[i++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}v!==0&&Qv(l,g,v)}}function Bd(s,i,l,c){Kr[Jo++]=s,Kr[Jo++]=i,Kr[Jo++]=l,Kr[Jo++]=c,qm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Hm(s,i,l,c){return Bd(s,i,l,c),Fd(s)}function el(s,i){return Bd(s,null,null,i),Fd(s)}function Qv(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-$t(l),s=v.hiddenUpdates,c=s[g],c===null?s[g]=[i]:c.push(i),i.lane=l|536870912),v):null}function Fd(s){if(50<nu)throw nu=0,Xp=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={};function jA(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,c){return new jA(s,i,l,c)}function Gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oi(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Kv(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function qd(s,i,l,c,g,v){var C=0;if(c=s,typeof s=="function")Gm(s)&&(C=1);else if(typeof s=="string")C=kC(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Ar(31,l,i,g),s.elementType=N,s.lanes=v,s;case A:return eo(l.children,g,v,i);case P:C=8,g|=24;break;case R:return s=Ar(12,l,i,g|2),s.elementType=R,s.lanes=v,s;case F:return s=Ar(13,l,i,g),s.elementType=F,s.lanes=v,s;case B:return s=Ar(19,l,i,g),s.elementType=B,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:case E:C=10;break e;case T:C=9;break e;case L:C=11;break e;case V:C=14;break e;case O:C=16,c=null;break e}C=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Ar(C,l,i,g),i.elementType=s,i.type=c,i.lanes=v,i}function eo(s,i,l,c){return s=Ar(7,s,c,i),s.lanes=l,s}function $m(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function Qm(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nl=[],rl=0,Hd=null,Gd=0,Yr=[],Xr=0,to=null,li=1,ci="";function no(s,i){nl[rl++]=Gd,nl[rl++]=Hd,Hd=s,Gd=i}function Yv(s,i,l){Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=to,to=s;var c=li;s=ci;var g=32-$t(c)-1;c&=~(1<<g),l+=1;var v=32-$t(i)+g;if(30<v){var C=g-g%5;v=(c&(1<<C)-1).toString(32),c>>=C,g-=C,li=1<<32-$t(i)+g|l<<g|c,ci=v+s}else li=1<<v|l<<g|c,ci=s}function Km(s){s.return!==null&&(no(s,1),Yv(s,1,0))}function Ym(s){for(;s===Hd;)Hd=nl[--rl],nl[rl]=null,Gd=nl[--rl],nl[rl]=null;for(;s===to;)to=Yr[--Xr],Yr[Xr]=null,ci=Yr[--Xr],Yr[Xr]=null,li=Yr[--Xr],Yr[Xr]=null}var ir=null,Wt=null,St=!1,ro=null,js=!1,Xm=Error(r(519));function so(s){var i=Error(r(418,""));throw jc(Qr(i,s)),Xm}function Xv(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[he]=s,i[be]=c,l){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(l=0;l<su.length;l++)lt(su[l],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),Fa(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),qa(i,c.value,c.defaultValue,c.children),Bo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||h_(i.textContent,l)?(c.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),c.onScroll!=null&&lt("scroll",i),c.onScrollEnd!=null&&lt("scrollend",i),c.onClick!=null&&(i.onclick=Af),i=!0):i=!1,i||so(s)}function Wv(s){for(ir=s.return;ir;)switch(ir.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:ir=ir.return}}function Mc(s){if(s!==ir)return!1;if(!St)return Wv(s),St=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||fg(s.type,s.memoizedProps)),l=!l),l&&Wt&&so(s),Wv(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Wt=cs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Wt=null}}else i===27?(i=Wt,Xi(s.type)?(s=gg,gg=null,Wt=s):Wt=i):Wt=ir?cs(s.stateNode.nextSibling):null;return!0}function Dc(){Wt=ir=null,St=!1}function Zv(){var s=ro;return s!==null&&(pr===null?pr=s:pr.push.apply(pr,s),ro=null),s}function jc(s){ro===null?ro=[s]:ro.push(s)}var Wm=ie(null),io=null,ui=null;function Pi(s,i,l){ge(Wm,i._currentValue),i._currentValue=l}function di(s){s._currentValue=Wm.current,ve(Wm)}function Zm(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function Jm(s,i,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=g;for(var G=0;G<i.length;G++)if(j.context===i[G]){v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),Zm(v.return,l,s),c||(C=null);break e}v=j.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,v=C.alternate,v!==null&&(v.lanes|=l),Zm(C,l,s),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Pc(s,i,l,c){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var j=g.type;Sr(g.pendingProps.value,C.value)||(s!==null?s.push(j):s=[j])}}else if(g===ye.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(uu):s=[uu])}g=g.return}s!==null&&Jm(i,s,l,c),i.flags|=262144}function $d(s){for(s=s.firstContext;s!==null;){if(!Sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ao(s){io=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Hn(s){return Jv(io,s)}function Qd(s,i){return io===null&&ao(s),Jv(s,i)}function Jv(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(s===null)throw Error(r(308));ui=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else ui=ui.next=i;return l}var PA=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},kA=n.unstable_scheduleCallback,LA=n.unstable_NormalPriority,yn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new PA,data:new Map,refCount:0}}function kc(s){s.refCount--,s.refCount===0&&kA(LA,function(){s.controller.abort()})}var Lc=null,tp=0,sl=0,il=null;function VA(s,i){if(Lc===null){var l=Lc=[];tp=0,sl=rg(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return tp++,i.then(eb,eb),i}function eb(){if(--tp===0&&Lc!==null){il!==null&&(il.status="fulfilled");var s=Lc;Lc=null,sl=0,il=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function zA(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var tb=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&VA(s,i),tb!==null&&tb(s,i)};var oo=ie(null);function np(){var s=oo.current;return s!==null?s:zt.pooledCache}function Kd(s,i){i===null?ge(oo,oo.current):ge(oo,i.pool)}function nb(){var s=np();return s===null?null:{parent:yn._currentValue,pool:s}}var Vc=Error(r(460)),rb=Error(r(474)),Yd=Error(r(542)),rp={then:function(){}};function sb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xd(){}function ib(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(Xd,Xd),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ob(s),s;default:if(typeof i.status=="string")i.then(Xd,Xd);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,ob(s),s}throw zc=i,Vc}}var zc=null;function ab(){if(zc===null)throw Error(r(459));var s=zc;return zc=null,s}function ob(s){if(s===Vc||s===Yd)throw Error(r(483))}var ki=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Li(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Fd(s),Qv(s,null,l),i}return Bd(s,c,i,l),Fd(s)}function Uc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}function ap(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var op=!1;function Bc(){if(op){var s=il;if(s!==null)throw s}}function Fc(s,i,l,c){op=!1;var g=s.updateQueue;ki=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var G=j,te=G.next;G.next=null,C===null?v=te:C.next=te,C=G;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==C&&(j===null?ce.firstBaseUpdate=te:j.next=te,ce.lastBaseUpdate=G))}if(v!==null){var me=g.baseState;C=0,ce=te=G=null,j=v;do{var ne=j.lane&-536870913,re=ne!==j.lane;if(re?(xt&ne)===ne:(c&ne)===ne){ne!==0&&ne===sl&&(op=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var $e=s,Be=j;ne=i;var kt=l;switch(Be.tag){case 1:if($e=Be.payload,typeof $e=="function"){me=$e.call(kt,me,ne);break e}me=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Be.payload,ne=typeof $e=="function"?$e.call(kt,me,ne):$e,ne==null)break e;me=y({},me,ne);break e;case 2:ki=!0}}ne=j.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(te=ce=re,G=me):ce=ce.next=re,C|=ne;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;re=j,j=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ce===null&&(G=me),g.baseState=G,g.firstBaseUpdate=te,g.lastBaseUpdate=ce,v===null&&(g.shared.lanes=0),$i|=C,s.lanes=C,s.memoizedState=me}}function lb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function cb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)lb(l[s],i)}var al=ie(null),Wd=ie(0);function ub(s,i){s=vi,ge(Wd,s),ge(al,i),vi=s|i.baseLanes}function lp(){ge(Wd,vi),ge(al,al.current)}function cp(){vi=Wd.current,ve(al),ve(Wd)}var zi=0,tt=null,jt=null,ln=null,Zd=!1,ol=!1,lo=!1,Jd=0,qc=0,ll=null,UA=0;function en(){throw Error(r(321))}function up(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Sr(s[l],i[l]))return!1;return!0}function dp(s,i,l,c,g,v){return zi=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?Qb:Kb,lo=!1,v=l(c,g),lo=!1,ol&&(v=fb(i,l,c,g)),db(s),v}function db(s){$.H=af;var i=jt!==null&&jt.next!==null;if(zi=0,ln=jt=tt=null,Zd=!1,qc=0,ll=null,i)throw Error(r(300));s===null||Sn||(s=s.dependencies,s!==null&&$d(s)&&(Sn=!0))}function fb(s,i,l,c){tt=s;var g=0;do{if(ol&&(ll=null),qc=0,ol=!1,25<=g)throw Error(r(301));if(g+=1,ln=jt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=QA,v=i(l,c)}while(ol);return v}function BA(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Hc(i):i,s=s.useState()[0],(jt!==null?jt.memoizedState:null)!==s&&(tt.flags|=1024),i}function fp(){var s=Jd!==0;return Jd=0,s}function hp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function mp(s){if(Zd){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Zd=!1}zi=0,ln=jt=tt=null,ol=!1,qc=Jd=0,ll=null}function hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?tt.memoizedState=ln=s:ln=ln.next=s,ln}function cn(){if(jt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var i=ln===null?tt.memoizedState:ln.next;if(i!==null)ln=i,jt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ln===null?tt.memoizedState=ln=s:ln=ln.next=s}return ln}function pp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(s){var i=qc;return qc+=1,ll===null&&(ll=[]),s=ib(ll,s,i),i=tt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Qb:Kb),s}function ef(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hc(s);if(s.$$typeof===E)return Hn(s)}throw Error(r(438,String(s)))}function gp(s){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=pp(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=M;return i.index++,l}function fi(s,i){return typeof i=="function"?i(s):i}function tf(s){var i=cn();return yp(i,jt,s)}function yp(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=s.baseQueue,v=c.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}i.baseQueue=g=v,c.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var j=C=null,G=null,te=i,ce=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(xt&me)===me:(zi&me)===me){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===sl&&(ce=!0);else if((zi&ne)===ne){te=te.next,ne===sl&&(ce=!0);continue}else me={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(j=G=me,C=v):G=G.next=me,tt.lanes|=ne,$i|=ne;me=te.action,lo&&l(v,me),v=te.hasEagerState?te.eagerState:l(v,me)}else ne={lane:me,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(j=G=ne,C=v):G=G.next=ne,tt.lanes|=me,$i|=me;te=te.next}while(te!==null&&te!==i);if(G===null?C=v:G.next=j,!Sr(v,s.memoizedState)&&(Sn=!0,ce&&(l=il,l!==null)))throw l;s.memoizedState=v,s.baseState=C,s.baseQueue=G,c.lastRenderedState=v}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function vp(s){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=s(v,C.action),C=C.next;while(C!==g);Sr(v,i.memoizedState)||(Sn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function hb(s,i,l){var c=tt,g=cn(),v=St;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var C=!Sr((jt||g).memoizedState,l);C&&(g.memoizedState=l,Sn=!0),g=g.queue;var j=gb.bind(null,c,g,s);if(Gc(2048,8,j,[s]),g.getSnapshot!==i||C||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,cl(9,nf(),pb.bind(null,c,g,l,i),null),zt===null)throw Error(r(349));v||(zi&124)!==0||mb(c,i,l)}return l}function mb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=pp(),tt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function pb(s,i,l,c){i.value=l,i.getSnapshot=c,yb(i)&&vb(s)}function gb(s,i,l){return l(function(){yb(i)&&vb(s)})}function yb(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Sr(s,l)}catch{return!0}}function vb(s){var i=el(s,2);i!==null&&Or(i,s,2)}function bp(s){var i=hr();if(typeof s=="function"){var l=s;if(s=l(),lo){wn(!0);try{l()}finally{wn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},i}function bb(s,i,l,c){return s.baseState=l,yp(s,jt,typeof c=="function"?c:fi)}function FA(s,i,l,c,g){if(sf(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};$.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,xb(i,v)):(v.next=l.next,i.pending=l.next=v)}}function xb(s,i){var l=i.action,c=i.payload,g=s.state;if(i.isTransition){var v=$.T,C={};$.T=C;try{var j=l(g,c),G=$.S;G!==null&&G(C,j),_b(s,i,j)}catch(te){xp(s,i,te)}finally{$.T=v}}else try{v=l(g,c),_b(s,i,v)}catch(te){xp(s,i,te)}}function _b(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){wb(s,i,c)},function(c){return xp(s,i,c)}):wb(s,i,l)}function wb(s,i,l){i.status="fulfilled",i.value=l,Eb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,xb(s,l)))}function xp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Eb(i),i=i.next;while(i!==c)}s.action=null}function Eb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Tb(s,i){return i}function Sb(s,i){if(St){var l=zt.formState;if(l!==null){e:{var c=tt;if(St){if(Wt){t:{for(var g=Wt,v=js;g.nodeType!==8;){if(!v){g=null;break t}if(g=cs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Wt=cs(g.nextSibling),c=g.data==="F!";break e}}so(c)}c=!1}c&&(i=l[0])}}return l=hr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tb,lastRenderedState:i},l.queue=c,l=Hb.bind(null,tt,c),c.dispatch=l,c=bp(!1),v=Sp.bind(null,tt,!1,c.queue),c=hr(),g={state:i,dispatch:null,action:s,pending:null},c.queue=g,l=FA.bind(null,tt,g,v,l),g.dispatch=l,c.memoizedState=s,[i,l,!1]}function Ab(s){var i=cn();return Cb(i,jt,s)}function Cb(s,i,l){if(i=yp(s,i,Tb)[0],s=tf(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Hc(i)}catch(C){throw C===Vc?Yd:C}else c=i;i=cn();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,cl(9,nf(),qA.bind(null,g,l),null)),[c,v,s]}function qA(s,i){s.action=i}function Rb(s){var i=cn(),l=jt;if(l!==null)return Cb(i,l,s);cn(),i=i.memoizedState,l=cn();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function cl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=tt.updateQueue,i===null&&(i=pp(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function nf(){return{destroy:void 0,resource:void 0}}function Nb(){return cn().memoizedState}function rf(s,i,l,c){var g=hr();c=c===void 0?null:c,tt.flags|=s,g.memoizedState=cl(1|i,nf(),l,c)}function Gc(s,i,l,c){var g=cn();c=c===void 0?null:c;var v=g.memoizedState.inst;jt!==null&&c!==null&&up(c,jt.memoizedState.deps)?g.memoizedState=cl(i,v,l,c):(tt.flags|=s,g.memoizedState=cl(1|i,v,l,c))}function Ib(s,i){rf(8390656,8,s,i)}function Ob(s,i){Gc(2048,8,s,i)}function Mb(s,i){return Gc(4,2,s,i)}function Db(s,i){return Gc(4,4,s,i)}function jb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Pb(s,i,l){l=l!=null?l.concat([s]):null,Gc(4,4,jb.bind(null,i,s),l)}function _p(){}function kb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&up(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function Lb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&up(i,c[1]))return c[0];if(c=s(),lo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c}function wp(s,i,l){return l===void 0||(zi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=Ux(),tt.lanes|=s,$i|=s,l)}function Vb(s,i,l,c){return Sr(l,i)?l:al.current!==null?(s=wp(s,l,c),Sr(s,i)||(Sn=!0),s):(zi&42)===0?(Sn=!0,s.memoizedState=l):(s=Ux(),tt.lanes|=s,$i|=s,i)}function zb(s,i,l,c,g){var v=ae.p;ae.p=v!==0&&8>v?v:8;var C=$.T,j={};$.T=j,Sp(s,!1,i,l);try{var G=g(),te=$.S;if(te!==null&&te(j,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=zA(G,c);$c(s,i,ce,Ir(s))}else $c(s,i,c,Ir(s))}catch(me){$c(s,i,{then:function(){},status:"rejected",reason:me},Ir())}finally{ae.p=v,$.T=C}}function HA(){}function Ep(s,i,l,c){if(s.tag!==5)throw Error(r(476));var g=Ub(s).queue;zb(s,g,i,oe,l===null?HA:function(){return Bb(s),l(c)})}function Ub(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Bb(s){var i=Ub(s).next.queue;$c(s,i,{},Ir())}function Tp(){return Hn(uu)}function Fb(){return cn().memoizedState}function qb(){return cn().memoizedState}function GA(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ir();s=Li(l);var c=Vi(i,s,l);c!==null&&(Or(c,i,l),Uc(c,i,l)),i={cache:ep()},s.payload=i;return}i=i.return}}function $A(s,i,l){var c=Ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},sf(s)?Gb(i,l):(l=Hm(s,i,l,c),l!==null&&(Or(l,s,c),$b(l,i,c)))}function Hb(s,i,l){var c=Ir();$c(s,i,l,c)}function $c(s,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(sf(s))Gb(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var C=i.lastRenderedState,j=v(C,l);if(g.hasEagerState=!0,g.eagerState=j,Sr(j,C))return Bd(s,i,g,0),zt===null&&Ud(),!1}catch{}finally{}if(l=Hm(s,i,g,c),l!==null)return Or(l,s,c),$b(l,i,c),!0}return!1}function Sp(s,i,l,c){if(c={lane:2,revertLane:rg(),action:c,hasEagerState:!1,eagerState:null,next:null},sf(s)){if(i)throw Error(r(479))}else i=Hm(s,l,c,2),i!==null&&Or(i,s,2)}function sf(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Gb(s,i){ol=Zd=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function $b(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}var af={readContext:Hn,use:ef,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Qb={readContext:Hn,use:ef,useCallback:function(s,i){return hr().memoizedState=[s,i===void 0?null:i],s},useContext:Hn,useEffect:Ib,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,rf(4194308,4,jb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return rf(4194308,4,s,i)},useInsertionEffect:function(s,i){rf(4,2,s,i)},useMemo:function(s,i){var l=hr();i=i===void 0?null:i;var c=s();if(lo){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=hr();if(l!==void 0){var g=l(i);if(lo){wn(!0);try{l(i)}finally{wn(!1)}}}else g=i;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=$A.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=hr();return s={current:s},i.memoizedState=s},useState:function(s){s=bp(s);var i=s.queue,l=Hb.bind(null,tt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:_p,useDeferredValue:function(s,i){var l=hr();return wp(l,s,i)},useTransition:function(){var s=bp(!1);return s=zb.bind(null,tt,s.queue,!0,!1),hr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=tt,g=hr();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),zt===null)throw Error(r(349));(xt&124)!==0||mb(c,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Ib(gb.bind(null,c,v,s),[s]),c.flags|=2048,cl(9,nf(),pb.bind(null,c,v,l,i),null),l},useId:function(){var s=hr(),i=zt.identifierPrefix;if(St){var l=ci,c=li;l=(c&~(1<<32-$t(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=Jd++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=UA++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Tp,useFormState:Sb,useActionState:Sb,useOptimistic:function(s){var i=hr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Sp.bind(null,tt,!0,l),l.dispatch=i,[s,i]},useMemoCache:gp,useCacheRefresh:function(){return hr().memoizedState=GA.bind(null,tt)}},Kb={readContext:Hn,use:ef,useCallback:kb,useContext:Hn,useEffect:Ob,useImperativeHandle:Pb,useInsertionEffect:Mb,useLayoutEffect:Db,useMemo:Lb,useReducer:tf,useRef:Nb,useState:function(){return tf(fi)},useDebugValue:_p,useDeferredValue:function(s,i){var l=cn();return Vb(l,jt.memoizedState,s,i)},useTransition:function(){var s=tf(fi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Hc(s),i]},useSyncExternalStore:hb,useId:Fb,useHostTransitionStatus:Tp,useFormState:Ab,useActionState:Ab,useOptimistic:function(s,i){var l=cn();return bb(l,jt,s,i)},useMemoCache:gp,useCacheRefresh:qb},QA={readContext:Hn,use:ef,useCallback:kb,useContext:Hn,useEffect:Ob,useImperativeHandle:Pb,useInsertionEffect:Mb,useLayoutEffect:Db,useMemo:Lb,useReducer:vp,useRef:Nb,useState:function(){return vp(fi)},useDebugValue:_p,useDeferredValue:function(s,i){var l=cn();return jt===null?wp(l,s,i):Vb(l,jt.memoizedState,s,i)},useTransition:function(){var s=vp(fi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Hc(s),i]},useSyncExternalStore:hb,useId:Fb,useHostTransitionStatus:Tp,useFormState:Rb,useActionState:Rb,useOptimistic:function(s,i){var l=cn();return jt!==null?bb(l,jt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:gp,useCacheRefresh:qb},ul=null,Qc=0;function of(s){var i=Qc;return Qc+=1,ul===null&&(ul=[]),ib(ul,s,i)}function Kc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function lf(s,i){throw i.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Yb(s){var i=s._init;return i(s._payload)}function Xb(s){function i(X,K){if(s){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=oi(X,K),X.index=0,X.sibling=null,X}function v(X,K,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function C(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function j(X,K,J,de){return K===null||K.tag!==6?(K=$m(J,X.mode,de),K.return=X,K):(K=g(K,J),K.return=X,K)}function G(X,K,J,de){var Ne=J.type;return Ne===A?ce(X,K,J.props.children,de,J.key):K!==null&&(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===O&&Yb(Ne)===K.type)?(K=g(K,J.props),Kc(K,J),K.return=X,K):(K=qd(J.type,J.key,J.props,null,X.mode,de),Kc(K,J),K.return=X,K)}function te(X,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Qm(J,X.mode,de),K.return=X,K):(K=g(K,J.children||[]),K.return=X,K)}function ce(X,K,J,de,Ne){return K===null||K.tag!==7?(K=eo(J,X.mode,de,Ne),K.return=X,K):(K=g(K,J),K.return=X,K)}function me(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=$m(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=qd(K.type,K.key,K.props,null,X.mode,J),Kc(J,K),J.return=X,J;case w:return K=Qm(K,X.mode,J),K.return=X,K;case O:var de=K._init;return K=de(K._payload),me(X,K,J)}if(fe(K)||k(K))return K=eo(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return me(X,of(K),J);if(K.$$typeof===E)return me(X,Qd(X,K),J);lf(X,K)}return null}function ne(X,K,J,de){var Ne=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ne!==null?null:j(X,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Ne?G(X,K,J,de):null;case w:return J.key===Ne?te(X,K,J,de):null;case O:return Ne=J._init,J=Ne(J._payload),ne(X,K,J,de)}if(fe(J)||k(J))return Ne!==null?null:ce(X,K,J,de,null);if(typeof J.then=="function")return ne(X,K,of(J),de);if(J.$$typeof===E)return ne(X,K,Qd(X,J),de);lf(X,J)}return null}function re(X,K,J,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(J)||null,j(K,X,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return X=X.get(de.key===null?J:de.key)||null,G(K,X,de,Ne);case w:return X=X.get(de.key===null?J:de.key)||null,te(K,X,de,Ne);case O:var st=de._init;return de=st(de._payload),re(X,K,J,de,Ne)}if(fe(de)||k(de))return X=X.get(J)||null,ce(K,X,de,Ne,null);if(typeof de.then=="function")return re(X,K,J,of(de),Ne);if(de.$$typeof===E)return re(X,K,J,Qd(K,de),Ne);lf(K,de)}return null}function $e(X,K,J,de){for(var Ne=null,st=null,ke=K,qe=K=0,Cn=null;ke!==null&&qe<J.length;qe++){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var Tt=ne(X,ke,J[qe],de);if(Tt===null){ke===null&&(ke=Cn);break}s&&ke&&Tt.alternate===null&&i(X,ke),K=v(Tt,K,qe),st===null?Ne=Tt:st.sibling=Tt,st=Tt,ke=Cn}if(qe===J.length)return l(X,ke),St&&no(X,qe),Ne;if(ke===null){for(;qe<J.length;qe++)ke=me(X,J[qe],de),ke!==null&&(K=v(ke,K,qe),st===null?Ne=ke:st.sibling=ke,st=ke);return St&&no(X,qe),Ne}for(ke=c(ke);qe<J.length;qe++)Cn=re(ke,X,qe,J[qe],de),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?qe:Cn.key),K=v(Cn,K,qe),st===null?Ne=Cn:st.sibling=Cn,st=Cn);return s&&ke.forEach(function(ta){return i(X,ta)}),St&&no(X,qe),Ne}function Be(X,K,J,de){if(J==null)throw Error(r(151));for(var Ne=null,st=null,ke=K,qe=K=0,Cn=null,Tt=J.next();ke!==null&&!Tt.done;qe++,Tt=J.next()){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var ta=ne(X,ke,Tt.value,de);if(ta===null){ke===null&&(ke=Cn);break}s&&ke&&ta.alternate===null&&i(X,ke),K=v(ta,K,qe),st===null?Ne=ta:st.sibling=ta,st=ta,ke=Cn}if(Tt.done)return l(X,ke),St&&no(X,qe),Ne;if(ke===null){for(;!Tt.done;qe++,Tt=J.next())Tt=me(X,Tt.value,de),Tt!==null&&(K=v(Tt,K,qe),st===null?Ne=Tt:st.sibling=Tt,st=Tt);return St&&no(X,qe),Ne}for(ke=c(ke);!Tt.done;qe++,Tt=J.next())Tt=re(ke,X,qe,Tt.value,de),Tt!==null&&(s&&Tt.alternate!==null&&ke.delete(Tt.key===null?qe:Tt.key),K=v(Tt,K,qe),st===null?Ne=Tt:st.sibling=Tt,st=Tt);return s&&ke.forEach(function(KC){return i(X,KC)}),St&&no(X,qe),Ne}function kt(X,K,J,de){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Ne=J.key;K!==null;){if(K.key===Ne){if(Ne=J.type,Ne===A){if(K.tag===7){l(X,K.sibling),de=g(K,J.props.children),de.return=X,X=de;break e}}else if(K.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===O&&Yb(Ne)===K.type){l(X,K.sibling),de=g(K,J.props),Kc(de,J),de.return=X,X=de;break e}l(X,K);break}else i(X,K);K=K.sibling}J.type===A?(de=eo(J.props.children,X.mode,de,J.key),de.return=X,X=de):(de=qd(J.type,J.key,J.props,null,X.mode,de),Kc(de,J),de.return=X,X=de)}return C(X);case w:e:{for(Ne=J.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),de=g(K,J.children||[]),de.return=X,X=de;break e}else{l(X,K);break}else i(X,K);K=K.sibling}de=Qm(J,X.mode,de),de.return=X,X=de}return C(X);case O:return Ne=J._init,J=Ne(J._payload),kt(X,K,J,de)}if(fe(J))return $e(X,K,J,de);if(k(J)){if(Ne=k(J),typeof Ne!="function")throw Error(r(150));return J=Ne.call(J),Be(X,K,J,de)}if(typeof J.then=="function")return kt(X,K,of(J),de);if(J.$$typeof===E)return kt(X,K,Qd(X,J),de);lf(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),de=g(K,J),de.return=X,X=de):(l(X,K),de=$m(J,X.mode,de),de.return=X,X=de),C(X)):l(X,K)}return function(X,K,J,de){try{Qc=0;var Ne=kt(X,K,J,de);return ul=null,Ne}catch(ke){if(ke===Vc||ke===Yd)throw ke;var st=Ar(29,ke,null,X.mode);return st.lanes=de,st.return=X,st}finally{}}}var dl=Xb(!0),Wb=Xb(!1),Wr=ie(null),Ps=null;function Ui(s){var i=s.alternate;ge(vn,vn.current&1),ge(Wr,s),Ps===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ps=s)}function Zb(s){if(s.tag===22){if(ge(vn,vn.current),ge(Wr,s),Ps===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ps=s)}}else Bi()}function Bi(){ge(vn,vn.current),ge(Wr,Wr.current)}function hi(s){ve(Wr),Ps===s&&(Ps=null),ve(vn)}var vn=ie(0);function cf(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||pg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ap(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Cp={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Uc(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Li(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Vi(s,g,c),i!==null&&(Or(i,s,c),Uc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Ir(),c=Li(l);c.tag=2,i!=null&&(c.callback=i),i=Vi(s,c,l),i!==null&&(Or(i,s,l),Uc(i,s,l))}};function Jb(s,i,l,c,g,v,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,C):i.prototype&&i.prototype.isPureReactComponent?!Ic(l,c)||!Ic(g,v):!0}function ex(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&Cp.enqueueReplaceState(i,i.state,null)}function co(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var uf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function tx(s){uf(s)}function nx(s){console.error(s)}function rx(s){uf(s)}function df(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function sx(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rp(s,i,l){return l=Li(l),l.tag=3,l.payload={element:null},l.callback=function(){df(s,i)},l}function ix(s){return s=Li(s),s.tag=3,s}function ax(s,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;s.payload=function(){return g(v)},s.callback=function(){sx(i,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){sx(i,l,c),typeof g!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})})}function KA(s,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Pc(i,l,g,!0),l=Wr.current,l!==null){switch(l.tag){case 13:return Ps===null?Zp():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===rp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),eg(s,c,g)),!1;case 22:return l.flags|=65536,c===rp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),eg(s,c,g)),!1}throw Error(r(435,l.tag))}return eg(s,c,g),Zp(),!1}if(St)return i=Wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==Xm&&(s=Error(r(422),{cause:c}),jc(Qr(s,l)))):(c!==Xm&&(i=Error(r(423),{cause:c}),jc(Qr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Qr(c,l),g=Rp(s.stateNode,c,g),ap(s,g),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:c});if(v=Qr(v,l),tu===null?tu=[v]:tu.push(v),Zt!==4&&(Zt=2),i===null)return!0;c=Qr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Rp(l.stateNode,c,s),ap(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ix(g),ax(g,s,l,c),ap(l,g),!1}l=l.return}while(l!==null);return!1}var ox=Error(r(461)),Sn=!1;function Pn(s,i,l,c){i.child=s===null?Wb(i,null,l,c):dl(i,s.child,l,c)}function lx(s,i,l,c,g){l=l.render;var v=i.ref;if("ref"in c){var C={};for(var j in c)j!=="ref"&&(C[j]=c[j])}else C=c;return ao(i),c=dp(s,i,l,C,v,g),j=fp(),s!==null&&!Sn?(hp(s,i,g),mi(s,i,g)):(St&&j&&Km(i),i.flags|=1,Pn(s,i,c,g),i.child)}function cx(s,i,l,c,g){if(s===null){var v=l.type;return typeof v=="function"&&!Gm(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,ux(s,i,v,c,g)):(s=qd(l.type,null,c,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!kp(s,g)){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ic,l(C,c)&&s.ref===i.ref)return mi(s,i,g)}return i.flags|=1,s=oi(v,c),s.ref=i.ref,s.return=i,i.child=s}function ux(s,i,l,c,g){if(s!==null){var v=s.memoizedProps;if(Ic(v,c)&&s.ref===i.ref)if(Sn=!1,i.pendingProps=c=v,kp(s,g))(s.flags&131072)!==0&&(Sn=!0);else return i.lanes=s.lanes,mi(s,i,g)}return Np(s,i,l,c,g)}function dx(s,i,l){var c=i.pendingProps,g=c.children,v=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return fx(s,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Kd(i,v!==null?v.cachePool:null),v!==null?ub(i,v):lp(),Zb(i);else return i.lanes=i.childLanes=536870912,fx(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Kd(i,v.cachePool),ub(i,v),Bi(),i.memoizedState=null):(s!==null&&Kd(i,null),lp(),Bi());return Pn(s,i,g,l),i.child}function fx(s,i,l,c){var g=np();return g=g===null?null:{parent:yn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&Kd(i,null),lp(),Zb(i),s!==null&&Pc(s,i,c,!0),null}function ff(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Np(s,i,l,c,g){return ao(i),l=dp(s,i,l,c,void 0,g),c=fp(),s!==null&&!Sn?(hp(s,i,g),mi(s,i,g)):(St&&c&&Km(i),i.flags|=1,Pn(s,i,l,g),i.child)}function hx(s,i,l,c,g,v){return ao(i),i.updateQueue=null,l=fb(i,c,l,g),db(s),c=fp(),s!==null&&!Sn?(hp(s,i,v),mi(s,i,v)):(St&&c&&Km(i),i.flags|=1,Pn(s,i,l,v),i.child)}function mx(s,i,l,c,g){if(ao(i),i.stateNode===null){var v=tl,C=l.contextType;typeof C=="object"&&C!==null&&(v=Hn(C)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Cp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},sp(i),C=l.contextType,v.context=typeof C=="object"&&C!==null?Hn(C):tl,v.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Ap(i,l,C,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Cp.enqueueReplaceState(v,v.state,null),Fc(i,c,v,g),Bc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){v=i.stateNode;var j=i.memoizedProps,G=co(l,j);v.props=G;var te=v.context,ce=l.contextType;C=tl,typeof ce=="object"&&ce!==null&&(C=Hn(ce));var me=l.getDerivedStateFromProps;ce=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=i.pendingProps!==j,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||te!==C)&&ex(i,v,c,C),ki=!1;var ne=i.memoizedState;v.state=ne,Fc(i,c,v,g),Bc(),te=i.memoizedState,j||ne!==te||ki?(typeof me=="function"&&(Ap(i,l,me,c),te=i.memoizedState),(G=ki||Jb(i,l,G,c,ne,te,C))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),v.props=c,v.state=te,v.context=C,c=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,ip(s,i),C=i.memoizedProps,ce=co(l,C),v.props=ce,me=i.pendingProps,ne=v.context,te=l.contextType,G=tl,typeof te=="object"&&te!==null&&(G=Hn(te)),j=l.getDerivedStateFromProps,(te=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==me||ne!==G)&&ex(i,v,c,G),ki=!1,ne=i.memoizedState,v.state=ne,Fc(i,c,v,g),Bc();var re=i.memoizedState;C!==me||ne!==re||ki||s!==null&&s.dependencies!==null&&$d(s.dependencies)?(typeof j=="function"&&(Ap(i,l,j,c),re=i.memoizedState),(ce=ki||Jb(i,l,ce,c,ne,re,G)||s!==null&&s.dependencies!==null&&$d(s.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),v.props=c,v.state=re,v.context=G,c=ce):(typeof v.componentDidUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),c=!1)}return v=c,ff(s,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&c?(i.child=dl(i,s.child,null,g),i.child=dl(i,null,l,g)):Pn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=mi(s,i,g),s}function px(s,i,l,c){return Dc(),i.flags|=256,Pn(s,i,l,c),i.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Op(s){return{baseLanes:s,cachePool:nb()}}function Mp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Zr),s}function gx(s,i,l){var c=i.pendingProps,g=!1,v=(i.flags&128)!==0,C;if((C=v)||(C=s!==null&&s.memoizedState===null?!1:(vn.current&2)!==0),C&&(g=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,s===null){if(St){if(g?Ui(i):Bi(),St){var j=Wt,G;if(G=j){e:{for(G=j,j=js;G.nodeType!==8;){if(!j){j=null;break e}if(G=cs(G.nextSibling),G===null){j=null;break e}}j=G}j!==null?(i.memoizedState={dehydrated:j,treeContext:to!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=j,G.return=i,i.child=G,ir=i,Wt=null,G=!0):G=!1}G||so(i)}if(j=i.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return pg(j)?i.lanes=32:i.lanes=536870912,null;hi(i)}return j=c.children,c=c.fallback,g?(Bi(),g=i.mode,j=hf({mode:"hidden",children:j},g),c=eo(c,g,l,null),j.return=i,c.return=i,j.sibling=c,i.child=j,g=i.child,g.memoizedState=Op(l),g.childLanes=Mp(s,C,l),i.memoizedState=Ip,c):(Ui(i),Dp(i,j))}if(G=s.memoizedState,G!==null&&(j=G.dehydrated,j!==null)){if(v)i.flags&256?(Ui(i),i.flags&=-257,i=jp(s,i,l)):i.memoizedState!==null?(Bi(),i.child=s.child,i.flags|=128,i=null):(Bi(),g=c.fallback,j=i.mode,c=hf({mode:"visible",children:c.children},j),g=eo(g,j,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,dl(i,s.child,null,l),c=i.child,c.memoizedState=Op(l),c.childLanes=Mp(s,C,l),i.memoizedState=Ip,i=g);else if(Ui(i),pg(j)){if(C=j.nextSibling&&j.nextSibling.dataset,C)var te=C.dgst;C=te,c=Error(r(419)),c.stack="",c.digest=C,jc({value:c,source:null,stack:null}),i=jp(s,i,l)}else if(Sn||Pc(s,i,l,!1),C=(l&s.childLanes)!==0,Sn||C){if(C=zt,C!==null&&(c=l&-l,c=(c&42)!==0?1:_r(c),c=(c&(C.suspendedLanes|l))!==0?0:c,c!==0&&c!==G.retryLane))throw G.retryLane=c,el(s,c),Or(C,s,c),ox;j.data==="$?"||Zp(),i=jp(s,i,l)}else j.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Wt=cs(j.nextSibling),ir=i,St=!0,ro=null,js=!1,s!==null&&(Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=to,li=s.id,ci=s.overflow,to=i),i=Dp(i,c.children),i.flags|=4096);return i}return g?(Bi(),g=c.fallback,j=i.mode,G=s.child,te=G.sibling,c=oi(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,te!==null?g=oi(te,g):(g=eo(g,j,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,j=s.child.memoizedState,j===null?j=Op(l):(G=j.cachePool,G!==null?(te=yn._currentValue,G=G.parent!==te?{parent:te,pool:te}:G):G=nb(),j={baseLanes:j.baseLanes|l,cachePool:G}),g.memoizedState=j,g.childLanes=Mp(s,C,l),i.memoizedState=Ip,c):(Ui(i),l=s.child,s=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(C=i.deletions,C===null?(i.deletions=[s],i.flags|=16):C.push(s)),i.child=l,i.memoizedState=null,l)}function Dp(s,i){return i=hf({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function hf(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function jp(s,i,l){return dl(i,s.child,null,l),s=Dp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function yx(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),Zm(s.return,i,l)}function Pp(s,i,l,c,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=g)}function vx(s,i,l){var c=i.pendingProps,g=c.revealOrder,v=c.tail;if(Pn(s,i,c.children,l),c=vn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yx(s,l,i);else if(s.tag===19)yx(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ge(vn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&cf(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Pp(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&cf(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Pp(i,!0,l,null,v);break;case"together":Pp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),$i|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Pc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=oi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=oi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function kp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&$d(s)))}function YA(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Pi(i,yn,s.memoizedState.cache),Dc();break;case 27:case 5:Ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Pi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ui(i),i.flags|=128,null):(l&i.child.childLanes)!==0?gx(s,i,l):(Ui(i),s=mi(s,i,l),s!==null?s.sibling:null);Ui(i);break;case 19:var g=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Pc(s,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return vx(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(vn,vn.current),c)break;return null;case 22:case 23:return i.lanes=0,dx(s,i,l);case 24:Pi(i,yn,s.memoizedState.cache)}return mi(s,i,l)}function bx(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Sn=!0;else{if(!kp(s,l)&&(i.flags&128)===0)return Sn=!1,YA(s,i,l);Sn=(s.flags&131072)!==0}else Sn=!1,St&&(i.flags&1048576)!==0&&Yv(i,Gd,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")Gm(c)?(s=co(c,s),i.tag=1,i=mx(null,i,c,s,l)):(i.tag=0,i=Np(null,i,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===L){i.tag=11,i=lx(null,i,c,s,l);break e}else if(g===V){i.tag=14,i=cx(null,i,c,s,l);break e}}throw i=le(c)||c,Error(r(306,i,""))}}return i;case 0:return Np(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=co(c,i.pendingProps),mx(s,i,c,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;g=v.element,ip(s,i),Fc(i,c,null,l);var C=i.memoizedState;if(c=C.cache,Pi(i,yn,c),c!==v.cache&&Jm(i,[yn],l,!0),Bc(),c=C.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=px(s,i,c,l);break e}else if(c!==g){g=Qr(Error(r(424)),i),jc(g),i=px(s,i,c,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wt=cs(s.firstChild),ir=i,St=!0,ro=null,js=!0,l=Wb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Dc(),c===g){i=mi(s,i,l);break e}Pn(s,i,c,l)}i=i.child}return i;case 26:return ff(s,i),s===null?(l=E_(i.type,null,i.pendingProps,null))?i.memoizedState=l:St||(l=i.type,s=i.pendingProps,c=Cf(Ee.current).createElement(l),c[he]=i,c[be]=s,Ln(c,l,s),ht(c),i.stateNode=c):i.memoizedState=E_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&St&&(c=i.stateNode=x_(i.type,i.pendingProps,Ee.current),ir=i,js=!0,g=Wt,Xi(i.type)?(gg=g,Wt=cs(c.firstChild)):Wt=g),Pn(s,i,i.pendingProps.children,l),ff(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&St&&((g=c=Wt)&&(c=EC(c,i.type,i.pendingProps,js),c!==null?(i.stateNode=c,ir=i,Wt=cs(c.firstChild),js=!1,g=!0):g=!1),g||so(i)),Ze(i),g=i.type,v=i.pendingProps,C=s!==null?s.memoizedProps:null,c=v.children,fg(g,v)?c=null:C!==null&&fg(g,C)&&(i.flags|=32),i.memoizedState!==null&&(g=dp(s,i,BA,null,null,l),uu._currentValue=g),ff(s,i),Pn(s,i,c,l),i.child;case 6:return s===null&&St&&((s=l=Wt)&&(l=TC(l,i.pendingProps,js),l!==null?(i.stateNode=l,ir=i,Wt=null,s=!0):s=!1),s||so(i)),null;case 13:return gx(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=dl(i,null,c,l):Pn(s,i,c,l),i.child;case 11:return lx(s,i,i.type,i.pendingProps,l);case 7:return Pn(s,i,i.pendingProps,l),i.child;case 8:return Pn(s,i,i.pendingProps.children,l),i.child;case 12:return Pn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Pi(i,i.type,c.value),Pn(s,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,ao(i),g=Hn(g),c=c(g),i.flags|=1,Pn(s,i,c,l),i.child;case 14:return cx(s,i,i.type,i.pendingProps,l);case 15:return ux(s,i,i.type,i.pendingProps,l);case 19:return vx(s,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},s===null?(l=hf(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(s.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return dx(s,i,l);case 24:return ao(i),c=Hn(yn),s===null?(g=np(),g===null&&(g=zt,v=ep(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:c,cache:g},sp(i),Pi(i,yn,g)):((s.lanes&l)!==0&&(ip(s,i),Fc(i,null,null,l),Bc()),g=s.memoizedState,v=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Pi(i,yn,c)):(c=v.cache,Pi(i,yn,c),c!==g.cache&&Jm(i,[yn],l,!0))),Pn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(s){s.flags|=4}function xx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!R_(i)){if(i=Wr.current,i!==null&&((xt&4194048)===xt?Ps!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==Ps))throw zc=rp,rb;s.flags|=8192}}function mf(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?tr():536870912,s.lanes|=i,pl|=i)}function Yc(s,i){if(!St)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Kt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function XA(s,i,l){var c=i.pendingProps;switch(Ym(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(yn),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Mc(i)?pi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zv())),Kt(i),null;case 26:return l=i.memoizedState,s===null?(pi(i),l!==null?(Kt(i),xx(i,l)):(Kt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(pi(i),Kt(i),xx(i,l)):(Kt(i),i.flags&=-16777217):(s.memoizedProps!==c&&pi(i),Kt(i),i.flags&=-16777217),null;case 27:It(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}s=Se.current,Mc(i)?Xv(i):(s=x_(g,c,l),i.stateNode=s,pi(i))}return Kt(i),null;case 5:if(It(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}if(s=Se.current,Mc(i))Xv(i);else{switch(g=Cf(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[he]=i,s[be]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Ln(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pi(i)}}return Kt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Mc(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,g=ir,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[he]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||h_(s.nodeValue,l)),s||so(i)}else s=Cf(s).createTextNode(c),s[he]=i,i.stateNode=s}return Kt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Mc(i),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[he]=i}else Dc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),g=!1}else g=Zv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),mf(i,i.updateQueue),Kt(i),null;case 4:return it(),s===null&&og(i.stateNode.containerInfo),Kt(i),null;case 10:return di(i.type),Kt(i),null;case 19:if(ve(vn),g=i.memoizedState,g===null)return Kt(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)Yc(g,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=cf(s),v!==null){for(i.flags|=128,Yc(g,!1),s=v.updateQueue,i.updateQueue=s,mf(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Kv(l,s),l=l.sibling;return ge(vn,vn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Xt()>yf&&(i.flags|=128,c=!0,Yc(g,!1),i.lanes=4194304)}else{if(!c)if(s=cf(v),s!==null){if(i.flags|=128,c=!0,s=s.updateQueue,i.updateQueue=s,mf(i,s),Yc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!St)return Kt(i),null}else 2*Xt()-g.renderingStartTime>yf&&l!==536870912&&(i.flags|=128,c=!0,Yc(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Xt(),i.sibling=null,s=vn.current,ge(vn,c?s&1|2:s&1),i):(Kt(i),null);case 22:case 23:return hi(i),cp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),l=i.updateQueue,l!==null&&mf(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&ve(oo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(yn),Kt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function WA(s,i){switch(Ym(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return di(yn),it(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(hi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Dc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(vn),null;case 4:return it(),null;case 10:return di(i.type),null;case 22:case 23:return hi(i),cp(),s!==null&&ve(oo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return di(yn),null;case 25:return null;default:return null}}function _x(s,i){switch(Ym(i),i.tag){case 3:di(yn),it();break;case 26:case 27:case 5:It(i);break;case 4:it();break;case 13:hi(i);break;case 19:ve(vn);break;case 10:di(i.type);break;case 22:case 23:hi(i),cp(),s!==null&&ve(oo);break;case 24:di(yn)}}function Xc(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var v=l.create,C=l.inst;c=v(),C.destroy=c}l=l.next}while(l!==g)}}catch(j){Vt(i,i.return,j)}}function Fi(s,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&s)===s){var C=c.inst,j=C.destroy;if(j!==void 0){C.destroy=void 0,g=i;var G=l,te=j;try{te()}catch(ce){Vt(g,G,ce)}}}c=c.next}while(c!==v)}}catch(ce){Vt(i,i.return,ce)}}function wx(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{cb(i,l)}catch(c){Vt(s,s.return,c)}}}function Ex(s,i,l){l.props=co(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(s,i,c)}}function Wc(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){Vt(s,i,g)}}function ks(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Vt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(s,i,g)}else l.current=null}function Tx(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Vt(s,s.return,g)}}function Lp(s,i,l){try{var c=s.stateNode;vC(c,s.type,l,i),c[be]=i}catch(g){Vt(s,s.return,g)}}function Sx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xi(s.type)||s.tag===4}function Vp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zp(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Af));else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(zp(s,i,l),s=s.sibling;s!==null;)zp(s,i,l),s=s.sibling}function pf(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Xi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(pf(s,i,l),s=s.sibling;s!==null;)pf(s,i,l),s=s.sibling}function Ax(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Ln(i,c,l),i[he]=s,i[be]=l}catch(v){Vt(s,s.return,v)}}var gi=!1,tn=!1,Up=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,An=null;function ZA(s,i){if(s=s.containerInfo,ug=Df,s=Vv(s),Vm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,j=-1,G=-1,te=0,ce=0,me=s,ne=null;t:for(;;){for(var re;me!==l||g!==0&&me.nodeType!==3||(j=C+g),me!==v||c!==0&&me.nodeType!==3||(G=C+c),me.nodeType===3&&(C+=me.nodeValue.length),(re=me.firstChild)!==null;)ne=me,me=re;for(;;){if(me===s)break t;if(ne===l&&++te===g&&(j=C),ne===v&&++ce===c&&(G=C),(re=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=re}l=j===-1||G===-1?null:{start:j,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(dg={focusedElem:s,selectionRange:l},Df=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var $e=co(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate($e,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)mg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function Rx(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:qi(s,l),c&4&&Xc(5,l);break;case 1:if(qi(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(C){Vt(l,l.return,C)}else{var g=co(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Vt(l,l.return,C)}}c&64&&wx(l),c&512&&Wc(l,l.return);break;case 3:if(qi(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{cb(s,i)}catch(C){Vt(l,l.return,C)}}break;case 27:i===null&&c&4&&Ax(l);case 26:case 5:qi(s,l),i===null&&c&4&&Tx(l),c&512&&Wc(l,l.return);break;case 12:qi(s,l);break;case 13:qi(s,l),c&4&&Ox(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=oC.bind(null,l),SC(s,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||tn,g=gi;var v=tn;gi=c,(tn=i)&&!v?Hi(s,l,(l.subtreeFlags&8772)!==0):qi(s,l),gi=g,tn=v}break;case 30:break;default:qi(s,l)}}function Nx(s){var i=s.alternate;i!==null&&(s.alternate=null,Nx(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&je(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,mr=!1;function yi(s,i,l){for(l=l.child;l!==null;)Ix(s,i,l),l=l.sibling}function Ix(s,i,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 26:tn||ks(l,i),yi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||ks(l,i);var c=Gt,g=mr;Xi(l.type)&&(Gt=l.stateNode,mr=!1),yi(s,i,l),au(l.stateNode),Gt=c,mr=g;break;case 5:tn||ks(l,i);case 6:if(c=Gt,g=mr,Gt=null,yi(s,i,l),Gt=c,mr=g,Gt!==null)if(mr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){Vt(l,i,v)}else try{Gt.removeChild(l.stateNode)}catch(v){Vt(l,i,v)}break;case 18:Gt!==null&&(mr?(s=Gt,v_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),mu(s)):v_(Gt,l.stateNode));break;case 4:c=Gt,g=mr,Gt=l.stateNode.containerInfo,mr=!0,yi(s,i,l),Gt=c,mr=g;break;case 0:case 11:case 14:case 15:tn||Fi(2,l,i),tn||Fi(4,l,i),yi(s,i,l);break;case 1:tn||(ks(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ex(l,i,c)),yi(s,i,l);break;case 21:yi(s,i,l);break;case 22:tn=(c=tn)||l.memoizedState!==null,yi(s,i,l),tn=c;break;default:yi(s,i,l)}}function Ox(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mu(s)}catch(l){Vt(i,i.return,l)}}function JA(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Cx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Cx),i;default:throw Error(r(435,s.tag))}}function Bp(s,i){var l=JA(s);i.forEach(function(c){var g=lC.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Cr(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=s,C=i,j=C;e:for(;j!==null;){switch(j.tag){case 27:if(Xi(j.type)){Gt=j.stateNode,mr=!1;break e}break;case 5:Gt=j.stateNode,mr=!1;break e;case 3:case 4:Gt=j.stateNode.containerInfo,mr=!0;break e}j=j.return}if(Gt===null)throw Error(r(160));Ix(v,C,g),Gt=null,mr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Mx(i,s),i=i.sibling}var ls=null;function Mx(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Cr(i,s),Rr(s),c&4&&(Fi(3,s,s.return),Xc(3,s),Fi(5,s,s.return));break;case 1:Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),c&64&&gi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ls;if(Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[he]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Ln(v,c,l),v[he]=s,ht(v),c=v;break e;case"link":var C=A_("link","href",g).get(c+(l.href||""));if(C){for(var j=0;j<C.length;j++)if(v=C[j],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(j,1);break t}}v=g.createElement(c),Ln(v,c,l),g.head.appendChild(v);break;case"meta":if(C=A_("meta","content",g).get(c+(l.content||""))){for(j=0;j<C.length;j++)if(v=C[j],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(j,1);break t}}v=g.createElement(c),Ln(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[he]=s,ht(v),c=v}s.stateNode=c}else C_(g,s.type,s.stateNode);else s.stateNode=S_(g,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?C_(g,s.type,s.stateNode):S_(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Lp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),l!==null&&c&4&&Lp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Cr(i,s),Rr(s),c&512&&(tn||l===null||ks(l,l.return)),s.flags&32){g=s.stateNode;try{qr(g,"")}catch(re){Vt(s,s.return,re)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,Lp(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Up=!0);break;case 6:if(Cr(i,s),Rr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(re){Vt(s,s.return,re)}}break;case 3:if(If=null,g=ls,ls=Rf(i.containerInfo),Cr(i,s),ls=g,Rr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{mu(i.containerInfo)}catch(re){Vt(s,s.return,re)}Up&&(Up=!1,Dx(s));break;case 4:c=ls,ls=Rf(s.stateNode.containerInfo),Cr(i,s),Rr(s),ls=c;break;case 12:Cr(i,s),Rr(s);break;case 13:Cr(i,s),Rr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qp=Xt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bp(s,c)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=gi,ce=tn;if(gi=te||g,tn=ce||G,Cr(i,s),tn=ce,gi=te,Rr(s),c&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||gi||tn||uo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{j=G.stateNode;var me=G.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;j.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt(G,G.return,re)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(re){Vt(G,G.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Bp(s,l))));break;case 19:Cr(i,s),Rr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Bp(s,c)));break;case 30:break;case 21:break;default:Cr(i,s),Rr(s)}}function Rr(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(Sx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Vp(s);pf(s,v,g);break;case 5:var C=l.stateNode;l.flags&32&&(qr(C,""),l.flags&=-33);var j=Vp(s);pf(s,j,C);break;case 3:case 4:var G=l.stateNode.containerInfo,te=Vp(s);zp(s,te,G);break;default:throw Error(r(161))}}catch(ce){Vt(s,s.return,ce)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Dx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Dx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function qi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Rx(s,i.alternate,i),i=i.sibling}function uo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),uo(i);break;case 1:ks(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ex(i,i.return,l),uo(i);break;case 27:au(i.stateNode);case 26:case 5:ks(i,i.return),uo(i);break;case 22:i.memoizedState===null&&uo(i);break;case 30:uo(i);break;default:uo(i)}s=s.sibling}}function Hi(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=s,v=i,C=v.flags;switch(v.tag){case 0:case 11:case 15:Hi(g,v,l),Xc(4,v);break;case 1:if(Hi(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Vt(c,c.return,te)}if(c=v,g=c.updateQueue,g!==null){var j=c.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)lb(G[g],j)}catch(te){Vt(c,c.return,te)}}l&&C&64&&wx(v),Wc(v,v.return);break;case 27:Ax(v);case 26:case 5:Hi(g,v,l),l&&c===null&&C&4&&Tx(v),Wc(v,v.return);break;case 12:Hi(g,v,l);break;case 13:Hi(g,v,l),l&&C&4&&Ox(g,v);break;case 22:v.memoizedState===null&&Hi(g,v,l),Wc(v,v.return);break;case 30:break;default:Hi(g,v,l)}i=i.sibling}}function Fp(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&kc(l))}function qp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&kc(s))}function Ls(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jx(s,i,l,c),i=i.sibling}function jx(s,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ls(s,i,l,c),g&2048&&Xc(9,i);break;case 1:Ls(s,i,l,c);break;case 3:Ls(s,i,l,c),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&kc(s)));break;case 12:if(g&2048){Ls(s,i,l,c),s=i.stateNode;try{var v=i.memoizedProps,C=v.id,j=v.onPostCommit;typeof j=="function"&&j(C,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Vt(i,i.return,G)}}else Ls(s,i,l,c);break;case 13:Ls(s,i,l,c);break;case 23:break;case 22:v=i.stateNode,C=i.alternate,i.memoizedState!==null?v._visibility&2?Ls(s,i,l,c):Zc(s,i):v._visibility&2?Ls(s,i,l,c):(v._visibility|=2,fl(s,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&Fp(C,i);break;case 24:Ls(s,i,l,c),g&2048&&qp(i.alternate,i);break;default:Ls(s,i,l,c)}}function fl(s,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,C=i,j=l,G=c,te=C.flags;switch(C.tag){case 0:case 11:case 15:fl(v,C,j,G,g),Xc(8,C);break;case 23:break;case 22:var ce=C.stateNode;C.memoizedState!==null?ce._visibility&2?fl(v,C,j,G,g):Zc(v,C):(ce._visibility|=2,fl(v,C,j,G,g)),g&&te&2048&&Fp(C.alternate,C);break;case 24:fl(v,C,j,G,g),g&&te&2048&&qp(C.alternate,C);break;default:fl(v,C,j,G,g)}i=i.sibling}}function Zc(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,g=c.flags;switch(c.tag){case 22:Zc(l,c),g&2048&&Fp(c.alternate,c);break;case 24:Zc(l,c),g&2048&&qp(c.alternate,c);break;default:Zc(l,c)}i=i.sibling}}var Jc=8192;function hl(s){if(s.subtreeFlags&Jc)for(s=s.child;s!==null;)Px(s),s=s.sibling}function Px(s){switch(s.tag){case 26:hl(s),s.flags&Jc&&s.memoizedState!==null&&VC(ls,s.memoizedState,s.memoizedProps);break;case 5:hl(s);break;case 3:case 4:var i=ls;ls=Rf(s.stateNode.containerInfo),hl(s),ls=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=Jc,Jc=16777216,hl(s),Jc=i):hl(s));break;default:hl(s)}}function kx(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function eu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Vx(c,s)}kx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lx(s),s=s.sibling}function Lx(s){switch(s.tag){case 0:case 11:case 15:eu(s),s.flags&2048&&Fi(9,s,s.return);break;case 3:eu(s);break;case 12:eu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,gf(s)):eu(s);break;default:eu(s)}}function gf(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,Vx(c,s)}kx(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),gf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,gf(i));break;default:gf(i)}s=s.sibling}}function Vx(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:Fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,An=c;else e:for(l=s;An!==null;){c=An;var g=c.sibling,v=c.return;if(Nx(c),c===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var eC={getCacheForType:function(s){var i=Hn(yn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},tC=typeof WeakMap=="function"?WeakMap:Map,Ot=0,zt=null,ot=null,xt=0,Mt=0,Nr=null,Gi=!1,ml=!1,Hp=!1,vi=0,Zt=0,$i=0,fo=0,Gp=0,Zr=0,pl=0,tu=null,pr=null,$p=!1,Qp=0,yf=1/0,vf=null,Qi=null,kn=0,Ki=null,gl=null,yl=0,Kp=0,Yp=null,zx=null,nu=0,Xp=null;function Ir(){if((Ot&2)!==0&&xt!==0)return xt&-xt;if($.T!==null){var s=sl;return s!==0?s:rg()}return Q()}function Ux(){Zr===0&&(Zr=(xt&536870912)===0||St?sn():536870912);var s=Wr.current;return s!==null&&(s.flags|=32),Zr}function Or(s,i,l){(s===zt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(vl(s,0),Yi(s,xt,Zr,!1)),Fn(s,l),((Ot&2)===0||s!==zt)&&(s===zt&&((Ot&2)===0&&(fo|=l),Zt===4&&Yi(s,xt,Zr,!1)),Vs(s))}function Bx(s,i,l){if((Ot&6)!==0)throw Error(r(327));var c=!l&&(i&124)===0&&(i&s.expiredLanes)===0||ft(s,i),g=c?sC(s,i):Jp(s,i,!0),v=c;do{if(g===0){ml&&!c&&Yi(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!nC(l)){g=Jp(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var j=s;g=tu;var G=j.current.memoizedState.isDehydrated;if(G&&(vl(j,C).flags|=256),C=Jp(j,C,!1),C!==2){if(Hp&&!G){j.errorRecoveryDisabledLanes|=v,fo|=v,g=4;break e}v=pr,pr=g,v!==null&&(pr===null?pr=v:pr.push.apply(pr,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){vl(s,0),Yi(s,i,0,!0);break}e:{switch(c=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Yi(c,i,Zr,!Gi);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Qp+300-Xt(),10<g)){if(Yi(c,i,Zr,!Gi),Je(c,0,!0)!==0)break e;c.timeoutHandle=g_(Fx.bind(null,c,l,pr,vf,$p,i,Zr,fo,pl,Gi,v,2,-0,0),g);break e}Fx(c,l,pr,vf,$p,i,Zr,fo,pl,Gi,v,0,-0,0)}}break}while(!0);Vs(s)}function Fx(s,i,l,c,g,v,C,j,G,te,ce,me,ne,re){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(cu={stylesheets:null,count:0,unsuspend:LC},Px(i),me=zC(),me!==null)){s.cancelPendingCommit=me(Yx.bind(null,s,i,v,l,c,g,C,j,G,ce,1,ne,re)),Yi(s,v,C,!te);return}Yx(s,i,v,l,c,g,C,j,G)}function nC(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Sr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(s,i,l,c){i&=~Gp,i&=~fo,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var g=i;0<g;){var v=31-$t(g),C=1<<v;c[v]=-1,g&=~C}l!==0&&Qt(s,l,i)}function bf(){return(Ot&6)===0?(ru(0),!1):!0}function Wp(){if(ot!==null){if(Mt===0)var s=ot.return;else s=ot,ui=io=null,mp(s),ul=null,Qc=0,s=ot;for(;s!==null;)_x(s.alternate,s),s=s.return;ot=null}}function vl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,xC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Wp(),zt=s,ot=l=oi(s.current,null),xt=i,Mt=0,Nr=null,Gi=!1,ml=ft(s,i),Hp=!1,pl=Zr=Gp=fo=$i=Zt=0,pr=tu=null,$p=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var g=31-$t(c),v=1<<g;i|=s[g],c&=~v}return vi=i,Ud(),l}function qx(s,i){tt=null,$.H=af,i===Vc||i===Yd?(i=ab(),Mt=3):i===rb?(i=ab(),Mt=4):Mt=i===ox?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nr=i,ot===null&&(Zt=1,df(s,Qr(i,s.current)))}function Hx(){var s=$.H;return $.H=af,s===null?af:s}function Gx(){var s=$.A;return $.A=eC,s}function Zp(){Zt=4,Gi||(xt&4194048)!==xt&&Wr.current!==null||(ml=!0),($i&134217727)===0&&(fo&134217727)===0||zt===null||Yi(zt,xt,Zr,!1)}function Jp(s,i,l){var c=Ot;Ot|=2;var g=Hx(),v=Gx();(zt!==s||xt!==i)&&(vf=null,vl(s,i)),i=!1;var C=Zt;e:do try{if(Mt!==0&&ot!==null){var j=ot,G=Nr;switch(Mt){case 8:Wp(),C=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(i=!0);var te=Mt;if(Mt=0,Nr=null,bl(s,j,G,te),l&&ml){C=0;break e}break;default:te=Mt,Mt=0,Nr=null,bl(s,j,G,te)}}rC(),C=Zt;break}catch(ce){qx(s,ce)}while(!0);return i&&s.shellSuspendCounter++,ui=io=null,Ot=c,$.H=g,$.A=v,ot===null&&(zt=null,xt=0,Ud()),C}function rC(){for(;ot!==null;)$x(ot)}function sC(s,i){var l=Ot;Ot|=2;var c=Hx(),g=Gx();zt!==s||xt!==i?(vf=null,yf=Xt()+500,vl(s,i)):ml=ft(s,i);e:do try{if(Mt!==0&&ot!==null){i=ot;var v=Nr;t:switch(Mt){case 1:Mt=0,Nr=null,bl(s,i,v,1);break;case 2:case 9:if(sb(v)){Mt=0,Nr=null,Qx(i);break}i=function(){Mt!==2&&Mt!==9||zt!==s||(Mt=7),Vs(s)},v.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:sb(v)?(Mt=0,Nr=null,Qx(i)):(Mt=0,Nr=null,bl(s,i,v,7));break;case 5:var C=null;switch(ot.tag){case 26:C=ot.memoizedState;case 5:case 27:var j=ot;if(!C||R_(C)){Mt=0,Nr=null;var G=j.sibling;if(G!==null)ot=G;else{var te=j.return;te!==null?(ot=te,xf(te)):ot=null}break t}}Mt=0,Nr=null,bl(s,i,v,5);break;case 6:Mt=0,Nr=null,bl(s,i,v,6);break;case 8:Wp(),Zt=6;break e;default:throw Error(r(462))}}iC();break}catch(ce){qx(s,ce)}while(!0);return ui=io=null,$.H=c,$.A=g,Ot=l,ot!==null?0:(zt=null,xt=0,Ud(),Zt)}function iC(){for(;ot!==null&&!ur();)$x(ot)}function $x(s){var i=bx(s.alternate,s,vi);s.memoizedProps=s.pendingProps,i===null?xf(s):ot=i}function Qx(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=hx(l,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=hx(l,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:mp(i);default:_x(l,i),i=ot=Kv(i,vi),i=bx(l,i,vi)}s.memoizedProps=s.pendingProps,i===null?xf(s):ot=i}function bl(s,i,l,c){ui=io=null,mp(i),ul=null,Qc=0;var g=i.return;try{if(KA(s,g,i,l,xt)){Zt=1,df(s,Qr(l,s.current)),ot=null;return}}catch(v){if(g!==null)throw ot=g,v;Zt=1,df(s,Qr(l,s.current)),ot=null;return}i.flags&32768?(St||c===1?s=!0:ml||(xt&536870912)!==0?s=!1:(Gi=s=!0,(c===2||c===9||c===3||c===6)&&(c=Wr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Kx(i,s)):xf(i)}function xf(s){var i=s;do{if((i.flags&32768)!==0){Kx(i,Gi);return}s=i.return;var l=XA(i.alternate,i,vi);if(l!==null){ot=l;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=s}while(i!==null);Zt===0&&(Zt=5)}function Kx(s,i){do{var l=WA(s.alternate,s);if(l!==null){l.flags&=32767,ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ot=s;return}ot=s=l}while(s!==null);Zt=6,ot=null}function Yx(s,i,l,c,g,v,C,j,G){s.cancelPendingCommit=null;do _f();while(kn!==0);if((Ot&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=qm,On(s,l,v,C,j,G),s===zt&&(ot=zt=null,xt=0),gl=i,Ki=s,yl=l,Kp=v,Yp=g,zx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cC(ss,function(){return e_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,g=ae.p,ae.p=2,C=Ot,Ot|=4;try{ZA(s,i,l)}finally{Ot=C,ae.p=g,$.T=c}}kn=1,Xx(),Wx(),Zx()}}function Xx(){if(kn===1){kn=0;var s=Ki,i=gl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ae.p;ae.p=2;var g=Ot;Ot|=4;try{Mx(i,s);var v=dg,C=Vv(s.containerInfo),j=v.focusedElem,G=v.selectionRange;if(C!==j&&j&&j.ownerDocument&&Lv(j.ownerDocument.documentElement,j)){if(G!==null&&Vm(j)){var te=G.start,ce=G.end;if(ce===void 0&&(ce=te),"selectionStart"in j)j.selectionStart=te,j.selectionEnd=Math.min(ce,j.value.length);else{var me=j.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),$e=j.textContent.length,Be=Math.min(G.start,$e),kt=G.end===void 0?Be:Math.min(G.end,$e);!re.extend&&Be>kt&&(C=kt,kt=Be,Be=C);var X=kv(j,Be),K=kv(j,kt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=me.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Be>kt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(me=[],re=j;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<me.length;j++){var de=me[j];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Df=!!ug,dg=ug=null}finally{Ot=g,ae.p=c,$.T=l}}s.current=i,kn=2}}function Wx(){if(kn===2){kn=0;var s=Ki,i=gl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ae.p;ae.p=2;var g=Ot;Ot|=4;try{Rx(s,i.alternate,i)}finally{Ot=g,ae.p=c,$.T=l}}kn=3}}function Zx(){if(kn===4||kn===3){kn=0,Zn();var s=Ki,i=gl,l=yl,c=zx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kn=5:(kn=0,gl=Ki=null,Jx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Qi=null),Ts(l),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,g=ae.p,ae.p=2,$.T=null;try{for(var v=s.onRecoverableError,C=0;C<c.length;C++){var j=c[C];v(j.value,{componentStack:j.stack})}}finally{$.T=i,ae.p=g}}(yl&3)!==0&&_f(),Vs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Xp?nu++:(nu=0,Xp=s):nu=0,ru(0)}}function Jx(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,kc(i)))}function _f(s){return Xx(),Wx(),Zx(),e_()}function e_(){if(kn!==5)return!1;var s=Ki,i=Kp;Kp=0;var l=Ts(yl),c=$.T,g=ae.p;try{ae.p=32>l?32:l,$.T=null,l=Yp,Yp=null;var v=Ki,C=yl;if(kn=0,gl=Ki=null,yl=0,(Ot&6)!==0)throw Error(r(331));var j=Ot;if(Ot|=4,Lx(v.current),jx(v,v.current,C,l),Ot=j,ru(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(yt,v)}catch{}return!0}finally{ae.p=g,$.T=c,Jx(s,i)}}function t_(s,i,l){i=Qr(l,i),i=Rp(s.stateNode,i,2),s=Vi(s,i,2),s!==null&&(Fn(s,2),Vs(s))}function Vt(s,i,l){if(s.tag===3)t_(s,s,l);else for(;i!==null;){if(i.tag===3){t_(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qi===null||!Qi.has(c))){s=Qr(l,s),l=ix(2),c=Vi(i,l,2),c!==null&&(ax(l,c,i,s),Fn(c,2),Vs(c));break}}i=i.return}}function eg(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new tC;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(Hp=!0,g.add(l),s=aC.bind(null,s,i,l),i.then(s,s))}function aC(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,zt===s&&(xt&l)===l&&(Zt===4||Zt===3&&(xt&62914560)===xt&&300>Xt()-Qp?(Ot&2)===0&&vl(s,0):Gp|=l,pl===xt&&(pl=0)),Vs(s)}function n_(s,i){i===0&&(i=tr()),s=el(s,i),s!==null&&(Fn(s,i),Vs(s))}function oC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),n_(s,l)}function lC(s,i){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),n_(s,l)}function cC(s,i){return hn(s,i)}var wf=null,xl=null,tg=!1,Ef=!1,ng=!1,ho=0;function Vs(s){s!==xl&&s.next===null&&(xl===null?wf=xl=s:xl=xl.next=s),Ef=!0,tg||(tg=!0,dC())}function ru(s,i){if(!ng&&Ef){ng=!0;do for(var l=!1,c=wf;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var C=c.suspendedLanes,j=c.pingedLanes;v=(1<<31-$t(42|s)+1)-1,v&=g&~(C&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,a_(c,v))}else v=xt,v=Je(c,c===zt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ft(c,v)||(l=!0,a_(c,v));c=c.next}while(l);ng=!1}}function uC(){r_()}function r_(){Ef=tg=!1;var s=0;ho!==0&&(bC()&&(s=ho),ho=0);for(var i=Xt(),l=null,c=wf;c!==null;){var g=c.next,v=s_(c,i);v===0?(c.next=null,l===null?wf=g:l.next=g,g===null&&(xl=l)):(l=c,(s!==0||(v&3)!==0)&&(Ef=!0)),c=g}ru(s)}function s_(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var C=31-$t(v),j=1<<C,G=g[C];G===-1?((j&l)===0||(j&c)!==0)&&(g[C]=qt(j,i)):G<=i&&(s.expiredLanes|=j),v&=~j}if(i=zt,l=xt,l=Je(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ft(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ft(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&Ft(c),Ts(l)){case 2:case 8:l=ws;break;case 32:l=ss;break;case 268435456:l=er;break;default:l=ss}return c=i_.bind(null,s),l=hn(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&Ft(c),s.callbackPriority=2,s.callbackNode=null,2}function i_(s,i){if(kn!==0&&kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(_f()&&s.callbackNode!==l)return null;var c=xt;return c=Je(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Bx(s,c,i),s_(s,Xt()),s.callbackNode!=null&&s.callbackNode===l?i_.bind(null,s):null)}function a_(s,i){if(_f())return null;Bx(s,i,!0)}function dC(){_C(function(){(Ot&6)!==0?hn(_s,uC):r_()})}function rg(){return ho===0&&(ho=sn()),ho}function o_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function l_(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function fC(s,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var v=o_((g[be]||null).action),C=c.submitter;C&&(i=(i=C[be]||null)?o_(i.formAction):C.getAttribute("formAction"),i!==null&&(v=i,C=null));var j=new qo("action","action",null,c,g);s.push({event:j,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ho!==0){var G=C?l_(g,C):new FormData(g);Ep(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(j.preventDefault(),G=C?l_(g,C):new FormData(g),Ep(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var sg=0;sg<Fm.length;sg++){var ig=Fm[sg],hC=ig.toLowerCase(),mC=ig[0].toUpperCase()+ig.slice(1);os(hC,"on"+mC)}os(Bv,"onAnimationEnd"),os(Fv,"onAnimationIteration"),os(qv,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(OA,"onTransitionRun"),os(MA,"onTransitionStart"),os(DA,"onTransitionCancel"),os(Hv,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function c_(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var C=c.length-1;0<=C;C--){var j=c[C],G=j.instance,te=j.currentTarget;if(j=j.listener,G!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=te;try{v(g)}catch(ce){uf(ce)}g.currentTarget=null,v=G}else for(C=0;C<c.length;C++){if(j=c[C],G=j.instance,te=j.currentTarget,j=j.listener,G!==v&&g.isPropagationStopped())break e;v=j,g.currentTarget=te;try{v(g)}catch(ce){uf(ce)}g.currentTarget=null,v=G}}}}function lt(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var c=s+"__bubble";l.has(c)||(u_(i,s,2,!1),l.add(c))}function ag(s,i,l){var c=0;i&&(c|=4),u_(l,s,c,i)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function og(s){if(!s[Tf]){s[Tf]=!0,rt.forEach(function(l){l!=="selectionchange"&&(pC.has(l)||ag(l,!1,s),ag(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Tf]||(i[Tf]=!0,ag("selectionchange",!1,i))}}function u_(s,i,l,c){switch(j_(i)){case 2:var g=FC;break;case 8:g=qC;break;default:g=_g}l=g.bind(null,i,l,s),g=void 0,!Gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function lg(s,i,l,c,g){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var j=c.stateNode.containerInfo;if(j===g)break;if(C===4)for(C=c.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;j!==null;){if(C=Fe(j),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){c=v=C;continue e}j=j.parentNode}}c=c.return}Sd(function(){var te=v,ce=Hr(l),me=[];e:{var ne=Gv.get(s);if(ne!==void 0){var re=qo,$e=s;switch(s){case"keypress":if(Ns(l)===0)break e;case"keydown":case"keyup":re=Yo;break;case"focusin":$e="focus",re=$o;break;case"focusout":$e="blur",re=$o;break;case"beforeblur":case"afterblur":re=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Dd;break;case Bv:case Fv:case qv:re=Qo;break;case Hv:re=Pd;break;case"scroll":case"scrollend":re=Ad;break;case"wheel":re=Xo;break;case"copy":case"cut":case"paste":re=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Rc;break;case"toggle":case"beforetoggle":re=Ld}var Be=(i&4)!==0,kt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var K=te,J;K!==null;){var de=K;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||X===null||(de=Ga(K,X),de!=null&&Be.push(iu(K,de,J))),kt)break;K=K.return}0<Be.length&&(ne=new re(ne,$e,null,l,ce),me.push({event:ne,listeners:Be}))}}if((i&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&l!==ti&&($e=l.relatedTarget||l.fromElement)&&(Fe($e)||$e[Ce]))break e;if((re||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?($e=l.relatedTarget||l.toElement,re=te,$e=$e?Fe($e):null,$e!==null&&(kt=o($e),Be=$e.tag,$e!==kt||Be!==5&&Be!==27&&Be!==6)&&($e=null)):(re=null,$e=te),re!==$e)){if(Be=$r,de="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Rc,de="onPointerLeave",X="onPointerEnter",K="pointer"),kt=re==null?ne:At(re),J=$e==null?ne:At($e),ne=new Be(de,K+"leave",re,l,ce),ne.target=kt,ne.relatedTarget=J,de=null,Fe(ce)===te&&(Be=new Be(X,K+"enter",$e,l,ce),Be.target=J,Be.relatedTarget=kt,de=Be),kt=de,re&&$e)t:{for(Be=re,X=$e,K=0,J=Be;J;J=_l(J))K++;for(J=0,de=X;de;de=_l(de))J++;for(;0<K-J;)Be=_l(Be),K--;for(;0<J-K;)X=_l(X),J--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=_l(Be),X=_l(X)}Be=null}else Be=null;re!==null&&d_(me,ne,re,Be,!1),$e!==null&&kt!==null&&d_(me,kt,$e,Be,!0)}}e:{if(ne=te?At(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ne=Iv;else if(gn(ne))if(Ov)Ne=RA;else{Ne=AA;var st=SA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&_c(te.elementType)&&(Ne=Iv):Ne=CA;if(Ne&&(Ne=Ne(s,te))){ai(me,Ne,l,ce);break e}st&&st(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Di(ne,"number",ne.value)}switch(st=te?At(te):window,s){case"focusin":(gn(st)||st.contentEditable==="true")&&(Wo=st,zm=te,Oc=null);break;case"focusout":Oc=zm=Wo=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,zv(me,l,ce);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":zv(me,l,ce)}var ke;if(Ms)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else vt?se(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(S&&l.locale!=="ko"&&(vt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&vt&&(ke=Ec()):(Rs=ce,ji="value"in Rs?Rs.value:Rs.textContent,vt=!0)),st=Sf(te,qe),0<st.length&&(qe=new Ac(qe,s,null,l,ce),me.push({event:qe,listeners:st}),ke?qe.data=ke:(ke=_e(l),ke!==null&&(qe.data=ke)))),(ke=x?pn(s,l):bt(s,l))&&(qe=Sf(te,"onBeforeInput"),0<qe.length&&(st=new Ac("onBeforeInput","beforeinput",null,l,ce),me.push({event:st,listeners:qe}),st.data=ke)),fC(me,s,te,l,ce)}c_(me,i)})}function iu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Sf(s,i){for(var l=i+"Capture",c=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ga(s,l),g!=null&&c.unshift(iu(s,g,v)),g=Ga(s,i),g!=null&&c.push(iu(s,g,v))),s.tag===3)return c;s=s.return}return[]}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function d_(s,i,l,c,g){for(var v=i._reactName,C=[];l!==null&&l!==c;){var j=l,G=j.alternate,te=j.stateNode;if(j=j.tag,G!==null&&G===c)break;j!==5&&j!==26&&j!==27||te===null||(G=te,g?(te=Ga(l,v),te!=null&&C.unshift(iu(l,te,G))):g||(te=Ga(l,v),te!=null&&C.push(iu(l,te,G)))),l=l.return}C.length!==0&&s.push({event:i,listeners:C})}var gC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function f_(s){return(typeof s=="string"?s:""+s).replace(gC,`
`).replace(yC,"")}function h_(s,i){return i=f_(i),f_(s)===i}function Af(){}function Pt(s,i,l,c,g,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qr(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qr(s,""+c);break;case"className":rr(s,"class",c);break;case"tabIndex":rr(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(s,l,c);break;case"style":xc(s,c,v);break;case"data":if(i!=="object"){rr(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Pt(s,i,"name",g.name,g,null),Pt(s,i,"formEncType",g.formEncType,g,null),Pt(s,i,"formMethod",g.formMethod,g,null),Pt(s,i,"formTarget",g.formTarget,g,null)):(Pt(s,i,"encType",g.encType,g,null),Pt(s,i,"method",g.method,g,null),Pt(s,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Af);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":lt("beforetoggle",s),lt("toggle",s),qn(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qn(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mm.get(l)||l,qn(s,l,c))}}function cg(s,i,l,c,g,v){switch(l){case"style":xc(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?qr(s,c):(typeof c=="number"||typeof c=="bigint")&&qr(s,""+c);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Af);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[be]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):qn(s,l,c)}}}function Ln(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var C=l[v];if(C!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,v,C,l,null)}}g&&Pt(s,i,"srcSet",l.srcSet,l,null),c&&Pt(s,i,"src",l.src,l,null);return;case"input":lt("invalid",s);var j=v=C=g=null,G=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":g=ce;break;case"type":C=ce;break;case"checked":G=ce;break;case"defaultChecked":te=ce;break;case"value":v=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,i));break;default:Pt(s,i,c,ce,l,null)}}Fa(s,v,j,G,te,C,g,!1),Bo(s);return;case"select":lt("invalid",s),c=C=v=null;for(g in l)if(l.hasOwnProperty(g)&&(j=l[g],j!=null))switch(g){case"value":v=j;break;case"defaultValue":C=j;break;case"multiple":c=j;default:Pt(s,i,g,j,l,null)}i=v,l=C,s.multiple=!!c,i!=null?ei(s,!!c,i,!1):l!=null&&ei(s,!!c,l,!0);return;case"textarea":lt("invalid",s),v=g=c=null;for(C in l)if(l.hasOwnProperty(C)&&(j=l[C],j!=null))switch(C){case"value":c=j;break;case"defaultValue":g=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Pt(s,i,C,j,l,null)}qa(s,c,g,v),Bo(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pt(s,i,G,c,l,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(c=0;c<su.length;c++)lt(su[c],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,te,c,l,null)}return;default:if(_c(i)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&cg(s,i,ce,c,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(c=l[j],c!=null&&Pt(s,i,j,c,l,null))}function vC(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,j=null,G=null,te=null,ce=null;for(re in l){var me=l[re];if(l.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=me;default:c.hasOwnProperty(re)||Pt(s,i,re,null,c,me)}}for(var ne in c){var re=c[ne];if(me=l[ne],c.hasOwnProperty(ne)&&(re!=null||me!=null))switch(ne){case"type":v=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":ce=re;break;case"value":C=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:re!==me&&Pt(s,i,ne,re,c,me)}}Tr(s,C,j,G,te,ce,v,g);return;case"select":re=C=j=ne=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":re=G;default:c.hasOwnProperty(v)||Pt(s,i,v,null,c,G)}for(g in c)if(v=c[g],G=l[g],c.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":ne=v;break;case"defaultValue":j=v;break;case"multiple":C=v;default:v!==G&&Pt(s,i,g,v,c,G)}i=j,l=C,c=re,ne!=null?ei(s,!!l,ne,!1):!!c!=!!l&&(i!=null?ei(s,!!l,i,!0):ei(s,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(j in l)if(g=l[j],l.hasOwnProperty(j)&&g!=null&&!c.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(s,i,j,null,c,g)}for(C in c)if(g=c[C],v=l[C],c.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Pt(s,i,C,g,c,v)}Dt(s,ne,re);return;case"option":for(var $e in l)if(ne=l[$e],l.hasOwnProperty($e)&&ne!=null&&!c.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:Pt(s,i,$e,null,c,ne)}for(G in c)if(ne=c[G],re=l[G],c.hasOwnProperty(G)&&ne!==re&&(ne!=null||re!=null))switch(G){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Pt(s,i,G,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!c.hasOwnProperty(Be)&&Pt(s,i,Be,null,c,ne);for(te in c)if(ne=c[te],re=l[te],c.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:Pt(s,i,te,ne,c,re)}return;default:if(_c(i)){for(var kt in l)ne=l[kt],l.hasOwnProperty(kt)&&ne!==void 0&&!c.hasOwnProperty(kt)&&cg(s,i,kt,void 0,c,ne);for(ce in c)ne=c[ce],re=l[ce],!c.hasOwnProperty(ce)||ne===re||ne===void 0&&re===void 0||cg(s,i,ce,ne,c,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&Pt(s,i,X,null,c,ne);for(me in c)ne=c[me],re=l[me],!c.hasOwnProperty(me)||ne===re||ne==null&&re==null||Pt(s,i,me,ne,c,re)}var ug=null,dg=null;function Cf(s){return s.nodeType===9?s:s.ownerDocument}function m_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function fg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hg=null;function bC(){var s=window.event;return s&&s.type==="popstate"?s===hg?!1:(hg=s,!0):(hg=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,_C=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(s){return y_.resolve(null).then(s).catch(wC)}:g_;function wC(s){setTimeout(function(){throw s})}function Xi(s){return s==="head"}function v_(s,i){var l=i,c=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var C=s.ownerDocument;if(l&1&&au(C.documentElement),l&2&&au(C.body),l&4)for(l=C.head,au(l),C=l.firstChild;C;){var j=C.nextSibling,G=C.nodeName;C[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=j}}if(g===0){s.removeChild(v),mu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);mu(i)}function mg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":mg(l),je(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function EC(s,i,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function TC(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=cs(s.nextSibling),s===null))return null;return s}function pg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function SC(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function cs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var gg=null;function b_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function x_(s,i,l){switch(i=Cf(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function au(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);je(s)}var Jr=new Map,__=new Set;function Rf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bi=ae.d;ae.d={f:AC,r:CC,D:RC,C:NC,L:IC,m:OC,X:DC,S:MC,M:jC};function AC(){var s=bi.f(),i=bf();return s||i}function CC(s){var i=at(s);i!==null&&i.tag===5&&i.type==="form"?Bb(i):bi.r(s)}var wl=typeof document>"u"?null:document;function w_(s,i,l){var c=wl;if(c&&typeof i=="string"&&i){var g=on(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),__.has(g)||(__.add(g),s={rel:s,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Ln(i,"link",s),ht(i),c.head.appendChild(i)))}}function RC(s){bi.D(s),w_("dns-prefetch",s,null)}function NC(s,i){bi.C(s,i),w_("preconnect",s,i)}function IC(s,i,l){bi.L(s,i,l);var c=wl;if(c&&s&&i){var g='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+on(l.imageSizes)+'"]')):g+='[href="'+on(s)+'"]';var v=g;switch(i){case"style":v=El(s);break;case"script":v=Tl(s)}Jr.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Jr.set(v,s),c.querySelector(g)!==null||i==="style"&&c.querySelector(ou(v))||i==="script"&&c.querySelector(lu(v))||(i=c.createElement("link"),Ln(i,"link",s),ht(i),c.head.appendChild(i)))}}function OC(s,i){bi.m(s,i);var l=wl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+on(c)+'"][href="'+on(s)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(s)}if(!Jr.has(v)&&(s=y({rel:"modulepreload",href:s},i),Jr.set(v,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lu(v)))return}c=l.createElement("link"),Ln(c,"link",s),ht(c),l.head.appendChild(c)}}}function MC(s,i,l){bi.S(s,i,l);var c=wl;if(c&&s){var g=Et(c).hoistableStyles,v=El(s);i=i||"default";var C=g.get(v);if(!C){var j={loading:0,preload:null};if(C=c.querySelector(ou(v)))j.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Jr.get(v))&&yg(s,l);var G=C=c.createElement("link");ht(G),Ln(G,"link",s),G._p=new Promise(function(te,ce){G.onload=te,G.onerror=ce}),G.addEventListener("load",function(){j.loading|=1}),G.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Nf(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:j},g.set(v,C)}}}function DC(s,i){bi.X(s,i);var l=wl;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(lu(g)),v||(s=y({src:s,async:!0},i),(i=Jr.get(g))&&vg(s,i),v=l.createElement("script"),ht(v),Ln(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function jC(s,i){bi.M(s,i);var l=wl;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(lu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=Jr.get(g))&&vg(s,i),v=l.createElement("script"),ht(v),Ln(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function E_(s,i,l,c){var g=(g=Ee.current)?Rf(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=Et(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=El(l.href);var v=Et(g).hoistableStyles,C=v.get(s);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,C),(v=g.querySelector(ou(s)))&&!v._p&&(C.instance=v,C.state.loading=5),Jr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jr.set(s,l),v||PC(g,s,l,C.state))),i&&c===null)throw Error(r(528,""));return C}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=Et(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function El(s){return'href="'+on(s)+'"'}function ou(s){return'link[rel="stylesheet"]['+s+"]"}function T_(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function PC(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Ln(i,"link",l),ht(i),s.head.appendChild(i))}function Tl(s){return'[src="'+on(s)+'"]'}function lu(s){return"script[async]"+s}function S_(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+on(l.href)+'"]');if(c)return i.instance=c,ht(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ht(c),Ln(c,"style",g),Nf(c,l.precedence,s),i.instance=c;case"stylesheet":g=El(l.href);var v=s.querySelector(ou(g));if(v)return i.state.loading|=4,i.instance=v,ht(v),v;c=T_(l),(g=Jr.get(g))&&yg(c,g),v=(s.ownerDocument||s).createElement("link"),ht(v);var C=v;return C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),Ln(v,"link",c),i.state.loading|=4,Nf(v,l.precedence,s),i.instance=v;case"script":return v=Tl(l.src),(g=s.querySelector(lu(v)))?(i.instance=g,ht(g),g):(c=l,(g=Jr.get(v))&&(c=y({},l),vg(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),ht(g),Ln(g,"link",c),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Nf(c,l.precedence,s));return i.instance}function Nf(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,C=0;C<c.length;C++){var j=c[C];if(j.dataset.precedence===i)v=j;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function yg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function vg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var If=null;function A_(s,i,l){if(If===null){var c=new Map,g=If=new Map;g.set(l,c)}else g=If,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[he]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(i)||"";C=s+C;var j=c.get(C);j?j.push(v):c.set(C,[v])}}return c}function C_(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function kC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function R_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var cu=null;function LC(){}function VC(s,i,l){if(cu===null)throw Error(r(475));var c=cu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=El(l.href),v=s.querySelector(ou(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Of.bind(c),s.then(c,c)),i.state.loading|=4,i.instance=v,ht(v);return}v=s.ownerDocument||s,l=T_(l),(g=Jr.get(g))&&yg(l,g),v=v.createElement("link"),ht(v);var C=v;C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),Ln(v,"link",l),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Of.bind(c),s.addEventListener("load",i),s.addEventListener("error",i))}}function zC(){if(cu===null)throw Error(r(475));var s=cu;return s.stylesheets&&s.count===0&&bg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&bg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Of(){if(this.count--,this.count===0){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mf=null;function bg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mf=new Map,i.forEach(UC,s),Mf=null,Of.call(s))}function UC(s,i){if(!(i.state.loading&4)){var l=Mf.get(s);if(l)var c=l.get(null);else{l=new Map,Mf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}g=i.instance,C=g.getAttribute("data-precedence"),v=l.get(C)||c,v===c&&l.set(null,g),l.set(C,g),this.count++,c=Of.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var uu={$$typeof:E,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function BC(s,i,l,c,g,v,C,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function N_(s,i,l,c,g,v,C,j,G,te,ce,me){return s=new BC(s,i,l,C,j,G,te,me),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=ep(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},sp(v),s}function I_(s){return s?(s=tl,s):tl}function O_(s,i,l,c,g,v){g=I_(g),c.context===null?c.context=g:c.pendingContext=g,c=Li(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Vi(s,c,i),l!==null&&(Or(l,s,i),Uc(l,s,i))}function M_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function xg(s,i){M_(s,i),(s=s.alternate)&&M_(s,i)}function D_(s){if(s.tag===13){var i=el(s,67108864);i!==null&&Or(i,s,67108864),xg(s,67108864)}}var Df=!0;function FC(s,i,l,c){var g=$.T;$.T=null;var v=ae.p;try{ae.p=2,_g(s,i,l,c)}finally{ae.p=v,$.T=g}}function qC(s,i,l,c){var g=$.T;$.T=null;var v=ae.p;try{ae.p=8,_g(s,i,l,c)}finally{ae.p=v,$.T=g}}function _g(s,i,l,c){if(Df){var g=wg(c);if(g===null)lg(s,i,c,jf,l),P_(s,c);else if(GC(g,s,i,l,c))c.stopPropagation();else if(P_(s,c),i&4&&-1<HC.indexOf(s)){for(;g!==null;){var v=at(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=Oe(v.pendingLanes);if(C!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;C;){var G=1<<31-$t(C);j.entanglements[1]|=G,C&=~G}Vs(v),(Ot&6)===0&&(yf=Xt()+500,ru(0))}}break;case 13:j=el(v,2),j!==null&&Or(j,v,2),bf(),xg(v,2)}if(v=wg(c),v===null&&lg(s,i,c,jf,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else lg(s,i,c,null,l)}}function wg(s){return s=Hr(s),Eg(s)}var jf=null;function Eg(s){if(jf=null,s=Fe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return jf=s,null}function j_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case _s:return 2;case ws:return 8;case ss:case Jn:return 32;case er:return 268435456;default:return 32}default:return 32}}var Tg=!1,Wi=null,Zi=null,Ji=null,du=new Map,fu=new Map,ea=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(s,i){switch(s){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(i.pointerId)}}function hu(s,i,l,c,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},i!==null&&(i=at(i),i!==null&&D_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function GC(s,i,l,c,g){switch(i){case"focusin":return Wi=hu(Wi,s,i,l,c,g),!0;case"dragenter":return Zi=hu(Zi,s,i,l,c,g),!0;case"mouseover":return Ji=hu(Ji,s,i,l,c,g),!0;case"pointerover":var v=g.pointerId;return du.set(v,hu(du.get(v)||null,s,i,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,fu.set(v,hu(fu.get(v)||null,s,i,l,c,g)),!0}return!1}function k_(s){var i=Fe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var c=Ir();c=_r(c);var g=el(l,c);g!==null&&Or(g,l,c),xg(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=wg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=at(l),i!==null&&D_(i),s.blockedOn=l,!1;i.shift()}return!0}function L_(s,i,l){Pf(s)&&l.delete(i)}function $C(){Tg=!1,Wi!==null&&Pf(Wi)&&(Wi=null),Zi!==null&&Pf(Zi)&&(Zi=null),Ji!==null&&Pf(Ji)&&(Ji=null),du.forEach(L_),fu.forEach(L_)}function kf(s,i){s.blockedOn===i&&(s.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$C)))}var Lf=null;function V_(s){Lf!==s&&(Lf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lf===s&&(Lf=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],g=s[i+2];if(typeof c!="function"){if(Eg(c||l)===null)continue;break}var v=at(l);v!==null&&(s.splice(i,3),i-=3,Ep(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function mu(s){function i(G){return kf(G,s)}Wi!==null&&kf(Wi,s),Zi!==null&&kf(Zi,s),Ji!==null&&kf(Ji,s),du.forEach(i),fu.forEach(i);for(var l=0;l<ea.length;l++){var c=ea[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ea.length&&(l=ea[0],l.blockedOn===null);)k_(l),l.blockedOn===null&&ea.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],C=g[be]||null;if(typeof v=="function")C||V_(l);else if(C){var j=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[be]||null)j=C.formAction;else if(Eg(g)!==null)continue}else j=C.action;typeof j=="function"?l[c+1]=j:(l.splice(c,3),c-=3),V_(l)}}}function Sg(s){this._internalRoot=s}Vf.prototype.render=Sg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Ir();O_(l,c,s,i,null,null)},Vf.prototype.unmount=Sg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;O_(s.current,2,null,s,null,null),bf(),i[Ce]=null}};function Vf(s){this._internalRoot=s}Vf.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ea.length&&i!==0&&i<ea[l].priority;l++);ea.splice(l,0,s),l===0&&k_(s)}};var z_=e.version;if(z_!=="19.1.0")throw Error(r(527,z_,"19.1.0"));ae.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var QC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{yt=zf.inject(QC),We=zf}catch{}}return gu.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",g=tx,v=nx,C=rx,j=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(j=i.unstable_transitionCallbacks)),i=N_(s,1,!1,null,null,l,c,g,v,C,j,null),s[Ce]=i.current,og(s),new Sg(i)},gu.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,g="",v=tx,C=nx,j=rx,G=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),i=N_(s,1,!0,i,l??null,c,g,v,C,j,G,te),i.context=I_(null),l=i.current,c=Ir(),c=_r(c),g=Li(c),g.callback=null,Vi(l,g,c),l=c,i.current.lanes=l,Fn(i,l),Vs(i),s[Ce]=i.current,og(s),new Vf(i)},gu.version="19.1.0",gu}var X_;function nR(){if(X_)return Ng.exports;X_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ng.exports=tR(),Ng.exports}var rR=nR(),yu={},W_;function sR(){if(W_)return yu;W_=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.parse=u,yu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,w){const A=new o,P=_.length;if(P<2)return A;const R=(w==null?void 0:w.decode)||y;let I=0;do{const T=_.indexOf("=",I);if(T===-1)break;const E=_.indexOf(";",I),L=E===-1?P:E;if(T>L){I=_.lastIndexOf(";",T-1)+1;continue}const F=d(_,I,T),B=f(_,T,F),V=_.slice(F,B);if(A[V]===void 0){let O=d(_,T+1,L),N=f(_,L,O);const M=R(_.slice(O,N));A[V]=M}I=L+1}while(I<P);return A}function d(_,w,A){do{const P=_.charCodeAt(w);if(P!==32&&P!==9)return w}while(++w<A);return A}function f(_,w,A){for(;w>A;){const P=_.charCodeAt(--w);if(P!==32&&P!==9)return w+1}return A}function p(_,w,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const R=P(w);if(!e.test(R))throw new TypeError(`argument val is invalid: ${w}`);let I=_+"="+R;if(!A)return I;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);I+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);I+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);I+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);I+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(I+="; HttpOnly"),A.secure&&(I+="; Secure"),A.partitioned&&(I+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return I}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return yu}sR();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V1=n=>{throw TypeError(n)},iR=(n,e,t)=>e.has(n)||V1("Cannot "+t),Dg=(n,e,t)=>(iR(n,e,"read from private field"),t?t.call(n):e.get(n)),aR=(n,e,t)=>e.has(n)?V1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Z_="popstate";function oR(n={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Uu("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ra(a)}return cR(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function Uu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:t,key:e&&e.key||r||lR()}}function Ra({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cR(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let R=y(),I=R==null?null:R-p;p=R,f&&f({action:d,location:P.location,delta:I})}function _(R,I){d="PUSH";let T=Uu(P.location,R,I);p=y()+1;let E=J_(T,p),L=P.createHref(T);try{u.pushState(E,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(L)}o&&f&&f({action:d,location:P.location,delta:1})}function w(R,I){d="REPLACE";let T=Uu(P.location,R,I);p=y();let E=J_(T,p),L=P.createHref(T);u.replaceState(E,"",L),o&&f&&f({action:d,location:P.location,delta:0})}function A(R){let I=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof R=="string"?R:Ra(R);return T=T.replace(/ $/,"%20"),ct(I,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,I)}let P={get action(){return d},get location(){return n(a,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Z_,b),f=R,()=>{a.removeEventListener(Z_,b),f=null}},createHref(R){return e(a,R)},createURL:A,encodeLocation(R){let I=A(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:w,go(R){return u.go(R)}};return P}var Eu,ew=class{constructor(n){if(aR(this,Eu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Dg(this,Eu).has(n))return Dg(this,Eu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Dg(this,Eu).set(n,e)}};Eu=new WeakMap;var uR=new Set(["lazy","caseSensitive","path","id","index","children"]);function dR(n){return uR.has(n)}var fR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function hR(n){return fR.has(n)}function mR(n){return n.index===!0}function vh(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],d=typeof a.id=="string"?a.id:u.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),mR(a)){let f={...a,...e(a),id:d};return r[d]=f,f}else{let f={...a,...e(a),id:d,children:void 0};return r[d]=f,a.children&&(f.children=vh(a.children,e,u,r)),f}})}function ia(n,e,t="/"){return rh(n,e,t,!1)}function rh(n,e,t,r){let a=typeof e=="string"?Pa(e):e,o=rs(a.pathname||"/",t);if(o==null)return null;let u=z1(n);gR(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=CR(o);d=SR(u[f],p,r)}return d}function pR(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function z1(n,e=[],t=[],r=""){let a=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=qs([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),z1(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:ER(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let f of U1(o.path))a(o,u,f)}),e}function U1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=U1(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function gR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yR=/^:[\w-]+$/,vR=3,bR=2,xR=1,_R=10,wR=-2,tw=n=>n==="*";function ER(n,e){let t=n.split("/"),r=t.length;return t.some(tw)&&(r+=wR),e&&(r+=bR),t.filter(a=>!tw(a)).reduce((a,o)=>a+(yR.test(o)?vR:o===""?xR:_R),r)}function TR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function SR(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=bh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),_=f.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=bh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:qs([o,b.pathname]),pathnameBase:IR(qs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=qs([o,b.pathnameBase]))}return u}function bh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=AR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},_)=>{if(y==="*"){let A=d[_]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=d[_];return b&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function AR(n,e=!1,t=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function CR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function RR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Pa(n):n;return{pathname:t?t.startsWith("/")?t:NR(t,e):e,search:OR(r),hash:MR(a)}}function NR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function jg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f0(n){let e=B1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function h0(n,e,t,r=!1){let a;typeof n=="string"?a=Pa(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),jg("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),jg("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),jg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=RR(a,d),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),IR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,xh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Bu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var F1=["POST","PUT","PATCH","DELETE"],DR=new Set(F1),jR=["GET",...F1],PR=new Set(jR),kR=new Set([301,302,303,307,308]),LR=new Set([307,308]),Pg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),q1="remix-router-transitions",H1=Symbol("ResetLoaderData");function UR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||zR,o={},u=vh(n.routes,a,void 0,o),d,f=n.basename||"/",p=n.dataStrategy||GR,y={unstable_middleware:!1,...n.future},b=null,_=new Set,w=null,A=null,P=null,R=n.hydrationData!=null,I=ia(u,n.history.location,f),T=!1,E=null;if(I==null&&!n.patchRoutesOnNavigation){let Q=ts(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=hw(u);I=W,E={[ee.id]:Q}}I&&!n.hydrationData&&Qt(I,u,n.history.location.pathname).active&&(I=null);let L;if(I)if(I.some(Q=>Q.route.lazy))L=!1;else if(!I.some(Q=>Q.route.loader))L=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=I.findIndex(he=>W[he.route.id]!==void 0);L=I.slice(0,ee+1).every(he=>!my(he.route,Q,W))}else L=I.every(ee=>!my(ee.route,Q,W))}else{L=!1,I=[];let Q=Qt(null,u,n.history.location.pathname);Q.active&&Q.matches&&(T=!0,I=Q.matches)}let F,B={historyAction:n.history.action,location:n.history.location,matches:I,initialized:L,navigation:Pg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||E,fetchers:new Map,blockers:new Map},V="POP",O=!1,N,M=!1,z=new Map,k=null,D=!1,le=!1,fe=new Set,$=new Map,ae=0,oe=-1,xe=new Map,H=new Set,ie=new Map,ve=new Map,ge=new Set,Se=new Map,Ve,Ee=null;function ye(){if(b=n.history.listen(({action:Q,location:W,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}rn(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=qt({currentLocation:B.location,nextLocation:W,historyAction:Q});if(he&&ee!=null){let be=new Promise(Ce=>{Ve=Ce});n.history.go(ee*-1),ft(he,{state:"blocked",location:W,proceed(){ft(he,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>n.history.go(ee))},reset(){let Ce=new Map(B.blockers);Ce.set(he,vu),Ze({blockers:Ce})}});return}return Ft(Q,W)}),t){nN(e,z);let Q=()=>rN(e,z);e.addEventListener("pagehide",Q),k=()=>e.removeEventListener("pagehide",Q)}return B.initialized||Ft("POP",B.location,{initialHydration:!0}),F}function Te(){b&&b(),k&&k(),_.clear(),N&&N.abort(),B.fetchers.forEach((Q,W)=>$t(W)),B.blockers.forEach((Q,W)=>Je(W))}function it(Q){return _.add(Q),()=>_.delete(Q)}function Ze(Q,W={}){B={...B,...Q};let ee=[],he=[];B.fetchers.forEach((be,Ce)=>{be.state==="idle"&&(ge.has(Ce)?ee.push(Ce):he.push(Ce))}),ge.forEach(be=>{!B.fetchers.has(be)&&!$.has(be)&&ee.push(be)}),[..._].forEach(be=>be(B,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(be=>$t(be)),he.forEach(be=>B.fetchers.delete(be))}function It(Q,W,{flushSync:ee}={}){var Pe,Ue;let he=B.actionData!=null&&B.navigation.formMethod!=null&&jr(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,be;W.actionData?Object.keys(W.actionData).length>0?be=W.actionData:be=null:he?be=B.actionData:be=null;let Ce=W.loaderData?dw(B.loaderData,W.loaderData,W.matches||[],W.errors):B.loaderData,ze=B.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((je,Fe)=>ze.set(Fe,vu)));let Re=O===!0||B.navigation.formMethod!=null&&jr(B.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;d&&(u=d,d=void 0),D||V==="POP"||(V==="PUSH"?n.history.push(Q,Q.state):V==="REPLACE"&&n.history.replace(Q,Q.state));let De;if(V==="POP"){let je=z.get(B.location.pathname);je&&je.has(Q.pathname)?De={currentLocation:B.location,nextLocation:Q}:z.has(Q.pathname)&&(De={currentLocation:Q,nextLocation:B.location})}else if(M){let je=z.get(B.location.pathname);je?je.add(Q.pathname):(je=new Set([Q.pathname]),z.set(B.location.pathname,je)),De={currentLocation:B.location,nextLocation:Q}}Ze({...W,actionData:be,loaderData:Ce,historyAction:V,location:Q,initialized:!0,navigation:Pg,revalidation:"idle",restoreScrollPosition:On(Q,W.matches||B.matches),preventScrollReset:Re,blockers:ze},{viewTransitionOpts:De,flushSync:ee===!0}),V="POP",O=!1,M=!1,D=!1,le=!1,Ee==null||Ee.resolve(),Ee=null}async function Ht(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let ee=hy(B.location,B.matches,f,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:he,submission:be,error:Ce}=nw(!1,ee,W),ze=B.location,Re=Uu(B.location,he,W&&W.state);Re={...Re,...n.history.encodeLocation(Re)};let De=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";De===!0?Pe="REPLACE":De===!1||be!=null&&jr(be.formMethod)&&be.formAction===B.location.pathname+B.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,je=(W&&W.flushSync)===!0,Fe=qt({currentLocation:ze,nextLocation:Re,historyAction:Pe});if(Fe){ft(Fe,{state:"blocked",location:Re,proceed(){ft(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Ht(Q,W)},reset(){let at=new Map(B.blockers);at.set(Fe,vu),Ze({blockers:at})}});return}await Ft(Pe,Re,{submission:be,pendingError:Ce,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:je})}function hn(){Ee||(Ee=sN()),is(),Ze({revalidation:"loading"});let Q=Ee.promise;return B.navigation.state==="submitting"?Q:B.navigation.state==="idle"?(Ft(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),Q):(Ft(V||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:M===!0}),Q)}async function Ft(Q,W,ee){N&&N.abort(),N=null,V=Q,D=(ee&&ee.startUninterruptedRevalidation)===!0,Fn(B.location,B.matches),O=(ee&&ee.preventScrollReset)===!0,M=(ee&&ee.enableViewTransition)===!0;let he=d||u,be=ee&&ee.overrideNavigation,Ce=ee!=null&&ee.initialHydration&&B.matches&&B.matches.length>0&&!T?B.matches:ia(he,W,f),ze=(ee&&ee.flushSync)===!0;if(Ce&&B.initialized&&!le&&WR(B.location,W)&&!(ee&&ee.submission&&jr(ee.submission.formMethod))){It(W,{matches:Ce},{flushSync:ze});return}let Re=Qt(Ce,he,W.pathname);if(Re.active&&Re.matches&&(Ce=Re.matches),!Ce){let{error:Et,notFoundMatches:ht,route:rt}=sn(W.pathname);It(W,{matches:ht,loaderData:{},errors:{[rt.id]:Et}},{flushSync:ze});return}N=new AbortController;let De=Sl(n.history,W,N.signal,ee&&ee.submission),Pe=new ew(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(ee&&ee.pendingError)Ue=[po(Ce).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&jr(ee.submission.formMethod)){let Et=await ur(De,W,ee.submission,Ce,Pe,Re.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ze});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[ht,rt]=Et.pendingActionResult;if(Dr(rt)&&Bu(rt.error)&&rt.error.status===404){N=null,It(W,{matches:Et.matches,loaderData:{},errors:{[ht]:rt.error}});return}}Ce=Et.matches||Ce,Ue=Et.pendingActionResult,be=kg(W,ee.submission),ze=!1,Re.active=!1,De=Sl(n.history,De.url,De.signal)}let{shortCircuited:je,matches:Fe,loaderData:at,errors:At}=await Zn(De,W,Ce,Pe,Re.active,be,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ze,Ue);je||(N=null,It(W,{matches:Fe||Ce,...fw(Ue),loaderData:at,errors:At}))}async function ur(Q,W,ee,he,be,Ce,ze,Re={}){is();let De=eN(W,ee);if(Ze({navigation:De},{flushSync:Re.flushSync===!0}),Ce){let je=await Ur(he,W.pathname,Q.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let Fe=po(je.partialMatches).route.id;return{matches:je.partialMatches,pendingActionResult:[Fe,{type:"error",error:je.error}]}}else if(je.matches)he=je.matches;else{let{notFoundMatches:Fe,error:at,route:At}=sn(W.pathname);return{matches:Fe,pendingActionResult:[At.id,{type:"error",error:at}]}}}let Pe,Ue=Tu(he,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:ts(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let je=jl(a,o,Q,he,Ue,ze?[]:r,be),Fe=await er(Q,je,be,null);if(Pe=Fe[Ue.route.id],!Pe){for(let at of he)if(Fe[at.route.id]){Pe=Fe[at.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(go(Pe)){let je;return Re&&Re.replace!=null?je=Re.replace:je=lw(Pe.response.headers.get("Location"),new URL(Q.url),f)===B.location.pathname+B.location.search,await Jn(Q,Pe,!0,{submission:ee,replace:je}),{shortCircuited:!0}}if(Dr(Pe)){let je=po(he,Ue.route.id);return(Re&&Re.replace)!==!0&&(V="PUSH"),{matches:he,pendingActionResult:[je.route.id,Pe,Ue.route.id]}}return{matches:he,pendingActionResult:[Ue.route.id,Pe]}}async function Zn(Q,W,ee,he,be,Ce,ze,Re,De,Pe,Ue,je){let Fe=Ce||kg(W,ze),at=ze||Re||pw(Fe),At=!D&&!Pe;if(be){if(At){let an=Xt(je);Ze({navigation:Fe,...an!==void 0?{actionData:an}:{}},{flushSync:Ue})}let Ke=await Ur(ee,W.pathname,Q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let an=po(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[an]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:an,notFoundMatches:Er,route:fr}=sn(W.pathname);return{matches:Er,loaderData:{},errors:{[fr.id]:an}}}}let Et=d||u,{dsMatches:ht,revalidatingFetchers:rt}=rw(Q,he,a,o,n.history,B,ee,at,W,Pe?[]:r,Pe===!0,le,fe,ge,ie,H,Et,f,je);if(oe=++ae,!n.dataStrategy&&!ht.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=zr();return It(W,{matches:ee,loaderData:{},errors:je&&Dr(je[1])?{[je[0]]:je[1].error}:null,...fw(je),...Ke?{fetchers:new Map(B.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(At){let Ke={};if(!be){Ke.navigation=Fe;let an=Xt(je);an!==void 0&&(Ke.actionData=an)}rt.length>0&&(Ke.fetchers=xs(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{dr(Ke.key),Ke.controller&&$.set(Ke.key,Ke.controller)});let Br=()=>rt.forEach(Ke=>dr(Ke.key));N&&N.signal.addEventListener("abort",Br);let{loaderResults:mn,fetcherResults:nr}=await Es(ht,rt,Q,he);if(Q.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Br),rt.forEach(Ke=>$.delete(Ke.key));let Mn=Bf(mn);if(Mn)return await Jn(Q,Mn.result,!0,{replace:De}),{shortCircuited:!0};if(Mn=Bf(nr),Mn)return H.add(Mn.key),await Jn(Q,Mn.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Ss,errors:wr}=uw(B,ee,mn,je,rt,nr);Pe&&B.errors&&(wr={...B.errors,...wr});let Mi=zr(),qn=Me(oe),rr=Mi||qn||rt.length>0;return{matches:ee,loaderData:Ss,errors:wr,...rr?{fetchers:new Map(B.fetchers)}:{}}}function Xt(Q){if(Q&&!Dr(Q[1]))return{[Q[0]]:Q[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function xs(Q){return Q.forEach(W=>{let ee=B.fetchers.get(W.key),he=bu(void 0,ee?ee.data:void 0);B.fetchers.set(W.key,he)}),new Map(B.fetchers)}async function _s(Q,W,ee,he){dr(Q);let be=(he&&he.flushSync)===!0,Ce=d||u,ze=hy(B.location,B.matches,f,ee,W,he==null?void 0:he.relative),Re=ia(Ce,ze,f),De=Qt(Re,Ce,ze);if(De.active&&De.matches&&(Re=De.matches),!Re){We(Q,W,ts(404,{pathname:ze}),{flushSync:be});return}let{path:Pe,submission:Ue,error:je}=nw(!0,ze,he);if(je){We(Q,W,je,{flushSync:be});return}let Fe=Tu(Re,Pe),at=new ew(n.unstable_getContext?await n.unstable_getContext():void 0),At=(he&&he.preventScrollReset)===!0;if(Ue&&jr(Ue.formMethod)){await ws(Q,W,Pe,Fe,Re,at,De.active,be,At,Ue);return}ie.set(Q,{routeId:W,path:Pe}),await ss(Q,W,Pe,Fe,Re,at,De.active,be,At,Ue)}async function ws(Q,W,ee,he,be,Ce,ze,Re,De,Pe){is(),ie.delete(Q);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Fr=ts(405,{method:Pe.formMethod,pathname:ee,routeId:W});return We(Q,W,Fr,{flushSync:Re}),!0}return!1}if(!ze&&Ue(he))return;let je=B.fetchers.get(Q);yt(Q,tN(Pe,je),{flushSync:Re});let Fe=new AbortController,at=Sl(n.history,ee,Fe.signal,Pe);if(ze){let Lt=await Ur(be,ee,at.signal,Q);if(Lt.type==="aborted")return;if(Lt.type==="error"){We(Q,W,Lt.error,{flushSync:Re});return}else if(Lt.matches){if(be=Lt.matches,he=Tu(be,ee),Ue(he))return}else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Re});return}}$.set(Q,Fe);let At=ae,Et=jl(a,o,at,be,he,r,Ce),rt=(await er(at,Et,Ce,Q))[he.route.id];if(at.signal.aborted){$.get(Q)===Fe&&$.delete(Q);return}if(ge.has(Q)){if(go(rt)||Dr(rt)){yt(Q,ra(void 0));return}}else{if(go(rt))if($.delete(Q),oe>At){yt(Q,ra(void 0));return}else return H.add(Q),yt(Q,bu(Pe)),Jn(at,rt,!1,{fetcherSubmission:Pe,preventScrollReset:De});if(Dr(rt)){We(Q,W,rt.error);return}}let Br=B.navigation.location||B.location,mn=Sl(n.history,Br,Fe.signal),nr=d||u,Mn=B.navigation.state!=="idle"?ia(nr,B.navigation.location,f):B.matches;ct(Mn,"Didn't find any matches after fetcher action");let Ss=++ae;xe.set(Q,Ss);let wr=bu(Pe,rt.data);B.fetchers.set(Q,wr);let{dsMatches:Mi,revalidatingFetchers:qn}=rw(mn,Ce,a,o,n.history,B,Mn,Pe,Br,r,!1,le,fe,ge,ie,H,nr,f,[he.route.id,rt]);qn.filter(Lt=>Lt.key!==Q).forEach(Lt=>{let Fr=Lt.key,Js=B.fetchers.get(Fr),Dn=bu(void 0,Js?Js.data:void 0);B.fetchers.set(Fr,Dn),dr(Fr),Lt.controller&&$.set(Fr,Lt.controller)}),Ze({fetchers:new Map(B.fetchers)});let rr=()=>qn.forEach(Lt=>dr(Lt.key));Fe.signal.addEventListener("abort",rr);let{loaderResults:Ke,fetcherResults:an}=await Es(Mi,qn,mn,Ce);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",rr),xe.delete(Q),$.delete(Q),qn.forEach(Lt=>$.delete(Lt.key));let Er=Bf(Ke);if(Er)return Jn(mn,Er.result,!1,{preventScrollReset:De});if(Er=Bf(an),Er)return H.add(Er.key),Jn(mn,Er.result,!1,{preventScrollReset:De});let{loaderData:fr,errors:As}=uw(B,Mn,Ke,void 0,qn,an);if(B.fetchers.has(Q)){let Lt=ra(rt.data);B.fetchers.set(Q,Lt)}Me(Ss),B.navigation.state==="loading"&&Ss>oe?(ct(V,"Expected pending action"),N&&N.abort(),It(B.navigation.location,{matches:Mn,loaderData:fr,errors:As,fetchers:new Map(B.fetchers)})):(Ze({errors:As,loaderData:dw(B.loaderData,fr,Mn,As),fetchers:new Map(B.fetchers)}),le=!1)}async function ss(Q,W,ee,he,be,Ce,ze,Re,De,Pe){let Ue=B.fetchers.get(Q);yt(Q,bu(Pe,Ue?Ue.data:void 0),{flushSync:Re});let je=new AbortController,Fe=Sl(n.history,ee,je.signal);if(ze){let rt=await Ur(be,ee,Fe.signal,Q);if(rt.type==="aborted")return;if(rt.type==="error"){We(Q,W,rt.error,{flushSync:Re});return}else if(rt.matches)be=rt.matches,he=Tu(be,ee);else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Re});return}}$.set(Q,je);let at=ae,At=jl(a,o,Fe,be,he,r,Ce),ht=(await er(Fe,At,Ce,Q))[he.route.id];if($.get(Q)===je&&$.delete(Q),!Fe.signal.aborted){if(ge.has(Q)){yt(Q,ra(void 0));return}if(go(ht))if(oe>at){yt(Q,ra(void 0));return}else{H.add(Q),await Jn(Fe,ht,!1,{preventScrollReset:De});return}if(Dr(ht)){We(Q,W,ht.error);return}yt(Q,ra(ht.data))}}async function Jn(Q,W,ee,{submission:he,fetcherSubmission:be,preventScrollReset:Ce,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(le=!0);let Re=W.response.headers.get("Location");ct(Re,"Expected a Location header on the redirect Response"),Re=lw(Re,new URL(Q.url),f);let De=Uu(B.location,Re,{_isRedirect:!0});if(t){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(m0.test(Re)){const Et=n.history.createURL(Re);At=Et.origin!==e.location.origin||rs(Et.pathname,f)==null}if(At){ze?e.location.replace(Re):e.location.assign(Re);return}}N=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:je,formEncType:Fe}=B.navigation;!he&&!be&&Ue&&je&&Fe&&(he=pw(B.navigation));let at=he||be;if(LR.has(W.response.status)&&at&&jr(at.formMethod))await Ft(Pe,De,{submission:{...at,formAction:Re},preventScrollReset:Ce||O,enableViewTransition:ee?M:void 0});else{let At=kg(De,he);await Ft(Pe,De,{overrideNavigation:At,fetcherSubmission:be,preventScrollReset:Ce||O,enableViewTransition:ee?M:void 0})}}async function er(Q,W,ee,he){let be,Ce={};try{be=await $R(p,Q,W,he,ee,!1)}catch(ze){return W.filter(Re=>Re.shouldLoad).forEach(Re=>{Ce[Re.route.id]={type:"error",error:ze}}),Ce}for(let[ze,Re]of Object.entries(be))if(ZR(Re)){let De=Re.result;Ce[ze]={type:"redirect",response:YR(De,Q,ze,W,f)}}else Ce[ze]=await KR(Re);return Ce}async function Es(Q,W,ee,he){let be=er(ee,Q,he,null),Ce=Promise.all(W.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Ue=(await er(De.request,De.matches,he,De.key))[De.match.route.id];return{[De.key]:Ue}}else return Promise.resolve({[De.key]:{type:"error",error:ts(404,{pathname:De.path})}})})),ze=await be,Re=(await Ce).reduce((De,Pe)=>Object.assign(De,Pe),{});return{loaderResults:ze,fetcherResults:Re}}function is(){le=!0,ie.forEach((Q,W)=>{$.has(W)&&fe.add(W),dr(W)})}function yt(Q,W,ee={}){B.fetchers.set(Q,W),Ze({fetchers:new Map(B.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We(Q,W,ee,he={}){let be=po(B.matches,W);$t(Q),Ze({errors:{[be.route.id]:ee},fetchers:new Map(B.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function wn(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),B.fetchers.get(Q)||VR}function $t(Q){let W=B.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&xe.has(Q))&&dr(Q),ie.delete(Q),xe.delete(Q),H.delete(Q),ge.delete(Q),fe.delete(Q),B.fetchers.delete(Q)}function Zs(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),Ze({fetchers:new Map(B.fetchers)})}function dr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function Vr(Q){for(let W of Q){let ee=wn(W),he=ra(ee.data);B.fetchers.set(W,he)}}function zr(){let Q=[],W=!1;for(let ee of H){let he=B.fetchers.get(ee);ct(he,`Expected fetcher: ${ee}`),he.state==="loading"&&(H.delete(ee),Q.push(ee),W=!0)}return Vr(Q),W}function Me(Q){let W=[];for(let[ee,he]of xe)if(he<Q){let be=B.fetchers.get(ee);ct(be,`Expected fetcher: ${ee}`),be.state==="loading"&&(dr(ee),xe.delete(ee),W.push(ee))}return Vr(W),W.length>0}function Oe(Q,W){let ee=B.blockers.get(Q)||vu;return Se.get(Q)!==W&&Se.set(Q,W),ee}function Je(Q){B.blockers.delete(Q),Se.delete(Q)}function ft(Q,W){let ee=B.blockers.get(Q)||vu;ct(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let he=new Map(B.blockers);he.set(Q,W),Ze({blockers:he})}function qt({currentLocation:Q,nextLocation:W,historyAction:ee}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let he=Array.from(Se.entries()),[be,Ce]=he[he.length-1],ze=B.blockers.get(be);if(!(ze&&ze.state==="proceeding")&&Ce({currentLocation:Q,nextLocation:W,historyAction:ee}))return be}function sn(Q){let W=ts(404,{pathname:Q}),ee=d||u,{matches:he,route:be}=hw(ee);return{notFoundMatches:he,route:be,error:W}}function tr(Q,W,ee){if(w=Q,P=W,A=ee||null,!R&&B.navigation===Pg){R=!0;let he=On(B.location,B.matches);he!=null&&Ze({restoreScrollPosition:he})}return()=>{w=null,P=null,A=null}}function In(Q,W){return A&&A(Q,W.map(he=>pR(he,B.loaderData)))||Q.key}function Fn(Q,W){if(w&&P){let ee=In(Q,W);w[ee]=P()}}function On(Q,W){if(w){let ee=In(Q,W),he=w[ee];if(typeof he=="number")return he}return null}function Qt(Q,W,ee){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:rh(W,ee,f,!0)}}else return{active:!0,matches:rh(W,ee,f,!0)||[]};return{active:!1,matches:null}}async function Ur(Q,W,ee,he){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let be=Q;for(;;){let Ce=d==null,ze=d||u,Re=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:be,fetcherKey:he,patch:(Ue,je)=>{ee.aborted||sw(Ue,je,ze,Re,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:be}}finally{Ce&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let De=ia(ze,W,f);if(De)return{type:"success",matches:De};let Pe=rh(ze,W,f,!0);if(!Pe||be.length===Pe.length&&be.every((Ue,je)=>Ue.route.id===Pe[je].route.id))return{type:"success",matches:null};be=Pe}}function _r(Q){o={},d=vh(Q,a,void 0,o)}function Ts(Q,W){let ee=d==null;sw(Q,W,d||u,o,a),ee&&(u=[...u],Ze({}))}return F={get basename(){return f},get future(){return y},get state(){return B},get routes(){return u},get window(){return e},initialize:ye,subscribe:it,enableScrollRestoration:tr,navigate:Ht,fetch:_s,revalidate:hn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:wn,deleteFetcher:Zs,dispose:Te,getBlocker:Oe,deleteBlocker:Je,patchRoutes:Ts,_internalFetchControllers:$,_internalSetRoutes:_r},F}function BR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function hy(n,e,t,r,a,o){let u,d;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){d=p;break}}else u=e,d=e[e.length-1];let f=h0(r||".",f0(u),rs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let p=p0(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let y=new URLSearchParams(f.search),b=y.getAll("index");y.delete("index"),b.filter(w=>w).forEach(w=>y.append("index",w));let _=y.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:qs([t,f.pathname])),Ra(f)}function nw(n,e,t){if(!t||!BR(t))return{path:e};if(t.formMethod&&!JR(t.formMethod))return{path:e,error:ts(405,{method:t.formMethod})};let r=()=>({path:e,error:ts(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=X1(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!jr(o))return r();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[w,A])=>`${_}${w}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!jr(o))return r();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=gy(t.formData),f=t.formData;else if(t.body instanceof FormData)d=gy(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=cw(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=cw(d)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(jr(p.formMethod))return{path:e,submission:p};let y=Pa(e);return n&&y.search&&p0(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Ra(y),submission:p}}function rw(n,e,t,r,a,o,u,d,f,p,y,b,_,w,A,P,R,I,T){var k;let E=T?Dr(T[1])?T[1].error:T[1].data:void 0,L=a.createURL(o.location),F=a.createURL(f),B;if(y&&o.errors){let D=Object.keys(o.errors)[0];B=u.findIndex(le=>le.route.id===D)}else if(T&&Dr(T[1])){let D=T[0];B=u.findIndex(le=>le.route.id===D)-1}let V=T?T[1].statusCode:void 0,O=V&&V>=400,N={currentUrl:L,currentParams:((k=o.matches[0])==null?void 0:k.params)||{},nextUrl:F,nextParams:u[0].params,...d,actionResult:E,actionStatus:V},M=u.map((D,le)=>{let{route:fe}=D,$=null;if(B!=null&&le>B?$=!1:fe.lazy?$=!0:fe.loader==null?$=!1:y?$=my(fe,o.loaderData,o.errors):FR(o.loaderData,o.matches[le],D)&&($=!0),$!==null)return py(t,r,n,D,p,e,$);let ae=O?!1:b||L.pathname+L.search===F.pathname+F.search||L.search!==F.search||qR(o.matches[le],D),oe={...N,defaultShouldRevalidate:ae},xe=_h(D,oe);return py(t,r,n,D,p,e,xe,oe)}),z=[];return A.forEach((D,le)=>{if(y||!u.some(ie=>ie.route.id===D.routeId)||w.has(le))return;let fe=ia(R,D.path,I);if(!fe){z.push({key:le,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(P.has(le))return;let $=o.fetchers.get(le),ae=Tu(fe,D.path),oe=new AbortController,xe=Sl(a,D.path,oe.signal),H=null;if(_.has(le))_.delete(le),H=jl(t,r,xe,fe,ae,p,e);else if($&&$.state!=="idle"&&$.data===void 0)b&&(H=jl(t,r,xe,fe,ae,p,e));else{let ie={...N,defaultShouldRevalidate:O?!1:b};_h(ae,ie)&&(H=jl(t,r,xe,fe,ae,p,e,ie))}H&&z.push({key:le,routeId:D.routeId,path:D.path,matches:H,match:ae,request:xe,controller:oe})}),{dsMatches:M,revalidatingFetchers:z}}function my(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function FR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function qR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function _h(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function sw(n,e,t,r,a){let o;if(n){let f=r[n];ct(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(p=>G1(f,p))),d=vh(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function G1(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>G1(t,o))}):!1}var iw=new WeakMap,$1=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ct(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=iw.get(a);u||(u={},iw.set(a,u));let d=u[n];if(d)return d;let f=(async()=>{let p=dR(n),b=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)rn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(b)rn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(a,{[n]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return u[n]=f,f},aw=new WeakMap;function HR(n,e,t,r,a){let o=t[n.id];if(ct(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=aw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),w={};for(let A in _){let P=_[A];if(P===void 0)continue;let R=hR(A),T=o[A]!==void 0&&A!=="hasErrorBoundary";R?rn(!R,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?rn(!T,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):w[A]=P}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return aw.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(n.lazy),d=[],f;for(let y of u){if(a&&a.includes(y))continue;let b=$1({key:y,route:n,manifest:t,mapRouteProperties:r});b&&(d.push(b),y===e&&(f=b))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function ow(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function GR(n){return n.matches.some(e=>e.route.unstable_middleware)?Q1(n,!1,()=>ow(n),(e,t)=>({[t]:{type:"error",result:e}})):ow(n)}async function Q1(n,e,t,r){let{matches:a,request:o,params:u,context:d}=n,f={handlerResult:void 0};try{let p=a.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(_=>[b.route.id,_]):[]),y=await K1({request:o,params:u,context:d},p,e,f,t);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function K1(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[f,p]=d,y=!1,b,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await K1(n,e,t,r,a,o+1)};try{let w=await p({request:n.request,params:n.params,context:n.context},_);return y?w===void 0?b:w:_()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}function Y1(n,e,t,r,a){let o=$1({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=HR(r.route,jr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function py(n,e,t,r,a,o,u,d=null){let f=!1,p=Y1(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return f=!0,d?typeof y=="boolean"?_h(r,{...d,defaultShouldRevalidate:y}):_h(r,d):u},resolve(y){return f||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?QR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function jl(n,e,t,r,a,o,u,d=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Y1(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:py(n,e,t,f,o,u,!0,d))}async function $R(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return Q1(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,_)=>({[_]:{type:"error",result:b}}))}});try{await Promise.all(t.flatMap(p=>{var y,b;return[(y=p._lazyPromises)==null?void 0:y.handler,(b=p._lazyPromises)==null?void 0:b.route]}))}catch{}return f}async function QR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,d,f=jr(n.method),p=f?"action":"loader",y=b=>{let _,w=new Promise((R,I)=>_=I);d=()=>_(),n.signal.addEventListener("abort",d);let A=R=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):b({request:n,params:e.params,context:o},...R!==void 0?[R]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(I=>A(I)):A())}}catch(R){return{type:"error",result:R}}})();return Promise.race([P,w])};try{let b=f?e.route.action:e.route.loader;if(t||r)if(b){let _,[w]=await Promise.all([y(b).catch(A=>{_=A}),t,r]);if(_!==void 0)throw _;u=w}else{await t;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([y(_),r]);else if(p==="action"){let w=new URL(n.url),A=w.pathname+w.search;throw ts(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let _=new URL(n.url),w=_.pathname+_.search;throw ts(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function KR(n){var r,a,o,u,d,f;let{result:e,type:t}=n;if(W1(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new xh(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?mw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new xh(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Bu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Bu(e)?e.status:void 0}:mw(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function YR(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!m0.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=hy(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function lw(n,e,t){if(m0.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rs(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Sl(n,e,t,r){let a=n.createURL(X1(e)).toString(),o={signal:t};if(r&&jr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=gy(r.formData):o.body=r.formData}return new Request(a,o)}function gy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function cw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function XR(n,e,t,r=!1,a=!1){let o={},u=null,d,f=!1,p={},y=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,w=e[_];if(ct(!go(w),"Cannot handle redirect results in processLoaderData"),Dr(w)){let A=w.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},a)u[_]=A;else{let P=po(n,_);u[P.route.id]==null&&(u[P.route.id]=A)}r||(o[_]=H1),f||(f=!0,d=Bu(w.error)?w.error.status:500),w.headers&&(p[_]=w.headers)}else o[_]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(p[_]=w.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:p}}function uw(n,e,t,r,a,o){let{loaderData:u,errors:d}=XR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:b}=f,_=o[p];if(ct(_,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Dr(_)){let w=po(n.matches,y==null?void 0:y.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:_.error}),n.fetchers.delete(p)}else if(go(_))ct(!1,"Unhandled fetcher revalidation redirect");else{let w=ra(_.data);n.fetchers.set(p,w)}}),{loaderData:u,errors:d}}function dw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==H1).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function fw(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function po(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function hw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new xh(n||500,u,new Error(d),!0)}function Bf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(go(a))return{key:r,result:a}}}function X1(n){let e=typeof n=="string"?Pa(n):n;return Ra({...e,hash:""})}function WR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ZR(n){return W1(n.result)&&kR.has(n.result.status)}function Dr(n){return n.type==="error"}function go(n){return(n&&n.type)==="redirect"}function mw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function W1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function JR(n){return PR.has(n.toUpperCase())}function jr(n){return DR.has(n.toUpperCase())}function p0(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tu(n,e){let t=typeof e=="string"?Pa(e).search:e.search;if(n[n.length-1].route.index&&p0(t||""))return n[n.length-1];let r=B1(n);return r[r.length-1]}function pw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ra(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function nN(n,e){try{let t=n.sessionStorage.getItem(q1);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function rN(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(q1,JSON.stringify(t))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function sN(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ko=q.createContext(null);ko.displayName="DataRouter";var ad=q.createContext(null);ad.displayName="DataRouterState";var g0=q.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var Z1=q.createContext(new Map);Z1.displayName="Fetchers";var iN=q.createContext(null);iN.displayName="Await";var Xs=q.createContext(null);Xs.displayName="Navigation";var Zh=q.createContext(null);Zh.displayName="Location";var bs=q.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var y0=q.createContext(null);y0.displayName="RouteError";function aN(n,{relative:e}={}){ct(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xs),{hash:a,pathname:o,search:u}=cd(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:qs([t,o])),r.createHref({pathname:d,search:u,hash:a})}function od(){return q.useContext(Zh)!=null}function Ws(){return ct(od(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Zh).location}var J1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eT(n){q.useContext(Xs).static||q.useLayoutEffect(n)}function ld(){let{isDataRoute:n}=q.useContext(bs);return n?_N():oN()}function oN(){ct(od(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ko),{basename:e,navigator:t}=q.useContext(Xs),{matches:r}=q.useContext(bs),{pathname:a}=Ws(),o=JSON.stringify(f0(r)),u=q.useRef(!1);return eT(()=>{u.current=!0}),q.useCallback((f,p={})=>{if(rn(u.current,J1),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=h0(f,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var lN=q.createContext(null);function cN(n){let e=q.useContext(bs).outlet;return e&&q.createElement(lN.Provider,{value:n},e)}function v0(){let{matches:n}=q.useContext(bs),e=n[n.length-1];return e?e.params:{}}function cd(n,{relative:e}={}){let{matches:t}=q.useContext(bs),{pathname:r}=Ws(),a=JSON.stringify(f0(t));return q.useMemo(()=>h0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function uN(n,e,t,r){ct(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Xs),{matches:u}=q.useContext(bs),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let T=b&&b.path||"";tT(p,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=Ws(),w;w=_;let A=w.pathname||"/",P=A;if(y!=="/"){let T=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=!o&&t&&t.matches&&t.matches.length>0?t.matches:ia(n,{pathname:P});return rn(b||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pN(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:qs([y,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:qs([y,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,t,r)}function dN(){let n=xN(),e=Bu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,u)}var fN=q.createElement(dN,null),hN=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(bs.Provider,{value:this.props.routeContext},q.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mN({routeContext:n,match:e,children:t}){let r=q.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bs.Provider,{value:n},t)}function pN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:b}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let b,_=!1,w=null,A=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||fN,u&&(d<0&&y===0?(tT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):d===y&&(_=!0,A=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),R=()=>{let I;return b?I=w:_?I=A:p.route.Component?I=q.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,q.createElement(mN,{match:p,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(hN,{location:t.location,revalidation:t.revalidation,component:w,error:b,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function b0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(n){let e=q.useContext(ko);return ct(e,b0(n)),e}function yN(n){let e=q.useContext(ad);return ct(e,b0(n)),e}function vN(n){let e=q.useContext(bs);return ct(e,b0(n)),e}function x0(n){let e=vN(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bN(){return x0("useRouteId")}function xN(){var r;let n=q.useContext(y0),e=yN("useRouteError"),t=x0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _N(){let{router:n}=gN("useNavigate"),e=x0("useNavigate"),t=q.useRef(!1);return eT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{rn(t.current,J1),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var gw={};function tT(n,e,t){!e&&!gw[n]&&(gw[n]=!0,rn(!1,t))}var yw={};function vw(n,e){!n&&!yw[e]&&(yw[e]=!0,console.warn(e))}function wN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var EN=["HydrateFallback","hydrateFallbackElement"],TN=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function SN({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[u,d]=q.useState({isTransitioning:!1}),[f,p]=q.useState(),[y,b]=q.useState(),[_,w]=q.useState(),A=q.useRef(new Map),P=q.useCallback((E,{deletedFetchers:L,flushSync:F,viewTransitionOpts:B})=>{E.fetchers.forEach((O,N)=>{O.data!==void 0&&A.current.set(N,O.data)}),L.forEach(O=>A.current.delete(O)),vw(F===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(vw(B==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!V){e&&F?e(()=>r(E)):q.startTransition(()=>r(E));return}if(e&&F){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let O=n.window.document.startViewTransition(()=>{e(()=>r(E))});O.finished.finally(()=>{e(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>b(O));return}y?(f&&f.resolve(),y.skipTransition(),w({state:E,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(o(E),d({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,e,y,f]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new TN)},[u]),q.useEffect(()=>{if(f&&a&&n.window){let E=a,L=f.promise,F=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(E)),await L});F.finished.finally(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})}),b(F)}},[a,f,n.window]),q.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),q.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),w(void 0))},[u.isTransitioning,_]);let R=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,L,F)=>n.navigate(E,{state:L,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(E,L,F)=>n.navigate(E,{replace:!0,state:L,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),I=n.basename||"/",T=q.useMemo(()=>({router:n,navigator:R,static:!1,basename:I}),[n,R,I]);return q.createElement(q.Fragment,null,q.createElement(ko.Provider,{value:T},q.createElement(ad.Provider,{value:t},q.createElement(Z1.Provider,{value:A.current},q.createElement(g0.Provider,{value:u},q.createElement(NN,{basename:I,location:t.location,navigationType:t.historyAction,navigator:R},q.createElement(AN,{routes:n.routes,future:n.future,state:t})))))),null)}var AN=q.memo(CN);function CN({routes:n,future:e,state:t}){return uN(n,void 0,t,e)}function RN(n){return cN(n.context)}function NN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Pa(t));let{pathname:f="/",search:p="",hash:y="",state:b=null,key:_="default"}=t,w=q.useMemo(()=>{let A=rs(f,u);return A==null?null:{location:{pathname:A,search:p,hash:y,state:b,key:_},navigationType:r}},[u,f,p,y,b,_,r]);return rn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:q.createElement(Xs.Provider,{value:d},q.createElement(Zh.Provider,{children:e,value:w}))}var sh="get",ih="application/x-www-form-urlencoded";function Jh(n){return n!=null&&typeof n.tagName=="string"}function IN(n){return Jh(n)&&n.tagName.toLowerCase()==="button"}function ON(n){return Jh(n)&&n.tagName.toLowerCase()==="form"}function MN(n){return Jh(n)&&n.tagName.toLowerCase()==="input"}function DN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jN(n,e){return n.button===0&&(!e||e==="_self")&&!DN(n)}function yy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function PN(n,e){let t=yy(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Ff=null;function kN(){if(Ff===null)try{new FormData(document.createElement("form"),0),Ff=!1}catch{Ff=!0}return Ff}var LN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(n){return n!=null&&!LN.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):n}function VN(n,e){let t,r,a,o,u;if(ON(n)){let d=n.getAttribute("action");r=d?rs(d,e):null,t=n.getAttribute("method")||sh,a=Lg(n.getAttribute("enctype"))||ih,o=new FormData(n)}else if(IN(n)||MN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?rs(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||sh,a=Lg(n.getAttribute("formenctype"))||Lg(d.getAttribute("enctype"))||ih,o=new FormData(d,n),!kN()){let{name:p,type:y,value:b}=n;if(y==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,b)}}else{if(Jh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sh,r=null,a=ih,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function _0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BN(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await zN(o,t);return u.links?u.links():[]}return[]}));return GN(r.flat(1).filter(UN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bw(n,e,t,r,a,o){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):o==="data"?e.filter((f,p)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function FN(n,e,{includeHydrateFallback:t}={}){return qN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function qN(n){return[...new Set(n)]}function HN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GN(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(HN(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var $N=new Set([100,101,204,205]);function QN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nT(){let n=q.useContext(ko);return _0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KN(){let n=q.useContext(ad);return _0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var w0=q.createContext(void 0);w0.displayName="FrameworkContext";function rT(){let n=q.useContext(w0);return _0(n,"You must render this element inside a <HydratedRouter> element"),n}function YN(n,e){let t=q.useContext(w0),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,_=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=I=>{I.forEach(T=>{u(T.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[n]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{a(!0)},A=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:xu(d,w),onBlur:xu(f,A),onMouseEnter:xu(p,w),onMouseLeave:xu(y,A),onTouchStart:xu(b,w)}]:[!1,_,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XN({page:n,...e}){let{router:t}=nT(),r=q.useMemo(()=>ia(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(ZN,{page:n,matches:r,...e}):null}function WN(n){let{manifest:e,routeModules:t}=rT(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return BN(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function ZN({page:n,matches:e,...t}){let r=Ws(),{manifest:a,routeModules:o}=rT(),{basename:u}=nT(),{loaderData:d,matches:f}=KN(),p=q.useMemo(()=>bw(n,e,f,a,r,"data"),[n,e,f,a,r]),y=q.useMemo(()=>bw(n,e,f,a,r,"assets"),[n,e,f,a,r]),b=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,P=!1;if(e.forEach(I=>{var E;let T=a.routes[I.route.id];!T||!T.hasLoader||(!p.some(L=>L.route.id===I.route.id)&&I.route.id in d&&((E=o[I.route.id])!=null&&E.shouldRevalidate)||T.hasClientLoader?P=!0:A.add(I.route.id))}),A.size===0)return[];let R=QN(n,u);return P&&A.size>0&&R.searchParams.set("_routes",e.filter(I=>A.has(I.route.id)).map(I=>I.route.id).join(",")),[R.pathname+R.search]},[u,d,r,a,p,e,n,o]),_=q.useMemo(()=>FN(y,a),[y,a]),w=WN(y);return q.createElement(q.Fragment,null,b.map(A=>q.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>q.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),w.map(({key:A,link:P})=>q.createElement("link",{key:A,...P})))}function JN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sT&&(window.__reactRouterVersion="7.5.3")}catch{}function eI(n,e){return UR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:oR({window:e==null?void 0:e.window}),hydrationData:tI(),routes:n,mapRouteProperties:wN,hydrationRouteProperties:EN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nI(n.errors)}),n}function nI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new xh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:f,to:p,preventScrollReset:y,viewTransition:b,..._},w){let{basename:A}=q.useContext(Xs),P=typeof p=="string"&&iT.test(p),R,I=!1;if(typeof p=="string"&&P&&(R=p,sT))try{let N=new URL(window.location.href),M=p.startsWith("//")?new URL(N.protocol+p):new URL(p),z=rs(M.pathname,A);M.origin===N.origin&&z!=null?p=z+M.search+M.hash:I=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=aN(p,{relative:a}),[E,L,F]=YN(r,_),B=aI(p,{replace:u,state:d,target:f,preventScrollReset:y,relative:a,viewTransition:b});function V(N){e&&e(N),N.defaultPrevented||B(N)}let O=q.createElement("a",{..._,...F,href:R||T,onClick:I||o?e:V,ref:JN(w,L),target:f,"data-discover":!P&&t==="render"?"true":void 0});return E&&!P?q.createElement(q.Fragment,null,O,q.createElement(XN,{page:T})):O});gt.displayName="Link";var rI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:f,...p},y){let b=cd(u,{relative:p.relative}),_=Ws(),w=q.useContext(ad),{navigator:A,basename:P}=q.useContext(Xs),R=w!=null&&fI(b)&&d===!0,I=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,T=_.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(T=T.toLowerCase(),E=E?E.toLowerCase():null,I=I.toLowerCase()),E&&P&&(E=rs(E,P)||E);const L=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=T===I||!a&&T.startsWith(I)&&T.charAt(L)==="/",B=E!=null&&(E===I||!a&&E.startsWith(I)&&E.charAt(I.length)==="/"),V={isActive:F,isPending:B,isTransitioning:R},O=F?e:void 0,N;typeof r=="function"?N=r(V):N=[r,F?"active":null,B?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(V):o;return q.createElement(gt,{...p,"aria-current":O,className:N,ref:y,style:M,to:u,viewTransition:d},typeof f=="function"?f(V):f)});rI.displayName="NavLink";var sI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=sh,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:b,..._},w)=>{let A=uI(),P=dI(d,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&iT.test(d),T=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let L=E.nativeEvent.submitter,F=(L==null?void 0:L.getAttribute("formmethod"))||u;A(L||E.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:b})};return q.createElement("form",{ref:w,method:R,action:P,onSubmit:r?f:T,..._,"data-discover":!I&&n==="render"?"true":void 0})});sI.displayName="Form";function iI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(n){let e=q.useContext(ko);return ct(e,iI(n)),e}function aI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=ld(),f=Ws(),p=cd(n,{relative:o});return q.useCallback(y=>{if(jN(y,e)){y.preventDefault();let b=t!==void 0?t:Ra(f)===Ra(p);d(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,p,t,r,e,n,a,o,u])}function oI(n){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(yy(n)),t=q.useRef(!1),r=Ws(),a=q.useMemo(()=>PN(r.search,t.current?null:e.current),[r.search]),o=ld(),u=q.useCallback((d,f)=>{const p=yy(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,f)},[o,a]);return[a,u]}var lI=0,cI=()=>`__${String(++lI)}__`;function uI(){let{router:n}=aT("useSubmit"),{basename:e}=q.useContext(Xs),t=bN();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:f,body:p}=VN(r,e);if(a.navigate===!1){let y=a.fetcherKey||cI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function dI(n,{relative:e}={}){let{basename:t}=q.useContext(Xs),r=q.useContext(bs);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...cd(n||".",{relative:e})},u=Ws();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qs([t,o.pathname])),Ra(o)}function fI(n,e={}){let t=q.useContext(g0);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aT("useViewTransitionState"),a=cd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return bh(a.pathname,u)!=null||bh(a.pathname,o)!=null}new TextEncoder;[...$N];var hI=L1();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mI(n){return q.createElement(SN,{flushSync:hI.flushSync,...n})}var qf={},xw;function pI(){if(xw)return qf;xw=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(qf,"__esModule",{value:!0});var e=Wh();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:d="",autoFill:f=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:b=!1,direction:_="left",speed:w=50,delay:A=0,loop:P=0,gradient:R=!1,gradientColor:I="white",gradientWidth:T=200,onFinish:E,onCycleComplete:L,onMount:F,children:B},V){const[O,N]=e.useState(0),[M,z]=e.useState(0),[k,D]=e.useState(1),[le,fe]=e.useState(!1),$=e.useRef(null),ae=V||$,oe=e.useRef(null),xe=e.useCallback(()=>{if(oe.current&&ae.current){const Ee=ae.current.getBoundingClientRect(),ye=oe.current.getBoundingClientRect();let Te=Ee.width,it=ye.width;(_==="up"||_==="down")&&(Te=Ee.height,it=ye.height),D(f&&Te&&it&&it<Te?Math.ceil(Te/it):1),N(Te),z(it)}},[f,ae,_]);e.useEffect(()=>{if(le&&(xe(),oe.current&&ae.current)){const Ee=new ResizeObserver(()=>xe());return Ee.observe(ae.current),Ee.observe(oe.current),()=>{Ee&&Ee.disconnect()}}},[xe,ae,le]),e.useEffect(()=>{xe()},[xe,B]),e.useEffect(()=>{fe(!0)},[]),e.useEffect(()=>{typeof F=="function"&&F()},[]);const H=e.useMemo(()=>f?M*k/w:M<O?O/w:M/w,[f,O,M,k,w]),ie=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!b||b?"paused":"running","--width":_==="up"||_==="down"?"100vh":"100%","--transform":_==="up"?"rotate(-90deg)":_==="down"?"rotate(90deg)":"none"}),[u,p,y,b,_]),ve=e.useMemo(()=>({"--gradient-color":I,"--gradient-width":typeof T=="number"?`${T}px`:T}),[I,T]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":_==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${A}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":f?"auto":"100%"}),[p,_,H,A,P,f]),Se=e.useMemo(()=>({"--transform":_==="up"?"rotate(90deg)":_==="down"?"rotate(-90deg)":"none"}),[_]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(B,it=>r.default.createElement("div",{style:Se,className:"rfm-child"},it)))),[Se,B]);return le?r.default.createElement("div",{ref:ae,style:ie,className:"rfm-marquee-container "+d},R&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:L,onAnimationEnd:E},r.default.createElement("div",{className:"rfm-initial-child-container",ref:oe},e.Children.map(B,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(k-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},Ve(k))):null});return qf.default=a,qf}var gI=pI();const oT=k1(gI);var lT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_w=Ut.createContext&&Ut.createContext(lT),yI=["attr","size","title"];function vI(n,e){if(n==null)return{};var t=bI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wh.apply(this,arguments)}function ww(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Eh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(t),!0).forEach(function(r){xI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ww(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xI(n,e,t){return e=_I(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _I(n){var e=wI(n,"string");return typeof e=="symbol"?e:e+""}function wI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cT(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,Eh({key:t},e.attr),cT(e.child)))}function ud(n){return e=>Ut.createElement(EI,wh({attr:Eh({},n.attr)},e),cT(n.child))}function EI(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=vI(n,yI),d=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ut.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Eh(Eh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return _w!==void 0?Ut.createElement(_w.Consumer,null,t=>e(t)):e(lT)}function TI(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function SI(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Ew(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function AI(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const CI=()=>{};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},RI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|p>>6,w=p&63;f||(w=64,u||(_=64)),r.push(t[y],t[b],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||b==null)throw new NI;const _=o<<2|d>>4;if(r.push(_),p!==64){const w=d<<4&240|p>>2;if(r.push(w),b!==64){const A=p<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(n){const e=uT(n);return dT.encodeByteArray(e,!0)},Th=function(n){return II(n).replace(/\./g,"")},fT=function(n){try{return dT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=()=>OI().__FIREBASE_DEFAULTS__,DI=()=>{if(typeof process>"u"||typeof Tw>"u")return;const n=Tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fT(n[1]);return e&&JSON.parse(e)},em=()=>{try{return CI()||MI()||DI()||jI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hT=n=>{var e,t;return(t=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PI=n=>{const e=hT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mT=()=>{var n;return(n=em())===null||n===void 0?void 0:n.config},pT=n=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Th(JSON.stringify(t)),Th(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function zI(){var n;const e=(n=em())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qI(){const n=Wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HI(){return!zI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function $I(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="FirebaseError";class Oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=QI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?KI(o,r):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Oi(a,d,r)}}function KI(n,e){return n.replace(YI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const YI=/\{\$([^}]+)}/g;function XI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Sw(o)&&Sw(u)){if(!Co(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Sw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Au(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WI(n,e){const t=new ZI(n,e);return t.subscribe.bind(t)}class ZI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");JI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Vg),a.error===void 0&&(a.error=Vg),a.complete===void 0&&(a.complete=Vg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nO(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tO(n){return n===mo?void 0:n}function nO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const sO={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},iO=ut.INFO,aO={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},oO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=aO[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=iO,this._logHandler=oO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const lO=(n,e)=>e.some(t=>n instanceof t);let Aw,Cw;function cO(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uO(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,vy=new WeakMap,yT=new WeakMap,zg=new WeakMap,T0=new WeakMap;function dO(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(wa(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function fO(n){if(vy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});vy.set(n,e)}let by={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hO(n){by=n(by)}function mO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ug(this),e,...t);return yT.set(r,e.sort?e.sort():[e]),wa(r)}:uO().includes(n)?function(...e){return n.apply(Ug(this),e),wa(gT.get(this))}:function(...e){return wa(n.apply(Ug(this),e))}}function pO(n){return typeof n=="function"?mO(n):(n instanceof IDBTransaction&&fO(n),lO(n,cO())?new Proxy(n,by):n)}function wa(n){if(n instanceof IDBRequest)return dO(n);if(zg.has(n))return zg.get(n);const e=pO(n);return e!==n&&(zg.set(n,e),T0.set(e,n)),e}const Ug=n=>T0.get(n);function gO(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=wa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(wa(u.result),f.oldVersion,f.newVersion,wa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const yO=["get","getKey","getAll","getAllKeys","count"],vO=["put","add","delete","clear"],Bg=new Map;function Rw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=vO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yO.includes(t)))return;const o=async function(u,...d){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&f.done]))[0]};return Bg.set(e,o),o}hO(n=>({...n,get:(e,t,r)=>Rw(e,t)||n.get(e,t,r),has:(e,t)=>!!Rw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function xO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xy="@firebase/app",Nw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new E0("@firebase/app"),_O="@firebase/app-compat",wO="@firebase/analytics-compat",EO="@firebase/analytics",TO="@firebase/app-check-compat",SO="@firebase/app-check",AO="@firebase/auth",CO="@firebase/auth-compat",RO="@firebase/database",NO="@firebase/data-connect",IO="@firebase/database-compat",OO="@firebase/functions",MO="@firebase/functions-compat",DO="@firebase/installations",jO="@firebase/installations-compat",PO="@firebase/messaging",kO="@firebase/messaging-compat",LO="@firebase/performance",VO="@firebase/performance-compat",zO="@firebase/remote-config",UO="@firebase/remote-config-compat",BO="@firebase/storage",FO="@firebase/storage-compat",qO="@firebase/firestore",HO="@firebase/vertexai",GO="@firebase/firestore-compat",$O="firebase",QO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",KO={[xy]:"fire-core",[_O]:"fire-core-compat",[EO]:"fire-analytics",[wO]:"fire-analytics-compat",[SO]:"fire-app-check",[TO]:"fire-app-check-compat",[AO]:"fire-auth",[CO]:"fire-auth-compat",[RO]:"fire-rtdb",[NO]:"fire-data-connect",[IO]:"fire-rtdb-compat",[OO]:"fire-fn",[MO]:"fire-fn-compat",[DO]:"fire-iid",[jO]:"fire-iid-compat",[PO]:"fire-fcm",[kO]:"fire-fcm-compat",[LO]:"fire-perf",[VO]:"fire-perf-compat",[zO]:"fire-rc",[UO]:"fire-rc-compat",[BO]:"fire-gcs",[FO]:"fire-gcs-compat",[qO]:"fire-fst",[GO]:"fire-fst-compat",[HO]:"fire-vertex","fire-js":"fire-js",[$O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,YO=new Map,wy=new Map;function Iw(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tc(n){const e=n.name;if(wy.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(const t of Sh.values())Iw(t,n);for(const t of YO.values())Iw(t,n);return!0}function S0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new dd("app","Firebase",XO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=QO;function vT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ea.create("bad-app-name",{appName:String(a)});if(t||(t=mT()),!t)throw Ea.create("no-options");const o=Sh.get(a);if(o){if(Co(t,o.options)&&Co(r,o.config))return o;throw Ea.create("duplicate-app",{appName:a})}const u=new rO(a);for(const f of wy.values())u.addComponent(f);const d=new WO(t,r,u);return Sh.set(a,d),d}function bT(n=_y){const e=Sh.get(n);if(!e&&n===_y&&mT())return vT();if(!e)throw Ea.create("no-app",{appName:n});return e}function Ta(n,e,t){var r;let a=(r=KO[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(d.join(" "));return}tc(new Ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="firebase-heartbeat-database",JO=1,Fu="firebase-heartbeat-store";let Fg=null;function xT(){return Fg||(Fg=gO(ZO,JO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ea.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function eM(n){try{const t=(await xT()).transaction(Fu),r=await t.objectStore(Fu).get(_T(n));return await t.done,r}catch(e){if(e instanceof Oi)Ai.warn(e.message);else{const t=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function Ow(n,e){try{const r=(await xT()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,_T(n)),await r.done}catch(t){if(t instanceof Oi)Ai.warn(t.message);else{const r=Ea.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function _T(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1024,nM=30;class rM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>nM){const u=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mw(),{heartbeatsToSend:r,unsentEntries:a}=sM(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function Mw(){return new Date().toISOString().substring(0,10)}function sM(n,e=tM){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Dw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Dw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?$I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dw(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function aM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(n){tc(new Ro("platform-logger",e=>new bO(e),"PRIVATE")),tc(new Ro("heartbeat",e=>new rM(e),"PRIVATE")),Ta(xy,Nw,n),Ta(xy,Nw,"esm2017"),Ta("fire-js","")}oM("");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,wT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,O){function N(){}N.prototype=O.prototype,V.D=O.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(M,z,k){for(var D=Array(arguments.length-2),le=2;le<arguments.length;le++)D[le-2]=arguments[le];return O.prototype[z].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,O,N){N||(N=0);var M=Array(16);if(typeof O=="string")for(var z=0;16>z;++z)M[z]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(z=0;16>z;++z)M[z]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=V.g[0],N=V.g[1],z=V.g[2];var k=V.g[3],D=O+(k^N&(z^k))+M[0]+3614090360&4294967295;O=N+(D<<7&4294967295|D>>>25),D=k+(z^O&(N^z))+M[1]+3905402710&4294967295,k=O+(D<<12&4294967295|D>>>20),D=z+(N^k&(O^N))+M[2]+606105819&4294967295,z=k+(D<<17&4294967295|D>>>15),D=N+(O^z&(k^O))+M[3]+3250441966&4294967295,N=z+(D<<22&4294967295|D>>>10),D=O+(k^N&(z^k))+M[4]+4118548399&4294967295,O=N+(D<<7&4294967295|D>>>25),D=k+(z^O&(N^z))+M[5]+1200080426&4294967295,k=O+(D<<12&4294967295|D>>>20),D=z+(N^k&(O^N))+M[6]+2821735955&4294967295,z=k+(D<<17&4294967295|D>>>15),D=N+(O^z&(k^O))+M[7]+4249261313&4294967295,N=z+(D<<22&4294967295|D>>>10),D=O+(k^N&(z^k))+M[8]+1770035416&4294967295,O=N+(D<<7&4294967295|D>>>25),D=k+(z^O&(N^z))+M[9]+2336552879&4294967295,k=O+(D<<12&4294967295|D>>>20),D=z+(N^k&(O^N))+M[10]+4294925233&4294967295,z=k+(D<<17&4294967295|D>>>15),D=N+(O^z&(k^O))+M[11]+2304563134&4294967295,N=z+(D<<22&4294967295|D>>>10),D=O+(k^N&(z^k))+M[12]+1804603682&4294967295,O=N+(D<<7&4294967295|D>>>25),D=k+(z^O&(N^z))+M[13]+4254626195&4294967295,k=O+(D<<12&4294967295|D>>>20),D=z+(N^k&(O^N))+M[14]+2792965006&4294967295,z=k+(D<<17&4294967295|D>>>15),D=N+(O^z&(k^O))+M[15]+1236535329&4294967295,N=z+(D<<22&4294967295|D>>>10),D=O+(z^k&(N^z))+M[1]+4129170786&4294967295,O=N+(D<<5&4294967295|D>>>27),D=k+(N^z&(O^N))+M[6]+3225465664&4294967295,k=O+(D<<9&4294967295|D>>>23),D=z+(O^N&(k^O))+M[11]+643717713&4294967295,z=k+(D<<14&4294967295|D>>>18),D=N+(k^O&(z^k))+M[0]+3921069994&4294967295,N=z+(D<<20&4294967295|D>>>12),D=O+(z^k&(N^z))+M[5]+3593408605&4294967295,O=N+(D<<5&4294967295|D>>>27),D=k+(N^z&(O^N))+M[10]+38016083&4294967295,k=O+(D<<9&4294967295|D>>>23),D=z+(O^N&(k^O))+M[15]+3634488961&4294967295,z=k+(D<<14&4294967295|D>>>18),D=N+(k^O&(z^k))+M[4]+3889429448&4294967295,N=z+(D<<20&4294967295|D>>>12),D=O+(z^k&(N^z))+M[9]+568446438&4294967295,O=N+(D<<5&4294967295|D>>>27),D=k+(N^z&(O^N))+M[14]+3275163606&4294967295,k=O+(D<<9&4294967295|D>>>23),D=z+(O^N&(k^O))+M[3]+4107603335&4294967295,z=k+(D<<14&4294967295|D>>>18),D=N+(k^O&(z^k))+M[8]+1163531501&4294967295,N=z+(D<<20&4294967295|D>>>12),D=O+(z^k&(N^z))+M[13]+2850285829&4294967295,O=N+(D<<5&4294967295|D>>>27),D=k+(N^z&(O^N))+M[2]+4243563512&4294967295,k=O+(D<<9&4294967295|D>>>23),D=z+(O^N&(k^O))+M[7]+1735328473&4294967295,z=k+(D<<14&4294967295|D>>>18),D=N+(k^O&(z^k))+M[12]+2368359562&4294967295,N=z+(D<<20&4294967295|D>>>12),D=O+(N^z^k)+M[5]+4294588738&4294967295,O=N+(D<<4&4294967295|D>>>28),D=k+(O^N^z)+M[8]+2272392833&4294967295,k=O+(D<<11&4294967295|D>>>21),D=z+(k^O^N)+M[11]+1839030562&4294967295,z=k+(D<<16&4294967295|D>>>16),D=N+(z^k^O)+M[14]+4259657740&4294967295,N=z+(D<<23&4294967295|D>>>9),D=O+(N^z^k)+M[1]+2763975236&4294967295,O=N+(D<<4&4294967295|D>>>28),D=k+(O^N^z)+M[4]+1272893353&4294967295,k=O+(D<<11&4294967295|D>>>21),D=z+(k^O^N)+M[7]+4139469664&4294967295,z=k+(D<<16&4294967295|D>>>16),D=N+(z^k^O)+M[10]+3200236656&4294967295,N=z+(D<<23&4294967295|D>>>9),D=O+(N^z^k)+M[13]+681279174&4294967295,O=N+(D<<4&4294967295|D>>>28),D=k+(O^N^z)+M[0]+3936430074&4294967295,k=O+(D<<11&4294967295|D>>>21),D=z+(k^O^N)+M[3]+3572445317&4294967295,z=k+(D<<16&4294967295|D>>>16),D=N+(z^k^O)+M[6]+76029189&4294967295,N=z+(D<<23&4294967295|D>>>9),D=O+(N^z^k)+M[9]+3654602809&4294967295,O=N+(D<<4&4294967295|D>>>28),D=k+(O^N^z)+M[12]+3873151461&4294967295,k=O+(D<<11&4294967295|D>>>21),D=z+(k^O^N)+M[15]+530742520&4294967295,z=k+(D<<16&4294967295|D>>>16),D=N+(z^k^O)+M[2]+3299628645&4294967295,N=z+(D<<23&4294967295|D>>>9),D=O+(z^(N|~k))+M[0]+4096336452&4294967295,O=N+(D<<6&4294967295|D>>>26),D=k+(N^(O|~z))+M[7]+1126891415&4294967295,k=O+(D<<10&4294967295|D>>>22),D=z+(O^(k|~N))+M[14]+2878612391&4294967295,z=k+(D<<15&4294967295|D>>>17),D=N+(k^(z|~O))+M[5]+4237533241&4294967295,N=z+(D<<21&4294967295|D>>>11),D=O+(z^(N|~k))+M[12]+1700485571&4294967295,O=N+(D<<6&4294967295|D>>>26),D=k+(N^(O|~z))+M[3]+2399980690&4294967295,k=O+(D<<10&4294967295|D>>>22),D=z+(O^(k|~N))+M[10]+4293915773&4294967295,z=k+(D<<15&4294967295|D>>>17),D=N+(k^(z|~O))+M[1]+2240044497&4294967295,N=z+(D<<21&4294967295|D>>>11),D=O+(z^(N|~k))+M[8]+1873313359&4294967295,O=N+(D<<6&4294967295|D>>>26),D=k+(N^(O|~z))+M[15]+4264355552&4294967295,k=O+(D<<10&4294967295|D>>>22),D=z+(O^(k|~N))+M[6]+2734768916&4294967295,z=k+(D<<15&4294967295|D>>>17),D=N+(k^(z|~O))+M[13]+1309151649&4294967295,N=z+(D<<21&4294967295|D>>>11),D=O+(z^(N|~k))+M[4]+4149444226&4294967295,O=N+(D<<6&4294967295|D>>>26),D=k+(N^(O|~z))+M[11]+3174756917&4294967295,k=O+(D<<10&4294967295|D>>>22),D=z+(O^(k|~N))+M[2]+718787259&4294967295,z=k+(D<<15&4294967295|D>>>17),D=N+(k^(z|~O))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+O&4294967295,V.g[1]=V.g[1]+(z+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.u=function(V,O){O===void 0&&(O=V.length);for(var N=O-this.blockSize,M=this.B,z=this.h,k=0;k<O;){if(z==0)for(;k<=N;)a(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<O;)if(M[z++]=V.charCodeAt(k++),z==this.blockSize){a(this,M),z=0;break}}else for(;k<O;)if(M[z++]=V[k++],z==this.blockSize){a(this,M),z=0;break}}this.h=z,this.o+=O},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var O=1;O<V.length-8;++O)V[O]=0;var N=8*this.o;for(O=V.length-8;O<V.length;++O)V[O]=N&255,N/=256;for(this.u(V),V=Array(16),O=N=0;4>O;++O)for(var M=0;32>M;M+=8)V[N++]=this.g[O]>>>M&255;return V};function o(V,O){var N=d;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=O(V)}function u(V,O){this.h=O;for(var N=[],M=!0,z=V.length-1;0<=z;z--){var k=V[z]|0;M&&k==O||(N[z]=k,M=!1)}this.g=N}var d={};function f(V){return-128<=V&&128>V?o(V,function(O){return new u([O|0],0>O?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return R(p(-V));for(var O=[],N=1,M=0;V>=N;M++)O[M]=V/N|0,N*=4294967296;return new u(O,0)}function y(V,O){if(V.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V.charAt(0)=="-")return R(y(V.substring(1),O));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(O,8)),M=b,z=0;z<V.length;z+=8){var k=Math.min(8,V.length-z),D=parseInt(V.substring(z,z+k),O);8>k?(k=p(Math.pow(O,k)),M=M.j(k).add(p(D))):(M=M.j(N),M=M.add(p(D)))}return M}var b=f(0),_=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-R(this).m();for(var V=0,O=1,N=0;N<this.g.length;N++){var M=this.i(N);V+=(0<=M?M:4294967296+M)*O,O*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(A(this))return"0";if(P(this))return"-"+R(this).toString(V);for(var O=p(Math.pow(V,6)),N=this,M="";;){var z=L(N,O).g;N=I(N,z.j(O));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=z,A(N))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function A(V){if(V.h!=0)return!1;for(var O=0;O<V.g.length;O++)if(V.g[O]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=I(this,V),P(V)?-1:A(V)?0:1};function R(V){for(var O=V.g.length,N=[],M=0;M<O;M++)N[M]=~V.g[M];return new u(N,~V.h).add(_)}n.abs=function(){return P(this)?R(this):this},n.add=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],M=0,z=0;z<=O;z++){var k=M+(this.i(z)&65535)+(V.i(z)&65535),D=(k>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);M=D>>>16,k&=65535,D&=65535,N[z]=D<<16|k}return new u(N,N[N.length-1]&-2147483648?-1:0)};function I(V,O){return V.add(R(O))}n.j=function(V){if(A(this)||A(V))return b;if(P(this))return P(V)?R(this).j(R(V)):R(R(this).j(V));if(P(V))return R(this.j(R(V)));if(0>this.l(w)&&0>V.l(w))return p(this.m()*V.m());for(var O=this.g.length+V.g.length,N=[],M=0;M<2*O;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var z=0;z<V.g.length;z++){var k=this.i(M)>>>16,D=this.i(M)&65535,le=V.i(z)>>>16,fe=V.i(z)&65535;N[2*M+2*z]+=D*fe,T(N,2*M+2*z),N[2*M+2*z+1]+=k*fe,T(N,2*M+2*z+1),N[2*M+2*z+1]+=D*le,T(N,2*M+2*z+1),N[2*M+2*z+2]+=k*le,T(N,2*M+2*z+2)}for(M=0;M<O;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=O;M<2*O;M++)N[M]=0;return new u(N,0)};function T(V,O){for(;(V[O]&65535)!=V[O];)V[O+1]+=V[O]>>>16,V[O]&=65535,O++}function E(V,O){this.g=V,this.h=O}function L(V,O){if(A(O))throw Error("division by zero");if(A(V))return new E(b,b);if(P(V))return O=L(R(V),O),new E(R(O.g),R(O.h));if(P(O))return O=L(V,R(O)),new E(R(O.g),O.h);if(30<V.g.length){if(P(V)||P(O))throw Error("slowDivide_ only works with positive integers.");for(var N=_,M=O;0>=M.l(V);)N=F(N),M=F(M);var z=B(N,1),k=B(M,1);for(M=B(M,2),N=B(N,2);!A(M);){var D=k.add(M);0>=D.l(V)&&(z=z.add(N),k=D),M=B(M,1),N=B(N,1)}return O=I(V,z.j(O)),new E(z,O)}for(z=b;0<=V.l(O);){for(N=Math.max(1,Math.floor(V.m()/O.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=p(N),D=k.j(O);P(D)||0<D.l(V);)N-=M,k=p(N),D=k.j(O);A(k)&&(k=_),z=z.add(k),V=I(V,D)}return new E(z,V)}n.A=function(V){return L(this,V).h},n.and=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],M=0;M<O;M++)N[M]=this.i(M)&V.i(M);return new u(N,this.h&V.h)},n.or=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],M=0;M<O;M++)N[M]=this.i(M)|V.i(M);return new u(N,this.h|V.h)},n.xor=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],M=0;M<O;M++)N[M]=this.i(M)^V.i(M);return new u(N,this.h^V.h)};function F(V){for(var O=V.g.length+1,N=[],M=0;M<O;M++)N[M]=V.i(M)<<1|V.i(M-1)>>>31;return new u(N,V.h)}function B(V,O){var N=O>>5;O%=32;for(var M=V.g.length-N,z=[],k=0;k<M;k++)z[k]=0<O?V.i(k+N)>>>O|V.i(k+N+1)<<32-O:V.i(k+N);return new u(z,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Sa=u}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,Cu,TT,ah,Ey,ST,AT,CT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,S){return h==Array.prototype||h==Object.prototype||(h[x]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var x=0;x<h.length;++x){var S=h[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(h,x){if(x)e:{var S=r;h=h.split(".");for(var U=0;U<h.length-1;U++){var Z=h[U];if(!(Z in S))break e;S=S[Z]}h=h[h.length-1],U=S[h],x=x(U),x!=U&&x!=null&&e(S,h,{configurable:!0,writable:!0,value:x})}}function o(h,x){h instanceof String&&(h+="");var S=0,U=!1,Z={next:function(){if(!U&&S<h.length){var se=S++;return{value:x(se,h[se]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(h){return h||function(){return o(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,S){return h.call.apply(h.bind,arguments)}function b(h,x,S){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,U),h.apply(x,Z)}}return function(){return h.apply(x,arguments)}}function _(h,x,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function w(h,x){var S=Array.prototype.slice.call(arguments,1);return function(){var U=S.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function A(h,x){function S(){}S.prototype=x.prototype,h.aa=x.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(U,Z,se){for(var _e=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)_e[vt-2]=arguments[vt];return x.prototype[Z].apply(U,_e)}}function P(h){const x=h.length;if(0<x){const S=Array(x);for(let U=0;U<x;U++)S[U]=h[U];return S}return[]}function R(h,x){for(let S=1;S<arguments.length;S++){const U=arguments[S];if(f(U)){const Z=h.length||0,se=U.length||0;h.length=Z+se;for(let _e=0;_e<se;_e++)h[Z+_e]=U[_e]}else h.push(U)}}class I{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function T(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var F=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function B(h,x,S){for(const U in h)x.call(S,h[U],U,h)}function V(h,x){for(const S in h)x.call(void 0,h[S],S,h)}function O(h){const x={};for(const S in h)x[S]=h[S];return x}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,x){let S,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(S in U)h[S]=U[S];for(let se=0;se<N.length;se++)S=N[se],Object.prototype.hasOwnProperty.call(U,S)&&(h[S]=U[S])}}function z(h){var x=1;h=h.split(":");const S=[];for(;0<x&&h.length;)S.push(h.shift()),x--;return h.length&&S.push(h.join(":")),S}function k(h){d.setTimeout(()=>{throw h},0)}function D(){var h=xe;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class le{constructor(){this.h=this.g=null}add(x,S){const U=fe.get();U.set(x,S),this.h?this.h.next=U:this.g=U,this.h=U}}var fe=new I(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,oe=!1,xe=new le,H=()=>{const h=d.Promise.resolve(void 0);ae=()=>{h.then(ie)}};var ie=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(S){k(S)}var x=fe;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}oe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};d.addEventListener("test",S,x),d.removeEventListener("test",S,x)}catch{}return h}();function Ve(h,x){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(F){e:{try{L(x.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(x=null)}}else S=="mouseover"?x=h.fromElement:S=="mouseout"&&(x=h.toElement);this.relatedTarget=x,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}A(Ve,ge);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(h,x,S,U,Z){this.listener=h,this.proxy=null,this.src=x,this.type=S,this.capture=!!U,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function It(h){this.src=h,this.g={},this.h=0}It.prototype.add=function(h,x,S,U,Z){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var _e=hn(h,x,U,Z);return-1<_e?(x=h[_e],S||(x.fa=!1)):(x=new it(x,this.src,se,!!U,Z),x.fa=S,h.push(x)),x};function Ht(h,x){var S=x.type;if(S in h.g){var U=h.g[S],Z=Array.prototype.indexOf.call(U,x,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(U,Z,1),se&&(Ze(x),h.g[S].length==0&&(delete h.g[S],h.h--))}}function hn(h,x,S,U){for(var Z=0;Z<h.length;++Z){var se=h[Z];if(!se.da&&se.listener==x&&se.capture==!!S&&se.ha==U)return Z}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),ur={};function Zn(h,x,S,U,Z){if(Array.isArray(x)){for(var se=0;se<x.length;se++)Zn(h,x[se],S,U,Z);return null}return S=is(S),h&&h[ye]?h.K(x,S,p(U)?!!U.capture:!1,Z):Xt(h,x,S,!1,U,Z)}function Xt(h,x,S,U,Z,se){if(!x)throw Error("Invalid event type");var _e=p(Z)?!!Z.capture:!!Z,vt=er(h);if(vt||(h[Ft]=vt=new It(h)),S=vt.add(x,S,U,_e,se),S.proxy)return S;if(U=xs(),S.proxy=U,U.src=h,U.listener=S,h.addEventListener)Se||(Z=_e),Z===void 0&&(Z=!1),h.addEventListener(x.toString(),U,Z);else if(h.attachEvent)h.attachEvent(ss(x.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xs(){function h(S){return x.call(h.src,h.listener,S)}const x=Jn;return h}function _s(h,x,S,U,Z){if(Array.isArray(x))for(var se=0;se<x.length;se++)_s(h,x[se],S,U,Z);else U=p(U)?!!U.capture:!!U,S=is(S),h&&h[ye]?(h=h.i,x=String(x).toString(),x in h.g&&(se=h.g[x],S=hn(se,S,U,Z),-1<S&&(Ze(se[S]),Array.prototype.splice.call(se,S,1),se.length==0&&(delete h.g[x],h.h--)))):h&&(h=er(h))&&(x=h.g[x.toString()],h=-1,x&&(h=hn(x,S,U,Z)),(S=-1<h?x[h]:null)&&ws(S))}function ws(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ye])Ht(x.i,h);else{var S=h.type,U=h.proxy;x.removeEventListener?x.removeEventListener(S,U,h.capture):x.detachEvent?x.detachEvent(ss(S),U):x.addListener&&x.removeListener&&x.removeListener(U),(S=er(x))?(Ht(S,h),S.h==0&&(S.src=null,x[Ft]=null)):Ze(h)}}}function ss(h){return h in ur?ur[h]:ur[h]="on"+h}function Jn(h,x){if(h.da)h=!0;else{x=new Ve(x,this);var S=h.listener,U=h.ha||h.src;h.fa&&ws(h),h=S.call(U,x)}return h}function er(h){return h=h[Ft],h instanceof It?h:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function is(h){return typeof h=="function"?h:(h[Es]||(h[Es]=function(x){return h.handleEvent(x)}),h[Es])}function yt(){ve.call(this),this.i=new It(this),this.M=this,this.F=null}A(yt,ve),yt.prototype[ye]=!0,yt.prototype.removeEventListener=function(h,x,S,U){_s(this,h,x,S,U)};function We(h,x){var S,U=h.F;if(U)for(S=[];U;U=U.F)S.push(U);if(h=h.M,U=x.type||x,typeof x=="string")x=new ge(x,h);else if(x instanceof ge)x.target=x.target||h;else{var Z=x;x=new ge(U,h),M(x,Z)}if(Z=!0,S)for(var se=S.length-1;0<=se;se--){var _e=x.g=S[se];Z=wn(_e,U,!0,x)&&Z}if(_e=x.g=h,Z=wn(_e,U,!0,x)&&Z,Z=wn(_e,U,!1,x)&&Z,S)for(se=0;se<S.length;se++)_e=x.g=S[se],Z=wn(_e,U,!1,x)&&Z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var S=h.g[x],U=0;U<S.length;U++)Ze(S[U]);delete h.g[x],h.h--}}this.F=null},yt.prototype.K=function(h,x,S,U){return this.i.add(String(h),x,!1,S,U)},yt.prototype.L=function(h,x,S,U){return this.i.add(String(h),x,!0,S,U)};function wn(h,x,S,U){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var Z=!0,se=0;se<x.length;++se){var _e=x[se];if(_e&&!_e.da&&_e.capture==S){var vt=_e.listener,pn=_e.ha||_e.src;_e.fa&&Ht(h.i,_e),Z=vt.call(pn,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function $t(h,x,S){if(typeof h=="function")S&&(h=_(h,S));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(h,x||0)}function Zs(h){h.g=$t(()=>{h.g=null,h.i&&(h.i=!1,Zs(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class dr extends ve{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){ve.call(this),this.h=h,this.g={}}A(Vr,ve);var zr=[];function Me(h){B(h.g,function(x,S){this.g.hasOwnProperty(S)&&ws(x)},h),h.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Me(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,Je=d.JSON.parse,ft=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function qt(){}qt.prototype.h=null;function sn(h){return h.h||(h.h=h.i())}function tr(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){ge.call(this,"d")}A(Fn,ge);function On(){ge.call(this,"c")}A(On,ge);var Qt={},Ur=null;function _r(){return Ur=Ur||new yt}Qt.La="serverreachability";function Ts(h){ge.call(this,Qt.La,h)}A(Ts,ge);function Q(h){const x=_r();We(x,new Ts(x))}Qt.STAT_EVENT="statevent";function W(h,x){ge.call(this,Qt.STAT_EVENT,h),this.stat=x}A(W,ge);function ee(h){const x=_r();We(x,new W(x,h))}Qt.Ma="timingevent";function he(h,x){ge.call(this,Qt.Ma,h),this.size=x}A(he,ge);function be(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function ze(h,x,S,U,Z,se){h.info(function(){if(h.g)if(se)for(var _e="",vt=se.split("&"),pn=0;pn<vt.length;pn++){var bt=vt[pn].split("=");if(1<bt.length){var Tn=bt[0];bt=bt[1];var gn=Tn.split("_");_e=2<=gn.length&&gn[1]=="type"?_e+(Tn+"="+bt+"&"):_e+(Tn+"=redacted&")}}else _e=null;else _e=se;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+x+`
`+S+`
`+_e})}function Re(h,x,S,U,Z,se,_e){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+x+`
`+S+`
`+se+" "+_e})}function De(h,x,S,U){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ue(h,S)+(U?" "+U:"")})}function Pe(h,x){h.info(function(){return"TIMEOUT: "+x})}Ce.prototype.info=function(){};function Ue(h,x){if(!h.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var U=S[h];if(!(2>U.length)){var Z=U[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var _e=1;_e<Z.length;_e++)Z[_e]=""}}}}return Oe(S)}catch{return x}}var je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function At(){}A(At,qt),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},at=new At;function Et(h,x,S,U){this.j=h,this.i=x,this.l=S,this.R=U||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var rt={},Br={};function mn(h,x,S){h.L=1,h.v=qa(Tr(x)),h.m=S,h.P=!0,nr(h,null)}function nr(h,x){h.F=Date.now(),wr(h),h.A=Tr(h.v);var S=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),wc(S.i,"t",U),h.C=0,S=h.j.J,h.h=new ht,h.g=Pd(h.j,S?x:null,!h.m),0<h.O&&(h.M=new dr(_(h.Y,h,h.g),h.O)),x=h.U,S=h.g,U=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(zr[0]=Z.toString()),Z=zr);for(var se=0;se<Z.length;se++){var _e=Zn(S,Z[se],U||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Q(),ze(h.i,h.u,h.A,h.l,h.R,h.m)}Et.prototype.ca=function(h){h=h.target;const x=this.M;x&&$r(h)==3?x.j():this.Y(h)},Et.prototype.Y=function(h){try{if(h==this.g)e:{const gn=$r(this.g);var x=this.g.Ba();const ai=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Cd(this.g)))){this.J||gn!=4||x==7||(x==8||0>=ai?Q(3):Q(2)),qn(this);var S=this.g.Z();this.X=S;t:if(Mn(this)){var U=Cd(this.g);h="";var Z=U.length,se=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),rr(this);var _e="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Z;x++)this.h.h=!0,h+=this.h.i.decode(U[x],{stream:!(se&&x==Z-1)});U.length=0,this.h.g+=h,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Re(this.i,this.u,this.A,this.l,this.R,gn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,pn=this.g;if((vt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(vt)){var bt=vt;break t}}bt=null}if(S=bt)De(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,S);else{this.o=!1,this.s=3,ee(12),Ke(this),rr(this);break e}}if(this.P){S=!0;let jn;for(;!this.J&&this.C<_e.length;)if(jn=Ss(this,_e),jn==Br){gn==4&&(this.s=4,ee(14),S=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==rt){this.s=4,ee(15),De(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else De(this.i,this.l,jn,null),an(this,jn);if(Mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||_e.length!=0||this.h.h||(this.s=1,ee(16),S=!1),this.o=this.o&&S,!S)De(this.i,this.l,_e,"[Invalid Chunked Response]"),Ke(this),rr(this);else if(0<_e.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Wa(Tn),Tn.M=!0,ee(11))}}else De(this.i,this.l,_e,null),an(this,_e);gn==4&&Ke(this),this.o&&!this.J&&(gn==4?Md(this.j,this):(this.o=!1,wr(this)))}else jm(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ke(this),rr(this)}}}catch{}finally{}};function Mn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ss(h,x){var S=h.C,U=x.indexOf(`
`,S);return U==-1?Br:(S=Number(x.substring(S,U)),isNaN(S)?rt:(U+=1,U+S>x.length?Br:(x=x.slice(U,U+S),h.C=U+S,x)))}Et.prototype.cancel=function(){this.J=!0,Ke(this)};function wr(h){h.S=Date.now()+h.I,Mi(h,h.I)}function Mi(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(_(h.ba,h),x)}function qn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Et.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),ee(17)),Ke(this),this.s=2,rr(this)):Mi(this,this.S-h)};function rr(h){h.j.G==0||h.J||Md(h.j,h)}function Ke(h){qn(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,Me(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function an(h,x){try{var S=h.j;if(S.G!=0&&(S.g==h||Fr(S.h,h))){if(!h.K&&Fr(S.h,h)&&S.G==3){try{var U=S.Da.g.parse(x)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)Yo(S),Qo(S);else break e;Cc(S),ee(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=be(_(S.Za,S),6e3));if(1>=Lt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ii(S,11)}else if((h.K||S.g==h)&&Yo(S),!T(x))for(Z=S.Da.g.parse(x),x=0;x<Z.length;x++){let bt=Z[x];if(S.T=bt[0],bt=bt[1],S.G==2)if(bt[0]=="c"){S.K=bt[1],S.ia=bt[2];const Tn=bt[3];Tn!=null&&(S.la=Tn,S.j.info("VER="+S.la));const gn=bt[4];gn!=null&&(S.Aa=gn,S.j.info("SVER="+S.Aa));const ai=bt[5];ai!=null&&typeof ai=="number"&&0<ai&&(U=1.5*ai,S.L=U,S.j.info("backChannelRequestTimeoutMs_="+U)),U=S;const jn=h.g;if(jn){const Ds=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var se=U.h;se.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Js(se,se.h),se.h=null))}if(U.D){const Nc=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(U.ya=Nc,Dt(U.I,U.D,Nc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),U=S;var _e=h;if(U.qa=jd(U,U.J?U.ia:null,U.W),_e.K){Dn(U.h,_e);var vt=_e,pn=U.L;pn&&(vt.I=pn),vt.B&&(qn(vt),wr(vt)),U.g=_e}else Id(U);0<S.i.length&&Ko(S)}else bt[0]!="stop"&&bt[0]!="close"||ii(S,7);else S.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?ii(S,7):Sc(S):bt[0]!="noop"&&S.l&&S.l.ta(bt),S.v=0)}}Q(4)}catch{}}var Er=class{constructor(h,x){this.g=h,this.map=x}};function fr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Lt(h){return h.h?1:h.g?h.g.size:0}function Fr(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Js(h,x){h.g?h.g.add(x):h.h=x}function Dn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}fr.prototype.cancel=function(){if(this.i=vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const S of h.g.values())x=x.concat(S.D);return x}return P(h.i)}function Im(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var x=[],S=h.length,U=0;U<S;U++)x.push(h[U]);return x}x=[],S=0;for(U in h)x[S++]=h[U];return x}function Bo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var x=[];h=h.length;for(var S=0;S<h;S++)x.push(S);return x}x=[],S=0;for(const U in h)x[S++]=U;return x}}}function bc(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var S=Bo(h),U=Im(h),Z=U.length,se=0;se<Z;se++)x.call(void 0,U[se],S&&S[se],h)}var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Om(h,x){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var U=h[S].indexOf("="),Z=null;if(0<=U){var se=h[S].substring(0,U);Z=h[S].substring(U+1)}else se=h[S];x(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof on){this.h=h.h,Fa(this,h.j),this.o=h.o,this.g=h.g,Di(this,h.s),this.l=h.l;var x=h.i,S=new ti;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),ei(this,S),this.m=h.m}else h&&(x=String(h).match(Ba))?(this.h=!1,Fa(this,x[1]||"",!0),this.o=qr(x[2]||""),this.g=qr(x[3]||"",!0),Di(this,x[4]),this.l=qr(x[5]||"",!0),ei(this,x[6]||"",!0),this.m=qr(x[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}on.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Ha(x,xc,!0),":");var S=this.g;return(S||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ha(x,xc,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Ha(S,S.charAt(0)=="/"?Mm:_c,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Ha(S,Fo)),h.join("")};function Tr(h){return new on(h)}function Fa(h,x,S){h.j=S?qr(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Di(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function ei(h,x,S){x instanceof ti?(h.i=x,Sd(h.i,h.h)):(S||(x=Ha(x,Dm)),h.i=new ti(x,h.h))}function Dt(h,x,S){h.i.set(x,S)}function qa(h){return Dt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qr(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ha(h,x,S){return typeof h=="string"?(h=encodeURI(h).replace(x,Td),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Td(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xc=/[#\/\?@]/g,_c=/[#\?:]/g,Mm=/[#\?]/g,Dm=/[#\?@]/g,Fo=/#/g;function ti(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Hr(h){h.g||(h.g=new Map,h.h=0,h.i&&Om(h.i,function(x,S){h.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=ti.prototype,n.add=function(h,x){Hr(this),this.i=null,h=Cs(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(x),this.h+=1,this};function ni(h,x){Hr(h),x=Cs(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function ri(h,x){return Hr(h),x=Cs(h,x),h.g.has(x)}n.forEach=function(h,x){Hr(this),this.g.forEach(function(S,U){S.forEach(function(Z){h.call(x,Z,U,this)},this)},this)},n.na=function(){Hr(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let U=0;U<x.length;U++){const Z=h[U];for(let se=0;se<Z.length;se++)S.push(x[U])}return S},n.V=function(h){Hr(this);let x=[];if(typeof h=="string")ri(this,h)&&(x=x.concat(this.g.get(Cs(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)x=x.concat(h[S])}return x},n.set=function(h,x){return Hr(this),this.i=null,h=Cs(this,h),ri(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},n.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function wc(h,x,S){ni(h,x),0<S.length&&(h.i=null,h.g.set(Cs(h,x),P(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var U=x[S];const se=encodeURIComponent(String(U)),_e=this.V(U);for(U=0;U<_e.length;U++){var Z=se;_e[U]!==""&&(Z+="="+encodeURIComponent(String(_e[U]))),h.push(Z)}}return this.i=h.join("&")};function Cs(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Sd(h,x){x&&!h.j&&(Hr(h),h.i=null,h.g.forEach(function(S,U){var Z=U.toLowerCase();U!=Z&&(ni(this,U),wc(this,Z,S))},h)),h.j=x}function Ga(h,x){const S=new Ce;if(d.Image){const U=new Image;U.onload=w(Gr,S,"TestLoadImage: loaded",!0,x,U),U.onerror=w(Gr,S,"TestLoadImage: error",!1,x,U),U.onabort=w(Gr,S,"TestLoadImage: abort",!1,x,U),U.ontimeout=w(Gr,S,"TestLoadImage: timeout",!1,x,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else x(!1)}function as(h,x){const S=new Ce,U=new AbortController,Z=setTimeout(()=>{U.abort(),Gr(S,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:U.signal}).then(se=>{clearTimeout(Z),se.ok?Gr(S,"TestPingServer: ok",!0,x):Gr(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),Gr(S,"TestPingServer: error",!1,x)})}function Gr(h,x,S,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(S)}catch{}}function $a(){this.g=new ft}function Rs(h,x,S){const U=S||"";try{bc(h,function(Z,se){let _e=Z;p(Z)&&(_e=Oe(Z)),x.push(U+se+"="+encodeURIComponent(_e))})}catch(Z){throw x.push(U+"type="+encodeURIComponent("_badmap")),Z}}function ji(h){this.l=h.Ub||null,this.j=h.eb||!1}A(ji,qt),ji.prototype.g=function(){return new si(this.l,this.j)},ji.prototype.i=function(h){return function(){return h}}({});function si(h,x){yt.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(si,yt),n=si.prototype,n.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Is(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ec(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ec(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Ns(this):Is(this),this.readyState==3&&Ec(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ns(this))},n.Qa=function(h){this.g&&(this.response=h,Ns(this))},n.ga=function(){this.g&&Ns(this)};function Ns(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Is(h)}n.setRequestHeader=function(h,x){this.u.append(h,x)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=x.next();return h.join(`\r
`)};function Is(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tc(h){let x="";return B(h,function(S,U){x+=U,x+=":",x+=S,x+=`\r
`}),x}function En(h,x,S){e:{for(U in S){var U=!1;break e}U=!0}U||(S=Tc(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):Dt(h,x,S))}function Ct(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ct,yt);var qo=/^https?$/i,Qa=["POST","PUT"];n=Ct.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,x,S,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?sn(this.o):sn(at),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(se){Ad(this,se);return}if(h=S||"",S=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)S.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())S.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(S.keys()).find(se=>se.toLowerCase()=="content-type"),Z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qa,x,void 0))||U||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,_e]of S)this.g.setRequestHeader(se,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){Ad(this,se)}};function Ad(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,Ho(h),Os(h)}function Ho(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),Os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Go(this):this.bb())},n.bb=function(){Go(this)};function Go(h){if(h.h&&typeof u<"u"&&(!h.v[1]||$r(h)!=4||h.Z()!=2)){if(h.u&&$r(h)==4)$t(h.Ea,0,h);else if(We(h,"readystatechange"),$r(h)==4){h.h=!1;try{const _e=h.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var U;if(U=_e===0){var Z=String(h.D).match(Ba)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),U=!qo.test(Z?Z.toLowerCase():"")}S=U}if(S)We(h,"complete"),We(h,"success");else{h.m=6;try{var se=2<$r(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",Ho(h)}}finally{Os(h)}}}}function Os(h,x){if(h.g){Ka(h);const S=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||We(h,"ready");try{S.onreadystatechange=U}catch{}}}function Ka(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function $r(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Je(x)}};function Cd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function jm(h){const x={};h=(h.g&&2<=$r(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(T(h[U]))continue;var S=z(h[U]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const se=x[Z]||[];x[Z]=se,se.push(S)}V(x,function(U){return U.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(h,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||x}function $o(h){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,h),this.cb=Ya("retryDelaySeedMs",1e4,h),this.Wa=Ya("forwardChannelMaxRetries",2,h),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(h&&h.concurrentRequestLimit),this.Da=new $a,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$o.prototype,n.la=8,n.G=1,n.connect=function(h,x,S,U){ee(0),this.W=h,this.H=x||{},S&&U!==void 0&&(this.H.OSID=S,this.H.OAID=U),this.F=this.X,this.I=jd(this,null,this.W),Ko(this)};function Sc(h){if(Rd(h),h.G==3){var x=h.U++,S=Tr(h.I);if(Dt(S,"SID",h.K),Dt(S,"RID",x),Dt(S,"TYPE","terminate"),Xa(h,S),x=new Et(h,h.j,x),x.L=2,x.v=qa(Tr(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=x.v,S=!0),S||(x.g=Pd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wr(x)}Dd(h)}function Qo(h){h.g&&(Wa(h),h.g.cancel(),h.g=null)}function Rd(h){Qo(h),h.u&&(d.clearTimeout(h.u),h.u=null),Yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ko(h){if(!As(h.h)&&!h.s){h.s=!0;var x=h.Ga;ae||H(),oe||(ae(),oe=!0),xe.add(x,h),h.B=0}}function Pm(h,x){return Lt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(_(h.Ga,h,x),Rc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new Et(this,this.j,h);let se=this.o;if(this.S&&(se?(se=O(se),M(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var U=this.i[S];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(x+=U,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Nd(this,Z,x),S=Tr(this.I),Dt(S,"RID",h),Dt(S,"CVER",22),this.D&&Dt(S,"X-HTTP-Session-Id",this.D),Xa(this,S),se&&(this.O?x="headers="+encodeURIComponent(String(Tc(se)))+"&"+x:this.m&&En(S,this.m,se)),Js(this.h,Z),this.Ua&&Dt(S,"TYPE","init"),this.P?(Dt(S,"$req",x),Dt(S,"SID","null"),Z.T=!0,mn(Z,S,null)):mn(Z,S,x),this.G=2}}else this.G==3&&(h?Ac(this,h):this.i.length==0||As(this.h)||Ac(this))};function Ac(h,x){var S;x?S=x.l:S=h.U++;const U=Tr(h.I);Dt(U,"SID",h.K),Dt(U,"RID",S),Dt(U,"AID",h.T),Xa(h,U),h.m&&h.o&&En(U,h.m,h.o),S=new Et(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),x&&(h.i=x.D.concat(h.i)),x=Nd(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Js(h.h,S),mn(S,U,x)}function Xa(h,x){h.H&&B(h.H,function(S,U){Dt(x,U,S)}),h.l&&bc({},function(S,U){Dt(x,U,S)})}function Nd(h,x,S){S=Math.min(h.i.length,S);var U=h.l?_(h.l.Na,h.l,h):null;e:{var Z=h.i;let se=-1;for(;;){const _e=["count="+S];se==-1?0<S?(se=Z[0].g,_e.push("ofs="+se)):se=0:_e.push("ofs="+se);let vt=!0;for(let pn=0;pn<S;pn++){let bt=Z[pn].g;const Tn=Z[pn].map;if(bt-=se,0>bt)se=Math.max(0,Z[pn].g-100),vt=!1;else try{Rs(Tn,_e,"req"+bt+"_")}catch{U&&U(Tn)}}if(vt){U=_e.join("&");break e}}}return h=h.i.splice(0,S),x.D=h,U}function Id(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ae||H(),oe||(ae(),oe=!0),xe.add(x,h),h.v=0}}function Cc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(_(h.Fa,h),Rc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Od(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(_(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qo(this),Od(this))};function Wa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Od(h){h.g=new Et(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Tr(h.qa);Dt(x,"RID","rpc"),Dt(x,"SID",h.K),Dt(x,"AID",h.T),Dt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&Dt(x,"TO",h.ja),Dt(x,"TYPE","xmlhttp"),Xa(h,x),h.m&&h.o&&En(x,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=qa(Tr(x)),S.m=null,S.P=!0,nr(S,h)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Cc(this),ee(19))};function Yo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Md(h,x){var S=null;if(h.g==x){Yo(h),Wa(h),h.g=null;var U=2}else if(Fr(h.h,x))S=x.D,Dn(h.h,x),U=1;else return;if(h.G!=0){if(x.o)if(U==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Z=h.B;U=_r(),We(U,new he(U,S)),Ko(h)}else Id(h);else if(Z=x.s,Z==3||Z==0&&0<x.X||!(U==1&&Pm(h,x)||U==2&&Cc(h)))switch(S&&0<S.length&&(x=h.h,x.i=x.i.concat(S)),Z){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function Rc(h,x){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*x}function ii(h,x){if(h.j.info("Error code "+x),x==2){var S=_(h.fb,h),U=h.Xa;const Z=!U;U=new on(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fa(U,"https"),qa(U),Z?Ga(U.toString(),S):as(U.toString(),S)}else ee(2);h.G=0,h.l&&h.l.sa(x),Dd(h),Rd(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Dd(h){if(h.G=0,h.ka=[],h.l){const x=vc(h.h);(x.length!=0||h.i.length!=0)&&(R(h.ka,x),R(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function jd(h,x,S){var U=S instanceof on?Tr(S):new on(S);if(U.g!="")x&&(U.g=x+"."+U.g),Di(U,U.s);else{var Z=d.location;U=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new on(null);U&&Fa(se,U),x&&(se.g=x),Z&&Di(se,Z),S&&(se.l=S),U=se}return S=h.D,x=h.ya,S&&x&&Dt(U,S,x),Dt(U,"VER",h.la),Xa(h,U),U}function Pd(h,x,S){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Ct(new ji({eb:S})):new Ct(h.pa),x.Ha(h.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}n=kd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xo(){}Xo.prototype.g=function(h,x){return new sr(h,x)};function sr(h,x){yt.call(this),this.g=new $o(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!T(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!T(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ms(this)}A(sr,yt),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Sc(this.g)},sr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Oe(h),h=S);x.i.push(new Er(x.Ya++,h)),x.G==3&&Ko(x)},sr.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,sr.aa.N.call(this)};function Ld(h){Fn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const S in x){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}A(Ld,Fn);function Vd(){On.call(this),this.status=1}A(Vd,On);function Ms(h){this.g=h}A(Ms,kd),Ms.prototype.ua=function(){We(this.g,"a")},Ms.prototype.ta=function(h){We(this.g,new Ld(h))},Ms.prototype.sa=function(h){We(this.g,new Vd)},Ms.prototype.ra=function(){We(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,CT=function(){return new Xo},AT=function(){return _r()},ST=Qt,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,ah=je,Fe.COMPLETE="complete",TT=Fe,tr.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Cu=tr,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,ET=Ct}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",kw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new E0("@firebase/firestore");function Al(){return No.logLevel}function Ae(n,...e){if(No.logLevel<=ut.DEBUG){const t=e.map(A0);No.debug(`Firestore (${fc}): ${n}`,...t)}}function Ci(n,...e){if(No.logLevel<=ut.ERROR){const t=e.map(A0);No.error(`Firestore (${fc}): ${n}`,...t)}}function nc(n,...e){if(No.logLevel<=ut.WARN){const t=e.map(A0);No.warn(`Firestore (${fc}): ${n}`,...t)}}function A0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RT(n,r,t)}function RT(n,e,t){let r=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ci(r),new Error(r)}function Nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||RT(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kn.UNAUTHENTICATED))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uM{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Nt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},d=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new NT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class dM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Nt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=mM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function Ty(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=IT(),u=pM(o.encode(Vw(n,t)),o.encode(Vw(e,t)));return u!==0?u:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function Vw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function pM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function rc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=-62135596800,Uw=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Uw);return new xn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zw)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new xn(0,0))}static max(){return new Ye(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__name__";class zs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=zs.isNumericId(e),a=zs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zs.extractNumericId(e).compare(zs.extractNumericId(t)):Ty(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sa.fromString(e.substring(4,e.length-2))}}class Bt extends zs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const gM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends zs{construct(e,t,r){return new Un(e,t,r)}static isValidIdentifier(e){return gM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bw}static keyField(){return new Un([Bw])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(r+=d,a++):(o(),a++)}if(o(),u)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function yM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new Na(a,Le.empty(),e)}function vM(n){return new Na(n.readTime,n.key,qu)}class Na{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Na(Ye.min(),Le.empty(),qu)}static max(){return new Na(Ye.max(),Le.empty(),qu)}}function bM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==xM)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++d,d===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function wM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-1;function nm(n){return n==null}function Ah(n){return n===0&&1/n==-1/0}function EM(n){return typeof n=="number"&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function TM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fw(e)),e=SM(n.get(t),e);return Fw(e)}function SM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case MT:t+="";break;default:t+=o}}return t}function Fw(n){return n+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Vn.RED,this.left=a??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Vn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new kr([])}unionWith(e){let t=new _n(Un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jT("Invalid base64 string: "+o):o}}(e);return new Bn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const AM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(n){if(Nt(!!n,39018),typeof n=="string"){let e=0;const t=AM.exec(n);if(Nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oa(n){return typeof n=="string"?Bn.fromBase64String(n):Bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",kT="__type__",LT="__previous_value__",VT="__local_write_time__";function rm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kT])===null||t===void 0?void 0:t.stringValue)===PT}function sm(n){const e=n.mapValue.fields[LT];return rm(e)?sm(e):e}function Hu(n){const e=Ia(n.mapValue.fields[VT].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,r,a,o,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}const Ch="(default)";class Gu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",RM="__max__",$f={mapValue:{}},UT="__vector__",Rh="value";function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rm(n)?4:IM(n)?9007199254740991:NM(n)?10:11:Ge(28295,{value:n})}function Ys(n,e){if(n===e)return!0;const t=Ma(n);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ia(a.timestampValue),d=Ia(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Oa(a.bytesValue).isEqual(Oa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return nn(a.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return nn(a.integerValue)===nn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=nn(a.doubleValue),d=nn(o.doubleValue);return u===d?Ah(u)===Ah(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(qw(u)!==qw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ys(u[f],d[f])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>Ys(t,e))!==void 0}function sc(n,e){if(n===e)return 0;const t=Ma(n),r=Ma(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=nn(o.integerValue||o.doubleValue),f=nn(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Gw(n.timestampValue,e.timestampValue);case 4:return Gw(Hu(n),Hu(e));case 5:return Ty(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Oa(o),f=Oa(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=nt(d[p],f[p]);if(y!==0)return y}return nt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=nt(nn(o.latitude),nn(u.latitude));return d!==0?d:nt(nn(o.longitude),nn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $w(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,p,y;const b=o.fields||{},_=u.fields||{},w=(d=b[Rh])===null||d===void 0?void 0:d.arrayValue,A=(f=_[Rh])===null||f===void 0?void 0:f.arrayValue,P=nt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:$w(w,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===$f.mapValue&&u===$f.mapValue)return 0;if(o===$f.mapValue)return 1;if(u===$f.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const _=Ty(f[b],y[b]);if(_!==0)return _;const w=sc(d[f[b]],p[y[b]]);if(w!==0)return w}return nt(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function Gw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Ia(n),r=Ia(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function $w(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=sc(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function ic(n){return Sy(n)}function Sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Sy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Sy(t.fields[u])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function oh(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return Oa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+oh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return ka(r.fields,(o,u)=>{a+=o.length+oh(u)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Nh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ay(n){return!!n&&"integerValue"in n}function R0(n){return!!n&&"arrayValue"in n}function Qw(n){return!!n&&"nullValue"in n}function Kw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function NM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||t===void 0?void 0:t.stringValue)===UT}function Pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=Un.emptyPath(),r={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=d.popLast()}u?r[d.lastSegment()]=Pu(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];lh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ka(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new br(Pu(this.value))}}function BT(n){const e=[];return ka(n.fields,(t,r)=>{const a=new Un([t]);if(lh(r)){const o=BT(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t,r,a,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Yn(e,0,Ye.min(),Ye.min(),Ye.min(),br.empty(),0)}static newFoundDocument(e,t,r,a){return new Yn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Yn(e,2,t,Ye.min(),Ye.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,Ye.min(),Ye.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function Yw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=sc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function OM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class dn extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new DM(e,t,r):t==="array-contains"?new kM(e,r):t==="in"?new LM(e,r):t==="not-in"?new VM(e,r):t==="array-contains-any"?new zM(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jM(e,r):new PM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sc(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return qT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qT(n){return n.op==="and"}function HT(n){return MM(n)&&qT(n)}function MM(n){for(const e of n.filters)if(e instanceof ys)return!1;return!0}function Cy(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+ic(n.value);if(HT(n))return n.filters.map(e=>Cy(e)).join(",");{const e=n.filters.map(t=>Cy(t)).join(",");return`${n.op}(${e})`}}function GT(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&Ys(r.value,a.value)}(n,e):n instanceof ys?function(r,a){return a instanceof ys&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,d)=>o&&GT(u,a.filters[d]),!0):!1}(n,e):void Ge(19439)}function $T(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`}(n):n instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map($T).join(" ,")+"}"}(n):"Filter"}class DM extends dn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class jM extends dn{constructor(e,t){super(e,"in",t),this.keys=QT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PM extends dn{constructor(e,t){super(e,"not-in",t),this.keys=QT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class kM extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R0(t)&&$u(t.arrayValue,this.value)}}class LM extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class VM extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}}class zM extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t=null,r=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function Ww(n,e=null,t=[],r=[],a=null,o=null,u=null){return new UM(n,e,t,r,a,o,u)}function N0(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ic(r)).join(",")),e.Ie=t}return e.Ie}function I0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xw(n.startAt,e.startAt)&&Xw(n.endAt,e.endAt)}function Ry(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,r=[],a=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BM(n,e,t,r,a,o,u,d){return new Lo(n,e,t,r,a,o,u,d)}function im(n){return new Lo(n)}function Zw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O0(n){return n.collectionGroup!==null}function Pl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new _n(Un.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Qu(o,r))}),t.has(Un.keyField().canonicalString())||e.Ee.push(new Qu(Un.keyField(),r))}return e.Ee}function Hs(n){const e=Xe(n);return e.de||(e.de=FM(e,Pl(n))),e.de}function FM(n,e){if(n.limitType==="F")return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Qu(a.field,o)});const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return Ww(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ny(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ih(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function am(n,e){return I0(Hs(n),Hs(e))&&n.limitType===e.limitType}function KT(n){return`${N0(Hs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>$T(a)).join(", ")}]`),nm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>ic(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>ic(a)).join(",")),`Target(${r})`}(Hs(n))}; limitType=${n.limitType})`}function om(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,d,f){const p=Yw(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Pl(r),a)||r.endAt&&!function(u,d,f){const p=Yw(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Pl(r),a))}(n,e)}function qM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YT(n){return(e,t)=>{let r=!1;for(const a of Pl(n)){const o=HM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function HM(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),p=d.data.field(o);return f!==null&&p!==null?sc(f,p):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new Yt(Le.comparator);function Ri(){return GM}const XT=new Yt(Le.comparator);function Ru(...n){let e=XT;for(const t of n)e=e.insert(t.key,t);return e}function WT(n){let e=XT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return ku()}function ZT(){return ku()}function ku(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const $M=new Yt(Le.comparator),QM=new _n(Le.comparator);function dt(...n){let e=QM;for(const t of n)e=e.add(t);return e}const KM=new _n(nt);function YM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function JT(n){return{integerValue:""+n}}function XM(n,e){return EM(e)?JT(e):M0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function WM(n,e,t){return n instanceof Ku?function(a,o){const u={fields:{[kT]:{stringValue:PT},[VT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&rm(o)&&(o=sm(o)),o&&(u.fields[LT]=o),{mapValue:u}}(t,e):n instanceof Yu?tS(n,e):n instanceof Xu?nS(n,e):function(a,o){const u=eS(a,o),d=Jw(u)+Jw(a.Re);return Ay(u)&&Ay(a.Re)?JT(d):M0(a.serializer,d)}(n,e)}function ZM(n,e,t){return n instanceof Yu?tS(n,e):n instanceof Xu?nS(n,e):t}function eS(n,e){return n instanceof Oh?function(r){return Ay(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ku extends lm{}class Yu extends lm{constructor(e){super(),this.elements=e}}function tS(n,e){const t=rS(e);for(const r of n.elements)t.some(a=>Ys(a,r))||t.push(r);return{arrayValue:{values:t}}}class Xu extends lm{constructor(e){super(),this.elements=e}}function nS(n,e){let t=rS(e);for(const r of n.elements)t=t.filter(a=>!Ys(a,r));return{arrayValue:{values:t}}}class Oh extends lm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Jw(n){return nn(n.integerValue||n.doubleValue)}function rS(n){return R0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){this.field=e,this.transform=t}}function eD(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Yu&&a instanceof Yu||r instanceof Xu&&a instanceof Xu?rc(r.elements,a.elements,Ys):r instanceof Oh&&a instanceof Oh?Ys(r.Re,a.Re):r instanceof Ku&&a instanceof Ku}(n.transform,e.transform)}class tD{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let cm=class{};function sS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new D0(n.key,ns.none()):new hd(n.key,n.data,ns.none());{const t=n.data,r=br.empty();let a=new _n(Un.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new La(n.key,r,new kr(a.toArray()),ns.none())}}function nD(n,e,t){n instanceof hd?function(a,o,u){const d=a.value.clone(),f=tE(a.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof La?function(a,o,u){if(!ch(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=tE(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(iS(a)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Lu(n,e,t,r){return n instanceof hd?function(o,u,d,f){if(!ch(o.precondition,u))return d;const p=o.value.clone(),y=nE(o.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(o,u,d,f){if(!ch(o.precondition,u))return d;const p=nE(o.fieldTransforms,f,u),y=u.data;return y.setAll(iS(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,d){return ch(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function rD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=eS(r.transform,a||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&rc(r,a,(o,u)=>eD(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hd extends cm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class La extends cm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tE(n,e,t){const r=new Map;Nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);r.set(o.field,ZM(u,d,t[a]))}return r}function nE(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,WM(o,u,e))}return r}class D0 extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&nD(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZT();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const f=sS(u,d);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(t,r)=>eE(t,r))&&rc(this.baseMutations,e.baseMutations,(t,r)=>eE(t,r))}}class j0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Nt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return $M}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new j0(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,_t;function lD(n){switch(n){case ue.OK:return Ge(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function aS(n){if(n===void 0)return Ci("GRPC error has no .code"),ue.UNKNOWN;switch(n){case un.OK:return ue.OK;case un.CANCELLED:return ue.CANCELLED;case un.UNKNOWN:return ue.UNKNOWN;case un.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case un.INTERNAL:return ue.INTERNAL;case un.UNAVAILABLE:return ue.UNAVAILABLE;case un.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case un.NOT_FOUND:return ue.NOT_FOUND;case un.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case un.ABORTED:return ue.ABORTED;case un.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case un.DATA_LOSS:return ue.DATA_LOSS;default:return Ge(39323,{code:n})}}(_t=un||(un={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Sa([4294967295,4294967295],0);function rE(n){const e=IT().encode(n),t=new wT;return t.update(e),new Uint8Array(t.digest())}function sE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sa([t,r],0),new Sa([a,o],0)]}class P0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Sa.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Sa.fromNumber(r)));return a.compare(cD)===1&&(a=new Sa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=rE(e),[r,a]=sE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new P0(o,a,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=rE(e),[r,a]=sE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new um(Ye.min(),a,new Yt(nt),Ri(),dt())}}class md{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new md(r,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class oS{constructor(e,t){this.targetId=e,this.Ce=t}}class lS{constructor(e,t,r=Bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class iE{constructor(){this.Fe=0,this.Me=aE(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),t=dt(),r=dt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new md(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class uD{constructor(e){this.ze=e,this.je=new Map,this.He=Ri(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Yt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Ry(o))if(r===0){const u=new Le(o.path);this.tt(t,u,Yn.newNoDocument(u,Ye.min()))}else Nt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Oa(r).toUint8Array()}catch(f){if(f instanceof jT)return nc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new P0(u,a,o)}catch(f){return nc(f instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Ry(d.target)){const f=new Le(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Yn.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new um(e,t,this.Ze,this.He,r);return this.He=Ri(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Yt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new iE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _n(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _n(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Qf(){return new Yt(Le.comparator)}function aE(){return new Yt(Le.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},fD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hD={and:"AND",or:"OR"};class mD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iy(n,e){return n.useProto3Json||nm(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pD(n,e){return Mh(n,e.toTimestamp())}function Gs(n){return Nt(!!n,49232),Ye.fromTimestamp(function(t){const r=Ia(t);return new xn(r.seconds,r.nanos)}(n))}function k0(n,e){return Oy(n,e).canonicalString()}function Oy(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uS(n){const e=Bt.fromString(n);return Nt(pS(e),10190,{key:e.toString()}),e}function My(n,e){return k0(n.databaseId,e.path)}function qg(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(fS(t))}function dS(n,e){return k0(n.databaseId,e)}function gD(n){const e=uS(n);return e.length===4?Bt.emptyPath():fS(e)}function Dy(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fS(n){return Nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oE(n,e,t){return{name:My(n,e),fields:t.value.mapValue.fields}}function yD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Nt(y===void 0||typeof y=="string",58123),Bn.fromBase64String(y||"")):(Nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Bn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const y=p.code===void 0?ue.UNKNOWN:aS(p.code);return new we(y,p.message||"")}(u);t=new lS(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=qg(n,r.document.name),o=Gs(r.document.updateTime),u=r.document.createTime?Gs(r.document.createTime):Ye.min(),d=new br({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(a,o,u,d),p=r.targetIds||[],y=r.removedTargetIds||[];t=new uh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=qg(n,r.document),o=r.readTime?Gs(r.readTime):Ye.min(),u=Yn.newNoDocument(a,o),d=r.removedTargetIds||[];t=new uh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=qg(n,r.document),o=r.removedTargetIds||[];t=new uh([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new oD(a,o),d=r.targetId;t=new oS(d,u)}}return t}function vD(n,e){let t;if(e instanceof hd)t={update:oE(n,e.key,e.value)};else if(e instanceof D0)t={delete:My(n,e.key)};else if(e instanceof La)t={update:oE(n,e.key,e.data),updateMask:CD(e.fieldMask)};else{if(!(e instanceof sD))return Ge(16599,{ft:e.type});t={verify:My(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Ku)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oh)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ge(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:pD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function bD(n,e){return n&&n.length>0?(Nt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Gs(a.updateTime):Gs(o);return u.isEqual(Ye.min())&&(u=Gs(o)),new tD(u,a.transformResults||[])}(t,e))):[]}function xD(n,e){return{documents:[dS(n,e.path)]}}function _D(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dS(n,a);const o=function(p){if(p.length!==0)return mS(ys.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Rl(_.field),direction:TD(_.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Iy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function wD(n){let e=gD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Nt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const _=hS(b);return _ instanceof ys&&HT(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(A){return new Qu(Nl(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,nm(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(b){const _=!!b.before,w=b.values||[];return new ac(w,_)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const _=!b.before,w=b.values||[];return new ac(w,_)}(t.endAt)),BM(e,a,u,o,d,"F",f,p)}function ED(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Nl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Nl(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nl(t.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Nl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(r=>hS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function TD(n){return dD[n]}function SD(n){return fD[n]}function AD(n){return hD[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Nl(n){return Un.fromServerFormat(n.fieldPath)}function mS(n){return n instanceof dn?function(t){if(t.op==="=="){if(Kw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:SD(t.op),value:t.value}}}(n):n instanceof ys?function(t){const r=t.getFilters().map(a=>mS(a));return r.length===1?r[0]:{compositeFilter:{op:AD(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function CD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r,a,o=Ye.min(),u=Ye.min(),d=Bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.wt=e}}function ND(n){const e=wD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.yn=new OD}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Na.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class OD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new _n(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new _n(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(gS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new oc(0)}static ir(){return new oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",MD=1048576;function uE([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class DD{constructor(e){this.cr=e,this.buffer=new _n(uE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(cE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mc(t)?Ae(cE,"Ignoring IndexedDB error during garbage collection: ",t):await hc(t)}await this.Ir(3e5)})}}class PD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(tm.le);const r=new DD(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(lE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,d,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),Al()<=ut.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function kD(n,e){return new PD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Lu(r.mutation,a,kr.empty(),xn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dt()){const a=yo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Ru();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,a){let o=Ri();const u=ku(),d=function(){return ku()}();return t.forEach((f,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof La)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Lu(y.mutation,p,y.mutation.getFieldMask(),xn.now())):u.set(p.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var b;return d.set(p,new VD(y,(b=u.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const r=ku();let a=new Yt((u,d)=>u-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||kr.empty();y=d.applyToLocalView(p,y),r.set(f,y);const b=(a.get(d.batchId)||dt()).add(f);a=a.insert(d.batchId,b)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,b=ZT();y.forEach(_=>{if(!o.has(_)){const w=sS(t.get(_),r.get(_));w!==null&&b.set(_,w),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return pe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(yo());let d=qu,f=o;return u.next(p=>pe.forEach(p,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{f=f.insert(y,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,dt())).next(y=>({batchId:d,changes:WT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Ru();return this.indexManager.getCollectionParents(e,o).next(d=>pe.forEach(d,f=>{const p=function(b,_){return new Lo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Yn.newInvalidDocument(y)))});let d=Ru();return u.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Lu(y.mutation,p,kr.empty(),xn.now()),om(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gs(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:ND(a.bundledQuery),readTime:Gs(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new Yt(Le.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=yo(),o=t.length+1,u=new Le(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Yt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=yo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return pe.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new aD(t,r));let o=this.Or.get(t);o===void 0&&(o=dt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Nr=new _n(Rn.Br),this.Lr=new _n(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=dt();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new _n(Rn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new iD(o,t,r,a);this.mutationQueue.push(u);for(const d of a)this.zr=this.zr.add(new Rn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?C0:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const d=this.jr(u.Gr);o.push(d)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(nt);return t.forEach(a=>{const o=new Rn(a,0),u=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Rn(new Le(o),0);let d=new _n(nt);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Gr)),!0)},u),pe.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Nt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Zr=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Yn.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ri();const u=t.path,d=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||bM(vM(y),r)<=0||(a.has(y.key)||om(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GD(this)}getSize(e){return pe.resolve(this.size)}}class GD extends LD{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.persistence=e,this.ei=new Vo(t=>N0(t),I0),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new L0,this.targetCount=0,this.ri=oc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.ii={},this.overlays={},this.si=new tm(0),this.oi=!1,this.oi=!0,this._i=new FD,this.referenceDelegate=e(this),this.ai=new $D(this),this.indexManager=new ID,this.remoteDocumentCache=function(a){return new HD(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new RD(t),this.ci=new UD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new qD(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new QD(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class QD extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class V0{constructor(e){this.persistence=e,this.Ti=new L0,this.Ii=null}static Ei(e){return new V0(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Dh{constructor(e,t){this.persistence=e,this.Ri=new Vo(r=>TM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=kD(this,t)}static Ei(e,t){return new Dh(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=dt(),a=dt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new z0(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return HI()?8:wM(Wn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new KD;return this.fs(e,t,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,u,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Al()<=ut.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Al()<=ut.DEBUG&&Ae("QueryEngine","Query:",Cl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Al()<=ut.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(t))):pe.resolve())}Rs(e,t){if(Zw(t))return pe.resolve(null);let r=Hs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ih(t,null,"F"),r=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dt(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,d);return this.ys(t,p,u,f.readTime)?this.Rs(e,Ih(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,a){return Zw(t)||a.isEqual(Ye.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?pe.resolve(null):(Al()<=ut.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cl(t)),this.ws(e,u,t,yM(a,qu)).next(d=>d))})}ps(e,t){let r=new _n(YT(e));return t.forEach((a,o)=>{om(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Al()<=ut.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.As.getDocumentsMatchingQuery(e,t,Na.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LocalStore",XD=3e8;class WD{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Yt(nt),this.Ds=new Vo(o=>N0(o),I0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function ZD(n,e,t,r){return new WD(n,e,t,r)}async function vS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=dt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:d}))})})}function JD(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,y){const b=p.batch,_=b.keys();let w=pe.resolve();return _.forEach(A=>{w=w.next(()=>y.getEntry(f,A)).next(P=>{const R=p.docVersions.get(A);Nt(R!==null,48541),P.version.compareTo(R)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=dt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function bS(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function e4(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((y,b)=>{const _=a.get(b);if(!_)return;d.push(t.ai.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,b)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Bn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(b,w),function(P,R,I){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=XD?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,w,y)&&d.push(t.ai.updateTargetData(o,w))});let f=Ri(),p=dt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(t4(o,u,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(b=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return pe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=a,o))}function t4(n,e,t){let r=dt(),a=dt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Ri();return t.forEach((d,f)=>{const p=o.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Ae(U0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:a}})}function n4(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=C0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r4(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new va(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function jy(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!mc(u))throw u;Ae(U0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function dE(n,e,t){const r=Xe(n);let a=Ye.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const b=Xe(f),_=b.Ds.get(y);return _!==void 0?pe.resolve(b.Ss.get(_)):b.ai.getTargetData(p,y)}(r,u,Hs(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ye.min(),t?o:dt())).next(d=>(s4(r,qM(e),d),{documents:d,Ns:o})))}function s4(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class fE{constructor(){this.activeTargetIds=YM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i4{constructor(){this.So=new fE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new fE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class mE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(hE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=null;function Py(){return Kf===null?Kf=function(){return 268435456+Math.round(2147483648*Math.random())}():Kf++,"0x"+Kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="RestConnection",o4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=Py(),d=this.$o(e,t.toUriEncodedString());Ae(Hg,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,d,f,r).then(p=>(Ae(Hg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw nc(Hg,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=o4[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class u4 extends l4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Py();return new Promise((u,d)=>{const f=new ET;f.setWithCredentials(!0),f.listenOnce(TT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ah.NO_ERROR:const y=f.getResponseJson();Ae($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case ah.TIMEOUT:Ae($n,`RPC '${e}' ${o} timed out`),d(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=f.getStatus();if(Ae($n,`RPC '${e}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const A=function(R){const I=R.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(I)>=0?I:ue.UNKNOWN}(w.status);d(new we(A,w.message))}else d(new we(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ae($n,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae($n,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Py(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CT(),d=AT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ae($n,`Creating RPC '${e}' stream ${a}: ${y}`,f);const b=u.createWebChannel(y,f);let _=!1,w=!1;const A=new c4({Go:R=>{w?Ae($n,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(_||(Ae($n,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Ae($n,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},zo:()=>b.close()}),P=(R,I,T)=>{R.listen(I,E=>{try{T(E)}catch(L){setTimeout(()=>{throw L},0)}})};return P(b,Cu.EventType.OPEN,()=>{w||(Ae($n,`RPC '${e}' stream ${a} transport opened.`),A.t_())}),P(b,Cu.EventType.CLOSE,()=>{w||(w=!0,Ae($n,`RPC '${e}' stream ${a} transport closed`),A.r_())}),P(b,Cu.EventType.ERROR,R=>{w||(w=!0,nc($n,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),A.r_(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),P(b,Cu.EventType.MESSAGE,R=>{var I;if(!w){const T=R.data[0];Nt(!!T,16349);const E=T,L=(E==null?void 0:E.error)||((I=E[0])===null||I===void 0?void 0:I.error);if(L){Ae($n,`RPC '${e}' stream ${a} received error:`,L);const F=L.status;let B=function(N){const M=un[N];if(M!==void 0)return aS(M)}(F),V=L.message;B===void 0&&(B=ue.INTERNAL,V="Unknown error status: "+F+" with message "+L.message),w=!0,A.r_(new we(B,V)),b.close()}else Ae($n,`RPC '${e}' stream ${a} received:`,T),A.i_(T)}}),P(d,ST.STAT_EVENT,R=>{R.stat===Ey.PROXY?Ae($n,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Ey.NOPROXY&&Ae($n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n){return new mD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class _S{constructor(e,t,r,a,o,u,d,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ci(t.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ae(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d4 extends _S{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=yD(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?Gs(u.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Dy(this.serializer),t.addTarget=function(o,u){let d;const f=u.target;if(d=Ry(f)?{documents:xD(o,f)}:{query:_D(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=cS(o,u.resumeToken);const p=Iy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ye.min())>0){d.readTime=Mh(o,u.snapshotVersion.toTimestamp());const p=Iy(o,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=ED(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Dy(this.serializer),t.removeTarget=e,this.F_(t)}}class f4 extends _S{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=bD(e.writeResults,e.commitTime),r=Gs(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Dy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{}class m4 extends h4{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Oy(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,Oy(t,r),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ue.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class p4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ci(t),this.ea=!1):Ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class g4{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{zo(this)&&(Ae(Io,"Restarting streams for network reachability change."),await async function(f){const p=Xe(f);p.aa.add(4),await pd(p),p.la.set("Unknown"),p.aa.delete(4),await fm(p)}(this))})}),this.la=new p4(r,a)}}async function fm(n){if(zo(n))for(const e of n.ua)await e(!0)}async function pd(n){for(const e of n.ua)await e(!1)}function wS(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),H0(t)?q0(t):pc(t).b_()&&F0(t,e))}function B0(n,e){const t=Xe(n),r=pc(t);t._a.delete(e),r.b_()&&ES(t,e),t._a.size===0&&(r.b_()?r.v_():zo(t)&&t.la.set("Unknown"))}function F0(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pc(n).U_(e)}function ES(n,e){n.ha.Ke(e),pc(n).K_(e)}function q0(n){n.ha=new uD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),pc(n).start(),n.la.ta()}function H0(n){return zo(n)&&!pc(n).w_()&&n._a.size>0}function zo(n){return Xe(n).aa.size===0}function TS(n){n.ha=void 0}async function y4(n){n.la.set("Online")}async function v4(n){n._a.forEach((e,t)=>{F0(n,e)})}async function b4(n,e){TS(n),H0(n)?(n.la.ia(e),q0(n)):n.la.set("Unknown")}async function x4(n,e,t){if(n.la.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Ae(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(n,r)}else if(e instanceof uh?n.ha.Xe(e):e instanceof oS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await bS(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Bn.EMPTY_BYTE_STRING,y.snapshotVersion)),ES(o,f);const b=new va(y.target,f,p,y.sequenceNumber);F0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ae(Io,"Failed to raise snapshot:",r),await jh(n,r)}}async function jh(n,e,t){if(!mc(e))throw e;n.aa.add(1),await pd(n),n.la.set("Offline"),t||(t=()=>bS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Io,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await fm(n)})}function SS(n,e){return e().catch(t=>jh(n,t,e))}async function hm(n){const e=Xe(n),t=Da(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:C0;for(;_4(e);)try{const a=await n4(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,w4(e,a)}catch(a){await jh(e,a)}AS(e)&&CS(e)}function _4(n){return zo(n)&&n.oa.length<10}function w4(n,e){n.oa.push(e);const t=Da(n);t.b_()&&t.W_&&t.G_(e.mutations)}function AS(n){return zo(n)&&!Da(n).w_()&&n.oa.length>0}function CS(n){Da(n).start()}async function E4(n){Da(n).H_()}async function T4(n){const e=Da(n);for(const t of n.oa)e.G_(t.mutations)}async function S4(n,e,t){const r=n.oa.shift(),a=j0.from(r,e,t);await SS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await hm(n)}async function A4(n,e){e&&Da(n).W_&&await async function(r,a){if(function(u){return lD(u)&&u!==ue.ABORTED}(a.code)){const o=r.oa.shift();Da(r).D_(),await SS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await hm(r)}}(n,e),AS(n)&&CS(n)}async function gE(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Io,"RemoteStore received new credentials");const r=zo(t);t.aa.add(3),await pd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await fm(t)}async function C4(n,e){const t=Xe(n);e?(t.aa.delete(2),await fm(t)):e||(t.aa.add(2),await pd(t),t.la.set("Unknown"))}function pc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new d4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:y4.bind(null,n),Jo:v4.bind(null,n),Zo:b4.bind(null,n),Q_:x4.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),H0(n)?q0(n):n.la.set("Unknown")):(await n.Pa.stop(),TS(n))})),n.Pa}function Da(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new f4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:E4.bind(null,n),Zo:A4.bind(null,n),z_:T4.bind(null,n),j_:S4.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await hm(n)):(await n.Ta.stop(),n.oa.length>0&&(Ae(Io,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,d=new G0(e,t,u,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(n,e){if(Ci("AsyncQueue",`${e}: ${n}`),mc(n))return new we(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Ru(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Ia=new Yt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class lc{constructor(e,t,r,a,o,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new lc(e,t,kl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class N4{constructor(){this.queries=vE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=vE(),o.forEach((u,d)=>{for(const f of d.Ra)f.onError(r)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function vE(){return new Vo(n=>KT(n),am)}async function Q0(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new R4,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=$0(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Y0(t)}async function K0(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function I4(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Ra)d.pa(a)&&(r=!0);u.Aa=a}}r&&Y0(t)}function O4(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Y0(n){n.fa.forEach(e=>{e.next()})}var ky,bE;(bE=ky||(ky={})).ya="default",bE.Cache="cache";class X0{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class NS{constructor(e){this.key=e}}class M4{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dt(),this.mutatedKeys=dt(),this.Ua=YT(e),this.Ka=new kl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new yE,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const _=a.get(y),w=om(this.query,b)?b:null,A=!!_&&this.mutatedKeys.has(_.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;_&&w?_.data.isEqual(w.data)?A!==P&&(r.track({type:3,doc:w}),R=!0):this.ja(_,w)||(r.track({type:2,doc:w}),R=!0,(f&&this.Ua(w,f)>0||p&&this.Ua(w,p)<0)&&(d=!0)):!_&&w?(r.track({type:0,doc:w}),R=!0):_&&!w&&(r.track({type:1,doc:_}),R=!0,(f||p)&&(d=!0)),R&&(w?(u=u.add(w),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,b)=>function(w,A){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:R})}};return P(w)-P(A)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new lc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new NS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new RS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return lc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const W0="SyncEngine";class D4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class j4{constructor(e){this.key=e,this.tu=!1}}class P4{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Vo(d=>KT(d),am),this.iu=new Map,this.su=new Set,this.ou=new Yt(Le.comparator),this._u=new Map,this.au=new L0,this.uu={},this.cu=new Map,this.lu=oc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function k4(n,e,t=!0){const r=PS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await IS(r,e,t,!0),a}async function L4(n,e){const t=PS(n);await IS(t,e,!0,!1)}async function IS(n,e,t,r){const a=await r4(n.localStore,Hs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await V4(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&wS(n.remoteStore,a),d}async function V4(n,e,t,r,a){n.Pu=(b,_,w)=>async function(P,R,I,T){let E=R.view.Ga(I);E.ys&&(E=await dE(P.localStore,R.query,!1).then(({documents:V})=>R.view.Ga(V,E)));const L=T&&T.targetChanges.get(R.targetId),F=T&&T.targetMismatches.get(R.targetId)!=null,B=R.view.applyChanges(E,P.isPrimaryClient,L,F);return _E(P,R.targetId,B.Ya),B.snapshot}(n,b,_,w);const o=await dE(n.localStore,e,!0),u=new M4(e,o.Ns),d=u.Ga(o.documents),f=md.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,f);_E(n,t,p.Ya);const y=new D4(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function z4(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!am(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&B0(r.remoteStore,a.targetId),Ly(r,a.targetId)}).catch(hc)):(Ly(r,a.targetId),await jy(r.localStore,a.targetId,!0))}async function U4(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),B0(t.remoteStore,r.targetId))}async function B4(n,e,t){const r=K4(n);try{const a=await function(u,d){const f=Xe(u),p=xn.now(),y=d.reduce((w,A)=>w.add(A.key),dt());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Ri(),P=dt();return f.Cs.getEntries(w,y).next(R=>{A=R,A.forEach((I,T)=>{T.isValidDocument()||(P=P.add(I))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,A)).next(R=>{b=R;const I=[];for(const T of d){const E=rD(T,b.get(T.key).overlayedDocument);E!=null&&I.push(new La(T.key,E,BT(E.value.mapValue),ns.exists(!0)))}return f.mutationQueue.addMutationBatch(w,p,I,d)}).next(R=>{_=R;const I=R.applyToLocalDocumentSet(b,P);return f.documentOverlayCache.saveOverlays(w,R.batchId,I)})}).then(()=>({batchId:_.batchId,changes:WT(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,d,f){let p=u.uu[u.currentUser.toKey()];p||(p=new Yt(nt)),p=p.insert(d,f),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,t),await gd(r,a.changes),await hm(r.remoteStore)}catch(a){const o=$0(a,"Failed to persist write");t.reject(o)}}async function OS(n,e){const t=Xe(n);try{const r=await e4(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Nt(u.tu,14607):a.removedDocuments.size>0&&(Nt(u.tu,42227),u.tu=!1))}),await gd(t,r,e)}catch(r){await hc(r)}}function xE(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const f=Xe(u);f.onlineState=d;let p=!1;f.queries.forEach((y,b)=>{for(const _ of b.Ra)_.ga(d)&&(p=!0)}),p&&Y0(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F4(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Yt(Le.comparator);u=u.insert(o,Yn.newNoDocument(o,Ye.min()));const d=dt().add(o),f=new um(Ye.min(),new Map,new Yt(nt),u,d);await OS(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Z0(r)}else await jy(r.localStore,e,!1).then(()=>Ly(r,e,t)).catch(hc)}async function q4(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await JD(t.localStore,e);DS(t,r,null),MS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gd(t,a)}catch(a){await hc(a)}}async function H4(n,e,t){const r=Xe(n);try{const a=await function(u,d){const f=Xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next(b=>(Nt(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(p,b))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);DS(r,e,t),MS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gd(r,a)}catch(a){await hc(a)}}function MS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function DS(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Ly(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||jS(n,r)})}function jS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(B0(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Z0(n))}function _E(n,e,t){for(const r of t)r instanceof RS?(n.au.addReference(r.key,e),G4(n,r)):r instanceof NS?(Ae(W0,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||jS(n,r.key)):Ge(19791,{Iu:r})}function G4(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ae(W0,"New document in limbo: "+t),n.su.add(r),Z0(n))}function Z0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new j4(t)),n.ou=n.ou.insert(t,r),wS(n.remoteStore,new va(Hs(im(t.path)),r,"TargetPurposeLimboResolution",tm.le))}}async function gd(n,e,t){const r=Xe(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,f)=>{u.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){a.push(p);const b=z0.Ps(f.targetId,p);o.push(b)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,p){const y=Xe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>pe.forEach(p,_=>pe.forEach(_.ls,w=>y.persistence.referenceDelegate.addReference(b,_.targetId,w)).next(()=>pe.forEach(_.hs,w=>y.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))}catch(b){if(!mc(b))throw b;Ae(U0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const w=y.Ss.get(_),A=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(_,P)}}}(r.localStore,o))}async function $4(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ae(W0,"User change. New user:",e.toKey());const r=await vS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(f=>{f.reject(new we(ue.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(t,r.Ms)}}function Q4(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return dt().add(r.key);{let a=dt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const d=t.ru.get(u);a=a.unionWith(d.view.Wa)}return a}}function PS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F4.bind(null,e),e.nu.Q_=I4.bind(null,e.eventManager),e.nu.Tu=O4.bind(null,e.eventManager),e}function K4(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H4.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return ZD(this.persistence,new YD,e.initialUser,this.serializer)}Ru(e){return new yS(V0.Ei,this.serializer)}Au(e){return new i4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Y4 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Nt(this.persistence.referenceDelegate instanceof Dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jD(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new yS(r=>Dh.Ei(r,t),this.serializer)}}class Vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N4}()}createDatastore(e){const t=dm(e.databaseInfo.databaseId),r=function(o){return new u4(o)}(e.databaseInfo);return function(o,u,d,f){return new m4(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,d){return new g4(r,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>xE(this.syncEngine,t,0),function(){return mE.C()?new mE:new a4}())}createSyncEngine(e,t){return function(a,o,u,d,f,p,y){const b=new P4(a,o,u,d,f,p);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ae(Io,"RemoteStore shutting down."),o.aa.add(5),await pd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class X4{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Kn.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(ja,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(ja,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $g(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(ja,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await vS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await W4(n);Ae(ja,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>gE(e.remoteStore,a)),n._onlineComponents=e}async function W4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(ja,"Using user provided OfflineComponentProvider");try{await $g(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nc("Error using user provided cache. Falling back to memory cache: "+t),await $g(n,new Ph)}}else Ae(ja,"Using default OfflineComponentProvider"),await $g(n,new Y4(void 0));return n._offlineComponents}async function kS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(ja,"Using user provided OnlineComponentProvider"),await wE(n,n._uninitializedComponentsProvider._online)):(Ae(ja,"Using default OnlineComponentProvider"),await wE(n,new Vy))),n._onlineComponents}function Z4(n){return kS(n).then(e=>e.syncEngine)}async function kh(n){const e=await kS(n),t=e.eventManager;return t.onListen=k4.bind(null,e.syncEngine),t.onUnlisten=z4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U4.bind(null,e.syncEngine),t}function J4(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,p){const y=new J0({next:_=>{y.yu(),u.enqueueAndForget(()=>K0(o,b));const w=_.docs.has(d);!w&&_.fromCache?p.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&f&&f.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new X0(im(d.path),y,{includeMetadataChanges:!0,Fa:!0});return Q0(o,b)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}function ej(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,p){const y=new J0({next:_=>{y.yu(),u.enqueueAndForget(()=>K0(o,b)),_.fromCache&&f.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new X0(d,y,{includeMetadataChanges:!0,Fa:!0});return Q0(o,b)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e,t){if(!t)throw new we(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tj(n,e,t,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TE(n){if(!Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SE(n){if(Le.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mm(n);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firestore.googleapis.com",AE=!0;class CE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zS,this.ssl=AE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MD)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=EE.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),EE.delete(t),r.terminate())}(this),Promise.resolve()}}function nj(n,e,t,r={}){var a;const o=(n=xr(n,pm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==zS&&o.host!==d&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Co(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Kn.MOCK_USER;else{p=LI(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Kn(b)}n._authCredentials=new cM(new NT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va=class US{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new US(this.firestore,e,this._query)}};class Xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Aa extends Va{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Le(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Lr(n,e,...t){if(n=fn(n),VS("collection","path",e),n instanceof pm){const r=Bt.fromString(e,...t);return SE(r),new Aa(n,null,r)}{if(!(n instanceof Xn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return SE(r),new Aa(n.firestore,null,r)}}function Oo(n,e,...t){if(n=fn(n),arguments.length===1&&(e=OT.newId()),VS("doc","path",e),n instanceof pm){const r=Bt.fromString(e,...t);return TE(r),new Xn(n,null,new Le(r))}{if(!(n instanceof Xn||n instanceof Aa))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return TE(r),new Xn(n.firestore,n instanceof Aa?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xS(this,"async_queue_retry"),this.ju=()=>{const r=Gg();r&&Ae(RE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!mc(e))throw e;Ae(RE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ci("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=G0.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:IE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function IE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ni extends pm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new NE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function rj(n,e){const t=typeof n=="object"?n:bT(),r=typeof n=="string"?n:Ch,a=S0(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=PI("firestore");o&&nj(a,...o)}return a}function gm(n){if(n._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sj(n),n._firestoreClient}function sj(n){var e,t,r;const a=n._freezeSettings(),o=function(d,f,p,y){return new CM(d,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,LS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new X4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Bn.fromBase64String(e))}catch(t){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cc(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^__.*__$/;class aj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new hd(e,this.data,t,this.fieldTransforms)}}class BS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class nv{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Lh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(FS(this.oc)&&ij.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class oj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dm(e)}dc(e,t,r,a=!1){return new nv({oc:e,methodName:t,Ec:r,path:Un.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yd(n){const e=n._freezeSettings(),t=dm(n._databaseId);return new oj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);sv("Data must be an object, but it was:",u,r);const d=GS(r,u);let f,p;if(o.merge)f=new kr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=zy(e,b,t);if(!u.contains(_))throw new we(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QS(y,_)||y.push(_)}f=new kr(y),p=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,p=u.fieldTransforms;return new aj(new br(d),f,p)}class bm extends vm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}class rv extends vm{_toFieldTransform(e){return new JM(e.path,new Ku)}isEqual(e){return e instanceof rv}}function lj(n,e,t,r){const a=n.dc(1,e,t);sv("Data must be an object, but it was:",a,r);const o=[],u=br.empty();ka(r,(f,p)=>{const y=iv(e,f,t);p=fn(p);const b=a.hc(y);if(p instanceof bm)o.push(y);else{const _=vd(p,b);_!=null&&(o.push(y),u.set(y,_))}});const d=new kr(o);return new BS(u,d,a.fieldTransforms)}function cj(n,e,t,r,a,o){const u=n.dc(1,e,t),d=[zy(e,r,t)],f=[a];if(o.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(zy(e,o[_])),f.push(o[_+1]);const p=[],y=br.empty();for(let _=d.length-1;_>=0;--_)if(!QS(p,d[_])){const w=d[_];let A=f[_];A=fn(A);const P=u.hc(w);if(A instanceof bm)p.push(w);else{const R=vd(A,P);R!=null&&(p.push(w),y.set(w,R))}}const b=new kr(p);return new BS(y,b,u.fieldTransforms)}function HS(n,e,t,r=!1){return vd(t,n.dc(r?4:3,e))}function vd(n,e){if($S(n=fn(n)))return sv("Unsupported field value:",e,n),GS(n,e);if(n instanceof vm)return function(r,a){if(!FS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const d of r){let f=vd(d,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xn.fromDate(r);return{timestampValue:Mh(a.serializer,o)}}if(r instanceof xn){const o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(a.serializer,o)}}if(r instanceof ev)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:cS(a.serializer,r._byteString)};if(r instanceof Xn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:k0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof tv)return function(u,d){return{mapValue:{fields:{[zT]:{stringValue:UT},[Rh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return M0(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${mm(r)}`)}(n,e)}function GS(n,e){const t={};return DT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(r,a)=>{const o=vd(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $S(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof ev||n instanceof cc||n instanceof Xn||n instanceof vm||n instanceof tv)}function sv(n,e,t){if(!$S(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=mm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function zy(n,e,t){if((e=fn(e))instanceof ym)return e._internalPath;if(typeof e=="string")return iv(n,e);throw Lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const uj=new RegExp("[~\\*/\\[\\]]");function iv(n,e,t){if(e.search(uj)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ym(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lh(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new we(ue.INVALID_ARGUMENT,d+n+f)}function QS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dj extends av{data(){return super.data()}}function xm(n,e){return typeof e=="string"?iv(n,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class _m extends ov{}function Mo(n,e,...t){let r=[];e instanceof ov&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof lv).length,d=o.filter(f=>f instanceof wm).length;if(u>1||u>0&&d>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class wm extends _m{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=this._parse(e);return XS(e._query,t),new Va(e.firestore,e.converter,Ny(e._query,t))}_parse(e){const t=yd(e.firestore);return function(o,u,d,f,p,y,b){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){DE(b,y);const A=[];for(const P of b)A.push(ME(f,o,P));_={arrayValue:{values:A}}}else _=ME(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||DE(b,y),_=HS(d,u,b,y==="in"||y==="not-in");return dn.create(p,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(n,e,t){const r=e,a=xm("where",n);return wm._create(a,r,t)}class lv extends ov{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const f of d)XS(u,f),u=Ny(u,f)}(e._query,t),new Va(e.firestore,e.converter,Ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends _m{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(o,u)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Lo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function fj(n,e="asc"){const t=e,r=xm("orderBy",n);return cv._create(r,t)}class uv extends _m{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new uv(e,t,r)}_apply(e){return new Va(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function Vh(n){return uv._create("limit",n,"F")}class dv extends _m{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dv(e,t,r)}_apply(e){const t=hj(e,this.type,this._docOrFields,this._inclusive);return new Va(e.firestore,e.converter,function(a,o){return new Lo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function YS(...n){return dv._create("startAfter",n,!1)}function hj(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof av)return function(o,u,d,f,p){if(!f)throw new we(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const b of Pl(o))if(b.field.isKeyField())y.push(Nh(u,f.key));else{const _=f.data.field(b.field);if(rm(_))throw new we(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const w=b.field.canonicalString();throw new we(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}y.push(_)}return new ac(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=yd(n.firestore);return function(u,d,f,p,y,b){const _=u.explicitOrderBy;if(y.length>_.length)throw new we(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<y.length;A++){const P=y[A];if(_[A].field.isKeyField()){if(typeof P!="string")throw new we(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!O0(u)&&P.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const R=u.path.child(Bt.fromString(P));if(!Le.isDocumentKey(R))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const I=new Le(R);w.push(Nh(d,I))}else{const R=HS(f,p,P);w.push(R)}}return new ac(w,b)}(n._query,n.firestore._databaseId,a,e,t,r)}}function ME(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&t.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nh(n,new Le(r))}if(t instanceof Xn)return Nh(n,t._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(t)}.`)}function DE(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XS(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mj{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ka(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>nn(u.doubleValue));return new tv(o)}convertGeoPoint(e){return new ev(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=Ia(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);Nt(pS(r),9688,{name:e});const a=new Gu(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ci(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZS extends av{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dh extends ZS{data(e={}){return super.data(e)}}class JS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dh(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const f=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Iu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:pj(d.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){n=xr(n,Xn);const e=xr(n.firestore,Ni);return J4(gm(e),n._key).then(t=>n2(e,n,t))}class fv extends mj{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function za(n){n=xr(n,Va);const e=xr(n.firestore,Ni),t=gm(e),r=new fv(e);return KS(n._query),ej(t,n._query).then(a=>new JS(e,r,n,a))}function hv(n,e,t){n=xr(n,Xn);const r=xr(n.firestore,Ni),a=WS(n.converter,e,t);return Em(r,[qS(yd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ns.none())])}function gj(n,e,t,...r){n=xr(n,Xn);const a=xr(n.firestore,Ni),o=yd(a);let u;return u=typeof(e=fn(e))=="string"||e instanceof ym?cj(o,"updateDoc",n._key,e,t,r):lj(o,"updateDoc",n._key,e),Em(a,[u.toMutation(n._key,ns.exists(!0))])}function yj(n){return Em(xr(n.firestore,Ni),[new D0(n._key,ns.none())])}function t2(n,e){const t=xr(n.firestore,Ni),r=Oo(n),a=WS(n.converter,e);return Em(t,[qS(yd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then(()=>r)}function vj(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||OE(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(OE(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let f,p,y;if(n instanceof Xn)p=xr(n.firestore,Ni),y=im(n._key.path),f={next:b=>{e[u]&&e[u](n2(p,n,b))},error:e[u+1],complete:e[u+2]};else{const b=xr(n,Va);p=xr(b.firestore,Ni),y=b._query;const _=new fv(p);f={next:w=>{e[u]&&e[u](new JS(p,_,b,w))},error:e[u+1],complete:e[u+2]},KS(n._query)}return function(_,w,A,P){const R=new J0(P),I=new X0(w,R,A);return _.asyncQueue.enqueueAndForget(async()=>Q0(await kh(_),I)),()=>{R.yu(),_.asyncQueue.enqueueAndForget(async()=>K0(await kh(_),I))}}(gm(p),y,d,f)}function Em(n,e){return function(r,a){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>B4(await Z4(r),a,o)),o.promise}(gm(n),e)}function n2(n,e,t){const r=t.docs.get(e._key),a=new fv(n);return new ZS(n,a,e._key,r,new Iu(t.hasPendingWrites,t.fromCache),e.converter)}function bj(){return new rv("serverTimestamp")}(function(e,t=!0){(function(a){fc=a})(dc),tc(new Ro("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new Ni(new uM(r.getProvider("auth-internal")),new hM(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(p.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ta(Pw,kw,e),Ta(Pw,kw,"esm2017")})();var xj="firebase",_j="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(xj,_j,"app");function mv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function r2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wj=r2,s2=new dd("auth","Firebase",r2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new E0("@firebase/auth");function Ej(n,...e){zh.logLevel<=ut.WARN&&zh.warn(`Auth (${dc}): ${n}`,...e)}function fh(n,...e){zh.logLevel<=ut.ERROR&&zh.error(`Auth (${dc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,...e){throw pv(n,...e)}function $s(n,...e){return pv(n,...e)}function i2(n,e,t){const r=Object.assign(Object.assign({},wj()),{[e]:t});return new dd("auth","Firebase",r).create(e,{appName:n.name})}function Ca(n){return i2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return s2.create(n,...e)}function He(n,e,...t){if(!n)throw pv(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fh(e),new Error(e)}function Ii(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Tj(){return jE()==="http:"||jE()==="https:"}function jE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tj()||BI()||"connection"in navigator)?navigator.onLine:!0}function Aj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=VI()||FI()}get(){return Sj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n,e){Ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nj=new bd(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ua(n,e,t,r,a={}){return o2(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=fd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return UI()||(p.referrerPolicy="no-referrer"),a2.fetch()(await l2(n,n.config.apiHost,t,d),p)})}async function o2(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Cj),e);try{const a=new Oj(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Yf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yf(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw i2(n,y,p);vs(n,y)}}catch(a){if(a instanceof Oi)throw a;vs(n,"network-request-failed",{message:String(a)})}}async function Tm(n,e,t,r,a={}){const o=await Ua(n,e,t,r,a);return"mfaPendingCredential"in o&&vs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function l2(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?gv(n.config,a):`${n.config.apiScheme}://${a}`;return Rj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function Ij(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Oj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),Nj.get())})}}function Yf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=$s(n,e,r);return a.customData._tokenResponse=t,a}function PE(n){return n!==void 0&&n.enterprise!==void 0}class Mj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ij(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dj(n,e){return Ua(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(n,e){return Ua(n,"POST","/v1/accounts:delete",e)}async function Uh(n,e){return Ua(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pj(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=yv(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Vu(Qg(a.auth_time)),issuedAtTime:Vu(Qg(a.iat)),expirationTime:Vu(Qg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qg(n){return Number(n)*1e3}function yv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const a=fT(t);return a?JSON.parse(a):(fh("Failed to decode base64 JWT payload"),null)}catch(a){return fh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kE(n){const e=yv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Oi&&kj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Wu(n,Uh(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?c2(o.providerUserInfo):[],d=zj(n.providerData,u),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),y=f?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new By(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function Vj(n){const e=fn(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zj(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function c2(n){return n.map(e=>{var{providerId:t}=e,r=mv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(n,e){const t=await o2(n,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await l2(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",a2.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Bj(n,e){return Ua(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=kE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await Uj(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ll;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new By(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Pj(this,e)}reload(){return Vj(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await Wu(this,jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,d,f,p,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(d=t.tenantId)!==null&&d!==void 0?d:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,I=(p=t.createdAt)!==null&&p!==void 0?p:void 0,T=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:E,emailVerified:L,isAnonymous:F,providerData:B,stsTokenManager:V}=t;He(E&&V,e,"internal-error");const O=Ll.fromJSON(this.name,V);He(typeof E=="string",e,"internal-error"),na(b,e.name),na(_,e.name),He(typeof L=="boolean",e,"internal-error"),He(typeof F=="boolean",e,"internal-error"),na(w,e.name),na(A,e.name),na(P,e.name),na(R,e.name),na(I,e.name),na(T,e.name);const N=new ms({uid:E,auth:e,email:_,emailVerified:L,displayName:b,isAnonymous:F,photoURL:A,phoneNumber:w,tenantId:P,stsTokenManager:O,createdAt:I,lastLoginAt:T});return B&&Array.isArray(B)&&(N.providerData=B.map(M=>Object.assign({},M))),R&&(N._redirectEventId=R),N}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ll;a.updateFromServerResponse(t);const o=new ms({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Bh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?c2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Ll;d.updateFromIdToken(r);const f=new ms({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Ti(n){Ii(n instanceof Function,"Expected a class definition");let e=LE.get(n);return e?(Ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}u2.type="NONE";const VE=u2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,e,t){return`firebase:${n}:${e}:${t}`}class Vl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=hh(this.userKey,a.apiKey,o),this.fullPersistenceKey=hh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Vl(Ti(VE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ti(VE);const u=hh(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const _=await Uh(e,{idToken:y}).catch(()=>{});if(!_)break;b=await ms._fromGetAccountInfoResponse(e,_,y)}else b=ms._fromJSON(e,y);p!==o&&(d=b),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Vl(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Vl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g2(e))return"Blackberry";if(y2(e))return"Webos";if(f2(e))return"Safari";if((e.includes("chrome/")||h2(e))&&!e.includes("edge/"))return"Chrome";if(p2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d2(n=Wn()){return/firefox\//i.test(n)}function f2(n=Wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h2(n=Wn()){return/crios\//i.test(n)}function m2(n=Wn()){return/iemobile/i.test(n)}function p2(n=Wn()){return/android/i.test(n)}function g2(n=Wn()){return/blackberry/i.test(n)}function y2(n=Wn()){return/webos/i.test(n)}function vv(n=Wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fj(n=Wn()){var e;return vv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qj(){return qI()&&document.documentMode===10}function v2(n=Wn()){return vv(n)||p2(n)||y2(n)||g2(n)||/windows phone/i.test(n)||m2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e=[]){let t;switch(n){case"Browser":t=zE(Wn());break;case"Worker":t=`${zE(Wn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(n,e={}){return Ua(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=6;class Qj{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:$j,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new Hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Aj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Ca(this));const t=e?fn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gj(this),t=new Qj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ej(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gc(n){return fn(n)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=WI(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yj(n){Sm=n}function x2(n){return Sm.loadJS(n)}function Xj(){return Sm.recaptchaEnterpriseScript}function Wj(){return Sm.gapiScript}function Zj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Jj{constructor(){this.enterprise=new eP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tP="recaptcha-enterprise",_2="NO_RECAPTCHA";class nP{constructor(e){this.type=tP,this.auth=gc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{Dj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Mj(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function a(o,u,d){const f=window.grecaptcha;PE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(_2)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&PE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Xj();f.length!==0&&(f+=d),x2(f).then(()=>{a(d,o,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function BE(n,e,t,r=!1,a=!1){const o=new nP(n);let u;if(a)u=_2;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function FE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await BE(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await BE(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n,e){const t=S0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Co(o,e??{}))return a;vs(a,"already-initialized")}return t.initialize({options:e})}function sP(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iP(n,e,t){const r=gc(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=w2(e),{host:u,port:d}=aP(e),f=d===null?"":`:${d}`,p={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Co(p,r.config.emulator)&&Co(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,oP()}function w2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aP(n){const e=w2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:qE(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:qE(u)}}}function qE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function oP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function lP(n,e){return Ua(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e){return Tm(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,e){return Tm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function dP(n,e){return Tm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends bv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,t,"signInWithPassword",cP);case"emailLink":return uP(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,r,"signUpPassword",lP);case"emailLink":return dP(e,{idToken:t,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return Tm(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="http://localhost";class Do extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=mv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Do(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,zl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:fP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mP(n){const e=Su(Au(n)).link,t=e?Su(Au(e)).deep_link_id:null,r=Su(Au(n)).deep_link_id;return(r?Su(Au(r)).link:null)||r||t||e||n}class xv{constructor(e){var t,r,a,o,u,d;const f=Su(Au(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,b=hP((a=f.mode)!==null&&a!==void 0?a:null);He(p&&y&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=mP(e);try{return new xv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,t){return Zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xv.parseLink(t);return He(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends E2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends xd{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends xd{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends xd{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ca.credential(t,r)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await ms._fromIdTokenResponse(e,r,a),u=HE(r);return new uc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=HE(r);return new uc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function HE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Oi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Fh(e,t,r,a)}}function T2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,o,e,r):o})}async function pP(n,e,t=!1){const r=await Wu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e,t=!1){const{auth:r}=n;if(hs(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const o=await Wu(n,T2(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=yv(o.idToken);He(u,r,"internal-error");const{sub:d}=u;return He(n.uid===d,r,"user-mismatch"),uc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(n,e,t=!1){if(hs(n.app))return Promise.reject(Ca(n));const r="signIn",a=await T2(n,r,e),o=await uc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function yP(n,e){return S2(gc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n){const e=gc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function bP(n,e,t){return hs(n.app)?Promise.reject(Ca(n)):yP(fn(n),yc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vP(n),r})}function xP(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function _P(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function wP(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function EP(n){return fn(n).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=1e3,SP=10;class C2 extends A2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);qj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SP):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C2.type="LOCAL";const AP=C2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2 extends A2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}R2.type="SESSION";const N2=R2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,o)),f=await CP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const p=_v("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function NP(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function IP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MP(){return I2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebaseLocalStorageDb",DP=1,Hh="firebaseLocalStorage",M2="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cm(n,e){return n.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function jP(){const n=indexedDB.deleteDatabase(O2);return new _d(n).toPromise()}function Fy(){const n=indexedDB.open(O2,DP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hh,{keyPath:M2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await jP(),e(await Fy()))})})}async function GE(n,e,t){const r=Cm(n,!0).put({[M2]:e,value:t});return new _d(r).toPromise()}async function PP(n,e){const t=Cm(n,!1).get(e),r=await new _d(t).toPromise();return r===void 0?null:r.value}function $E(n,e){const t=Cm(n,!0).delete(e);return new _d(t).toPromise()}const kP=800,LP=3;class D2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>LP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Am._getInstance(MP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await IP(),!this.activeServiceWorker)return;this.sender=new RP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fy();return await GE(e,qh,"1"),await $E(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>GE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>PP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Cm(a,!1).getAll();return new _d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D2.type="LOCAL";const VP=D2;new bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n,e){return e?Ti(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UP(n){return S2(n.auth,new wv(n),n.bypassAuthState)}function BP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),gP(t,new wv(n),n.bypassAuthState)}async function FP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),pP(t,new wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UP;case"linkViaPopup":case"linkViaRedirect":return FP;case"reauthViaPopup":case"reauthViaRedirect":return BP;default:vs(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new bd(2e3,1e4);class Ol extends j2{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qP.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="pendingRedirect",mh=new Map;class GP extends j2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await $P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $P(n,e){const t=YP(e),r=KP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function QP(n,e){mh.set(n._key(),e)}function KP(n){return Ti(n._redirectPersistence)}function YP(n){return hh(HP,n.config.apiKey,n.name)}async function XP(n,e,t=!1){if(hs(n.app))return Promise.reject(Ca(n));const r=gc(n),a=zP(r,e),u=await new GP(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=10*60*1e3;class ZP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!P2(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($s(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WP&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(n,e={}){return Ua(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;async function r3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await e3(n);for(const t of e)try{if(s3(t))return}catch{}vs(n,"unauthorized-domain")}function s3(n){const e=Uy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!n3.test(t))return!1;if(t3.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new bd(3e4,6e4);function KE(){const n=Qs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function a3(n){return new Promise((e,t)=>{var r,a,o;function u(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),t($s(n,"network-request-failed"))},timeout:i3.get()})}if(!((a=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Qs().gapi)===null||o===void 0)&&o.load)u();else{const d=Zj("iframefcb");return Qs()[d]=()=>{gapi.load?u():t($s(n,"network-request-failed"))},x2(`${Wj()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw ph=null,e})}let ph=null;function o3(n){return ph=ph||a3(n),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new bd(5e3,15e3),c3="__/auth/iframe",u3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h3(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gv(e,u3):`https://${n.config.authDomain}/${c3}`,r={apiKey:e.apiKey,appName:n.name,v:dc},a=f3.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${fd(r).slice(1)}`}async function m3(n){const e=await o3(n),t=Qs().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:h3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=$s(n,"network-request-failed"),d=Qs().setTimeout(()=>{o(u)},l3.get());function f(){Qs().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g3=500,y3=600,v3="_blank",b3="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x3(n,e,t,r=g3,a=y3){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},p3),{width:r.toString(),height:a.toString(),top:o,left:u}),p=Wn().toLowerCase();t&&(d=h2(p)?v3:t),d2(p)&&(e=e||b3,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[w,A])=>`${_}${w}=${A},`,"");if(Fj(p)&&d!=="_self")return _3(e||"",d),new YE(null);const b=window.open(e||"",d,y);He(b,n,"popup-blocked");try{b.focus()}catch{}return new YE(b)}function _3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="__/auth/handler",E3="emulator/auth/handler",T3=encodeURIComponent("fac");async function XE(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:dc,eventId:a};if(e instanceof E2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",XI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof xd){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await n._getAppCheckToken(),p=f?`#${T3}=${encodeURIComponent(f)}`:"";return`${S3(n)}?${fd(d).slice(1)}${p}`}function S3({config:n}){return n.emulator?gv(n,E3):`https://${n.authDomain}/${w3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="webStorageSupport";class A3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=XP,this._overrideRedirectResult=QP}async _openPopup(e,t,r,a){var o;Ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await XE(e,t,r,Uy(),a);return x3(e,u,_v())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await XE(e,t,r,Uy(),a);return NP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await m3(e),r=new ZP(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kg,{type:Kg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Kg];u!==void 0&&t(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v2()||f2()||vv()}}const C3=A3;var WE="@firebase/auth",ZE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I3(n){tc(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b2(n)},p=new Kj(r,a,o,f);return sP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),tc(new Ro("auth-internal",e=>{const t=gc(e.getProvider("auth").getImmediate());return(r=>new R3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(WE,ZE,N3(n)),Ta(WE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=5*60,M3=pT("authIdTokenMaxAge")||O3;let JE=null;const D3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>M3)return;const a=t==null?void 0:t.token;JE!==a&&(JE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function j3(n=bT()){const e=S0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rP(n,{popupRedirectResolver:C3,persistence:[VP,AP,N2]}),r=pT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=D3(o.toString());_P(t,u,()=>u(t.currentUser)),xP(t,d=>u(d))}}const a=hT("auth");return a&&iP(t,`http://${a}`),t}function P3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Yj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=$s("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",P3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I3("Browser");const k3={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},L3=vT(k3),Yg=j3(),bn=rj(L3),V3=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await za(Lr(bn,"headline")),a=[];r.forEach(o=>{const u=o.data();u.news&&a.push(u.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),m.jsxs("div",{className:"w-[100%] md:w-[75%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[m.jsx("div",{className:"shrink-0 whitespace-nowrap text-[14px]",children:m.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})}),m.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:m.jsx(oT,{children:n.map((t,r)=>m.jsx("span",{className:"mx-4",children:t},r))})}),m.jsxs("div",{className:"flex flex-row gap-1 md:gap-2 shrink-0",children:[m.jsx("a",{href:"",children:m.jsx(TI,{})}),m.jsx("a",{href:"",children:m.jsx(AI,{})}),m.jsx("a",{href:"",children:m.jsx(SI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),e1=n=>{const e=U3(n);return e.charAt(0).toUpperCase()+e.slice(1)},k2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),B3=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...d},f)=>q.createElement("svg",{ref:f,...F3,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:k2("lucide",a),...!o&&!B3(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(q3,{ref:o,iconNode:e,className:k2(`lucide-${z3(e1(n))}`,`lucide-${n}`,r),...a}));return t.displayName=e1(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G3=lr("chevron-down",H3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Q3=lr("chevron-up",$3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xg=lr("clock",K3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],X3=lr("facebook",Y3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Z3=lr("house",W3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ek=lr("instagram",J3);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],nk=lr("list",tk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sk=lr("mail",rk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ak=lr("map-pin",ik);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],lk=lr("menu",ok);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],L2=lr("phone",ck);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wg=lr("search",uk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zg=lr("shopping-cart",dk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],hk=lr("twitter",fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pk=lr("x",mk),qy="/assets/Untitled%20design%20(1)-d8yNnjIf.png",gk=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[u,d]=q.useState([]),[f,p]=q.useState(!0),[y,b]=q.useState(0);q.useEffect(()=>{(async()=>{try{const A=Mo(Lr(bn,"menu-categories"),fj("order")),P=await za(A),R=[];P.forEach(I=>{R.push({id:I.id,...I.data()})}),d(R),p(!1)}catch(A){console.error("Error fetching menu items:",A),p(!1)}})()},[]),q.useEffect(()=>{const w=()=>{const P=(JSON.parse(localStorage.getItem("cart"))||[]).reduce((R,I)=>R+I.quantity,0);b(P)};return w(),window.addEventListener("storage",w),window.addEventListener("cartUpdated",w),()=>{window.removeEventListener("storage",w),window.removeEventListener("cartUpdated",w)}},[]);const _=w=>{o(A=>A===w?null:w)};return f?m.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsx(gt,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),u.map(w=>w.type==="dropdown"?m.jsxs("div",{className:"group relative",children:[m.jsx(gt,{to:`/category/${w.id}`,className:"text-gray-700 hover:text-black capitalize",children:w.id}),m.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:w.items.map(A=>m.jsx(gt,{to:`${A.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:A.name},A.path))})]},w.id):m.jsx(gt,{to:w.path,className:"text-gray-700 hover:text-black capitalize",children:w.id},w.id))]}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(gt,{to:"/",children:m.jsx("img",{src:qy,alt:"Brand Logo",className:"h-[190px] w-auto"})})}),m.jsxs("div",{className:"flex space-x-6 items-center",children:[m.jsxs("div",{className:"group relative",children:[m.jsx(gt,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),m.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:u.filter(w=>w.type==="dropdown").map(w=>m.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:w.id}),m.jsx("div",{className:"space-y-1",children:w.items.map(A=>m.jsx(gt,{to:`${A.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:A.name},A.path))})]},w.id))})]}),m.jsx(gt,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),m.jsxs(gt,{to:"/cart",className:"text-gray-700 hover:text-black relative",children:[m.jsx(Zg,{size:20}),y>0&&m.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{className:"relative flex items-center",children:[m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(Wg,{size:20})}),t&&m.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]})]}),m.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>e(!n),children:n?m.jsx(pk,{size:24}):m.jsx(lk,{size:24})})}),m.jsx("div",{className:"flex justify-center items-center z-50",children:m.jsx(gt,{to:"/",children:m.jsx("img",{src:qy,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),m.jsx("div",{className:"flex items-center",children:m.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:m.jsx(Wg,{size:24})})})]})]}),n&&m.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[m.jsx(gt,{to:"/",className:"block font-semibold",children:"Home"}),u.map(w=>w.type==="dropdown"?m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>_(w.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[w.id,a===w.id?m.jsx(Q3,{size:18}):m.jsx(G3,{size:18})]}),a===w.id&&m.jsx("div",{className:"ml-4 mt-2 space-y-1",children:w.items.map(A=>m.jsx(gt,{to:`${A.path}`,className:"block capitalize",children:A.name},A.path))})]},w.id):m.jsx(gt,{to:w.path,className:"block font-semibold capitalize",children:w.id},w.id)),m.jsx(gt,{to:"/orders",className:"block font-semibold",children:"Orders"}),m.jsxs(gt,{to:"/cart",className:"flex items-center space-x-2 relative",children:[m.jsx(Zg,{size:20}),m.jsx("span",{children:"Cart"}),y>0&&m.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[m.jsx(Wg,{size:20}),m.jsx("span",{children:"Search"})]}),t&&m.jsx("div",{className:"mt-2",children:m.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]}),m.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:m.jsxs("div",{className:"flex justify-around items-center h-16",children:[m.jsxs(gt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(Z3,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),m.jsxs(gt,{to:"/all-categories",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(nk,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),m.jsxs(gt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[m.jsx(Zg,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&m.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),m.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[m.jsx(L2,{size:20}),m.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})})]})},yk=()=>m.jsx("div",{children:m.jsx("div",{children:m.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:m.jsx(oT,{children:"hnbkjbndsfh;kln"})})})});var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function vr(){}function vk(n,e){return typeof n=="function"?n(e):n}function Hy(n){return typeof n=="number"&&n>=0&&n!==1/0}function V2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ul(n,e){return typeof n=="function"?n(e):n}function fs(n,e){return typeof n=="function"?n(e):n}function t1(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:d}=n;if(u){if(r){if(e.queryHash!==Ev(u,e.options))return!1}else if(!ed(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function n1(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Ju(e.options.mutationKey)!==Ju(o))return!1}else if(!ed(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Ev(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ju)(n)}function Ju(n){return JSON.stringify(n,(e,t)=>$y(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ed(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ed(n[t],e[t])):!1}function z2(n,e){if(n===e)return n;const t=r1(n)&&r1(e);if(t||$y(n)&&$y(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,d=t?[]:{};let f=0;for(let p=0;p<u;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(d[y]=void 0,f++):(d[y]=z2(n[y],e[y]),d[y]===n[y]&&n[y]!==void 0&&f++)}return a===u&&f===a?n:d}return e}function Gy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function r1(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function $y(n){if(!s1(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!s1(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function s1(n){return Object.prototype.toString.call(n)==="[object Object]"}function bk(n){return new Promise(e=>{setTimeout(e,n)})}function Qy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?z2(n,e):e}function xk(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function _k(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Tv=Symbol();function U2(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Tv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function wk(n,e){return typeof n=="function"?n(...e):!!n}var vo,ua,Fl,C1,Ek=(C1=class extends wd{constructor(){super();Qe(this,vo);Qe(this,ua);Qe(this,Fl);Ie(this,Fl,e=>{if(!jo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ua)||this.setEventListener(Y(this,Fl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ua))==null||e.call(this),Ie(this,ua,void 0))}setEventListener(e){var t;Ie(this,Fl,e),(t=Y(this,ua))==null||t.call(this),Ie(this,ua,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,vo)!==e&&(Ie(this,vo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,vo)=="boolean"?Y(this,vo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vo=new WeakMap,ua=new WeakMap,Fl=new WeakMap,C1),Sv=new Ek,ql,da,Hl,R1,Tk=(R1=class extends wd{constructor(){super();Qe(this,ql,!0);Qe(this,da);Qe(this,Hl);Ie(this,Hl,e=>{if(!jo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,da)||this.setEventListener(Y(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,da))==null||e.call(this),Ie(this,da,void 0))}setEventListener(e){var t;Ie(this,Hl,e),(t=Y(this,da))==null||t.call(this),Ie(this,da,e(this.setOnline.bind(this)))}setOnline(e){Y(this,ql)!==e&&(Ie(this,ql,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,ql)}},ql=new WeakMap,da=new WeakMap,Hl=new WeakMap,R1),Gh=new Tk;function Ky(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Sk(n){return Math.min(1e3*2**n,3e4)}function B2(n){return(n??"online")==="online"?Gh.isOnline():!0}var F2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Jg(n){return n instanceof F2}function q2(n){let e=!1,t=0,r=!1,a;const o=Ky(),u=P=>{var R;r||(_(new F2(P)),(R=n.abort)==null||R.call(n))},d=()=>{e=!0},f=()=>{e=!1},p=()=>Sv.isFocused()&&(n.networkMode==="always"||Gh.isOnline())&&n.canRun(),y=()=>B2(n.networkMode)&&n.canRun(),b=P=>{var R;r||(r=!0,(R=n.onSuccess)==null||R.call(n,P),a==null||a(),o.resolve(P))},_=P=>{var R;r||(r=!0,(R=n.onError)==null||R.call(n,P),a==null||a(),o.reject(P))},w=()=>new Promise(P=>{var R;a=I=>{(r||p())&&P(I)},(R=n.onPause)==null||R.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),A=()=>{if(r)return;let P;const R=t===0?n.initialPromise:void 0;try{P=R??n.fn()}catch(I){P=Promise.reject(I)}Promise.resolve(P).then(b).catch(I=>{var B;if(r)return;const T=n.retry??(jo?0:3),E=n.retryDelay??Sk,L=typeof E=="function"?E(t,I):E,F=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,I);if(e||!F){_(I);return}t++,(B=n.onFail)==null||B.call(n,t,I),bk(L).then(()=>p()?void 0:w()).then(()=>{e?_(I):A()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:f,canStart:y,start:()=>(y()?A():w().then(A),o)}}var Ak=n=>setTimeout(n,0);function Ck(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=Ak;const o=d=>{e?n.push(d):a(()=>{t(d)})},u=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(f=>{t(f)})})})};return{batch:d=>{let f;e++;try{f=d()}finally{e--,e||u()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var zn=Ck(),bo,N1,H2=(N1=class{constructor(){Qe(this,bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hy(this.gcTime)&&Ie(this,bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(jo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,bo)&&(clearTimeout(Y(this,bo)),Ie(this,bo,void 0))}},bo=new WeakMap,N1),Gl,$l,es,xo,Qn,nd,_o,us,xi,I1,Rk=(I1=class extends H2{constructor(e){super();Qe(this,us);Qe(this,Gl);Qe(this,$l);Qe(this,es);Qe(this,xo);Qe(this,Qn);Qe(this,nd);Qe(this,_o);Ie(this,_o,!1),Ie(this,nd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,xo,e.client),Ie(this,es,Y(this,xo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Gl,Nk(this.options)),this.state=e.state??Y(this,Gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Qn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,nd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,es).remove(this)}setData(e,t){const r=Qy(this.state.data,e,this.options);return mt(this,us,xi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){mt(this,us,xi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Qn))==null?void 0:r.promise;return(a=Y(this,Qn))==null||a.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Gl))}isActive(){return this.observers.some(e=>fs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!V2(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Qn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Qn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Qn)&&(Y(this,_o)?Y(this,Qn).cancel({revert:!0}):Y(this,Qn).cancelRetry()),this.scheduleGc()),Y(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,us,xi).call(this,{type:"invalidate"})}fetch(e,t){var f,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Qn))return Y(this,Qn).continueRetry(),Y(this,Qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Ie(this,_o,!0),r.signal)})},o=()=>{const b=U2(this.options,t),_={client:Y(this,xo),queryKey:this.queryKey,meta:this.meta};return a(_),Ie(this,_o,!1),this.options.persister?this.options.persister(b,_,this):b(_)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,xo),state:this.state,fetchFn:o};a(u),(f=this.options.behavior)==null||f.onFetch(u,this),Ie(this,$l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&mt(this,us,xi).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const d=b=>{var _,w,A,P;Jg(b)&&b.silent||mt(this,us,xi).call(this,{type:"error",error:b}),Jg(b)||((w=(_=Y(this,es).config).onError)==null||w.call(_,b,this),(P=(A=Y(this,es).config).onSettled)==null||P.call(A,this.state.data,b,this)),this.scheduleGc()};return Ie(this,Qn,q2({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var _,w,A,P;if(b===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(R){d(R);return}(w=(_=Y(this,es).config).onSuccess)==null||w.call(_,b,this),(P=(A=Y(this,es).config).onSettled)==null||P.call(A,b,this.state.error,this),this.scheduleGc()},onError:d,onFail:(b,_)=>{mt(this,us,xi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{mt(this,us,xi).call(this,{type:"pause"})},onContinue:()=>{mt(this,us,xi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,Qn).start()}},Gl=new WeakMap,$l=new WeakMap,es=new WeakMap,xo=new WeakMap,Qn=new WeakMap,nd=new WeakMap,_o=new WeakMap,us=new WeakSet,xi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...G2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Jg(a)&&a.revert&&Y(this,$l)?{...Y(this,$l),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,es).notify({query:this,type:"updated",action:e})})},I1);function G2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B2(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Nk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Us,O1,Ik=(O1=class extends wd{constructor(e={}){super();Qe(this,Us);this.config=e,Ie(this,Us,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Ev(a,t);let u=this.get(o);return u||(u=new Rk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){Y(this,Us).has(e.queryHash)||(Y(this,Us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Us).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Us).get(e)}getAll(){return[...Y(this,Us).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>t1(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>t1(e,r)):t}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Us=new WeakMap,O1),Bs,ar,wo,Fs,sa,M1,Ok=(M1=class extends H2{constructor(e){super();Qe(this,Fs);Qe(this,Bs);Qe(this,ar);Qe(this,wo);this.mutationId=e.mutationId,Ie(this,ar,e.mutationCache),Ie(this,Bs,[]),this.state=e.state||Mk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Bs).includes(e)||(Y(this,Bs).push(e),this.clearGcTimeout(),Y(this,ar).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Bs,Y(this,Bs).filter(t=>t!==e)),this.scheduleGc(),Y(this,ar).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,ar).remove(this))}continue(){var e;return((e=Y(this,wo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,d,f,p,y,b,_,w,A,P,R,I,T,E,L,F,B,V,O;const t=()=>{mt(this,Fs,sa).call(this,{type:"continue"})};Ie(this,wo,q2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,M)=>{mt(this,Fs,sa).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{mt(this,Fs,sa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,ar).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,wo).canStart();try{if(r)t();else{mt(this,Fs,sa).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=Y(this,ar).config).onMutate)==null?void 0:u.call(o,e,this));const M=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,e));M!==this.state.context&&mt(this,Fs,sa).call(this,{type:"pending",context:M,variables:e,isPaused:a})}const N=await Y(this,wo).start();return await((y=(p=Y(this,ar).config).onSuccess)==null?void 0:y.call(p,N,e,this.state.context,this)),await((_=(b=this.options).onSuccess)==null?void 0:_.call(b,N,e,this.state.context)),await((A=(w=Y(this,ar).config).onSettled)==null?void 0:A.call(w,N,null,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,N,null,e,this.state.context)),mt(this,Fs,sa).call(this,{type:"success",data:N}),N}catch(N){try{throw await((T=(I=Y(this,ar).config).onError)==null?void 0:T.call(I,N,e,this.state.context,this)),await((L=(E=this.options).onError)==null?void 0:L.call(E,N,e,this.state.context)),await((B=(F=Y(this,ar).config).onSettled)==null?void 0:B.call(F,void 0,N,this.state.variables,this.state.context,this)),await((O=(V=this.options).onSettled)==null?void 0:O.call(V,void 0,N,e,this.state.context)),N}finally{mt(this,Fs,sa).call(this,{type:"error",error:N})}}finally{Y(this,ar).runNext(this)}}},Bs=new WeakMap,ar=new WeakMap,wo=new WeakMap,Fs=new WeakSet,sa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zn.batch(()=>{Y(this,Bs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,ar).notify({mutation:this,type:"updated",action:e})})},M1);function Mk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,ds,rd,D1,Dk=(D1=class extends wd{constructor(e={}){super();Qe(this,wi);Qe(this,ds);Qe(this,rd);this.config=e,Ie(this,wi,new Set),Ie(this,ds,new Map),Ie(this,rd,0)}build(e,t,r){const a=new Ok({mutationCache:this,mutationId:++Uf(this,rd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,wi).add(e);const t=Xf(e);if(typeof t=="string"){const r=Y(this,ds).get(t);r?r.push(e):Y(this,ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,wi).delete(e)){const t=Xf(e);if(typeof t=="string"){const r=Y(this,ds).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xf(e);if(typeof t=="string"){const r=Y(this,ds).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Xf(e);if(typeof t=="string"){const a=(r=Y(this,ds).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{Y(this,wi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,wi).clear(),Y(this,ds).clear()})}getAll(){return Array.from(Y(this,wi))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>n1(t,r))}findAll(e={}){return this.getAll().filter(t=>n1(e,t))}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},wi=new WeakMap,ds=new WeakMap,rd=new WeakMap,D1);function Xf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function $h(n){return{onFetch:(e,t)=>{var y,b,_,w,A;const r=e.options,a=(_=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:_.direction,o=((w=e.state.data)==null?void 0:w.pages)||[],u=((A=e.state.data)==null?void 0:A.pageParams)||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let P=!1;const R=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},I=U2(e.options,e.fetchOptions),T=async(E,L,F)=>{if(P)return Promise.reject();if(L==null&&E.pages.length)return Promise.resolve(E);const B={client:e.client,queryKey:e.queryKey,pageParam:L,direction:F?"backward":"forward",meta:e.options.meta};R(B);const V=await I(B),{maxPages:O}=e.options,N=F?_k:xk;return{pages:N(E.pages,V,O),pageParams:N(E.pageParams,L,O)}};if(a&&o.length){const E=a==="backward",L=E?$2:Yy,F={pages:o,pageParams:u},B=L(r,F);d=await T(F,B,E)}else{const E=n??o.length;do{const L=f===0?u[0]??r.initialPageParam:Yy(r,d);if(f>0&&L==null)break;d=await T(d,L),f++}while(f<E)}return d};e.options.persister?e.fetchFn=()=>{var P,R;return(R=(P=e.options).persister)==null?void 0:R.call(P,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function Yy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function $2(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function jk(n,e){return e?Yy(n,e)!=null:!1}function Pk(n,e){return!e||!n.getPreviousPageParam?!1:$2(n,e)!=null}var Jt,fa,ha,Ql,Kl,ma,Yl,Xl,j1,kk=(j1=class{constructor(n={}){Qe(this,Jt);Qe(this,fa);Qe(this,ha);Qe(this,Ql);Qe(this,Kl);Qe(this,ma);Qe(this,Yl);Qe(this,Xl);Ie(this,Jt,n.queryCache||new Ik),Ie(this,fa,n.mutationCache||new Dk),Ie(this,ha,n.defaultOptions||{}),Ie(this,Ql,new Map),Ie(this,Kl,new Map),Ie(this,ma,0)}mount(){Uf(this,ma)._++,Y(this,ma)===1&&(Ie(this,Yl,Sv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onFocus())})),Ie(this,Xl,Gh.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onOnline())})))}unmount(){var n,e;Uf(this,ma)._--,Y(this,ma)===0&&((n=Y(this,Yl))==null||n.call(this),Ie(this,Yl,void 0),(e=Y(this,Xl))==null||e.call(this),Ie(this,Xl,void 0))}isFetching(n){return Y(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,fa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ul(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Jt).get(r.queryHash),o=a==null?void 0:a.state.data,u=vk(e,o);if(u!==void 0)return Y(this,Jt).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return zn.batch(()=>Y(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Jt);zn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Jt);return zn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=zn.batch(()=>Y(this,Jt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return zn.batch(()=>(Y(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>Y(this,Jt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Jt).build(this,e);return t.isStaleByTime(Ul(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=$h(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=$h(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Gh.isOnline()?Y(this,fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Jt)}getMutationCache(){return Y(this,fa)}getDefaultOptions(){return Y(this,ha)}setDefaultOptions(n){Ie(this,ha,n)}setQueryDefaults(n,e){Y(this,Ql).set(Ju(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Ql).values()],t={};return e.forEach(r=>{ed(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Kl).set(Ju(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Kl).values()],t={};return e.forEach(r=>{ed(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ha).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Ev(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Tv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ha).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Jt).clear(),Y(this,fa).clear()}},Jt=new WeakMap,fa=new WeakMap,ha=new WeakMap,Ql=new WeakMap,Kl=new WeakMap,ma=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,j1),gr,pt,sd,or,Eo,Wl,pa,ga,id,Zl,Jl,To,So,ya,ec,Rt,Ou,Xy,Wy,Zy,Jy,e0,t0,n0,K2,P1,Q2=(P1=class extends wd{constructor(e,t){super();Qe(this,Rt);Qe(this,gr);Qe(this,pt);Qe(this,sd);Qe(this,or);Qe(this,Eo);Qe(this,Wl);Qe(this,pa);Qe(this,ga);Qe(this,id);Qe(this,Zl);Qe(this,Jl);Qe(this,To);Qe(this,So);Qe(this,ya);Qe(this,ec,new Set);this.options=t,Ie(this,gr,e),Ie(this,ga,null),Ie(this,pa,Ky()),this.options.experimental_prefetchInRender||Y(this,pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,pt).addObserver(this),i1(Y(this,pt),this.options)?mt(this,Rt,Ou).call(this):this.updateResult(),mt(this,Rt,Jy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r0(Y(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r0(Y(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Rt,e0).call(this),mt(this,Rt,t0).call(this),Y(this,pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,pt);if(this.options=Y(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,Y(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Rt,n0).call(this),Y(this,pt).setOptions(this.options),t._defaulted&&!Gy(this.options,t)&&Y(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,pt),observer:this});const a=this.hasListeners();a&&a1(Y(this,pt),r,this.options,t)&&mt(this,Rt,Ou).call(this),this.updateResult(),a&&(Y(this,pt)!==r||fs(this.options.enabled,Y(this,pt))!==fs(t.enabled,Y(this,pt))||Ul(this.options.staleTime,Y(this,pt))!==Ul(t.staleTime,Y(this,pt)))&&mt(this,Rt,Xy).call(this);const o=mt(this,Rt,Wy).call(this);a&&(Y(this,pt)!==r||fs(this.options.enabled,Y(this,pt))!==fs(t.enabled,Y(this,pt))||o!==Y(this,ya))&&mt(this,Rt,Zy).call(this,o)}getOptimisticResult(e){const t=Y(this,gr).getQueryCache().build(Y(this,gr),e),r=this.createResult(t,e);return Vk(this,r)&&(Ie(this,or,r),Ie(this,Wl,this.options),Ie(this,Eo,Y(this,pt).state)),r}getCurrentResult(){return Y(this,or)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,ec).add(e)}getCurrentQuery(){return Y(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,gr).defaultQueryOptions(e),r=Y(this,gr).getQueryCache().build(Y(this,gr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return mt(this,Rt,Ou).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,or)))}createResult(e,t){var N;const r=Y(this,pt),a=this.options,o=Y(this,or),u=Y(this,Eo),d=Y(this,Wl),p=e!==r?e.state:Y(this,sd),{state:y}=e;let b={...y},_=!1,w;if(t._optimisticResults){const M=this.hasListeners(),z=!M&&i1(e,t),k=M&&a1(e,r,t,a);(z||k)&&(b={...b,...G2(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:A,errorUpdatedAt:P,status:R}=b;w=b.data;let I=!1;if(t.placeholderData!==void 0&&w===void 0&&R==="pending"){let M;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(M=o.data,I=!0):M=typeof t.placeholderData=="function"?t.placeholderData((N=Y(this,Jl))==null?void 0:N.state.data,Y(this,Jl)):t.placeholderData,M!==void 0&&(R="success",w=Qy(o==null?void 0:o.data,M,t),_=!0)}if(t.select&&w!==void 0&&!I)if(o&&w===(u==null?void 0:u.data)&&t.select===Y(this,id))w=Y(this,Zl);else try{Ie(this,id,t.select),w=t.select(w),w=Qy(o==null?void 0:o.data,w,t),Ie(this,Zl,w),Ie(this,ga,null)}catch(M){Ie(this,ga,M)}Y(this,ga)&&(A=Y(this,ga),w=Y(this,Zl),P=Date.now(),R="error");const T=b.fetchStatus==="fetching",E=R==="pending",L=R==="error",F=E&&T,B=w!==void 0,O={status:R,fetchStatus:b.fetchStatus,isPending:E,isSuccess:R==="success",isError:L,isInitialLoading:F,isLoading:F,data:w,dataUpdatedAt:b.dataUpdatedAt,error:A,errorUpdatedAt:P,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:L&&!B,isPaused:b.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:L&&B,isStale:Av(e,t),refetch:this.refetch,promise:Y(this,pa)};if(this.options.experimental_prefetchInRender){const M=D=>{O.status==="error"?D.reject(O.error):O.data!==void 0&&D.resolve(O.data)},z=()=>{const D=Ie(this,pa,O.promise=Ky());M(D)},k=Y(this,pa);switch(k.status){case"pending":e.queryHash===r.queryHash&&M(k);break;case"fulfilled":(O.status==="error"||O.data!==k.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==k.reason)&&z();break}}return O}updateResult(){const e=Y(this,or),t=this.createResult(Y(this,pt),this.options);if(Ie(this,Eo,Y(this,pt).state),Ie(this,Wl,this.options),Y(this,Eo).data!==void 0&&Ie(this,Jl,Y(this,pt)),Gy(t,e))return;Ie(this,or,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,ec).size)return!0;const u=new Set(o??Y(this,ec));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,or)).some(d=>{const f=d;return Y(this,or)[f]!==e[f]&&u.has(f)})};mt(this,Rt,K2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Rt,Jy).call(this)}},gr=new WeakMap,pt=new WeakMap,sd=new WeakMap,or=new WeakMap,Eo=new WeakMap,Wl=new WeakMap,pa=new WeakMap,ga=new WeakMap,id=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,To=new WeakMap,So=new WeakMap,ya=new WeakMap,ec=new WeakMap,Rt=new WeakSet,Ou=function(e){mt(this,Rt,n0).call(this);let t=Y(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},Xy=function(){mt(this,Rt,e0).call(this);const e=Ul(this.options.staleTime,Y(this,pt));if(jo||Y(this,or).isStale||!Hy(e))return;const r=V2(Y(this,or).dataUpdatedAt,e)+1;Ie(this,To,setTimeout(()=>{Y(this,or).isStale||this.updateResult()},r))},Wy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,pt)):this.options.refetchInterval)??!1},Zy=function(e){mt(this,Rt,t0).call(this),Ie(this,ya,e),!(jo||fs(this.options.enabled,Y(this,pt))===!1||!Hy(Y(this,ya))||Y(this,ya)===0)&&Ie(this,So,setInterval(()=>{(this.options.refetchIntervalInBackground||Sv.isFocused())&&mt(this,Rt,Ou).call(this)},Y(this,ya)))},Jy=function(){mt(this,Rt,Xy).call(this),mt(this,Rt,Zy).call(this,mt(this,Rt,Wy).call(this))},e0=function(){Y(this,To)&&(clearTimeout(Y(this,To)),Ie(this,To,void 0))},t0=function(){Y(this,So)&&(clearInterval(Y(this,So)),Ie(this,So,void 0))},n0=function(){const e=Y(this,gr).getQueryCache().build(Y(this,gr),this.options);if(e===Y(this,pt))return;const t=Y(this,pt);Ie(this,pt,e),Ie(this,sd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},K2=function(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,or))}),Y(this,gr).getQueryCache().notify({query:Y(this,pt),type:"observerResultsUpdated"})})},P1);function Lk(n,e){return fs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function i1(n,e){return Lk(n,e)||n.state.data!==void 0&&r0(n,e,e.refetchOnMount)}function r0(n,e,t){if(fs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Av(n,e)}return!1}function a1(n,e,t,r){return(n!==e||fs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Av(n,t)}function Av(n,e){return fs(e.enabled,n)!==!1&&n.isStaleByTime(Ul(e.staleTime,n))}function Vk(n,e){return!Gy(n.getCurrentResult(),e)}var zk=class extends Q2{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:$h()})}getOptimisticResult(n){return n.behavior=$h(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var A,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:d}=r,f=(P=(A=t.fetchMeta)==null?void 0:A.fetchMore)==null?void 0:P.direction,p=u&&f==="forward",y=a&&f==="forward",b=u&&f==="backward",_=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:jk(e,t.data),hasPreviousPage:Pk(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:b,isFetchingPreviousPage:_,isRefetchError:d&&!p&&!b,isRefetching:o&&!y&&!_}}},Y2=q.createContext(void 0),Uk=n=>{const e=q.useContext(Y2);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bk=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(Y2.Provider,{value:n,children:e})),X2=q.createContext(!1),Fk=()=>q.useContext(X2);X2.Provider;function qk(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Hk=q.createContext(qk()),Gk=()=>q.useContext(Hk),$k=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Qk=n=>{q.useEffect(()=>{n.clearReset()},[n])},Kk=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||wk(t,[n.error,r])),Yk=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Xk=(n,e)=>n.isLoading&&n.isFetching&&!e,Wk=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,o1=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function W2(n,e,t){var b,_,w,A,P;const r=Uk(),a=Fk(),o=Gk(),u=r.defaultQueryOptions(n);(_=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u),u._optimisticResults=a?"isRestoring":"optimistic",Yk(u),$k(u,o),Qk(o);const d=!r.getQueryCache().get(u.queryHash),[f]=q.useState(()=>new e(r,u)),p=f.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(R=>{const I=y?f.subscribe(zn.batchCalls(R)):vr;return f.updateResult(),I},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),q.useEffect(()=>{f.setOptions(u)},[u,f]),Wk(u,p))throw o1(u,f,o);if(Kk({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((A=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||A.call(w,u,p),u.experimental_prefetchInRender&&!jo&&Xk(p,a)){const R=d?o1(u,f,o):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;R==null||R.catch(vr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?p:f.trackResult(p)}function Zk(n,e){return W2(n,Q2)}function Z2(n,e){return W2(n,zk)}const J2=()=>{const n=new Date().getFullYear();return m.jsxs("footer",{className:"bg-gray-100 text-gray-700 play-regular border-t border-gray-200 w-full",children:[m.jsx("div",{className:"w-full bg-white py-6 flex justify-center border-b border-gray-200",children:m.jsx(gt,{to:"/",className:"flex justify-center",children:m.jsx("img",{src:qy,alt:"Brand Logo",className:"h-[120px] w-auto md:h-[150px]"})})}),m.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About Us"}),m.jsx("p",{className:"text-sm",children:"We are dedicated to providing the best products and services to our customers with quality and care."}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:m.jsx(X3,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:m.jsx(ek,{size:20})}),m.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:m.jsx(hk,{size:20})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Links"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsx("li",{children:m.jsx(gt,{to:"/",className:"hover:text-gray-900 transition-colors",children:"Home"})}),m.jsx("li",{children:m.jsx(gt,{to:"/about",className:"hover:text-gray-900 transition-colors",children:"About Us"})}),m.jsx("li",{children:m.jsx(gt,{to:"/products",className:"hover:text-gray-900 transition-colors",children:"Products"})}),m.jsx("li",{children:m.jsx(gt,{to:"/contact",className:"hover:text-gray-900 transition-colors",children:"Contact"})}),m.jsx("li",{children:m.jsx(gt,{to:"/privacy-policy",className:"hover:text-gray-900 transition-colors",children:"Privacy Policy"})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Us"}),m.jsxs("div",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(ak,{size:18,className:"mt-0.5 flex-shrink-0"}),m.jsx("span",{children:"123 Street Name, City, Country"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(sk,{size:18}),m.jsx("a",{href:"mailto:info@example.com",className:"hover:text-gray-900",children:"info@example.com"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(L2,{size:18}),m.jsx("a",{href:"tel:+1234567890",className:"hover:text-gray-900",children:"+1 234 567 890"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Opening Hours"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Xg,{size:18}),m.jsx("span",{children:"Monday - Friday: 9am - 8pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Xg,{size:18}),m.jsx("span",{children:"Saturday: 10am - 6pm"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Xg,{size:18}),m.jsx("span",{children:"Sunday: Closed"})]})]})]})]}),m.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscribe to Our Newsletter"}),m.jsxs("div",{className:"max-w-md mx-auto flex",children:[m.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-grow px-4 py-2 border border-gray-300 rounded-l focus:outline-none focus:ring-1 focus:ring-gray-400"}),m.jsx("button",{className:"bg-gray-800 text-white px-4 py-2 rounded-r hover:bg-gray-700 transition-colors",children:"Subscribe"})]})]})}),m.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-sm",children:m.jsxs("p",{children:["© ",n," Your Company Name. All rights reserved."]})})]})})]})},Jk=new kk;function eL(){return m.jsx(m.Fragment,{children:m.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto px-[1px] ",children:m.jsxs(Bk,{client:Jk,children:[m.jsx(V3,{}),m.jsx(yk,{}),m.jsx(gk,{}),m.jsx(RN,{}),m.jsx(J2,{})]})})})}const eA=()=>{const[t,r]=oI(),a=Number(t.get("page"))||1,[o,u]=q.useState(!1),d=q.useRef(null),f=R=>(typeof R!="number"&&(R=parseFloat(R)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(R)),{data:p=[],isLoading:y}=Zk({queryKey:["allProducts"],queryFn:async()=>{const R=await za(Lr(bn,"products")),I=[];R.forEach(E=>{const L=E.data();L.available&&L.stock>0&&I.push({id:E.id,...L})});const T=[...I];for(let E=T.length-1;E>0;E--){const L=Math.floor(Math.random()*(E+1));[T[E],T[L]]=[T[L],T[E]]}return T},staleTime:1/0,cacheTime:24*60*60*1e3}),b=p.slice(0,3+(a-1)*2),_=R=>{var E;const I=JSON.parse(localStorage.getItem("cart"))||[],T=I.find(L=>L.id===R.id);T?T.quantity+=1:I.push({id:R.id,name:R.name,price:R.discount?Math.round(R.price-R.price*(R.discount/100)):Math.round(R.price),image:R.mainImage||((E=R.images)==null?void 0:E[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(I)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},w=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:_(R)},A=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:(_(R),window.location.href="/cart")},P=async()=>{const R=window.scrollY||document.documentElement.scrollTop;u(!0),await new Promise(I=>setTimeout(I,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,R),u(!1)},0)};return y?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):m.jsxs("div",{className:"",ref:d,children:[m.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),b.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:b.map(R=>{var N;const I=R.discount&&R.discount>0,T=R.colorVariants&&R.colorVariants.length>0,L=window.innerWidth<768?17:25,F=R.name.length>L,B=F?`${R.name.substring(0,L)}...`:R.name,V=I?Math.round(R.price-R.price*(R.discount/100)):null,O=I?V:Math.round(R.price);return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(gt,{to:`/product/${R.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:R.mainImage||((N=R.images)==null?void 0:N[0])||"/placeholder-product.jpg",alt:R.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),I&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[R.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[B,F&&m.jsx(gt,{to:`/product/${R.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",f(O)]}),I&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",f(Math.round(R.price))]})})]}),R.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",R.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>w(R),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:T?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>A(R),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${R.stock>0?"text-green-600":"text-red-500"}`,children:R.stock>0?"In Stock":"Out of Stock"}),R.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[R.stock," units"]})]})]})]},R.id)})}),p.length>b.length&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:P,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function l1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Cv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:l1(e[r])&&l1(n[r])&&Object.keys(e[r]).length>0&&Cv(n[r],e[r])})}const tA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gs(){const n=typeof document<"u"?document:{};return Cv(n,tA),n}const tL={document:tA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function cr(){const n=typeof window<"u"?window:{};return Cv(n,tL),n}function nL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function rL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function s0(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Ao(){return Date.now()}function sL(n){const e=cr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function iL(n,e){e===void 0&&(e="x");const t=cr();let r,a,o;const u=sL(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Mu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function aL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Pr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!aL(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const d=a[o],f=Object.getOwnPropertyDescriptor(r,d);f!==void 0&&f.enumerable&&(Mu(n[d])&&Mu(r[d])?r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d]):!Mu(n[d])&&Mu(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:Pr(n[d],r[d])):n[d]=r[d])}}}return n}function Wf(n,e,t){n.style.setProperty(e,t)}function nA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=cr(),o=-e.translate;let u=null,d;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(_,w)=>p==="next"&&_>=w||p==="prev"&&_<=w,b=()=>{d=new Date().getTime(),u===null&&(u=d);const _=Math.max(Math.min((d-u)/f,1),0),w=.5-Math.cos(_*Math.PI)/2;let A=o+w*(t-o);if(y(A,t)&&(A=t),e.wrapperEl.scrollTo({[r]:A}),y(A,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:A})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(b)};b()}function ps(n,e){e===void 0&&(e="");const t=cr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function oL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function lL(n,e){const t=cr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=oL(n,e))),r}function Qh(n){try{console.warn(n);return}catch{}}function Kh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:nL(e)),t}function cL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function uL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function xa(n,e){return cr().getComputedStyle(n,null).getPropertyValue(e)}function Yh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function rA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function ey(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function i0(n,e,t){const r=cr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Nn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let ty;function dL(){const n=cr(),e=gs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function sA(){return ty||(ty=dL()),ty}let ny;function fL(n){let{userAgent:e}=n===void 0?{}:n;const t=sA(),r=cr(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,f=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=a==="Win32";let A=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&A&&t.touch&&P.indexOf(`${d}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),A=!1),p&&!w&&(u.os="android",u.android=!0),(y||_||b)&&(u.os="ios",u.ios=!0),u}function iA(n){return n===void 0&&(n={}),ny||(ny=fL(n)),ny}let ry;function hL(){const n=cr(),e=iA();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function aA(){return ry||(ry=hL()),ry}function mL(n){let{swiper:e,on:t,emit:r}=n;const a=cr();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=a.requestAnimationFrame(()=>{const{width:_,height:w}=e;let A=_,P=w;b.forEach(R=>{let{contentBoxSize:I,contentRect:T,target:E}=R;E&&E!==e.el||(A=T?T.width:(I[0]||I).inlineSize,P=T?T.height:(I[0]||I).blockSize)}),(A!==_||P!==w)&&d()})}),o.observe(e.el))},p=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",y)})}function pL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=cr(),d=function(y,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,w=new _(A=>{if(e.__preventObserver__)return;if(A.length===1){a("observerUpdate",A[0]);return}const P=function(){a("observerUpdate",A[0])};u.requestAnimationFrame?u.requestAnimationFrame(P):u.setTimeout(P,0)});w.observe(y,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(w)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=rA(e.hostEl);for(let b=0;b<y.length;b+=1)d(y[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var gL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function yL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(xa(r,"padding-left")||0,10)-parseInt(xa(r,"padding-right")||0,10),t=t-parseInt(xa(r,"padding-top")||0,10)-parseInt(xa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function vL(){const n=this;function e(M,z){return parseFloat(M.getPropertyValue(n.getDirectionLabel(z))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=ps(a,`.${n.params.slideClass}, swiper-slide`),b=f?n.virtual.slides.length:y.length;let _=[];const w=[],A=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let R=t.slidesOffsetAfter;typeof R=="function"&&(R=t.slidesOffsetAfter.call(n));const I=n.snapGrid.length,T=n.slidesGrid.length;let E=t.spaceBetween,L=-P,F=0,B=0;if(typeof o>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*o:typeof E=="string"&&(E=parseFloat(E)),n.virtualSize=-E,y.forEach(M=>{u?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Wf(r,"--swiper-centered-offset-before",""),Wf(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let O;const N=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(M=>typeof t.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<b;M+=1){O=0;let z;if(y[M]&&(z=y[M]),V&&n.grid.updateSlide(M,z,y),!(y[M]&&xa(z,"display")==="none")){if(t.slidesPerView==="auto"){N&&(y[M].style[n.getDirectionLabel("width")]="");const k=getComputedStyle(z),D=z.style.transform,le=z.style.webkitTransform;if(D&&(z.style.transform="none"),le&&(z.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?i0(z,"width"):i0(z,"height");else{const fe=e(k,"width"),$=e(k,"padding-left"),ae=e(k,"padding-right"),oe=e(k,"margin-left"),xe=e(k,"margin-right"),H=k.getPropertyValue("box-sizing");if(H&&H==="border-box")O=fe+oe+xe;else{const{clientWidth:ie,offsetWidth:ve}=z;O=fe+$+ae+oe+xe+(ve-ie)}}D&&(z.style.transform=D),le&&(z.style.webkitTransform=le),t.roundLengths&&(O=Math.floor(O))}else O=(o-(t.slidesPerView-1)*E)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),y[M]&&(y[M].style[n.getDirectionLabel("width")]=`${O}px`);y[M]&&(y[M].swiperSlideSize=O),A.push(O),t.centeredSlides?(L=L+O/2+F/2+E,F===0&&M!==0&&(L=L-o/2-E),M===0&&(L=L-o/2-E),Math.abs(L)<1/1e3&&(L=0),t.roundLengths&&(L=Math.floor(L)),B%t.slidesPerGroup===0&&_.push(L),w.push(L)):(t.roundLengths&&(L=Math.floor(L)),(B-Math.min(n.params.slidesPerGroupSkip,B))%n.params.slidesPerGroup===0&&_.push(L),w.push(L),L=L+O+E),n.virtualSize+=O+E,F=O,B+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+R,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+E}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+E}px`),V&&n.grid.updateWrapperSize(O,_),!t.centeredSlides){const M=[];for(let z=0;z<_.length;z+=1){let k=_[z];t.roundLengths&&(k=Math.floor(k)),_[z]<=n.virtualSize-o&&M.push(k)}_=M,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(f&&t.loop){const M=A[0]+E;if(t.slidesPerGroup>1){const z=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),k=M*t.slidesPerGroup;for(let D=0;D<z;D+=1)_.push(_[_.length-1]+k)}for(let z=0;z<n.virtual.slidesBefore+n.virtual.slidesAfter;z+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+M),w.push(w[w.length-1]+M),n.virtualSize+=M}if(_.length===0&&(_=[0]),E!==0){const M=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((z,k)=>!t.cssMode||t.loop?!0:k!==y.length-1).forEach(z=>{z.style[M]=`${E}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let M=0;A.forEach(k=>{M+=k+(E||0)}),M-=E;const z=M>o?M-o:0;_=_.map(k=>k<=0?-P:k>z?z+R:k)}if(t.centerInsufficientSlides){let M=0;A.forEach(k=>{M+=k+(E||0)}),M-=E;const z=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(M+z<o){const k=(o-M-z)/2;_.forEach((D,le)=>{_[le]=D-k}),w.forEach((D,le)=>{w[le]=D+k})}}if(Object.assign(n,{slides:y,snapGrid:_,slidesGrid:w,slidesSizesGrid:A}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Wf(r,"--swiper-centered-offset-before",`${-_[0]}px`),Wf(r,"--swiper-centered-offset-after",`${n.size/2-A[A.length-1]/2}px`);const M=-n.snapGrid[0],z=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+M),n.slidesGrid=n.slidesGrid.map(k=>k+z)}if(b!==p&&n.emit("slidesLengthChange"),_.length!==I&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),w.length!==T&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const M=`${t.containerModifierClass}backface-hidden`,z=n.el.classList.contains(M);b<=t.maxBackfaceHiddenSlides?z||n.el.classList.add(M):z&&n.el.classList.remove(M)}}function bL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function xL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const c1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function _L(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),w=-(u-y),A=w+e.slidesSizesGrid[f],P=w>=0&&w<=e.size-e.slidesSizesGrid[f],R=w>=0&&w<e.size-1||A>1&&A<=e.size||w<=0&&A>=e.size;R&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),c1(p,R,t.slideVisibleClass),c1(p,P,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-_:_}}function wL(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:d}=e;const f=o,p=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=b||a>=1,y&&(a=0),b&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[y],w=e.slidesGrid[b],A=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=_?d=(P-_)/A:d=(P+A-w)/A,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!o||p&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const sy=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function EL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=b=>ps(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let f,p,y;if(o)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),f=d(`[data-swiper-slide-index="${b}"]`)}else f=d(`[data-swiper-slide-index="${a}"]`);else u?(f=e.find(b=>b.column===a),y=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):f=e[a];f&&(u||(y=uL(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=cL(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{sy(b,b===f,t.slideActiveClass),sy(b,b===y,t.slideNextClass),sy(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const gh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},iy=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},a0=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,d=[u-e];d.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{d.includes(f.column)&&iy(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const d=(u%t+t)%t;(d<a||d>o)&&iy(n,d)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&iy(n,u)};function TL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function SL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:d}=e;let f=n,p;const y=w=>{let A=w-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof f>"u"&&(f=TL(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const w=Math.min(a.slidesPerGroupSkip,f);p=w+Math.floor((f-w)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const b=e.grid&&a.grid&&a.grid.rows>1;let _;if(e.virtual&&a.virtual.enabled&&a.loop)_=y(f);else if(b){const w=e.slides.find(P=>P.column===f);let A=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(w),0)),_=Math.floor(A/a.grid.rows)}else if(e.slides[f]){const w=e.slides[f].getAttribute("data-swiper-slide-index");w?_=parseInt(w,10):_=f}else _=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:f}),e.initialized&&a0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function AL(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,u;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,u=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var CL={updateSize:yL,updateSlides:vL,updateAutoHeight:bL,updateSlidesOffset:xL,updateSlidesProgress:_L,updateProgress:wL,updateSlidesClasses:EL,updateActiveIndex:SL,updateClickedSlide:AL};function RL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=iL(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function NL(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let d=0,f=0;const p=0;t.isHorizontal()?d=r?-n:n:f=n,a.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-f:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let y;const b=t.maxTranslate()-t.minTranslate();b===0?y=0:y=(n-t.minTranslate())/b,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function IL(){return-this.snapGrid[0]}function OL(){return-this.snapGrid[this.snapGrid.length-1]}function ML(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,o.updateProgress(y),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return nA({swiper:o,targetPosition:-y,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var DL={getTranslate:RL,setTranslate:NL,minTranslate:IL,maxTranslate:OL,translateTo:ML};function jL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function oA(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let d=r;if(d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==u){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function PL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),oA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function kL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),oA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var LL={setTransition:jL,transitionStart:PL,transitionEnd:kL};function VL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:b,rtlTranslate:_,wrapperEl:w,enabled:A}=o;if(!A&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,u);let R=P+Math.floor((u-P)/o.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const I=-f[R];if(d.normalizeSlideIndex)for(let V=0;V<p.length;V+=1){const O=-Math.floor(I*100),N=Math.floor(p[V]*100),M=Math.floor(p[V+1]*100);typeof p[V+1]<"u"?O>=N&&O<M-(M-N)/2?u=V:O>=N&&O<M&&(u=V+1):O>=N&&(u=V)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?I>o.translate&&I>o.minTranslate():I<o.translate&&I<o.minTranslate())||!o.allowSlidePrev&&I>o.translate&&I>o.maxTranslate()&&(b||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(I);let T;u>b?T="next":u<b?T="prev":T="reset";const E=o.virtual&&o.params.virtual.enabled;if(!(E&&a)&&(_&&-I===o.translate||!_&&I===o.translate))return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(I),T!=="reset"&&(o.transitionStart(t,T),o.transitionEnd(t,T)),!1;if(d.cssMode){const V=o.isHorizontal(),O=_?I:-I;if(e===0)E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),E&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[V?"scrollLeft":"scrollTop"]=O})):w[V?"scrollLeft":"scrollTop"]=O,E&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return nA({swiper:o,targetPosition:O,side:V?"left":"top"}),!0;w.scrollTo({[V?"left":"top"]:O,behavior:"smooth"})}return!0}const B=aA().isSafari;return E&&!a&&B&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(I),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,T),e===0?o.transitionEnd(t,T):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,T))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function zL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let d;if(o){const _=u*a.params.grid.rows;d=a.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else d=a.getSlideIndexByData(u);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let b=f-d<y;if(p&&(b=b||d<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?d+1:d-f+1,slideRealIndex:_==="next"?a.realIndex:void 0})}if(o){const _=u*a.params.grid.rows;u=a.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function UL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function BL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:d,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=d?r.translate:-r.translate;function _(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const w=_(b),A=o.map(T=>_(T)),P=a.freeMode&&a.freeMode.enabled;let R=o[A.indexOf(w)-1];if(typeof R>"u"&&(a.cssMode||P)){let T;o.forEach((E,L)=>{w>=E&&(T=L)}),typeof T<"u"&&(R=P?o[T]:o[T>0?T-1:T])}let I=0;if(typeof R<"u"&&(I=u.indexOf(R),I<0&&(I=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(I=I-r.slidesPerViewDynamic("previous",!0)+1,I=Math.max(I,0))),a.rewind&&r.isBeginning){const T=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(T,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(I,n,e,t)}),!0;return r.slideTo(I,n,e,t)}function FL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function qL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[d]){const p=a.snapGrid[d],y=a.snapGrid[d+1];f-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],y=a.snapGrid[d];f-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function HL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),s0(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),s0(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var GL={slideTo:VL,slideToLoop:zL,slideNext:UL,slidePrev:BL,slideReset:FL,slideToClosest:qL,slideToClickedSlide:HL};function $L(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ps(a,`.${r.slideClass}, swiper-slide`).forEach((_,w)=>{_.setAttribute("data-swiper-slide-index",w)})},u=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%d!==0,p=u&&t.slides.length%r.grid.rows!==0,y=b=>{for(let _=0;_<b;_+=1){const w=t.isElement?Kh("swiper-slide",[r.slideBlankClass]):Kh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(w)}};if(f){if(r.loopAddBlankSlides){const b=d-t.slides.length%d;y(b),t.recalcSlides(),t.updateSlides()}else Qh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;y(b),t.recalcSlides(),t.updateSlides()}else Qh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function QL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:d,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:b,allowSlideNext:_,slidesEl:w,params:A}=p,{centeredSlides:P,initialSlide:R}=A;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&A.virtual.enabled){t&&(!A.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A.centeredSlides&&p.snapIndex<A.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=b,p.allowSlideNext=_,p.emit("loopFix");return}let I=A.slidesPerView;I==="auto"?I=p.slidesPerViewDynamic():(I=Math.ceil(parseFloat(A.slidesPerView,10)),P&&I%2===0&&(I=I+1));const T=A.slidesPerGroupAuto?I:A.slidesPerGroup;let E=T;E%T!==0&&(E+=T-E%T),E+=A.loopAdditionalSlides,p.loopedSlides=E;const L=p.grid&&A.grid&&A.grid.rows>1;y.length<I+E||p.params.effect==="cards"&&y.length<I+E*2?Qh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&A.grid.fill==="row"&&Qh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],B=[],V=L?Math.ceil(y.length/A.grid.rows):y.length,O=u&&V-R<I&&!P;let N=O?R:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(A.slideActiveClass))):N=o;const M=r==="next"||!r,z=r==="prev"||!r;let k=0,D=0;const fe=(L?y[o].column:o)+(P&&typeof a>"u"?-I/2+.5:0);if(fe<E){k=Math.max(E-fe,T);for(let $=0;$<E-fe;$+=1){const ae=$-Math.floor($/V)*V;if(L){const oe=V-ae-1;for(let xe=y.length-1;xe>=0;xe-=1)y[xe].column===oe&&F.push(xe)}else F.push(V-ae-1)}}else if(fe+I>V-E){D=Math.max(fe-(V-E*2),T),O&&(D=Math.max(D,I-V+R+1));for(let $=0;$<D;$+=1){const ae=$-Math.floor($/V)*V;L?y.forEach((oe,xe)=>{oe.column===ae&&B.push(xe)}):B.push(ae)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<I+E*2&&(B.includes(o)&&B.splice(B.indexOf(o),1),F.includes(o)&&F.splice(F.indexOf(o),1)),z&&F.forEach($=>{y[$].swiperLoopMoveDOM=!0,w.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),M&&B.forEach($=>{y[$].swiperLoopMoveDOM=!0,w.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),A.slidesPerView==="auto"?p.updateSlides():L&&(F.length>0&&z||B.length>0&&M)&&p.slides.forEach(($,ae)=>{p.grid.updateSlide(ae,$,p.slides)}),A.watchSlidesProgress&&p.updateSlidesOffset(),t){if(F.length>0&&z){if(typeof e>"u"){const $=p.slidesGrid[N],oe=p.slidesGrid[N+k]-$;f?p.setTranslate(p.translate-oe):(p.slideTo(N+Math.ceil(k),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else if(a){const $=L?F.length/A.grid.rows:F.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(B.length>0&&M)if(typeof e>"u"){const $=p.slidesGrid[N],oe=p.slidesGrid[N-D]-$;f?p.setTranslate(p.translate-oe):(p.slideTo(N-D,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else{const $=L?B.length/A.grid.rows:B.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=b,p.allowSlideNext=_,p.controller&&p.controller.control&&!d){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(ae=>{!ae.destroyed&&ae.params.loop&&ae.loopFix({...$,slideTo:ae.params.slidesPerView===A.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===A.slidesPerView?t:!1})}p.emit("loopFix")}function KL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var YL={loopCreate:$L,loopFix:QL,loopDestroy:KL};function XL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function WL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var ZL={setGrabCursor:XL,unsetGrabCursor:WL};function JL(n,e){e===void 0&&(e=this);function t(r){if(!r||r===gs()||r===cr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function u1(n,e,t){const r=cr(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function e5(n){const e=this,t=gs();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){u1(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!lL(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?JL(b,f):f.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const w=u.currentX,A=u.currentY;if(!u1(e,r,w))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=w,u.startY=A,a.touchStartTime=Ao(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;f.matches(a.focusableElements)&&(P=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const R=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||R)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function t5(n){const e=gs(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(F=>F.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,b=p.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=b;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b}),r.touchStartTime=Ao());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=b;const _=o.currentX-o.startX,w=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+w**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let F;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+w*w>=25&&(F=Math.atan2(Math.abs(w),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?F>a.touchAngle:90-F>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let A=t.isHorizontal()?_:w,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(A=Math.abs(A)*(u?1:-1),P=Math.abs(P)*(u?1:-1)),o.diff=A,A*=a.touchRatio,u&&(A=-A,P=-P);const R=t.touchesDirection;t.swipeDirection=A>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const I=t.params.loop&&!a.cssMode,T=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(I&&T&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const F=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(F)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&R!==t.touchesDirection&&I&&T&&Math.abs(A)>=1){Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=A+r.startTranslate;let E=!0,L=a.resistanceRatio;if(a.touchReleaseOnEdges&&(L=0),A>0?(I&&T&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(E=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+A)**L))):A<0&&(I&&T&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(E=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-A)**L))),E&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(A)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function n5(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(F=>F.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Ao(),_=b-t.touchStartTime;if(e.allowClick){const F=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(F&&F[0]||r.target,F),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ao(),s0(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let w;if(u.followFinger?w=f?e.translate:-e.translate:w=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}const A=w>=-e.maxTranslate()&&!e.params.loop;let P=0,R=e.slidesSizesGrid[0];for(let F=0;F<p.length;F+=F<u.slidesPerGroupSkip?1:u.slidesPerGroup){const B=F<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[F+B]<"u"?(A||w>=p[F]&&w<p[F+B])&&(P=F,R=p[F+B]-p[F]):(A||w>=p[F])&&(P=F,R=p[p.length-1]-p[p.length-2])}let I=null,T=null;u.rewind&&(e.isBeginning?T=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(I=0));const E=(w-p[P])/R,L=P<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?I:P+L):e.slideTo(P)),e.swipeDirection==="prev"&&(E>1-u.longSwipesRatio?e.slideTo(P+L):T!==null&&E<0&&Math.abs(E)>u.longSwipesRatio?e.slideTo(T):e.slideTo(P))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+L):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(I!==null?I:P+L),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:P))}}function d1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function r5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function s5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function i5(n){const e=this;gh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function a5(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const lA=(n,e)=>{const t=gs(),{params:r,el:a,wrapperEl:o,device:u}=n,d=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",d1,!0):n[p]("observerUpdate",d1,!0),a[f]("load",n.onLoad,{capture:!0}))};function o5(){const n=this,{params:e}=n;n.onTouchStart=e5.bind(n),n.onTouchMove=t5.bind(n),n.onTouchEnd=n5.bind(n),n.onDocumentTouchStart=a5.bind(n),e.cssMode&&(n.onScroll=s5.bind(n)),n.onClick=r5.bind(n),n.onLoad=i5.bind(n),lA(n,"on")}function l5(){lA(this,"off")}var c5={attachEvents:o5,detachEvents:l5};const f1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function u5(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=gs(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,f);if(!p||n.currentBreakpoint===p)return;const b=(p in o?o[p]:void 0)||n.originalParams,_=f1(n,r),w=f1(n,b),A=n.params.grabCursor,P=b.grabCursor,R=r.enabled;_&&!w?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&w&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),A&&!P?n.unsetGrabCursor():!A&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof b[B]>"u")return;const V=r[B]&&r[B].enabled,O=b[B]&&b[B].enabled;V&&!O&&n[B].disable(),!V&&O&&n[B].enable()});const I=b.direction&&b.direction!==r.direction,T=r.loop&&(b.slidesPerView!==r.slidesPerView||I),E=r.loop;I&&t&&n.changeDirection(),Pr(n.params,b);const L=n.params.enabled,F=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),R&&!L?n.disable():!R&&L&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(T?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!E&&F?(n.loopCreate(e),n.updateSlides()):E&&!F&&n.loopDestroy()),n.emit("breakpoint",b)}function d5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=cr(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:o*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:p}=u[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var f5={setBreakpoint:u5,getBreakpoint:d5};function h5(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function m5(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=h5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function p5(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var g5={addClasses:m5,removeClasses:p5};function y5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var v5={checkOverflow:y5},o0={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function b5(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Pr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Pr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Pr(e,r)}}const ay={eventsEmitter:gL,update:CL,translate:DL,transition:LL,slide:GL,loop:YL,grabCursor:ZL,events:c5,breakpoints:f5,checkOverflow:v5,classes:g5},oy={};let Rv=class _i{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Pr({},t),e&&!t.el&&(t.el=e);const u=gs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(b=>{const _=Pr({},t,{el:b});y.push(new _i(_))}),y}const d=this;d.__swiper__=!0,d.support=sA(),d.device=iA({userAgent:t.userAgent}),d.browser=aA(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const f={};d.modules.forEach(y=>{y({params:t,swiper:d,extendParams:b5(t,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=Pr({},o0,f);return d.params=Pr({},p,oy,t),d.originalParams=Pr({},d.params),d.passedParams=Pr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(y=>{d.on(y,d.params.on[y])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=ps(t,`.${r.slideClass}, swiper-slide`),o=Yh(a[0]);return Yh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ps(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=o[p]?Math.ceil(o[p].swiperSlideSize):0,_;for(let w=p+1;w<o.length;w+=1)o[w]&&!_&&(b+=Math.ceil(o[w].swiperSlideSize),y+=1,b>f&&(_=!0));for(let w=p-1;w>=0;w-=1)o[w]&&!_&&(b+=o[w].swiperSlideSize,y+=1,b>f&&(_=!0))}else if(e==="current")for(let b=p+1;b<o.length;b+=1)(t?u[b]+d[b]-u[p]<f:u[b]-u[p]<f)&&(y+=1);else for(let b=p-1;b>=0;b-=1)u[p]-u[b]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&gh(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ps(r,a())[0];return!u&&t.params.createElements&&(u=Kh("div",t.params.wrapperClass),r.append(u),ps(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||xa(r,"direction")==="rtl"),wrongRTL:xa(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?gh(t,o):o.addEventListener("load",u=>{gh(t,u.target)})}),a0(t),t.initialized=!0,a0(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),rL(r)),r.destroyed=!0),null}static extendDefaults(e){Pr(oy,e)}static get extendedDefaults(){return oy}static get defaults(){return o0}static installModule(e){_i.prototype.__modules__||(_i.prototype.__modules__=[]);const t=_i.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>_i.installModule(t)),_i):(_i.installModule(e),_i)}};Object.keys(ay).forEach(n=>{Object.keys(ay[n]).forEach(e=>{Rv.prototype[e]=ay[n][e]})});Rv.use([mL,pL]);const cA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Po(e[r])&&Po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Bl(n[r],e[r]):n[r]=e[r]})}function uA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function dA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function fA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function hA(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function x5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function _5(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:f}=n;const p=a.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:y,pagination:b,navigation:_,scrollbar:w,virtual:A,thumbs:P}=e;let R,I,T,E,L,F,B,V;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(R=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(I=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&b&&!b.el&&(T=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(y.scrollbar||y.scrollbar===!1)&&w&&!w.el&&(E=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(L=!0);const O=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),y[N].prevEl=void 0,y[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),y[N].el=void 0,e[N].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?F=!0:!y.loop&&r.loop?B=!0:V=!0),p.forEach(N=>{if(Po(y[N])&&Po(r[N]))Object.assign(y[N],r[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in r[N]&&!r[N].enabled&&O(N);else{const M=r[N];(M===!0||M===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?M===!1&&O(N):y[N]=r[N]}}),p.includes("controller")&&!I&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&A&&y.virtual.enabled?(A.slides=t,A.update(!0)):a.includes("virtual")&&A&&y.virtual.enabled&&(t&&(A.slides=t),A.update(!0)),a.includes("children")&&t&&y.loop&&(V=!0),R&&P.init()&&P.update(!0),I&&(e.controller.control=y.controller.control),T&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),b.init(),b.render(),b.update()),E&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(y.scrollbar.el=d),w.init(),w.updateSize(),w.setTranslate()),L&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),_.init(),_.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(F||V)&&e.loopDestroy(),(B||V)&&e.loopCreate(),e.update()}function w5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Bl(t,o0),t._emitClasses=!0,t.init=!1;const o={},u=cA.map(f=>f.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Po(n[f])?(t[f]={},a[f]={},Bl(t[f],n[f]),Bl(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function E5(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:d}=n;uA(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),dA(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),fA(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function T5(n,e,t,r,a){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),p=t.map(a);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return cA.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Po(n[f])&&Po(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?u(f):(p.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}),y.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const S5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Xh(){return Xh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xh.apply(this,arguments)}function mA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function pA(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{mA(t)?e.push(t):t.props&&t.props.children&&pA(t.props.children).forEach(r=>e.push(r))}),e}function A5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(mA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=pA(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function C5(n,e,t){if(!t)return null;const r=y=>{let b=y;return y<0?b=e.length+y:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,d=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=d;y<f;y+=1)y>=o&&y<=u&&p.push(e[r(y)]);return p.map((y,b)=>Ut.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${b}`}))}function zu(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const h1=q.createContext(null),R5=q.createContext(null),Ml=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...d}=n===void 0?{}:n,f=!1;const[p,y]=q.useState("swiper"),[b,_]=q.useState(null),[w,A]=q.useState(!1),P=q.useRef(!1),R=q.useRef(null),I=q.useRef(null),T=q.useRef(null),E=q.useRef(null),L=q.useRef(null),F=q.useRef(null),B=q.useRef(null),V=q.useRef(null),{params:O,passedParams:N,rest:M,events:z}=w5(d),{slides:k,slots:D}=A5(o),le=()=>{A(!w)};Object.assign(O.on,{_containerClasses(xe,H){y(H)}});const fe=()=>{Object.assign(O.on,z),f=!0;const xe={...O};if(delete xe.wrapperClass,I.current=new Rv(xe),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=k;const H={cache:!1,slides:k,renderExternal:_,renderExternalUpdate:!1};Bl(I.current.params.virtual,H),Bl(I.current.originalParams.virtual,H)}};R.current||fe(),I.current&&I.current.on("_beforeBreakpoint",le);const $=()=>{f||!z||!I.current||Object.keys(z).forEach(xe=>{I.current.on(xe,z[xe])})},ae=()=>{!z||!I.current||Object.keys(z).forEach(xe=>{I.current.off(xe,z[xe])})};q.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",le)}),q.useEffect(()=>{!P.current&&I.current&&(I.current.emitSlidesClasses(),P.current=!0)}),zu(()=>{if(e&&(e.current=R.current),!!R.current)return I.current.destroyed&&fe(),E5({el:R.current,nextEl:L.current,prevEl:F.current,paginationEl:B.current,scrollbarEl:V.current,swiper:I.current},O),u&&!I.current.destroyed&&u(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),zu(()=>{$();const xe=T5(N,T.current,k,E.current,H=>H.key);return T.current=N,E.current=k,xe.length&&I.current&&!I.current.destroyed&&_5({swiper:I.current,slides:k,passedParams:N,changedParams:xe,nextEl:L.current,prevEl:F.current,scrollbarEl:V.current,paginationEl:B.current}),()=>{ae()}}),zu(()=>{S5(I.current)},[b]);function oe(){return O.virtual?C5(I.current,k,b):k.map((xe,H)=>Ut.cloneElement(xe,{swiper:I.current,swiperSlideIndex:H}))}return Ut.createElement(r,Xh({ref:R,className:hA(`${p}${t?` ${t}`:""}`)},M),Ut.createElement(R5.Provider,{value:I.current},D["container-start"],Ut.createElement(a,{className:x5(O.wrapperClass)},D["wrapper-start"],oe(),D["wrapper-end"]),uA(O)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:F,className:"swiper-button-prev"}),Ut.createElement("div",{ref:L,className:"swiper-button-next"})),fA(O)&&Ut.createElement("div",{ref:V,className:"swiper-scrollbar"}),dA(O)&&Ut.createElement("div",{ref:B,className:"swiper-pagination"}),D["container-end"]))});Ml.displayName="Swiper";const Dl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:d,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const b=q.useRef(null),[_,w]=q.useState("swiper-slide"),[A,P]=q.useState(!1);function R(L,F,B){F===b.current&&w(B)}zu(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",R),()=>{o&&o.off("_slideClass",R)}}}),zu(()=>{o&&b.current&&!o.destroyed&&w(o.getSlideClasses(b.current))},[o]);const I={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},T=()=>typeof r=="function"?r(I):r,E=()=>{P(!0)};return Ut.createElement(t,Xh({ref:b,className:hA(`${_}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:E},y),u&&Ut.createElement(h1.Provider,{value:I},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},T(),d&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ut.createElement(h1.Provider,{value:I},T(),d&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});Dl.displayName="SwiperSlide";function gA(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=ps(n.el,`.${r[a]}`)[0];o||(o=Kh("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function yh(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(A){let P;return A&&typeof A=="string"&&e.isElement&&(P=e.el.querySelector(A)||e.hostEl.querySelector(A),P)?P:(A&&(typeof A=="string"&&(P=[...document.querySelectorAll(A)]),e.params.uniqueNavElements&&typeof A=="string"&&P&&P.length>1&&e.el.querySelectorAll(A).length===1?P=e.el.querySelector(A):P&&P.length===1&&(P=P[0])),A&&!P?A:P)}function u(A,P){const R=e.params.navigation;A=Nn(A),A.forEach(I=>{I&&(I.classList[P?"add":"remove"](...R.disabledClass.split(" ")),I.tagName==="BUTTON"&&(I.disabled=P),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](R.lockClass))})}function d(){const{nextEl:A,prevEl:P}=e.navigation;if(e.params.loop){u(P,!1),u(A,!1);return}u(P,e.isBeginning&&!e.params.rewind),u(A,e.isEnd&&!e.params.rewind)}function f(A){A.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(A){A.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const A=e.params.navigation;if(e.params.navigation=gA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let P=o(A.nextEl),R=o(A.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:R}),P=Nn(P),R=Nn(R);const I=(T,E)=>{T&&T.addEventListener("click",E==="next"?p:f),!e.enabled&&T&&T.classList.add(...A.lockClass.split(" "))};P.forEach(T=>I(T,"next")),R.forEach(T=>I(T,"prev"))}function b(){let{nextEl:A,prevEl:P}=e.navigation;A=Nn(A),P=Nn(P);const R=(I,T)=>{I.removeEventListener("click",T==="next"?p:f),I.classList.remove(...e.params.navigation.disabledClass.split(" "))};A.forEach(I=>R(I,"next")),P.forEach(I=>R(I,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?w():(y(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:A,prevEl:P}=e.navigation;if(A=Nn(A),P=Nn(P),e.enabled){d();return}[...A,...P].filter(R=>!!R).forEach(R=>R.classList.add(e.params.navigation.lockClass))}),r("click",(A,P)=>{let{nextEl:R,prevEl:I}=e.navigation;R=Nn(R),I=Nn(I);const T=P.target;let E=I.includes(T)||R.includes(T);if(e.isElement&&!E){const L=P.path||P.composedPath&&P.composedPath();L&&(E=L.find(F=>R.includes(F)||I.includes(F)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let L;R.length?L=R[0].classList.contains(e.params.navigation.hiddenClass):I.length&&(L=I[0].classList.contains(e.params.navigation.hiddenClass)),a(L===!0?"navigationShow":"navigationHide"),[...R,...I].filter(F=>!!F).forEach(F=>F.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),d()},w=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:w,update:d,init:y,destroy:b})}function _u(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function N5(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(T,E){const{bulletActiveClass:L}=e.params.pagination;T&&(T=T[`${E==="prev"?"previous":"next"}ElementSibling`],T&&(T.classList.add(`${L}-${E}`),T=T[`${E==="prev"?"previous":"next"}ElementSibling`],T&&T.classList.add(`${L}-${E}-${E}`)))}function y(T,E,L){if(T=T%L,E=E%L,E===T+1)return"next";if(E===T-1)return"previous"}function b(T){const E=T.target.closest(_u(e.params.pagination.bulletClass));if(!E)return;T.preventDefault();const L=Yh(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===L)return;const F=y(e.realIndex,L,e.slides.length);F==="next"?e.slideNext():F==="previous"?e.slidePrev():e.slideToLoop(L)}else e.slideTo(L)}function _(){const T=e.rtl,E=e.params.pagination;if(f())return;let L=e.pagination.el;L=Nn(L);let F,B;const V=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(V/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,F=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(F=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,F=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let M,z,k;if(E.dynamicBullets&&(u=i0(N[0],e.isHorizontal()?"width":"height"),L.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${u*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&B!==void 0&&(d+=F-(B||0),d>E.dynamicMainBullets-1?d=E.dynamicMainBullets-1:d<0&&(d=0)),M=Math.max(F-d,0),z=M+(Math.min(N.length,E.dynamicMainBullets)-1),k=(z+M)/2),N.forEach(D=>{const le=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(fe=>`${E.bulletActiveClass}${fe}`)].map(fe=>typeof fe=="string"&&fe.includes(" ")?fe.split(" "):fe).flat();D.classList.remove(...le)}),L.length>1)N.forEach(D=>{const le=Yh(D);le===F?D.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),E.dynamicBullets&&(le>=M&&le<=z&&D.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),le===M&&p(D,"prev"),le===z&&p(D,"next"))});else{const D=N[F];if(D&&D.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&N.forEach((le,fe)=>{le.setAttribute("part",fe===F?"bullet-active":"bullet")}),E.dynamicBullets){const le=N[M],fe=N[z];for(let $=M;$<=z;$+=1)N[$]&&N[$].classList.add(...`${E.bulletActiveClass}-main`.split(" "));p(le,"prev"),p(fe,"next")}}if(E.dynamicBullets){const D=Math.min(N.length,E.dynamicMainBullets+4),le=(u*D-u)/2-k*u,fe=T?"right":"left";N.forEach($=>{$.style[e.isHorizontal()?fe:"top"]=`${le}px`})}}L.forEach((N,M)=>{if(E.type==="fraction"&&(N.querySelectorAll(_u(E.currentClass)).forEach(z=>{z.textContent=E.formatFractionCurrent(F+1)}),N.querySelectorAll(_u(E.totalClass)).forEach(z=>{z.textContent=E.formatFractionTotal(O)})),E.type==="progressbar"){let z;E.progressbarOpposite?z=e.isHorizontal()?"vertical":"horizontal":z=e.isHorizontal()?"horizontal":"vertical";const k=(F+1)/O;let D=1,le=1;z==="horizontal"?D=k:le=k,N.querySelectorAll(_u(E.progressbarFillClass)).forEach(fe=>{fe.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${le})`,fe.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(N.innerHTML=E.renderCustom(e,F+1,O),M===0&&a("paginationRender",N)):(M===0&&a("paginationRender",N),a("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](E.lockClass)})}function w(){const T=e.params.pagination;if(f())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let L=e.pagination.el;L=Nn(L);let F="";if(T.type==="bullets"){let B=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>E&&(B=E);for(let V=0;V<B;V+=1)T.renderBullet?F+=T.renderBullet.call(e,V,T.bulletClass):F+=`<${T.bulletElement} ${e.isElement?'part="bullet"':""} class="${T.bulletClass}"></${T.bulletElement}>`}T.type==="fraction"&&(T.renderFraction?F=T.renderFraction.call(e,T.currentClass,T.totalClass):F=`<span class="${T.currentClass}"></span> / <span class="${T.totalClass}"></span>`),T.type==="progressbar"&&(T.renderProgressbar?F=T.renderProgressbar.call(e,T.progressbarFillClass):F=`<span class="${T.progressbarFillClass}"></span>`),e.pagination.bullets=[],L.forEach(B=>{T.type!=="custom"&&(B.innerHTML=F||""),T.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(_u(T.bulletClass)))}),T.type!=="custom"&&a("paginationRender",L[0])}function A(){e.params.pagination=gA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let E;typeof T.el=="string"&&e.isElement&&(E=e.el.querySelector(T.el)),!E&&typeof T.el=="string"&&(E=[...document.querySelectorAll(T.el)]),E||(E=T.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(T.el)],E.length>1&&(E=E.find(L=>rA(L,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Nn(E),E.forEach(L=>{T.type==="bullets"&&T.clickable&&L.classList.add(...(T.clickableClass||"").split(" ")),L.classList.add(T.modifierClass+T.type),L.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(L.classList.add(`${T.modifierClass}${T.type}-dynamic`),d=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&L.classList.add(T.progressbarOppositeClass),T.clickable&&L.addEventListener("click",b),e.enabled||L.classList.add(T.lockClass)}))}function P(){const T=e.params.pagination;if(f())return;let E=e.pagination.el;E&&(E=Nn(E),E.forEach(L=>{L.classList.remove(T.hiddenClass),L.classList.remove(T.modifierClass+T.type),L.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(L.classList.remove(...(T.clickableClass||"").split(" ")),L.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(L=>L.classList.remove(...T.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:E}=e.pagination;E=Nn(E),E.forEach(L=>{L.classList.remove(T.horizontalClass,T.verticalClass),L.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?I():(A(),w(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{w(),_()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:T}=e.pagination;T&&(T=Nn(T),T.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(T,E)=>{const L=E.target,F=Nn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&F&&F.length>0&&!L.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&L===e.navigation.nextEl||e.navigation.prevEl&&L===e.navigation.prevEl))return;const B=F[0].classList.contains(e.params.pagination.hiddenClass);a(B===!0?"paginationShow":"paginationHide"),F.forEach(V=>V.classList.toggle(e.params.pagination.hiddenClass))}});const R=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Nn(T),T.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),A(),w(),_()},I=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=Nn(T),T.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:R,disable:I,render:w,update:_,init:A,destroy:P})}function I5(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,d,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,b=new Date().getTime(),_,w,A,P,R,I,T;function E(oe){!e||e.destroyed||!e.wrapperEl||oe.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(T||oe.detail&&oe.detail.bySwiperTouchMove)&&M())}const L=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(p=y,_=!1);const oe=e.autoplay.paused?y:b+p-new Date().getTime();e.autoplay.timeLeft=oe,a("autoplayTimeLeft",oe,oe/f),d=requestAnimationFrame(()=>{L()})},F=()=>{let oe;return e.virtual&&e.params.virtual.enabled?oe=e.slides.find(H=>H.classList.contains("swiper-slide-active")):oe=e.slides[e.activeIndex],oe?parseInt(oe.getAttribute("data-swiper-autoplay"),10):void 0},B=oe=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),L();let xe=typeof oe>"u"?e.params.autoplay.delay:oe;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=F();!Number.isNaN(H)&&H>0&&typeof oe>"u"&&(xe=H,f=H,p=H),y=xe;const ie=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ie,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ie,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ie,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ie,!0,!0),a("autoplay")),e.params.cssMode&&(b=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return xe>0?(clearTimeout(u),u=setTimeout(()=>{ve()},xe)):requestAnimationFrame(()=>{ve()}),xe},V=()=>{b=new Date().getTime(),e.autoplay.running=!0,B(),a("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(d),a("autoplayStop")},N=(oe,xe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),oe||(I=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):M()};if(e.autoplay.paused=!0,xe){R&&(y=e.params.autoplay.delay),R=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-b),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},M=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(b=new Date().getTime(),I?(I=!1,B(y)):B(),e.autoplay.paused=!1,a("autoplayResume"))},z=()=>{if(e.destroyed||!e.autoplay.running)return;const oe=gs();oe.visibilityState==="hidden"&&(I=!0,N(!0)),oe.visibilityState==="visible"&&M()},k=oe=>{oe.pointerType==="mouse"&&(I=!0,T=!0,!(e.animating||e.autoplay.paused)&&N(!0))},D=oe=>{oe.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&M())},le=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",D))},fe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",D))},$=()=>{gs().addEventListener("visibilitychange",z)},ae=()=>{gs().removeEventListener("visibilitychange",z)};r("init",()=>{e.params.autoplay.enabled&&(le(),$(),V())}),r("destroy",()=>{fe(),ae(),e.autoplay.running&&O()}),r("_freeModeStaticRelease",()=>{(A||I)&&M()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():N(!0,!0)}),r("beforeTransitionStart",(oe,xe,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?N(!0,!0):O())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}w=!0,A=!1,I=!1,P=setTimeout(()=>{I=!0,A=!0,N(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!w)){if(clearTimeout(P),clearTimeout(u),e.params.autoplay.disableOnInteraction){A=!1,w=!1;return}A&&e.params.cssMode&&M(),A=!1,w=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(R=!0)}),Object.assign(e.autoplay,{start:V,stop:O,pause:N,resume:M})}function m1(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,b=p.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let _;p.params.loop?_=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=y,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Mu(p.swiper)){const b=Object.assign({},p.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const b=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let _=1;const w=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),y.slides.forEach(R=>R.classList.remove(w)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let R=0;R<_;R+=1)ps(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+R}"]`).forEach(I=>{I.classList.add(w)});else for(let R=0;R<_;R+=1)y.slides[e.realIndex+R]&&y.slides[e.realIndex+R].classList.add(w);const A=e.params.thumbs.autoScrollOffset,P=A&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const R=y.activeIndex;let I,T;if(y.params.loop){const E=y.slides.find(L=>L.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);I=y.slides.indexOf(E),T=e.activeIndex>e.previousIndex?"next":"prev"}else I=e.realIndex,T=I>e.previousIndex?"next":"prev";P&&(I+=T==="next"?A:-1*A),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(I)<0&&(y.params.centeredSlides?I>R?I=I-Math.floor(b/2)+1:I=I+Math.floor(b/2)-1:I>R&&y.params.slidesPerGroup,y.slideTo(I,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=gs(),b=()=>{const w=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(w&&w.swiper)p.swiper=w.swiper,d(),f(!0);else if(w){const A=`${e.params.eventsPrefix}init`,P=R=>{p.swiper=R.detail[0],w.removeEventListener(A,P),d(),f(!0),p.swiper.update(),e.update()};w.addEventListener(A,P)}return w},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else d(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(p,y)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:f})}function p1(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:p}=e;f.velocities.length===0&&f.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:Ao()})}function d(f){let{currentPos:p}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:b,rtlTranslate:_,snapGrid:w,touchEventsData:A}=e,R=Ao()-A.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<w.length?e.slideTo(w.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(A.velocities.length>1){const O=A.velocities.pop(),N=A.velocities.pop(),M=O.position-N.position,z=O.time-N.time;e.velocity=M/z,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(z>150||Ao()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,A.velocities.length=0;let I=1e3*y.freeMode.momentumRatio;const T=e.velocity*I;let E=e.translate+T;_&&(E=-E);let L=!1,F;const B=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let V;if(E<e.maxTranslate())y.freeMode.momentumBounce?(E+e.maxTranslate()<-B&&(E=e.maxTranslate()-B),F=e.maxTranslate(),L=!0,A.allowMomentumBounce=!0):E=e.maxTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(E>e.minTranslate())y.freeMode.momentumBounce?(E-e.minTranslate()>B&&(E=e.minTranslate()+B),F=e.minTranslate(),L=!0,A.allowMomentumBounce=!0):E=e.minTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(y.freeMode.sticky){let O;for(let N=0;N<w.length;N+=1)if(w[N]>-E){O=N;break}Math.abs(w[O]-E)<Math.abs(w[O-1]-E)||e.swipeDirection==="next"?E=w[O]:E=w[O-1],E=-E}if(V&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?I=Math.abs((-E-e.translate)/e.velocity):I=Math.abs((E-e.translate)/e.velocity),y.freeMode.sticky){const O=Math.abs((_?-E:E)-e.translate),N=e.slidesSizesGrid[e.activeIndex];O<N?I=y.speed:O<2*N?I=y.speed*1.5:I=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&L?(e.updateProgress(F),e.setTransition(I),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ey(b,()=>{!e||e.destroyed||!A.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(F),ey(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(I),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ey(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||R>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:d}})}const O5=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await za(Lr(bn,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),m.jsx("div",{className:"w-full",children:m.jsx(Ml,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[I5,N5,yh],className:"mySwiper",children:n.map((t,r)=>m.jsx(Dl,{children:m.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},g1=()=>m.jsxs("div",{children:[m.jsx("div",{children:m.jsx(O5,{})}),m.jsx("div",{children:m.jsx("div",{children:m.jsx(eA,{})})})]}),M5=q.createContext(),D5=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const f=wP(Yg,p=>{t(p),a(!1)});return()=>f()},[]);const d={user:e,login:async(f,p)=>{a(!0);try{await bP(Yg,f,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await EP(Yg)},loading:r};return m.jsx(M5.Provider,{value:d,children:n})},j5=()=>m.jsx("div",{children:m.jsx("p",{children:"this is admin page"})}),y1=()=>{const{gender:n,category:e}=v0(),t=2,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const T=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const u=T=>T?Math.round(T).toLocaleString("en-US"):"0",d=async({pageParam:T=null})=>{const E=T?Mo(Lr(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),YS(T),Vh(t)):Mo(Lr(bn,"products"),ba("gender","==",n),ba("subcategory","array-contains",e.toLowerCase()),Vh(t)),L=await za(E),F=[];return L.forEach(B=>{const V=B.data();V.available&&V.stock>0&&F.push({id:B.id,...V})}),{products:F,lastVisible:L.docs[L.docs.length-1]}},{data:f,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:b,isLoading:_,error:w}=Z2({queryKey:["products",n,e],queryFn:d,getNextPageParam:T=>T.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),A=T=>{const E=JSON.parse(localStorage.getItem("cart"))||[],L=E.find(F=>F.id===T.id);L?L.quantity+=1:E.push({id:T.id,productId:T.productId,name:T.name,price:T.discount?Math.round(T.price-T.price*(T.discount/100)):Math.round(T.price),image:T.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(E)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},P=T=>{T.colorVariants&&T.colorVariants.length>0?window.location.href=`/product/${T.productId||T.id}`:A(T)},R=T=>{T.colorVariants&&T.colorVariants.length>0?window.location.href=`/product/${T.productId||T.id}`:(A(T),window.location.href="/cart")},I=(f==null?void 0:f.pages.flatMap(T=>T.products))||[];return _?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):w?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"",ref:r,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:["Showing products for ",n," / ",e]}),I.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:I.map(T=>{const E=T.discount&&T.discount>0,L=T.colorVariants&&T.colorVariants.length>0,F=a?17:25,B=T.name.length>F,V=B?`${T.name.substring(0,F)}...`:T.name;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(gt,{to:`/product/${T.productId||T.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:T.mainImage||"/placeholder-product.jpg",alt:T.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),E&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[T.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[V,B&&m.jsx(gt,{to:`/product/${T.productId||T.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:O=>{O.preventDefault(),window.location.href=`/product/${T.productId||T.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(T.discount?T.price-T.price*(T.discount/100):T.price)]}),T.regularPrice&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",u(T.regularPrice)]})})]}),T.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",T.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>P(T),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:L?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>R(T),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${T.stock>0?"text-green-600":"text-red-500"}`,children:T.stock>0?"In Stock":"Out of Stock"}),T.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[T.stock," units"]})]})]})]},T.id)})}),y&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>p(),disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:b?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},Zf=n=>{},l0=typeof window>"u"?q.useEffect:q.useLayoutEffect,yA=n=>typeof n=="number"&&n>0,v1=n=>yA(n)?n:0,c0=n=>Math.round(100*n)/100,u0=n=>Math.round(2*n)/2,b1=n=>n===0?0:-1*c0(n),P5={},k5="rr--group",L5="rr--box",V5="rr--svg",z5="rr--reset",x1="rr--focus-reset",U5="rr--svg-stop-1",B5="rr--svg-stop-2",_1="rr--on",w1="rr--off",Du={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},Jf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},ly={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},cy={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},F5="rr--pointer",q5="rr--disabled",H5="rr--dir-y",G5="rr--dir-x",$5="rr--has-stroke",Q5="rr--has-border",K5="rr--hf-box-on",Y5="rr--hf-box-int",X5="rr--hf-box-off",W5="rr--hf-svg-on",Z5="rr--hf-svg-off",eh={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},th={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},J5="--rr--border-width",vA="horizontal",bA="vertical",uy="svg",E1="box",Mr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Il={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},_a={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},nh={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function eV({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=vA,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",d=q.useId(),f=q.useRef(null),[p,y]=q.useState(null),[b,_]=q.useState(!1),w=q.useRef(null),A=q.useRef(null),P=q.useCallback(R=>{const{width:I,height:T,x:E,y:L}=R.getBBox();if(((...F)=>F.every(B=>typeof B=="number"))(I,T,E,L)){const F=`${u} ${c0(I+t)} ${c0(T+t)}`,B=`${b1(E)} ${b1(L)}`;y({viewBox:F,translateData:B})}},[t,u]);return l0(()=>{if(f.current){const{width:R,height:I,x:T,y:E}=f.current.getBBox();if(R===0&&I===0&&T===0&&E===0){const L=function(F){if(!F||!F.parentElement)return null;let B=F==null?void 0:F.parentElement;for(;B&&window.getComputedStyle(B).display!=="none";)B=B.parentElement;return B}(f.current);L&&(A.current=L,_(!0))}else _(!1);P(f.current)}},[n,t,a]),l0(()=>{if(b&&A.current)return w.current=new MutationObserver((R,I)=>{R.forEach(()=>{window.getComputedStyle(A.current).display==="none"||(P(f.current),I.disconnect())})}),w.current.observe(A.current,{attributes:!0}),()=>{var R;(R=w.current)==null||R.disconnect()}},[b,P]),m.jsxs("svg",{"aria-hidden":"true",className:V5,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&m.jsx("defs",{children:m.jsxs("linearGradient",{id:d,...r===bA?{gradientTransform:"rotate(90)"}:{},children:[m.jsx("stop",{className:U5,offset:"50%"}),m.jsx("stop",{className:B5,offset:"50%"})]})}),m.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(p){const R=`translate(${p==null?void 0:p.translateData})`;return R==="translate(0 0)"?{}:{transform:R}}return{transform:void 0}}(),...a?{fill:`url('#${d}')`}:{},children:n})]})}function xA(n,e,t){switch(e){case _a.FILL:return n[eh.FILL]=t,!0;case _a.BOX:return n[eh.BOX]=t,!0;case _a.BORDER:return n[eh.BORDER]=t,!0;case _a.STROKE:return n[eh.STROKE]=t,!0}return!1}function tV(n,e,t){if(!xA(n,e,t))switch(e){case nh.FILL:n[th.FILL]=t;break;case nh.BOX:n[th.BOX]=t;break;case nh.BORDER:n[th.BORDER]=t;break;case nh.STROKE:n[th.STROKE]=t}}function nV(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))xA(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const dy=n=>`${n} ${Du.COLORS}`;function rV({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:d,absoluteStrokeWidth:f,spaceBetween:p,spaceInside:y}){const b=a?F5:"",_=function(T){switch(T){case Mr.SMALL:return ly.SMALL;case Mr.MEDIUM:return ly.MEDIUM;case Mr.LARGE:return ly.LARGE;default:return""}}(p),w=function(T){switch(T){case Mr.SMALL:return cy.SMALL;case Mr.MEDIUM:return cy.MEDIUM;case Mr.LARGE:return cy.LARGE;default:return""}}(y),A=!t&&r?q5:"",P=a&&o!==Il.NONE?function(T){switch(T){case Il.ZOOM:return dy(Du.ZOOM);case Il.POSITION:return dy(Du.POSITION);case Il.OPACITY:return dy(Du.OPACITY);case Il.COLORS:return Du.COLORS;default:return""}}(o):"",R=u===bA?H5:G5,I=function(T){switch(T){case Mr.SMALL:return Jf.SMALL;case Mr.MEDIUM:return Jf.MEDIUM;case Mr.LARGE:return Jf.LARGE;case Mr.FULL:return Jf.FULL;default:return""}}(e);return`${k5} ${R} ${f>0?$5:""} ${d>0?Q5:""}
${P} ${I} ${b} ${A} ${_}
${w} ${n}`.replace(/  +/g," ").trimEnd()}function sV(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?_1:w1:a<=t?_1:w1)}function iV(n,e,t){const r=Math.floor(u0(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?X5:o===r?Y5:K5:o>r?Z5:W5)}function T1(n,e){const t={};yA(e)&&(t[J5]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)tV(t,a,o);return t}const aV=[_a.FILL,_a.BOX,_a.STROKE,_a.BORDER];function fy(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const oV="@smastrom/react-rating",lV=n=>`[${oV}] - Nothing's returned from rendering. Reason: ${n}.`;function wu(n,e){return n.shouldRender=!1,n.reason=lV(e),n}const S1="itemShapes is not a valid JSX element",cV=m.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});m.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});m.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});m.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});m.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});m.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const uV={itemShapes:cV,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},ju=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=Zf,onHoverChange:a=Zf,onFocus:o=Zf,onBlur:u=Zf,preventDefault:d="all",isDisabled:f=!1,highlightOnlySelected:p=!1,orientation:y=vA,spaceBetween:b=Mr.NONE,spaceInside:_=Mr.SMALL,radius:w=Mr.NONE,transition:A=Il.COLORS,itemStyles:P=uV,isRequired:R=!1,halfFillMode:I=uy,visibleLabelId:T,visibleItemLabelIds:E,invisibleItemLabels:L,invisibleLabel:F=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:B="Reset rating",id:V,className:O,style:N},M)=>{const z=Array.from({length:e},(Me,Oe)=>Oe+1),k=t&&!Number.isInteger(n),D=k&&!p,le=k&&p?Math.round(n):n,fe=!t&&!f,$=le>=.25,ae=typeof O=="string"?O:"",oe=I===E1?E1:uy,xe=D&&!(Me=>Number.isInteger(u0(Me)))(le),H=!R&&!t,ie=R?e:e+1,ve=D?function(Me,Oe){const Je=u0(Oe);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(z,le):z.indexOf(le),{staticColors:ge,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:Oe,boxBorderWidth:Je,...ft}=P,qt=function(sn){const tr={...sn},In={},Fn=Object.entries(tr);if(Fn.length>0)for(const[On,Qt]of Fn)if(Array.isArray(Qt)||typeof Qt=="string"){if(Array.isArray(Qt))for(const Ur of aV)if(Ur===On){const _r=Qt.filter(Ts=>typeof Ts=="string");_r.length>0&&(In[On]=_r,delete tr[On])}else delete tr[On]}else delete tr[On];return{arrayColors:In,staticColors:tr}}(ft);return{itemShapes:Me,absoluteStrokeWidth:v1(Oe),absoluteBoxBorderWidth:v1(Je),...qt}},[P]),Te=Object.keys(Se).length>0,it=q.useCallback((Me,Oe)=>({dynamicClassNames:xe?iV(le,e,oe):sV(p,e,Me),dynamicCssVars:Oe&&Te?nV(Se,Me,p):[]}),[Se,Te,p,oe,xe,e,le]),Ze=q.useCallback(()=>_s(fy(ie,ve,!R)),[ve,ie,R]),It=q.useRef(!0),Ht=q.useRef(!0),hn=q.useRef(null),Ft=q.useRef([]),ur=q.useRef(!1),[Zn,Xt]=q.useState({staticCssVars:T1(ge,ye),...it(ve,$)}),[xs,_s]=q.useState(()=>fe?fy(ie,ve,!R):[]);l0(()=>{fe&&Ft.current&&(ur.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(Ft.current[0]))},[fe]),q.useEffect(()=>{if(!It.current)return Xt({staticCssVars:T1(ge,ye),...it(ve,$)});It.current=!1},[ge,it,ye,ve,$]),q.useEffect(()=>{if(!Ht.current&&fe)return Ze();Ht.current=!1},[fe,Ze]);const{shouldRender:ws,reason:ss}=function({items:Me,itemShapes:Oe}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return wu(Je,"items is invalid");if(!Oe)return wu(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Oe)&&!q.isValidElement(Oe))return wu(Je,S1);if(Array.isArray(Oe)){if(Oe.length!==Me)return wu(Je,"itemShapes length mismatch");if(!Oe.every(ft=>q.isValidElement(ft)))return wu(Je,S1)}return Je}({items:e,itemShapes:Ve});if(!ws)return console.error(ss),null;function Jn(Me,Oe,Je=()=>{}){Ft.current.some(ft=>ft===Me.relatedTarget)?Je():Oe()}function er(){a(0),Ze()}function Es(Me){Jn(Me,()=>{er()}),Xt({...Zn,...it(ve,$)})}function is(Me){Jn(Me,()=>{er(),u()})}function yt(Me,Oe){const Je=!R&&Oe===z.length?0:Oe+1;Jn(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){_s(fy(ie,Me,!R)),Ft.current[Me].focus()}const wn=rV({className:ae,radius:w,readOnly:t,isDisabled:f,isDynamic:fe,transition:A,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:b,spaceInside:_});function $t(Me){return{ref:Oe=>Ft.current[Me]=Oe}}function Zs(Me){return{tabIndex:xs[Me],onKeyDown:Oe=>function(Je,ft){let qt=0;const sn=R?z.length-1:z.length,tr=ft-1,In=ft+1,Fn=!R&&ft===z.length,On=ft===0?sn:tr,Qt=sn===ft?0:In;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return qt=ur.current?On:Qt,We(qt);case"ArrowUp":case"ArrowLeft":return qt=ur.current?Qt:On,We(qt);case"Enter":case"Space":return d!=="all"&&d!=="click"||Je.preventDefault(),r(Fn?0:ft+1)}Je.stopPropagation()}(Oe,Me)}}function dr(Me){return{onClick:Oe=>function(Je,ft){d!=="all"&&d!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(R||ve!==ft?ft+1:0)}(Oe,Me),onMouseEnter:()=>function(Oe){a(Oe+1),Xt({...Zn,...it(Oe,!0)})}(Me),onMouseLeave:Es}}function Vr(Me){if(t)return{};const Oe={};if(Array.isArray(E))Oe["aria-labelledby"]=E[Me];else{const Je=Array.isArray(L)?L:z.map((ft,qt)=>`Rate ${qt+1}`);Oe["aria-label"]=Je[Me]}return f&&(Oe["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===le,...Oe}}function zr(Me){const Oe={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return xe&&oe===uy&&(Oe.hasHF=Me===ve),Oe}return m.jsx("div",{id:V,className:wn,style:{...N,...Zn.staticCssVars},ref:function(Me){fe&&!R&&(hn.current=Me),M&&(M.current=Me)},...function(){if(!t){const Me=R&&!f,Oe={role:"radiogroup","aria-required":Me};return Me&&(Oe["aria-invalid"]=le<=0),typeof T=="string"&&T.length>0?Oe["aria-labelledby"]=T:Oe["aria-label"]=F,Oe}return{role:"img","aria-label":F}}(),...P5,children:z.map((Me,Oe)=>{return m.jsxs(q.Fragment,{children:[m.jsx("div",{className:`${L5} ${Zn.dynamicClassNames[Oe]}`,style:Zn.dynamicCssVars[Oe],...Vr(Oe),...(ft=Oe,fe?{...$t(ft),...Zs(ft),...dr(ft),onFocus:qt=>yt(qt,ft),onBlur:qt=>is(qt)}:{}),children:m.jsx(eV,{...zr(Oe)})}),H&&Oe===z.length-1&&m.jsx("div",{...(Je=Oe+1,{className:z5,role:"radio","aria-label":B,"aria-checked":le===0,onClick:()=>r(0),onFocus:qt=>{var sn;yt(qt,Je),(sn=hn.current)==null||sn.classList.add(x1)},onBlur:qt=>{var sn;is(qt),(sn=hn.current)==null||sn.classList.remove(x1)},...Zs(Je),...$t(Je),...f?{"aria-disabled":"true"}:{}})})]},Me);var Je,ft})})});ju.displayName="Rating";function dV(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}dV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Nv=n=>typeof n=="number"&&!isNaN(n),td=n=>typeof n=="string",_A=n=>typeof n=="function",fV=n=>td(n)||Nv(n),hV=n=>q.isValidElement(n)||td(n)||_A(n)||Nv(n),mV=1,wA=()=>`${mV++}`,Ks=new Map,d0=[],A1=new Set,EA=()=>Ks.size>0,pV=(n,{containerId:e})=>{var t;return(t=Ks.get(e||1))==null?void 0:t.toasts.get(n)};function gV(n,e){var t;if(e)return!!((t=Ks.get(e))!=null&&t.isToastActive(n));let r=!1;return Ks.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function yV(n){if(!EA()){d0=d0.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||fV(n))Ks.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ks.get(n.containerId);e?e.removeToast(n.id):Ks.forEach(t=>{t.removeToast(n.id)})}}var vV=(n={})=>{Ks.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function bV(n,e){hV(n)&&(EA()||d0.push({content:n,options:e}),Ks.forEach(t=>{t.buildToast(n,e)}))}function TA(n,e){Ks.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function xV(n){return A1.add(n),()=>{A1.delete(n)}}function _V(n){return n&&(td(n.toastId)||Nv(n.toastId))?n.toastId:wA()}function Ed(n,e){return bV(n,e),e.toastId}function Rm(n,e){return{...e,type:e&&e.type||n,toastId:_V(e)}}function Nm(n){return(e,t)=>Ed(e,Rm(n,t))}function wt(n,e){return Ed(n,Rm("default",e))}wt.loading=(n,e)=>Ed(n,Rm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function wV(n,{pending:e,error:t,success:r},a){let o;e&&(o=td(e)?wt.loading(e,a):wt.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,b)=>{if(y==null){wt.dismiss(o);return}let _={type:p,...u,...a,data:b},w=td(y)?{render:y}:y;return o?wt.update(o,{..._,...w}):wt(w.render,{..._,...w}),b},f=_A(n)?n():n;return f.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),f}wt.promise=wV;wt.success=Nm("success");wt.info=Nm("info");wt.error=Nm("error");wt.warning=Nm("warning");wt.warn=wt.warning;wt.dark=(n,e)=>Ed(n,Rm("default",{theme:"dark",...e}));function EV(n){yV(n)}wt.dismiss=EV;wt.clearWaitingQueue=vV;wt.isActive=gV;wt.update=(n,e={})=>{let t=pV(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:wA()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Ed(u,o)}};wt.done=n=>{wt.update(n,{progress:1})};wt.onChange=xV;wt.play=n=>TA(!0,n);wt.pause=n=>TA(!1,n);function TV(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const SV=()=>{var ae,oe,xe,H,ie,ve,ge,Se,Ve,Ee;const{productId:n}=v0(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,u]=q.useState(null),[d,f]=q.useState(null),[p,y]=q.useState(0),[b,_]=q.useState(null),[w,A]=q.useState(null),[P,R]=q.useState("description"),[I,T]=q.useState([]),[E,L]=q.useState(!1),[F,B]=q.useState({name:"",contact:"",rating:0,comment:""}),[V,O]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const it=Mo(Lr(bn,"products"),ba("productId","==",n)),Ze=await za(it);if(!Ze.empty){const It=Ze.docs[0],Ht={id:It.id,...It.data()};t(Ht),Ht.isColorVariants&&((Te=Ht.colorVariants)==null?void 0:Te.length)>0&&u(Ht.colorVariants[0])}a(!1)}catch(it){console.error("Error fetching product:",it),a(!1)}})()},[n]),q.useEffect(()=>{let ye;return(()=>{if(!n)return;const it=Lr(bn,"reviews"),Ze=Mo(it,ba("productId","==",n));ye=vj(Ze,It=>{const Ht=[];It.forEach(hn=>{Ht.push({id:hn.id,...hn.data()})}),T(Ht)},It=>{console.error("Error listening to reviews:",It)})})(),()=>{ye&&ye()}},[n]);const N=()=>{var Ze,It,Ht,hn;if(le()){wt.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!w){wt.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(It=o==null?void 0:o.images)==null?void 0:It[0]:(Ht=e.images)==null?void 0:Ht[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(hn=o==null?void 0:o.images)==null?void 0:hn[0]}:null,size:w?{size:w.size,stock:w.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},it=ye.findIndex(Ft=>{var ur,Zn,Xt,xs;return!(Ft.id!==Te.id||e.isColorVariants&&((ur=Ft.color)==null?void 0:ur.name)!==((Zn=Te.color)==null?void 0:Zn.name)||w&&((Xt=Ft.size)==null?void 0:Xt.size)!==((xs=Te.size)==null?void 0:xs.size))});it>=0?(ye[it].quantity+=1,wt.success("Item quantity increased in cart")):(ye.push(Te),wt.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},M=()=>{N(),window.location.href="/cart"},z=async ye=>{if(ye.preventDefault(),!F.name||!F.comment||F.rating===0||!F.contact){wt.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(F.contact),it=/^[0-9]{10,15}$/.test(F.contact);if(!Te&&!it){wt.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:F.name,contact:F.contact,contactType:Te?"email":"phone",rating:F.rating,comment:F.comment,createdAt:new Date().toISOString()};V?(await gj(Oo(bn,"reviews",V),Ze),wt.success("Review updated successfully")):(await t2(Lr(bn,"reviews"),Ze),wt.success("Review submitted successfully")),L(!1),B({name:"",contact:"",rating:0,comment:""}),O(null)}catch(Ze){console.error("Error submitting review:",Ze),wt.error("Failed to submit review")}},k=ye=>{B({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),O(ye.id),L(!0)},D=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await yj(Oo(bn,"reviews",ye)),wt.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),wt.error("Failed to delete review")}},le=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},fe=ye=>ye<1;if(r)return m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return m.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=I.length>0?(I.reduce((ye,Te)=>ye+Te.rating,0)/I.length).toFixed(1):0;return m.jsxs("div",{className:"pt-6",children:[E&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold",children:V?"Edit Review":"Write a Review"}),m.jsx("button",{onClick:()=>{L(!1),O(null),B({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:z,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:F.name,onChange:ye=>B({...F,name:ye.target.value}),required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:F.contact,onChange:ye=>B({...F,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),m.jsx(ju,{style:{maxWidth:150},value:F.rating,onChange:ye=>B({...F,rating:ye}),isRequired:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),m.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:F.comment,onChange:ye=>B({...F,comment:ye.target.value}),required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:()=>{L(!1),O(null),B({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:V?"Update Review":"Submit Review"})]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[m.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[yh,m1],className:"mb-2 rounded-lg relative",children:[(ae=o==null?void 0:o.images)==null?void 0:ae.map((ye,Te)=>m.jsxs(Dl,{children:[m.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),m.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[m.jsx("p",{children:o.colorName}),m.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"relative mt-2",children:[m.jsx(Ml,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[yh,m1,p1],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>u(ye),children:[m.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs(Ml,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[yh],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:_,children:[(oe=e.images)==null?void 0:oe.map((ye,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[m.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),m.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),m.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((xe=e.images)==null?void 0:xe.length)>1&&m.jsx("div",{className:"relative mt-2",children:m.jsx(Ml,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[p1],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>m.jsx(Dl,{children:m.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),b&&b.slideTo(Te)},children:[m.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),m.jsxs("div",{className:"px-2 sm:px-0",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:m.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[m.jsx("span",{children:m.jsx(Ew,{})}),m.jsx("p",{children:"Ask for details"})]})}),m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx(ju,{style:{maxWidth:100},value:$,readOnly:!0}),m.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",I.length," ",I.length===1?"review":"reviews",")"]})]}),m.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[m.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&m.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&m.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),m.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>m.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&u(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((ie=o==null?void 0:o.sizes)==null?void 0:ie.length)>0&&m.jsxs("div",{className:"mb-4 sm:mb-5",children:[m.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(w==null?void 0:w.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${fe(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!fe(ye.stock)&&A(ye),disabled:fe(ye.stock),children:ye.size}),m.jsxs("span",{className:`text-xs mt-1 ${fe(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),m.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[m.jsx("span",{className:`font-medium ${le()?"text-red-500":"text-green-600"}`,children:le()?"Out of Stock":"In Stock"}),!le()&&m.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),m.jsx("div",{children:e.productType&&m.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),m.jsxs("div",{className:"flex gap-3 mb-2",children:[m.jsx("button",{onClick:N,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${le()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:le()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!w,children:"Add to Cart"}),m.jsx("button",{onClick:M,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${le()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:le()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!w,children:"Buy Now"})]}),m.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[m.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:m.jsx(TV,{className:"text-black text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"কল করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})}),m.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx(Ew,{className:"text-green-500 text-2xl"})}),m.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),m.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),m.jsxs("div",{className:"mt-8 border-t pt-6",children:[m.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("description"),children:"Description"}),m.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("reviews"),children:["Reviews (",I.length,")"]})]}),m.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?m.jsxs("div",{className:"space-y-4",children:[e.productType&&m.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:m.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),m.jsx("div",{className:"prose max-w-none text-gray-600",children:e.description||"No description available."}),e.detailsImage&&m.jsx("div",{className:"mt-4",children:m.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[m.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[m.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),m.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:m.jsx(ju,{style:{maxWidth:120},value:$,readOnly:!0})}),m.jsxs("p",{className:"text-gray-600",children:[I.length," ",I.length===1?"review":"reviews"]})]}),m.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),I.length>0?m.jsx("div",{className:"space-y-6",children:I.map(ye=>m.jsxs("div",{className:"border-b pb-4",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold",children:ye.name}),m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx(ju,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>k(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),m.jsx("button",{onClick:()=>D(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),m.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&m.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),m.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),m.jsx("button",{onClick:()=>L(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},AV=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=T=>{const{name:E,value:L,type:F,checked:B}=T.target;e(V=>({...V,[E]:F==="checkbox"?B:L}))},r=T=>{const{name:E,value:L}=T.target;e(F=>({...F,[E]:Number(L)}))},a=T=>{const{name:E,value:L}=T.target;e(F=>({...F,[E]:L.split(",").map(B=>B.trim())}))},o=(T,E,L)=>{const F=[...n.colorVariants];F[T][E]=E==="stock"||E==="isOutfit"?E==="isOutfit"?L:Number(L):L,e(B=>({...B,colorVariants:F}))},u=(T,E,L)=>{const F=[...n.colorVariants];F[T].images[E]=L,e(B=>({...B,colorVariants:F}))},d=(T,E,L,F)=>{const B=[...n.colorVariants];B[T].sizes[E][L]=L==="stock"?Number(F):F,e(V=>({...V,colorVariants:B}))},f=()=>{e(T=>({...T,colorVariants:[...T.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=T=>{const E=[...n.colorVariants];E.splice(T,1),e(L=>({...L,colorVariants:E}))},y=T=>{const E=[...n.colorVariants];E[T].images.push(""),e(L=>({...L,colorVariants:E}))},b=(T,E)=>{const L=[...n.colorVariants];L[T].images.splice(E,1),e(F=>({...F,colorVariants:L}))},_=T=>{const E=[...n.colorVariants];E[T].sizes.push({size:"",stock:0}),e(L=>({...L,colorVariants:E}))},w=(T,E)=>{const L=[...n.colorVariants];L[T].sizes.splice(E,1),e(F=>({...F,colorVariants:L}))},A=(T,E)=>{const L=[...n.images];L[T]=E,e(F=>({...F,images:L}))},P=()=>{e(T=>({...T,images:[...T.images,""]}))},R=T=>{const E=[...n.images];E.splice(T,1),e(L=>({...L,images:E}))},I=async T=>{T.preventDefault();try{const E={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?E.colorVariants=n.colorVariants.map(F=>{const{isOutfit:B,sizes:V,...O}=F;return B?{...O,sizes:V}:O}):E.images=n.images;const L=Oo(bn,n.collectionName,n.documentName);await hv(L,E),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(F=>({...F,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(E){console.error("Error adding document: ",E),alert("Error uploading product!")}};return m.jsxs("div",{className:"container mx-auto p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),m.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),m.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),m.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),m.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Gender"}),m.jsx("option",{value:"men",children:"Men"}),m.jsx("option",{value:"women",children:"Women"}),m.jsx("option",{value:"unisex",children:"Unisex"}),m.jsx("option",{value:"kids",children:"Kids"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),m.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),m.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[m.jsx("option",{value:"",children:"Select Delivery Charge Option"}),m.jsx("option",{value:"true",children:"Apply Delivery Charge"}),m.jsx("option",{value:"false",children:"Free Delivery"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),m.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),m.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),m.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),m.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),m.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),m.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),m.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),m.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),m.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),m.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[m.jsx("option",{value:"",children:"Select Product Type"}),m.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),m.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((T,E)=>m.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),m.jsx("input",{type:"text",value:T.colorName,onChange:L=>o(E,"colorName",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:T.stock,onChange:L=>o(E,"stock",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),m.jsx("input",{type:"text",value:T.thumbnail,onChange:L=>o(E,"thumbnail",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:T.isOutfit,onChange:L=>o(E,"isOutfit",L.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),T.isOutfit&&m.jsxs("div",{className:"space-y-3 mt-3",children:[m.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),T.sizes.map((L,F)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),m.jsx("input",{type:"text",value:L.size,onChange:B=>d(E,F,"size",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),m.jsx("input",{type:"number",value:L.stock,onChange:B=>d(E,F,"stock",B.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("button",{type:"button",onClick:()=>w(E,F),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},F)),m.jsx("button",{type:"button",onClick:()=>_(E),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),T.images.map((L,F)=>m.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[m.jsx("input",{type:"text",value:L,onChange:B=>u(E,F,B.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>b(E,F),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},F)),m.jsx("button",{type:"button",onClick:()=>y(E),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("button",{type:"button",onClick:()=>p(E),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},E)),m.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((T,E)=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"text",value:T,onChange:L=>A(E,L.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),m.jsx("button",{type:"button",onClick:()=>R(E),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},E)),m.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},CV=()=>{const{gender:n}=v0(),e=2,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,u]=q.useState(window.innerWidth>=768),d=E=>(typeof E!="number"&&(E=parseFloat(E)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(E)));q.useEffect(()=>{const E=()=>{const L=window.innerWidth;a(L<768),u(L>=768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const f=async({pageParam:E=null})=>{const L=E?Mo(Lr(bn,"products"),ba("gender","==",n),YS(E),Vh(e)):Mo(Lr(bn,"products"),ba("gender","==",n),Vh(e)),F=await za(L),B=[];return F.forEach(V=>{const O=V.data();O.available&&O.stock>0&&B.push({id:V.id,...O})}),{products:B,lastVisible:F.docs[F.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:b,isFetchingNextPage:_,isLoading:w,error:A}=Z2({queryKey:["products",n],queryFn:f,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=E=>{var B;const L=JSON.parse(localStorage.getItem("cart"))||[],F=L.find(V=>V.id===E.id);F?F.quantity+=1:L.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?Math.round(E.price-E.price*(E.discount/100)):Math.round(E.price),image:E.mainImage||((B=E.images)==null?void 0:B[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(L)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},R=E=>{var F;E.isColorVariants&&((F=E.colorVariants)==null?void 0:F.length)>0?window.location.href=`/product/${E.productId||E.id}`:P(E)},I=E=>{var F;E.isColorVariants&&((F=E.colorVariants)==null?void 0:F.length)>0?window.location.href=`/product/${E.productId||E.id}`:(P(E),window.location.href="/cart")},T=(p==null?void 0:p.pages.flatMap(E=>E.products))||[];return w?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):A?m.jsx("div",{className:"text-center py-8",children:"Error loading products"}):m.jsxs("div",{className:"",ref:t,children:[m.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:[n,"'s Collection"]}),T.length===0?m.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):m.jsxs(m.Fragment,{children:[m.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:T.map(E=>{var le,fe;const L=E.discount&&E.discount>0,F=E.isColorVariants&&((le=E.colorVariants)==null?void 0:le.length)>0,B=r&&E.name.length>17?`${E.name.substring(0,17)}.`:E.name,V=o&&E.name.length>25?`${E.name.substring(0,25)}.`:E.name,O=r?B:V,N=r&&E.name.length>17,M=o&&E.name.length>25,z=L?Math.round(E.price-E.price*(E.discount/100)):null,k=L?z:Math.round(E.price),D=E.regularPrice?Math.round(E.regularPrice):null;return m.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[m.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[m.jsxs(gt,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[m.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:m.jsx("img",{src:E.mainImage||((fe=E.images)==null?void 0:fe[0])||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),L&&m.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[O,(N||M)&&m.jsx(gt,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),m.jsx("div",{className:"md:mt-auto",children:m.jsxs("div",{className:"flex flex-col md:space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",d(k)]}),L&&D&&m.jsx("div",{className:"text-xs text-gray-500",children:m.jsxs("del",{children:["৳",d(D)]})})]}),E.productType&&m.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),m.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[m.jsx("button",{onClick:()=>R(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:F?"Options":"Add to Cart"}),m.jsx("button",{onClick:()=>I(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),m.jsxs("div",{className:"flex justify-between items-center text-xs",children:[m.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&m.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),b&&m.jsx("div",{className:"flex justify-center mt-6 mb-10",children:m.jsx("button",{onClick:()=>y(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},RV=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:b}=p.target;e(_=>({..._,[y]:b}))},o=(p,y)=>{const{name:b,value:_}=y.target,w=[...n.items];w[p]={...w[p],[b]:_},e(A=>({...A,items:w}))},u=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const y=n.items.filter((b,_)=>_!==p);e(b=>({...b,items:y}))},f=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=Oo(bn,n.collectionName,n.documentName),b=await e2(y);let _={};b.exists()&&(_=b.data());const w={..._,type:n.type,updatedAt:bj()};if(n.type==="link"&&(w.order=Number(n.order)),n.type==="dropdown"){const A=_.items||[],P=n.items.filter(R=>R.name&&R.path);w.items=[...A,...P],w.path=null}else w.path=n.path,w.items=null;await hv(y,w,{merge:!0}),alert("Category saved successfully!"),e(A=>({...A,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex border-b mb-6",children:[m.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),m.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),m.jsxs("form",{onSubmit:f,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),m.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),m.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[m.jsx("option",{value:"dropdown",children:"Dropdown"}),m.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),m.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),m.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),m.jsx("button",{type:"button",onClick:()=>d(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),m.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),m.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&m.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",m.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[m.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),m.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),m.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",m.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:m.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),m.jsxs("li",{className:"text-gray-700",children:[m.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),m.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),m.jsxs("ul",{className:"space-y-2 text-sm",children:[m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),m.jsxs("li",{children:[m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",m.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},NV=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[u,d]=q.useState(""),[f,p]=q.useState(0),[y,b]=q.useState(""),[_,w]=q.useState(!0),[A,P]=q.useState({}),R=ld(),I=k=>{const D=typeof k=="string"?parseFloat(k):k;return Math.floor(D).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const le=(JSON.parse(localStorage.getItem("cart"))||[]).map($=>({...$,price:typeof $.price=="string"?parseFloat($.price):$.price,deliveryCharge:typeof $.deliveryCharge>"u"?!0:$.deliveryCharge}));e(le);const fe={};for(const $ of le)try{const ae=Oo(bn,"products",$.productId),oe=await e2(ae);oe.exists()&&(fe[$.productId]=oe.data())}catch(ae){console.error("Error fetching product data:",ae)}P(fe),T(),w(!1)})()},[]);const T=async()=>{try{const k={coxbazar:50,outOfCoxbazar:100},le=n.some(fe=>{const $=A[fe.productId];return($==null?void 0:$.deliveryCharge)===!0||typeof($==null?void 0:$.deliveryCharge)>"u"&&(fe.deliveryCharge===!0||typeof fe.deliveryCharge>"u")})?t==="inside"?k.coxbazar:k.outOfCoxbazar:0;o(le)}catch(k){console.error("Error fetching shipping charges:",k);const D=n.some(le=>{const fe=A[le.productId];return(fe==null?void 0:fe.deliveryCharge)===!0||typeof(fe==null?void 0:fe.deliveryCharge)>"u"&&(le.deliveryCharge===!0||typeof le.deliveryCharge>"u")});o(D?t==="inside"?50:100:0)}};q.useEffect(()=>{T()},[t,n,A]);const E=(k,D)=>{if(D<1)return;const le=n.map(fe=>fe.id===k?{...fe,quantity:D}:fe);localStorage.setItem("cart",JSON.stringify(le)),e(le),window.dispatchEvent(new Event("storage"))},L=k=>{const D=n.filter(le=>le.id!==k);localStorage.setItem("cart",JSON.stringify(D)),e(D),window.dispatchEvent(new Event("storage"))},F=()=>n.reduce((k,D)=>{const le=typeof D.price=="number"?D.price:typeof D.price=="string"?parseFloat(D.price):0;return k+Math.floor(le)*D.quantity},0),B=()=>{const k=F();return Math.floor(k+a-f)},V=k=>{r(k.target.value)},O=async()=>{if(!u.trim()){b("Please enter a coupon code");return}w(!0);try{await new Promise(D=>setTimeout(D,800));const k={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};k.valid?(p(k.discountAmount),b(`Coupon applied! Discount: ৳${I(k.discountAmount)}`)):(p(0),b(k.message))}catch(k){console.error("Error applying coupon:",k),b("Failed to apply coupon. Please try again.")}finally{w(!1)}},N=()=>{const k={cartItems:n.map(D=>({...D,price:typeof D.price=="string"?parseFloat(D.price):D.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(k)),R("/checkout",{state:k})};if(_&&n.length===0)return m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const M=n.some(k=>{const D=A[k.productId];return(D==null?void 0:D.deliveryCharge)===!0||typeof(D==null?void 0:D.deliveryCharge)>"u"&&(k.deliveryCharge===!0||typeof k.deliveryCharge>"u")}),z=n.filter(k=>{const D=A[k.productId];return(D==null?void 0:D.deliveryCharge)===!1||k.deliveryCharge===!1});return m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),m.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?m.jsxs("div",{className:"text-center py-8 sm:py-12",children:[m.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),m.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx(gt,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(k=>{var $,ae;const D=typeof k.price=="number"?k.price:typeof k.price=="string"?parseFloat(k.price):0;Math.floor(D)*k.quantity;const le=A[k.productId],fe=(le==null?void 0:le.deliveryCharge)===!1||k.deliveryCharge===!1;return m.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:m.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("div",{className:"pr-2",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:k.name}),(($=k.color)==null?void 0:$.name)&&m.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",m.jsx("span",{className:"capitalize",children:k.color.name})]}),((ae=k.size)==null?void 0:ae.size)&&m.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",m.jsx("span",{className:"uppercase",children:k.size.size})]}),fe&&m.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),m.jsx("button",{onClick:()=>L(k.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:m.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),m.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",I(D)]}),m.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[m.jsx("button",{onClick:()=>E(k.id,k.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),m.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:k.quantity}),m.jsx("button",{onClick:()=>E(k.id,k.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:m.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},k.id)})})})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",I(F())]})]}),M?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),m.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:V,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:V,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",I(a)]})]})]}):m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),m.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),z.length>0&&m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),m.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:z.map(k=>{var D;return m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"mr-1",children:"•"}),m.jsx("span",{className:"line-clamp-1",children:k.name}),((D=k.size)==null?void 0:D.size)&&m.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",k.size.size,")"]})]},k.id)})})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[m.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),m.jsxs("div",{className:"flex rounded-md shadow-sm",children:[m.jsx("input",{type:"text",id:"coupon",value:u,onChange:k=>d(k.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),m.jsx("button",{onClick:O,disabled:_,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:_?m.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&m.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&m.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[m.jsx("span",{children:"Discount"}),m.jsxs("span",{children:["-৳",I(f)]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",I(B())]})]})}),m.jsx("div",{className:"mt-3 sm:mt-4",children:m.jsx("button",{onClick:N,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),m.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:m.jsxs("p",{children:["or"," ",m.jsxs(gt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",m.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},IV=()=>{const n=Ws(),e=ld(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[u,d]=q.useState(!1),[f,p]=q.useState(!1),[y,b]=q.useState(""),[_,w]=q.useState(!1),[A,P]=q.useState(!0),R=()=>{if(n.state)return n.state;const M=localStorage.getItem("checkoutState");return M?JSON.parse(M):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:I,shipping:T,coupon:E}=R();q.useEffect(()=>{const M=async()=>{try{const z=Lr(bn,"products"),k=await za(z),D=I.map(fe=>fe.id);let le=!1;k.forEach(fe=>{D.includes(fe.id)&&fe.data().productType&&(le=!0)}),w(le),r(fe=>({...fe,paymentMethod:le?"bkash":"cash"})),P(!1)}catch(z){console.error("Error checking product types:",z),P(!1)}};I.length>0?M():P(!1)},[I]);const L=M=>{const z=typeof M=="string"?parseFloat(M):M;return Math.floor(z).toLocaleString("en-US")},F=()=>I.reduce((M,z)=>{const k=typeof z.price=="number"?z.price:typeof z.price=="string"?parseFloat(z.price):0;return M+Math.floor(k)*z.quantity},0),B=()=>{const M=F();return Math.floor(M+T.charge-E.discount)},V=M=>{const{name:z,value:k,type:D,checked:le}=M.target;r({...t,[z]:D==="checkbox"?le:k}),a[z]&&o({...a,[z]:""})},O=()=>{const M={};return t.name.trim()||(M.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(M.phone="Please enter a valid Bangladeshi phone number"):M.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(M.address="Address should be at least 10 characters"):M.address="Address is required",t.notes.length>100&&(M.notes="Notes should not exceed 100 characters"),t.agreeTerms||(M.agreeTerms="You must agree to the terms and conditions"),o(M),Object.keys(M).length===0},N=async M=>{if(M.preventDefault(),!!O()){d(!0);try{const z={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:I,shipping:T,coupon:E,subtotal:F(),total:B(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()},k=await t2(Lr(bn,"orders"),z);b(k.id),p(!0),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage"))}catch(z){console.error("Error submitting order:",z),o({...a,submit:"Failed to place order. Please try again."})}finally{d(!1)}}};return f?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"max-w-3xl mx-auto",children:m.jsxs("div",{className:"text-center bg-white p-6 sm:p-8 rounded-lg shadow-sm",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:m.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("h2",{className:"mt-3 text-lg sm:text-xl font-medium text-gray-900",children:"Order Placed Successfully!"}),m.jsxs("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:["Your order ID is: ",m.jsx("span",{className:"font-medium",children:y})]}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"We've sent a confirmation to your phone number."}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]})})}):I.length===0?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-medium text-gray-900",children:"No Order Data Found"}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Please add items to your cart before proceeding to checkout."}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]})}):A?m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:m.jsx("div",{className:"text-center",children:m.jsxs("div",{className:"inline-flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),m.jsx("span",{children:"Loading payment options..."})]})})}):m.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[m.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),m.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),m.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[m.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),m.jsx("form",{onSubmit:N,children:m.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm sm:text-base font-medium text-gray-700 mb-2",children:["Payment Method ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("div",{className:"space-y-2",children:_?m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment (Required for selected products)"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-cash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"Cash on Delivery"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:V,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"payment-bkash",className:"ml-2 block text-sm sm:text-base text-gray-700",children:"bKash Payment"})]})]})}),_&&m.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md text-sm text-yellow-700",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"}),_&&m.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Note: Some products in your cart require bKash payment."})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"name",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Full Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.name?"border-red-500":"border"}`}),a.name&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"phone",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Phone Number ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500 sm:text-sm",children:"+88"})}),m.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:V,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.phone?"border-red-500":"border"}`})]}),a.phone&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"address",className:"block text-sm sm:text-base font-medium text-gray-700",children:["Delivery Address ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.address?"border-red-500":"border"}`,placeholder:"House #, Road #, Area, District"}),a.address&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"notes",className:"block text-sm sm:text-base font-medium text-gray-700",children:"Order Notes (Optional)"}),m.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:V,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm sm:text-base ${a.notes?"border-red-500":"border"}`,placeholder:"Any special instructions for your order..."}),m.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&m.jsx("p",{className:"text-sm text-red-600",children:a.notes}),m.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex items-center h-5",children:m.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:V,className:`h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 ${a.agreeTerms?"border-red-500":"border"}`})}),m.jsxs("div",{className:"ml-3 text-sm",children:[m.jsxs("label",{htmlFor:"agreeTerms",className:"font-medium text-gray-700",children:["I agree to the ",m.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms and Conditions"})," ",m.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&m.jsx("p",{className:"mt-1 text-red-600",children:a.agreeTerms})]})]}),m.jsxs("div",{className:"pt-2",children:[m.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-green-600 hover:bg-green-700 disabled:bg-green-400",children:u?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Place Order"}),a.submit&&m.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:a.submit})]})]})})]})}),m.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:m.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),m.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[m.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[m.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[I.length," ",I.length===1?"Item":"Items"]}),m.jsx("ul",{className:"divide-y divide-gray-200",children:I.map(M=>{var D;const z=typeof M.price=="number"?M.price:typeof M.price=="string"?parseFloat(M.price):0,k=Math.floor(z)*M.quantity;return m.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:m.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:M.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[M.quantity," × ৳",L(z)]}),((D=M.size)==null?void 0:D.size)&&m.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",M.size.size]})]})]}),m.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",L(k)]})]},M.id)})})]}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",L(F())]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),m.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:T.charge>0?`৳${L(T.charge)} (${T.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:m.jsx("span",{className:"text-green-600",children:"Free"})})]}),E.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",L(E.discount),E.code&&` (${E.code})`]})]}),m.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:m.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",L(B())]})]})})]})]})]})})]})]})})},OV=()=>{const{state:n}=Ws(),e=ld(),[t,r]=q.useState(!1),[a,o]=q.useState(null);if(!(n!=null&&n.orderData))return e("/"),null;const{orderData:u,contactNumber:d}=n,f=async()=>{r(!0),o(null);try{await hv(Oo(bn,"orders",d),{...u,status:"confirmed"}),e("/")}catch(p){console.error("Error storing order:",p),o("Failed to store order. Please contact support.")}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-3xl mx-auto",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("svg",{className:"mx-auto h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),m.jsx("h1",{className:"mt-3 text-2xl sm:text-3xl font-bold text-gray-900",children:"Order Ready for Confirmation!"}),m.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Your order will be confirmed after clicking the button below."}),a&&m.jsx("p",{className:"mt-2 text-sm text-red-600",children:a})]}),m.jsxs("div",{className:"mt-8 bg-white shadow-sm rounded-lg overflow-hidden",children:[m.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Order Summary"})}),m.jsx("div",{className:"p-4 sm:p-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Customer Information"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Name"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.name})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Contact Number"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.contactNumber})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Address"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.address})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Order Note"}),m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:u.customer.orderNote})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Payment Method"}),m.jsx("p",{className:"text-sm sm:text-base text-gray-900 capitalize",children:u.paymentMethod==="bkash"?"bKash Payment Gateway":"Cash on Delivery"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2",children:"Order Items"}),m.jsx("div",{className:"space-y-4",children:u.items.map((p,y)=>m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden",children:m.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover object-center"})}),m.jsxs("div",{className:"ml-4 flex-1",children:[m.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900",children:p.name}),m.jsxs("p",{className:"text-xs text-gray-500",children:[p.color&&`Color: ${p.color}`," ",p.size&&`Size: ${p.size}`]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",p.quantity," × ৳",p.price.toFixed(2)]})]}),m.jsxs("div",{className:"ml-4 text-sm sm:text-base font-medium text-gray-900",children:["৳",(p.price*p.quantity).toFixed(2)]})]},y))})]}),m.jsx("div",{className:"border-t border-gray-200 pt-4",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",u.subtotal.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",u.shippingCharge.toFixed(2)]})]}),u.discount>0&&m.jsxs("div",{className:"flex justify-between text-green-600",children:[m.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),m.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",u.discount.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["৳",u.total]})]})]})})]})}),m.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 text-center",children:[m.jsx("button",{onClick:f,disabled:t,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm sm:text-base font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400",children:t?m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Storing Order..."]}):"Complete Order"}),m.jsx("p",{className:"mt-3 text-xs sm:text-sm text-gray-500",children:"Click the button above to confirm your order"})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs(gt,{to:"/",className:"text-sm sm:text-base font-medium text-blue-600 hover:text-blue-500",children:["Back to Home ",m.jsx("span",{"aria-hidden":"true",children:"→"})]})})]})})},MV=eI([{path:"/",element:m.jsx(eL,{}),children:[{index:!0,element:m.jsx(g1,{})},{path:"/home",element:m.jsx(g1,{})},{path:"/category/:gender",element:m.jsx(CV,{})},{path:"/category/:gender/:category",element:m.jsx(y1,{})},{path:"/category/:gender",element:m.jsx(y1,{})},{path:"/all-categories",element:m.jsx(eA,{})},{path:"/product/:productId",element:m.jsx(SV,{})},{path:"/admin",element:m.jsx(j5,{})},{path:"/up-products",element:m.jsx(AV,{})},{path:"/up-categories",element:m.jsx(RV,{})},{path:"/cart",element:m.jsx(NV,{})},{path:"/checkout",element:m.jsx(IV,{})},{path:"/order-complete",element:m.jsx(OV,{})},{path:"/footer",element:m.jsx(J2,{})}]}]);rR.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(D5,{children:m.jsx(mI,{router:MV})})}));
