var Qw=n=>{throw TypeError(n)};var kg=(n,e,t)=>e.has(n)||Qw("Cannot "+t);var Y=(n,e,t)=>(kg(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?Qw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(kg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),pt=(n,e,t)=>(kg(n,e,"access private method"),t);var $h=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function YE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lg={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function oC(){if(Kw)return wu;Kw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return wu.Fragment=e,wu.jsx=t,wu.jsxs=t,wu}var Yw;function lC(){return Yw||(Yw=1,Lg.exports=oC()),Lg.exports}var d=lC(),Vg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function cC(){if(Xw)return et;Xw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function I(H,ce,ve){this.props=H,this.context=ce,this.refs=L,this.updater=ve||T}I.prototype.isReactComponent={},I.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=I.prototype;function E(H,ce,ve){this.props=H,this.context=ce,this.refs=L,this.updater=ve||T}var _=E.prototype=new R;_.constructor=E,N(_,I.prototype),_.isPureReactComponent=!0;var D=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function B(H,ce,ve,ge,Se,Ve){return ve=Ve.ref,{$$typeof:n,type:H,key:ce,ref:ve!==void 0?ve:null,props:Ve}}function M(H,ce){return B(H.type,ce,void 0,void 0,void 0,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function O(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ce[ve]})}var P=/\/+/g;function k(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):ce.toString(36)}function C(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(C,C):(H.status="pending",H.then(function(ce){H.status==="pending"&&(H.status="fulfilled",H.value=ce)},function(ce){H.status==="pending"&&(H.status="rejected",H.reason=ce)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ae(H,ce,ve,ge,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,ae(Ee(H._payload),ce,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+k(H,0):ge,D(Se)?(ve="",Ee!=null&&(ve=Ee.replace(P,"$&/")+"/"),ae(Se,ce,ve,"",function(at){return at})):Se!=null&&(j(Se)&&(Se=M(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+Ee)),ce.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(D(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],Ve=ye+k(ge,Te),Ee+=ae(ge,ce,ve,Ve,Se);else if(Te=w(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,Ve=ye+k(ge,Te++),Ee+=ae(ge,ce,ve,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return ae(J(H),ce,ve,ge,Se);throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,ce,ve){if(H==null)return H;var ge=[],Se=0;return ae(H,ge,"","",function(Ve){return ce.call(ve,Ve,Se++)}),ge}function ie(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return et.Children={map:$,forEach:function(H,ce,ve){$(H,function(){ce.apply(this,arguments)},ve)},count:function(H){var ce=0;return $(H,function(){ce++}),ce},toArray:function(H){return $(H,function(ce){return ce})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=I,et.Fragment=t,et.Profiler=a,et.PureComponent=E,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},et.cache=function(H){return function(){return H.apply(null,arguments)}},et.cloneElement=function(H,ce,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=N({},H.props),Se=H.key,Ve=void 0;if(ce!=null)for(Ee in ce.ref!==void 0&&(Ve=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!z.call(ce,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ce.ref===void 0||(ge[Ee]=ce[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return B(H.type,Se,void 0,void 0,Ve,ge)},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},et.createElement=function(H,ce,ve){var ge,Se={},Ve=null;if(ce!=null)for(ge in ce.key!==void 0&&(Ve=""+ce.key),ce)z.call(ce,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=ce[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return B(H,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:h,render:H}},et.isValidElement=j,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:ie}},et.memo=function(H,ce){return{$$typeof:p,type:H,compare:ce===void 0?null:ce}},et.startTransition=function(H){var ce=U.T,ve={};U.T=ve;try{var ge=H(),Se=U.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,oe)}catch(Ve){oe(Ve)}finally{U.T=ce}},et.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},et.use=function(H){return U.H.use(H)},et.useActionState=function(H,ce,ve){return U.H.useActionState(H,ce,ve)},et.useCallback=function(H,ce){return U.H.useCallback(H,ce)},et.useContext=function(H){return U.H.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H,ce){return U.H.useDeferredValue(H,ce)},et.useEffect=function(H,ce,ve){var ge=U.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,ce)},et.useId=function(){return U.H.useId()},et.useImperativeHandle=function(H,ce,ve){return U.H.useImperativeHandle(H,ce,ve)},et.useInsertionEffect=function(H,ce){return U.H.useInsertionEffect(H,ce)},et.useLayoutEffect=function(H,ce){return U.H.useLayoutEffect(H,ce)},et.useMemo=function(H,ce){return U.H.useMemo(H,ce)},et.useOptimistic=function(H,ce){return U.H.useOptimistic(H,ce)},et.useReducer=function(H,ce,ve){return U.H.useReducer(H,ce,ve)},et.useRef=function(H){return U.H.useRef(H)},et.useState=function(H){return U.H.useState(H)},et.useSyncExternalStore=function(H,ce,ve){return U.H.useSyncExternalStore(H,ce,ve)},et.useTransition=function(){return U.H.useTransition()},et.version="19.1.0",et}var Ww;function am(){return Ww||(Ww=1,Vg.exports=cC()),Vg.exports}var q=am();const Ut=YE(q);var zg={exports:{}},_u={},Ug={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function uC(){return Zw||(Zw=1,function(n){function e($,ie){var oe=$.length;$.push(ie);e:for(;0<oe;){var xe=oe-1>>>1,H=$[xe];if(0<a(H,ie))$[xe]=ie,$[oe]=H,oe=xe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ie=$[0],oe=$.pop();if(oe!==ie){$[0]=oe;e:for(var xe=0,H=$.length,ce=H>>>1;xe<ce;){var ve=2*(xe+1)-1,ge=$[ve],Se=ve+1,Ve=$[Se];if(0>a(ge,oe))Se<H&&0>a(Ve,ge)?($[xe]=Ve,$[Se]=oe,xe=Se):($[xe]=ge,$[ve]=oe,xe=ve);else if(Se<H&&0>a(Ve,oe))$[xe]=Ve,$[Se]=oe,xe=Se;else break e}}return ie}function a($,ie){var oe=$.sortIndex-ie.sortIndex;return oe!==0?oe:$.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,x=null,w=3,T=!1,N=!1,L=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function D($){for(var ie=t(p);ie!==null;){if(ie.callback===null)r(p);else if(ie.startTime<=$)r(p),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(p)}}function U($){if(L=!1,D($),!N)if(t(f)!==null)N=!0,z||(z=!0,k());else{var ie=t(p);ie!==null&&ae(U,ie.startTime-$)}}var z=!1,B=-1,M=5,j=-1;function O(){return I?!0:!(n.unstable_now()-j<M)}function P(){if(I=!1,z){var $=n.unstable_now();j=$;var ie=!0;try{e:{N=!1,L&&(L=!1,E(B),B=-1),T=!0;var oe=w;try{t:{for(D($),x=t(f);x!==null&&!(x.expirationTime>$&&O());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,w=x.priorityLevel;var H=xe(x.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){x.callback=H,D($),ie=!0;break t}x===t(f)&&r(f),D($)}else r(f);x=t(f)}if(x!==null)ie=!0;else{var ce=t(p);ce!==null&&ae(U,ce.startTime-$),ie=!1}}break e}finally{x=null,w=oe,T=!1}ie=void 0}}finally{ie?k():z=!1}}}var k;if(typeof _=="function")k=function(){_(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,J=C.port2;C.port1.onmessage=P,k=function(){J.postMessage(null)}}else k=function(){R(P,0)};function ae($,ie){B=R(function(){$(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var oe=w;w=ie;try{return $()}finally{w=oe}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=w;w=$;try{return ie()}finally{w=oe}},n.unstable_scheduleCallback=function($,ie,oe){var xe=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=oe+H,$={id:y++,callback:ie,priorityLevel:$,startTime:oe,expirationTime:H,sortIndex:-1},oe>xe?($.sortIndex=oe,e(p,$),t(f)===null&&$===t(p)&&(L?(E(B),B=-1):L=!0,ae(U,oe-xe))):($.sortIndex=H,e(f,$),N||T||(N=!0,z||(z=!0,k()))),$},n.unstable_shouldYield=O,n.unstable_wrapCallback=function($){var ie=w;return function(){var oe=w;w=ie;try{return $.apply(this,arguments)}finally{w=oe}}}}(Bg)),Bg}var Jw;function dC(){return Jw||(Jw=1,Ug.exports=uC()),Ug.exports}var Fg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function hC(){if(e1)return Gn;e1=1;var n=am();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Gn.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:T}):y==="script"&&r.d.X(f,{crossOrigin:x,integrity:w,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Gn.requestFormReset=function(f){r.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var t1;function XE(){if(t1)return Fg.exports;t1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fg.exports=hC(),Fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function fC(){if(n1)return _u;n1=1;var n=dC(),e=am(),t=XE();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===c)return h(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var A=!1,V=g.child;V;){if(V===l){A=!0,l=g,c=v;break}if(V===c){A=!0,c=g,l=v;break}V=V.sibling}if(!A){for(V=v.child;V;){if(V===l){A=!0,l=v,c=g;break}if(V===c){A=!0,c=v,l=g;break}V=V.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var C=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===C?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case I:return"Profiler";case L:return"StrictMode";case U:return"Suspense";case z:return"SuspenseList";case j:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case _:return(s.displayName||"Context")+".Provider";case E:return(s._context.displayName||"Context")+".Consumer";case D:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return i=s.displayName||null,i!==null?i:J(s.type)||"Memo";case M:i=s._payload,s=s._init;try{return J(s(i))}catch{}}return null}var ae=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function ce(s){return{current:s}}function ve(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function ge(s,i){H++,xe[H]=s.current,s.current=i}var Se=ce(null),Ve=ce(null),Ee=ce(null),ye=ce(null);function Te(s,i){switch(ge(Ee,i),ge(Ve,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?ww(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=ww(i),s=_w(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function at(){ve(Se),ve(Ve),ve(Ee)}function Ze(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=_w(i,s.type);i!==l&&(ge(Ve,s),ge(Se,l))}function It(s){Ve.current===s&&(ve(Se),ve(Ve)),ye.current===s&&(ve(ye),gu._currentValue=oe)}var $t=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,dr=n.unstable_shouldYield,er=n.unstable_requestPaint,Wt=n.unstable_now,_s=n.unstable_getCurrentPriorityLevel,Es=n.unstable_ImmediatePriority,Ts=n.unstable_UserBlockingPriority,is=n.unstable_NormalPriority,tr=n.unstable_LowPriority,nr=n.unstable_IdlePriority,Ss=n.log,as=n.unstable_setDisableYieldValue,yt=null,We=null;function En(s){if(typeof Ss=="function"&&as(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(yt,s)}catch{}}var Qt=Math.clz32?Math.clz32:Vr,ti=Math.log,hr=Math.LN2;function Vr(s){return s>>>=0,s===0?32:31-(ti(s)/hr|0)|0}var zr=256,Me=4194304;function je(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,v=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var V=c&134217727;return V!==0?(c=V&~v,c!==0?g=je(c):(A&=V,A!==0?g=je(A):l||(l=V&~s,l!==0&&(g=je(l))))):(V=c&~v,V!==0?g=je(V):A!==0?g=je(A):l||(l=c&~s,l!==0&&(g=je(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function ft(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Ht(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var s=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),s}function rr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function jn(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function qn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mn(s,i,l,c,g,v){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var V=s.entanglements,G=s.expirationTimes,ne=s.hiddenUpdates;for(l=A&~l;0<l;){var ue=31-Qt(l),me=1<<ue;V[ue]=0,G[ue]=-1;var re=ne[ue];if(re!==null)for(ne[ue]=null,ue=0;ue<re.length;ue++){var se=re[ue];se!==null&&(se.lane&=-536870913)}l&=~me}c!==0&&Kt(s,c,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(A&~i))}function Kt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Qt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Ur(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-Qt(l),g=1<<c;g&i|s[c]&i&&(s[c]|=i),l&=~g}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ns(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=ie.p;return s!==0?s:(s=window.event,s===void 0?32:Bw(s.type))}function W(s,i){var l=ie.p;try{return ie.p=s,i()}finally{ie.p=l}}var te=Math.random().toString(36).slice(2),fe="__reactFiber$"+te,be="__reactProps$"+te,Ae="__reactContainer$"+te,ze="__reactEvents$"+te,Ce="__reactListeners$"+te,Oe="__reactHandles$"+te,Pe="__reactResources$"+te,Ue="__reactMarker$"+te;function De(s){delete s[fe],delete s[be],delete s[ze],delete s[Ce],delete s[Oe]}function Fe(s){var i=s[fe];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ae]||l[fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Nw(s);s!==null;){if(l=s[fe])return l;s=Nw(s)}return i}s=l,l=s.parentNode}return null}function ot(s){if(s=s[fe]||s[Ae]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function Nt(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Et(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(s){s[Ue]=!0}var rt=new Set,Br={};function pn(s,i){sr(s,i),sr(s+"Capture",i)}function sr(s,i){for(Br[s]=i,s=0;s<i.length;s++)rt.add(i[s])}var On=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},Er={};function Pi(s){return $t.call(Er,s)?!0:$t.call(As,s)?!1:On.test(s)?Er[s]=!0:(As[s]=!0,!1)}function Hn(s,i,l){if(Pi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function ir(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ke(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}var on,Tr;function fr(s){if(on===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);on=i&&i[1]||"",Tr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+on+s+Tr}var Cs=!1;function Lt(s,i){if(!s||Cs)return"";Cs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(se){var re=se}Reflect.construct(s,[],me)}else{try{me.call()}catch(se){re=se}s.call(me.prototype)}}else{try{throw Error()}catch(se){re=se}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),A=v[0],V=v[1];if(A&&V){var G=A.split(`
`),ne=V.split(`
`);for(g=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(c===G.length||g===ne.length)for(c=G.length-1,g=ne.length-1;1<=c&&0<=g&&G[c]!==ne[g];)g--;for(;1<=c&&0<=g;c--,g--)if(G[c]!==ne[g]){if(c!==1||g!==1)do if(c--,g--,0>g||G[c]!==ne[g]){var ue=`
`+G[c].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=c&&0<=g);break}}}finally{Cs=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?fr(l):""}function Fr(s){switch(s.tag){case 26:case 27:case 5:return fr(s.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Lt(s.type,!1);case 11:return Lt(s.type.render,!1);case 1:return Lt(s.type,!0);case 31:return fr("Activity");default:return""}}function ni(s){try{var i="";do i+=Fr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tc(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Um(s){var i=Tc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(A){c=""+A,v.call(this,A)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bo(s){s._valueTracker||(s._valueTracker=Um(s))}function Sc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=Tc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function Ha(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Bm=/[\n"\\]/g;function ln(s){return s.replace(Bm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sr(s,i,l,c,g,v,A,V){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),i!=null?A==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),i!=null?ki(s,A,Dn(i)):l!=null?ki(s,A,Dn(l)):c!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.name=""+Dn(V):s.removeAttribute("name")}function $a(s,i,l,c,g,v,A,V){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,V||i===s.value||(s.value=i),s.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=V?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function ki(s,i,l){i==="number"&&Ha(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ri(s,i,l,c){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Ot(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function Ga(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(ae(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function qr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Qa.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Nc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&Id(s,g,c)}else for(var v in i)i.hasOwnProperty(v)&&Id(s,v,i[v])}function Ac(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return qm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var si=null;function Hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ii=null,ai=null;function Cc(s){var i=ot(s);if(i&&(s=i.stateNode)){var l=s[be]||null;e:switch(s=i.stateNode,i.type){case"input":if(Sr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var g=c[be]||null;if(!g)throw Error(r(90));Sr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&Sc(c)}break e;case"textarea":Ot(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ri(s,!!l.multiple,i,!1)}}}var Rs=!1;function jd(s,i,l){if(Rs)return s(i,l);Rs=!0;try{var c=s(i);return c}finally{if(Rs=!1,(ii!==null||ai!==null)&&(Th(),ii&&(i=ii,s=ai,ai=ii=null,Cc(i),s)))for(i=0;i<s.length;i++)Cc(s[i])}}function Ka(s,i){var l=s.stateNode;if(l===null)return null;var c=l[be]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(os)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{$r=!1}var Is=null,Li=null,oi=null;function Rc(){if(oi)return oi;var s,i=Li,l=i.length,c,g="value"in Is?Is.value:Is.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var A=l-s;for(c=1;c<=A&&i[l-c]===g[v-c];c++);return oi=g.slice(s,1<c?1-c:void 0)}function js(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ms(){return!0}function Ic(){return!1}function Tn(s){function i(l,c,g,v,A){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(l=s[V],this[V]=l?l(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ms:Ic,this.isPropagationStopped=Ic,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),i}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Tn(At),Xa=y({},At,{view:0,detail:0}),Md=Tn(Xa),Ho,$o,Os,Wa=y({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Os&&(Os&&s.type==="mousemove"?(Ho=s.screenX-Os.screenX,$o=s.screenY-Os.screenY):$o=Ho=0,Os=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),Gr=Tn(Wa),Od=y({},Wa,{dataTransfer:0}),Hm=Tn(Od),Za=y({},Xa,{relatedTarget:0}),Go=Tn(Za),jc=y({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=Tn(jc),Dd=y({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ko=Tn(Dd),$m=y({},At,{data:0}),Mc=Tn($m),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=kd[s])?!!i[s]:!1}function eo(){return Oc}var Ld=y({},Xa,{key:function(s){if(s.key){var i=Ja[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=js(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Pd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(s){return s.type==="keypress"?js(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?js(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yo=Tn(Ld),Vd=y({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Tn(Vd),li=y({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),zd=Tn(li),Ud=y({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bd=Tn(Ud),Fd=y({},Wa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=Tn(Fd),ar=y({},At,{newState:0,oldState:0}),qd=Tn(ar),Hd=[9,13,27,32],Ds=os&&"CompositionEvent"in window,m=null;os&&"documentMode"in document&&(m=document.documentMode);var b=os&&"TextEvent"in window&&!m,S=os&&(!Ds||m&&8<m&&11>=m),F=" ",Z=!1;function le(s,i){switch(s){case"keyup":return Hd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vt=!1;function gn(s,i){switch(s){case"compositionend":return we(i);case"keypress":return i.which!==32?null:(Z=!0,F);case"textInput":return s=i.data,s===F&&Z?null:s;default:return null}}function xt(s,i){if(vt)return s==="compositionend"||!Ds&&le(s,i)?(s=Rc(),oi=Li=Is=null,vt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Sn[s.type]:i==="textarea"}function ci(s,i,l,c){ii?ai?ai.push(c):ai=[c]:ii=c,i=Ih(i,"onChange"),0<i.length&&(l=new qo("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Pn=null,Ps=null;function Pc(s){gw(s,0)}function $d(s){var i=Nt(s);if(Sc(i))return s}function Lv(s,i){if(s==="change")return i}var Vv=!1;if(os){var Gm;if(os){var Qm="oninput"in document;if(!Qm){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Qm=typeof zv.oninput=="function"}Gm=Qm}else Gm=!1;Vv=Gm&&(!document.documentMode||9<document.documentMode)}function Uv(){Pn&&(Pn.detachEvent("onpropertychange",Bv),Ps=Pn=null)}function Bv(s){if(s.propertyName==="value"&&$d(Ps)){var i=[];ci(i,Ps,s,Hr(s)),jd(Pc,i)}}function LN(s,i,l){s==="focusin"?(Uv(),Pn=i,Ps=l,Pn.attachEvent("onpropertychange",Bv)):s==="focusout"&&Uv()}function VN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $d(Ps)}function zN(s,i){if(s==="click")return $d(i)}function UN(s,i){if(s==="input"||s==="change")return $d(i)}function BN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Nr=typeof Object.is=="function"?Object.is:BN;function kc(s,i){if(Nr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!$t.call(i,g)||!Nr(s[g],i[g]))return!1}return!0}function Fv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qv(s,i){var l=Fv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fv(l)}}function Hv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Hv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function $v(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ha(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ha(s.document)}return i}function Km(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var FN=os&&"documentMode"in document&&11>=document.documentMode,Wo=null,Ym=null,Lc=null,Xm=!1;function Gv(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xm||Wo==null||Wo!==Ha(c)||(c=Wo,"selectionStart"in c&&Km(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lc&&kc(Lc,c)||(Lc=c,c=Ih(Ym,"onSelect"),0<c.length&&(i=new qo("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Wo)))}function to(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},Wm={},Qv={};os&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function no(s){if(Wm[s])return Wm[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Qv)return Wm[s]=i[l];return s}var Kv=no("animationend"),Yv=no("animationiteration"),Xv=no("animationstart"),qN=no("transitionrun"),HN=no("transitionstart"),$N=no("transitioncancel"),Wv=no("transitionend"),Zv=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function ls(s,i){Zv.set(s,i),pn(i,[s])}var Jv=new WeakMap;function Qr(s,i){if(typeof s=="object"&&s!==null){var l=Jv.get(s);return l!==void 0?l:(i={value:s,source:i,stack:ni(i)},Jv.set(s,i),i)}return{value:s,source:i,stack:ni(i)}}var Kr=[],Jo=0,Jm=0;function Gd(){for(var s=Jo,i=Jm=Jo=0;i<s;){var l=Kr[i];Kr[i++]=null;var c=Kr[i];Kr[i++]=null;var g=Kr[i];Kr[i++]=null;var v=Kr[i];if(Kr[i++]=null,c!==null&&g!==null){var A=c.pending;A===null?g.next=g:(g.next=A.next,A.next=g),c.pending=g}v!==0&&ex(l,g,v)}}function Qd(s,i,l,c){Kr[Jo++]=s,Kr[Jo++]=i,Kr[Jo++]=l,Kr[Jo++]=c,Jm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function ep(s,i,l,c){return Qd(s,i,l,c),Kd(s)}function el(s,i){return Qd(s,null,null,i),Kd(s)}function ex(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Qt(l),s=v.hiddenUpdates,c=s[g],c===null?s[g]=[i]:c.push(i),i.lane=l|536870912),v):null}function Kd(s){if(50<lu)throw lu=0,ag=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={};function GN(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,c){return new GN(s,i,l,c)}function tp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ui(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function tx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Yd(s,i,l,c,g,v){var A=0;if(c=s,typeof s=="function")tp(s)&&(A=1);else if(typeof s=="string")A=KA(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case j:return s=Ar(31,l,i,g),s.elementType=j,s.lanes=v,s;case N:return ro(l.children,g,v,i);case L:A=8,g|=24;break;case I:return s=Ar(12,l,i,g|2),s.elementType=I,s.lanes=v,s;case U:return s=Ar(13,l,i,g),s.elementType=U,s.lanes=v,s;case z:return s=Ar(19,l,i,g),s.elementType=z,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:case _:A=10;break e;case E:A=9;break e;case D:A=11;break e;case B:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Ar(A,l,i,g),i.elementType=s,i.type=c,i.lanes=v,i}function ro(s,i,l,c){return s=Ar(7,s,c,i),s.lanes=l,s}function np(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function rp(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nl=[],rl=0,Xd=null,Wd=0,Yr=[],Xr=0,so=null,di=1,hi="";function io(s,i){nl[rl++]=Wd,nl[rl++]=Xd,Xd=s,Wd=i}function nx(s,i,l){Yr[Xr++]=di,Yr[Xr++]=hi,Yr[Xr++]=so,so=s;var c=di;s=hi;var g=32-Qt(c)-1;c&=~(1<<g),l+=1;var v=32-Qt(i)+g;if(30<v){var A=g-g%5;v=(c&(1<<A)-1).toString(32),c>>=A,g-=A,di=1<<32-Qt(i)+g|l<<g|c,hi=v+s}else di=1<<v|l<<g|c,hi=s}function sp(s){s.return!==null&&(io(s,1),nx(s,1,0))}function ip(s){for(;s===Xd;)Xd=nl[--rl],nl[rl]=null,Wd=nl[--rl],nl[rl]=null;for(;s===so;)so=Yr[--Xr],Yr[Xr]=null,hi=Yr[--Xr],Yr[Xr]=null,di=Yr[--Xr],Yr[Xr]=null}var or=null,Zt=null,St=!1,ao=null,ks=!1,ap=Error(r(519));function oo(s){var i=Error(r(418,""));throw Uc(Qr(i,s)),ap}function rx(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[fe]=s,i[be]=c,l){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(l=0;l<uu.length;l++)ct(uu[l],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":ct("invalid",i),$a(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(i);break;case"select":ct("invalid",i);break;case"textarea":ct("invalid",i),Ga(i,c.value,c.defaultValue,c.children),Bo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||bw(i.textContent,l)?(c.popover!=null&&(ct("beforetoggle",i),ct("toggle",i)),c.onScroll!=null&&ct("scroll",i),c.onScrollEnd!=null&&ct("scrollend",i),c.onClick!=null&&(i.onclick=jh),i=!0):i=!1,i||oo(s)}function sx(s){for(or=s.return;or;)switch(or.tag){case 5:case 13:ks=!1;return;case 27:case 3:ks=!0;return;default:or=or.return}}function Vc(s){if(s!==or)return!1;if(!St)return sx(s),St=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||_g(s.type,s.memoizedProps)),l=!l),l&&Zt&&oo(s),sx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Zt=us(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Zt=null}}else i===27?(i=Zt,Ji(s.type)?(s=Ng,Ng=null,Zt=s):Zt=i):Zt=or?us(s.stateNode.nextSibling):null;return!0}function zc(){Zt=or=null,St=!1}function ix(){var s=ao;return s!==null&&(gr===null?gr=s:gr.push.apply(gr,s),ao=null),s}function Uc(s){ao===null?ao=[s]:ao.push(s)}var op=ce(null),lo=null,fi=null;function Vi(s,i,l){ge(op,i._currentValue),i._currentValue=l}function mi(s){s._currentValue=op.current,ve(op)}function lp(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function cp(s,i,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var V=v;v=g;for(var G=0;G<i.length;G++)if(V.context===i[G]){v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),lp(v.return,l,s),c||(A=null);break e}v=V.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),lp(A,l,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Bc(s,i,l,c){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var V=g.type;Nr(g.pendingProps.value,A.value)||(s!==null?s.push(V):s=[V])}}else if(g===ye.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(gu):s=[gu])}g=g.return}s!==null&&cp(i,s,l,c),i.flags|=262144}function Zd(s){for(s=s.firstContext;s!==null;){if(!Nr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function co(s){lo=s,fi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return ax(lo,s)}function Jd(s,i){return lo===null&&co(s),ax(s,i)}function ax(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},fi===null){if(s===null)throw Error(r(308));fi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else fi=fi.next=i;return l}var QN=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},KN=n.unstable_scheduleCallback,YN=n.unstable_NormalPriority,vn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function up(){return{controller:new QN,data:new Map,refCount:0}}function Fc(s){s.refCount--,s.refCount===0&&KN(YN,function(){s.controller.abort()})}var qc=null,dp=0,sl=0,il=null;function XN(s,i){if(qc===null){var l=qc=[];dp=0,sl=fg(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return dp++,i.then(ox,ox),i}function ox(){if(--dp===0&&qc!==null){il!==null&&(il.status="fulfilled");var s=qc;qc=null,sl=0,il=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function WN(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var lx=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XN(s,i),lx!==null&&lx(s,i)};var uo=ce(null);function hp(){var s=uo.current;return s!==null?s:zt.pooledCache}function eh(s,i){i===null?ge(uo,uo.current):ge(uo,i.pool)}function cx(){var s=hp();return s===null?null:{parent:vn._currentValue,pool:s}}var Hc=Error(r(460)),ux=Error(r(474)),th=Error(r(542)),fp={then:function(){}};function dx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function nh(){}function hx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(nh,nh),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,mx(s),s;default:if(typeof i.status=="string")i.then(nh,nh);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,mx(s),s}throw $c=i,Hc}}var $c=null;function fx(){if($c===null)throw Error(r(459));var s=$c;return $c=null,s}function mx(s){if(s===Hc||s===th)throw Error(r(483))}var zi=!1;function mp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ui(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Bi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(jt&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Kd(s),ex(s,null,l),i}return Qd(s,c,i,l),Kd(s)}function Gc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}function gp(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var yp=!1;function Qc(){if(yp){var s=il;if(s!==null)throw s}}function Kc(s,i,l,c){yp=!1;var g=s.updateQueue;zi=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var G=V,ne=G.next;G.next=null,A===null?v=ne:A.next=ne,A=G;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==A&&(V===null?ue.firstBaseUpdate=ne:V.next=ne,ue.lastBaseUpdate=G))}if(v!==null){var me=g.baseState;A=0,ue=ne=G=null,V=v;do{var re=V.lane&-536870913,se=re!==V.lane;if(se?(bt&re)===re:(c&re)===re){re!==0&&re===sl&&(yp=!0),ue!==null&&(ue=ue.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ge=s,Be=V;re=i;var kt=l;switch(Be.tag){case 1:if(Ge=Be.payload,typeof Ge=="function"){me=Ge.call(kt,me,re);break e}me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Be.payload,re=typeof Ge=="function"?Ge.call(kt,me,re):Ge,re==null)break e;me=y({},me,re);break e;case 2:zi=!0}}re=V.callback,re!==null&&(s.flags|=64,se&&(s.flags|=8192),se=g.callbacks,se===null?g.callbacks=[re]:se.push(re))}else se={lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(ne=ue=se,G=me):ue=ue.next=se,A|=re;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;se=V,V=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ue===null&&(G=me),g.baseState=G,g.firstBaseUpdate=ne,g.lastBaseUpdate=ue,v===null&&(g.shared.lanes=0),Yi|=A,s.lanes=A,s.memoizedState=me}}function px(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function gx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)px(l[s],i)}var al=ce(null),rh=ce(0);function yx(s,i){s=wi,ge(rh,s),ge(al,i),wi=s|i.baseLanes}function vp(){ge(rh,wi),ge(al,al.current)}function xp(){wi=rh.current,ve(al),ve(rh)}var Fi=0,tt=null,Dt=null,cn=null,sh=!1,ol=!1,ho=!1,ih=0,Yc=0,ll=null,ZN=0;function tn(){throw Error(r(321))}function bp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Nr(s[l],i[l]))return!1;return!0}function wp(s,i,l,c,g,v){return Fi=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?eb:tb,ho=!1,v=l(c,g),ho=!1,ol&&(v=xx(i,l,c,g)),vx(s),v}function vx(s){$.H=dh;var i=Dt!==null&&Dt.next!==null;if(Fi=0,cn=Dt=tt=null,sh=!1,Yc=0,ll=null,i)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&Zd(s)&&(Nn=!0))}function xx(s,i,l,c){tt=s;var g=0;do{if(ol&&(ll=null),Yc=0,ol=!1,25<=g)throw Error(r(301));if(g+=1,cn=Dt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=iA,v=i(l,c)}while(ol);return v}function JN(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Xc(i):i,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(tt.flags|=1024),i}function _p(){var s=ih!==0;return ih=0,s}function Ep(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Tp(s){if(sh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}sh=!1}Fi=0,cn=Dt=tt=null,ol=!1,Yc=ih=0,ll=null}function mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?tt.memoizedState=cn=s:cn=cn.next=s,cn}function un(){if(Dt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var i=cn===null?tt.memoizedState:cn.next;if(i!==null)cn=i,Dt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},cn===null?tt.memoizedState=cn=s:cn=cn.next=s}return cn}function Sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(s){var i=Yc;return Yc+=1,ll===null&&(ll=[]),s=hx(ll,s,i),i=tt,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?eb:tb),s}function ah(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xc(s);if(s.$$typeof===_)return $n(s)}throw Error(r(438,String(s)))}function Np(s){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Sp(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=O;return i.index++,l}function pi(s,i){return typeof i=="function"?i(s):i}function oh(s){var i=un();return Ap(i,Dt,s)}function Ap(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=s.baseQueue,v=c.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}i.baseQueue=g=v,c.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var V=A=null,G=null,ne=i,ue=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(bt&me)===me:(Fi&me)===me){var re=ne.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===sl&&(ue=!0);else if((Fi&re)===re){ne=ne.next,re===sl&&(ue=!0);continue}else me={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(V=G=me,A=v):G=G.next=me,tt.lanes|=re,Yi|=re;me=ne.action,ho&&l(v,me),v=ne.hasEagerState?ne.eagerState:l(v,me)}else re={lane:me,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(V=G=re,A=v):G=G.next=re,tt.lanes|=me,Yi|=me;ne=ne.next}while(ne!==null&&ne!==i);if(G===null?A=v:G.next=V,!Nr(v,s.memoizedState)&&(Nn=!0,ue&&(l=il,l!==null)))throw l;s.memoizedState=v,s.baseState=A,s.baseQueue=G,c.lastRenderedState=v}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Cp(s){var i=un(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do v=s(v,A.action),A=A.next;while(A!==g);Nr(v,i.memoizedState)||(Nn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function bx(s,i,l){var c=tt,g=un(),v=St;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var A=!Nr((Dt||g).memoizedState,l);A&&(g.memoizedState=l,Nn=!0),g=g.queue;var V=Ex.bind(null,c,g,s);if(Wc(2048,8,V,[s]),g.getSnapshot!==i||A||cn!==null&&cn.memoizedState.tag&1){if(c.flags|=2048,cl(9,lh(),_x.bind(null,c,g,l,i),null),zt===null)throw Error(r(349));v||(Fi&124)!==0||wx(c,i,l)}return l}function wx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=Sp(),tt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function _x(s,i,l,c){i.value=l,i.getSnapshot=c,Tx(i)&&Sx(s)}function Ex(s,i,l){return l(function(){Tx(i)&&Sx(s)})}function Tx(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Nr(s,l)}catch{return!0}}function Sx(s){var i=el(s,2);i!==null&&Mr(i,s,2)}function Rp(s){var i=mr();if(typeof s=="function"){var l=s;if(s=l(),ho){En(!0);try{l()}finally{En(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},i}function Nx(s,i,l,c){return s.baseState=l,Ap(s,Dt,typeof c=="function"?c:pi)}function eA(s,i,l,c,g){if(uh(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};$.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,Ax(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Ax(s,i){var l=i.action,c=i.payload,g=s.state;if(i.isTransition){var v=$.T,A={};$.T=A;try{var V=l(g,c),G=$.S;G!==null&&G(A,V),Cx(s,i,V)}catch(ne){Ip(s,i,ne)}finally{$.T=v}}else try{v=l(g,c),Cx(s,i,v)}catch(ne){Ip(s,i,ne)}}function Cx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Rx(s,i,c)},function(c){return Ip(s,i,c)}):Rx(s,i,l)}function Rx(s,i,l){i.status="fulfilled",i.value=l,Ix(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Ax(s,l)))}function Ip(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Ix(i),i=i.next;while(i!==c)}s.action=null}function Ix(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function jx(s,i){return i}function Mx(s,i){if(St){var l=zt.formState;if(l!==null){e:{var c=tt;if(St){if(Zt){t:{for(var g=Zt,v=ks;g.nodeType!==8;){if(!v){g=null;break t}if(g=us(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Zt=us(g.nextSibling),c=g.data==="F!";break e}}oo(c)}c=!1}c&&(i=l[0])}}return l=mr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jx,lastRenderedState:i},l.queue=c,l=Wx.bind(null,tt,c),c.dispatch=l,c=Rp(!1),v=Pp.bind(null,tt,!1,c.queue),c=mr(),g={state:i,dispatch:null,action:s,pending:null},c.queue=g,l=eA.bind(null,tt,g,v,l),g.dispatch=l,c.memoizedState=s,[i,l,!1]}function Ox(s){var i=un();return Dx(i,Dt,s)}function Dx(s,i,l){if(i=Ap(s,i,jx)[0],s=oh(pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Xc(i)}catch(A){throw A===Hc?th:A}else c=i;i=un();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,cl(9,lh(),tA.bind(null,g,l),null)),[c,v,s]}function tA(s,i){s.action=i}function Px(s){var i=un(),l=Dt;if(l!==null)return Dx(i,l,s);un(),i=i.memoizedState,l=un();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function cl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=tt.updateQueue,i===null&&(i=Sp(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function lh(){return{destroy:void 0,resource:void 0}}function kx(){return un().memoizedState}function ch(s,i,l,c){var g=mr();c=c===void 0?null:c,tt.flags|=s,g.memoizedState=cl(1|i,lh(),l,c)}function Wc(s,i,l,c){var g=un();c=c===void 0?null:c;var v=g.memoizedState.inst;Dt!==null&&c!==null&&bp(c,Dt.memoizedState.deps)?g.memoizedState=cl(i,v,l,c):(tt.flags|=s,g.memoizedState=cl(1|i,v,l,c))}function Lx(s,i){ch(8390656,8,s,i)}function Vx(s,i){Wc(2048,8,s,i)}function zx(s,i){return Wc(4,2,s,i)}function Ux(s,i){return Wc(4,4,s,i)}function Bx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Fx(s,i,l){l=l!=null?l.concat([s]):null,Wc(4,4,Bx.bind(null,i,s),l)}function jp(){}function qx(s,i){var l=un();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&bp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function Hx(s,i){var l=un();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&bp(i,c[1]))return c[0];if(c=s(),ho){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,i],c}function Mp(s,i,l){return l===void 0||(Fi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=Qb(),tt.lanes|=s,Yi|=s,l)}function $x(s,i,l,c){return Nr(l,i)?l:al.current!==null?(s=Mp(s,l,c),Nr(s,i)||(Nn=!0),s):(Fi&42)===0?(Nn=!0,s.memoizedState=l):(s=Qb(),tt.lanes|=s,Yi|=s,i)}function Gx(s,i,l,c,g){var v=ie.p;ie.p=v!==0&&8>v?v:8;var A=$.T,V={};$.T=V,Pp(s,!1,i,l);try{var G=g(),ne=$.S;if(ne!==null&&ne(V,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=WN(G,c);Zc(s,i,ue,jr(s))}else Zc(s,i,c,jr(s))}catch(me){Zc(s,i,{then:function(){},status:"rejected",reason:me},jr())}finally{ie.p=v,$.T=A}}function nA(){}function Op(s,i,l,c){if(s.tag!==5)throw Error(r(476));var g=Qx(s).queue;Gx(s,g,i,oe,l===null?nA:function(){return Kx(s),l(c)})}function Qx(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:oe},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function Kx(s){var i=Qx(s).next.queue;Zc(s,i,{},jr())}function Dp(){return $n(gu)}function Yx(){return un().memoizedState}function Xx(){return un().memoizedState}function rA(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=jr();s=Ui(l);var c=Bi(i,s,l);c!==null&&(Mr(c,i,l),Gc(c,i,l)),i={cache:up()},s.payload=i;return}i=i.return}}function sA(s,i,l){var c=jr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},uh(s)?Zx(i,l):(l=ep(s,i,l,c),l!==null&&(Mr(l,s,c),Jx(l,i,c)))}function Wx(s,i,l){var c=jr();Zc(s,i,l,c)}function Zc(s,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(uh(s))Zx(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var A=i.lastRenderedState,V=v(A,l);if(g.hasEagerState=!0,g.eagerState=V,Nr(V,A))return Qd(s,i,g,0),zt===null&&Gd(),!1}catch{}finally{}if(l=ep(s,i,g,c),l!==null)return Mr(l,s,c),Jx(l,i,c),!0}return!1}function Pp(s,i,l,c){if(c={lane:2,revertLane:fg(),action:c,hasEagerState:!1,eagerState:null,next:null},uh(s)){if(i)throw Error(r(479))}else i=ep(s,l,c,2),i!==null&&Mr(i,s,2)}function uh(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Zx(s,i){ol=sh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Jx(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}var dh={readContext:$n,use:ah,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},eb={readContext:$n,use:ah,useCallback:function(s,i){return mr().memoizedState=[s,i===void 0?null:i],s},useContext:$n,useEffect:Lx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,ch(4194308,4,Bx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return ch(4194308,4,s,i)},useInsertionEffect:function(s,i){ch(4,2,s,i)},useMemo:function(s,i){var l=mr();i=i===void 0?null:i;var c=s();if(ho){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=mr();if(l!==void 0){var g=l(i);if(ho){En(!0);try{l(i)}finally{En(!1)}}}else g=i;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=sA.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=mr();return s={current:s},i.memoizedState=s},useState:function(s){s=Rp(s);var i=s.queue,l=Wx.bind(null,tt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:jp,useDeferredValue:function(s,i){var l=mr();return Mp(l,s,i)},useTransition:function(){var s=Rp(!1);return s=Gx.bind(null,tt,s.queue,!0,!1),mr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=tt,g=mr();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),zt===null)throw Error(r(349));(bt&124)!==0||wx(c,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Lx(Ex.bind(null,c,v,s),[s]),c.flags|=2048,cl(9,lh(),_x.bind(null,c,v,l,i),null),l},useId:function(){var s=mr(),i=zt.identifierPrefix;if(St){var l=hi,c=di;l=(c&~(1<<32-Qt(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=ih++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=ZN++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Dp,useFormState:Mx,useActionState:Mx,useOptimistic:function(s){var i=mr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Pp.bind(null,tt,!0,l),l.dispatch=i,[s,i]},useMemoCache:Np,useCacheRefresh:function(){return mr().memoizedState=rA.bind(null,tt)}},tb={readContext:$n,use:ah,useCallback:qx,useContext:$n,useEffect:Vx,useImperativeHandle:Fx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Hx,useReducer:oh,useRef:kx,useState:function(){return oh(pi)},useDebugValue:jp,useDeferredValue:function(s,i){var l=un();return $x(l,Dt.memoizedState,s,i)},useTransition:function(){var s=oh(pi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:Xc(s),i]},useSyncExternalStore:bx,useId:Yx,useHostTransitionStatus:Dp,useFormState:Ox,useActionState:Ox,useOptimistic:function(s,i){var l=un();return Nx(l,Dt,s,i)},useMemoCache:Np,useCacheRefresh:Xx},iA={readContext:$n,use:ah,useCallback:qx,useContext:$n,useEffect:Vx,useImperativeHandle:Fx,useInsertionEffect:zx,useLayoutEffect:Ux,useMemo:Hx,useReducer:Cp,useRef:kx,useState:function(){return Cp(pi)},useDebugValue:jp,useDeferredValue:function(s,i){var l=un();return Dt===null?Mp(l,s,i):$x(l,Dt.memoizedState,s,i)},useTransition:function(){var s=Cp(pi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:Xc(s),i]},useSyncExternalStore:bx,useId:Yx,useHostTransitionStatus:Dp,useFormState:Px,useActionState:Px,useOptimistic:function(s,i){var l=un();return Dt!==null?Nx(l,Dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Np,useCacheRefresh:Xx},ul=null,Jc=0;function hh(s){var i=Jc;return Jc+=1,ul===null&&(ul=[]),hx(ul,s,i)}function eu(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function fh(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function nb(s){var i=s._init;return i(s._payload)}function rb(s){function i(X,K){if(s){var ee=X.deletions;ee===null?(X.deletions=[K],X.flags|=16):ee.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=ui(X,K),X.index=0,X.sibling=null,X}function v(X,K,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<K?(X.flags|=67108866,K):ee):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function A(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function V(X,K,ee,he){return K===null||K.tag!==6?(K=np(ee,X.mode,he),K.return=X,K):(K=g(K,ee),K.return=X,K)}function G(X,K,ee,he){var Re=ee.type;return Re===N?ue(X,K,ee.props.children,he,ee.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&nb(Re)===K.type)?(K=g(K,ee.props),eu(K,ee),K.return=X,K):(K=Yd(ee.type,ee.key,ee.props,null,X.mode,he),eu(K,ee),K.return=X,K)}function ne(X,K,ee,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=rp(ee,X.mode,he),K.return=X,K):(K=g(K,ee.children||[]),K.return=X,K)}function ue(X,K,ee,he,Re){return K===null||K.tag!==7?(K=ro(ee,X.mode,he,Re),K.return=X,K):(K=g(K,ee),K.return=X,K)}function me(X,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=np(""+K,X.mode,ee),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return ee=Yd(K.type,K.key,K.props,null,X.mode,ee),eu(ee,K),ee.return=X,ee;case T:return K=rp(K,X.mode,ee),K.return=X,K;case M:var he=K._init;return K=he(K._payload),me(X,K,ee)}if(ae(K)||k(K))return K=ro(K,X.mode,ee,null),K.return=X,K;if(typeof K.then=="function")return me(X,hh(K),ee);if(K.$$typeof===_)return me(X,Jd(X,K),ee);fh(X,K)}return null}function re(X,K,ee,he){var Re=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Re!==null?null:V(X,K,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ee.key===Re?G(X,K,ee,he):null;case T:return ee.key===Re?ne(X,K,ee,he):null;case M:return Re=ee._init,ee=Re(ee._payload),re(X,K,ee,he)}if(ae(ee)||k(ee))return Re!==null?null:ue(X,K,ee,he,null);if(typeof ee.then=="function")return re(X,K,hh(ee),he);if(ee.$$typeof===_)return re(X,K,Jd(X,ee),he);fh(X,ee)}return null}function se(X,K,ee,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(ee)||null,V(K,X,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return X=X.get(he.key===null?ee:he.key)||null,G(K,X,he,Re);case T:return X=X.get(he.key===null?ee:he.key)||null,ne(K,X,he,Re);case M:var st=he._init;return he=st(he._payload),se(X,K,ee,he,Re)}if(ae(he)||k(he))return X=X.get(ee)||null,ue(K,X,he,Re,null);if(typeof he.then=="function")return se(X,K,ee,hh(he),Re);if(he.$$typeof===_)return se(X,K,ee,Jd(K,he),Re);fh(K,he)}return null}function Ge(X,K,ee,he){for(var Re=null,st=null,ke=K,qe=K=0,Cn=null;ke!==null&&qe<ee.length;qe++){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var Tt=re(X,ke,ee[qe],he);if(Tt===null){ke===null&&(ke=Cn);break}s&&ke&&Tt.alternate===null&&i(X,ke),K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt,ke=Cn}if(qe===ee.length)return l(X,ke),St&&io(X,qe),Re;if(ke===null){for(;qe<ee.length;qe++)ke=me(X,ee[qe],he),ke!==null&&(K=v(ke,K,qe),st===null?Re=ke:st.sibling=ke,st=ke);return St&&io(X,qe),Re}for(ke=c(ke);qe<ee.length;qe++)Cn=se(ke,X,qe,ee[qe],he),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?qe:Cn.key),K=v(Cn,K,qe),st===null?Re=Cn:st.sibling=Cn,st=Cn);return s&&ke.forEach(function(sa){return i(X,sa)}),St&&io(X,qe),Re}function Be(X,K,ee,he){if(ee==null)throw Error(r(151));for(var Re=null,st=null,ke=K,qe=K=0,Cn=null,Tt=ee.next();ke!==null&&!Tt.done;qe++,Tt=ee.next()){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var sa=re(X,ke,Tt.value,he);if(sa===null){ke===null&&(ke=Cn);break}s&&ke&&sa.alternate===null&&i(X,ke),K=v(sa,K,qe),st===null?Re=sa:st.sibling=sa,st=sa,ke=Cn}if(Tt.done)return l(X,ke),St&&io(X,qe),Re;if(ke===null){for(;!Tt.done;qe++,Tt=ee.next())Tt=me(X,Tt.value,he),Tt!==null&&(K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt);return St&&io(X,qe),Re}for(ke=c(ke);!Tt.done;qe++,Tt=ee.next())Tt=se(ke,X,qe,Tt.value,he),Tt!==null&&(s&&Tt.alternate!==null&&ke.delete(Tt.key===null?qe:Tt.key),K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt);return s&&ke.forEach(function(aC){return i(X,aC)}),St&&io(X,qe),Re}function kt(X,K,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===N&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:e:{for(var Re=ee.key;K!==null;){if(K.key===Re){if(Re=ee.type,Re===N){if(K.tag===7){l(X,K.sibling),he=g(K,ee.props.children),he.return=X,X=he;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&nb(Re)===K.type){l(X,K.sibling),he=g(K,ee.props),eu(he,ee),he.return=X,X=he;break e}l(X,K);break}else i(X,K);K=K.sibling}ee.type===N?(he=ro(ee.props.children,X.mode,he,ee.key),he.return=X,X=he):(he=Yd(ee.type,ee.key,ee.props,null,X.mode,he),eu(he,ee),he.return=X,X=he)}return A(X);case T:e:{for(Re=ee.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(X,K.sibling),he=g(K,ee.children||[]),he.return=X,X=he;break e}else{l(X,K);break}else i(X,K);K=K.sibling}he=rp(ee,X.mode,he),he.return=X,X=he}return A(X);case M:return Re=ee._init,ee=Re(ee._payload),kt(X,K,ee,he)}if(ae(ee))return Ge(X,K,ee,he);if(k(ee)){if(Re=k(ee),typeof Re!="function")throw Error(r(150));return ee=Re.call(ee),Be(X,K,ee,he)}if(typeof ee.then=="function")return kt(X,K,hh(ee),he);if(ee.$$typeof===_)return kt(X,K,Jd(X,ee),he);fh(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(l(X,K.sibling),he=g(K,ee),he.return=X,X=he):(l(X,K),he=np(ee,X.mode,he),he.return=X,X=he),A(X)):l(X,K)}return function(X,K,ee,he){try{Jc=0;var Re=kt(X,K,ee,he);return ul=null,Re}catch(ke){if(ke===Hc||ke===th)throw ke;var st=Ar(29,ke,null,X.mode);return st.lanes=he,st.return=X,st}finally{}}}var dl=rb(!0),sb=rb(!1),Wr=ce(null),Ls=null;function qi(s){var i=s.alternate;ge(xn,xn.current&1),ge(Wr,s),Ls===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ls=s)}function ib(s){if(s.tag===22){if(ge(xn,xn.current),ge(Wr,s),Ls===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ls=s)}}else Hi()}function Hi(){ge(xn,xn.current),ge(Wr,Wr.current)}function gi(s){ve(Wr),Ls===s&&(Ls=null),ve(xn)}var xn=ce(0);function mh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kp(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Lp={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=jr(),g=Ui(c);g.payload=i,l!=null&&(g.callback=l),i=Bi(s,g,c),i!==null&&(Mr(i,s,c),Gc(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=jr(),g=Ui(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Bi(s,g,c),i!==null&&(Mr(i,s,c),Gc(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=jr(),c=Ui(l);c.tag=2,i!=null&&(c.callback=i),i=Bi(s,c,l),i!==null&&(Mr(i,s,l),Gc(i,s,l))}};function ab(s,i,l,c,g,v,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,A):i.prototype&&i.prototype.isPureReactComponent?!kc(l,c)||!kc(g,v):!0}function ob(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&Lp.enqueueReplaceState(i,i.state,null)}function fo(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var ph=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function lb(s){ph(s)}function cb(s){console.error(s)}function ub(s){ph(s)}function gh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function db(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Vp(s,i,l){return l=Ui(l),l.tag=3,l.payload={element:null},l.callback=function(){gh(s,i)},l}function hb(s){return s=Ui(s),s.tag=3,s}function fb(s,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;s.payload=function(){return g(v)},s.callback=function(){db(i,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){db(i,l,c),typeof g!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})})}function aA(s,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Bc(i,l,g,!0),l=Wr.current,l!==null){switch(l.tag){case 13:return Ls===null?lg():l.alternate===null&&Jt===0&&(Jt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===fp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),ug(s,c,g)),!1;case 22:return l.flags|=65536,c===fp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),ug(s,c,g)),!1}throw Error(r(435,l.tag))}return ug(s,c,g),lg(),!1}if(St)return i=Wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==ap&&(s=Error(r(422),{cause:c}),Uc(Qr(s,l)))):(c!==ap&&(i=Error(r(423),{cause:c}),Uc(Qr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Qr(c,l),g=Vp(s.stateNode,c,g),gp(s,g),Jt!==4&&(Jt=2)),!1;var v=Error(r(520),{cause:c});if(v=Qr(v,l),ou===null?ou=[v]:ou.push(v),Jt!==4&&(Jt=2),i===null)return!0;c=Qr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Vp(l.stateNode,c,s),gp(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xi===null||!Xi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=hb(g),fb(g,s,l,c),gp(l,g),!1}l=l.return}while(l!==null);return!1}var mb=Error(r(461)),Nn=!1;function kn(s,i,l,c){i.child=s===null?sb(i,null,l,c):dl(i,s.child,l,c)}function pb(s,i,l,c,g){l=l.render;var v=i.ref;if("ref"in c){var A={};for(var V in c)V!=="ref"&&(A[V]=c[V])}else A=c;return co(i),c=wp(s,i,l,A,v,g),V=_p(),s!==null&&!Nn?(Ep(s,i,g),yi(s,i,g)):(St&&V&&sp(i),i.flags|=1,kn(s,i,c,g),i.child)}function gb(s,i,l,c,g){if(s===null){var v=l.type;return typeof v=="function"&&!tp(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,yb(s,i,v,c,g)):(s=Yd(l.type,null,c,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!Gp(s,g)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:kc,l(A,c)&&s.ref===i.ref)return yi(s,i,g)}return i.flags|=1,s=ui(v,c),s.ref=i.ref,s.return=i,i.child=s}function yb(s,i,l,c,g){if(s!==null){var v=s.memoizedProps;if(kc(v,c)&&s.ref===i.ref)if(Nn=!1,i.pendingProps=c=v,Gp(s,g))(s.flags&131072)!==0&&(Nn=!0);else return i.lanes=s.lanes,yi(s,i,g)}return zp(s,i,l,c,g)}function vb(s,i,l){var c=i.pendingProps,g=c.children,v=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return xb(s,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&eh(i,v!==null?v.cachePool:null),v!==null?yx(i,v):vp(),ib(i);else return i.lanes=i.childLanes=536870912,xb(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(eh(i,v.cachePool),yx(i,v),Hi(),i.memoizedState=null):(s!==null&&eh(i,null),vp(),Hi());return kn(s,i,g,l),i.child}function xb(s,i,l,c){var g=hp();return g=g===null?null:{parent:vn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&eh(i,null),vp(),ib(i),s!==null&&Bc(s,i,c,!0),null}function yh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function zp(s,i,l,c,g){return co(i),l=wp(s,i,l,c,void 0,g),c=_p(),s!==null&&!Nn?(Ep(s,i,g),yi(s,i,g)):(St&&c&&sp(i),i.flags|=1,kn(s,i,l,g),i.child)}function bb(s,i,l,c,g,v){return co(i),i.updateQueue=null,l=xx(i,c,l,g),vx(s),c=_p(),s!==null&&!Nn?(Ep(s,i,v),yi(s,i,v)):(St&&c&&sp(i),i.flags|=1,kn(s,i,l,v),i.child)}function wb(s,i,l,c,g){if(co(i),i.stateNode===null){var v=tl,A=l.contextType;typeof A=="object"&&A!==null&&(v=$n(A)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Lp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},mp(i),A=l.contextType,v.context=typeof A=="object"&&A!==null?$n(A):tl,v.state=i.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(kp(i,l,A,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Lp.enqueueReplaceState(v,v.state,null),Kc(i,c,v,g),Qc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){v=i.stateNode;var V=i.memoizedProps,G=fo(l,V);v.props=G;var ne=v.context,ue=l.contextType;A=tl,typeof ue=="object"&&ue!==null&&(A=$n(ue));var me=l.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(V||ne!==A)&&ob(i,v,c,A),zi=!1;var re=i.memoizedState;v.state=re,Kc(i,c,v,g),Qc(),ne=i.memoizedState,V||re!==ne||zi?(typeof me=="function"&&(kp(i,l,me,c),ne=i.memoizedState),(G=zi||ab(i,l,G,c,re,ne,A))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=ne),v.props=c,v.state=ne,v.context=A,c=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,pp(s,i),A=i.memoizedProps,ue=fo(l,A),v.props=ue,me=i.pendingProps,re=v.context,ne=l.contextType,G=tl,typeof ne=="object"&&ne!==null&&(G=$n(ne)),V=l.getDerivedStateFromProps,(ne=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==me||re!==G)&&ob(i,v,c,G),zi=!1,re=i.memoizedState,v.state=re,Kc(i,c,v,g),Qc();var se=i.memoizedState;A!==me||re!==se||zi||s!==null&&s.dependencies!==null&&Zd(s.dependencies)?(typeof V=="function"&&(kp(i,l,V,c),se=i.memoizedState),(ue=zi||ab(i,l,ue,c,re,se,G)||s!==null&&s.dependencies!==null&&Zd(s.dependencies))?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,se,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,se,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=se),v.props=c,v.state=se,v.context=G,c=ue):(typeof v.componentDidUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),c=!1)}return v=c,yh(s,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&c?(i.child=dl(i,s.child,null,g),i.child=dl(i,null,l,g)):kn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=yi(s,i,g),s}function _b(s,i,l,c){return zc(),i.flags|=256,kn(s,i,l,c),i.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(s){return{baseLanes:s,cachePool:cx()}}function Fp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Zr),s}function Eb(s,i,l){var c=i.pendingProps,g=!1,v=(i.flags&128)!==0,A;if((A=v)||(A=s!==null&&s.memoizedState===null?!1:(xn.current&2)!==0),A&&(g=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,s===null){if(St){if(g?qi(i):Hi(),St){var V=Zt,G;if(G=V){e:{for(G=V,V=ks;G.nodeType!==8;){if(!V){V=null;break e}if(G=us(G.nextSibling),G===null){V=null;break e}}V=G}V!==null?(i.memoizedState={dehydrated:V,treeContext:so!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=V,G.return=i,i.child=G,or=i,Zt=null,G=!0):G=!1}G||oo(i)}if(V=i.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return Sg(V)?i.lanes=32:i.lanes=536870912,null;gi(i)}return V=c.children,c=c.fallback,g?(Hi(),g=i.mode,V=vh({mode:"hidden",children:V},g),c=ro(c,g,l,null),V.return=i,c.return=i,V.sibling=c,i.child=V,g=i.child,g.memoizedState=Bp(l),g.childLanes=Fp(s,A,l),i.memoizedState=Up,c):(qi(i),qp(i,V))}if(G=s.memoizedState,G!==null&&(V=G.dehydrated,V!==null)){if(v)i.flags&256?(qi(i),i.flags&=-257,i=Hp(s,i,l)):i.memoizedState!==null?(Hi(),i.child=s.child,i.flags|=128,i=null):(Hi(),g=c.fallback,V=i.mode,c=vh({mode:"visible",children:c.children},V),g=ro(g,V,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,dl(i,s.child,null,l),c=i.child,c.memoizedState=Bp(l),c.childLanes=Fp(s,A,l),i.memoizedState=Up,i=g);else if(qi(i),Sg(V)){if(A=V.nextSibling&&V.nextSibling.dataset,A)var ne=A.dgst;A=ne,c=Error(r(419)),c.stack="",c.digest=A,Uc({value:c,source:null,stack:null}),i=Hp(s,i,l)}else if(Nn||Bc(s,i,l,!1),A=(l&s.childLanes)!==0,Nn||A){if(A=zt,A!==null&&(c=l&-l,c=(c&42)!==0?1:_r(c),c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==G.retryLane))throw G.retryLane=c,el(s,c),Mr(A,s,c),mb;V.data==="$?"||lg(),i=Hp(s,i,l)}else V.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Zt=us(V.nextSibling),or=i,St=!0,ao=null,ks=!1,s!==null&&(Yr[Xr++]=di,Yr[Xr++]=hi,Yr[Xr++]=so,di=s.id,hi=s.overflow,so=i),i=qp(i,c.children),i.flags|=4096);return i}return g?(Hi(),g=c.fallback,V=i.mode,G=s.child,ne=G.sibling,c=ui(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,ne!==null?g=ui(ne,g):(g=ro(g,V,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,V=s.child.memoizedState,V===null?V=Bp(l):(G=V.cachePool,G!==null?(ne=vn._currentValue,G=G.parent!==ne?{parent:ne,pool:ne}:G):G=cx(),V={baseLanes:V.baseLanes|l,cachePool:G}),g.memoizedState=V,g.childLanes=Fp(s,A,l),i.memoizedState=Up,c):(qi(i),l=s.child,s=l.sibling,l=ui(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(A=i.deletions,A===null?(i.deletions=[s],i.flags|=16):A.push(s)),i.child=l,i.memoizedState=null,l)}function qp(s,i){return i=vh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function vh(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Hp(s,i,l){return dl(i,s.child,null,l),s=qp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Tb(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),lp(s.return,i,l)}function $p(s,i,l,c,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=g)}function Sb(s,i,l){var c=i.pendingProps,g=c.revealOrder,v=c.tail;if(kn(s,i,c.children,l),c=xn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tb(s,l,i);else if(s.tag===19)Tb(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ge(xn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&mh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),$p(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&mh(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}$p(i,!0,l,null,v);break;case"together":$p(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Yi|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Bc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=ui(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ui(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Gp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Zd(s)))}function oA(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Vi(i,vn,s.memoizedState.cache),zc();break;case 27:case 5:Ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(qi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Eb(s,i,l):(qi(i),s=yi(s,i,l),s!==null?s.sibling:null);qi(i);break;case 19:var g=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Bc(s,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return Sb(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(xn,xn.current),c)break;return null;case 22:case 23:return i.lanes=0,vb(s,i,l);case 24:Vi(i,vn,s.memoizedState.cache)}return yi(s,i,l)}function Nb(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Nn=!0;else{if(!Gp(s,l)&&(i.flags&128)===0)return Nn=!1,oA(s,i,l);Nn=(s.flags&131072)!==0}else Nn=!1,St&&(i.flags&1048576)!==0&&nx(i,Wd,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")tp(c)?(s=fo(c,s),i.tag=1,i=wb(null,i,c,s,l)):(i.tag=0,i=zp(null,i,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===D){i.tag=11,i=pb(null,i,c,s,l);break e}else if(g===B){i.tag=14,i=gb(null,i,c,s,l);break e}}throw i=J(c)||c,Error(r(306,i,""))}}return i;case 0:return zp(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=fo(c,i.pendingProps),wb(s,i,c,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;g=v.element,pp(s,i),Kc(i,c,null,l);var A=i.memoizedState;if(c=A.cache,Vi(i,vn,c),c!==v.cache&&cp(i,[vn],l,!0),Qc(),c=A.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=_b(s,i,c,l);break e}else if(c!==g){g=Qr(Error(r(424)),i),Uc(g),i=_b(s,i,c,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zt=us(s.firstChild),or=i,St=!0,ao=null,ks=!0,l=sb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zc(),c===g){i=yi(s,i,l);break e}kn(s,i,c,l)}i=i.child}return i;case 26:return yh(s,i),s===null?(l=Iw(i.type,null,i.pendingProps,null))?i.memoizedState=l:St||(l=i.type,s=i.pendingProps,c=Mh(Ee.current).createElement(l),c[fe]=i,c[be]=s,Vn(c,l,s),mt(c),i.stateNode=c):i.memoizedState=Iw(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&St&&(c=i.stateNode=Aw(i.type,i.pendingProps,Ee.current),or=i,ks=!0,g=Zt,Ji(i.type)?(Ng=g,Zt=us(c.firstChild)):Zt=g),kn(s,i,i.pendingProps.children,l),yh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&St&&((g=c=Zt)&&(c=PA(c,i.type,i.pendingProps,ks),c!==null?(i.stateNode=c,or=i,Zt=us(c.firstChild),ks=!1,g=!0):g=!1),g||oo(i)),Ze(i),g=i.type,v=i.pendingProps,A=s!==null?s.memoizedProps:null,c=v.children,_g(g,v)?c=null:A!==null&&_g(g,A)&&(i.flags|=32),i.memoizedState!==null&&(g=wp(s,i,JN,null,null,l),gu._currentValue=g),yh(s,i),kn(s,i,c,l),i.child;case 6:return s===null&&St&&((s=l=Zt)&&(l=kA(l,i.pendingProps,ks),l!==null?(i.stateNode=l,or=i,Zt=null,s=!0):s=!1),s||oo(i)),null;case 13:return Eb(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=dl(i,null,c,l):kn(s,i,c,l),i.child;case 11:return pb(s,i,i.type,i.pendingProps,l);case 7:return kn(s,i,i.pendingProps,l),i.child;case 8:return kn(s,i,i.pendingProps.children,l),i.child;case 12:return kn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Vi(i,i.type,c.value),kn(s,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,co(i),g=$n(g),c=c(g),i.flags|=1,kn(s,i,c,l),i.child;case 14:return gb(s,i,i.type,i.pendingProps,l);case 15:return yb(s,i,i.type,i.pendingProps,l);case 19:return Sb(s,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},s===null?(l=vh(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ui(s.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return vb(s,i,l);case 24:return co(i),c=$n(vn),s===null?(g=hp(),g===null&&(g=zt,v=up(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:c,cache:g},mp(i),Vi(i,vn,g)):((s.lanes&l)!==0&&(pp(s,i),Kc(i,null,null,l),Qc()),g=s.memoizedState,v=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Vi(i,vn,c)):(c=v.cache,Vi(i,vn,c),c!==g.cache&&cp(i,[vn],l,!0))),kn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function vi(s){s.flags|=4}function Ab(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Pw(i)){if(i=Wr.current,i!==null&&((bt&4194048)===bt?Ls!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==Ls))throw $c=fp,ux;s.flags|=8192}}function xh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?rr():536870912,s.lanes|=i,pl|=i)}function tu(s,i){if(!St)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function lA(s,i,l){var c=i.pendingProps;switch(ip(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),mi(vn),at(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Vc(i)?vi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ix())),Yt(i),null;case 26:return l=i.memoizedState,s===null?(vi(i),l!==null?(Yt(i),Ab(i,l)):(Yt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(vi(i),Yt(i),Ab(i,l)):(Yt(i),i.flags&=-16777217):(s.memoizedProps!==c&&vi(i),Yt(i),i.flags&=-16777217),null;case 27:It(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==c&&vi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}s=Se.current,Vc(i)?rx(i):(s=Aw(g,c,l),i.stateNode=s,vi(i))}return Yt(i),null;case 5:if(It(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&vi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}if(s=Se.current,Vc(i))rx(i);else{switch(g=Mh(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[fe]=i,s[be]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Vn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vi(i)}}return Yt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&vi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Vc(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,g=or,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[fe]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||bw(s.nodeValue,l)),s||oo(i)}else s=Mh(s).createTextNode(c),s[fe]=i,i.stateNode=s}return Yt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Vc(i),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[fe]=i}else zc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),g=!1}else g=ix(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(gi(i),i):(gi(i),null)}if(gi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),xh(i,i.updateQueue),Yt(i),null;case 4:return at(),s===null&&yg(i.stateNode.containerInfo),Yt(i),null;case 10:return mi(i.type),Yt(i),null;case 19:if(ve(xn),g=i.memoizedState,g===null)return Yt(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)tu(g,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=mh(s),v!==null){for(i.flags|=128,tu(g,!1),s=v.updateQueue,i.updateQueue=s,xh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)tx(l,s),l=l.sibling;return ge(xn,xn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Wt()>_h&&(i.flags|=128,c=!0,tu(g,!1),i.lanes=4194304)}else{if(!c)if(s=mh(v),s!==null){if(i.flags|=128,c=!0,s=s.updateQueue,i.updateQueue=s,xh(i,s),tu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!St)return Yt(i),null}else 2*Wt()-g.renderingStartTime>_h&&l!==536870912&&(i.flags|=128,c=!0,tu(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Wt(),i.sibling=null,s=xn.current,ge(xn,c?s&1|2:s&1),i):(Yt(i),null);case 22:case 23:return gi(i),xp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),l=i.updateQueue,l!==null&&xh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&ve(uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mi(vn),Yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cA(s,i){switch(ip(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return mi(vn),at(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(gi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(xn),null;case 4:return at(),null;case 10:return mi(i.type),null;case 22:case 23:return gi(i),xp(),s!==null&&ve(uo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return mi(vn),null;case 25:return null;default:return null}}function Cb(s,i){switch(ip(i),i.tag){case 3:mi(vn),at();break;case 26:case 27:case 5:It(i);break;case 4:at();break;case 13:gi(i);break;case 19:ve(xn);break;case 10:mi(i.type);break;case 22:case 23:gi(i),xp(),s!==null&&ve(uo);break;case 24:mi(vn)}}function nu(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var v=l.create,A=l.inst;c=v(),A.destroy=c}l=l.next}while(l!==g)}}catch(V){Vt(i,i.return,V)}}function $i(s,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&s)===s){var A=c.inst,V=A.destroy;if(V!==void 0){A.destroy=void 0,g=i;var G=l,ne=V;try{ne()}catch(ue){Vt(g,G,ue)}}}c=c.next}while(c!==v)}}catch(ue){Vt(i,i.return,ue)}}function Rb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{gx(i,l)}catch(c){Vt(s,s.return,c)}}}function Ib(s,i,l){l.props=fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(s,i,c)}}function ru(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){Vt(s,i,g)}}function Vs(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Vt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(s,i,g)}else l.current=null}function jb(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Vt(s,s.return,g)}}function Qp(s,i,l){try{var c=s.stateNode;IA(c,s.type,l,i),c[be]=i}catch(g){Vt(s,s.return,g)}}function Mb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ji(s.type)||s.tag===4}function Kp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ji(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yp(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=jh));else if(c!==4&&(c===27&&Ji(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(Yp(s,i,l),s=s.sibling;s!==null;)Yp(s,i,l),s=s.sibling}function bh(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Ji(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(bh(s,i,l),s=s.sibling;s!==null;)bh(s,i,l),s=s.sibling}function Ob(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Vn(i,c,l),i[fe]=s,i[be]=l}catch(v){Vt(s,s.return,v)}}var xi=!1,nn=!1,Xp=!1,Db=typeof WeakSet=="function"?WeakSet:Set,An=null;function uA(s,i){if(s=s.containerInfo,bg=Vh,s=$v(s),Km(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,V=-1,G=-1,ne=0,ue=0,me=s,re=null;t:for(;;){for(var se;me!==l||g!==0&&me.nodeType!==3||(V=A+g),me!==v||c!==0&&me.nodeType!==3||(G=A+c),me.nodeType===3&&(A+=me.nodeValue.length),(se=me.firstChild)!==null;)re=me,me=se;for(;;){if(me===s)break t;if(re===l&&++ne===g&&(V=A),re===v&&++ue===c&&(G=A),(se=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=se}l=V===-1||G===-1?null:{start:V,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:s,selectionRange:l},Vh=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ge=fo(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ge,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Tg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Tg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function Pb(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Gi(s,l),c&4&&nu(5,l);break;case 1:if(Gi(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(A){Vt(l,l.return,A)}else{var g=fo(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(l,l.return,A)}}c&64&&Rb(l),c&512&&ru(l,l.return);break;case 3:if(Gi(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{gx(s,i)}catch(A){Vt(l,l.return,A)}}break;case 27:i===null&&c&4&&Ob(l);case 26:case 5:Gi(s,l),i===null&&c&4&&jb(l),c&512&&ru(l,l.return);break;case 12:Gi(s,l);break;case 13:Gi(s,l),c&4&&Vb(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=xA.bind(null,l),LA(s,l))));break;case 22:if(c=l.memoizedState!==null||xi,!c){i=i!==null&&i.memoizedState!==null||nn,g=xi;var v=nn;xi=c,(nn=i)&&!v?Qi(s,l,(l.subtreeFlags&8772)!==0):Gi(s,l),xi=g,nn=v}break;case 30:break;default:Gi(s,l)}}function kb(s){var i=s.alternate;i!==null&&(s.alternate=null,kb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&De(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,pr=!1;function bi(s,i,l){for(l=l.child;l!==null;)Lb(s,i,l),l=l.sibling}function Lb(s,i,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 26:nn||Vs(l,i),bi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||Vs(l,i);var c=Gt,g=pr;Ji(l.type)&&(Gt=l.stateNode,pr=!1),bi(s,i,l),hu(l.stateNode),Gt=c,pr=g;break;case 5:nn||Vs(l,i);case 6:if(c=Gt,g=pr,Gt=null,bi(s,i,l),Gt=c,pr=g,Gt!==null)if(pr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){Vt(l,i,v)}else try{Gt.removeChild(l.stateNode)}catch(v){Vt(l,i,v)}break;case 18:Gt!==null&&(pr?(s=Gt,Sw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),bu(s)):Sw(Gt,l.stateNode));break;case 4:c=Gt,g=pr,Gt=l.stateNode.containerInfo,pr=!0,bi(s,i,l),Gt=c,pr=g;break;case 0:case 11:case 14:case 15:nn||$i(2,l,i),nn||$i(4,l,i),bi(s,i,l);break;case 1:nn||(Vs(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ib(l,i,c)),bi(s,i,l);break;case 21:bi(s,i,l);break;case 22:nn=(c=nn)||l.memoizedState!==null,bi(s,i,l),nn=c;break;default:bi(s,i,l)}}function Vb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bu(s)}catch(l){Vt(i,i.return,l)}}function dA(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Db),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Db),i;default:throw Error(r(435,s.tag))}}function Wp(s,i){var l=dA(s);i.forEach(function(c){var g=bA.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Cr(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=s,A=i,V=A;e:for(;V!==null;){switch(V.tag){case 27:if(Ji(V.type)){Gt=V.stateNode,pr=!1;break e}break;case 5:Gt=V.stateNode,pr=!1;break e;case 3:case 4:Gt=V.stateNode.containerInfo,pr=!0;break e}V=V.return}if(Gt===null)throw Error(r(160));Lb(v,A,g),Gt=null,pr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zb(i,s),i=i.sibling}var cs=null;function zb(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Cr(i,s),Rr(s),c&4&&($i(3,s,s.return),nu(3,s),$i(5,s,s.return));break;case 1:Cr(i,s),Rr(s),c&512&&(nn||l===null||Vs(l,l.return)),c&64&&xi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=cs;if(Cr(i,s),Rr(s),c&512&&(nn||l===null||Vs(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[fe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Vn(v,c,l),v[fe]=s,mt(v),c=v;break e;case"link":var A=Ow("link","href",g).get(c+(l.href||""));if(A){for(var V=0;V<A.length;V++)if(v=A[V],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(V,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;case"meta":if(A=Ow("meta","content",g).get(c+(l.content||""))){for(V=0;V<A.length;V++)if(v=A[V],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(V,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[fe]=s,mt(v),c=v}s.stateNode=c}else Dw(g,s.type,s.stateNode);else s.stateNode=Mw(g,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?Dw(g,s.type,s.stateNode):Mw(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Qp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Cr(i,s),Rr(s),c&512&&(nn||l===null||Vs(l,l.return)),l!==null&&c&4&&Qp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Cr(i,s),Rr(s),c&512&&(nn||l===null||Vs(l,l.return)),s.flags&32){g=s.stateNode;try{qr(g,"")}catch(se){Vt(s,s.return,se)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,Qp(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Xp=!0);break;case 6:if(Cr(i,s),Rr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(se){Vt(s,s.return,se)}}break;case 3:if(Ph=null,g=cs,cs=Oh(i.containerInfo),Cr(i,s),cs=g,Rr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{bu(i.containerInfo)}catch(se){Vt(s,s.return,se)}Xp&&(Xp=!1,Ub(s));break;case 4:c=cs,cs=Oh(s.stateNode.containerInfo),Cr(i,s),Rr(s),cs=c;break;case 12:Cr(i,s),Rr(s);break;case 13:Cr(i,s),Rr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rg=Wt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wp(s,c)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ne=xi,ue=nn;if(xi=ne||g,nn=ue||G,Cr(i,s),nn=ue,xi=ne,Rr(s),c&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||xi||nn||mo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{V=G.stateNode;var me=G.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;V.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(se){Vt(G,G.return,se)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(se){Vt(G,G.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Wp(s,l))));break;case 19:Cr(i,s),Rr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Wp(s,c)));break;case 30:break;case 21:break;default:Cr(i,s),Rr(s)}}function Rr(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(Mb(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Kp(s);bh(s,v,g);break;case 5:var A=l.stateNode;l.flags&32&&(qr(A,""),l.flags&=-33);var V=Kp(s);bh(s,V,A);break;case 3:case 4:var G=l.stateNode.containerInfo,ne=Kp(s);Yp(s,ne,G);break;default:throw Error(r(161))}}catch(ue){Vt(s,s.return,ue)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Ub(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Ub(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Gi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pb(s,i.alternate,i),i=i.sibling}function mo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:$i(4,i,i.return),mo(i);break;case 1:Vs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ib(i,i.return,l),mo(i);break;case 27:hu(i.stateNode);case 26:case 5:Vs(i,i.return),mo(i);break;case 22:i.memoizedState===null&&mo(i);break;case 30:mo(i);break;default:mo(i)}s=s.sibling}}function Qi(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=s,v=i,A=v.flags;switch(v.tag){case 0:case 11:case 15:Qi(g,v,l),nu(4,v);break;case 1:if(Qi(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){Vt(c,c.return,ne)}if(c=v,g=c.updateQueue,g!==null){var V=c.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)px(G[g],V)}catch(ne){Vt(c,c.return,ne)}}l&&A&64&&Rb(v),ru(v,v.return);break;case 27:Ob(v);case 26:case 5:Qi(g,v,l),l&&c===null&&A&4&&jb(v),ru(v,v.return);break;case 12:Qi(g,v,l);break;case 13:Qi(g,v,l),l&&A&4&&Vb(g,v);break;case 22:v.memoizedState===null&&Qi(g,v,l),ru(v,v.return);break;case 30:break;default:Qi(g,v,l)}i=i.sibling}}function Zp(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Fc(l))}function Jp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s))}function zs(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(s,i,l,c),i=i.sibling}function Bb(s,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:zs(s,i,l,c),g&2048&&nu(9,i);break;case 1:zs(s,i,l,c);break;case 3:zs(s,i,l,c),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Fc(s)));break;case 12:if(g&2048){zs(s,i,l,c),s=i.stateNode;try{var v=i.memoizedProps,A=v.id,V=v.onPostCommit;typeof V=="function"&&V(A,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Vt(i,i.return,G)}}else zs(s,i,l,c);break;case 13:zs(s,i,l,c);break;case 23:break;case 22:v=i.stateNode,A=i.alternate,i.memoizedState!==null?v._visibility&2?zs(s,i,l,c):su(s,i):v._visibility&2?zs(s,i,l,c):(v._visibility|=2,hl(s,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&Zp(A,i);break;case 24:zs(s,i,l,c),g&2048&&Jp(i.alternate,i);break;default:zs(s,i,l,c)}}function hl(s,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,A=i,V=l,G=c,ne=A.flags;switch(A.tag){case 0:case 11:case 15:hl(v,A,V,G,g),nu(8,A);break;case 23:break;case 22:var ue=A.stateNode;A.memoizedState!==null?ue._visibility&2?hl(v,A,V,G,g):su(v,A):(ue._visibility|=2,hl(v,A,V,G,g)),g&&ne&2048&&Zp(A.alternate,A);break;case 24:hl(v,A,V,G,g),g&&ne&2048&&Jp(A.alternate,A);break;default:hl(v,A,V,G,g)}i=i.sibling}}function su(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,g=c.flags;switch(c.tag){case 22:su(l,c),g&2048&&Zp(c.alternate,c);break;case 24:su(l,c),g&2048&&Jp(c.alternate,c);break;default:su(l,c)}i=i.sibling}}var iu=8192;function fl(s){if(s.subtreeFlags&iu)for(s=s.child;s!==null;)Fb(s),s=s.sibling}function Fb(s){switch(s.tag){case 26:fl(s),s.flags&iu&&s.memoizedState!==null&&XA(cs,s.memoizedState,s.memoizedProps);break;case 5:fl(s);break;case 3:case 4:var i=cs;cs=Oh(s.stateNode.containerInfo),fl(s),cs=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=iu,iu=16777216,fl(s),iu=i):fl(s));break;default:fl(s)}}function qb(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function au(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,$b(c,s)}qb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hb(s),s=s.sibling}function Hb(s){switch(s.tag){case 0:case 11:case 15:au(s),s.flags&2048&&$i(9,s,s.return);break;case 3:au(s);break;case 12:au(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,wh(s)):au(s);break;default:au(s)}}function wh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];An=c,$b(c,s)}qb(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:$i(8,i,i.return),wh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,wh(i));break;default:wh(i)}s=s.sibling}}function $b(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:$i(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,An=c;else e:for(l=s;An!==null;){c=An;var g=c.sibling,v=c.return;if(kb(c),c===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var hA={getCacheForType:function(s){var i=$n(vn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},fA=typeof WeakMap=="function"?WeakMap:Map,jt=0,zt=null,lt=null,bt=0,Mt=0,Ir=null,Ki=!1,ml=!1,eg=!1,wi=0,Jt=0,Yi=0,po=0,tg=0,Zr=0,pl=0,ou=null,gr=null,ng=!1,rg=0,_h=1/0,Eh=null,Xi=null,Ln=0,Wi=null,gl=null,yl=0,sg=0,ig=null,Gb=null,lu=0,ag=null;function jr(){if((jt&2)!==0&&bt!==0)return bt&-bt;if($.T!==null){var s=sl;return s!==0?s:fg()}return Q()}function Qb(){Zr===0&&(Zr=(bt&536870912)===0||St?an():536870912);var s=Wr.current;return s!==null&&(s.flags|=32),Zr}function Mr(s,i,l){(s===zt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(vl(s,0),Zi(s,bt,Zr,!1)),qn(s,l),((jt&2)===0||s!==zt)&&(s===zt&&((jt&2)===0&&(po|=l),Jt===4&&Zi(s,bt,Zr,!1)),Us(s))}function Kb(s,i,l){if((jt&6)!==0)throw Error(r(327));var c=!l&&(i&124)===0&&(i&s.expiredLanes)===0||ft(s,i),g=c?gA(s,i):cg(s,i,!0),v=c;do{if(g===0){ml&&!c&&Zi(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!mA(l)){g=cg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var V=s;g=ou;var G=V.current.memoizedState.isDehydrated;if(G&&(vl(V,A).flags|=256),A=cg(V,A,!1),A!==2){if(eg&&!G){V.errorRecoveryDisabledLanes|=v,po|=v,g=4;break e}v=gr,gr=g,v!==null&&(gr===null?gr=v:gr.push.apply(gr,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){vl(s,0),Zi(s,i,0,!0);break}e:{switch(c=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Zi(c,i,Zr,!Ki);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=rg+300-Wt(),10<g)){if(Zi(c,i,Zr,!Ki),Je(c,0,!0)!==0)break e;c.timeoutHandle=Ew(Yb.bind(null,c,l,gr,Eh,ng,i,Zr,po,pl,Ki,v,2,-0,0),g);break e}Yb(c,l,gr,Eh,ng,i,Zr,po,pl,Ki,v,0,-0,0)}}break}while(!0);Us(s)}function Yb(s,i,l,c,g,v,A,V,G,ne,ue,me,re,se){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:YA},Fb(i),me=WA(),me!==null)){s.cancelPendingCommit=me(nw.bind(null,s,i,v,l,c,g,A,V,G,ue,1,re,se)),Zi(s,v,A,!ne);return}nw(s,i,v,l,c,g,A,V,G)}function mA(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Nr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(s,i,l,c){i&=~tg,i&=~po,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var g=i;0<g;){var v=31-Qt(g),A=1<<v;c[v]=-1,g&=~A}l!==0&&Kt(s,l,i)}function Th(){return(jt&6)===0?(cu(0),!1):!0}function og(){if(lt!==null){if(Mt===0)var s=lt.return;else s=lt,fi=lo=null,Tp(s),ul=null,Jc=0,s=lt;for(;s!==null;)Cb(s.alternate,s),s=s.return;lt=null}}function vl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,MA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),og(),zt=s,lt=l=ui(s.current,null),bt=i,Mt=0,Ir=null,Ki=!1,ml=ft(s,i),eg=!1,pl=Zr=tg=po=Yi=Jt=0,gr=ou=null,ng=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var g=31-Qt(c),v=1<<g;i|=s[g],c&=~v}return wi=i,Gd(),l}function Xb(s,i){tt=null,$.H=dh,i===Hc||i===th?(i=fx(),Mt=3):i===ux?(i=fx(),Mt=4):Mt=i===mb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ir=i,lt===null&&(Jt=1,gh(s,Qr(i,s.current)))}function Wb(){var s=$.H;return $.H=dh,s===null?dh:s}function Zb(){var s=$.A;return $.A=hA,s}function lg(){Jt=4,Ki||(bt&4194048)!==bt&&Wr.current!==null||(ml=!0),(Yi&134217727)===0&&(po&134217727)===0||zt===null||Zi(zt,bt,Zr,!1)}function cg(s,i,l){var c=jt;jt|=2;var g=Wb(),v=Zb();(zt!==s||bt!==i)&&(Eh=null,vl(s,i)),i=!1;var A=Jt;e:do try{if(Mt!==0&&lt!==null){var V=lt,G=Ir;switch(Mt){case 8:og(),A=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(i=!0);var ne=Mt;if(Mt=0,Ir=null,xl(s,V,G,ne),l&&ml){A=0;break e}break;default:ne=Mt,Mt=0,Ir=null,xl(s,V,G,ne)}}pA(),A=Jt;break}catch(ue){Xb(s,ue)}while(!0);return i&&s.shellSuspendCounter++,fi=lo=null,jt=c,$.H=g,$.A=v,lt===null&&(zt=null,bt=0,Gd()),A}function pA(){for(;lt!==null;)Jb(lt)}function gA(s,i){var l=jt;jt|=2;var c=Wb(),g=Zb();zt!==s||bt!==i?(Eh=null,_h=Wt()+500,vl(s,i)):ml=ft(s,i);e:do try{if(Mt!==0&&lt!==null){i=lt;var v=Ir;t:switch(Mt){case 1:Mt=0,Ir=null,xl(s,i,v,1);break;case 2:case 9:if(dx(v)){Mt=0,Ir=null,ew(i);break}i=function(){Mt!==2&&Mt!==9||zt!==s||(Mt=7),Us(s)},v.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:dx(v)?(Mt=0,Ir=null,ew(i)):(Mt=0,Ir=null,xl(s,i,v,7));break;case 5:var A=null;switch(lt.tag){case 26:A=lt.memoizedState;case 5:case 27:var V=lt;if(!A||Pw(A)){Mt=0,Ir=null;var G=V.sibling;if(G!==null)lt=G;else{var ne=V.return;ne!==null?(lt=ne,Sh(ne)):lt=null}break t}}Mt=0,Ir=null,xl(s,i,v,5);break;case 6:Mt=0,Ir=null,xl(s,i,v,6);break;case 8:og(),Jt=6;break e;default:throw Error(r(462))}}yA();break}catch(ue){Xb(s,ue)}while(!0);return fi=lo=null,$.H=c,$.A=g,jt=l,lt!==null?0:(zt=null,bt=0,Gd(),Jt)}function yA(){for(;lt!==null&&!dr();)Jb(lt)}function Jb(s){var i=Nb(s.alternate,s,wi);s.memoizedProps=s.pendingProps,i===null?Sh(s):lt=i}function ew(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=bb(l,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=bb(l,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:Tp(i);default:Cb(l,i),i=lt=tx(i,wi),i=Nb(l,i,wi)}s.memoizedProps=s.pendingProps,i===null?Sh(s):lt=i}function xl(s,i,l,c){fi=lo=null,Tp(i),ul=null,Jc=0;var g=i.return;try{if(aA(s,g,i,l,bt)){Jt=1,gh(s,Qr(l,s.current)),lt=null;return}}catch(v){if(g!==null)throw lt=g,v;Jt=1,gh(s,Qr(l,s.current)),lt=null;return}i.flags&32768?(St||c===1?s=!0:ml||(bt&536870912)!==0?s=!1:(Ki=s=!0,(c===2||c===9||c===3||c===6)&&(c=Wr.current,c!==null&&c.tag===13&&(c.flags|=16384))),tw(i,s)):Sh(i)}function Sh(s){var i=s;do{if((i.flags&32768)!==0){tw(i,Ki);return}s=i.return;var l=lA(i.alternate,i,wi);if(l!==null){lt=l;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=s}while(i!==null);Jt===0&&(Jt=5)}function tw(s,i){do{var l=cA(s.alternate,s);if(l!==null){l.flags&=32767,lt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){lt=s;return}lt=s=l}while(s!==null);Jt=6,lt=null}function nw(s,i,l,c,g,v,A,V,G){s.cancelPendingCommit=null;do Nh();while(Ln!==0);if((jt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Jm,Mn(s,l,v,A,V,G),s===zt&&(lt=zt=null,bt=0),gl=i,Wi=s,yl=l,sg=v,ig=g,Gb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wA(is,function(){return ow(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,g=ie.p,ie.p=2,A=jt,jt|=4;try{uA(s,i,l)}finally{jt=A,ie.p=g,$.T=c}}Ln=1,rw(),sw(),iw()}}function rw(){if(Ln===1){Ln=0;var s=Wi,i=gl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=ie.p;ie.p=2;var g=jt;jt|=4;try{zb(i,s);var v=wg,A=$v(s.containerInfo),V=v.focusedElem,G=v.selectionRange;if(A!==V&&V&&V.ownerDocument&&Hv(V.ownerDocument.documentElement,V)){if(G!==null&&Km(V)){var ne=G.start,ue=G.end;if(ue===void 0&&(ue=ne),"selectionStart"in V)V.selectionStart=ne,V.selectionEnd=Math.min(ue,V.value.length);else{var me=V.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var se=re.getSelection(),Ge=V.textContent.length,Be=Math.min(G.start,Ge),kt=G.end===void 0?Be:Math.min(G.end,Ge);!se.extend&&Be>kt&&(A=kt,kt=Be,Be=A);var X=qv(V,Be),K=qv(V,kt);if(X&&K&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var ee=me.createRange();ee.setStart(X.node,X.offset),se.removeAllRanges(),Be>kt?(se.addRange(ee),se.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),se.addRange(ee))}}}}for(me=[],se=V;se=se.parentNode;)se.nodeType===1&&me.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<me.length;V++){var he=me[V];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Vh=!!bg,wg=bg=null}finally{jt=g,ie.p=c,$.T=l}}s.current=i,Ln=2}}function sw(){if(Ln===2){Ln=0;var s=Wi,i=gl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=ie.p;ie.p=2;var g=jt;jt|=4;try{Pb(s,i.alternate,i)}finally{jt=g,ie.p=c,$.T=l}}Ln=3}}function iw(){if(Ln===4||Ln===3){Ln=0,er();var s=Wi,i=gl,l=yl,c=Gb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,gl=Wi=null,aw(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Xi=null),Ns(l),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,g=ie.p,ie.p=2,$.T=null;try{for(var v=s.onRecoverableError,A=0;A<c.length;A++){var V=c[A];v(V.value,{componentStack:V.stack})}}finally{$.T=i,ie.p=g}}(yl&3)!==0&&Nh(),Us(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===ag?lu++:(lu=0,ag=s):lu=0,cu(0)}}function aw(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Fc(i)))}function Nh(s){return rw(),sw(),iw(),ow()}function ow(){if(Ln!==5)return!1;var s=Wi,i=sg;sg=0;var l=Ns(yl),c=$.T,g=ie.p;try{ie.p=32>l?32:l,$.T=null,l=ig,ig=null;var v=Wi,A=yl;if(Ln=0,gl=Wi=null,yl=0,(jt&6)!==0)throw Error(r(331));var V=jt;if(jt|=4,Hb(v.current),Bb(v,v.current,A,l),jt=V,cu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(yt,v)}catch{}return!0}finally{ie.p=g,$.T=c,aw(s,i)}}function lw(s,i,l){i=Qr(l,i),i=Vp(s.stateNode,i,2),s=Bi(s,i,2),s!==null&&(qn(s,2),Us(s))}function Vt(s,i,l){if(s.tag===3)lw(s,s,l);else for(;i!==null;){if(i.tag===3){lw(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xi===null||!Xi.has(c))){s=Qr(l,s),l=hb(2),c=Bi(i,l,2),c!==null&&(fb(l,c,i,s),qn(c,2),Us(c));break}}i=i.return}}function ug(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new fA;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(eg=!0,g.add(l),s=vA.bind(null,s,i,l),i.then(s,s))}function vA(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,zt===s&&(bt&l)===l&&(Jt===4||Jt===3&&(bt&62914560)===bt&&300>Wt()-rg?(jt&2)===0&&vl(s,0):tg|=l,pl===bt&&(pl=0)),Us(s)}function cw(s,i){i===0&&(i=rr()),s=el(s,i),s!==null&&(qn(s,i),Us(s))}function xA(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),cw(s,l)}function bA(s,i){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),cw(s,l)}function wA(s,i){return mn(s,i)}var Ah=null,bl=null,dg=!1,Ch=!1,hg=!1,go=0;function Us(s){s!==bl&&s.next===null&&(bl===null?Ah=bl=s:bl=bl.next=s),Ch=!0,dg||(dg=!0,EA())}function cu(s,i){if(!hg&&Ch){hg=!0;do for(var l=!1,c=Ah;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var A=c.suspendedLanes,V=c.pingedLanes;v=(1<<31-Qt(42|s)+1)-1,v&=g&~(A&~V),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fw(c,v))}else v=bt,v=Je(c,c===zt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ft(c,v)||(l=!0,fw(c,v));c=c.next}while(l);hg=!1}}function _A(){uw()}function uw(){Ch=dg=!1;var s=0;go!==0&&(jA()&&(s=go),go=0);for(var i=Wt(),l=null,c=Ah;c!==null;){var g=c.next,v=dw(c,i);v===0?(c.next=null,l===null?Ah=g:l.next=g,g===null&&(bl=l)):(l=c,(s!==0||(v&3)!==0)&&(Ch=!0)),c=g}cu(s)}function dw(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var A=31-Qt(v),V=1<<A,G=g[A];G===-1?((V&l)===0||(V&c)!==0)&&(g[A]=Ht(V,i)):G<=i&&(s.expiredLanes|=V),v&=~V}if(i=zt,l=bt,l=Je(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&qt(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ft(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&qt(c),Ns(l)){case 2:case 8:l=Ts;break;case 32:l=is;break;case 268435456:l=nr;break;default:l=is}return c=hw.bind(null,s),l=mn(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&qt(c),s.callbackPriority=2,s.callbackNode=null,2}function hw(s,i){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Nh()&&s.callbackNode!==l)return null;var c=bt;return c=Je(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(Kb(s,c,i),dw(s,Wt()),s.callbackNode!=null&&s.callbackNode===l?hw.bind(null,s):null)}function fw(s,i){if(Nh())return null;Kb(s,i,!0)}function EA(){OA(function(){(jt&6)!==0?mn(Es,_A):uw()})}function fg(){return go===0&&(go=an()),go}function mw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function pw(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function TA(s,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var v=mw((g[be]||null).action),A=c.submitter;A&&(i=(i=A[be]||null)?mw(i.formAction):A.getAttribute("formAction"),i!==null&&(v=i,A=null));var V=new qo("action","action",null,c,g);s.push({event:V,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(go!==0){var G=A?pw(g,A):new FormData(g);Op(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(V.preventDefault(),G=A?pw(g,A):new FormData(g),Op(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var mg=0;mg<Zm.length;mg++){var pg=Zm[mg],SA=pg.toLowerCase(),NA=pg[0].toUpperCase()+pg.slice(1);ls(SA,"on"+NA)}ls(Kv,"onAnimationEnd"),ls(Yv,"onAnimationIteration"),ls(Xv,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(qN,"onTransitionRun"),ls(HN,"onTransitionStart"),ls($N,"onTransitionCancel"),ls(Wv,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function gw(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var A=c.length-1;0<=A;A--){var V=c[A],G=V.instance,ne=V.currentTarget;if(V=V.listener,G!==v&&g.isPropagationStopped())break e;v=V,g.currentTarget=ne;try{v(g)}catch(ue){ph(ue)}g.currentTarget=null,v=G}else for(A=0;A<c.length;A++){if(V=c[A],G=V.instance,ne=V.currentTarget,V=V.listener,G!==v&&g.isPropagationStopped())break e;v=V,g.currentTarget=ne;try{v(g)}catch(ue){ph(ue)}g.currentTarget=null,v=G}}}}function ct(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var c=s+"__bubble";l.has(c)||(yw(i,s,2,!1),l.add(c))}function gg(s,i,l){var c=0;i&&(c|=4),yw(l,s,c,i)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function yg(s){if(!s[Rh]){s[Rh]=!0,rt.forEach(function(l){l!=="selectionchange"&&(AA.has(l)||gg(l,!1,s),gg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Rh]||(i[Rh]=!0,gg("selectionchange",!1,i))}}function yw(s,i,l,c){switch(Bw(i)){case 2:var g=eC;break;case 8:g=tC;break;default:g=jg}l=g.bind(null,i,l,s),g=void 0,!$r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function vg(s,i,l,c,g){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var V=c.stateNode.containerInfo;if(V===g)break;if(A===4)for(A=c.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;V!==null;){if(A=Fe(V),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){c=v=A;continue e}V=V.parentNode}}c=c.return}jd(function(){var ne=v,ue=Hr(l),me=[];e:{var re=Zv.get(s);if(re!==void 0){var se=qo,Ge=s;switch(s){case"keypress":if(js(l)===0)break e;case"keydown":case"keyup":se=Yo;break;case"focusin":Ge="focus",se=Go;break;case"focusout":Ge="blur",se=Go;break;case"beforeblur":case"afterblur":se=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=zd;break;case Kv:case Yv:case Xv:se=Qo;break;case Wv:se=Bd;break;case"scroll":case"scrollend":se=Md;break;case"wheel":se=Xo;break;case"copy":case"cut":case"paste":se=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Dc;break;case"toggle":case"beforetoggle":se=qd}var Be=(i&4)!==0,kt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?re!==null?re+"Capture":null:re;Be=[];for(var K=ne,ee;K!==null;){var he=K;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||X===null||(he=Ka(K,X),he!=null&&Be.push(du(K,he,ee))),kt)break;K=K.return}0<Be.length&&(re=new se(re,Ge,null,l,ue),me.push({event:re,listeners:Be}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",re&&l!==si&&(Ge=l.relatedTarget||l.fromElement)&&(Fe(Ge)||Ge[Ae]))break e;if((se||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Ge=l.relatedTarget||l.toElement,se=ne,Ge=Ge?Fe(Ge):null,Ge!==null&&(kt=o(Ge),Be=Ge.tag,Ge!==kt||Be!==5&&Be!==27&&Be!==6)&&(Ge=null)):(se=null,Ge=ne),se!==Ge)){if(Be=Gr,he="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Dc,he="onPointerLeave",X="onPointerEnter",K="pointer"),kt=se==null?re:Nt(se),ee=Ge==null?re:Nt(Ge),re=new Be(he,K+"leave",se,l,ue),re.target=kt,re.relatedTarget=ee,he=null,Fe(ue)===ne&&(Be=new Be(X,K+"enter",Ge,l,ue),Be.target=ee,Be.relatedTarget=kt,he=Be),kt=he,se&&Ge)t:{for(Be=se,X=Ge,K=0,ee=Be;ee;ee=wl(ee))K++;for(ee=0,he=X;he;he=wl(he))ee++;for(;0<K-ee;)Be=wl(Be),K--;for(;0<ee-K;)X=wl(X),ee--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=wl(Be),X=wl(X)}Be=null}else Be=null;se!==null&&vw(me,re,se,Be,!1),Ge!==null&&kt!==null&&vw(me,kt,Ge,Be,!0)}}e:{if(re=ne?Nt(ne):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var Re=Lv;else if(yn(re))if(Vv)Re=UN;else{Re=VN;var st=LN}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Ac(ne.elementType)&&(Re=Lv):Re=zN;if(Re&&(Re=Re(s,ne))){ci(me,Re,l,ue);break e}st&&st(s,re,ne),s==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&ki(re,"number",re.value)}switch(st=ne?Nt(ne):window,s){case"focusin":(yn(st)||st.contentEditable==="true")&&(Wo=st,Ym=ne,Lc=null);break;case"focusout":Lc=Ym=Wo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Gv(me,l,ue);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":Gv(me,l,ue)}var ke;if(Ds)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else vt?le(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(S&&l.locale!=="ko"&&(vt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&vt&&(ke=Rc()):(Is=ue,Li="value"in Is?Is.value:Is.textContent,vt=!0)),st=Ih(ne,qe),0<st.length&&(qe=new Mc(qe,s,null,l,ue),me.push({event:qe,listeners:st}),ke?qe.data=ke:(ke=we(l),ke!==null&&(qe.data=ke)))),(ke=b?gn(s,l):xt(s,l))&&(qe=Ih(ne,"onBeforeInput"),0<qe.length&&(st=new Mc("onBeforeInput","beforeinput",null,l,ue),me.push({event:st,listeners:qe}),st.data=ke)),TA(me,s,ne,l,ue)}gw(me,i)})}function du(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Ih(s,i){for(var l=i+"Capture",c=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ka(s,l),g!=null&&c.unshift(du(s,g,v)),g=Ka(s,i),g!=null&&c.push(du(s,g,v))),s.tag===3)return c;s=s.return}return[]}function wl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vw(s,i,l,c,g){for(var v=i._reactName,A=[];l!==null&&l!==c;){var V=l,G=V.alternate,ne=V.stateNode;if(V=V.tag,G!==null&&G===c)break;V!==5&&V!==26&&V!==27||ne===null||(G=ne,g?(ne=Ka(l,v),ne!=null&&A.unshift(du(l,ne,G))):g||(ne=Ka(l,v),ne!=null&&A.push(du(l,ne,G)))),l=l.return}A.length!==0&&s.push({event:i,listeners:A})}var CA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function xw(s){return(typeof s=="string"?s:""+s).replace(CA,`
`).replace(RA,"")}function bw(s,i){return i=xw(i),xw(s)===i}function jh(){}function Pt(s,i,l,c,g,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qr(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qr(s,""+c);break;case"className":ir(s,"class",c);break;case"tabIndex":ir(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(s,l,c);break;case"style":Nc(s,c,v);break;case"data":if(i!=="object"){ir(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Pt(s,i,"name",g.name,g,null),Pt(s,i,"formEncType",g.formEncType,g,null),Pt(s,i,"formMethod",g.formMethod,g,null),Pt(s,i,"formTarget",g.formTarget,g,null)):(Pt(s,i,"encType",g.encType,g,null),Pt(s,i,"method",g.method,g,null),Pt(s,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=jh);break;case"onScroll":c!=null&&ct("scroll",s);break;case"onScrollEnd":c!=null&&ct("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":ct("beforetoggle",s),ct("toggle",s),Hn(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hn(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fm.get(l)||l,Hn(s,l,c))}}function xg(s,i,l,c,g,v){switch(l){case"style":Nc(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?qr(s,c):(typeof c=="number"||typeof c=="bigint")&&qr(s,""+c);break;case"onScroll":c!=null&&ct("scroll",s);break;case"onScrollEnd":c!=null&&ct("scrollend",s);break;case"onClick":c!=null&&(s.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[be]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Hn(s,l,c)}}}function Vn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",s),ct("load",s);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,v,A,l,null)}}g&&Pt(s,i,"srcSet",l.srcSet,l,null),c&&Pt(s,i,"src",l.src,l,null);return;case"input":ct("invalid",s);var V=v=A=g=null,G=null,ne=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":g=ue;break;case"type":A=ue;break;case"checked":G=ue;break;case"defaultChecked":ne=ue;break;case"value":v=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:Pt(s,i,c,ue,l,null)}}$a(s,v,V,G,ne,A,g,!1),Bo(s);return;case"select":ct("invalid",s),c=A=v=null;for(g in l)if(l.hasOwnProperty(g)&&(V=l[g],V!=null))switch(g){case"value":v=V;break;case"defaultValue":A=V;break;case"multiple":c=V;default:Pt(s,i,g,V,l,null)}i=v,l=A,s.multiple=!!c,i!=null?ri(s,!!c,i,!1):l!=null&&ri(s,!!c,l,!0);return;case"textarea":ct("invalid",s),v=g=c=null;for(A in l)if(l.hasOwnProperty(A)&&(V=l[A],V!=null))switch(A){case"value":c=V;break;case"defaultValue":g=V;break;case"children":v=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Pt(s,i,A,V,l,null)}Ga(s,c,g,v),Bo(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pt(s,i,G,c,l,null)}return;case"dialog":ct("beforetoggle",s),ct("toggle",s),ct("cancel",s),ct("close",s);break;case"iframe":case"object":ct("load",s);break;case"video":case"audio":for(c=0;c<uu.length;c++)ct(uu[c],s);break;case"image":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"embed":case"source":case"link":ct("error",s),ct("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(c=l[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,ne,c,l,null)}return;default:if(Ac(i)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&xg(s,i,ue,c,l,void 0));return}}for(V in l)l.hasOwnProperty(V)&&(c=l[V],c!=null&&Pt(s,i,V,c,l,null))}function IA(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,V=null,G=null,ne=null,ue=null;for(se in l){var me=l[se];if(l.hasOwnProperty(se)&&me!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=me;default:c.hasOwnProperty(se)||Pt(s,i,se,null,c,me)}}for(var re in c){var se=c[re];if(me=l[re],c.hasOwnProperty(re)&&(se!=null||me!=null))switch(re){case"type":v=se;break;case"name":g=se;break;case"checked":ne=se;break;case"defaultChecked":ue=se;break;case"value":A=se;break;case"defaultValue":V=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:se!==me&&Pt(s,i,re,se,c,me)}}Sr(s,A,V,G,ne,ue,v,g);return;case"select":se=A=V=re=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":se=G;default:c.hasOwnProperty(v)||Pt(s,i,v,null,c,G)}for(g in c)if(v=c[g],G=l[g],c.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":re=v;break;case"defaultValue":V=v;break;case"multiple":A=v;default:v!==G&&Pt(s,i,g,v,c,G)}i=V,l=A,c=se,re!=null?ri(s,!!l,re,!1):!!c!=!!l&&(i!=null?ri(s,!!l,i,!0):ri(s,!!l,l?[]:"",!1));return;case"textarea":se=re=null;for(V in l)if(g=l[V],l.hasOwnProperty(V)&&g!=null&&!c.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Pt(s,i,V,null,c,g)}for(A in c)if(g=c[A],v=l[A],c.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":re=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Pt(s,i,A,g,c,v)}Ot(s,re,se);return;case"option":for(var Ge in l)if(re=l[Ge],l.hasOwnProperty(Ge)&&re!=null&&!c.hasOwnProperty(Ge))switch(Ge){case"selected":s.selected=!1;break;default:Pt(s,i,Ge,null,c,re)}for(G in c)if(re=c[G],se=l[G],c.hasOwnProperty(G)&&re!==se&&(re!=null||se!=null))switch(G){case"selected":s.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Pt(s,i,G,re,c,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)re=l[Be],l.hasOwnProperty(Be)&&re!=null&&!c.hasOwnProperty(Be)&&Pt(s,i,Be,null,c,re);for(ne in c)if(re=c[ne],se=l[ne],c.hasOwnProperty(ne)&&re!==se&&(re!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:Pt(s,i,ne,re,c,se)}return;default:if(Ac(i)){for(var kt in l)re=l[kt],l.hasOwnProperty(kt)&&re!==void 0&&!c.hasOwnProperty(kt)&&xg(s,i,kt,void 0,c,re);for(ue in c)re=c[ue],se=l[ue],!c.hasOwnProperty(ue)||re===se||re===void 0&&se===void 0||xg(s,i,ue,re,c,se);return}}for(var X in l)re=l[X],l.hasOwnProperty(X)&&re!=null&&!c.hasOwnProperty(X)&&Pt(s,i,X,null,c,re);for(me in c)re=c[me],se=l[me],!c.hasOwnProperty(me)||re===se||re==null&&se==null||Pt(s,i,me,re,c,se)}var bg=null,wg=null;function Mh(s){return s.nodeType===9?s:s.ownerDocument}function ww(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _w(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function _g(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Eg=null;function jA(){var s=window.event;return s&&s.type==="popstate"?s===Eg?!1:(Eg=s,!0):(Eg=null,!1)}var Ew=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(s){return Tw.resolve(null).then(s).catch(DA)}:Ew;function DA(s){setTimeout(function(){throw s})}function Ji(s){return s==="head"}function Sw(s,i){var l=i,c=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var A=s.ownerDocument;if(l&1&&hu(A.documentElement),l&2&&hu(A.body),l&4)for(l=A.head,hu(l),A=l.firstChild;A;){var V=A.nextSibling,G=A.nodeName;A[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=V}}if(g===0){s.removeChild(v),bu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);bu(i)}function Tg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function PA(s,i,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=us(s.nextSibling),s===null)break}return null}function kA(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=us(s.nextSibling),s===null))return null;return s}function Sg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function LA(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function us(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var Ng=null;function Nw(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function Aw(s,i,l){switch(i=Mh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function hu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);De(s)}var Jr=new Map,Cw=new Set;function Oh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _i=ie.d;ie.d={f:VA,r:zA,D:UA,C:BA,L:FA,m:qA,X:$A,S:HA,M:GA};function VA(){var s=_i.f(),i=Th();return s||i}function zA(s){var i=ot(s);i!==null&&i.tag===5&&i.type==="form"?Kx(i):_i.r(s)}var _l=typeof document>"u"?null:document;function Rw(s,i,l){var c=_l;if(c&&typeof i=="string"&&i){var g=ln(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Cw.has(g)||(Cw.add(g),s={rel:s,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Vn(i,"link",s),mt(i),c.head.appendChild(i)))}}function UA(s){_i.D(s),Rw("dns-prefetch",s,null)}function BA(s,i){_i.C(s,i),Rw("preconnect",s,i)}function FA(s,i,l){_i.L(s,i,l);var c=_l;if(c&&s&&i){var g='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ln(l.imageSizes)+'"]')):g+='[href="'+ln(s)+'"]';var v=g;switch(i){case"style":v=El(s);break;case"script":v=Tl(s)}Jr.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Jr.set(v,s),c.querySelector(g)!==null||i==="style"&&c.querySelector(fu(v))||i==="script"&&c.querySelector(mu(v))||(i=c.createElement("link"),Vn(i,"link",s),mt(i),c.head.appendChild(i)))}}function qA(s,i){_i.m(s,i);var l=_l;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+ln(c)+'"][href="'+ln(s)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(s)}if(!Jr.has(v)&&(s=y({rel:"modulepreload",href:s},i),Jr.set(v,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mu(v)))return}c=l.createElement("link"),Vn(c,"link",s),mt(c),l.head.appendChild(c)}}}function HA(s,i,l){_i.S(s,i,l);var c=_l;if(c&&s){var g=Et(c).hoistableStyles,v=El(s);i=i||"default";var A=g.get(v);if(!A){var V={loading:0,preload:null};if(A=c.querySelector(fu(v)))V.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Jr.get(v))&&Ag(s,l);var G=A=c.createElement("link");mt(G),Vn(G,"link",s),G._p=new Promise(function(ne,ue){G.onload=ne,G.onerror=ue}),G.addEventListener("load",function(){V.loading|=1}),G.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Dh(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:V},g.set(v,A)}}}function $A(s,i){_i.X(s,i);var l=_l;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(mu(g)),v||(s=y({src:s,async:!0},i),(i=Jr.get(g))&&Cg(s,i),v=l.createElement("script"),mt(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function GA(s,i){_i.M(s,i);var l=_l;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(mu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=Jr.get(g))&&Cg(s,i),v=l.createElement("script"),mt(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function Iw(s,i,l,c){var g=(g=Ee.current)?Oh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=Et(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=El(l.href);var v=Et(g).hoistableStyles,A=v.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,A),(v=g.querySelector(fu(s)))&&!v._p&&(A.instance=v,A.state.loading=5),Jr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jr.set(s,l),v||QA(g,s,l,A.state))),i&&c===null)throw Error(r(528,""));return A}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=Et(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function El(s){return'href="'+ln(s)+'"'}function fu(s){return'link[rel="stylesheet"]['+s+"]"}function jw(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function QA(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Vn(i,"link",l),mt(i),s.head.appendChild(i))}function Tl(s){return'[src="'+ln(s)+'"]'}function mu(s){return"script[async]"+s}function Mw(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+ln(l.href)+'"]');if(c)return i.instance=c,mt(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),mt(c),Vn(c,"style",g),Dh(c,l.precedence,s),i.instance=c;case"stylesheet":g=El(l.href);var v=s.querySelector(fu(g));if(v)return i.state.loading|=4,i.instance=v,mt(v),v;c=jw(l),(g=Jr.get(g))&&Ag(c,g),v=(s.ownerDocument||s).createElement("link"),mt(v);var A=v;return A._p=new Promise(function(V,G){A.onload=V,A.onerror=G}),Vn(v,"link",c),i.state.loading|=4,Dh(v,l.precedence,s),i.instance=v;case"script":return v=Tl(l.src),(g=s.querySelector(mu(v)))?(i.instance=g,mt(g),g):(c=l,(g=Jr.get(v))&&(c=y({},l),Cg(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),mt(g),Vn(g,"link",c),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Dh(c,l.precedence,s));return i.instance}function Dh(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,A=0;A<c.length;A++){var V=c[A];if(V.dataset.precedence===i)v=V;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Ag(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Cg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Ph=null;function Ow(s,i,l){if(Ph===null){var c=new Map,g=Ph=new Map;g.set(l,c)}else g=Ph,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[fe]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(i)||"";A=s+A;var V=c.get(A);V?V.push(v):c.set(A,[v])}}return c}function Dw(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function KA(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var pu=null;function YA(){}function XA(s,i,l){if(pu===null)throw Error(r(475));var c=pu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=El(l.href),v=s.querySelector(fu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=kh.bind(c),s.then(c,c)),i.state.loading|=4,i.instance=v,mt(v);return}v=s.ownerDocument||s,l=jw(l),(g=Jr.get(g))&&Ag(l,g),v=v.createElement("link"),mt(v);var A=v;A._p=new Promise(function(V,G){A.onload=V,A.onerror=G}),Vn(v,"link",l),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=kh.bind(c),s.addEventListener("load",i),s.addEventListener("error",i))}}function WA(){if(pu===null)throw Error(r(475));var s=pu;return s.stylesheets&&s.count===0&&Rg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Rg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function kh(){if(this.count--,this.count===0){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lh=null;function Rg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Lh=new Map,i.forEach(ZA,s),Lh=null,kh.call(s))}function ZA(s,i){if(!(i.state.loading&4)){var l=Lh.get(s);if(l)var c=l.get(null);else{l=new Map,Lh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}g=i.instance,A=g.getAttribute("data-precedence"),v=l.get(A)||c,v===c&&l.set(null,g),l.set(A,g),this.count++,c=kh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var gu={$$typeof:_,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function JA(s,i,l,c,g,v,A,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function kw(s,i,l,c,g,v,A,V,G,ne,ue,me){return s=new JA(s,i,l,A,V,G,ne,me),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=up(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},mp(v),s}function Lw(s){return s?(s=tl,s):tl}function Vw(s,i,l,c,g,v){g=Lw(g),c.context===null?c.context=g:c.pendingContext=g,c=Ui(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=Bi(s,c,i),l!==null&&(Mr(l,s,i),Gc(l,s,i))}function zw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Ig(s,i){zw(s,i),(s=s.alternate)&&zw(s,i)}function Uw(s){if(s.tag===13){var i=el(s,67108864);i!==null&&Mr(i,s,67108864),Ig(s,67108864)}}var Vh=!0;function eC(s,i,l,c){var g=$.T;$.T=null;var v=ie.p;try{ie.p=2,jg(s,i,l,c)}finally{ie.p=v,$.T=g}}function tC(s,i,l,c){var g=$.T;$.T=null;var v=ie.p;try{ie.p=8,jg(s,i,l,c)}finally{ie.p=v,$.T=g}}function jg(s,i,l,c){if(Vh){var g=Mg(c);if(g===null)vg(s,i,c,zh,l),Fw(s,c);else if(rC(g,s,i,l,c))c.stopPropagation();else if(Fw(s,c),i&4&&-1<nC.indexOf(s)){for(;g!==null;){var v=ot(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=je(v.pendingLanes);if(A!==0){var V=v;for(V.pendingLanes|=2,V.entangledLanes|=2;A;){var G=1<<31-Qt(A);V.entanglements[1]|=G,A&=~G}Us(v),(jt&6)===0&&(_h=Wt()+500,cu(0))}}break;case 13:V=el(v,2),V!==null&&Mr(V,v,2),Th(),Ig(v,2)}if(v=Mg(c),v===null&&vg(s,i,c,zh,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else vg(s,i,c,null,l)}}function Mg(s){return s=Hr(s),Og(s)}var zh=null;function Og(s){if(zh=null,s=Fe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return zh=s,null}function Bw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Es:return 2;case Ts:return 8;case is:case tr:return 32;case nr:return 268435456;default:return 32}default:return 32}}var Dg=!1,ea=null,ta=null,na=null,yu=new Map,vu=new Map,ra=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fw(s,i){switch(s){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(i.pointerId)}}function xu(s,i,l,c,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},i!==null&&(i=ot(i),i!==null&&Uw(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function rC(s,i,l,c,g){switch(i){case"focusin":return ea=xu(ea,s,i,l,c,g),!0;case"dragenter":return ta=xu(ta,s,i,l,c,g),!0;case"mouseover":return na=xu(na,s,i,l,c,g),!0;case"pointerover":var v=g.pointerId;return yu.set(v,xu(yu.get(v)||null,s,i,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,vu.set(v,xu(vu.get(v)||null,s,i,l,c,g)),!0}return!1}function qw(s){var i=Fe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var c=jr();c=_r(c);var g=el(l,c);g!==null&&Mr(g,l,c),Ig(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Mg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);si=c,l.target.dispatchEvent(c),si=null}else return i=ot(l),i!==null&&Uw(i),s.blockedOn=l,!1;i.shift()}return!0}function Hw(s,i,l){Uh(s)&&l.delete(i)}function sC(){Dg=!1,ea!==null&&Uh(ea)&&(ea=null),ta!==null&&Uh(ta)&&(ta=null),na!==null&&Uh(na)&&(na=null),yu.forEach(Hw),vu.forEach(Hw)}function Bh(s,i){s.blockedOn===i&&(s.blockedOn=null,Dg||(Dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sC)))}var Fh=null;function $w(s){Fh!==s&&(Fh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fh===s&&(Fh=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],g=s[i+2];if(typeof c!="function"){if(Og(c||l)===null)continue;break}var v=ot(l);v!==null&&(s.splice(i,3),i-=3,Op(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function bu(s){function i(G){return Bh(G,s)}ea!==null&&Bh(ea,s),ta!==null&&Bh(ta,s),na!==null&&Bh(na,s),yu.forEach(i),vu.forEach(i);for(var l=0;l<ra.length;l++){var c=ra[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ra.length&&(l=ra[0],l.blockedOn===null);)qw(l),l.blockedOn===null&&ra.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],A=g[be]||null;if(typeof v=="function")A||$w(l);else if(A){var V=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[be]||null)V=A.formAction;else if(Og(g)!==null)continue}else V=A.action;typeof V=="function"?l[c+1]=V:(l.splice(c,3),c-=3),$w(l)}}}function Pg(s){this._internalRoot=s}qh.prototype.render=Pg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=jr();Vw(l,c,s,i,null,null)},qh.prototype.unmount=Pg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Vw(s.current,2,null,s,null,null),Th(),i[Ae]=null}};function qh(s){this._internalRoot=s}qh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ra.length&&i!==0&&i<ra[l].priority;l++);ra.splice(l,0,s),l===0&&qw(s)}};var Gw=e.version;if(Gw!=="19.1.0")throw Error(r(527,Gw,"19.1.0"));ie.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var iC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{yt=Hh.inject(iC),We=Hh}catch{}}return _u.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",g=lb,v=cb,A=ub,V=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(V=i.unstable_transitionCallbacks)),i=kw(s,1,!1,null,null,l,c,g,v,A,V,null),s[Ae]=i.current,yg(s),new Pg(i)},_u.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,g="",v=lb,A=cb,V=ub,G=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),i=kw(s,1,!0,i,l??null,c,g,v,A,V,G,ne),i.context=Lw(null),l=i.current,c=jr(),c=_r(c),g=Ui(c),g.callback=null,Bi(l,g,c),l=c,i.current.lanes=l,qn(i,l),Us(i),s[Ae]=i.current,yg(s),new qh(i)},_u.version="19.1.0",_u}var r1;function mC(){if(r1)return zg.exports;r1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zg.exports=fC(),zg.exports}var pC=mC(),Eu={},s1;function gC(){if(s1)return Eu;s1=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=u,Eu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,T){const N=new o,L=w.length;if(L<2)return N;const I=(T==null?void 0:T.decode)||y;let R=0;do{const E=w.indexOf("=",R);if(E===-1)break;const _=w.indexOf(";",R),D=_===-1?L:_;if(E>D){R=w.lastIndexOf(";",E-1)+1;continue}const U=h(w,R,E),z=f(w,E,U),B=w.slice(U,z);if(N[B]===void 0){let M=h(w,E+1,D),j=f(w,D,M);const O=I(w.slice(M,j));N[B]=O}R=D+1}while(R<L);return N}function h(w,T,N){do{const L=w.charCodeAt(T);if(L!==32&&L!==9)return T}while(++T<N);return N}function f(w,T,N){for(;T>N;){const L=w.charCodeAt(--T);if(L!==32&&L!==9)return T+1}return N}function p(w,T,N){const L=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=L(T);if(!e.test(I))throw new TypeError(`argument val is invalid: ${T}`);let R=w+"="+I;if(!N)return R;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);R+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);R+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);R+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);R+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(R+="; HttpOnly"),N.secure&&(R+="; Secure"),N.partitioned&&(R+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return R}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return a.call(w)==="[object Date]"}return Eu}gC();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WE=n=>{throw TypeError(n)},yC=(n,e,t)=>e.has(n)||WE("Cannot "+t),qg=(n,e,t)=>(yC(n,e,"read from private field"),t?t.call(n):e.get(n)),vC=(n,e,t)=>e.has(n)?WE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),i1="popstate";function xC(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return Qu("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ja(a)}return wC(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bC(){return Math.random().toString(36).substring(2,10)}function a1(n,e){return{usr:n.state,key:n.key,idx:e}}function Qu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||r||bC()}}function ja({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function x(){h="POP";let I=y(),R=I==null?null:I-p;p=I,f&&f({action:h,location:L.location,delta:R})}function w(I,R){h="PUSH";let E=Qu(L.location,I,R);p=y()+1;let _=a1(E,p),D=L.createHref(E);try{u.pushState(_,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(D)}o&&f&&f({action:h,location:L.location,delta:1})}function T(I,R){h="REPLACE";let E=Qu(L.location,I,R);p=y();let _=a1(E,p),D=L.createHref(E);u.replaceState(_,"",D),o&&f&&f({action:h,location:L.location,delta:0})}function N(I){let R=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof I=="string"?I:ja(I);return E=E.replace(/ $/,"%20"),ut(R,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,R)}let L={get action(){return h},get location(){return n(a,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(i1,x),f=I,()=>{a.removeEventListener(i1,x),f=null}},createHref(I){return e(a,I)},createURL:N,encodeLocation(I){let R=N(I);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:T,go(I){return u.go(I)}};return L}var Ru,o1=class{constructor(n){if(vC(this,Ru,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(qg(this,Ru).has(n))return qg(this,Ru).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){qg(this,Ru).set(n,e)}};Ru=new WeakMap;var _C=new Set(["lazy","caseSensitive","path","id","index","children"]);function EC(n){return _C.has(n)}var TC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function SC(n){return TC.has(n)}function NC(n){return n.index===!0}function Nf(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),NC(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=Nf(a.children,e,u,r)),f}})}function la(n,e,t="/"){return cf(n,e,t,!1)}function cf(n,e,t,r){let a=typeof e=="string"?za(e):e,o=rs(a.pathname||"/",t);if(o==null)return null;let u=ZE(n);CC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=zC(o);h=LC(u[f],p,r)}return h}function AC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function ZE(n,e=[],t=[],r=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=$s([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ZE(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:PC(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of JE(o.path))a(o,u,f)}),e}function JE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=JE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function CC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var RC=/^:[\w-]+$/,IC=3,jC=2,MC=1,OC=10,DC=-2,l1=n=>n==="*";function PC(n,e){let t=n.split("/"),r=t.length;return t.some(l1)&&(r+=DC),e&&(r+=jC),t.filter(a=>!l1(a)).reduce((a,o)=>a+(RC.test(o)?IC:o===""?MC:OC),r)}function kC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function LC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=Af({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),w=f.route;if(!x&&p&&t&&!r[r.length-1].route.index&&(x=Af({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:$s([o,x.pathname]),pathnameBase:FC($s([o,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(o=$s([o,x.pathnameBase]))}return u}function Af(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:x},w)=>{if(y==="*"){let N=h[w]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[w];return x&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function VC(n,e=!1,t=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function zC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?za(n):n;return{pathname:t?t.startsWith("/")?t:BC(t,e):e,search:qC(r),hash:HC(a)}}function BC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xy(n){let e=eT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function by(n,e,t,r=!1){let a;typeof n=="string"?a=za(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;a.pathname=w.join("/")}h=x>=0?e[x]:"/"}let f=UC(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var $s=n=>n.join("/").replace(/\/\/+/g,"/"),FC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Cf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ku(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var tT=["POST","PUT","PATCH","DELETE"],$C=new Set(tT),GC=["GET",...tT],QC=new Set(GC),KC=new Set([301,302,303,307,308]),YC=new Set([307,308]),$g={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},XC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),nT="remix-router-transitions",rT=Symbol("ResetLoaderData");function ZC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||WC,o={},u=Nf(n.routes,a,void 0,o),h,f=n.basename||"/",p=n.dataStrategy||rR,y={unstable_middleware:!1,...n.future},x=null,w=new Set,T=null,N=null,L=null,I=n.hydrationData!=null,R=la(u,n.history.location,f),E=!1,_=null;if(R==null&&!n.patchRoutesOnNavigation){let Q=ts(404,{pathname:n.history.location.pathname}),{matches:W,route:te}=b1(u);R=W,_={[te.id]:Q}}R&&!n.hydrationData&&Kt(R,u,n.history.location.pathname).active&&(R=null);let D;if(R)if(R.some(Q=>Q.route.lazy))D=!1;else if(!R.some(Q=>Q.route.loader))D=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let te=R.findIndex(fe=>W[fe.route.id]!==void 0);D=R.slice(0,te+1).every(fe=>!w0(fe.route,Q,W))}else D=R.every(te=>!w0(te.route,Q,W))}else{D=!1,R=[];let Q=Kt(null,u,n.history.location.pathname);Q.active&&Q.matches&&(E=!0,R=Q.matches)}let U,z={historyAction:n.history.action,location:n.history.location,matches:R,initialized:D,navigation:$g,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||_,fetchers:new Map,blockers:new Map},B="POP",M=!1,j,O=!1,P=new Map,k=null,C=!1,J=!1,ae=new Set,$=new Map,ie=0,oe=-1,xe=new Map,H=new Set,ce=new Map,ve=new Map,ge=new Set,Se=new Map,Ve,Ee=null;function ye(){if(x=n.history.listen(({action:Q,location:W,delta:te})=>{if(Ve){Ve(),Ve=void 0;return}sn(Se.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Ht({currentLocation:z.location,nextLocation:W,historyAction:Q});if(fe&&te!=null){let be=new Promise(Ae=>{Ve=Ae});n.history.go(te*-1),ft(fe,{state:"blocked",location:W,proceed(){ft(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>n.history.go(te))},reset(){let Ae=new Map(z.blockers);Ae.set(fe,Tu),Ze({blockers:Ae})}});return}return qt(Q,W)}),t){mR(e,P);let Q=()=>pR(e,P);e.addEventListener("pagehide",Q),k=()=>e.removeEventListener("pagehide",Q)}return z.initialized||qt("POP",z.location,{initialHydration:!0}),U}function Te(){x&&x(),k&&k(),w.clear(),j&&j.abort(),z.fetchers.forEach((Q,W)=>Qt(W)),z.blockers.forEach((Q,W)=>Je(W))}function at(Q){return w.add(Q),()=>w.delete(Q)}function Ze(Q,W={}){z={...z,...Q};let te=[],fe=[];z.fetchers.forEach((be,Ae)=>{be.state==="idle"&&(ge.has(Ae)?te.push(Ae):fe.push(Ae))}),ge.forEach(be=>{!z.fetchers.has(be)&&!$.has(be)&&te.push(be)}),[...w].forEach(be=>be(z,{deletedFetchers:te,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),te.forEach(be=>Qt(be)),fe.forEach(be=>z.fetchers.delete(be))}function It(Q,W,{flushSync:te}={}){var Pe,Ue;let fe=z.actionData!=null&&z.navigation.formMethod!=null&&Pr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,be;W.actionData?Object.keys(W.actionData).length>0?be=W.actionData:be=null:fe?be=z.actionData:be=null;let Ae=W.loaderData?v1(z.loaderData,W.loaderData,W.matches||[],W.errors):z.loaderData,ze=z.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((De,Fe)=>ze.set(Fe,Tu)));let Ce=M===!0||z.navigation.formMethod!=null&&Pr(z.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;h&&(u=h,h=void 0),C||B==="POP"||(B==="PUSH"?n.history.push(Q,Q.state):B==="REPLACE"&&n.history.replace(Q,Q.state));let Oe;if(B==="POP"){let De=P.get(z.location.pathname);De&&De.has(Q.pathname)?Oe={currentLocation:z.location,nextLocation:Q}:P.has(Q.pathname)&&(Oe={currentLocation:Q,nextLocation:z.location})}else if(O){let De=P.get(z.location.pathname);De?De.add(Q.pathname):(De=new Set([Q.pathname]),P.set(z.location.pathname,De)),Oe={currentLocation:z.location,nextLocation:Q}}Ze({...W,actionData:be,loaderData:Ae,historyAction:B,location:Q,initialized:!0,navigation:$g,revalidation:"idle",restoreScrollPosition:Mn(Q,W.matches||z.matches),preventScrollReset:Ce,blockers:ze},{viewTransitionOpts:Oe,flushSync:te===!0}),B="POP",M=!1,O=!1,C=!1,J=!1,Ee==null||Ee.resolve(),Ee=null}async function $t(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let te=b0(z.location,z.matches,f,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:be,error:Ae}=c1(!1,te,W),ze=z.location,Ce=Qu(z.location,fe,W&&W.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let Oe=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";Oe===!0?Pe="REPLACE":Oe===!1||be!=null&&Pr(be.formMethod)&&be.formAction===z.location.pathname+z.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,Fe=Ht({currentLocation:ze,nextLocation:Ce,historyAction:Pe});if(Fe){ft(Fe,{state:"blocked",location:Ce,proceed(){ft(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),$t(Q,W)},reset(){let ot=new Map(z.blockers);ot.set(Fe,Tu),Ze({blockers:ot})}});return}await qt(Pe,Ce,{submission:be,pendingError:Ae,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function mn(){Ee||(Ee=gR()),as(),Ze({revalidation:"loading"});let Q=Ee.promise;return z.navigation.state==="submitting"?Q:z.navigation.state==="idle"?(qt(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),Q):(qt(B||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:O===!0}),Q)}async function qt(Q,W,te){j&&j.abort(),j=null,B=Q,C=(te&&te.startUninterruptedRevalidation)===!0,qn(z.location,z.matches),M=(te&&te.preventScrollReset)===!0,O=(te&&te.enableViewTransition)===!0;let fe=h||u,be=te&&te.overrideNavigation,Ae=te!=null&&te.initialHydration&&z.matches&&z.matches.length>0&&!E?z.matches:la(fe,W,f),ze=(te&&te.flushSync)===!0;if(Ae&&z.initialized&&!J&&cR(z.location,W)&&!(te&&te.submission&&Pr(te.submission.formMethod))){It(W,{matches:Ae},{flushSync:ze});return}let Ce=Kt(Ae,fe,W.pathname);if(Ce.active&&Ce.matches&&(Ae=Ce.matches),!Ae){let{error:Et,notFoundMatches:mt,route:rt}=an(W.pathname);It(W,{matches:mt,loaderData:{},errors:{[rt.id]:Et}},{flushSync:ze});return}j=new AbortController;let Oe=Nl(n.history,W,j.signal,te&&te.submission),Pe=new o1(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(te&&te.pendingError)Ue=[vo(Ae).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Pr(te.submission.formMethod)){let Et=await dr(Oe,W,te.submission,Ae,Pe,Ce.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:ze});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[mt,rt]=Et.pendingActionResult;if(Dr(rt)&&Ku(rt.error)&&rt.error.status===404){j=null,It(W,{matches:Et.matches,loaderData:{},errors:{[mt]:rt.error}});return}}Ae=Et.matches||Ae,Ue=Et.pendingActionResult,be=Gg(W,te.submission),ze=!1,Ce.active=!1,Oe=Nl(n.history,Oe.url,Oe.signal)}let{shortCircuited:De,matches:Fe,loaderData:ot,errors:Nt}=await er(Oe,W,Ae,Pe,Ce.active,be,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,ze,Ue);De||(j=null,It(W,{matches:Fe||Ae,...x1(Ue),loaderData:ot,errors:Nt}))}async function dr(Q,W,te,fe,be,Ae,ze,Ce={}){as();let Oe=hR(W,te);if(Ze({navigation:Oe},{flushSync:Ce.flushSync===!0}),Ae){let De=await Ur(fe,W.pathname,Q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let Fe=vo(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Fe,{type:"error",error:De.error}]}}else if(De.matches)fe=De.matches;else{let{notFoundMatches:Fe,error:ot,route:Nt}=an(W.pathname);return{matches:Fe,pendingActionResult:[Nt.id,{type:"error",error:ot}]}}}let Pe,Ue=Iu(fe,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:ts(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let De=Ll(a,o,Q,fe,Ue,ze?[]:r,be),Fe=await nr(Q,De,be,null);if(Pe=Fe[Ue.route.id],!Pe){for(let ot of fe)if(Fe[ot.route.id]){Pe=Fe[ot.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(xo(Pe)){let De;return Ce&&Ce.replace!=null?De=Ce.replace:De=p1(Pe.response.headers.get("Location"),new URL(Q.url),f)===z.location.pathname+z.location.search,await tr(Q,Pe,!0,{submission:te,replace:De}),{shortCircuited:!0}}if(Dr(Pe)){let De=vo(fe,Ue.route.id);return(Ce&&Ce.replace)!==!0&&(B="PUSH"),{matches:fe,pendingActionResult:[De.route.id,Pe,Ue.route.id]}}return{matches:fe,pendingActionResult:[Ue.route.id,Pe]}}async function er(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe,Ue,De){let Fe=Ae||Gg(W,ze),ot=ze||Ce||_1(Fe),Nt=!C&&!Pe;if(be){if(Nt){let on=Wt(De);Ze({navigation:Fe,...on!==void 0?{actionData:on}:{}},{flushSync:Ue})}let Ke=await Ur(te,W.pathname,Q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let on=vo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[on]:Ke.error}}}else if(Ke.matches)te=Ke.matches;else{let{error:on,notFoundMatches:Tr,route:fr}=an(W.pathname);return{matches:Tr,loaderData:{},errors:{[fr.id]:on}}}}let Et=h||u,{dsMatches:mt,revalidatingFetchers:rt}=u1(Q,fe,a,o,n.history,z,te,ot,W,Pe?[]:r,Pe===!0,J,ae,ge,ce,H,Et,f,De);if(oe=++ie,!n.dataStrategy&&!mt.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=zr();return It(W,{matches:te,loaderData:{},errors:De&&Dr(De[1])?{[De[0]]:De[1].error}:null,...x1(De),...Ke?{fetchers:new Map(z.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(Nt){let Ke={};if(!be){Ke.navigation=Fe;let on=Wt(De);on!==void 0&&(Ke.actionData=on)}rt.length>0&&(Ke.fetchers=_s(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{hr(Ke.key),Ke.controller&&$.set(Ke.key,Ke.controller)});let Br=()=>rt.forEach(Ke=>hr(Ke.key));j&&j.signal.addEventListener("abort",Br);let{loaderResults:pn,fetcherResults:sr}=await Ss(mt,rt,Q,fe);if(Q.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Br),rt.forEach(Ke=>$.delete(Ke.key));let On=Gh(pn);if(On)return await tr(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};if(On=Gh(sr),On)return H.add(On.key),await tr(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:As,errors:Er}=y1(z,te,pn,De,rt,sr);Pe&&z.errors&&(Er={...z.errors,...Er});let Pi=zr(),Hn=Me(oe),ir=Pi||Hn||rt.length>0;return{matches:te,loaderData:As,errors:Er,...ir?{fetchers:new Map(z.fetchers)}:{}}}function Wt(Q){if(Q&&!Dr(Q[1]))return{[Q[0]]:Q[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function _s(Q){return Q.forEach(W=>{let te=z.fetchers.get(W.key),fe=Su(void 0,te?te.data:void 0);z.fetchers.set(W.key,fe)}),new Map(z.fetchers)}async function Es(Q,W,te,fe){hr(Q);let be=(fe&&fe.flushSync)===!0,Ae=h||u,ze=b0(z.location,z.matches,f,te,W,fe==null?void 0:fe.relative),Ce=la(Ae,ze,f),Oe=Kt(Ce,Ae,ze);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){We(Q,W,ts(404,{pathname:ze}),{flushSync:be});return}let{path:Pe,submission:Ue,error:De}=c1(!0,ze,fe);if(De){We(Q,W,De,{flushSync:be});return}let Fe=Iu(Ce,Pe),ot=new o1(n.unstable_getContext?await n.unstable_getContext():void 0),Nt=(fe&&fe.preventScrollReset)===!0;if(Ue&&Pr(Ue.formMethod)){await Ts(Q,W,Pe,Fe,Ce,ot,Oe.active,be,Nt,Ue);return}ce.set(Q,{routeId:W,path:Pe}),await is(Q,W,Pe,Fe,Ce,ot,Oe.active,be,Nt,Ue)}async function Ts(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe){as(),ce.delete(Q);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Fr=ts(405,{method:Pe.formMethod,pathname:te,routeId:W});return We(Q,W,Fr,{flushSync:Ce}),!0}return!1}if(!ze&&Ue(fe))return;let De=z.fetchers.get(Q);yt(Q,fR(Pe,De),{flushSync:Ce});let Fe=new AbortController,ot=Nl(n.history,te,Fe.signal,Pe);if(ze){let Lt=await Ur(be,te,ot.signal,Q);if(Lt.type==="aborted")return;if(Lt.type==="error"){We(Q,W,Lt.error,{flushSync:Ce});return}else if(Lt.matches){if(be=Lt.matches,fe=Iu(be,te),Ue(fe))return}else{We(Q,W,ts(404,{pathname:te}),{flushSync:Ce});return}}$.set(Q,Fe);let Nt=ie,Et=Ll(a,o,ot,be,fe,r,Ae),rt=(await nr(ot,Et,Ae,Q))[fe.route.id];if(ot.signal.aborted){$.get(Q)===Fe&&$.delete(Q);return}if(ge.has(Q)){if(xo(rt)||Dr(rt)){yt(Q,aa(void 0));return}}else{if(xo(rt))if($.delete(Q),oe>Nt){yt(Q,aa(void 0));return}else return H.add(Q),yt(Q,Su(Pe)),tr(ot,rt,!1,{fetcherSubmission:Pe,preventScrollReset:Oe});if(Dr(rt)){We(Q,W,rt.error);return}}let Br=z.navigation.location||z.location,pn=Nl(n.history,Br,Fe.signal),sr=h||u,On=z.navigation.state!=="idle"?la(sr,z.navigation.location,f):z.matches;ut(On,"Didn't find any matches after fetcher action");let As=++ie;xe.set(Q,As);let Er=Su(Pe,rt.data);z.fetchers.set(Q,Er);let{dsMatches:Pi,revalidatingFetchers:Hn}=u1(pn,Ae,a,o,n.history,z,On,Pe,Br,r,!1,J,ae,ge,ce,H,sr,f,[fe.route.id,rt]);Hn.filter(Lt=>Lt.key!==Q).forEach(Lt=>{let Fr=Lt.key,ni=z.fetchers.get(Fr),Dn=Su(void 0,ni?ni.data:void 0);z.fetchers.set(Fr,Dn),hr(Fr),Lt.controller&&$.set(Fr,Lt.controller)}),Ze({fetchers:new Map(z.fetchers)});let ir=()=>Hn.forEach(Lt=>hr(Lt.key));Fe.signal.addEventListener("abort",ir);let{loaderResults:Ke,fetcherResults:on}=await Ss(Pi,Hn,pn,Ae);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",ir),xe.delete(Q),$.delete(Q),Hn.forEach(Lt=>$.delete(Lt.key));let Tr=Gh(Ke);if(Tr)return tr(pn,Tr.result,!1,{preventScrollReset:Oe});if(Tr=Gh(on),Tr)return H.add(Tr.key),tr(pn,Tr.result,!1,{preventScrollReset:Oe});let{loaderData:fr,errors:Cs}=y1(z,On,Ke,void 0,Hn,on);if(z.fetchers.has(Q)){let Lt=aa(rt.data);z.fetchers.set(Q,Lt)}Me(As),z.navigation.state==="loading"&&As>oe?(ut(B,"Expected pending action"),j&&j.abort(),It(z.navigation.location,{matches:On,loaderData:fr,errors:Cs,fetchers:new Map(z.fetchers)})):(Ze({errors:Cs,loaderData:v1(z.loaderData,fr,On,Cs),fetchers:new Map(z.fetchers)}),J=!1)}async function is(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe){let Ue=z.fetchers.get(Q);yt(Q,Su(Pe,Ue?Ue.data:void 0),{flushSync:Ce});let De=new AbortController,Fe=Nl(n.history,te,De.signal);if(ze){let rt=await Ur(be,te,Fe.signal,Q);if(rt.type==="aborted")return;if(rt.type==="error"){We(Q,W,rt.error,{flushSync:Ce});return}else if(rt.matches)be=rt.matches,fe=Iu(be,te);else{We(Q,W,ts(404,{pathname:te}),{flushSync:Ce});return}}$.set(Q,De);let ot=ie,Nt=Ll(a,o,Fe,be,fe,r,Ae),mt=(await nr(Fe,Nt,Ae,Q))[fe.route.id];if($.get(Q)===De&&$.delete(Q),!Fe.signal.aborted){if(ge.has(Q)){yt(Q,aa(void 0));return}if(xo(mt))if(oe>ot){yt(Q,aa(void 0));return}else{H.add(Q),await tr(Fe,mt,!1,{preventScrollReset:Oe});return}if(Dr(mt)){We(Q,W,mt.error);return}yt(Q,aa(mt.data))}}async function tr(Q,W,te,{submission:fe,fetcherSubmission:be,preventScrollReset:Ae,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ce=W.response.headers.get("Location");ut(Ce,"Expected a Location header on the redirect Response"),Ce=p1(Ce,new URL(Q.url),f);let Oe=Qu(z.location,Ce,{_isRedirect:!0});if(t){let Nt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(wy.test(Ce)){const Et=n.history.createURL(Ce);Nt=Et.origin!==e.location.origin||rs(Et.pathname,f)==null}if(Nt){ze?e.location.replace(Ce):e.location.assign(Ce);return}}j=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:De,formEncType:Fe}=z.navigation;!fe&&!be&&Ue&&De&&Fe&&(fe=_1(z.navigation));let ot=fe||be;if(YC.has(W.response.status)&&ot&&Pr(ot.formMethod))await qt(Pe,Oe,{submission:{...ot,formAction:Ce},preventScrollReset:Ae||M,enableViewTransition:te?O:void 0});else{let Nt=Gg(Oe,fe);await qt(Pe,Oe,{overrideNavigation:Nt,fetcherSubmission:be,preventScrollReset:Ae||M,enableViewTransition:te?O:void 0})}}async function nr(Q,W,te,fe){let be,Ae={};try{be=await sR(p,Q,W,fe,te,!1)}catch(ze){return W.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Ae[Ce.route.id]={type:"error",error:ze}}),Ae}for(let[ze,Ce]of Object.entries(be))if(uR(Ce)){let Oe=Ce.result;Ae[ze]={type:"redirect",response:oR(Oe,Q,ze,W,f)}}else Ae[ze]=await aR(Ce);return Ae}async function Ss(Q,W,te,fe){let be=nr(te,Q,fe,null),Ae=Promise.all(W.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.request&&Oe.controller){let Ue=(await nr(Oe.request,Oe.matches,fe,Oe.key))[Oe.match.route.id];return{[Oe.key]:Ue}}else return Promise.resolve({[Oe.key]:{type:"error",error:ts(404,{pathname:Oe.path})}})})),ze=await be,Ce=(await Ae).reduce((Oe,Pe)=>Object.assign(Oe,Pe),{});return{loaderResults:ze,fetcherResults:Ce}}function as(){J=!0,ce.forEach((Q,W)=>{$.has(W)&&ae.add(W),hr(W)})}function yt(Q,W,te={}){z.fetchers.set(Q,W),Ze({fetchers:new Map(z.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function We(Q,W,te,fe={}){let be=vo(z.matches,W);Qt(Q),Ze({errors:{[be.route.id]:te},fetchers:new Map(z.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function En(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),z.fetchers.get(Q)||XC}function Qt(Q){let W=z.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&xe.has(Q))&&hr(Q),ce.delete(Q),xe.delete(Q),H.delete(Q),ge.delete(Q),ae.delete(Q),z.fetchers.delete(Q)}function ti(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),Ze({fetchers:new Map(z.fetchers)})}function hr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function Vr(Q){for(let W of Q){let te=En(W),fe=aa(te.data);z.fetchers.set(W,fe)}}function zr(){let Q=[],W=!1;for(let te of H){let fe=z.fetchers.get(te);ut(fe,`Expected fetcher: ${te}`),fe.state==="loading"&&(H.delete(te),Q.push(te),W=!0)}return Vr(Q),W}function Me(Q){let W=[];for(let[te,fe]of xe)if(fe<Q){let be=z.fetchers.get(te);ut(be,`Expected fetcher: ${te}`),be.state==="loading"&&(hr(te),xe.delete(te),W.push(te))}return Vr(W),W.length>0}function je(Q,W){let te=z.blockers.get(Q)||Tu;return Se.get(Q)!==W&&Se.set(Q,W),te}function Je(Q){z.blockers.delete(Q),Se.delete(Q)}function ft(Q,W){let te=z.blockers.get(Q)||Tu;ut(te.state==="unblocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="proceeding"||te.state==="blocked"&&W.state==="unblocked"||te.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${W.state}`);let fe=new Map(z.blockers);fe.set(Q,W),Ze({blockers:fe})}function Ht({currentLocation:Q,nextLocation:W,historyAction:te}){if(Se.size===0)return;Se.size>1&&sn(!1,"A router only supports one blocker at a time");let fe=Array.from(Se.entries()),[be,Ae]=fe[fe.length-1],ze=z.blockers.get(be);if(!(ze&&ze.state==="proceeding")&&Ae({currentLocation:Q,nextLocation:W,historyAction:te}))return be}function an(Q){let W=ts(404,{pathname:Q}),te=h||u,{matches:fe,route:be}=b1(te);return{notFoundMatches:fe,route:be,error:W}}function rr(Q,W,te){if(T=Q,L=W,N=te||null,!I&&z.navigation===$g){I=!0;let fe=Mn(z.location,z.matches);fe!=null&&Ze({restoreScrollPosition:fe})}return()=>{T=null,L=null,N=null}}function jn(Q,W){return N&&N(Q,W.map(fe=>AC(fe,z.loaderData)))||Q.key}function qn(Q,W){if(T&&L){let te=jn(Q,W);T[te]=L()}}function Mn(Q,W){if(T){let te=jn(Q,W),fe=T[te];if(typeof fe=="number")return fe}return null}function Kt(Q,W,te){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:cf(W,te,f,!0)}}else return{active:!0,matches:cf(W,te,f,!0)||[]};return{active:!1,matches:null}}async function Ur(Q,W,te,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let be=Q;for(;;){let Ae=h==null,ze=h||u,Ce=o;try{await n.patchRoutesOnNavigation({signal:te,path:W,matches:be,fetcherKey:fe,patch:(Ue,De)=>{te.aborted||d1(Ue,De,ze,Ce,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:be}}finally{Ae&&!te.aborted&&(u=[...u])}if(te.aborted)return{type:"aborted"};let Oe=la(ze,W,f);if(Oe)return{type:"success",matches:Oe};let Pe=cf(ze,W,f,!0);if(!Pe||be.length===Pe.length&&be.every((Ue,De)=>Ue.route.id===Pe[De].route.id))return{type:"success",matches:null};be=Pe}}function _r(Q){o={},h=Nf(Q,a,void 0,o)}function Ns(Q,W){let te=h==null;d1(Q,W,h||u,o,a),te&&(u=[...u],Ze({}))}return U={get basename(){return f},get future(){return y},get state(){return z},get routes(){return u},get window(){return e},initialize:ye,subscribe:at,enableScrollRestoration:rr,navigate:$t,fetch:Es,revalidate:mn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:En,deleteFetcher:ti,dispose:Te,getBlocker:je,deleteBlocker:Je,patchRoutes:Ns,_internalFetchControllers:$,_internalSetRoutes:_r},U}function JC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function b0(n,e,t,r,a,o){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let f=by(r||".",xy(u),rs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let p=_y(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(f.search),x=y.getAll("index");y.delete("index"),x.filter(T=>T).forEach(T=>y.append("index",T));let w=y.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:$s([t,f.pathname])),ja(f)}function c1(n,e,t){if(!t||!JC(t))return{path:e};if(t.formMethod&&!dR(t.formMethod))return{path:e,error:ts(405,{method:t.formMethod})};let r=()=>({path:e,error:ts(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=cT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Pr(o))return r();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[T,N])=>`${w}${T}=${N}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!Pr(o))return r();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=E0(t.formData),f=t.formData;else if(t.body instanceof FormData)h=E0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=g1(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=g1(h)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pr(p.formMethod))return{path:e,submission:p};let y=za(e);return n&&y.search&&_y(y.search)&&h.append("index",""),y.search=`?${h}`,{path:ja(y),submission:p}}function u1(n,e,t,r,a,o,u,h,f,p,y,x,w,T,N,L,I,R,E){var k;let _=E?Dr(E[1])?E[1].error:E[1].data:void 0,D=a.createURL(o.location),U=a.createURL(f),z;if(y&&o.errors){let C=Object.keys(o.errors)[0];z=u.findIndex(J=>J.route.id===C)}else if(E&&Dr(E[1])){let C=E[0];z=u.findIndex(J=>J.route.id===C)-1}let B=E?E[1].statusCode:void 0,M=B&&B>=400,j={currentUrl:D,currentParams:((k=o.matches[0])==null?void 0:k.params)||{},nextUrl:U,nextParams:u[0].params,...h,actionResult:_,actionStatus:B},O=u.map((C,J)=>{let{route:ae}=C,$=null;if(z!=null&&J>z?$=!1:ae.lazy?$=!0:ae.loader==null?$=!1:y?$=w0(ae,o.loaderData,o.errors):eR(o.loaderData,o.matches[J],C)&&($=!0),$!==null)return _0(t,r,n,C,p,e,$);let ie=M?!1:x||D.pathname+D.search===U.pathname+U.search||D.search!==U.search||tR(o.matches[J],C),oe={...j,defaultShouldRevalidate:ie},xe=Rf(C,oe);return _0(t,r,n,C,p,e,xe,oe)}),P=[];return N.forEach((C,J)=>{if(y||!u.some(ce=>ce.route.id===C.routeId)||T.has(J))return;let ae=la(I,C.path,R);if(!ae){P.push({key:J,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(L.has(J))return;let $=o.fetchers.get(J),ie=Iu(ae,C.path),oe=new AbortController,xe=Nl(a,C.path,oe.signal),H=null;if(w.has(J))w.delete(J),H=Ll(t,r,xe,ae,ie,p,e);else if($&&$.state!=="idle"&&$.data===void 0)x&&(H=Ll(t,r,xe,ae,ie,p,e));else{let ce={...j,defaultShouldRevalidate:M?!1:x};Rf(ie,ce)&&(H=Ll(t,r,xe,ae,ie,p,e,ce))}H&&P.push({key:J,routeId:C.routeId,path:C.path,matches:H,match:ie,request:xe,controller:oe})}),{dsMatches:O,revalidatingFetchers:P}}function w0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function eR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function tR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Rf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function d1(n,e,t,r,a){let o;if(n){let f=r[n];ut(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(p=>sT(f,p))),h=Nf(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function sT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>sT(t,o))}):!1}var h1=new WeakMap,iT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ut(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=h1.get(a);u||(u={},h1.set(a,u));let h=u[n];if(h)return h;let f=(async()=>{let p=EC(n),x=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)sn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(x)sn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(a,{[n]:w}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return u[n]=f,f},f1=new WeakMap;function nR(n,e,t,r,a){let o=t[n.id];if(ut(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=f1.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let x=(async()=>{ut(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),T={};for(let N in w){let L=w[N];if(L===void 0)continue;let I=SC(N),E=o[N]!==void 0&&N!=="hasErrorBoundary";I?sn(!I,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?sn(!E,`Route "${o.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):T[N]=L}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return f1.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let u=Object.keys(n.lazy),h=[],f;for(let y of u){if(a&&a.includes(y))continue;let x=iT({key:y,route:n,manifest:t,mapRouteProperties:r});x&&(h.push(x),y===e&&(f=x))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function m1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function rR(n){return n.matches.some(e=>e.route.unstable_middleware)?aT(n,!1,()=>m1(n),(e,t)=>({[t]:{type:"error",result:e}})):m1(n)}async function aT(n,e,t,r){let{matches:a,request:o,params:u,context:h}=n,f={handlerResult:void 0};try{let p=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(w=>[x.route.id,w]):[]),y=await oT({request:o,params:u,context:h},p,e,f,t);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function oT(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,p]=h,y=!1,x,w=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await oT(n,e,t,r,a,o+1)};try{let T=await p({request:n.request,params:n.params,context:n.context},w);return y?T===void 0?x:T:w()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:f,error:T}):r.middlewareError={routeId:f,error:T},T}}function lT(n,e,t,r,a){let o=iT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=nR(r.route,Pr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function _0(n,e,t,r,a,o,u,h=null){let f=!1,p=lT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?Rf(r,{...h,defaultShouldRevalidate:y}):Rf(r,h):u},resolve(y){return f||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?iR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ll(n,e,t,r,a,o,u,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:lT(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:_0(n,e,t,f,o,u,!0,h))}async function sR(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return aT(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(x,w)=>({[w]:{type:"error",result:x}}))}});try{await Promise.all(t.flatMap(p=>{var y,x;return[(y=p._lazyPromises)==null?void 0:y.handler,(x=p._lazyPromises)==null?void 0:x.route]}))}catch{}return f}async function iR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,h,f=Pr(n.method),p=f?"action":"loader",y=x=>{let w,T=new Promise((I,R)=>w=R);h=()=>w(),n.signal.addEventListener("abort",h);let N=I=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):x({request:n,params:e.params,context:o},...I!==void 0?[I]:[]),L=(async()=>{try{return{type:"data",result:await(a?a(R=>N(R)):N())}}catch(I){return{type:"error",result:I}}})();return Promise.race([L,T])};try{let x=f?e.route.action:e.route.loader;if(t||r)if(x){let w,[T]=await Promise.all([y(x).catch(N=>{w=N}),t,r]);if(w!==void 0)throw w;u=T}else{await t;let w=f?e.route.action:e.route.loader;if(w)[u]=await Promise.all([y(w),r]);else if(p==="action"){let T=new URL(n.url),N=T.pathname+T.search;throw ts(405,{method:n.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)u=await y(x);else{let w=new URL(n.url),T=w.pathname+w.search;throw ts(404,{pathname:T})}}catch(x){return{type:"error",result:x}}finally{h&&n.signal.removeEventListener("abort",h)}return u}async function aR(n){var r,a,o,u,h,f;let{result:e,type:t}=n;if(uT(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Cf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?w1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Cf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Ku(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ku(e)?e.status:void 0}:w1(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function oR(n,e,t,r,a){let o=n.headers.get("Location");if(ut(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!wy.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=b0(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function p1(n,e,t){if(wy.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rs(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Nl(n,e,t,r){let a=n.createURL(cT(e)).toString(),o={signal:t};if(r&&Pr(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=E0(r.formData):o.body=r.formData}return new Request(a,o)}function E0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function g1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function lR(n,e,t,r=!1,a=!1){let o={},u=null,h,f=!1,p={},y=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(x=>{if(!(x.route.id in e))return;let w=x.route.id,T=e[w];if(ut(!xo(T),"Cannot handle redirect results in processLoaderData"),Dr(T)){let N=T.error;if(y!==void 0&&(N=y,y=void 0),u=u||{},a)u[w]=N;else{let L=vo(n,w);u[L.route.id]==null&&(u[L.route.id]=N)}r||(o[w]=rT),f||(f=!0,h=Ku(T.error)?T.error.status:500),T.headers&&(p[w]=T.headers)}else o[w]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(h=T.statusCode),T.headers&&(p[w]=T.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:p}}function y1(n,e,t,r,a,o){let{loaderData:u,errors:h}=lR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:x}=f,w=o[p];if(ut(w,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Dr(w)){let T=vo(n.matches,y==null?void 0:y.route.id);h&&h[T.route.id]||(h={...h,[T.route.id]:w.error}),n.fetchers.delete(p)}else if(xo(w))ut(!1,"Unhandled fetcher revalidation redirect");else{let T=aa(w.data);n.fetchers.set(p,T)}}),{loaderData:u,errors:h}}function v1(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==rT).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function x1(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function vo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function b1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Cf(n||500,u,new Error(h),!0)}function Gh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(xo(a))return{key:r,result:a}}}function cT(n){let e=typeof n=="string"?za(n):n;return ja({...e,hash:""})}function cR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function uR(n){return uT(n.result)&&KC.has(n.result.status)}function Dr(n){return n.type==="error"}function xo(n){return(n&&n.type)==="redirect"}function w1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function uT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function dR(n){return QC.has(n.toUpperCase())}function Pr(n){return $C.has(n.toUpperCase())}function _y(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Iu(n,e){let t=typeof e=="string"?za(e).search:e.search;if(n[n.length-1].route.index&&_y(t||""))return n[n.length-1];let r=eT(n);return r[r.length-1]}function _1(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Gg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Su(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function aa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function mR(n,e){try{let t=n.sessionStorage.getItem(nT);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function pR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(nT,JSON.stringify(t))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function gR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ko=q.createContext(null);ko.displayName="DataRouter";var hd=q.createContext(null);hd.displayName="DataRouterState";var Ey=q.createContext({isTransitioning:!1});Ey.displayName="ViewTransition";var dT=q.createContext(new Map);dT.displayName="Fetchers";var yR=q.createContext(null);yR.displayName="Await";var Js=q.createContext(null);Js.displayName="Navigation";var om=q.createContext(null);om.displayName="Location";var ws=q.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var Ty=q.createContext(null);Ty.displayName="RouteError";function vR(n,{relative:e}={}){ut(fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Js),{hash:a,pathname:o,search:u}=pd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:$s([t,o])),r.createHref({pathname:h,search:u,hash:a})}function fd(){return q.useContext(om)!=null}function ei(){return ut(fd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(om).location}var hT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fT(n){q.useContext(Js).static||q.useLayoutEffect(n)}function md(){let{isDataRoute:n}=q.useContext(ws);return n?OR():xR()}function xR(){ut(fd(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ko),{basename:e,navigator:t}=q.useContext(Js),{matches:r}=q.useContext(ws),{pathname:a}=ei(),o=JSON.stringify(xy(r)),u=q.useRef(!1);return fT(()=>{u.current=!0}),q.useCallback((f,p={})=>{if(sn(u.current,hT),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=by(f,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:$s([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var bR=q.createContext(null);function wR(n){let e=q.useContext(ws).outlet;return e&&q.createElement(bR.Provider,{value:n},e)}function Sy(){let{matches:n}=q.useContext(ws),e=n[n.length-1];return e?e.params:{}}function pd(n,{relative:e}={}){let{matches:t}=q.useContext(ws),{pathname:r}=ei(),a=JSON.stringify(xy(t));return q.useMemo(()=>by(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function _R(n,e,t,r){ut(fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Js),{matches:u}=q.useContext(ws),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let E=x&&x.path||"";mT(p,!x||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let w=ei(),T;T=w;let N=T.pathname||"/",L=N;if(y!=="/"){let E=y.replace(/^\//,"").split("/");L="/"+N.replace(/^\//,"").split("/").slice(E.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:la(n,{pathname:L});return sn(x||I!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),sn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),AR(I&&I.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:$s([y,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:$s([y,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),u,t,r)}function ER(){let n=MR(),e=Ku(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,u)}var TR=q.createElement(ER,null),SR=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(ws.Provider,{value:this.props.routeContext},q.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NR({routeContext:n,match:e,children:t}){let r=q.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ws.Provider,{value:n},t)}function AR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ut(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:x}=t,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let x,w=!1,T=null,N=null;t&&(x=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||TR,u&&(h<0&&y===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):h===y&&(w=!0,N=p.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,y+1)),I=()=>{let R;return x?R=T:w?R=N:p.route.Component?R=q.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=f,q.createElement(NR,{match:p,routeContext:{outlet:f,matches:L,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(SR,{location:t.location,revalidation:t.revalidation,component:T,error:x,children:I(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):I()},null)}function Ny(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(n){let e=q.useContext(ko);return ut(e,Ny(n)),e}function RR(n){let e=q.useContext(hd);return ut(e,Ny(n)),e}function IR(n){let e=q.useContext(ws);return ut(e,Ny(n)),e}function Ay(n){let e=IR(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jR(){return Ay("useRouteId")}function MR(){var r;let n=q.useContext(Ty),e=RR("useRouteError"),t=Ay("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function OR(){let{router:n}=CR("useNavigate"),e=Ay("useNavigate"),t=q.useRef(!1);return fT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{sn(t.current,hT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var E1={};function mT(n,e,t){!e&&!E1[n]&&(E1[n]=!0,sn(!1,t))}var T1={};function S1(n,e){!n&&!T1[e]&&(T1[e]=!0,console.warn(e))}function DR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var PR=["HydrateFallback","hydrateFallbackElement"],kR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function LR({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[u,h]=q.useState({isTransitioning:!1}),[f,p]=q.useState(),[y,x]=q.useState(),[w,T]=q.useState(),N=q.useRef(new Map),L=q.useCallback((_,{deletedFetchers:D,flushSync:U,viewTransitionOpts:z})=>{_.fetchers.forEach((M,j)=>{M.data!==void 0&&N.current.set(j,M.data)}),D.forEach(M=>N.current.delete(M)),S1(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(S1(z==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!B){e&&U?e(()=>r(_)):q.startTransition(()=>r(_));return}if(e&&U){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let M=n.window.document.startViewTransition(()=>{e(()=>r(_))});M.finished.finally(()=>{e(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>x(M));return}y?(f&&f.resolve(),y.skipTransition(),T({state:_,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(o(_),h({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,e,y,f]);q.useLayoutEffect(()=>n.subscribe(L),[n,L]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new kR)},[u]),q.useEffect(()=>{if(f&&a&&n.window){let _=a,D=f.promise,U=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(_)),await D});U.finished.finally(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})}),x(U)}},[a,f,n.window]),q.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),q.useEffect(()=>{!u.isTransitioning&&w&&(o(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[u.isTransitioning,w]);let I=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,D,U)=>n.navigate(_,{state:D,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(_,D,U)=>n.navigate(_,{replace:!0,state:D,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),R=n.basename||"/",E=q.useMemo(()=>({router:n,navigator:I,static:!1,basename:R}),[n,I,R]);return q.createElement(q.Fragment,null,q.createElement(ko.Provider,{value:E},q.createElement(hd.Provider,{value:t},q.createElement(dT.Provider,{value:N.current},q.createElement(Ey.Provider,{value:u},q.createElement(UR,{basename:R,location:t.location,navigationType:t.historyAction,navigator:I},q.createElement(VR,{routes:n.routes,future:n.future,state:t})))))),null)}var VR=q.memo(zR);function zR({routes:n,future:e,state:t}){return _R(n,void 0,t,e)}function pT(n){return wR(n.context)}function UR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ut(!fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=za(t));let{pathname:f="/",search:p="",hash:y="",state:x=null,key:w="default"}=t,T=q.useMemo(()=>{let N=rs(f,u);return N==null?null:{location:{pathname:N,search:p,hash:y,state:x,key:w},navigationType:r}},[u,f,p,y,x,w,r]);return sn(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:q.createElement(Js.Provider,{value:h},q.createElement(om.Provider,{children:e,value:T}))}var uf="get",df="application/x-www-form-urlencoded";function lm(n){return n!=null&&typeof n.tagName=="string"}function BR(n){return lm(n)&&n.tagName.toLowerCase()==="button"}function FR(n){return lm(n)&&n.tagName.toLowerCase()==="form"}function qR(n){return lm(n)&&n.tagName.toLowerCase()==="input"}function HR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $R(n,e){return n.button===0&&(!e||e==="_self")&&!HR(n)}function T0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function GR(n,e){let t=T0(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Qh=null;function QR(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var KR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(n){return n!=null&&!KR.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):n}function YR(n,e){let t,r,a,o,u;if(FR(n)){let h=n.getAttribute("action");r=h?rs(h,e):null,t=n.getAttribute("method")||uf,a=Qg(n.getAttribute("enctype"))||df,o=new FormData(n)}else if(BR(n)||qR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?rs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||uf,a=Qg(n.getAttribute("formenctype"))||Qg(h.getAttribute("enctype"))||df,o=new FormData(h,n),!QR()){let{name:p,type:y,value:x}=n;if(y==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,x)}}else{if(lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uf,r=null,a=df,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Cy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZR(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await XR(o,t);return u.links?u.links():[]}return[]}));return nI(r.flat(1).filter(WR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function N1(n,e,t,r,a,o){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var x;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function JR(n,e,{includeHydrateFallback:t}={}){return eI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function eI(n){return[...new Set(n)]}function tI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(tI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var rI=new Set([100,101,204,205]);function sI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function gT(){let n=q.useContext(ko);return Cy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iI(){let n=q.useContext(hd);return Cy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ry=q.createContext(void 0);Ry.displayName="FrameworkContext";function yT(){let n=q.useContext(Ry);return Cy(n,"You must render this element inside a <HydratedRouter> element"),n}function aI(n,e){let t=q.useContext(Ry),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=e,w=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let L=R=>{R.forEach(E=>{u(E.isIntersecting)})},I=new IntersectionObserver(L,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[n]),q.useEffect(()=>{if(r){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[r]);let T=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Nu(h,T),onBlur:Nu(f,N),onMouseEnter:Nu(p,T),onMouseLeave:Nu(y,N),onTouchStart:Nu(x,T)}]:[!1,w,{}]}function Nu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oI({page:n,...e}){let{router:t}=gT(),r=q.useMemo(()=>la(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(cI,{page:n,matches:r,...e}):null}function lI(n){let{manifest:e,routeModules:t}=yT(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return ZR(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function cI({page:n,matches:e,...t}){let r=ei(),{manifest:a,routeModules:o}=yT(),{basename:u}=gT(),{loaderData:h,matches:f}=iI(),p=q.useMemo(()=>N1(n,e,f,a,r,"data"),[n,e,f,a,r]),y=q.useMemo(()=>N1(n,e,f,a,r,"assets"),[n,e,f,a,r]),x=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,L=!1;if(e.forEach(R=>{var _;let E=a.routes[R.route.id];!E||!E.hasLoader||(!p.some(D=>D.route.id===R.route.id)&&R.route.id in h&&((_=o[R.route.id])!=null&&_.shouldRevalidate)||E.hasClientLoader?L=!0:N.add(R.route.id))}),N.size===0)return[];let I=sI(n,u);return L&&N.size>0&&I.searchParams.set("_routes",e.filter(R=>N.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[u,h,r,a,p,e,n,o]),w=q.useMemo(()=>JR(y,a),[y,a]),T=lI(y);return q.createElement(q.Fragment,null,x.map(N=>q.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),w.map(N=>q.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),T.map(({key:N,link:L})=>q.createElement("link",{key:N,...L})))}function uI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.5.3")}catch{}function dI(n,e){return ZC({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:xC({window:e==null?void 0:e.window}),hydrationData:hI(),routes:n,mapRouteProperties:DR,hydrationRouteProperties:PR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function hI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:fI(n.errors)}),n}function fI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Cf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:x,...w},T){let{basename:N}=q.useContext(Js),L=typeof p=="string"&&xT.test(p),I,R=!1;if(typeof p=="string"&&L&&(I=p,vT))try{let j=new URL(window.location.href),O=p.startsWith("//")?new URL(j.protocol+p):new URL(p),P=rs(O.pathname,N);O.origin===j.origin&&P!=null?p=P+O.search+O.hash:R=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=vR(p,{relative:a}),[_,D,U]=aI(r,w),z=yI(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:x});function B(j){e&&e(j),j.defaultPrevented||z(j)}let M=q.createElement("a",{...w,...U,href:I||E,onClick:R||o?e:B,ref:uI(T,D),target:f,"data-discover":!L&&t==="render"?"true":void 0});return _&&!L?q.createElement(q.Fragment,null,M,q.createElement(oI,{page:E})):M});it.displayName="Link";var mI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...p},y){let x=pd(u,{relative:p.relative}),w=ei(),T=q.useContext(hd),{navigator:N,basename:L}=q.useContext(Js),I=T!=null&&EI(x)&&h===!0,R=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,E=w.pathname,_=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(E=E.toLowerCase(),_=_?_.toLowerCase():null,R=R.toLowerCase()),_&&L&&(_=rs(_,L)||_);const D=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let U=E===R||!a&&E.startsWith(R)&&E.charAt(D)==="/",z=_!=null&&(_===R||!a&&_.startsWith(R)&&_.charAt(R.length)==="/"),B={isActive:U,isPending:z,isTransitioning:I},M=U?e:void 0,j;typeof r=="function"?j=r(B):j=[r,U?"active":null,z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(B):o;return q.createElement(it,{...p,"aria-current":M,className:j,ref:y,style:O,to:u,viewTransition:h},typeof f=="function"?f(B):f)});mI.displayName="NavLink";var pI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=uf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:x,...w},T)=>{let N=wI(),L=_I(h,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&xT.test(h),E=_=>{if(f&&f(_),_.defaultPrevented)return;_.preventDefault();let D=_.nativeEvent.submitter,U=(D==null?void 0:D.getAttribute("formmethod"))||u;N(D||_.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:x})};return q.createElement("form",{ref:T,method:I,action:L,onSubmit:r?f:E,...w,"data-discover":!R&&n==="render"?"true":void 0})});pI.displayName="Form";function gI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(n){let e=q.useContext(ko);return ut(e,gI(n)),e}function yI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=md(),f=ei(),p=pd(n,{relative:o});return q.useCallback(y=>{if($R(y,e)){y.preventDefault();let x=t!==void 0?t:ja(f)===ja(p);h(n,{replace:x,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,p,t,r,e,n,a,o,u])}function vI(n){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(T0(n)),t=q.useRef(!1),r=ei(),a=q.useMemo(()=>GR(r.search,t.current?null:e.current),[r.search]),o=md(),u=q.useCallback((h,f)=>{const p=T0(typeof h=="function"?h(a):h);t.current=!0,o("?"+p,f)},[o,a]);return[a,u]}var xI=0,bI=()=>`__${String(++xI)}__`;function wI(){let{router:n}=bT("useSubmit"),{basename:e}=q.useContext(Js),t=jR();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:p}=YR(r,e);if(a.navigate===!1){let y=a.fetcherKey||bI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function _I(n,{relative:e}={}){let{basename:t}=q.useContext(Js),r=q.useContext(ws);ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...pd(n||".",{relative:e})},u=ei();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:$s([t,o.pathname])),ja(o)}function EI(n,e={}){let t=q.useContext(Ey);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bT("useViewTransitionState"),a=pd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Af(a.pathname,u)!=null||Af(a.pathname,o)!=null}new TextEncoder;[...rI];var TI=XE();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SI(n){return q.createElement(LR,{flushSync:TI.flushSync,...n})}var Kh={},A1;function NI(){if(A1)return Kh;A1=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(Kh,"__esModule",{value:!0});var e=am();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:h="",autoFill:f=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:x=!1,direction:w="left",speed:T=50,delay:N=0,loop:L=0,gradient:I=!1,gradientColor:R="white",gradientWidth:E=200,onFinish:_,onCycleComplete:D,onMount:U,children:z},B){const[M,j]=e.useState(0),[O,P]=e.useState(0),[k,C]=e.useState(1),[J,ae]=e.useState(!1),$=e.useRef(null),ie=B||$,oe=e.useRef(null),xe=e.useCallback(()=>{if(oe.current&&ie.current){const Ee=ie.current.getBoundingClientRect(),ye=oe.current.getBoundingClientRect();let Te=Ee.width,at=ye.width;(w==="up"||w==="down")&&(Te=Ee.height,at=ye.height),C(f&&Te&&at&&at<Te?Math.ceil(Te/at):1),j(Te),P(at)}},[f,ie,w]);e.useEffect(()=>{if(J&&(xe(),oe.current&&ie.current)){const Ee=new ResizeObserver(()=>xe());return Ee.observe(ie.current),Ee.observe(oe.current),()=>{Ee&&Ee.disconnect()}}},[xe,ie,J]),e.useEffect(()=>{xe()},[xe,z]),e.useEffect(()=>{ae(!0)},[]),e.useEffect(()=>{typeof U=="function"&&U()},[]);const H=e.useMemo(()=>f?O*k/T:O<M?M/T:O/T,[f,M,O,k,T]),ce=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!x||x?"paused":"running","--width":w==="up"||w==="down"?"100vh":"100%","--transform":w==="up"?"rotate(-90deg)":w==="down"?"rotate(90deg)":"none"}),[u,p,y,x,w]),ve=e.useMemo(()=>({"--gradient-color":R,"--gradient-width":typeof E=="number"?`${E}px`:E}),[R,E]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":w==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${N}s`,"--iteration-count":L?`${L}`:"infinite","--min-width":f?"auto":"100%"}),[p,w,H,N,L,f]),Se=e.useMemo(()=>({"--transform":w==="up"?"rotate(90deg)":w==="down"?"rotate(-90deg)":"none"}),[w]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(z,at=>r.default.createElement("div",{style:Se,className:"rfm-child"},at)))),[Se,z]);return J?r.default.createElement("div",{ref:ie,style:ce,className:"rfm-marquee-container "+h},I&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:D,onAnimationEnd:_},r.default.createElement("div",{className:"rfm-initial-child-container",ref:oe},e.Children.map(z,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(k-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},Ve(k))):null});return Kh.default=a,Kh}var AI=NI();const wT=YE(AI);var _T={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C1=Ut.createContext&&Ut.createContext(_T),CI=["attr","size","title"];function RI(n,e){if(n==null)return{};var t=II(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function II(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function If(){return If=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},If.apply(this,arguments)}function R1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function jf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(t),!0).forEach(function(r){jI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jI(n,e,t){return e=MI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MI(n){var e=OI(n,"string");return typeof e=="symbol"?e:e+""}function OI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ET(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,jf({key:t},e.attr),ET(e.child)))}function gd(n){return e=>Ut.createElement(DI,If({attr:jf({},n.attr)},e),ET(n.child))}function DI(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=RI(n,CI),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ut.createElement("svg",If({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:jf(jf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return C1!==void 0?Ut.createElement(C1.Consumer,null,t=>e(t)):e(_T)}function PI(n){return gd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function kI(n){return gd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function I1(n){return gd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function LI(n){return gd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const VI=()=>{};var j1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=o>>2,x=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,T=p&63;f||(T=64,u||(w=64)),r.push(t[y],t[x],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||x==null)throw new UI;const w=o<<2|h>>4;if(r.push(w),p!==64){const T=h<<4&240|p>>2;if(r.push(T),x!==64){const N=p<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BI=function(n){const e=TT(n);return ST.encodeByteArray(e,!0)},Mf=function(n){return BI(n).replace(/\./g,"")},NT=function(n){try{return ST.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=()=>FI().__FIREBASE_DEFAULTS__,HI=()=>{if(typeof process>"u"||typeof j1>"u")return;const n=j1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$I=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NT(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return VI()||qI()||HI()||$I()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AT=n=>{var e,t;return(t=(e=cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},GI=n=>{const e=AT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},CT=()=>{var n;return(n=cm())===null||n===void 0?void 0:n.config},RT=n=>{var e;return(e=cm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mf(JSON.stringify(t)),Mf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function XI(){var n;const e=(n=cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ej(){const n=Jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tj(){return!XI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nj(){try{return typeof indexedDB=="object"}catch{return!1}}function rj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="FirebaseError";class Di extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sj,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yd.prototype.create)}}class yd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?ij(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Di(a,h,r)}}function ij(n,e){return n.replace(aj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const aj=/\{\$([^}]+)}/g;function oj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ma(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(M1(o)&&M1(u)){if(!Ma(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function M1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lj(n,e){const t=new cj(n,e);return t.subscribe.bind(t)}class cj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uj(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Kg),a.error===void 0&&(a.error=Kg),a.complete===void 0&&(a.complete=Kg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fj(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hj(n){return n===yo?void 0:n}function fj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const pj={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},gj=dt.INFO,yj={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},vj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=yj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=gj,this._logHandler=vj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const xj=(n,e)=>e.some(t=>n instanceof t);let O1,D1;function bj(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wj(){return D1||(D1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,S0=new WeakMap,jT=new WeakMap,Yg=new WeakMap,jy=new WeakMap;function _j(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Sa(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&IT.set(t,n)}).catch(()=>{}),jy.set(e,n),e}function Ej(n){if(S0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});S0.set(n,e)}let N0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return S0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tj(n){N0=n(N0)}function Sj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xg(this),e,...t);return jT.set(r,e.sort?e.sort():[e]),Sa(r)}:wj().includes(n)?function(...e){return n.apply(Xg(this),e),Sa(IT.get(this))}:function(...e){return Sa(n.apply(Xg(this),e))}}function Nj(n){return typeof n=="function"?Sj(n):(n instanceof IDBTransaction&&Ej(n),xj(n,bj())?new Proxy(n,N0):n)}function Sa(n){if(n instanceof IDBRequest)return _j(n);if(Yg.has(n))return Yg.get(n);const e=Nj(n);return e!==n&&(Yg.set(n,e),jy.set(e,n)),e}const Xg=n=>jy.get(n);function Aj(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Sa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Sa(u.result),f.oldVersion,f.newVersion,Sa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Cj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],Wg=new Map;function P1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Rj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Cj.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return Wg.set(e,o),o}Tj(n=>({...n,get:(e,t,r)=>P1(e,t)||n.get(e,t,r),has:(e,t)=>!!P1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function jj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A0="@firebase/app",k1="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Iy("@firebase/app"),Mj="@firebase/app-compat",Oj="@firebase/analytics-compat",Dj="@firebase/analytics",Pj="@firebase/app-check-compat",kj="@firebase/app-check",Lj="@firebase/auth",Vj="@firebase/auth-compat",zj="@firebase/database",Uj="@firebase/data-connect",Bj="@firebase/database-compat",Fj="@firebase/functions",qj="@firebase/functions-compat",Hj="@firebase/installations",$j="@firebase/installations-compat",Gj="@firebase/messaging",Qj="@firebase/messaging-compat",Kj="@firebase/performance",Yj="@firebase/performance-compat",Xj="@firebase/remote-config",Wj="@firebase/remote-config-compat",Zj="@firebase/storage",Jj="@firebase/storage-compat",e4="@firebase/firestore",t4="@firebase/vertexai",n4="@firebase/firestore-compat",r4="firebase",s4="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="[DEFAULT]",i4={[A0]:"fire-core",[Mj]:"fire-core-compat",[Dj]:"fire-analytics",[Oj]:"fire-analytics-compat",[kj]:"fire-app-check",[Pj]:"fire-app-check-compat",[Lj]:"fire-auth",[Vj]:"fire-auth-compat",[zj]:"fire-rtdb",[Uj]:"fire-data-connect",[Bj]:"fire-rtdb-compat",[Fj]:"fire-fn",[qj]:"fire-fn-compat",[Hj]:"fire-iid",[$j]:"fire-iid-compat",[Gj]:"fire-fcm",[Qj]:"fire-fcm-compat",[Kj]:"fire-perf",[Yj]:"fire-perf-compat",[Xj]:"fire-rc",[Wj]:"fire-rc-compat",[Zj]:"fire-gcs",[Jj]:"fire-gcs-compat",[e4]:"fire-fst",[n4]:"fire-fst-compat",[t4]:"fire-vertex","fire-js":"fire-js",[r4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,a4=new Map,R0=new Map;function L1(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sc(n){const e=n.name;if(R0.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;R0.set(e,n);for(const t of Of.values())L1(t,n);for(const t of a4.values())L1(t,n);return!0}function My(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ms(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new yd("app","Firebase",o4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=s4;function MT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:C0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(t||(t=CT()),!t)throw Na.create("no-options");const o=Of.get(a);if(o){if(Ma(t,o.options)&&Ma(r,o.config))return o;throw Na.create("duplicate-app",{appName:a})}const u=new mj(a);for(const f of R0.values())u.addComponent(f);const h=new l4(t,r,u);return Of.set(a,h),h}function OT(n=C0){const e=Of.get(n);if(!e&&n===C0&&CT())return MT();if(!e)throw Na.create("no-app",{appName:n});return e}function Aa(n,e,t){var r;let a=(r=i4[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(h.join(" "));return}sc(new Io(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebase-heartbeat-database",u4=1,Yu="firebase-heartbeat-store";let Zg=null;function DT(){return Zg||(Zg=Aj(c4,u4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),Zg}async function d4(n){try{const t=(await DT()).transaction(Yu),r=await t.objectStore(Yu).get(PT(n));return await t.done,r}catch(e){if(e instanceof Di)Ri.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function V1(n,e){try{const r=(await DT()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,PT(n)),await r.done}catch(t){if(t instanceof Di)Ri.warn(t.message);else{const r=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(r.message)}}}function PT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=1024,f4=30;class m4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=z1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>f4){const u=y4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z1(),{heartbeatsToSend:r,unsentEntries:a}=p4(this._heartbeatsCache.heartbeats),o=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ri.warn(t),""}}}function z1(){return new Date().toISOString().substring(0,10)}function p4(n,e=h4){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),U1(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),U1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class g4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nj()?rj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return V1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return V1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U1(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function y4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){sc(new Io("platform-logger",e=>new Ij(e),"PRIVATE")),sc(new Io("heartbeat",e=>new m4(e),"PRIVATE")),Aa(A0,k1,n),Aa(A0,k1,"esm2017"),Aa("fire-js","")}v4("");var B1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,kT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,M){function j(){}j.prototype=M.prototype,B.D=M.prototype,B.prototype=new j,B.prototype.constructor=B,B.C=function(O,P,k){for(var C=Array(arguments.length-2),J=2;J<arguments.length;J++)C[J-2]=arguments[J];return M.prototype[P].apply(O,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,M,j){j||(j=0);var O=Array(16);if(typeof M=="string")for(var P=0;16>P;++P)O[P]=M.charCodeAt(j++)|M.charCodeAt(j++)<<8|M.charCodeAt(j++)<<16|M.charCodeAt(j++)<<24;else for(P=0;16>P;++P)O[P]=M[j++]|M[j++]<<8|M[j++]<<16|M[j++]<<24;M=B.g[0],j=B.g[1],P=B.g[2];var k=B.g[3],C=M+(k^j&(P^k))+O[0]+3614090360&4294967295;M=j+(C<<7&4294967295|C>>>25),C=k+(P^M&(j^P))+O[1]+3905402710&4294967295,k=M+(C<<12&4294967295|C>>>20),C=P+(j^k&(M^j))+O[2]+606105819&4294967295,P=k+(C<<17&4294967295|C>>>15),C=j+(M^P&(k^M))+O[3]+3250441966&4294967295,j=P+(C<<22&4294967295|C>>>10),C=M+(k^j&(P^k))+O[4]+4118548399&4294967295,M=j+(C<<7&4294967295|C>>>25),C=k+(P^M&(j^P))+O[5]+1200080426&4294967295,k=M+(C<<12&4294967295|C>>>20),C=P+(j^k&(M^j))+O[6]+2821735955&4294967295,P=k+(C<<17&4294967295|C>>>15),C=j+(M^P&(k^M))+O[7]+4249261313&4294967295,j=P+(C<<22&4294967295|C>>>10),C=M+(k^j&(P^k))+O[8]+1770035416&4294967295,M=j+(C<<7&4294967295|C>>>25),C=k+(P^M&(j^P))+O[9]+2336552879&4294967295,k=M+(C<<12&4294967295|C>>>20),C=P+(j^k&(M^j))+O[10]+4294925233&4294967295,P=k+(C<<17&4294967295|C>>>15),C=j+(M^P&(k^M))+O[11]+2304563134&4294967295,j=P+(C<<22&4294967295|C>>>10),C=M+(k^j&(P^k))+O[12]+1804603682&4294967295,M=j+(C<<7&4294967295|C>>>25),C=k+(P^M&(j^P))+O[13]+4254626195&4294967295,k=M+(C<<12&4294967295|C>>>20),C=P+(j^k&(M^j))+O[14]+2792965006&4294967295,P=k+(C<<17&4294967295|C>>>15),C=j+(M^P&(k^M))+O[15]+1236535329&4294967295,j=P+(C<<22&4294967295|C>>>10),C=M+(P^k&(j^P))+O[1]+4129170786&4294967295,M=j+(C<<5&4294967295|C>>>27),C=k+(j^P&(M^j))+O[6]+3225465664&4294967295,k=M+(C<<9&4294967295|C>>>23),C=P+(M^j&(k^M))+O[11]+643717713&4294967295,P=k+(C<<14&4294967295|C>>>18),C=j+(k^M&(P^k))+O[0]+3921069994&4294967295,j=P+(C<<20&4294967295|C>>>12),C=M+(P^k&(j^P))+O[5]+3593408605&4294967295,M=j+(C<<5&4294967295|C>>>27),C=k+(j^P&(M^j))+O[10]+38016083&4294967295,k=M+(C<<9&4294967295|C>>>23),C=P+(M^j&(k^M))+O[15]+3634488961&4294967295,P=k+(C<<14&4294967295|C>>>18),C=j+(k^M&(P^k))+O[4]+3889429448&4294967295,j=P+(C<<20&4294967295|C>>>12),C=M+(P^k&(j^P))+O[9]+568446438&4294967295,M=j+(C<<5&4294967295|C>>>27),C=k+(j^P&(M^j))+O[14]+3275163606&4294967295,k=M+(C<<9&4294967295|C>>>23),C=P+(M^j&(k^M))+O[3]+4107603335&4294967295,P=k+(C<<14&4294967295|C>>>18),C=j+(k^M&(P^k))+O[8]+1163531501&4294967295,j=P+(C<<20&4294967295|C>>>12),C=M+(P^k&(j^P))+O[13]+2850285829&4294967295,M=j+(C<<5&4294967295|C>>>27),C=k+(j^P&(M^j))+O[2]+4243563512&4294967295,k=M+(C<<9&4294967295|C>>>23),C=P+(M^j&(k^M))+O[7]+1735328473&4294967295,P=k+(C<<14&4294967295|C>>>18),C=j+(k^M&(P^k))+O[12]+2368359562&4294967295,j=P+(C<<20&4294967295|C>>>12),C=M+(j^P^k)+O[5]+4294588738&4294967295,M=j+(C<<4&4294967295|C>>>28),C=k+(M^j^P)+O[8]+2272392833&4294967295,k=M+(C<<11&4294967295|C>>>21),C=P+(k^M^j)+O[11]+1839030562&4294967295,P=k+(C<<16&4294967295|C>>>16),C=j+(P^k^M)+O[14]+4259657740&4294967295,j=P+(C<<23&4294967295|C>>>9),C=M+(j^P^k)+O[1]+2763975236&4294967295,M=j+(C<<4&4294967295|C>>>28),C=k+(M^j^P)+O[4]+1272893353&4294967295,k=M+(C<<11&4294967295|C>>>21),C=P+(k^M^j)+O[7]+4139469664&4294967295,P=k+(C<<16&4294967295|C>>>16),C=j+(P^k^M)+O[10]+3200236656&4294967295,j=P+(C<<23&4294967295|C>>>9),C=M+(j^P^k)+O[13]+681279174&4294967295,M=j+(C<<4&4294967295|C>>>28),C=k+(M^j^P)+O[0]+3936430074&4294967295,k=M+(C<<11&4294967295|C>>>21),C=P+(k^M^j)+O[3]+3572445317&4294967295,P=k+(C<<16&4294967295|C>>>16),C=j+(P^k^M)+O[6]+76029189&4294967295,j=P+(C<<23&4294967295|C>>>9),C=M+(j^P^k)+O[9]+3654602809&4294967295,M=j+(C<<4&4294967295|C>>>28),C=k+(M^j^P)+O[12]+3873151461&4294967295,k=M+(C<<11&4294967295|C>>>21),C=P+(k^M^j)+O[15]+530742520&4294967295,P=k+(C<<16&4294967295|C>>>16),C=j+(P^k^M)+O[2]+3299628645&4294967295,j=P+(C<<23&4294967295|C>>>9),C=M+(P^(j|~k))+O[0]+4096336452&4294967295,M=j+(C<<6&4294967295|C>>>26),C=k+(j^(M|~P))+O[7]+1126891415&4294967295,k=M+(C<<10&4294967295|C>>>22),C=P+(M^(k|~j))+O[14]+2878612391&4294967295,P=k+(C<<15&4294967295|C>>>17),C=j+(k^(P|~M))+O[5]+4237533241&4294967295,j=P+(C<<21&4294967295|C>>>11),C=M+(P^(j|~k))+O[12]+1700485571&4294967295,M=j+(C<<6&4294967295|C>>>26),C=k+(j^(M|~P))+O[3]+2399980690&4294967295,k=M+(C<<10&4294967295|C>>>22),C=P+(M^(k|~j))+O[10]+4293915773&4294967295,P=k+(C<<15&4294967295|C>>>17),C=j+(k^(P|~M))+O[1]+2240044497&4294967295,j=P+(C<<21&4294967295|C>>>11),C=M+(P^(j|~k))+O[8]+1873313359&4294967295,M=j+(C<<6&4294967295|C>>>26),C=k+(j^(M|~P))+O[15]+4264355552&4294967295,k=M+(C<<10&4294967295|C>>>22),C=P+(M^(k|~j))+O[6]+2734768916&4294967295,P=k+(C<<15&4294967295|C>>>17),C=j+(k^(P|~M))+O[13]+1309151649&4294967295,j=P+(C<<21&4294967295|C>>>11),C=M+(P^(j|~k))+O[4]+4149444226&4294967295,M=j+(C<<6&4294967295|C>>>26),C=k+(j^(M|~P))+O[11]+3174756917&4294967295,k=M+(C<<10&4294967295|C>>>22),C=P+(M^(k|~j))+O[2]+718787259&4294967295,P=k+(C<<15&4294967295|C>>>17),C=j+(k^(P|~M))+O[9]+3951481745&4294967295,B.g[0]=B.g[0]+M&4294967295,B.g[1]=B.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,B.g[2]=B.g[2]+P&4294967295,B.g[3]=B.g[3]+k&4294967295}r.prototype.u=function(B,M){M===void 0&&(M=B.length);for(var j=M-this.blockSize,O=this.B,P=this.h,k=0;k<M;){if(P==0)for(;k<=j;)a(this,B,k),k+=this.blockSize;if(typeof B=="string"){for(;k<M;)if(O[P++]=B.charCodeAt(k++),P==this.blockSize){a(this,O),P=0;break}}else for(;k<M;)if(O[P++]=B[k++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=M},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var M=1;M<B.length-8;++M)B[M]=0;var j=8*this.o;for(M=B.length-8;M<B.length;++M)B[M]=j&255,j/=256;for(this.u(B),B=Array(16),M=j=0;4>M;++M)for(var O=0;32>O;O+=8)B[j++]=this.g[M]>>>O&255;return B};function o(B,M){var j=h;return Object.prototype.hasOwnProperty.call(j,B)?j[B]:j[B]=M(B)}function u(B,M){this.h=M;for(var j=[],O=!0,P=B.length-1;0<=P;P--){var k=B[P]|0;O&&k==M||(j[P]=k,O=!1)}this.g=j}var h={};function f(B){return-128<=B&&128>B?o(B,function(M){return new u([M|0],0>M?-1:0)}):new u([B|0],0>B?-1:0)}function p(B){if(isNaN(B)||!isFinite(B))return x;if(0>B)return I(p(-B));for(var M=[],j=1,O=0;B>=j;O++)M[O]=B/j|0,j*=4294967296;return new u(M,0)}function y(B,M){if(B.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B.charAt(0)=="-")return I(y(B.substring(1),M));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=p(Math.pow(M,8)),O=x,P=0;P<B.length;P+=8){var k=Math.min(8,B.length-P),C=parseInt(B.substring(P,P+k),M);8>k?(k=p(Math.pow(M,k)),O=O.j(k).add(p(C))):(O=O.j(j),O=O.add(p(C)))}return O}var x=f(0),w=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-I(this).m();for(var B=0,M=1,j=0;j<this.g.length;j++){var O=this.i(j);B+=(0<=O?O:4294967296+O)*M,M*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(N(this))return"0";if(L(this))return"-"+I(this).toString(B);for(var M=p(Math.pow(B,6)),j=this,O="";;){var P=D(j,M).g;j=R(j,P.j(M));var k=((0<j.g.length?j.g[0]:j.h)>>>0).toString(B);if(j=P,N(j))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function N(B){if(B.h!=0)return!1;for(var M=0;M<B.g.length;M++)if(B.g[M]!=0)return!1;return!0}function L(B){return B.h==-1}n.l=function(B){return B=R(this,B),L(B)?-1:N(B)?0:1};function I(B){for(var M=B.g.length,j=[],O=0;O<M;O++)j[O]=~B.g[O];return new u(j,~B.h).add(w)}n.abs=function(){return L(this)?I(this):this},n.add=function(B){for(var M=Math.max(this.g.length,B.g.length),j=[],O=0,P=0;P<=M;P++){var k=O+(this.i(P)&65535)+(B.i(P)&65535),C=(k>>>16)+(this.i(P)>>>16)+(B.i(P)>>>16);O=C>>>16,k&=65535,C&=65535,j[P]=C<<16|k}return new u(j,j[j.length-1]&-2147483648?-1:0)};function R(B,M){return B.add(I(M))}n.j=function(B){if(N(this)||N(B))return x;if(L(this))return L(B)?I(this).j(I(B)):I(I(this).j(B));if(L(B))return I(this.j(I(B)));if(0>this.l(T)&&0>B.l(T))return p(this.m()*B.m());for(var M=this.g.length+B.g.length,j=[],O=0;O<2*M;O++)j[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<B.g.length;P++){var k=this.i(O)>>>16,C=this.i(O)&65535,J=B.i(P)>>>16,ae=B.i(P)&65535;j[2*O+2*P]+=C*ae,E(j,2*O+2*P),j[2*O+2*P+1]+=k*ae,E(j,2*O+2*P+1),j[2*O+2*P+1]+=C*J,E(j,2*O+2*P+1),j[2*O+2*P+2]+=k*J,E(j,2*O+2*P+2)}for(O=0;O<M;O++)j[O]=j[2*O+1]<<16|j[2*O];for(O=M;O<2*M;O++)j[O]=0;return new u(j,0)};function E(B,M){for(;(B[M]&65535)!=B[M];)B[M+1]+=B[M]>>>16,B[M]&=65535,M++}function _(B,M){this.g=B,this.h=M}function D(B,M){if(N(M))throw Error("division by zero");if(N(B))return new _(x,x);if(L(B))return M=D(I(B),M),new _(I(M.g),I(M.h));if(L(M))return M=D(B,I(M)),new _(I(M.g),M.h);if(30<B.g.length){if(L(B)||L(M))throw Error("slowDivide_ only works with positive integers.");for(var j=w,O=M;0>=O.l(B);)j=U(j),O=U(O);var P=z(j,1),k=z(O,1);for(O=z(O,2),j=z(j,2);!N(O);){var C=k.add(O);0>=C.l(B)&&(P=P.add(j),k=C),O=z(O,1),j=z(j,1)}return M=R(B,P.j(M)),new _(P,M)}for(P=x;0<=B.l(M);){for(j=Math.max(1,Math.floor(B.m()/M.m())),O=Math.ceil(Math.log(j)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=p(j),C=k.j(M);L(C)||0<C.l(B);)j-=O,k=p(j),C=k.j(M);N(k)&&(k=w),P=P.add(k),B=R(B,C)}return new _(P,B)}n.A=function(B){return D(this,B).h},n.and=function(B){for(var M=Math.max(this.g.length,B.g.length),j=[],O=0;O<M;O++)j[O]=this.i(O)&B.i(O);return new u(j,this.h&B.h)},n.or=function(B){for(var M=Math.max(this.g.length,B.g.length),j=[],O=0;O<M;O++)j[O]=this.i(O)|B.i(O);return new u(j,this.h|B.h)},n.xor=function(B){for(var M=Math.max(this.g.length,B.g.length),j=[],O=0;O<M;O++)j[O]=this.i(O)^B.i(O);return new u(j,this.h^B.h)};function U(B){for(var M=B.g.length+1,j=[],O=0;O<M;O++)j[O]=B.i(O)<<1|B.i(O-1)>>>31;return new u(j,B.h)}function z(B,M){var j=M>>5;M%=32;for(var O=B.g.length-j,P=[],k=0;k<O;k++)P[k]=0<M?B.i(k+j)>>>M|B.i(k+j+1)<<32-M:B.i(k+j);return new u(P,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ca=u}).apply(typeof B1<"u"?B1:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LT,Ou,VT,hf,I0,zT,UT,BT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,S){return m==Array.prototype||m==Object.prototype||(m[b]=S.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,b){if(b)e:{var S=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var Z=m[F];if(!(Z in S))break e;S=S[Z]}m=m[m.length-1],F=S[m],b=b(F),b!=F&&b!=null&&e(S,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var S=0,F=!1,Z={next:function(){if(!F&&S<m.length){var le=S++;return{value:b(le,m[le]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(m){return m||function(){return o(this,function(b,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function p(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function y(m,b,S){return m.call.apply(m.bind,arguments)}function x(m,b,S){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,F),m.apply(b,Z)}}return function(){return m.apply(b,arguments)}}function w(m,b,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,w.apply(null,arguments)}function T(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var F=S.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function N(m,b){function S(){}S.prototype=b.prototype,m.aa=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(F,Z,le){for(var we=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)we[vt-2]=arguments[vt];return b.prototype[Z].apply(F,we)}}function L(m){const b=m.length;if(0<b){const S=Array(b);for(let F=0;F<b;F++)S[F]=m[F];return S}return[]}function I(m,b){for(let S=1;S<arguments.length;S++){const F=arguments[S];if(f(F)){const Z=m.length||0,le=F.length||0;m.length=Z+le;for(let we=0;we<le;we++)m[Z+we]=F[we]}else m.push(F)}}class R{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function E(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function D(m){return D[" "](m),m}D[" "]=function(){};var U=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function z(m,b,S){for(const F in m)b.call(S,m[F],F,m)}function B(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function M(m){const b={};for(const S in m)b[S]=m[S];return b}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,b){let S,F;for(let Z=1;Z<arguments.length;Z++){F=arguments[Z];for(S in F)m[S]=F[S];for(let le=0;le<j.length;le++)S=j[le],Object.prototype.hasOwnProperty.call(F,S)&&(m[S]=F[S])}}function P(m){var b=1;m=m.split(":");const S=[];for(;0<b&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function k(m){h.setTimeout(()=>{throw m},0)}function C(){var m=xe;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class J{constructor(){this.h=this.g=null}add(b,S){const F=ae.get();F.set(b,S),this.h?this.h.next=F:this.g=F,this.h=F}}var ae=new R(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,oe=!1,xe=new J,H=()=>{const m=h.Promise.resolve(void 0);ie=()=>{m.then(ce)}};var ce=()=>{for(var m;m=C();){try{m.h.call(m.g)}catch(S){k(S)}var b=ae;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}oe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};h.addEventListener("test",S,b),h.removeEventListener("test",S,b)}catch{}return m}();function Ve(m,b){if(ge.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(U){e:{try{D(b.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(b=null)}}else S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement);this.relatedTarget=b,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ve.aa.h.call(this)}}N(Ve,ge);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function at(m,b,S,F,Z){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!F,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function It(m){this.src=m,this.g={},this.h=0}It.prototype.add=function(m,b,S,F,Z){var le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);var we=mn(m,b,F,Z);return-1<we?(b=m[we],S||(b.fa=!1)):(b=new at(b,this.src,le,!!F,Z),b.fa=S,m.push(b)),b};function $t(m,b){var S=b.type;if(S in m.g){var F=m.g[S],Z=Array.prototype.indexOf.call(F,b,void 0),le;(le=0<=Z)&&Array.prototype.splice.call(F,Z,1),le&&(Ze(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function mn(m,b,S,F){for(var Z=0;Z<m.length;++Z){var le=m[Z];if(!le.da&&le.listener==b&&le.capture==!!S&&le.ha==F)return Z}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),dr={};function er(m,b,S,F,Z){if(Array.isArray(b)){for(var le=0;le<b.length;le++)er(m,b[le],S,F,Z);return null}return S=as(S),m&&m[ye]?m.K(b,S,p(F)?!!F.capture:!1,Z):Wt(m,b,S,!1,F,Z)}function Wt(m,b,S,F,Z,le){if(!b)throw Error("Invalid event type");var we=p(Z)?!!Z.capture:!!Z,vt=nr(m);if(vt||(m[qt]=vt=new It(m)),S=vt.add(b,S,F,we,le),S.proxy)return S;if(F=_s(),S.proxy=F,F.src=m,F.listener=S,m.addEventListener)Se||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(b.toString(),F,Z);else if(m.attachEvent)m.attachEvent(is(b.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return S}function _s(){function m(S){return b.call(m.src,m.listener,S)}const b=tr;return m}function Es(m,b,S,F,Z){if(Array.isArray(b))for(var le=0;le<b.length;le++)Es(m,b[le],S,F,Z);else F=p(F)?!!F.capture:!!F,S=as(S),m&&m[ye]?(m=m.i,b=String(b).toString(),b in m.g&&(le=m.g[b],S=mn(le,S,F,Z),-1<S&&(Ze(le[S]),Array.prototype.splice.call(le,S,1),le.length==0&&(delete m.g[b],m.h--)))):m&&(m=nr(m))&&(b=m.g[b.toString()],m=-1,b&&(m=mn(b,S,F,Z)),(S=-1<m?b[m]:null)&&Ts(S))}function Ts(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ye])$t(b.i,m);else{var S=m.type,F=m.proxy;b.removeEventListener?b.removeEventListener(S,F,m.capture):b.detachEvent?b.detachEvent(is(S),F):b.addListener&&b.removeListener&&b.removeListener(F),(S=nr(b))?($t(S,m),S.h==0&&(S.src=null,b[qt]=null)):Ze(m)}}}function is(m){return m in dr?dr[m]:dr[m]="on"+m}function tr(m,b){if(m.da)m=!0;else{b=new Ve(b,this);var S=m.listener,F=m.ha||m.src;m.fa&&Ts(m),m=S.call(F,b)}return m}function nr(m){return m=m[qt],m instanceof It?m:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function as(m){return typeof m=="function"?m:(m[Ss]||(m[Ss]=function(b){return m.handleEvent(b)}),m[Ss])}function yt(){ve.call(this),this.i=new It(this),this.M=this,this.F=null}N(yt,ve),yt.prototype[ye]=!0,yt.prototype.removeEventListener=function(m,b,S,F){Es(this,m,b,S,F)};function We(m,b){var S,F=m.F;if(F)for(S=[];F;F=F.F)S.push(F);if(m=m.M,F=b.type||b,typeof b=="string")b=new ge(b,m);else if(b instanceof ge)b.target=b.target||m;else{var Z=b;b=new ge(F,m),O(b,Z)}if(Z=!0,S)for(var le=S.length-1;0<=le;le--){var we=b.g=S[le];Z=En(we,F,!0,b)&&Z}if(we=b.g=m,Z=En(we,F,!0,b)&&Z,Z=En(we,F,!1,b)&&Z,S)for(le=0;le<S.length;le++)we=b.g=S[le],Z=En(we,F,!1,b)&&Z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var S=m.g[b],F=0;F<S.length;F++)Ze(S[F]);delete m.g[b],m.h--}}this.F=null},yt.prototype.K=function(m,b,S,F){return this.i.add(String(m),b,!1,S,F)},yt.prototype.L=function(m,b,S,F){return this.i.add(String(m),b,!0,S,F)};function En(m,b,S,F){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var Z=!0,le=0;le<b.length;++le){var we=b[le];if(we&&!we.da&&we.capture==S){var vt=we.listener,gn=we.ha||we.src;we.fa&&$t(m.i,we),Z=vt.call(gn,F)!==!1&&Z}}return Z&&!F.defaultPrevented}function Qt(m,b,S){if(typeof m=="function")S&&(m=w(m,S));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(m,b||0)}function ti(m){m.g=Qt(()=>{m.g=null,m.i&&(m.i=!1,ti(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class hr extends ve{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(m){ve.call(this),this.h=m,this.g={}}N(Vr,ve);var zr=[];function Me(m){z(m.g,function(b,S){this.g.hasOwnProperty(S)&&Ts(b)},m),m.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Me(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=h.JSON.stringify,Je=h.JSON.parse,ft=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Ht(){}Ht.prototype.h=null;function an(m){return m.h||(m.h=m.i())}function rr(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ge.call(this,"d")}N(qn,ge);function Mn(){ge.call(this,"c")}N(Mn,ge);var Kt={},Ur=null;function _r(){return Ur=Ur||new yt}Kt.La="serverreachability";function Ns(m){ge.call(this,Kt.La,m)}N(Ns,ge);function Q(m){const b=_r();We(b,new Ns(b))}Kt.STAT_EVENT="statevent";function W(m,b){ge.call(this,Kt.STAT_EVENT,m),this.stat=b}N(W,ge);function te(m){const b=_r();We(b,new W(b,m))}Kt.Ma="timingevent";function fe(m,b){ge.call(this,Kt.Ma,m),this.size=b}N(fe,ge);function be(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},b)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function ze(m,b,S,F,Z,le){m.info(function(){if(m.g)if(le)for(var we="",vt=le.split("&"),gn=0;gn<vt.length;gn++){var xt=vt[gn].split("=");if(1<xt.length){var Sn=xt[0];xt=xt[1];var yn=Sn.split("_");we=2<=yn.length&&yn[1]=="type"?we+(Sn+"="+xt+"&"):we+(Sn+"=redacted&")}}else we=null;else we=le;return"XMLHTTP REQ ("+F+") [attempt "+Z+"]: "+b+`
`+S+`
`+we})}function Ce(m,b,S,F,Z,le,we){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Z+"]: "+b+`
`+S+`
`+le+" "+we})}function Oe(m,b,S,F){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ue(m,S)+(F?" "+F:"")})}function Pe(m,b){m.info(function(){return"TIMEOUT: "+b})}Ae.prototype.info=function(){};function Ue(m,b){if(!m.g)return b;if(!b)return null;try{var S=JSON.parse(b);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var F=S[m];if(!(2>F.length)){var Z=F[1];if(Array.isArray(Z)&&!(1>Z.length)){var le=Z[0];if(le!="noop"&&le!="stop"&&le!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return je(S)}catch{return b}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ot;function Nt(){}N(Nt,Ht),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},ot=new Nt;function Et(m,b,S,F){this.j=m,this.i=b,this.l=S,this.R=F||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var rt={},Br={};function pn(m,b,S){m.L=1,m.v=Ga(Sr(b)),m.m=S,m.P=!0,sr(m,null)}function sr(m,b){m.F=Date.now(),Er(m),m.A=Sr(m.v);var S=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),Cc(S.i,"t",F),m.C=0,S=m.j.J,m.h=new mt,m.g=Bd(m.j,S?b:null,!m.m),0<m.O&&(m.M=new hr(w(m.Y,m,m.g),m.O)),b=m.U,S=m.g,F=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(zr[0]=Z.toString()),Z=zr);for(var le=0;le<Z.length;le++){var we=er(S,Z[le],F||b.handleEvent,!1,b.h||b);if(!we)break;b.g[we.key]=we}b=m.H?M(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),Q(),ze(m.i,m.u,m.A,m.l,m.R,m.m)}Et.prototype.ca=function(m){m=m.target;const b=this.M;b&&Gr(m)==3?b.j():this.Y(m)},Et.prototype.Y=function(m){try{if(m==this.g)e:{const yn=Gr(this.g);var b=this.g.Ba();const ci=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Od(this.g)))){this.J||yn!=4||b==7||(b==8||0>=ci?Q(3):Q(2)),Hn(this);var S=this.g.Z();this.X=S;t:if(On(this)){var F=Od(this.g);m="";var Z=F.length,le=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),ir(this);var we="";break t}this.h.i=new h.TextDecoder}for(b=0;b<Z;b++)this.h.h=!0,m+=this.h.i.decode(F[b],{stream:!(le&&b==Z-1)});F.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=S==200,Ce(this.i,this.u,this.A,this.l,this.R,yn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,gn=this.g;if((vt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(vt)){var xt=vt;break t}}xt=null}if(S=xt)Oe(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,S);else{this.o=!1,this.s=3,te(12),Ke(this),ir(this);break e}}if(this.P){S=!0;let Pn;for(;!this.J&&this.C<we.length;)if(Pn=As(this,we),Pn==Br){yn==4&&(this.s=4,te(14),S=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==rt){this.s=4,te(15),Oe(this.i,this.l,we,"[Invalid Chunk]"),S=!1;break}else Oe(this.i,this.l,Pn,null),on(this,Pn);if(On(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||we.length!=0||this.h.h||(this.s=1,te(16),S=!1),this.o=this.o&&S,!S)Oe(this.i,this.l,we,"[Invalid Chunked Response]"),Ke(this),ir(this);else if(0<we.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),eo(Sn),Sn.M=!0,te(11))}}else Oe(this.i,this.l,we,null),on(this,we);yn==4&&Ke(this),this.o&&!this.J&&(yn==4?Vd(this.j,this):(this.o=!1,Er(this)))}else Hm(this.g),S==400&&0<we.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ke(this),ir(this)}}}catch{}finally{}};function On(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function As(m,b){var S=m.C,F=b.indexOf(`
`,S);return F==-1?Br:(S=Number(b.substring(S,F)),isNaN(S)?rt:(F+=1,F+S>b.length?Br:(b=b.slice(F,F+S),m.C=F+S,b)))}Et.prototype.cancel=function(){this.J=!0,Ke(this)};function Er(m){m.S=Date.now()+m.I,Pi(m,m.I)}function Pi(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=be(w(m.ba,m),b)}function Hn(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Et.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),te(17)),Ke(this),this.s=2,ir(this)):Pi(this,this.S-m)};function ir(m){m.j.G==0||m.J||Vd(m.j,m)}function Ke(m){Hn(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Me(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function on(m,b){try{var S=m.j;if(S.G!=0&&(S.g==m||Fr(S.h,m))){if(!m.K&&Fr(S.h,m)&&S.G==3){try{var F=S.Da.g.parse(b)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Z=F;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)Yo(S),Qo(S);else break e;Oc(S),te(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=be(w(S.Za,S),6e3));if(1>=Lt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else li(S,11)}else if((m.K||S.g==m)&&Yo(S),!E(b))for(Z=S.Da.g.parse(b),b=0;b<Z.length;b++){let xt=Z[b];if(S.T=xt[0],xt=xt[1],S.G==2)if(xt[0]=="c"){S.K=xt[1],S.ia=xt[2];const Sn=xt[3];Sn!=null&&(S.la=Sn,S.j.info("VER="+S.la));const yn=xt[4];yn!=null&&(S.Aa=yn,S.j.info("SVER="+S.Aa));const ci=xt[5];ci!=null&&typeof ci=="number"&&0<ci&&(F=1.5*ci,S.L=F,S.j.info("backChannelRequestTimeoutMs_="+F)),F=S;const Pn=m.g;if(Pn){const Ps=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var le=F.h;le.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(ni(le,le.h),le.h=null))}if(F.D){const Pc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pc&&(F.ya=Pc,Ot(F.I,F.D,Pc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),F=S;var we=m;if(F.qa=Ud(F,F.J?F.ia:null,F.W),we.K){Dn(F.h,we);var vt=we,gn=F.L;gn&&(vt.I=gn),vt.B&&(Hn(vt),Er(vt)),F.g=we}else kd(F);0<S.i.length&&Ko(S)}else xt[0]!="stop"&&xt[0]!="close"||li(S,7);else S.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?li(S,7):jc(S):xt[0]!="noop"&&S.l&&S.l.ta(xt),S.v=0)}}Q(4)}catch{}}var Tr=class{constructor(m,b){this.g=m,this.map=b}};function fr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Lt(m){return m.h?1:m.g?m.g.size:0}function Fr(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function ni(m,b){m.g?m.g.add(b):m.h=b}function Dn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}fr.prototype.cancel=function(){if(this.i=Tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Tc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.D);return b}return L(m.i)}function Um(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var b=[],S=m.length,F=0;F<S;F++)b.push(m[F]);return b}b=[],S=0;for(F in m)b[S++]=m[F];return b}function Bo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var b=[];m=m.length;for(var S=0;S<m;S++)b.push(S);return b}b=[],S=0;for(const F in m)b[S++]=F;return b}}}function Sc(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var S=Bo(m),F=Um(m),Z=F.length,le=0;le<Z;le++)b.call(void 0,F[le],S&&S[le],m)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bm(m,b){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var F=m[S].indexOf("="),Z=null;if(0<=F){var le=m[S].substring(0,F);Z=m[S].substring(F+1)}else le=m[S];b(le,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ln(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ln){this.h=m.h,$a(this,m.j),this.o=m.o,this.g=m.g,ki(this,m.s),this.l=m.l;var b=m.i,S=new si;S.i=b.i,b.g&&(S.g=new Map(b.g),S.h=b.h),ri(this,S),this.m=m.m}else m&&(b=String(m).match(Ha))?(this.h=!1,$a(this,b[1]||"",!0),this.o=qr(b[2]||""),this.g=qr(b[3]||"",!0),ki(this,b[4]),this.l=qr(b[5]||"",!0),ri(this,b[6]||"",!0),this.m=qr(b[7]||"")):(this.h=!1,this.i=new si(null,this.h))}ln.prototype.toString=function(){var m=[],b=this.j;b&&m.push(Qa(b,Nc,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Qa(b,Nc,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Qa(S,S.charAt(0)=="/"?Fm:Ac,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Qa(S,Fo)),m.join("")};function Sr(m){return new ln(m)}function $a(m,b,S){m.j=S?qr(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function ki(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function ri(m,b,S){b instanceof si?(m.i=b,jd(m.i,m.h)):(S||(b=Qa(b,qm)),m.i=new si(b,m.h))}function Ot(m,b,S){m.i.set(b,S)}function Ga(m){return Ot(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qr(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qa(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,Id),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Id(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Nc=/[#\/\?@]/g,Ac=/[#\?:]/g,Fm=/[#\?]/g,qm=/[#\?@]/g,Fo=/#/g;function si(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Hr(m){m.g||(m.g=new Map,m.h=0,m.i&&Bm(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=si.prototype,n.add=function(m,b){Hr(this),this.i=null,m=Rs(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function ii(m,b){Hr(m),b=Rs(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function ai(m,b){return Hr(m),b=Rs(m,b),m.g.has(b)}n.forEach=function(m,b){Hr(this),this.g.forEach(function(S,F){S.forEach(function(Z){m.call(b,Z,F,this)},this)},this)},n.na=function(){Hr(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),S=[];for(let F=0;F<b.length;F++){const Z=m[F];for(let le=0;le<Z.length;le++)S.push(b[F])}return S},n.V=function(m){Hr(this);let b=[];if(typeof m=="string")ai(this,m)&&(b=b.concat(this.g.get(Rs(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)b=b.concat(m[S])}return b},n.set=function(m,b){return Hr(this),this.i=null,m=Rs(this,m),ai(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function Cc(m,b,S){ii(m,b),0<S.length&&(m.i=null,m.g.set(Rs(m,b),L(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var S=0;S<b.length;S++){var F=b[S];const le=encodeURIComponent(String(F)),we=this.V(F);for(F=0;F<we.length;F++){var Z=le;we[F]!==""&&(Z+="="+encodeURIComponent(String(we[F]))),m.push(Z)}}return this.i=m.join("&")};function Rs(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function jd(m,b){b&&!m.j&&(Hr(m),m.i=null,m.g.forEach(function(S,F){var Z=F.toLowerCase();F!=Z&&(ii(this,F),Cc(this,Z,S))},m)),m.j=b}function Ka(m,b){const S=new Ae;if(h.Image){const F=new Image;F.onload=T($r,S,"TestLoadImage: loaded",!0,b,F),F.onerror=T($r,S,"TestLoadImage: error",!1,b,F),F.onabort=T($r,S,"TestLoadImage: abort",!1,b,F),F.ontimeout=T($r,S,"TestLoadImage: timeout",!1,b,F),h.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else b(!1)}function os(m,b){const S=new Ae,F=new AbortController,Z=setTimeout(()=>{F.abort(),$r(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:F.signal}).then(le=>{clearTimeout(Z),le.ok?$r(S,"TestPingServer: ok",!0,b):$r(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Z),$r(S,"TestPingServer: error",!1,b)})}function $r(m,b,S,F,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),F(S)}catch{}}function Ya(){this.g=new ft}function Is(m,b,S){const F=S||"";try{Sc(m,function(Z,le){let we=Z;p(Z)&&(we=je(Z)),b.push(F+le+"="+encodeURIComponent(we))})}catch(Z){throw b.push(F+"type="+encodeURIComponent("_badmap")),Z}}function Li(m){this.l=m.Ub||null,this.j=m.eb||!1}N(Li,Ht),Li.prototype.g=function(){return new oi(this.l,this.j)},Li.prototype.i=function(m){return function(){return m}}({});function oi(m,b){yt.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(oi,yt),n=oi.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Ms(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?js(this):Ms(this),this.readyState==3&&Rc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,js(this))},n.Qa=function(m){this.g&&(this.response=m,js(this))},n.ga=function(){this.g&&js(this)};function js(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ms(m)}n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function Ms(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ic(m){let b="";return z(m,function(S,F){b+=F,b+=":",b+=S,b+=`\r
`}),b}function Tn(m,b,S){e:{for(F in S){var F=!1;break e}F=!0}F||(S=Ic(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):Ot(m,b,S))}function At(m){yt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(At,yt);var qo=/^https?$/i,Xa=["POST","PUT"];n=At.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,b,S,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ot.g(),this.v=this.o?an(this.o):an(ot),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(le){Md(this,le);return}if(m=S||"",S=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Z in F)S.set(Z,F[Z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const le of F.keys())S.set(le,F.get(le));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(S.keys()).find(le=>le.toLowerCase()=="content-type"),Z=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xa,b,void 0))||F||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of S)this.g.setRequestHeader(le,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(m),this.u=!1}catch(le){Md(this,le)}};function Md(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,Ho(m),Os(m)}function Ho(m){m.A||(m.A=!0,We(m,"complete"),We(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,We(this,"complete"),We(this,"abort"),Os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},n.bb=function(){$o(this)};function $o(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Gr(m)!=4||m.Z()!=2)){if(m.u&&Gr(m)==4)Qt(m.Ea,0,m);else if(We(m,"readystatechange"),Gr(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var F;if(F=we===0){var Z=String(m.D).match(Ha)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),F=!qo.test(Z?Z.toLowerCase():"")}S=F}if(S)We(m,"complete"),We(m,"success");else{m.m=6;try{var le=2<Gr(m)?m.g.statusText:""}catch{le=""}m.l=le+" ["+m.Z()+"]",Ho(m)}}finally{Os(m)}}}}function Os(m,b){if(m.g){Wa(m);const S=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||We(m,"ready");try{S.onreadystatechange=F}catch{}}}function Wa(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Gr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Je(b)}};function Od(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Hm(m){const b={};m=(m.g&&2<=Gr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(E(m[F]))continue;var S=P(m[F]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const le=b[Z]||[];b[Z]=le,le.push(S)}B(b,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function Go(m){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,m),this.cb=Za("retryDelaySeedMs",1e4,m),this.Wa=Za("forwardChannelMaxRetries",2,m),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(m&&m.concurrentRequestLimit),this.Da=new Ya,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(m,b,S,F){te(0),this.W=m,this.H=b||{},S&&F!==void 0&&(this.H.OSID=S,this.H.OAID=F),this.F=this.X,this.I=Ud(this,null,this.W),Ko(this)};function jc(m){if(Dd(m),m.G==3){var b=m.U++,S=Sr(m.I);if(Ot(S,"SID",m.K),Ot(S,"RID",b),Ot(S,"TYPE","terminate"),Ja(m,S),b=new Et(m,m.j,b),b.L=2,b.v=Ga(Sr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=b.v,S=!0),S||(b.g=Bd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Er(b)}zd(m)}function Qo(m){m.g&&(eo(m),m.g.cancel(),m.g=null)}function Dd(m){Qo(m),m.u&&(h.clearTimeout(m.u),m.u=null),Yo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Ko(m){if(!Cs(m.h)&&!m.s){m.s=!0;var b=m.Ga;ie||H(),oe||(ie(),oe=!0),xe.add(b,m),m.B=0}}function $m(m,b){return Lt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=be(w(m.Ga,m,b),Dc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new Et(this,this.j,m);let le=this.o;if(this.S&&(le?(le=M(le),O(le,this.S)):le=this.S),this.m!==null||this.O||(Z.H=le,le=null),this.P)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var F=this.i[S];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(b+=F,4096<b){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=Pd(this,Z,b),S=Sr(this.I),Ot(S,"RID",m),Ot(S,"CVER",22),this.D&&Ot(S,"X-HTTP-Session-Id",this.D),Ja(this,S),le&&(this.O?b="headers="+encodeURIComponent(String(Ic(le)))+"&"+b:this.m&&Tn(S,this.m,le)),ni(this.h,Z),this.Ua&&Ot(S,"TYPE","init"),this.P?(Ot(S,"$req",b),Ot(S,"SID","null"),Z.T=!0,pn(Z,S,null)):pn(Z,S,b),this.G=2}}else this.G==3&&(m?Mc(this,m):this.i.length==0||Cs(this.h)||Mc(this))};function Mc(m,b){var S;b?S=b.l:S=m.U++;const F=Sr(m.I);Ot(F,"SID",m.K),Ot(F,"RID",S),Ot(F,"AID",m.T),Ja(m,F),m.m&&m.o&&Tn(F,m.m,m.o),S=new Et(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Pd(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ni(m.h,S),pn(S,F,b)}function Ja(m,b){m.H&&z(m.H,function(S,F){Ot(b,F,S)}),m.l&&Sc({},function(S,F){Ot(b,F,S)})}function Pd(m,b,S){S=Math.min(m.i.length,S);var F=m.l?w(m.l.Na,m.l,m):null;e:{var Z=m.i;let le=-1;for(;;){const we=["count="+S];le==-1?0<S?(le=Z[0].g,we.push("ofs="+le)):le=0:we.push("ofs="+le);let vt=!0;for(let gn=0;gn<S;gn++){let xt=Z[gn].g;const Sn=Z[gn].map;if(xt-=le,0>xt)le=Math.max(0,Z[gn].g-100),vt=!1;else try{Is(Sn,we,"req"+xt+"_")}catch{F&&F(Sn)}}if(vt){F=we.join("&");break e}}}return m=m.i.splice(0,S),b.D=m,F}function kd(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;ie||H(),oe||(ie(),oe=!0),xe.add(b,m),m.v=0}}function Oc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=be(w(m.Fa,m),Dc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=be(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Qo(this),Ld(this))};function eo(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Ld(m){m.g=new Et(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Sr(m.qa);Ot(b,"RID","rpc"),Ot(b,"SID",m.K),Ot(b,"AID",m.T),Ot(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ot(b,"TO",m.ja),Ot(b,"TYPE","xmlhttp"),Ja(m,b),m.m&&m.o&&Tn(b,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=Ga(Sr(b)),S.m=null,S.P=!0,sr(S,m)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Oc(this),te(19))};function Yo(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Vd(m,b){var S=null;if(m.g==b){Yo(m),eo(m),m.g=null;var F=2}else if(Fr(m.h,b))S=b.D,Dn(m.h,b),F=1;else return;if(m.G!=0){if(b.o)if(F==1){S=b.m?b.m.length:0,b=Date.now()-b.F;var Z=m.B;F=_r(),We(F,new fe(F,S)),Ko(m)}else kd(m);else if(Z=b.s,Z==3||Z==0&&0<b.X||!(F==1&&$m(m,b)||F==2&&Oc(m)))switch(S&&0<S.length&&(b=m.h,b.i=b.i.concat(S)),Z){case 1:li(m,5);break;case 4:li(m,10);break;case 3:li(m,6);break;default:li(m,2)}}}function Dc(m,b){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*b}function li(m,b){if(m.j.info("Error code "+b),b==2){var S=w(m.fb,m),F=m.Xa;const Z=!F;F=new ln(F||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$a(F,"https"),Ga(F),Z?Ka(F.toString(),S):os(F.toString(),S)}else te(2);m.G=0,m.l&&m.l.sa(b),zd(m),Dd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function zd(m){if(m.G=0,m.ka=[],m.l){const b=Tc(m.h);(b.length!=0||m.i.length!=0)&&(I(m.ka,b),I(m.ka,m.i),m.h.i.length=0,L(m.i),m.i.length=0),m.l.ra()}}function Ud(m,b,S){var F=S instanceof ln?Sr(S):new ln(S);if(F.g!="")b&&(F.g=b+"."+F.g),ki(F,F.s);else{var Z=h.location;F=Z.protocol,b=b?b+"."+Z.hostname:Z.hostname,Z=+Z.port;var le=new ln(null);F&&$a(le,F),b&&(le.g=b),Z&&ki(le,Z),S&&(le.l=S),F=le}return S=m.D,b=m.ya,S&&b&&Ot(F,S,b),Ot(F,"VER",m.la),Ja(m,F),F}function Bd(m,b,S){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new At(new Li({eb:S})):new At(m.pa),b.Ha(m.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fd(){}n=Fd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xo(){}Xo.prototype.g=function(m,b){return new ar(m,b)};function ar(m,b){yt.call(this),this.g=new Go(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!E(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!E(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Ds(this)}N(ar,yt),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){jc(this.g)},ar.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=je(m),m=S);b.i.push(new Tr(b.Ya++,m)),b.G==3&&Ko(b)},ar.prototype.N=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,ar.aa.N.call(this)};function qd(m){qn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const S in b){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}N(qd,qn);function Hd(){Mn.call(this),this.status=1}N(Hd,Mn);function Ds(m){this.g=m}N(Ds,Fd),Ds.prototype.ua=function(){We(this.g,"a")},Ds.prototype.ta=function(m){We(this.g,new qd(m))},Ds.prototype.sa=function(m){We(this.g,new Hd)},Ds.prototype.ra=function(){We(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,BT=function(){return new Xo},UT=function(){return _r()},zT=Kt,I0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,hf=De,Fe.COMPLETE="complete",VT=Fe,rr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ou=rr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,LT=At}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore",q1="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Iy("@firebase/firestore");function Al(){return jo.logLevel}function Ne(n,...e){if(jo.logLevel<=dt.DEBUG){const t=e.map(Oy);jo.debug(`Firestore (${yc}): ${n}`,...t)}}function Ii(n,...e){if(jo.logLevel<=dt.ERROR){const t=e.map(Oy);jo.error(`Firestore (${yc}): ${n}`,...t)}}function ic(n,...e){if(jo.logLevel<=dt.WARN){const t=e.map(Oy);jo.warn(`Firestore (${yc}): ${n}`,...t)}}function Oy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FT(n,r,t)}function FT(n,e,t){let r=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ii(r),new Error(r)}function Rt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||FT(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w4{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new qT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class _4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new H1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=S4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function j0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=HT(),u=N4(o.encode($1(n,t)),o.encode($1(e,t)));return u!==0?u:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function $1(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function N4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function ac(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=-62135596800,Q1=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q1);return new bn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G1)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q1}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new bn(0,0))}static max(){return new Ye(new bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__name__";class Bs{constructor(e,t,r){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Bs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=Bs.isNumericId(e),a=Bs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Bs.extractNumericId(e).compare(Bs.extractNumericId(t)):j0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class Bt extends Bs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const A4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Bs{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return A4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K1}static keyField(){return new Bn([K1])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=-1;function C4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new bn(t+1,0):new bn(t,r));return new Oa(a,Le.empty(),e)}function R4(n){return new Oa(n.readTime,n.key,Xu)}class Oa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oa(Ye.min(),Le.empty(),Xu)}static max(){return new Oa(Ye.max(),Le.empty(),Xu)}}function I4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==j4)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function O4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}um.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-1;function dm(n){return n==null}function Df(n){return n===0&&1/n==-1/0}function D4(n){return typeof n=="number"&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="";function P4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Y1(e)),e=k4(n.get(t),e);return Y1(e)}function k4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case GT:t+="";break;default:t+=o}}return t}function Y1(n){return n+GT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??zn.RED,this.left=a??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new zn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class W1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new wn(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KT("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const L4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(Rt(!!n,39018),typeof n=="string"){let e=0;const t=L4.exec(n);if(Rt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(n.seconds),nanos:rn(n.nanos)}}function rn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pa(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="server_timestamp",XT="__type__",WT="__previous_value__",ZT="__local_write_time__";function hm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XT])===null||t===void 0?void 0:t.stringValue)===YT}function fm(n){const e=n.mapValue.fields[WT];return hm(e)?fm(e):e}function Wu(n){const e=Da(n.mapValue.fields[ZT].timestampValue);return new bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t,r,a,o,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Pf="(default)";class Zu{constructor(e,t){this.projectId=e,this.database=t||Pf}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__type__",z4="__max__",Wh={mapValue:{}},e2="__vector__",kf="value";function ka(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hm(n)?4:B4(n)?9007199254740991:U4(n)?10:11:$e(28295,{value:n})}function Ws(n,e){if(n===e)return!0;const t=ka(n);if(t!==ka(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Da(a.timestampValue),h=Da(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Pa(a.bytesValue).isEqual(Pa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return rn(a.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(a.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return rn(a.integerValue)===rn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=rn(a.doubleValue),h=rn(o.doubleValue);return u===h?Df(u)===Df(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ac(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(X1(u)!==X1(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ws(u[f],h[f])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function Ju(n,e){return(n.values||[]).find(t=>Ws(t,e))!==void 0}function oc(n,e){if(n===e)return 0;const t=ka(n),r=ka(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=rn(o.integerValue||o.doubleValue),f=rn(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Z1(n.timestampValue,e.timestampValue);case 4:return Z1(Wu(n),Wu(e));case 5:return j0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Pa(o),f=Pa(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=nt(h[p],f[p]);if(y!==0)return y}return nt(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=nt(rn(o.latitude),rn(u.latitude));return h!==0?h:nt(rn(o.longitude),rn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,p,y;const x=o.fields||{},w=u.fields||{},T=(h=x[kf])===null||h===void 0?void 0:h.arrayValue,N=(f=w[kf])===null||f===void 0?void 0:f.arrayValue,L=nt(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:J1(T,N)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Wh.mapValue&&u===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(u===Wh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const w=j0(f[x],y[x]);if(w!==0)return w;const T=oc(h[f[x]],p[y[x]]);if(T!==0)return T}return nt(f.length,y.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function Z1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Da(n),r=Da(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function J1(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=oc(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function lc(n){return M0(n)}function M0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Da(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=M0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${M0(t.fields[u])}`;return a+"}"}(n.mapValue):$e(61005,{value:n})}function ff(n){switch(ka(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(n);return e?16+ff(e):16;case 5:return 2*n.stringValue.length;case 6:return Pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+ff(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ua(r.fields,(o,u)=>{a+=o.length+ff(u)}),a}(n.mapValue);default:throw $e(13486,{value:n})}}function Lf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function Py(n){return!!n&&"arrayValue"in n}function e_(n){return!!n&&"nullValue"in n}function t_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function U4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JT])===null||t===void 0?void 0:t.stringValue)===e2}function Bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ua(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function B4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===z4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=Bn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=Bu(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ua(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new br(Bu(this.value))}}function t2(n){const e=[];return Ua(n.fields,(t,r)=>{const a=new Bn([t]);if(mf(r)){const o=t2(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Xn(e,0,Ye.min(),Ye.min(),Ye.min(),br.empty(),0)}static newFoundDocument(e,t,r,a){return new Xn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ye.min(),Ye.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ye.min(),Ye.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.position=e,this.inclusive=t}}function n_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=oc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function r_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ws(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function F4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{}class hn extends n2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new H4(e,t,r):t==="array-contains"?new Q4(e,r):t==="in"?new K4(e,r):t==="not-in"?new Y4(e,r):t==="array-contains-any"?new X4(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $4(e,r):new G4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oc(t,this.value)):t!==null&&ka(this.value)===ka(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends n2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new vs(e,t)}matches(e){return r2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function r2(n){return n.op==="and"}function s2(n){return q4(n)&&r2(n)}function q4(n){for(const e of n.filters)if(e instanceof vs)return!1;return!0}function D0(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(s2(n))return n.filters.map(e=>D0(e)).join(",");{const e=n.filters.map(t=>D0(t)).join(",");return`${n.op}(${e})`}}function i2(n,e){return n instanceof hn?function(r,a){return a instanceof hn&&r.op===a.op&&r.field.isEqual(a.field)&&Ws(r.value,a.value)}(n,e):n instanceof vs?function(r,a){return a instanceof vs&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&i2(u,a.filters[h]),!0):!1}(n,e):void $e(19439)}function a2(n){return n instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(n):n instanceof vs?function(t){return t.op.toString()+" {"+t.getFilters().map(a2).join(" ,")+"}"}(n):"Filter"}class H4 extends hn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class $4 extends hn{constructor(e,t){super(e,"in",t),this.keys=o2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class G4 extends hn{constructor(e,t){super(e,"not-in",t),this.keys=o2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class Q4 extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Py(t)&&Ju(t.arrayValue,this.value)}}class K4 extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ju(this.value.arrayValue,t)}}class Y4 extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ju(this.value.arrayValue,t)}}class X4 extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function s_(n,e=null,t=[],r=[],a=null,o=null,u=null){return new W4(n,e,t,r,a,o,u)}function ky(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>D0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),e.Ie=t}return e.Ie}function Ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!F4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r_(n.startAt,e.startAt)&&r_(n.endAt,e.endAt)}function P0(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Z4(n,e,t,r,a,o,u,h){return new Lo(n,e,t,r,a,o,u,h)}function mm(n){return new Lo(n)}function i_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vy(n){return n.collectionGroup!==null}function Vl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new wn(Bn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ed(o,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new ed(Bn.keyField(),r))}return e.Ee}function Gs(n){const e=Xe(n);return e.de||(e.de=J4(e,Vl(n))),e.de}function J4(n,e){if(n.limitType==="F")return s_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new ed(a.field,o)});const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return s_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function k0(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vf(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return Ly(Gs(n),Gs(e))&&n.limitType===e.limitType}function l2(n){return`${ky(Gs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>a2(a)).join(", ")}]`),dm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>lc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>lc(a)).join(",")),`Target(${r})`}(Gs(n))}; limitType=${n.limitType})`}function gm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Vl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const p=n_(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Vl(r),a)||r.endAt&&!function(u,h,f){const p=n_(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Vl(r),a))}(n,e)}function e3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function c2(n){return(e,t)=>{let r=!1;for(const a of Vl(n)){const o=t3(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function t3(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?oc(f,p):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new Xt(Le.comparator);function ji(){return n3}const u2=new Xt(Le.comparator);function Du(...n){let e=u2;for(const t of n)e=e.insert(t.key,t);return e}function d2(n){let e=u2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bo(){return Fu()}function h2(){return Fu()}function Fu(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const r3=new Xt(Le.comparator),s3=new wn(Le.comparator);function ht(...n){let e=s3;for(const t of n)e=e.add(t);return e}const i3=new wn(nt);function a3(){return i3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function f2(n){return{integerValue:""+n}}function o3(n,e){return D4(e)?f2(e):zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function l3(n,e,t){return n instanceof td?function(a,o){const u={fields:{[XT]:{stringValue:YT},[ZT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&hm(o)&&(o=fm(o)),o&&(u.fields[WT]=o),{mapValue:u}}(t,e):n instanceof uc?p2(n,e):n instanceof nd?g2(n,e):function(a,o){const u=m2(a,o),h=a_(u)+a_(a.Re);return O0(u)&&O0(a.Re)?f2(h):zy(a.serializer,h)}(n,e)}function c3(n,e,t){return n instanceof uc?p2(n,e):n instanceof nd?g2(n,e):t}function m2(n,e){return n instanceof zf?function(r){return O0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class td extends ym{}class uc extends ym{constructor(e){super(),this.elements=e}}function p2(n,e){const t=y2(e);for(const r of n.elements)t.some(a=>Ws(a,r))||t.push(r);return{arrayValue:{values:t}}}class nd extends ym{constructor(e){super(),this.elements=e}}function g2(n,e){let t=y2(e);for(const r of n.elements)t=t.filter(a=>!Ws(a,r));return{arrayValue:{values:t}}}class zf extends ym{constructor(e,t){super(),this.serializer=e,this.Re=t}}function a_(n){return rn(n.integerValue||n.doubleValue)}function y2(n){return Py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.field=e,this.transform=t}}function u3(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof uc&&a instanceof uc||r instanceof nd&&a instanceof nd?ac(r.elements,a.elements,Ws):r instanceof zf&&a instanceof zf?Ws(r.Re,a.Re):r instanceof td&&a instanceof td}(n.transform,e.transform)}class d3{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let vm=class{};function x2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Uy(n.key,ns.none()):new xd(n.key,n.data,ns.none());{const t=n.data,r=br.empty();let a=new wn(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ba(n.key,r,new Lr(a.toArray()),ns.none())}}function h3(n,e,t){n instanceof xd?function(a,o,u){const h=a.value.clone(),f=l_(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ba?function(a,o,u){if(!pf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=l_(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(b2(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,r){return n instanceof xd?function(o,u,h,f){if(!pf(o.precondition,u))return h;const p=o.value.clone(),y=c_(o.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ba?function(o,u,h,f){if(!pf(o.precondition,u))return h;const p=c_(o.fieldTransforms,f,u),y=u.data;return y.setAll(b2(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(o,u,h){return pf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function f3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=m2(r.transform,a||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ac(r,a,(o,u)=>u3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xd extends vm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ba extends vm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function b2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function l_(n,e,t){const r=new Map;Rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,c3(u,h,t[a]))}return r}function c_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,l3(o,u,e))}return r}class Uy extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m3 extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&h3(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=h2();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=x2(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(t,r)=>o_(t,r))&&ac(this.baseMutations,e.baseMutations,(t,r)=>o_(t,r))}}class By{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return r3}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new By(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,wt;function v3(n){switch(n){case de.OK:return $e(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function w2(n){if(n===void 0)return Ii("GRPC error has no .code"),de.UNKNOWN;switch(n){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return $e(39323,{code:n})}}(wt=dn||(dn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new Ca([4294967295,4294967295],0);function u_(n){const e=HT().encode(n),t=new kT;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ca([t,r],0),new Ca([a,o],0)]}class Fy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pu(`Invalid padding: ${t}`);if(r<0)throw new Pu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ca.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Ca.fromNumber(r)));return a.compare(x3)===1&&(a=new Ca([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=u_(e),[r,a]=d_(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Fy(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=u_(e),[r,a]=d_(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xm(Ye.min(),a,new Xt(nt),ji(),ht())}}class bd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bd(r,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class _2{constructor(e,t){this.targetId=e,this.Ce=t}}class E2{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class h_{constructor(){this.Fe=0,this.Me=f_(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ht(),t=ht(),r=ht();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:$e(38017,{changeType:o})}}),new bd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=f_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class b3{constructor(e){this.ze=e,this.je=new Map,this.He=ji(),this.Je=Zh(),this.Ye=Zh(),this.Ze=new Xt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(P0(o))if(r===0){const u=new Le(o.path);this.tt(t,u,Xn.newNoDocument(u,Ye.min()))}else Rt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Pa(r).toUint8Array()}catch(f){if(f instanceof KT)return ic("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Fy(u,a,o)}catch(f){return ic(f instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&P0(h.target)){const f=new Le(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Xn.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=ht();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new xm(e,t,this.Ze,this.He,r);return this.He=ji(),this.Je=Zh(),this.Ye=Zh(),this.Ze=new Xt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new h_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wn(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wn(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new h_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Zh(){return new Xt(Le.comparator)}function f_(){return new Xt(Le.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},_3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class T3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function L0(n,e){return n.useProto3Json||dm(e)?e:{value:e}}function Uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S3(n,e){return Uf(n,e.toTimestamp())}function Qs(n){return Rt(!!n,49232),Ye.fromTimestamp(function(t){const r=Da(t);return new bn(r.seconds,r.nanos)}(n))}function qy(n,e){return V0(n,e).canonicalString()}function V0(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function S2(n){const e=Bt.fromString(n);return Rt(I2(e),10190,{key:e.toString()}),e}function z0(n,e){return qy(n.databaseId,e.path)}function Jg(n,e){const t=S2(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(A2(t))}function N2(n,e){return qy(n.databaseId,e)}function N3(n){const e=S2(n);return e.length===4?Bt.emptyPath():A2(e)}function U0(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A2(n){return Rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m_(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function A3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Rt(y===void 0||typeof y=="string",58123),Fn.fromBase64String(y||"")):(Rt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Fn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?de.UNKNOWN:w2(p.code);return new _e(y,p.message||"")}(u);t=new E2(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Jg(n,r.document.name),o=Qs(r.document.updateTime),u=r.document.createTime?Qs(r.document.createTime):Ye.min(),h=new br({mapValue:{fields:r.document.fields}}),f=Xn.newFoundDocument(a,o,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new gf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Jg(n,r.document),o=r.readTime?Qs(r.readTime):Ye.min(),u=Xn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new gf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Jg(n,r.document),o=r.removedTargetIds||[];t=new gf([],o,a,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new y3(a,o),h=r.targetId;t=new _2(h,u)}}return t}function C3(n,e){let t;if(e instanceof xd)t={update:m_(n,e.key,e.value)};else if(e instanceof Uy)t={delete:z0(n,e.key)};else if(e instanceof Ba)t={update:m_(n,e.key,e.data),updateMask:L3(e.fieldMask)};else{if(!(e instanceof m3))return $e(16599,{ft:e.type});t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw $e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:S3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(n,e.precondition)),t}function R3(n,e){return n&&n.length>0?(Rt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Qs(a.updateTime):Qs(o);return u.isEqual(Ye.min())&&(u=Qs(o)),new d3(u,a.transformResults||[])}(t,e))):[]}function I3(n,e){return{documents:[N2(n,e.path)]}}function j3(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=N2(n,a);const o=function(p){if(p.length!==0)return R2(vs.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:Rl(w.field),direction:D3(w.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=L0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function M3(n){let e=N3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Rt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(x){const w=C2(x);return w instanceof vs&&s2(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(x){return x.map(w=>function(N){return new ed(Il(N.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(x){let w;return w=typeof x=="object"?x.value:x,dm(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(x){const w=!!x.before,T=x.values||[];return new cc(T,w)}(t.startAt));let p=null;return t.endAt&&(p=function(x){const w=!x.before,T=x.values||[];return new cc(T,w)}(t.endAt)),Z4(e,a,u,o,h,"F",f,p)}function O3(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Il(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Il(t.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(t.unaryFilter.field);return hn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Il(t.unaryFilter.field);return hn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return hn.create(Il(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vs.create(t.compositeFilter.filters.map(r=>C2(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function D3(n){return w3[n]}function P3(n){return _3[n]}function k3(n){return E3[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Il(n){return Bn.fromServerFormat(n.fieldPath)}function R2(n){return n instanceof hn?function(t){if(t.op==="=="){if(t_(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(e_(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t_(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(e_(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:P3(t.op),value:t.value}}}(n):n instanceof vs?function(t){const r=t.getFilters().map(a=>R2(a));return r.length===1?r[0]:{compositeFilter:{op:k3(t.op),filters:r}}}(n):$e(54877,{filter:n})}function L3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function I2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t,r,a,o=Ye.min(),u=Ye.min(),h=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.wt=e}}function z3(n){const e=M3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.yn=new B3}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Oa.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class B3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new wn(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new wn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j2=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(j2,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new dc(0)}static ir(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",F3=1048576;function y_([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class q3{constructor(e){this.cr=e,this.buffer=new wn(y_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(g_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xc(t)?Ne(g_,"Ignoring IndexedDB error during garbage collection: ",t):await vc(t)}await this.Ir(3e5)})}}class $3{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(um.le);const r=new q3(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(p_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(p=Date.now(),Al()<=dt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x})))}}function G3(n,e){return new $3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&qu(r.mutation,a,Lr.empty(),bn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ht()){const a=bo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Du();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ht()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=ji();const u=Fu(),h=function(){return Fu()}();return t.forEach((f,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ba)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),qu(y.mutation,p,y.mutation.getFieldMask(),bn.now())):u.set(p.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var x;return h.set(p,new K3(y,(x=u.get(p))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Fu();let a=new Xt((u,h)=>u-h),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Lr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const x=(a.get(h.batchId)||ht()).add(f);a=a.insert(h.batchId,x)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,x=h2();y.forEach(w=>{if(!o.has(w)){const T=x2(t.get(w),r.get(w));T!==null&&x.set(w,T),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return pe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(bo());let h=Xu,f=o;return u.next(p=>pe.forEach(p,(y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{f=f.insert(y,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,ht())).next(y=>({batchId:h,changes:d2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Du();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Du();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,f=>{const p=function(x,w){return new Lo(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((x,w)=>{u=u.insert(x,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xn.newInvalidDocument(y)))});let h=Du();return u.forEach((f,p)=>{const y=o.get(f);y!==void 0&&qu(y.mutation,p,Lr.empty(),bn.now()),gm(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Qs(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:z3(a.bundledQuery),readTime:Qs(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.overlays=new Xt(Le.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=bo(),o=t.length+1,u=new Le(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Xt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=bo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=bo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return pe.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new g3(t,r));let o=this.Or.get(t);o===void 0&&(o=ht(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Nr=new wn(Rn.Br),this.Lr=new wn(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=ht();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new wn(Rn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new p3(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new Rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Dy:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const h=this.jr(u.Gr);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(nt);return t.forEach(a=>{const o=new Rn(a,0),u=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Rn(new Le(o),0);let h=new wn(nt);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Gr)),!0)},u),pe.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Rt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Zr=e,this.docs=function(){return new Xt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=ji();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=ji();const u=t.path,h=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||I4(R4(y),r)<=0||(a.has(y.key)||gm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){$e(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tM(this)}getSize(e){return pe.resolve(this.size)}}class tM extends Q3{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.persistence=e,this.ei=new Vo(t=>ky(t),Ly),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new Hy,this.targetCount=0,this.ri=dc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.ii={},this.overlays={},this.si=new um(0),this.oi=!1,this.oi=!0,this._i=new Z3,this.referenceDelegate=e(this),this.ai=new nM(this),this.indexManager=new U3,this.remoteDocumentCache=function(a){return new eM(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new V3(t),this.ci=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new W3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new J3(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const a=new rM(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class rM extends M4{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.Ti=new Hy,this.Ii=null}static Ei(e){return new $y(e)}get di(){if(this.Ii)return this.Ii;throw $e(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bf{constructor(e,t){this.persistence=e,this.Ri=new Vo(r=>P4(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=G3(this,t)}static Ei(e,t){return new Bf(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ff(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=ht(),a=ht();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Gy(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return tj()?8:O4(Jn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new sM;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Al()<=dt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Al()<=dt.DEBUG&&Ne("QueryEngine","Query:",Cl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Al()<=dt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(t))):pe.resolve())}Rs(e,t){if(i_(t))return pe.resolve(null);let r=Gs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Vf(t,null,"F"),r=Gs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=ht(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,u,f.readTime)?this.Rs(e,Vf(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,a){return i_(t)||a.isEqual(Ye.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?pe.resolve(null):(Al()<=dt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cl(t)),this.ws(e,u,t,C4(a,Xu)).next(h=>h))})}ps(e,t){let r=new wn(c2(e));return t.forEach((a,o)=>{gm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Al()<=dt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.As.getDocumentsMatchingQuery(e,t,Oa.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",aM=3e8;class oM{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Xt(nt),this.Ds=new Vo(o=>ky(o),Ly),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y3(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function lM(n,e,t,r){return new oM(n,e,t,r)}async function O2(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=ht();for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function cM(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const x=p.batch,w=x.keys();let T=pe.resolve();return w.forEach(N=>{T=T.next(()=>y.getEntry(f,N)).next(L=>{const I=p.docVersions.get(N);Rt(I!==null,48541),L.version.compareTo(I)<0&&(x.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,x))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=ht();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function D2(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function uM(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,x)=>{const w=a.get(x);if(!w)return;h.push(t.ai.removeMatchingKeys(o,y.removedDocuments,x).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,x)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?T=T.withResumeToken(Fn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(x,T),function(L,I,R){return L.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=aM?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(w,T,y)&&h.push(t.ai.updateTargetData(o,T))});let f=ji(),p=ht();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(dM(o,u,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(x=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return pe.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=a,o))}function dM(n,e,t){let r=ht(),a=ht();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ji();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ne(Qy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:a}})}function hM(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fM(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new wa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function B0(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!xc(u))throw u;Ne(Qy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function v_(n,e,t){const r=Xe(n);let a=Ye.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const x=Xe(f),w=x.Ds.get(y);return w!==void 0?pe.resolve(x.Ss.get(w)):x.ai.getTargetData(p,y)}(r,u,Gs(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ye.min(),t?o:ht())).next(h=>(mM(r,e3(e),h),{documents:h,Ns:o})))}function mM(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class x_{constructor(){this.activeTargetIds=a3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pM{constructor(){this.So=new x_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new x_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class w_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(b_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function F0(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="RestConnection",yM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=F0(),h=this.$o(e,t.toUriEncodedString());Ne(e0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,h,f,r).then(p=>(Ne(e0,`Received RPC '${e}' ${u}: `,p),p),p=>{throw ic(e0,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=yM[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class bM extends vM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=F0();return new Promise((u,h)=>{const f=new LT;f.setWithCredentials(!0),f.listenOnce(VT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case hf.NO_ERROR:const y=f.getResponseJson();Ne(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case hf.TIMEOUT:Ne(Qn,`RPC '${e}' ${o} timed out`),h(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const x=f.getStatus();if(Ne(Qn,`RPC '${e}' ${o} failed with status:`,x,"response text:",f.getResponseText()),x>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const N=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(R)>=0?R:de.UNKNOWN}(T.status);h(new _e(N,T.message))}else h(new _e(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(de.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ne(Qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ne(Qn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",p,r,15)})}a_(e,t,r){const a=F0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BT(),h=UT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ne(Qn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=u.createWebChannel(y,f);let w=!1,T=!1;const N=new xM({Go:I=>{T?Ne(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(Ne(Qn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),w=!0),Ne(Qn,`RPC '${e}' stream ${a} sending:`,I),x.send(I))},zo:()=>x.close()}),L=(I,R,E)=>{I.listen(R,_=>{try{E(_)}catch(D){setTimeout(()=>{throw D},0)}})};return L(x,Ou.EventType.OPEN,()=>{T||(Ne(Qn,`RPC '${e}' stream ${a} transport opened.`),N.t_())}),L(x,Ou.EventType.CLOSE,()=>{T||(T=!0,Ne(Qn,`RPC '${e}' stream ${a} transport closed`),N.r_())}),L(x,Ou.EventType.ERROR,I=>{T||(T=!0,ic(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),N.r_(new _e(de.UNAVAILABLE,"The operation could not be completed")))}),L(x,Ou.EventType.MESSAGE,I=>{var R;if(!T){const E=I.data[0];Rt(!!E,16349);const _=E,D=(_==null?void 0:_.error)||((R=_[0])===null||R===void 0?void 0:R.error);if(D){Ne(Qn,`RPC '${e}' stream ${a} received error:`,D);const U=D.status;let z=function(j){const O=dn[j];if(O!==void 0)return w2(O)}(U),B=D.message;z===void 0&&(z=de.INTERNAL,B="Unknown error status: "+U+" with message "+D.message),T=!0,N.r_(new _e(z,B)),x.close()}else Ne(Qn,`RPC '${e}' stream ${a} received:`,E),N.i_(E)}}),L(h,zT.STAT_EVENT,I=>{I.stat===I0.PROXY?Ne(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===I0.NOPROXY&&Ne(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function t0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(n){return new T3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class k2{constructor(e,t,r,a,o,u,h,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new P2(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wM extends k2{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=A3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?Qs(u.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=U0(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=P0(f)?{documents:I3(o,f)}:{query:j3(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=T2(o,u.resumeToken);const p=L0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ye.min())>0){h.readTime=Uf(o,u.snapshotVersion.toTimestamp());const p=L0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=O3(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=U0(this.serializer),t.removeTarget=e,this.F_(t)}}class _M extends k2{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=R3(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=U0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>C3(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{}class TM extends EM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,V0(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(de.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,V0(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(de.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class SM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ii(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class NM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{zo(this)&&(Ne(Mo,"Restarting streams for network reachability change."),await async function(f){const p=Xe(f);p.aa.add(4),await wd(p),p.la.set("Unknown"),p.aa.delete(4),await wm(p)}(this))})}),this.la=new SM(r,a)}}async function wm(n){if(zo(n))for(const e of n.ua)await e(!0)}async function wd(n){for(const e of n.ua)await e(!1)}function L2(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Wy(t)?Xy(t):bc(t).b_()&&Yy(t,e))}function Ky(n,e){const t=Xe(n),r=bc(t);t._a.delete(e),r.b_()&&V2(t,e),t._a.size===0&&(r.b_()?r.v_():zo(t)&&t.la.set("Unknown"))}function Yy(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bc(n).U_(e)}function V2(n,e){n.ha.Ke(e),bc(n).K_(e)}function Xy(n){n.ha=new b3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),bc(n).start(),n.la.ta()}function Wy(n){return zo(n)&&!bc(n).w_()&&n._a.size>0}function zo(n){return Xe(n).aa.size===0}function z2(n){n.ha=void 0}async function AM(n){n.la.set("Online")}async function CM(n){n._a.forEach((e,t)=>{Yy(n,e)})}async function RM(n,e){z2(n),Wy(n)?(n.la.ia(e),Xy(n)):n.la.set("Unknown")}async function IM(n,e,t){if(n.la.set("Online"),e instanceof E2&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(r){Ne(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ff(n,r)}else if(e instanceof gf?n.ha.Xe(e):e instanceof _2?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await D2(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Fn.EMPTY_BYTE_STRING,y.snapshotVersion)),V2(o,f);const x=new wa(y.target,f,p,y.sequenceNumber);Yy(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ne(Mo,"Failed to raise snapshot:",r),await Ff(n,r)}}async function Ff(n,e,t){if(!xc(e))throw e;n.aa.add(1),await wd(n),n.la.set("Offline"),t||(t=()=>D2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(Mo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await wm(n)})}function U2(n,e){return e().catch(t=>Ff(n,t,e))}async function _m(n){const e=Xe(n),t=La(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Dy;for(;jM(e);)try{const a=await hM(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,MM(e,a)}catch(a){await Ff(e,a)}B2(e)&&F2(e)}function jM(n){return zo(n)&&n.oa.length<10}function MM(n,e){n.oa.push(e);const t=La(n);t.b_()&&t.W_&&t.G_(e.mutations)}function B2(n){return zo(n)&&!La(n).w_()&&n.oa.length>0}function F2(n){La(n).start()}async function OM(n){La(n).H_()}async function DM(n){const e=La(n);for(const t of n.oa)e.G_(t.mutations)}async function PM(n,e,t){const r=n.oa.shift(),a=By.from(r,e,t);await U2(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await _m(n)}async function kM(n,e){e&&La(n).W_&&await async function(r,a){if(function(u){return v3(u)&&u!==de.ABORTED}(a.code)){const o=r.oa.shift();La(r).D_(),await U2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await _m(r)}}(n,e),B2(n)&&F2(n)}async function E_(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ne(Mo,"RemoteStore received new credentials");const r=zo(t);t.aa.add(3),await wd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await wm(t)}async function LM(n,e){const t=Xe(n);e?(t.aa.delete(2),await wm(t)):e||(t.aa.add(2),await wd(t),t.la.set("Unknown"))}function bc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new wM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:AM.bind(null,n),Jo:CM.bind(null,n),Zo:RM.bind(null,n),Q_:IM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Wy(n)?Xy(n):n.la.set("Unknown")):(await n.Pa.stop(),z2(n))})),n.Pa}function La(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new _M(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:OM.bind(null,n),Zo:kM.bind(null,n),z_:DM.bind(null,n),j_:PM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await _m(n)):(await n.Ta.stop(),n.oa.length>0&&(Ne(Mo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new Zy(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),xc(n))return new _e(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Du(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Ia=new Xt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class hc{constructor(e,t,r,a,o,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new hc(e,t,zl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class zM{constructor(){this.queries=S_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=S_(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function S_(){return new Vo(n=>l2(n),pm)}async function ev(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new VM,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=Jy(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&nv(t)}async function tv(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function UM(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(r=!0);u.Aa=a}}r&&nv(t)}function BM(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function nv(n){n.fa.forEach(e=>{e.next()})}var q0,N_;(N_=q0||(q0={})).ya="default",N_.Cache="cache";class rv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==q0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.key=e}}class H2{constructor(e){this.key=e}}class FM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ht(),this.mutatedKeys=ht(),this.Ua=c2(e),this.Ka=new zl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new T_,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,x)=>{const w=a.get(y),T=gm(this.query,x)?x:null,N=!!w&&this.mutatedKeys.has(w.key),L=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;w&&T?w.data.isEqual(T.data)?N!==L&&(r.track({type:3,doc:T}),I=!0):this.ja(w,T)||(r.track({type:2,doc:T}),I=!0,(f&&this.Ua(T,f)>0||p&&this.Ua(T,p)<0)&&(h=!0)):!w&&T?(r.track({type:0,doc:T}),I=!0):w&&!T&&(r.track({type:1,doc:w}),I=!0,(f||p)&&(h=!0)),I&&(T?(u=u.add(T),o=L?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,x)=>function(T,N){const L=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:I})}};return L(T)-L(N)}(y.type,x.type)||this.Ua(y.doc,x.doc)),this.Ha(r),a=a!=null&&a;const h=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new hc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new T_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ht(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new H2(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new q2(r))}),t}Xa(e){this.qa=e.Ns,this.$a=ht();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return hc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const sv="SyncEngine";class qM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HM{constructor(e){this.key=e,this.tu=!1}}class $M{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Vo(h=>l2(h),pm),this.iu=new Map,this.su=new Set,this.ou=new Xt(Le.comparator),this._u=new Map,this.au=new Hy,this.uu={},this.cu=new Map,this.lu=dc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function GM(n,e,t=!0){const r=X2(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await $2(r,e,t,!0),a}async function QM(n,e){const t=X2(n);await $2(t,e,!0,!1)}async function $2(n,e,t,r){const a=await fM(n.localStore,Gs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await KM(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&L2(n.remoteStore,a),h}async function KM(n,e,t,r,a){n.Pu=(x,w,T)=>async function(L,I,R,E){let _=I.view.Ga(R);_.ys&&(_=await v_(L.localStore,I.query,!1).then(({documents:B})=>I.view.Ga(B,_)));const D=E&&E.targetChanges.get(I.targetId),U=E&&E.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(_,L.isPrimaryClient,D,U);return C_(L,I.targetId,z.Ya),z.snapshot}(n,x,w,T);const o=await v_(n.localStore,e,!0),u=new FM(e,o.Ns),h=u.Ga(o.documents),f=bd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,f);C_(n,t,p.Ya);const y=new qM(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function YM(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!pm(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await B0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ky(r.remoteStore,a.targetId),H0(r,a.targetId)}).catch(vc)):(H0(r,a.targetId),await B0(r.localStore,a.targetId,!0))}async function XM(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ky(t.remoteStore,r.targetId))}async function WM(n,e,t){const r=sO(n);try{const a=await function(u,h){const f=Xe(u),p=bn.now(),y=h.reduce((T,N)=>T.add(N.key),ht());let x,w;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let N=ji(),L=ht();return f.Cs.getEntries(T,y).next(I=>{N=I,N.forEach((R,E)=>{E.isValidDocument()||(L=L.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,N)).next(I=>{x=I;const R=[];for(const E of h){const _=f3(E,x.get(E.key).overlayedDocument);_!=null&&R.push(new Ba(E.key,_,t2(_.value.mapValue),ns.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,R,h)}).next(I=>{w=I;const R=I.applyToLocalDocumentSet(x,L);return f.documentOverlayCache.saveOverlays(T,I.batchId,R)})}).then(()=>({batchId:w.batchId,changes:d2(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let p=u.uu[u.currentUser.toKey()];p||(p=new Xt(nt)),p=p.insert(h,f),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,t),await _d(r,a.changes),await _m(r.remoteStore)}catch(a){const o=Jy(a,"Failed to persist write");t.reject(o)}}async function G2(n,e){const t=Xe(n);try{const r=await uM(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Rt(u.tu,14607):a.removedDocuments.size>0&&(Rt(u.tu,42227),u.tu=!1))}),await _d(t,r,e)}catch(r){await vc(r)}}function A_(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Xe(u);f.onlineState=h;let p=!1;f.queries.forEach((y,x)=>{for(const w of x.Ra)w.ga(h)&&(p=!0)}),p&&nv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZM(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Xt(Le.comparator);u=u.insert(o,Xn.newNoDocument(o,Ye.min()));const h=ht().add(o),f=new xm(Ye.min(),new Map,new Xt(nt),u,h);await G2(r,f),r.ou=r.ou.remove(o),r._u.delete(e),iv(r)}else await B0(r.localStore,e,!1).then(()=>H0(r,e,t)).catch(vc)}async function JM(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await cM(t.localStore,e);K2(t,r,null),Q2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _d(t,a)}catch(a){await vc(a)}}async function eO(n,e,t){const r=Xe(n);try{const a=await function(u,h){const f=Xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(x=>(Rt(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);K2(r,e,t),Q2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _d(r,a)}catch(a){await vc(a)}}function Q2(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function K2(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function H0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||Y2(n,r)})}function Y2(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ky(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),iv(n))}function C_(n,e,t){for(const r of t)r instanceof q2?(n.au.addReference(r.key,e),tO(n,r)):r instanceof H2?(Ne(sv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||Y2(n,r.key)):$e(19791,{Iu:r})}function tO(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ne(sv,"New document in limbo: "+t),n.su.add(r),iv(n))}function iv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new HM(t)),n.ou=n.ou.insert(t,r),L2(n.remoteStore,new wa(Gs(mm(t.path)),r,"TargetPurposeLimboResolution",um.le))}}async function _d(n,e,t){const r=Xe(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const x=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){a.push(p);const x=Gy.Ps(f.targetId,p);o.push(x)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,p){const y=Xe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>pe.forEach(p,w=>pe.forEach(w.ls,T=>y.persistence.referenceDelegate.addReference(x,w.targetId,T)).next(()=>pe.forEach(w.hs,T=>y.persistence.referenceDelegate.removeReference(x,w.targetId,T)))))}catch(x){if(!xc(x))throw x;Ne(Qy,"Failed to update sequence numbers: "+x)}for(const x of p){const w=x.targetId;if(!x.fromCache){const T=y.Ss.get(w),N=T.snapshotVersion,L=T.withLastLimboFreeSnapshotVersion(N);y.Ss=y.Ss.insert(w,L)}}}(r.localStore,o))}async function nO(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ne(sv,"User change. New user:",e.toKey());const r=await O2(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new _e(de.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(t,r.Ms)}}function rO(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return ht().add(r.key);{let a=ht();const o=t.iu.get(e);if(!o)return a;for(const u of o){const h=t.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function X2(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZM.bind(null,e),e.nu.Q_=UM.bind(null,e.eventManager),e.nu.Tu=BM.bind(null,e.eventManager),e}function sO(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return lM(this.persistence,new iM,e.initialUser,this.serializer)}Ru(e){return new M2($y.Ei,this.serializer)}Au(e){return new pM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class iO extends qf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Rt(this.persistence.referenceDelegate instanceof Bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H3(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new M2(r=>Bf.Ei(r,t),this.serializer)}}class $0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await LM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zM}()}createDatastore(e){const t=bm(e.databaseInfo.databaseId),r=function(o){return new bM(o)}(e.databaseInfo);return function(o,u,h,f){return new TM(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new NM(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>A_(this.syncEngine,t,0),function(){return w_.C()?new w_:new gM}())}createSyncEngine(e,t){return function(a,o,u,h,f,p,y){const x=new $M(a,o,u,h,f,p);return y&&(x.hu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ne(Mo,"RemoteStore shutting down."),o.aa.add(5),await wd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$0.provider={build:()=>new $0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="FirestoreClient";class aO{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ne(Va,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ne(Va,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function n0(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(Va,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await O2(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function R_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oO(n);Ne(Va,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>E_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>E_(e.remoteStore,a)),n._onlineComponents=e}async function oO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(Va,"Using user provided OfflineComponentProvider");try{await n0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ic("Error using user provided cache. Falling back to memory cache: "+t),await n0(n,new qf)}}else Ne(Va,"Using default OfflineComponentProvider"),await n0(n,new iO(void 0));return n._offlineComponents}async function W2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(Va,"Using user provided OnlineComponentProvider"),await R_(n,n._uninitializedComponentsProvider._online)):(Ne(Va,"Using default OnlineComponentProvider"),await R_(n,new $0))),n._onlineComponents}function lO(n){return W2(n).then(e=>e.syncEngine)}async function Hf(n){const e=await W2(n),t=e.eventManager;return t.onListen=GM.bind(null,e.syncEngine),t.onUnlisten=YM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XM.bind(null,e.syncEngine),t}function cO(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new av({next:w=>{y.yu(),u.enqueueAndForget(()=>tv(o,x));const T=w.docs.has(h);!T&&w.fromCache?p.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new rv(mm(h.path),y,{includeMetadataChanges:!0,Fa:!0});return ev(o,x)}(await Hf(n),n.asyncQueue,e,t,r)),r.promise}function uO(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new av({next:w=>{y.yu(),u.enqueueAndForget(()=>tv(o,x)),w.fromCache&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new rv(h,y,{includeMetadataChanges:!0,Fa:!0});return ev(o,x)}(await Hf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n,e,t){if(!t)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dO(n,e,t,r){if(e===!0&&r===!0)throw new _e(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function j_(n){if(!Le.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M_(n){if(Le.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function wr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Em(n);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hO(n,e){if(e<=0)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firestore.googleapis.com",O_=!0;class D_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eS,this.ssl=O_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:O_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F3)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x4;switch(r.type){case"firstParty":return new E4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=I_.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),I_.delete(t),r.terminate())}(this),Promise.resolve()}}function fO(n,e,t,r={}){var a;const o=(n=wr(n,Tm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==eS&&o.host!==h&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Ma(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yn.MOCK_USER;else{p=KI(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(x)}n._authCredentials=new b4(new qT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class tS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tS(this.firestore,e,this._query)}};class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ra extends Fa{constructor(e,t,r){super(e,t,mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Le(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=fn(n),J2("collection","path",e),n instanceof Tm){const r=Bt.fromString(e,...t);return M_(r),new Ra(n,null,r)}{if(!(n instanceof Wn||n instanceof Ra))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return M_(r),new Ra(n.firestore,null,r)}}function xs(n,e,...t){if(n=fn(n),arguments.length===1&&(e=$T.newId()),J2("doc","path",e),n instanceof Tm){const r=Bt.fromString(e,...t);return j_(r),new Wn(n,null,new Le(r))}{if(!(n instanceof Wn||n instanceof Ra))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return j_(r),new Wn(n.firestore,n instanceof Ra?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new P2(this,"async_queue_retry"),this.ju=()=>{const r=t0();r&&Ne(P_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=t0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=t0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ci;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!xc(e))throw e;Ne(P_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ii("INTERNAL UNHANDLED ERROR: ",L_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Zy.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&$e(47125,{ec:L_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function L_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Mi extends Tm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new k_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function mO(n,e){const t=typeof n=="object"?n:OT(),r=typeof n=="string"?n:Pf,a=My(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=GI("firestore");o&&fO(a,...o)}return a}function Sm(n){if(n._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pO(n),n._firestoreClient}function pO(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,p,y){return new V4(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Z2(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new aO(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Fn.fromBase64String(e))}catch(t){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^__.*__$/;class yO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new xd(e,this.data,t,this.fieldTransforms)}}class nS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{oc:n})}}class Am{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return $f(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(rS(this.oc)&&gO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class vO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bm(e)}dc(e,t,r,a=!1){return new Am({oc:e,methodName:t,Ec:r,path:Bn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(n){const e=n._freezeSettings(),t=bm(n._databaseId);return new vO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);dv("Data must be an object, but it was:",u,r);const h=aS(r,u);let f,p;if(o.merge)f=new Lr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const w=G0(e,x,t);if(!u.contains(w))throw new _e(de.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lS(y,w)||y.push(w)}f=new Lr(y),p=u.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,p=u.fieldTransforms;return new yO(new br(h),f,p)}class Cm extends Ed{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function xO(n,e,t){return new Am({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cv extends Ed{_toFieldTransform(e){return new v2(e.path,new td)}isEqual(e){return e instanceof cv}}class uv extends Ed{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=xO(this,e,!0),r=this.Ac.map(o=>wc(o,t)),a=new uc(r);return new v2(e.path,a)}isEqual(e){return e instanceof uv&&Ma(this.Ac,e.Ac)}}function bO(n,e,t,r){const a=n.dc(1,e,t);dv("Data must be an object, but it was:",a,r);const o=[],u=br.empty();Ua(r,(f,p)=>{const y=hv(e,f,t);p=fn(p);const x=a.hc(y);if(p instanceof Cm)o.push(y);else{const w=wc(p,x);w!=null&&(o.push(y),u.set(y,w))}});const h=new Lr(o);return new nS(u,h,a.fieldTransforms)}function wO(n,e,t,r,a,o){const u=n.dc(1,e,t),h=[G0(e,r,t)],f=[a];if(o.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(G0(e,o[w])),f.push(o[w+1]);const p=[],y=br.empty();for(let w=h.length-1;w>=0;--w)if(!lS(p,h[w])){const T=h[w];let N=f[w];N=fn(N);const L=u.hc(T);if(N instanceof Cm)p.push(T);else{const I=wc(N,L);I!=null&&(p.push(T),y.set(T,I))}}const x=new Lr(p);return new nS(y,x,u.fieldTransforms)}function iS(n,e,t,r=!1){return wc(t,n.dc(r?4:3,e))}function wc(n,e){if(oS(n=fn(n)))return dv("Unsupported field value:",e,n),aS(n,e);if(n instanceof Ed)return function(r,a){if(!rS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let f=wc(h,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bn.fromDate(r);return{timestampValue:Uf(a.serializer,o)}}if(r instanceof bn){const o=new bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(a.serializer,o)}}if(r instanceof ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:T2(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof lv)return function(u,h){return{mapValue:{fields:{[JT]:{stringValue:e2},[kf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return zy(h.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Em(r)}`)}(n,e)}function aS(n,e){const t={};return QT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(n,(r,a)=>{const o=wc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function oS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof ov||n instanceof fc||n instanceof Wn||n instanceof Ed||n instanceof lv)}function dv(n,e,t){if(!oS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Em(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function G0(n,e,t){if((e=fn(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return hv(n,e);throw $f("Field path arguments must be of type string or ",n,!1,void 0,t)}const _O=new RegExp("[~\\*/\\[\\]]");function hv(n,e,t){if(e.search(_O)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nm(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $f(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new _e(de.INVALID_ARGUMENT,h+n+f)}function lS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class EO extends fv{data(){return super.data()}}function Rm(n,e){return typeof e=="string"?hv(n,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class Im extends mv{}function Zs(n,e,...t){let r=[];e instanceof mv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof pv).length,h=o.filter(f=>f instanceof jm).length;if(u>1||u>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class jm extends Im{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jm(e,t,r)}_apply(e){const t=this._parse(e);return uS(e._query,t),new Fa(e.firestore,e.converter,k0(e._query,t))}_parse(e){const t=Td(e.firestore);return function(o,u,h,f,p,y,x){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){U_(x,y);const N=[];for(const L of x)N.push(z_(f,o,L));w={arrayValue:{values:N}}}else w=z_(f,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||U_(x,y),w=iS(h,u,x,y==="in"||y==="not-in");return hn.create(p,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _a(n,e,t){const r=e,a=Rm("where",n);return jm._create(a,r,t)}class pv extends mv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)uS(u,f),u=k0(u,f)}(e._query,t),new Fa(e.firestore,e.converter,k0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gv extends Im{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(o,u)}(e._query,this._field,this._direction);return new Fa(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Lo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Q0(n,e="asc"){const t=e,r=Rm("orderBy",n);return gv._create(r,t)}class yv extends Im{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yv(e,t,r)}_apply(e){return new Fa(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function mc(n){return hO("limit",n),yv._create("limit",n,"F")}class vv extends Im{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vv(e,t,r)}_apply(e){const t=TO(e,this.type,this._docOrFields,this._inclusive);return new Fa(e.firestore,e.converter,function(a,o){return new Lo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function xv(...n){return vv._create("startAfter",n,!1)}function TO(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof fv)return function(o,u,h,f,p){if(!f)throw new _e(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const x of Vl(o))if(x.field.isKeyField())y.push(Lf(u,f.key));else{const w=f.data.field(x.field);if(hm(w))throw new _e(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=x.field.canonicalString();throw new _e(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}y.push(w)}return new cc(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Td(n.firestore);return function(u,h,f,p,y,x){const w=u.explicitOrderBy;if(y.length>w.length)throw new _e(de.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let N=0;N<y.length;N++){const L=y[N];if(w[N].field.isKeyField()){if(typeof L!="string")throw new _e(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof L}`);if(!Vy(u)&&L.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${L}' contains a slash.`);const I=u.path.child(Bt.fromString(L));if(!Le.isDocumentKey(I))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const R=new Le(I);T.push(Lf(h,R))}else{const I=iS(f,p,L);T.push(I)}}return new cc(T,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function z_(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vy(e)&&t.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lf(n,new Le(r))}if(t instanceof Wn)return Lf(n,t._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(t)}.`)}function U_(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class SO{convertValue(e,t="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ua(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[kf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>rn(u.doubleValue));return new lv(o)}convertGeoPoint(e){return new ov(rn(e.latitude),rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=Da(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);Rt(I2(r),9688,{name:e});const a=new Zu(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ii(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hS extends fv{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class yf extends hS{data(e={}){return super.data(e)}}class fS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ku(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yf(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ku(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new yf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ku(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:NO(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){n=wr(n,Wn);const e=wr(n.firestore,Mi);return cO(Sm(e),n._key).then(t=>pS(e,n,t))}class bv extends SO{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function ss(n){n=wr(n,Fa);const e=wr(n.firestore,Mi),t=Sm(e),r=new bv(e);return cS(n._query),uO(t,n._query).then(a=>new fS(e,r,n,a))}function Qf(n,e,t){n=wr(n,Wn);const r=wr(n.firestore,Mi),a=dS(n.converter,e,t);return Om(r,[sS(Td(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ns.none())])}function Mm(n,e,t,...r){n=wr(n,Wn);const a=wr(n.firestore,Mi),o=Td(a);let u;return u=typeof(e=fn(e))=="string"||e instanceof Nm?wO(o,"updateDoc",n._key,e,t,r):bO(o,"updateDoc",n._key,e),Om(a,[u.toMutation(n._key,ns.exists(!0))])}function mS(n){return Om(wr(n.firestore,Mi),[new Uy(n._key,ns.none())])}function AO(n,e){const t=wr(n.firestore,Mi),r=xs(n),a=dS(n.converter,e);return Om(t,[sS(Td(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then(()=>r)}function CO(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||V_(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(V_(e[u])){const x=e[u];e[u]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[u+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[u+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let f,p,y;if(n instanceof Wn)p=wr(n.firestore,Mi),y=mm(n._key.path),f={next:x=>{e[u]&&e[u](pS(p,n,x))},error:e[u+1],complete:e[u+2]};else{const x=wr(n,Fa);p=wr(x.firestore,Mi),y=x._query;const w=new bv(p);f={next:T=>{e[u]&&e[u](new fS(p,w,x,T))},error:e[u+1],complete:e[u+2]},cS(n._query)}return function(w,T,N,L){const I=new av(L),R=new rv(T,I,N);return w.asyncQueue.enqueueAndForget(async()=>ev(await Hf(w),R)),()=>{I.yu(),w.asyncQueue.enqueueAndForget(async()=>tv(await Hf(w),R))}}(Sm(p),y,h,f)}function Om(n,e){return function(r,a){const o=new Ci;return r.asyncQueue.enqueueAndForget(async()=>WM(await lO(r),a,o)),o.promise}(Sm(n),e)}function pS(n,e,t){const r=t.docs.get(e._key),a=new bv(n);return new hS(n,a,e._key,r,new ku(t.hasPendingWrites,t.fromCache),e.converter)}function RO(){return new cv("serverTimestamp")}function IO(...n){return new uv("arrayUnion",n)}(function(e,t=!0){(function(a){yc=a})(gc),sc(new Io("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Mi(new w4(r.getProvider("auth-internal")),new T4(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(p.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Aa(F1,q1,e),Aa(F1,q1,"esm2017")})();var jO="firebase",MO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(jO,MO,"app");function wv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function gS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OO=gS,yS=new yd("auth","Firebase",gS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Iy("@firebase/auth");function DO(n,...e){Kf.logLevel<=dt.WARN&&Kf.warn(`Auth (${gc}): ${n}`,...e)}function vf(n,...e){Kf.logLevel<=dt.ERROR&&Kf.error(`Auth (${gc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,...e){throw _v(n,...e)}function Ks(n,...e){return _v(n,...e)}function vS(n,e,t){const r=Object.assign(Object.assign({},OO()),{[e]:t});return new yd("auth","Firebase",r).create(e,{appName:n.name})}function Ia(n){return vS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yS.create(n,...e)}function He(n,e,...t){if(!n)throw _v(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vf(e),new Error(e)}function Oi(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PO(){return B_()==="http:"||B_()==="https:"}function B_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PO()||ZI()||"connection"in navigator)?navigator.onLine:!0}function LO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=YI()||JI()}get(){return kO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UO=new Sd(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qa(n,e,t,r,a={}){return bS(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=vd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return WI()||(p.referrerPolicy="no-referrer"),xS.fetch()(await wS(n,n.config.apiHost,t,h),p)})}async function bS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},VO),e);try{const a=new FO(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw ef(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw ef(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vS(n,y,p);bs(n,y)}}catch(a){if(a instanceof Di)throw a;bs(n,"network-request-failed",{message:String(a)})}}async function Dm(n,e,t,r,a={}){const o=await qa(n,e,t,r,a);return"mfaPendingCredential"in o&&bs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function wS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?Ev(n.config,a):`${n.config.apiScheme}://${a}`;return zO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function BO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),UO.get())})}}function ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ks(n,e,r);return a.customData._tokenResponse=t,a}function F_(n){return n!==void 0&&n.enterprise!==void 0}class qO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HO(n,e){return qa(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(n,e){return qa(n,"POST","/v1/accounts:delete",e)}async function Yf(n,e){return qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=Tv(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Hu(r0(a.auth_time)),issuedAtTime:Hu(r0(a.iat)),expirationTime:Hu(r0(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function r0(n){return Number(n)*1e3}function Tv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=NT(t);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function q_(n){const e=Tv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Di&&QO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n){var e;const t=n.auth,r=await n.getIdToken(),a=await rd(n,Yf(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_S(o.providerUserInfo):[],h=XO(n.providerData,u),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Y0(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function YO(n){const e=fn(n);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XO(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function _S(n){return n.map(e=>{var{providerId:t}=e,r=wv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,e){const t=await bS(n,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await wS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",xS.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZO(n,e){return qa(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=q_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await WO(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ul;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=wv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Y0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await rd(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GO(this,e)}reload(){return YO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ms(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await rd(this,$O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,f,p,y;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,I=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,R=(p=t.createdAt)!==null&&p!==void 0?p:void 0,E=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:_,emailVerified:D,isAnonymous:U,providerData:z,stsTokenManager:B}=t;He(_&&B,e,"internal-error");const M=Ul.fromJSON(this.name,B);He(typeof _=="string",e,"internal-error"),ia(x,e.name),ia(w,e.name),He(typeof D=="boolean",e,"internal-error"),He(typeof U=="boolean",e,"internal-error"),ia(T,e.name),ia(N,e.name),ia(L,e.name),ia(I,e.name),ia(R,e.name),ia(E,e.name);const j=new ps({uid:_,auth:e,email:w,emailVerified:D,displayName:x,isAnonymous:U,photoURL:N,phoneNumber:T,tenantId:L,stsTokenManager:M,createdAt:R,lastLoginAt:E});return z&&Array.isArray(z)&&(j.providerData=z.map(O=>Object.assign({},O))),I&&(j._redirectEventId=I),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ul;a.updateFromServerResponse(t);const o=new ps({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Xf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?_S(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Ul;h.updateFromIdToken(r);const f=new ps({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Y0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function Ai(n){Oi(n instanceof Function,"Expected a class definition");let e=H_.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,H_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ES.type="NONE";const $_=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n,e,t){return`firebase:${n}:${e}:${t}`}class Bl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=xf(this.userKey,a.apiKey,o),this.fullPersistenceKey=xf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yf(this.auth,{idToken:e}).catch(()=>{});return t?ps._fromGetAccountInfoResponse(this.auth,t,e):null}return ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bl(Ai($_),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ai($_);const u=xf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let x;if(typeof y=="string"){const w=await Yf(e,{idToken:y}).catch(()=>{});if(!w)break;x=await ps._fromGetAccountInfoResponse(e,w,y)}else x=ps._fromJSON(e,y);p!==o&&(h=x),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bl(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RS(e))return"Blackberry";if(IS(e))return"Webos";if(SS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(CS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TS(n=Jn()){return/firefox\//i.test(n)}function SS(n=Jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(n=Jn()){return/crios\//i.test(n)}function AS(n=Jn()){return/iemobile/i.test(n)}function CS(n=Jn()){return/android/i.test(n)}function RS(n=Jn()){return/blackberry/i.test(n)}function IS(n=Jn()){return/webos/i.test(n)}function Sv(n=Jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JO(n=Jn()){var e;return Sv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eD(){return ej()&&document.documentMode===10}function jS(n=Jn()){return Sv(n)||CS(n)||IS(n)||RS(n)||/windows phone/i.test(n)||AS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e=[]){let t;switch(n){case"Browser":t=G_(Jn());break;case"Worker":t=`${G_(Jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e={}){return qa(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=6;class sD{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:rD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new tD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yf(this,{idToken:e}),r=await ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ms(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ms(this.app))return Promise.reject(Ia(this));const t=e?fn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ms(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ms(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nD(this),t=new sD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&DO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _c(n){return fn(n)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lj(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aD(n){Pm=n}function OS(n){return Pm.loadJS(n)}function oD(){return Pm.recaptchaEnterpriseScript}function lD(){return Pm.gapiScript}function cD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uD{constructor(){this.enterprise=new dD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hD="recaptcha-enterprise",DS="NO_RECAPTCHA";class fD{constructor(e){this.type=hD,this.auth=_c(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{HO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new qO(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;F_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(DS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&F_(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oD();f.length!==0&&(f+=h),OS(f).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function K_(n,e,t,r=!1,a=!1){const o=new fD(n);let u;if(a)u=DS;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Y_(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await K_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await K_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n,e){const t=My(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ma(o,e??{}))return a;bs(a,"already-initialized")}return t.initialize({options:e})}function pD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gD(n,e,t){const r=_c(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=PS(e),{host:u,port:h}=yD(e),f=h===null?"":`:${h}`,p={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ma(p,r.config.emulator)&&Ma(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,vD()}function PS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yD(n){const e=PS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:X_(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:X_(u)}}}function X_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function xD(n,e){return qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e){return Dm(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,e){return Dm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function _D(n,e){return Dm(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Nv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new sd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new sd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,t,"signInWithPassword",bD);case"emailLink":return wD(e,{email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,r,"signUpPassword",xD);case"emailLink":return _D(e,{idToken:t,email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e){return Dm(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="http://localhost";class Oo extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=wv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Oo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fl(e,t)}buildRequest(){const e={requestUri:ED,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SD(n){const e=ju(Mu(n)).link,t=e?ju(Mu(e)).deep_link_id:null,r=ju(Mu(n)).deep_link_id;return(r?ju(Mu(r)).link:null)||r||t||e||n}class Av{constructor(e){var t,r,a,o,u,h;const f=ju(Mu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,x=TD((a=f.mode)!==null&&a!==void 0?a:null);He(p&&y&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=SD(e);try{return new Av(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.providerId=Ec.PROVIDER_ID}static credential(e,t){return sd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Av.parseLink(t);return He(r,"argument-error"),sd._fromEmailAndCode(e,r.code,r.tenantId)}}Ec.PROVIDER_ID="password";Ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends kS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Nd{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oo._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ua.credential(t,r)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Nd{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Nd{constructor(){super("twitter.com")}static credential(e,t){return Oo._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ha.credential(t,r)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await ps._fromIdTokenResponse(e,r,a),u=W_(r);return new pc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=W_(r);return new pc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function W_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Di{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Wf(e,t,r,a)}}function LS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(n,o,e,r):o})}async function ND(n,e,t=!1){const r=await rd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(n,e,t=!1){const{auth:r}=n;if(ms(r.app))return Promise.reject(Ia(r));const a="reauthenticate";try{const o=await rd(n,LS(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=Tv(o.idToken);He(u,r,"internal-error");const{sub:h}=u;return He(n.uid===h,r,"user-mismatch"),pc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(n,e,t=!1){if(ms(n.app))return Promise.reject(Ia(n));const r="signIn",a=await LS(n,r,e),o=await pc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function CD(n,e){return VS(_c(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(n){const e=_c(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ID(n,e,t){return ms(n.app)?Promise.reject(Ia(n)):CD(fn(n),Ec.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RD(n),r})}function jD(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function MD(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function OD(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function DD(n){return fn(n).signOut()}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,kD=10;class US extends zS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);eD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},PD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const LD=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends zS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BS.type="SESSION";const FS=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,o)),f=await VD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=Cv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(x){const w=x;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function UD(n){Ys().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function BD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qD(){return qS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebaseLocalStorageDb",HD=1,Jf="firebaseLocalStorage",$S="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lm(n,e){return n.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function $D(){const n=indexedDB.deleteDatabase(HS);return new Ad(n).toPromise()}function X0(){const n=indexedDB.open(HS,HD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jf,{keyPath:$S})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Jf)?e(r):(r.close(),await $D(),e(await X0()))})})}async function Z_(n,e,t){const r=Lm(n,!0).put({[$S]:e,value:t});return new Ad(r).toPromise()}async function GD(n,e){const t=Lm(n,!1).get(e),r=await new Ad(t).toPromise();return r===void 0?null:r.value}function J_(n,e){const t=Lm(n,!0).delete(e);return new Ad(t).toPromise()}const QD=800,KD=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>KD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(qD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await X0();return await Z_(e,Zf,"1"),await J_(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>GD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Lm(a,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const YD=GS;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n,e){return e?Ai(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WD(n){return VS(n.auth,new Rv(n),n.bypassAuthState)}function ZD(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),AD(t,new Rv(n),n.bypassAuthState)}async function JD(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),ND(t,new Rv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return JD;case"reauthViaPopup":case"reauthViaRedirect":return ZD;default:bs(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Sd(2e3,1e4);class Dl extends QS{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eP.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="pendingRedirect",bf=new Map;class nP extends QS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await rP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rP(n,e){const t=aP(e),r=iP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function sP(n,e){bf.set(n._key(),e)}function iP(n){return Ai(n._redirectPersistence)}function aP(n){return xf(tP,n.config.apiKey,n.name)}async function oP(n,e,t=!1){if(ms(n.app))return Promise.reject(Ia(n));const r=_c(n),a=XD(r,e),u=await new nP(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=10*60*1e3;class cP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KS(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ks(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lP&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e={}){return qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fP=/^https?/;async function mP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dP(n);for(const t of e)try{if(pP(t))return}catch{}bs(n,"unauthorized-domain")}function pP(n){const e=K0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fP.test(t))return!1;if(hP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Sd(3e4,6e4);function tE(){const n=Ys().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yP(n){return new Promise((e,t)=>{var r,a,o;function u(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),t(Ks(n,"network-request-failed"))},timeout:gP.get()})}if(!((a=(r=Ys().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ys().gapi)===null||o===void 0)&&o.load)u();else{const h=cD("iframefcb");return Ys()[h]=()=>{gapi.load?u():t(Ks(n,"network-request-failed"))},OS(`${lD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw wf=null,e})}let wf=null;function vP(n){return wf=wf||yP(n),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new Sd(5e3,15e3),bP="__/auth/iframe",wP="emulator/auth/iframe",_P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ev(e,wP):`https://${n.config.authDomain}/${bP}`,r={apiKey:e.apiKey,appName:n.name,v:gc},a=EP.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vd(r).slice(1)}`}async function SP(n){const e=await vP(n),t=Ys().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:TP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_P,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ks(n,"network-request-failed"),h=Ys().setTimeout(()=>{o(u)},xP.get());function f(){Ys().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AP=500,CP=600,RP="_blank",IP="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jP(n,e,t,r=AP,a=CP){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},NP),{width:r.toString(),height:a.toString(),top:o,left:u}),p=Jn().toLowerCase();t&&(h=NS(p)?RP:t),TS(p)&&(e=e||IP,f.scrollbars="yes");const y=Object.entries(f).reduce((w,[T,N])=>`${w}${T}=${N},`,"");if(JO(p)&&h!=="_self")return MP(e||"",h),new nE(null);const x=window.open(e||"",h,y);He(x,n,"popup-blocked");try{x.focus()}catch{}return new nE(x)}function MP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="__/auth/handler",DP="emulator/auth/handler",PP=encodeURIComponent("fac");async function rE(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:gc,eventId:a};if(e instanceof kS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",oj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))u[y]=x}if(e instanceof Nd){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${PP}=${encodeURIComponent(f)}`:"";return`${kP(n)}?${vd(h).slice(1)}${p}`}function kP({config:n}){return n.emulator?Ev(n,DP):`https://${n.authDomain}/${OP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="webStorageSupport";class LP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=oP,this._overrideRedirectResult=sP}async _openPopup(e,t,r,a){var o;Oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await rE(e,t,r,K0(),a);return jP(e,u,Cv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await rE(e,t,r,K0(),a);return UD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Oi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SP(e),r=new cP(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(s0,{type:s0},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[s0];u!==void 0&&t(!!u),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jS()||SS()||Sv()}}const VP=LP;var sE="@firebase/auth",iE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BP(n){sc(new Io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},p=new iD(r,a,o,f);return pD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sc(new Io("auth-internal",e=>{const t=_c(e.getProvider("auth").getImmediate());return(r=>new zP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(sE,iE,UP(n)),Aa(sE,iE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=5*60,qP=RT("authIdTokenMaxAge")||FP;let aE=null;const HP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qP)return;const a=t==null?void 0:t.token;aE!==a&&(aE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $P(n=OT()){const e=My(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mD(n,{popupRedirectResolver:VP,persistence:[YD,LD,FS]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=HP(o.toString());MD(t,u,()=>u(t.currentUser)),jD(t,h=>u(h))}}const a=AT("auth");return a&&gD(t,`http://${a}`),t}function GP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Ks("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",GP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BP("Browser");const QP={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},KP=MT(QP),i0=$P(),Ft=mO(KP),YP=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await ss(Zn(Ft,"headline")),a=[];r.forEach(o=>{const u=o.data();u.news&&a.push(u.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),d.jsxs("div",{className:"w-[100%] md:w-[80%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[d.jsxs("div",{className:"shrink-0 whitespace-nowrap text-[16px] md:text-[18px]",children:[" ",d.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})]}),d.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:d.jsx(wT,{children:n.map((t,r)=>d.jsx("span",{className:"mx-4",children:t},r))})}),d.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 shrink-0 text-[20px] md:text-[24px]",children:[" ",d.jsx("a",{href:"",children:d.jsx(PI,{})}),d.jsx("a",{href:"",children:d.jsx(LI,{})}),d.jsx("a",{href:"",children:d.jsx(kI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),oE=n=>{const e=WP(n);return e.charAt(0).toUpperCase()+e.slice(1)},YS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),ZP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},f)=>q.createElement("svg",{ref:f,...JP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:YS("lucide",a),...!o&&!ZP(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(ek,{ref:o,iconNode:e,className:YS(`lucide-${XP(oE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=oE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jl=_n("chevron-down",tk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ml=_n("chevron-up",nk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Sl=_n("clock",rk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ik=_n("credit-card",sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],ok=_n("facebook",ak);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ck=_n("house",lk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],dk=_n("instagram",uk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],fk=_n("list",hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lE=_n("mail",mk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cE=_n("map-pin",pk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],yk=_n("menu",gk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M5 12h14",key:"1ays0h"}]],xk=_n("minus",vk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wk=_n("package",bk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],_f=_n("phone",_k);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tk=_n("plus",Ek);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uE=_n("search",Sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ef=_n("shopping-cart",Nk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ck=_n("twitter",Ak);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$u=_n("x",Rk),dE="/assets/Screenshot_4-Photoroom-removebg-preview-DZTFVgoJ.png",Ik=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=q.useState(t);q.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},u=()=>r.reduce((p,y)=>{const x=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(x)*y.quantity},0),h=p=>{const y=r.filter(x=>x.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},f=(p,y)=>{const x=r.map(w=>{if(w.id===p){const T=w.quantity+y;return{...w,quantity:T>0?T:1}}return w});a(x),localStorage.setItem("cart",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:x}))};return d.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:d.jsx("div",{className:"w-screen max-w-md",children:d.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[d.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:d.jsx($u,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?d.jsxs("div",{className:"text-center mt-12",children:[d.jsx(Ef,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-6",children:d.jsx(it,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):d.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var w,T;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),x=Math.floor(y)*p.quantity;return d.jsxs("li",{className:"py-6 flex gap-4",children:[d.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:d.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[d.jsx("h3",{children:p.name}),d.jsxs("p",{children:["৳",o(x)]})]}),((w=p.color)==null?void 0:w.name)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:p.color.name})]}),((T=p.size)==null?void 0:T.size)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:p.size.size})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>f(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(xk,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm",children:p.quantity}),d.jsx("button",{onClick:()=>f(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(Tk,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-500",children:d.jsx($u,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&d.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("p",{children:"Subtotal"}),d.jsxs("p",{children:["৳",o(u())]})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),d.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[d.jsx(it,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),d.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},jk=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[u,h]=q.useState([]),[f,p]=q.useState(!0),[y,x]=q.useState(0),[w,T]=q.useState(!1),[N,L]=q.useState([]),[I,R]=q.useState(""),[E,_]=q.useState([]),[D,U]=q.useState([]),[z,B]=q.useState(!1);q.useEffect(()=>{const C=async()=>{try{const ae=Zs(Zn(Ft,"menu-categories"),Q0("order")),$=await ss(ae),ie=[];$.forEach(oe=>{ie.push({id:oe.id,...oe.data()})}),h(ie),p(!1)}catch(ae){console.error("Error fetching menu items:",ae),p(!1)}},J=async()=>{try{const ae=Zn(Ft,"products"),$=Zs(ae),ie=await ss($),oe=[];ie.forEach(xe=>{oe.push({id:xe.id,...xe.data()})}),U(oe)}catch(ae){console.error("Error fetching products:",ae)}};C(),J()},[]),q.useEffect(()=>{const C=()=>{const J=JSON.parse(localStorage.getItem("cart"))||[],ae=J.reduce(($,ie)=>$+ie.quantity,0);x(ae),L(J)};return C(),window.addEventListener("storage",C),window.addEventListener("cartUpdated",C),()=>{window.removeEventListener("storage",C),window.removeEventListener("cartUpdated",C)}},[]),q.useEffect(()=>{if(I.trim()===""){_([]);return}const C=I.toLowerCase(),J=D.filter(ae=>{const $=ae.id.toLowerCase().includes(C),ie=ae.tags&&ae.tags.some(oe=>oe.toLowerCase().includes(C));return $||ie});_(J.slice(0,5))},[I,D]);const M=C=>{o(J=>J===C?null:C)},j=()=>{e(!0)},O=C=>{R(C.target.value)},P=C=>{C.preventDefault(),E.length>0&&(window.location.href=`/product/${E[0].id}`)},k=()=>{B(!z),R(""),_([])};return f?d.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[z&&d.jsx("div",{className:"md:hidden bg-white p-3 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsxs("form",{onSubmit:P,className:"flex items-center",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",value:I,onChange:O,autoFocus:!0}),d.jsx("button",{type:"button",onClick:k,className:"ml-2 text-gray-500 hover:text-gray-700",children:d.jsx($u,{size:24})})]}),E.length>0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md",children:E.map(C=>d.jsx(it,{to:`/product/${C.id}`,className:"block px-4 py-2 hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>{B(!1),R("")},children:C.id},C.id))}),I&&E.length===0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md px-4 py-2 text-gray-500",children:"No products found"})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsx(it,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),u.map(C=>C.type==="dropdown"?d.jsxs("div",{className:"group relative",children:[d.jsx(it,{to:`/category/${C.id}`,className:"text-gray-700 hover:text-black capitalize",children:C.id}),d.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:C.items.map(J=>d.jsx(it,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},C.id):d.jsx(it,{to:C.path,className:"text-gray-700 hover:text-black capitalize",children:C.id},C.id))]}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(it,{to:"/",children:d.jsx("img",{src:dE,alt:"Brand Logo",className:"h-[80px] w-auto"})})}),d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(it,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),d.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:u.filter(C=>C.type==="dropdown").map(C=>d.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:C.id}),d.jsx("div",{className:"space-y-1",children:C.items.map(J=>d.jsx(it,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},C.id))})]}),d.jsx(it,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),d.jsxs("button",{onClick:()=>T(!0),className:"text-gray-700 hover:text-black relative",children:[d.jsx(Ef,{size:20}),y>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:d.jsx(uE,{size:20})}),t&&d.jsxs("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded w-64",children:[d.jsx("form",{onSubmit:P,children:d.jsx("input",{type:"text",placeholder:"Search products...",className:"px-2 py-1 border border-gray-300 rounded w-full focus:outline-none",value:I,onChange:O,autoFocus:!0})}),E.length>0&&d.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:E.map(C=>d.jsx(it,{to:`/product/${C.id}`,className:"block px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>{r(!1),R("")},children:C.id},C.id))}),I&&E.length===0&&d.jsx("div",{className:"mt-2 text-sm text-gray-500 px-2 py-1",children:"No products found"})]})]})]})]}),d.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:()=>{e(!n),B(!1)},children:n?d.jsx($u,{size:24}):d.jsx(yk,{size:24})})}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(it,{to:"/",children:d.jsx("img",{src:dE,alt:"Brand Logo",className:"h-[70px] w-auto"})})}),d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:k,className:"text-gray-700 hover:text-black",children:z?d.jsx($u,{size:24}):d.jsx(uE,{size:24})})})]})]}),n&&!z&&d.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[d.jsx(it,{to:"/",className:"block font-semibold",children:"Home"}),u.map(C=>C.type==="dropdown"?d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>M(C.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[C.id,a===C.id?d.jsx(Ml,{size:18}):d.jsx(jl,{size:18})]}),a===C.id&&d.jsx("div",{className:"ml-4 mt-2 space-y-1",children:C.items.map(J=>d.jsx(it,{to:`${J.path}`,className:"block capitalize",children:J.name},J.path))})]},C.id):d.jsx(it,{to:C.path,className:"block font-semibold capitalize",children:C.id},C.id)),d.jsx(it,{to:"/cart",className:"block font-semibold",children:"Orders"}),d.jsxs("button",{onClick:()=>{e(!1),T(!0)},className:"flex items-center space-x-2 relative",children:[d.jsx(Ef,{size:20}),d.jsx("span",{children:"Cart"}),y>0&&d.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]})]})]}),!z&&d.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:d.jsxs("div",{className:"flex justify-around items-center h-16",children:[d.jsxs(it,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(ck,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),d.jsxs("button",{onClick:j,className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(fk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),d.jsxs(it,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(wk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),d.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[d.jsx(Ef,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&d.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),d.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(_f,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),d.jsx(Ik,{isOpen:w,onClose:()=>T(!1),cartItems:N})]})},Mk=()=>d.jsx("div",{children:d.jsx("div",{children:d.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:d.jsx(wT,{children:"hnbkjbndsfh;kln"})})})});var Cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Do=typeof window>"u"||"Deno"in globalThis;function xr(){}function Ok(n,e){return typeof n=="function"?n(e):n}function W0(n){return typeof n=="number"&&n>=0&&n!==1/0}function XS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ql(n,e){return typeof n=="function"?n(e):n}function fs(n,e){return typeof n=="function"?n(e):n}function hE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==Iv(u,e.options))return!1}else if(!ad(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function fE(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(id(e.options.mutationKey)!==id(o))return!1}else if(!ad(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Iv(n,e){return((e==null?void 0:e.queryKeyHashFn)||id)(n)}function id(n){return JSON.stringify(n,(e,t)=>J0(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ad(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ad(n[t],e[t])):!1}function WS(n,e){if(n===e)return n;const t=mE(n)&&mE(e);if(t||J0(n)&&J0(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,h=t?[]:{};let f=0;for(let p=0;p<u;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,f++):(h[y]=WS(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&f++)}return a===u&&f===a?n:h}return e}function Z0(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function mE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function J0(n){if(!pE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!pE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function pE(n){return Object.prototype.toString.call(n)==="[object Object]"}function Dk(n){return new Promise(e=>{setTimeout(e,n)})}function ey(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?WS(n,e):e}function Pk(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function kk(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var jv=Symbol();function ZS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===jv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Lk(n,e){return typeof n=="function"?n(...e):!!n}var wo,fa,$l,UE,Vk=(UE=class extends Cd{constructor(){super();Qe(this,wo);Qe(this,fa);Qe(this,$l);Ie(this,$l,e=>{if(!Do&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,fa)||this.setEventListener(Y(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,fa))==null||e.call(this),Ie(this,fa,void 0))}setEventListener(e){var t;Ie(this,$l,e),(t=Y(this,fa))==null||t.call(this),Ie(this,fa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,wo)!==e&&(Ie(this,wo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,wo)=="boolean"?Y(this,wo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wo=new WeakMap,fa=new WeakMap,$l=new WeakMap,UE),Mv=new Vk,Gl,ma,Ql,BE,zk=(BE=class extends Cd{constructor(){super();Qe(this,Gl,!0);Qe(this,ma);Qe(this,Ql);Ie(this,Ql,e=>{if(!Do&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,ma)||this.setEventListener(Y(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ma))==null||e.call(this),Ie(this,ma,void 0))}setEventListener(e){var t;Ie(this,Ql,e),(t=Y(this,ma))==null||t.call(this),Ie(this,ma,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Gl)!==e&&(Ie(this,Gl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Gl)}},Gl=new WeakMap,ma=new WeakMap,Ql=new WeakMap,BE),em=new zk;function ty(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Uk(n){return Math.min(1e3*2**n,3e4)}function JS(n){return(n??"online")==="online"?em.isOnline():!0}var eN=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function a0(n){return n instanceof eN}function tN(n){let e=!1,t=0,r=!1,a;const o=ty(),u=L=>{var I;r||(w(new eN(L)),(I=n.abort)==null||I.call(n))},h=()=>{e=!0},f=()=>{e=!1},p=()=>Mv.isFocused()&&(n.networkMode==="always"||em.isOnline())&&n.canRun(),y=()=>JS(n.networkMode)&&n.canRun(),x=L=>{var I;r||(r=!0,(I=n.onSuccess)==null||I.call(n,L),a==null||a(),o.resolve(L))},w=L=>{var I;r||(r=!0,(I=n.onError)==null||I.call(n,L),a==null||a(),o.reject(L))},T=()=>new Promise(L=>{var I;a=R=>{(r||p())&&L(R)},(I=n.onPause)==null||I.call(n)}).then(()=>{var L;a=void 0,r||(L=n.onContinue)==null||L.call(n)}),N=()=>{if(r)return;let L;const I=t===0?n.initialPromise:void 0;try{L=I??n.fn()}catch(R){L=Promise.reject(R)}Promise.resolve(L).then(x).catch(R=>{var z;if(r)return;const E=n.retry??(Do?0:3),_=n.retryDelay??Uk,D=typeof _=="function"?_(t,R):_,U=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,R);if(e||!U){w(R);return}t++,(z=n.onFail)==null||z.call(n,t,R),Dk(D).then(()=>p()?void 0:T()).then(()=>{e?w(R):N()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:h,continueRetry:f,canStart:y,start:()=>(y()?N():T().then(N),o)}}var Bk=n=>setTimeout(n,0);function Fk(){let n=[],e=0,t=h=>{h()},r=h=>{h()},a=Bk;const o=h=>{e?n.push(h):a(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&a(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Un=Fk(),_o,FE,nN=(FE=class{constructor(){Qe(this,_o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W0(this.gcTime)&&Ie(this,_o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Do?1/0:5*60*1e3))}clearGcTimeout(){Y(this,_o)&&(clearTimeout(Y(this,_o)),Ie(this,_o,void 0))}},_o=new WeakMap,FE),Kl,Yl,es,Eo,Kn,ld,To,ds,Ei,qE,qk=(qE=class extends nN{constructor(e){super();Qe(this,ds);Qe(this,Kl);Qe(this,Yl);Qe(this,es);Qe(this,Eo);Qe(this,Kn);Qe(this,ld);Qe(this,To);Ie(this,To,!1),Ie(this,ld,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Eo,e.client),Ie(this,es,Y(this,Eo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Kl,Hk(this.options)),this.state=e.state??Y(this,Kl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,ld),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,es).remove(this)}setData(e,t){const r=ey(this.state.data,e,this.options);return pt(this,ds,Ei).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){pt(this,ds,Ei).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Kn))==null?void 0:r.promise;return(a=Y(this,Kn))==null||a.cancel(e),t?t.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Kl))}isActive(){return this.observers.some(e=>fs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!XS(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Kn)&&(Y(this,To)?Y(this,Kn).cancel({revert:!0}):Y(this,Kn).cancelRetry()),this.scheduleGc()),Y(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,ds,Ei).call(this,{type:"invalidate"})}fetch(e,t){var f,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Kn))return Y(this,Kn).continueRetry(),Y(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Ie(this,To,!0),r.signal)})},o=()=>{const x=ZS(this.options,t),w={client:Y(this,Eo),queryKey:this.queryKey,meta:this.meta};return a(w),Ie(this,To,!1),this.options.persister?this.options.persister(x,w,this):x(w)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,Eo),state:this.state,fetchFn:o};a(u),(f=this.options.behavior)==null||f.onFetch(u,this),Ie(this,Yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&pt(this,ds,Ei).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const h=x=>{var w,T,N,L;a0(x)&&x.silent||pt(this,ds,Ei).call(this,{type:"error",error:x}),a0(x)||((T=(w=Y(this,es).config).onError)==null||T.call(w,x,this),(L=(N=Y(this,es).config).onSettled)==null||L.call(N,this.state.data,x,this)),this.scheduleGc()};return Ie(this,Kn,tN({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var w,T,N,L;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(I){h(I);return}(T=(w=Y(this,es).config).onSuccess)==null||T.call(w,x,this),(L=(N=Y(this,es).config).onSettled)==null||L.call(N,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,w)=>{pt(this,ds,Ei).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{pt(this,ds,Ei).call(this,{type:"pause"})},onContinue:()=>{pt(this,ds,Ei).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,Kn).start()}},Kl=new WeakMap,Yl=new WeakMap,es=new WeakMap,Eo=new WeakMap,Kn=new WeakMap,ld=new WeakMap,To=new WeakMap,ds=new WeakSet,Ei=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return a0(a)&&a.revert&&Y(this,Yl)?{...Y(this,Yl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,es).notify({query:this,type:"updated",action:e})})},qE);function rN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Hk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Fs,HE,$k=(HE=class extends Cd{constructor(e={}){super();Qe(this,Fs);this.config=e,Ie(this,Fs,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Iv(a,t);let u=this.get(o);return u||(u=new qk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){Y(this,Fs).has(e.queryHash)||(Y(this,Fs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Fs).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Fs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Fs).get(e)}getAll(){return[...Y(this,Fs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>hE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>hE(e,r)):t}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fs=new WeakMap,HE),qs,lr,So,Hs,oa,$E,Gk=($E=class extends nN{constructor(e){super();Qe(this,Hs);Qe(this,qs);Qe(this,lr);Qe(this,So);this.mutationId=e.mutationId,Ie(this,lr,e.mutationCache),Ie(this,qs,[]),this.state=e.state||Qk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,qs).includes(e)||(Y(this,qs).push(e),this.clearGcTimeout(),Y(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,qs,Y(this,qs).filter(t=>t!==e)),this.scheduleGc(),Y(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,qs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,lr).remove(this))}continue(){var e;return((e=Y(this,So))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,h,f,p,y,x,w,T,N,L,I,R,E,_,D,U,z,B,M;const t=()=>{pt(this,Hs,oa).call(this,{type:"continue"})};Ie(this,So,tN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,O)=>{pt(this,Hs,oa).call(this,{type:"failed",failureCount:j,error:O})},onPause:()=>{pt(this,Hs,oa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,lr).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,So).canStart();try{if(r)t();else{pt(this,Hs,oa).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=Y(this,lr).config).onMutate)==null?void 0:u.call(o,e,this));const O=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e));O!==this.state.context&&pt(this,Hs,oa).call(this,{type:"pending",context:O,variables:e,isPaused:a})}const j=await Y(this,So).start();return await((y=(p=Y(this,lr).config).onSuccess)==null?void 0:y.call(p,j,e,this.state.context,this)),await((w=(x=this.options).onSuccess)==null?void 0:w.call(x,j,e,this.state.context)),await((N=(T=Y(this,lr).config).onSettled)==null?void 0:N.call(T,j,null,this.state.variables,this.state.context,this)),await((I=(L=this.options).onSettled)==null?void 0:I.call(L,j,null,e,this.state.context)),pt(this,Hs,oa).call(this,{type:"success",data:j}),j}catch(j){try{throw await((E=(R=Y(this,lr).config).onError)==null?void 0:E.call(R,j,e,this.state.context,this)),await((D=(_=this.options).onError)==null?void 0:D.call(_,j,e,this.state.context)),await((z=(U=Y(this,lr).config).onSettled)==null?void 0:z.call(U,void 0,j,this.state.variables,this.state.context,this)),await((M=(B=this.options).onSettled)==null?void 0:M.call(B,void 0,j,e,this.state.context)),j}finally{pt(this,Hs,oa).call(this,{type:"error",error:j})}}finally{Y(this,lr).runNext(this)}}},qs=new WeakMap,lr=new WeakMap,So=new WeakMap,Hs=new WeakSet,oa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Un.batch(()=>{Y(this,qs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,lr).notify({mutation:this,type:"updated",action:e})})},$E);function Qk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,hs,cd,GE,Kk=(GE=class extends Cd{constructor(e={}){super();Qe(this,Si);Qe(this,hs);Qe(this,cd);this.config=e,Ie(this,Si,new Set),Ie(this,hs,new Map),Ie(this,cd,0)}build(e,t,r){const a=new Gk({mutationCache:this,mutationId:++$h(this,cd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,Si).add(e);const t=tf(e);if(typeof t=="string"){const r=Y(this,hs).get(t);r?r.push(e):Y(this,hs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Si).delete(e)){const t=tf(e);if(typeof t=="string"){const r=Y(this,hs).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,hs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=tf(e);if(typeof t=="string"){const r=Y(this,hs).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=tf(e);if(typeof t=="string"){const a=(r=Y(this,hs).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{Y(this,Si).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Si).clear(),Y(this,hs).clear()})}getAll(){return Array.from(Y(this,Si))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fE(t,r))}findAll(e={}){return this.getAll().filter(t=>fE(e,t))}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Un.batch(()=>Promise.all(e.map(t=>t.continue().catch(xr))))}},Si=new WeakMap,hs=new WeakMap,cd=new WeakMap,GE);function tf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function tm(n){return{onFetch:(e,t)=>{var y,x,w,T,N;const r=e.options,a=(w=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:w.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],u=((N=e.state.data)==null?void 0:N.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let L=!1;const I=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?L=!0:e.signal.addEventListener("abort",()=>{L=!0}),e.signal)})},R=ZS(e.options,e.fetchOptions),E=async(_,D,U)=>{if(L)return Promise.reject();if(D==null&&_.pages.length)return Promise.resolve(_);const z={client:e.client,queryKey:e.queryKey,pageParam:D,direction:U?"backward":"forward",meta:e.options.meta};I(z);const B=await R(z),{maxPages:M}=e.options,j=U?kk:Pk;return{pages:j(_.pages,B,M),pageParams:j(_.pageParams,D,M)}};if(a&&o.length){const _=a==="backward",D=_?sN:ny,U={pages:o,pageParams:u},z=D(r,U);h=await E(U,z,_)}else{const _=n??o.length;do{const D=f===0?u[0]??r.initialPageParam:ny(r,h);if(f>0&&D==null)break;h=await E(h,D),f++}while(f<_)}return h};e.options.persister?e.fetchFn=()=>{var L,I;return(I=(L=e.options).persister)==null?void 0:I.call(L,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function ny(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function sN(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function Yk(n,e){return e?ny(n,e)!=null:!1}function Xk(n,e){return!e||!n.getPreviousPageParam?!1:sN(n,e)!=null}var en,pa,ga,Xl,Wl,ya,Zl,Jl,QE,Wk=(QE=class{constructor(n={}){Qe(this,en);Qe(this,pa);Qe(this,ga);Qe(this,Xl);Qe(this,Wl);Qe(this,ya);Qe(this,Zl);Qe(this,Jl);Ie(this,en,n.queryCache||new $k),Ie(this,pa,n.mutationCache||new Kk),Ie(this,ga,n.defaultOptions||{}),Ie(this,Xl,new Map),Ie(this,Wl,new Map),Ie(this,ya,0)}mount(){$h(this,ya)._++,Y(this,ya)===1&&(Ie(this,Zl,Mv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onFocus())})),Ie(this,Jl,em.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onOnline())})))}unmount(){var n,e;$h(this,ya)._--,Y(this,ya)===0&&((n=Y(this,Zl))==null||n.call(this),Ie(this,Zl,void 0),(e=Y(this,Jl))==null||e.call(this),Ie(this,Jl,void 0))}isFetching(n){return Y(this,en).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,pa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,en).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(ql(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,en).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,en).get(r.queryHash),o=a==null?void 0:a.state.data,u=Ok(e,o);if(u!==void 0)return Y(this,en).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Un.batch(()=>Y(this,en).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,en);Un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,en);return Un.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Un.batch(()=>Y(this,en).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(n,e={}){return Un.batch(()=>(Y(this,en).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>Y(this,en).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(xr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(xr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,en).build(this,e);return t.isStaleByTime(ql(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xr).catch(xr)}fetchInfiniteQuery(n){return n.behavior=tm(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xr).catch(xr)}ensureInfiniteQueryData(n){return n.behavior=tm(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return em.isOnline()?Y(this,pa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,en)}getMutationCache(){return Y(this,pa)}getDefaultOptions(){return Y(this,ga)}setDefaultOptions(n){Ie(this,ga,n)}setQueryDefaults(n,e){Y(this,Xl).set(id(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Xl).values()],t={};return e.forEach(r=>{ad(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Wl).set(id(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Wl).values()],t={};return e.forEach(r=>{ad(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ga).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Iv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ga).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,en).clear(),Y(this,pa).clear()}},en=new WeakMap,pa=new WeakMap,ga=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,ya=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,QE),yr,gt,ud,cr,No,ec,va,xa,dd,tc,nc,Ao,Co,ba,rc,Ct,Lu,ry,sy,iy,ay,oy,ly,cy,aN,KE,iN=(KE=class extends Cd{constructor(e,t){super();Qe(this,Ct);Qe(this,yr);Qe(this,gt);Qe(this,ud);Qe(this,cr);Qe(this,No);Qe(this,ec);Qe(this,va);Qe(this,xa);Qe(this,dd);Qe(this,tc);Qe(this,nc);Qe(this,Ao);Qe(this,Co);Qe(this,ba);Qe(this,rc,new Set);this.options=t,Ie(this,yr,e),Ie(this,xa,null),Ie(this,va,ty()),this.options.experimental_prefetchInRender||Y(this,va).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,gt).addObserver(this),gE(Y(this,gt),this.options)?pt(this,Ct,Lu).call(this):this.updateResult(),pt(this,Ct,ay).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return uy(Y(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return uy(Y(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Ct,oy).call(this),pt(this,Ct,ly).call(this),Y(this,gt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,gt);if(this.options=Y(this,yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fs(this.options.enabled,Y(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Ct,cy).call(this),Y(this,gt).setOptions(this.options),t._defaulted&&!Z0(this.options,t)&&Y(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,gt),observer:this});const a=this.hasListeners();a&&yE(Y(this,gt),r,this.options,t)&&pt(this,Ct,Lu).call(this),this.updateResult(),a&&(Y(this,gt)!==r||fs(this.options.enabled,Y(this,gt))!==fs(t.enabled,Y(this,gt))||ql(this.options.staleTime,Y(this,gt))!==ql(t.staleTime,Y(this,gt)))&&pt(this,Ct,ry).call(this);const o=pt(this,Ct,sy).call(this);a&&(Y(this,gt)!==r||fs(this.options.enabled,Y(this,gt))!==fs(t.enabled,Y(this,gt))||o!==Y(this,ba))&&pt(this,Ct,iy).call(this,o)}getOptimisticResult(e){const t=Y(this,yr).getQueryCache().build(Y(this,yr),e),r=this.createResult(t,e);return Jk(this,r)&&(Ie(this,cr,r),Ie(this,ec,this.options),Ie(this,No,Y(this,gt).state)),r}getCurrentResult(){return Y(this,cr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,rc).add(e)}getCurrentQuery(){return Y(this,gt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,yr).defaultQueryOptions(e),r=Y(this,yr).getQueryCache().build(Y(this,yr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return pt(this,Ct,Lu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,cr)))}createResult(e,t){var j;const r=Y(this,gt),a=this.options,o=Y(this,cr),u=Y(this,No),h=Y(this,ec),p=e!==r?e.state:Y(this,ud),{state:y}=e;let x={...y},w=!1,T;if(t._optimisticResults){const O=this.hasListeners(),P=!O&&gE(e,t),k=O&&yE(e,r,t,a);(P||k)&&(x={...x,...rN(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:N,errorUpdatedAt:L,status:I}=x;T=x.data;let R=!1;if(t.placeholderData!==void 0&&T===void 0&&I==="pending"){let O;o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(O=o.data,R=!0):O=typeof t.placeholderData=="function"?t.placeholderData((j=Y(this,nc))==null?void 0:j.state.data,Y(this,nc)):t.placeholderData,O!==void 0&&(I="success",T=ey(o==null?void 0:o.data,O,t),w=!0)}if(t.select&&T!==void 0&&!R)if(o&&T===(u==null?void 0:u.data)&&t.select===Y(this,dd))T=Y(this,tc);else try{Ie(this,dd,t.select),T=t.select(T),T=ey(o==null?void 0:o.data,T,t),Ie(this,tc,T),Ie(this,xa,null)}catch(O){Ie(this,xa,O)}Y(this,xa)&&(N=Y(this,xa),T=Y(this,tc),L=Date.now(),I="error");const E=x.fetchStatus==="fetching",_=I==="pending",D=I==="error",U=_&&E,z=T!==void 0,M={status:I,fetchStatus:x.fetchStatus,isPending:_,isSuccess:I==="success",isError:D,isInitialLoading:U,isLoading:U,data:T,dataUpdatedAt:x.dataUpdatedAt,error:N,errorUpdatedAt:L,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:D&&!z,isPaused:x.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:D&&z,isStale:Ov(e,t),refetch:this.refetch,promise:Y(this,va)};if(this.options.experimental_prefetchInRender){const O=C=>{M.status==="error"?C.reject(M.error):M.data!==void 0&&C.resolve(M.data)},P=()=>{const C=Ie(this,va,M.promise=ty());O(C)},k=Y(this,va);switch(k.status){case"pending":e.queryHash===r.queryHash&&O(k);break;case"fulfilled":(M.status==="error"||M.data!==k.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==k.reason)&&P();break}}return M}updateResult(){const e=Y(this,cr),t=this.createResult(Y(this,gt),this.options);if(Ie(this,No,Y(this,gt).state),Ie(this,ec,this.options),Y(this,No).data!==void 0&&Ie(this,nc,Y(this,gt)),Z0(t,e))return;Ie(this,cr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,rc).size)return!0;const u=new Set(o??Y(this,rc));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,cr)).some(h=>{const f=h;return Y(this,cr)[f]!==e[f]&&u.has(f)})};pt(this,Ct,aN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Ct,ay).call(this)}},yr=new WeakMap,gt=new WeakMap,ud=new WeakMap,cr=new WeakMap,No=new WeakMap,ec=new WeakMap,va=new WeakMap,xa=new WeakMap,dd=new WeakMap,tc=new WeakMap,nc=new WeakMap,Ao=new WeakMap,Co=new WeakMap,ba=new WeakMap,rc=new WeakMap,Ct=new WeakSet,Lu=function(e){pt(this,Ct,cy).call(this);let t=Y(this,gt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(xr)),t},ry=function(){pt(this,Ct,oy).call(this);const e=ql(this.options.staleTime,Y(this,gt));if(Do||Y(this,cr).isStale||!W0(e))return;const r=XS(Y(this,cr).dataUpdatedAt,e)+1;Ie(this,Ao,setTimeout(()=>{Y(this,cr).isStale||this.updateResult()},r))},sy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,gt)):this.options.refetchInterval)??!1},iy=function(e){pt(this,Ct,ly).call(this),Ie(this,ba,e),!(Do||fs(this.options.enabled,Y(this,gt))===!1||!W0(Y(this,ba))||Y(this,ba)===0)&&Ie(this,Co,setInterval(()=>{(this.options.refetchIntervalInBackground||Mv.isFocused())&&pt(this,Ct,Lu).call(this)},Y(this,ba)))},ay=function(){pt(this,Ct,ry).call(this),pt(this,Ct,iy).call(this,pt(this,Ct,sy).call(this))},oy=function(){Y(this,Ao)&&(clearTimeout(Y(this,Ao)),Ie(this,Ao,void 0))},ly=function(){Y(this,Co)&&(clearInterval(Y(this,Co)),Ie(this,Co,void 0))},cy=function(){const e=Y(this,yr).getQueryCache().build(Y(this,yr),this.options);if(e===Y(this,gt))return;const t=Y(this,gt);Ie(this,gt,e),Ie(this,ud,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},aN=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,cr))}),Y(this,yr).getQueryCache().notify({query:Y(this,gt),type:"observerResultsUpdated"})})},KE);function Zk(n,e){return fs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function gE(n,e){return Zk(n,e)||n.state.data!==void 0&&uy(n,e,e.refetchOnMount)}function uy(n,e,t){if(fs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Ov(n,e)}return!1}function yE(n,e,t,r){return(n!==e||fs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Ov(n,t)}function Ov(n,e){return fs(e.enabled,n)!==!1&&n.isStaleByTime(ql(e.staleTime,n))}function Jk(n,e){return!Z0(n.getCurrentResult(),e)}var e6=class extends iN{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:tm()})}getOptimisticResult(n){return n.behavior=tm(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var N,L;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:h}=r,f=(L=(N=t.fetchMeta)==null?void 0:N.fetchMore)==null?void 0:L.direction,p=u&&f==="forward",y=a&&f==="forward",x=u&&f==="backward",w=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Yk(e,t.data),hasPreviousPage:Xk(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:w,isRefetchError:h&&!p&&!x,isRefetching:o&&!y&&!w}}},oN=q.createContext(void 0),t6=n=>{const e=q.useContext(oN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},n6=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(oN.Provider,{value:n,children:e})),lN=q.createContext(!1),r6=()=>q.useContext(lN);lN.Provider;function s6(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var i6=q.createContext(s6()),a6=()=>q.useContext(i6),o6=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},l6=n=>{q.useEffect(()=>{n.clearReset()},[n])},c6=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||Lk(t,[n.error,r])),u6=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},d6=(n,e)=>n.isLoading&&n.isFetching&&!e,h6=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,vE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function cN(n,e,t){var x,w,T,N,L;const r=t6(),a=r6(),o=a6(),u=r.defaultQueryOptions(n);(w=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||w.call(x,u),u._optimisticResults=a?"isRestoring":"optimistic",u6(u),o6(u,o),l6(o);const h=!r.getQueryCache().get(u.queryHash),[f]=q.useState(()=>new e(r,u)),p=f.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(I=>{const R=y?f.subscribe(Un.batchCalls(I)):xr;return f.updateResult(),R},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),q.useEffect(()=>{f.setOptions(u)},[u,f]),h6(u,p))throw vE(u,f,o);if(c6({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((N=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||N.call(T,u,p),u.experimental_prefetchInRender&&!Do&&d6(p,a)){const I=h?vE(u,f,o):(L=r.getQueryCache().get(u.queryHash))==null?void 0:L.promise;I==null||I.catch(xr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?p:f.trackResult(p)}function f6(n,e){return cN(n,iN)}function uN(n,e){return cN(n,e6)}const xE="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",m6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-37.062%20-28.3525%20321.204%20170.115'%3e%3cg%20fill='none'%3e%3cpath%20fill='%23D12053'%20d='M223.65%2062.45l-53.03-8.31%207.03%2031.6z'/%3e%3cpath%20fill='%23E2136E'%20d='M223.65%2062.45L183.69%206.93l-13.06%2047.22z'/%3e%3cpath%20fill='%23D12053'%20d='M169.39%2053.51L127.52%200l54.83%206.55z'/%3e%3cpath%20fill='%239E1638'%20d='M150.32%2031.15L127.07%209.24h6.12z'/%3e%3cpath%20fill='%23D12053'%20d='M234.96%2035.46l-9.84%2026.69-15.95-22.06z'/%3e%3cpath%20fill='%23E2136E'%20d='M183.84%2084.14l38.61-15.51%201.62-4.93z'/%3e%3cpath%20fill='%239E1638'%20d='M152.96%20113.41l16.54-58.02%208.39%2037.75z'/%3e%3cpath%20fill='%23E2136E'%20d='M236.5%2035.67l-4.06%2011.02%2014.64-.24zM0%2040.09c.71.06%201.43.19%202.19.19s1.38-.13%202.19-.19v23.47c2.31-3.93%205.22-6.52%209.5-6.52%207.74%200%2011.06%207.66%2011.06%2014.7%200%208.43-4.5%2016.5-12.39%2016.5a8.66%208.66%200%2001-7.77-4.47c-1.32%201.16-2.49%202.55-3.74%203.81h-1zm4.28%2034.52c0%206.84%202.9%2011.61%207.67%2011.61%206.19%200%208.18-8.32%208.18-14.22%200-6.85-2.26-12.24-7.62-12.3-6.26-.05-8.23%207.36-8.23%2014.92z'/%3e%3cpath%20fill='%23231F20'%20d='M45.13%2055.27l-4.66%206c4.38%206.4%208.92%2012.67%2013.32%2019.15l4.44%207v.35c-1.09-.07-2.08-.21-3-.21-.92%200-2.08.14-3.06.21-1.21-2.24-2.41-4.31-3.78-6.34l-12-17.75c-.27-.28-.92-.5-.92-.21v24.3c-.88-.07-1.65-.21-2.41-.21-.76%200-1.64.14-2.41.21V40.09c.77.06%201.6.21%202.41.21s1.53-.15%202.41-.21v21.52c0%20.42.82.14%201.36-.42a37.1%2037.1%200%20002.92-3.42l13.49-17.7c.71.06%201.42.21%202.19.21s1.36-.15%202.14-.21zM81.42%2082.4c0%202.48-.16%203.74%203.07%202.92v1.39a8.87%208.87%200%2001-1.65.63c-2.85.57-5.21.06-5.65-3.67l-.49.55a10.17%2010.17%200%2001-8.12%204c-3.88%200-7.28-3.06-7.28-7.75%200-7.23%205-8.18%2010.13-9.13%204.34-.82%205.82-1.2%205.82-4.25%200-4.7-2.3-7.42-6.41-7.42a6.85%206.85%200%2000-6.52%204.37h-.6v-3.52a14.2%2014.2%200%20018.87-3.48c5.75%200%208.88%203.48%208.88%2010.65zm-4.38-10.47l-1.93.44c-3.73.82-9.32%201.45-9.32%207.24%200%204%202%206%205.36%206a6.83%206.83%200%20004.44-2.44c.4-.46%201.5-1.54%201.5-2zm14.15%209.63c1.3%202.49%203.72%204.72%206.3%204.72a5.67%205.67%200%20005.38-5.78c0-8.56-12.95-3-12.95-14.08%200-6.08%204-9.37%208.93-9.37%202.18-.048%204.33.52%206.2%201.64a32.791%2032.791%200%2000-1.3%204.5h-.5c-.72-2.09-2.63-4.19-4.66-4.19-2.74%200-5%201.85-5%205.28%200%208.11%2012.95%203.79%2012.95%2013.94%200%206.79-5.26%2010-10.1%2010a12.73%2012.73%200%2001-6.84-2%2034.42%2034.42%200%20001.15-4.65zm22.73-41.47c.73.06%201.44.19%202.2.19.76%200%201.38-.13%202.2-.19v23.09c1.92-3.87%204.93-6.14%208.83-6.14%206.36%200%208.83%204.36%208.83%2012.36v18.37c-.83-.07-1.47-.19-2.2-.19-.73%200-1.48.13-2.2.19V70.85c0-7-1.41-10.53-6.08-10.53-4.94%200-7.18%203.56-7.18%2010.15v17.3c-.82-.07-1.47-.19-2.2-.19-.73%200-1.46.13-2.2.19z'/%3e%3c/g%3e%3c/svg%3e",p6="/assets/Nagad-Logo.wine-BlVRnsIb.svg",g6="/assets/dutch-bangla-rocket-logo-png_seeklogo-317692-DPiqreWE.png",y6=()=>d.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:d.jsx("path",{fill:"#1A1F71",d:"M9.064 8.482l-1.09 6.966h1.527l1.09-6.966H9.064zm6.11 0l-1.09 6.966h1.527l1.09-6.966h-1.527zm-8.2 0L4.782 15.45h1.527l.69-4.414.017-.107.63-2.446H6.974zm12.052 0l-1.09 6.966h1.258l.77-4.92.042-.268.62-1.778h-1.58zm-5.137 0l-1.09 6.966h4.183l.26-1.656h-2.606l.4-2.57h2.547l.26-1.656h-2.547l.4-2.57h2.606l.26-1.656h-4.183z"})}),v6=()=>d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[d.jsx("path",{fill:"#EB001B",d:"M12 6.654a6 6 0 100 10.692 6 6 0 000-10.692z"}),d.jsx("path",{fill:"#F79E1B",d:"M12 6.654a6 6 0 110 10.692 6 6 0 010-10.692z"}),d.jsx("path",{fill:"#FF5F00",d:"M12 6.654a6 6 0 100 10.692 6 6 0 010-10.692z"})]}),dN=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=q.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)},[u,h]=q.useState(null),f=y=>{h(u===y?null:y)},p=[{name:"bKash",icon:d.jsx("img",{src:m6,alt:"bKash",className:"h-6 w-auto"}),color:"bg-pink-100"},{name:"Nagad",icon:d.jsx("img",{src:p6,alt:"Nagad",className:"h-6 w-auto"}),color:"bg-purple-100"},{name:"Rocket",icon:d.jsx("img",{src:g6,alt:"Rocket",className:"h-6 w-auto"}),color:"bg-indigo-100"},{name:"Visa",icon:d.jsx(y6,{}),color:"bg-blue-100"},{name:"Mastercard",icon:d.jsx(v6,{}),color:"bg-red-100"},{name:"Cash on Delivery",icon:d.jsx(ik,{size:16,className:"text-gray-700"}),color:"bg-green-100"}];return d.jsx("footer",{className:"bg-gray-50 text-gray-700 play-regular w-full border-t border-gray-200",children:d.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center justify-between gap-8 mb-10 border-b border-gray-200 pb-8",children:[d.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:d.jsx(it,{to:"/",className:"flex justify-center",children:d.jsx("img",{src:xE,alt:"Mahira Collection Logo",className:"h-24 object-contain"})})}),d.jsx("div",{className:"text-sm md:text-base text-center md:text-left",children:d.jsxs("p",{className:"whitespace-pre-line",children:[a,!t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read More ",d.jsx(jl,{size:16,className:"ml-1"})]}),t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read Less ",d.jsx(Ml,{size:16,className:"ml-1"})]})]})})]}),d.jsx("div",{className:"md:hidden mb-6 border-b border-gray-200 pb-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(it,{to:"/",className:"mb-4",children:d.jsx("img",{src:xE,alt:"Mahira Collection Logo",className:"h-20 object-contain"})}),d.jsx("p",{className:"text-sm text-center whitespace-pre-line",children:e.split(`
`).slice(0,4).join(`
`)})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"md:hidden space-y-4 mb-6",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("quickLinks"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Quick Links",u==="quickLinks"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="quickLinks"&&d.jsx("ul",{className:"mt-3 space-y-2 text-sm pl-2",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((y,x)=>d.jsx("li",{children:d.jsx(it,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("contact"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Contact Us",u==="contact"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="contact"&&d.jsxs("div",{className:"mt-3 space-y-3 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(cE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, City, Country"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(lE,{size:18}),d.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("hours"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Opening Hours",u==="hours"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="hours"&&d.jsxs("div",{className:"mt-3 space-y-2 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("payments"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Payment Methods",u==="payments"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="payments"&&d.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 pl-2",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors","aria-label":"Facebook",children:d.jsx(ok,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-pink-500 hover:bg-pink-50 transition-colors","aria-label":"Instagram",children:d.jsx(dk,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-sky-500 hover:bg-sky-50 transition-colors","aria-label":"Twitter",children:d.jsx(Ck,{size:20})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,title:y.name,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms & Conditions",path:"/terms"},{name:"Returns & Exchanges",path:"/returns"},{name:"Shipping Policy",path:"/shipping"}].map((y,x)=>d.jsx("li",{children:d.jsx(it,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(cE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(lE,{size:18}),d.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-blue-600",children:"info@mahira.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-4",children:"Newsletter"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})]}),d.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200 md:hidden",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-4",children:"Subscribe to Our Newsletter"}),d.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full sm:w-auto px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[d.jsxs("p",{children:["© ",n," Mahira Collection. All rights reserved."]}),d.jsx("p",{className:"mt-1",children:"Developed with ❤️ by Your Company"})]})]})]})})},x6=new Wk;function b6(){return d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto  bg-gray-100 shadow-xl mb-16 md:mb-0",children:d.jsxs(n6,{client:x6,children:[d.jsx(YP,{}),d.jsx(Mk,{}),d.jsx(jk,{}),d.jsx(pT,{}),d.jsx(dN,{})]})})})}const hN=()=>{const[t,r]=vI(),a=Number(t.get("page"))||1,[o,u]=q.useState(!1),h=q.useRef(null),f=I=>(typeof I!="number"&&(I=parseFloat(I)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(I)),{data:p=[],isLoading:y}=f6({queryKey:["allProducts"],queryFn:async()=>{const I=await ss(Zn(Ft,"products")),R=[];I.forEach(_=>{const D=_.data();D.available&&D.stock>0&&R.push({id:_.id,...D})});const E=[...R];for(let _=E.length-1;_>0;_--){const D=Math.floor(Math.random()*(_+1));[E[_],E[D]]=[E[D],E[_]]}return E},staleTime:1/0,cacheTime:24*60*60*1e3}),x=p.slice(0,10+(a-1)*6),w=I=>{var _;const R=JSON.parse(localStorage.getItem("cart"))||[],E=R.find(D=>D.id===I.id);E?E.quantity+=1:R.push({id:I.id,name:I.name,price:I.discount?Math.round(I.price-I.price*(I.discount/100)):Math.round(I.price),image:I.mainImage||((_=I.images)==null?void 0:_[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(R)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},T=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:w(I)},N=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:(w(I),window.location.href="/cart")},L=async()=>{const I=window.scrollY||document.documentElement.scrollTop;u(!0),await new Promise(R=>setTimeout(R,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,I),u(!1)},0)};return y?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):d.jsxs("div",{className:"md:px-4 min-h-screen",ref:h,children:[d.jsx("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:"All Products /"}),x.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:x.map(I=>{var j;const R=I.discount&&I.discount>0,E=I.colorVariants&&I.colorVariants.length>0,D=window.innerWidth<768?17:25,U=I.name.length>D,z=U?`${I.name.substring(0,D)}...`:I.name,B=R?Math.round(I.price-I.price*(I.discount/100)):null,M=R?B:Math.round(I.price);return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(it,{to:`/product/${I.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:I.mainImage||((j=I.images)==null?void 0:j[0])||"/placeholder-product.jpg",alt:I.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),R&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[I.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[z,U&&d.jsx(it,{to:`/product/${I.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",f(M)]}),R&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",f(Math.round(I.price))]})})]}),I.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",I.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>T(I),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:E?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>N(I),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${I.stock>0?"text-green-600":"text-red-500"}`,children:I.stock>0?"In Stock":"Out of Stock"}),I.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[I.stock," units"]})]})]})]},I.id)})}),p.length>x.length&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:L,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function bE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Dv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:bE(e[r])&&bE(n[r])&&Object.keys(e[r]).length>0&&Dv(n[r],e[r])})}const fN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ys(){const n=typeof document<"u"?document:{};return Dv(n,fN),n}const w6={document:fN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ur(){const n=typeof window<"u"?window:{};return Dv(n,w6),n}function _6(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function E6(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function dy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Ro(){return Date.now()}function T6(n){const e=ur();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function S6(n,e){e===void 0&&(e="x");const t=ur();let r,a,o;const u=T6(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Vu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function N6(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function kr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!N6(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const h=a[o],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(Vu(n[h])&&Vu(r[h])?r[h].__swiper__?n[h]=r[h]:kr(n[h],r[h]):!Vu(n[h])&&Vu(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:kr(n[h],r[h])):n[h]=r[h])}}}return n}function nf(n,e,t){n.style.setProperty(e,t)}function mN(n){let{swiper:e,targetPosition:t,side:r}=n;const a=ur(),o=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(w,T)=>p==="next"&&w>=T||p==="prev"&&w<=T,x=()=>{h=new Date().getTime(),u===null&&(u=h);const w=Math.max(Math.min((h-u)/f,1),0),T=.5-Math.cos(w*Math.PI)/2;let N=o+T*(t-o);if(y(N,t)&&(N=t),e.wrapperEl.scrollTo({[r]:N}),y(N,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:N})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(x)};x()}function gs(n,e){e===void 0&&(e="");const t=ur(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function A6(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function C6(n,e){const t=ur();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=A6(n,e))),r}function nm(n){try{console.warn(n);return}catch{}}function rm(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:_6(e)),t}function R6(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function I6(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ea(n,e){return ur().getComputedStyle(n,null).getPropertyValue(e)}function sm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function pN(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function o0(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function hy(n,e,t){const r=ur();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function In(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let l0;function j6(){const n=ur(),e=ys();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function gN(){return l0||(l0=j6()),l0}let c0;function M6(n){let{userAgent:e}=n===void 0?{}:n;const t=gN(),r=ur(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const x=o.match(/(iPod)(.*OS\s([\d_]+))?/),w=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=a==="Win32";let N=a==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&N&&t.touch&&L.indexOf(`${h}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),N=!1),p&&!T&&(u.os="android",u.android=!0),(y||w||x)&&(u.os="ios",u.ios=!0),u}function yN(n){return n===void 0&&(n={}),c0||(c0=M6(n)),c0}let u0;function O6(){const n=ur(),e=yN();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function vN(){return u0||(u0=O6()),u0}function D6(n){let{swiper:e,on:t,emit:r}=n;const a=ur();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(x=>{u=a.requestAnimationFrame(()=>{const{width:w,height:T}=e;let N=w,L=T;x.forEach(I=>{let{contentBoxSize:R,contentRect:E,target:_}=I;_&&_!==e.el||(N=E?E.width:(R[0]||R).inlineSize,L=E?E.height:(R[0]||R).blockSize)}),(N!==w||L!==T)&&h()})}),o.observe(e.el))},p=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",h),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",h),a.removeEventListener("orientationchange",y)})}function P6(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=ur(),h=function(y,x){x===void 0&&(x={});const w=u.MutationObserver||u.WebkitMutationObserver,T=new w(N=>{if(e.__preventObserver__)return;if(N.length===1){a("observerUpdate",N[0]);return}const L=function(){a("observerUpdate",N[0])};u.requestAnimationFrame?u.requestAnimationFrame(L):u.setTimeout(L,0)});T.observe(y,{attributes:typeof x.attributes>"u"?!0:x.attributes,childList:e.isElement||(typeof x.childList>"u"?!0:x).childList,characterData:typeof x.characterData>"u"?!0:x.characterData}),o.push(T)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=pN(e.hostEl);for(let x=0;x<y.length;x+=1)h(y[x])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var k6={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function L6(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ea(r,"padding-left")||0,10)-parseInt(Ea(r,"padding-right")||0,10),t=t-parseInt(Ea(r,"padding-top")||0,10)-parseInt(Ea(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function V6(){const n=this;function e(O,P){return parseFloat(O.getPropertyValue(n.getDirectionLabel(P))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=gs(a,`.${n.params.slideClass}, swiper-slide`),x=f?n.virtual.slides.length:y.length;let w=[];const T=[],N=[];let L=t.slidesOffsetBefore;typeof L=="function"&&(L=t.slidesOffsetBefore.call(n));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(n));const R=n.snapGrid.length,E=n.slidesGrid.length;let _=t.spaceBetween,D=-L,U=0,z=0;if(typeof o>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*o:typeof _=="string"&&(_=parseFloat(_)),n.virtualSize=-_,y.forEach(O=>{u?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(nf(r,"--swiper-centered-offset-before",""),nf(r,"--swiper-centered-offset-after",""));const B=t.grid&&t.grid.rows>1&&n.grid;B?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let M;const j=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(O=>typeof t.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<x;O+=1){M=0;let P;if(y[O]&&(P=y[O]),B&&n.grid.updateSlide(O,P,y),!(y[O]&&Ea(P,"display")==="none")){if(t.slidesPerView==="auto"){j&&(y[O].style[n.getDirectionLabel("width")]="");const k=getComputedStyle(P),C=P.style.transform,J=P.style.webkitTransform;if(C&&(P.style.transform="none"),J&&(P.style.webkitTransform="none"),t.roundLengths)M=n.isHorizontal()?hy(P,"width"):hy(P,"height");else{const ae=e(k,"width"),$=e(k,"padding-left"),ie=e(k,"padding-right"),oe=e(k,"margin-left"),xe=e(k,"margin-right"),H=k.getPropertyValue("box-sizing");if(H&&H==="border-box")M=ae+oe+xe;else{const{clientWidth:ce,offsetWidth:ve}=P;M=ae+$+ie+oe+xe+(ve-ce)}}C&&(P.style.transform=C),J&&(P.style.webkitTransform=J),t.roundLengths&&(M=Math.floor(M))}else M=(o-(t.slidesPerView-1)*_)/t.slidesPerView,t.roundLengths&&(M=Math.floor(M)),y[O]&&(y[O].style[n.getDirectionLabel("width")]=`${M}px`);y[O]&&(y[O].swiperSlideSize=M),N.push(M),t.centeredSlides?(D=D+M/2+U/2+_,U===0&&O!==0&&(D=D-o/2-_),O===0&&(D=D-o/2-_),Math.abs(D)<1/1e3&&(D=0),t.roundLengths&&(D=Math.floor(D)),z%t.slidesPerGroup===0&&w.push(D),T.push(D)):(t.roundLengths&&(D=Math.floor(D)),(z-Math.min(n.params.slidesPerGroupSkip,z))%n.params.slidesPerGroup===0&&w.push(D),T.push(D),D=D+M+_),n.virtualSize+=M+_,U=M,z+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+I,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+_}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+_}px`),B&&n.grid.updateWrapperSize(M,w),!t.centeredSlides){const O=[];for(let P=0;P<w.length;P+=1){let k=w[P];t.roundLengths&&(k=Math.floor(k)),w[P]<=n.virtualSize-o&&O.push(k)}w=O,Math.floor(n.virtualSize-o)-Math.floor(w[w.length-1])>1&&w.push(n.virtualSize-o)}if(f&&t.loop){const O=N[0]+_;if(t.slidesPerGroup>1){const P=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),k=O*t.slidesPerGroup;for(let C=0;C<P;C+=1)w.push(w[w.length-1]+k)}for(let P=0;P<n.virtual.slidesBefore+n.virtual.slidesAfter;P+=1)t.slidesPerGroup===1&&w.push(w[w.length-1]+O),T.push(T[T.length-1]+O),n.virtualSize+=O}if(w.length===0&&(w=[0]),_!==0){const O=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((P,k)=>!t.cssMode||t.loop?!0:k!==y.length-1).forEach(P=>{P.style[O]=`${_}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let O=0;N.forEach(k=>{O+=k+(_||0)}),O-=_;const P=O>o?O-o:0;w=w.map(k=>k<=0?-L:k>P?P+I:k)}if(t.centerInsufficientSlides){let O=0;N.forEach(k=>{O+=k+(_||0)}),O-=_;const P=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(O+P<o){const k=(o-O-P)/2;w.forEach((C,J)=>{w[J]=C-k}),T.forEach((C,J)=>{T[J]=C+k})}}if(Object.assign(n,{slides:y,snapGrid:w,slidesGrid:T,slidesSizesGrid:N}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){nf(r,"--swiper-centered-offset-before",`${-w[0]}px`),nf(r,"--swiper-centered-offset-after",`${n.size/2-N[N.length-1]/2}px`);const O=-n.snapGrid[0],P=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+O),n.slidesGrid=n.slidesGrid.map(k=>k+P)}if(x!==p&&n.emit("slidesLengthChange"),w.length!==R&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const O=`${t.containerModifierClass}backface-hidden`,P=n.el.classList.contains(O);x<=t.maxBackfaceHiddenSlides?P||n.el.classList.add(O):P&&n.el.classList.remove(O)}}function z6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const h=t[o].offsetHeight;a=h>a?h:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function U6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const wE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function B6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const x=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),w=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),T=-(u-y),N=T+e.slidesSizesGrid[f],L=T>=0&&T<=e.size-e.slidesSizesGrid[f],I=T>=0&&T<e.size-1||N>1&&N<=e.size||T<=0&&N>=e.size;I&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),wE(p,I,t.slideVisibleClass),wE(p,L,t.slideFullyVisibleClass),p.progress=a?-x:x,p.originalProgress=a?-w:w}}function F6(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:h}=e;const f=o,p=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,x=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=x||a>=1,y&&(a=0),x&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),x=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[y],T=e.slidesGrid[x],N=e.slidesGrid[e.slidesGrid.length-1],L=Math.abs(n);L>=w?h=(L-w)/N:h=(L+N-T)/N,h>1&&(h-=1)}Object.assign(e,{progress:a,progressLoop:h,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!o||p&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const d0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function q6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=x=>gs(r,`.${t.slideClass}${x}, swiper-slide${x}`)[0];let f,p,y;if(o)if(t.loop){let x=a-n.virtual.slidesBefore;x<0&&(x=n.virtual.slides.length+x),x>=n.virtual.slides.length&&(x-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${x}"]`)}else f=h(`[data-swiper-slide-index="${a}"]`);else u?(f=e.find(x=>x.column===a),y=e.find(x=>x.column===a+1),p=e.find(x=>x.column===a-1)):f=e[a];f&&(u||(y=I6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=R6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(x=>{d0(x,x===f,t.slideActiveClass),d0(x,x===y,t.slideNextClass),d0(x,x===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Tf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},h0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},fy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,h=[u-e];h.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&h0(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const h=(u%t+t)%t;(h<a||h>o)&&h0(n,h)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&h0(n,u)};function H6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function $6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:h}=e;let f=n,p;const y=T=>{let N=T-e.virtual.slidesBefore;return N<0&&(N=e.virtual.slides.length+N),N>=e.virtual.slides.length&&(N-=e.virtual.slides.length),N};if(typeof f>"u"&&(f=H6(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const T=Math.min(a.slidesPerGroupSkip,f);p=T+Math.floor((f-T)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===o&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const x=e.grid&&a.grid&&a.grid.rows>1;let w;if(e.virtual&&a.virtual.enabled&&a.loop)w=y(f);else if(x){const T=e.slides.find(L=>L.column===f);let N=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(N)&&(N=Math.max(e.slides.indexOf(T),0)),w=Math.floor(N/a.grid.rows)}else if(e.slides[f]){const T=e.slides[f].getAttribute("data-swiper-slide-index");T?w=parseInt(T,10):w=f}else w=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:u,realIndex:w,previousIndex:o,activeIndex:f}),e.initialized&&fy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function G6(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!a&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(a=h)});let o=!1,u;if(a){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===a){o=!0,u=h;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Q6={updateSize:L6,updateSlides:V6,updateAutoHeight:z6,updateSlidesOffset:U6,updateSlidesProgress:B6,updateProgress:F6,updateSlidesClasses:q6,updateActiveIndex:$6,updateClickedSlide:G6};function K6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=S6(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function Y6(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,a.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:a.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let y;const x=t.maxTranslate()-t.minTranslate();x===0?y=0:y=(n-t.minTranslate())/x,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function X6(){return-this.snapGrid[0]}function W6(){return-this.snapGrid[this.snapGrid.length-1]}function Z6(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:h}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,o.updateProgress(y),u.cssMode){const x=o.isHorizontal();if(e===0)h[x?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return mN({swiper:o,targetPosition:-y,side:x?"left":"top"}),!0;h.scrollTo({[x?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var J6={getTranslate:K6,setTranslate:Y6,minTranslate:X6,maxTranslate:W6,translateTo:Z6};function e5(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function xN(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let h=r;if(h||(o>u?h="next":o<u?h="prev":h="reset"),e.emit(`transition${a}`),t&&o!==u){if(h==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),h==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function t5(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),xN({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function n5(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),xN({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var r5={setTransition:e5,transitionStart:t5,transitionEnd:n5};function s5(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:x,rtlTranslate:w,wrapperEl:T,enabled:N}=o;if(!N&&!r&&!a||o.destroyed||o.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const L=Math.min(o.params.slidesPerGroupSkip,u);let I=L+Math.floor((u-L)/o.params.slidesPerGroup);I>=f.length&&(I=f.length-1);const R=-f[I];if(h.normalizeSlideIndex)for(let B=0;B<p.length;B+=1){const M=-Math.floor(R*100),j=Math.floor(p[B]*100),O=Math.floor(p[B+1]*100);typeof p[B+1]<"u"?M>=j&&M<O-(O-j)/2?u=B:M>=j&&M<O&&(u=B+1):M>=j&&(u=B)}if(o.initialized&&u!==x&&(!o.allowSlideNext&&(w?R>o.translate&&R>o.minTranslate():R<o.translate&&R<o.minTranslate())||!o.allowSlidePrev&&R>o.translate&&R>o.maxTranslate()&&(x||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(R);let E;u>x?E="next":u<x?E="prev":E="reset";const _=o.virtual&&o.params.virtual.enabled;if(!(_&&a)&&(w&&-R===o.translate||!w&&R===o.translate))return o.updateActiveIndex(u),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),h.effect!=="slide"&&o.setTranslate(R),E!=="reset"&&(o.transitionStart(t,E),o.transitionEnd(t,E)),!1;if(h.cssMode){const B=o.isHorizontal(),M=w?R:-R;if(e===0)_&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),_&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[B?"scrollLeft":"scrollTop"]=M})):T[B?"scrollLeft":"scrollTop"]=M,_&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return mN({swiper:o,targetPosition:M,side:B?"left":"top"}),!0;T.scrollTo({[B?"left":"top"]:M,behavior:"smooth"})}return!0}const z=vN().isSafari;return _&&!a&&z&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(R),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,E),e===0?o.transitionEnd(t,E):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(M){!o||o.destroyed||M.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,E))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function i5(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let h;if(o){const w=u*a.params.grid.rows;h=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===w).column}else h=a.getSlideIndexByData(u);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let x=f-h<y;if(p&&(x=x||h<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(x=!1),x){const w=p?h<a.activeIndex?"prev":"next":h-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:w,slideTo:!0,activeSlideIndex:w==="next"?h+1:h-f+1,slideRealIndex:w==="next"?a.realIndex:void 0})}if(o){const w=u*a.params.grid.rows;u=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===w).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function a5(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:h,p=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function o5(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const x=h?r.translate:-r.translate;function w(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const T=w(x),N=o.map(E=>w(E)),L=a.freeMode&&a.freeMode.enabled;let I=o[N.indexOf(T)-1];if(typeof I>"u"&&(a.cssMode||L)){let E;o.forEach((_,D)=>{T>=_&&(E=D)}),typeof E<"u"&&(I=L?o[E]:o[E>0?E-1:E])}let R=0;if(typeof I<"u"&&(R=u.indexOf(I),R<0&&(R=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(R=R-r.slidesPerViewDynamic("previous",!0)+1,R=Math.max(R,0))),a.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(R,n,e,t)}),!0;return r.slideTo(R,n,e,t)}function l5(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function c5(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),h=u+Math.floor((o-u)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[h]){const p=a.snapGrid[h],y=a.snapGrid[h+1];f-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[h-1],y=a.snapGrid[h];f-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function u5(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(gs(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),dy(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(gs(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),dy(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var d5={slideTo:s5,slideToLoop:i5,slideNext:a5,slidePrev:o5,slideReset:l5,slideToClosest:c5,slideToClickedSlide:u5};function h5(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{gs(a,`.${r.slideClass}, swiper-slide`).forEach((w,T)=>{w.setAttribute("data-swiper-slide-index",T)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,p=u&&t.slides.length%r.grid.rows!==0,y=x=>{for(let w=0;w<x;w+=1){const T=t.isElement?rm("swiper-slide",[r.slideBlankClass]):rm("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(f){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;y(x),t.recalcSlides(),t.updateSlides()}else nm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;y(x),t.recalcSlides(),t.updateSlides()}else nm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function f5(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:x,allowSlideNext:w,slidesEl:T,params:N}=p,{centeredSlides:L,initialSlide:I}=N;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&N.virtual.enabled){t&&(!N.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):N.centeredSlides&&p.snapIndex<N.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=x,p.allowSlideNext=w,p.emit("loopFix");return}let R=N.slidesPerView;R==="auto"?R=p.slidesPerViewDynamic():(R=Math.ceil(parseFloat(N.slidesPerView,10)),L&&R%2===0&&(R=R+1));const E=N.slidesPerGroupAuto?R:N.slidesPerGroup;let _=E;_%E!==0&&(_+=E-_%E),_+=N.loopAdditionalSlides,p.loopedSlides=_;const D=p.grid&&N.grid&&N.grid.rows>1;y.length<R+_||p.params.effect==="cards"&&y.length<R+_*2?nm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&N.grid.fill==="row"&&nm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const U=[],z=[],B=D?Math.ceil(y.length/N.grid.rows):y.length,M=u&&B-I<R&&!L;let j=M?I:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(N.slideActiveClass))):j=o;const O=r==="next"||!r,P=r==="prev"||!r;let k=0,C=0;const ae=(D?y[o].column:o)+(L&&typeof a>"u"?-R/2+.5:0);if(ae<_){k=Math.max(_-ae,E);for(let $=0;$<_-ae;$+=1){const ie=$-Math.floor($/B)*B;if(D){const oe=B-ie-1;for(let xe=y.length-1;xe>=0;xe-=1)y[xe].column===oe&&U.push(xe)}else U.push(B-ie-1)}}else if(ae+R>B-_){C=Math.max(ae-(B-_*2),E),M&&(C=Math.max(C,R-B+I+1));for(let $=0;$<C;$+=1){const ie=$-Math.floor($/B)*B;D?y.forEach((oe,xe)=>{oe.column===ie&&z.push(xe)}):z.push(ie)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<R+_*2&&(z.includes(o)&&z.splice(z.indexOf(o),1),U.includes(o)&&U.splice(U.indexOf(o),1)),P&&U.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),O&&z.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),N.slidesPerView==="auto"?p.updateSlides():D&&(U.length>0&&P||z.length>0&&O)&&p.slides.forEach(($,ie)=>{p.grid.updateSlide(ie,$,p.slides)}),N.watchSlidesProgress&&p.updateSlidesOffset(),t){if(U.length>0&&P){if(typeof e>"u"){const $=p.slidesGrid[j],oe=p.slidesGrid[j+k]-$;f?p.setTranslate(p.translate-oe):(p.slideTo(j+Math.ceil(k),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else if(a){const $=D?U.length/N.grid.rows:U.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(z.length>0&&O)if(typeof e>"u"){const $=p.slidesGrid[j],oe=p.slidesGrid[j-C]-$;f?p.setTranslate(p.translate-oe):(p.slideTo(j-C,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-oe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-oe))}else{const $=D?z.length/N.grid.rows:z.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=x,p.allowSlideNext=w,p.controller&&p.controller.control&&!h){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(ie=>{!ie.destroyed&&ie.params.loop&&ie.loopFix({...$,slideTo:ie.params.slidesPerView===N.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===N.slidesPerView?t:!1})}p.emit("loopFix")}function m5(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var p5={loopCreate:h5,loopFix:f5,loopDestroy:m5};function g5(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function y5(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var v5={setGrabCursor:g5,unsetGrabCursor:y5};function x5(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ys()||r===ur())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function _E(n,e,t){const r=ur(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function b5(n){const e=this,t=ys();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){_E(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!C6(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const x=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(w?x5(x,f):f.closest(x))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const T=u.currentX,N=u.currentY;if(!_E(e,r,T))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=T,u.startY=N,a.touchStartTime=Ro(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let L=!0;f.matches(a.focusableElements)&&(L=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const I=L&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||I)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function w5(n){const e=ys(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:h}=t;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(U=>U.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,x=p.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=x;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x}),r.touchStartTime=Ro());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(x<o.startY&&t.translate<=t.maxTranslate()||x>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=x;const w=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(w**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let U;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:w*w+T*T>=25&&(U=Math.atan2(Math.abs(T),Math.abs(w))*180/Math.PI,r.isScrolling=t.isHorizontal()?U>a.touchAngle:90-U>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let N=t.isHorizontal()?w:T,L=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(N=Math.abs(N)*(u?1:-1),L=Math.abs(L)*(u?1:-1)),o.diff=N,N*=a.touchRatio,u&&(N=-N,L=-L);const I=t.touchesDirection;t.swipeDirection=N>0?"prev":"next",t.touchesDirection=L>0?"prev":"next";const R=t.params.loop&&!a.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(R&&E&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const U=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(U)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==t.touchesDirection&&R&&E&&Math.abs(N)>=1){Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=N+r.startTranslate;let _=!0,D=a.resistanceRatio;if(a.touchReleaseOnEdges&&(D=0),N>0?(R&&E&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(_=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+N)**D))):N<0&&(R&&E&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(_=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-N)**D))),_&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(N)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function _5(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(U=>U.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const x=Ro(),w=x-t.touchStartTime;if(e.allowClick){const U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),w<300&&x-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ro(),dy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(u.followFinger?T=f?e.translate:-e.translate:T=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const N=T>=-e.maxTranslate()&&!e.params.loop;let L=0,I=e.slidesSizesGrid[0];for(let U=0;U<p.length;U+=U<u.slidesPerGroupSkip?1:u.slidesPerGroup){const z=U<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[U+z]<"u"?(N||T>=p[U]&&T<p[U+z])&&(L=U,I=p[U+z]-p[U]):(N||T>=p[U])&&(L=U,I=p[p.length-1]-p[p.length-2])}let R=null,E=null;u.rewind&&(e.isBeginning?E=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const _=(T-p[L])/I,D=L<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(w>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?R:L+D):e.slideTo(L)),e.swipeDirection==="prev"&&(_>1-u.longSwipesRatio?e.slideTo(L+D):E!==null&&_<0&&Math.abs(_)>u.longSwipesRatio?e.slideTo(E):e.slideTo(L))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(L+D):e.slideTo(L):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:L+D),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:L))}}function EE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function E5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function T5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function S5(n){const e=this;Tf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function N5(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const bN=(n,e)=>{const t=ys(),{params:r,el:a,wrapperEl:o,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",EE,!0):n[p]("observerUpdate",EE,!0),a[f]("load",n.onLoad,{capture:!0}))};function A5(){const n=this,{params:e}=n;n.onTouchStart=b5.bind(n),n.onTouchMove=w5.bind(n),n.onTouchEnd=_5.bind(n),n.onDocumentTouchStart=N5.bind(n),e.cssMode&&(n.onScroll=T5.bind(n)),n.onClick=E5.bind(n),n.onLoad=S5.bind(n),bN(n,"on")}function C5(){bN(this,"off")}var R5={attachEvents:A5,detachEvents:C5};const TE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function I5(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=ys(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,h,f);if(!p||n.currentBreakpoint===p)return;const x=(p in o?o[p]:void 0)||n.originalParams,w=TE(n,r),T=TE(n,x),N=n.params.grabCursor,L=x.grabCursor,I=r.enabled;w&&!T?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!w&&T&&(a.classList.add(`${r.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),N&&!L?n.unsetGrabCursor():!N&&L&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(z=>{if(typeof x[z]>"u")return;const B=r[z]&&r[z].enabled,M=x[z]&&x[z].enabled;B&&!M&&n[z].disable(),!B&&M&&n[z].enable()});const R=x.direction&&x.direction!==r.direction,E=r.loop&&(x.slidesPerView!==r.slidesPerView||R),_=r.loop;R&&t&&n.changeDirection(),kr(n.params,x);const D=n.params.enabled,U=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),I&&!D?n.disable():!I&&D&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",x),t&&(E?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!_&&U?(n.loopCreate(e),n.updateSlides()):_&&!U&&n.loopDestroy()),n.emit("breakpoint",x)}function j5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=ur(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:o*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:p}=u[h];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var M5={setBreakpoint:I5,getBreakpoint:j5};function O5(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function D5(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=O5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function P5(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var k5={addClasses:D5,removeClasses:P5};function L5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var V5={checkOverflow:L5},my={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function z5(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){kr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){kr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),kr(e,r)}}const f0={eventsEmitter:k6,update:Q6,translate:J6,transition:r5,slide:d5,loop:p5,grabCursor:v5,events:R5,breakpoints:M5,checkOverflow:V5,classes:k5},m0={};let Pv=class Ti{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=kr({},t),e&&!t.el&&(t.el=e);const u=ys();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(x=>{const w=kr({},t,{el:x});y.push(new Ti(w))}),y}const h=this;h.__swiper__=!0,h.support=gN(),h.device=yN({userAgent:t.userAgent}),h.browser=vN(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:z5(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=kr({},my,f);return h.params=kr({},p,m0,t),h.originalParams=kr({},h.params),h.passedParams=kr({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=gs(t,`.${r.slideClass}, swiper-slide`),o=sm(a[0]);return sm(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=gs(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let x=o[p]?Math.ceil(o[p].swiperSlideSize):0,w;for(let T=p+1;T<o.length;T+=1)o[T]&&!w&&(x+=Math.ceil(o[T].swiperSlideSize),y+=1,x>f&&(w=!0));for(let T=p-1;T>=0;T-=1)o[T]&&!w&&(x+=o[T].swiperSlideSize,y+=1,x>f&&(w=!0))}else if(e==="current")for(let x=p+1;x<o.length;x+=1)(t?u[x]+h[x]-u[p]<f:u[x]-u[p]<f)&&(y+=1);else for(let x=p-1;x>=0;x-=1)u[p]-u[x]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Tf(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):gs(r,a())[0];return!u&&t.params.createElements&&(u=rm("div",t.params.wrapperClass),r.append(u),gs(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ea(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ea(r,"direction")==="rtl"),wrongRTL:Ea(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Tf(t,o):o.addEventListener("load",u=>{Tf(t,u.target)})}),fy(t),t.initialized=!0,fy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),E6(r)),r.destroyed=!0),null}static extendDefaults(e){kr(m0,e)}static get extendedDefaults(){return m0}static get defaults(){return my}static installModule(e){Ti.prototype.__modules__||(Ti.prototype.__modules__=[]);const t=Ti.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ti.installModule(t)),Ti):(Ti.installModule(e),Ti)}};Object.keys(f0).forEach(n=>{Object.keys(f0[n]).forEach(e=>{Pv.prototype[e]=f0[n][e]})});Pv.use([D6,P6]);const wN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Hl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Po(e[r])&&Po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Hl(n[r],e[r]):n[r]=e[r]})}function _N(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function EN(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function TN(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function SN(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function U5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function B5(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const p=a.filter(j=>j!=="children"&&j!=="direction"&&j!=="wrapperClass"),{params:y,pagination:x,navigation:w,scrollbar:T,virtual:N,thumbs:L}=e;let I,R,E,_,D,U,z,B;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(I=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(R=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&x&&!x.el&&(E=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&T&&!T.el&&(_=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(D=!0);const M=j=>{e[j]&&(e[j].destroy(),j==="navigation"?(e.isElement&&(e[j].prevEl.remove(),e[j].nextEl.remove()),y[j].prevEl=void 0,y[j].nextEl=void 0,e[j].prevEl=void 0,e[j].nextEl=void 0):(e.isElement&&e[j].el.remove(),y[j].el=void 0,e[j].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?U=!0:!y.loop&&r.loop?z=!0:B=!0),p.forEach(j=>{if(Po(y[j])&&Po(r[j]))Object.assign(y[j],r[j]),(j==="navigation"||j==="pagination"||j==="scrollbar")&&"enabled"in r[j]&&!r[j].enabled&&M(j);else{const O=r[j];(O===!0||O===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?O===!1&&M(j):y[j]=r[j]}}),p.includes("controller")&&!R&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&N&&y.virtual.enabled?(N.slides=t,N.update(!0)):a.includes("virtual")&&N&&y.virtual.enabled&&(t&&(N.slides=t),N.update(!0)),a.includes("children")&&t&&y.loop&&(B=!0),I&&L.init()&&L.update(!0),R&&(e.controller.control=y.controller.control),E&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),x.init(),x.render(),x.update()),_&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),T.init(),T.updateSize(),T.setTranslate()),D&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),w.init(),w.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(U||B)&&e.loopDestroy(),(z||B)&&e.loopCreate(),e.update()}function F5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Hl(t,my),t._emitClasses=!0,t.init=!1;const o={},u=wN.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Po(n[f])?(t[f]={},a[f]={},Hl(t[f],n[f]),Hl(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function q5(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:h}=n;_N(e)&&r&&a&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=a,h.originalParams.navigation.prevEl=a),EN(e)&&o&&(h.params.pagination.el=o,h.originalParams.pagination.el=o),TN(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function H5(n,e,t,r,a){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),p=t.map(a);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return wN.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Po(n[f])&&Po(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?u(f):(p.forEach(x=>{n[f][x]!==e[f][x]&&u(f)}),y.forEach(x=>{n[f][x]!==e[f][x]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const $5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function im(){return im=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},im.apply(this,arguments)}function NN(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function AN(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{NN(t)?e.push(t):t.props&&t.props.children&&AN(t.props.children).forEach(r=>e.push(r))}),e}function G5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(NN(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=AN(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function Q5(n,e,t){if(!t)return null;const r=y=>{let x=y;return y<0?x=e.length+y:x>=e.length&&(x=x-e.length),x},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=h;y<f;y+=1)y>=o&&y<=u&&p.push(e[r(y)]);return p.map((y,x)=>Ut.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${x}`}))}function Gu(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const SE=q.createContext(null),K5=q.createContext(null),Pl=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[p,y]=q.useState("swiper"),[x,w]=q.useState(null),[T,N]=q.useState(!1),L=q.useRef(!1),I=q.useRef(null),R=q.useRef(null),E=q.useRef(null),_=q.useRef(null),D=q.useRef(null),U=q.useRef(null),z=q.useRef(null),B=q.useRef(null),{params:M,passedParams:j,rest:O,events:P}=F5(h),{slides:k,slots:C}=G5(o),J=()=>{N(!T)};Object.assign(M.on,{_containerClasses(xe,H){y(H)}});const ae=()=>{Object.assign(M.on,P),f=!0;const xe={...M};if(delete xe.wrapperClass,R.current=new Pv(xe),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=k;const H={cache:!1,slides:k,renderExternal:w,renderExternalUpdate:!1};Hl(R.current.params.virtual,H),Hl(R.current.originalParams.virtual,H)}};I.current||ae(),R.current&&R.current.on("_beforeBreakpoint",J);const $=()=>{f||!P||!R.current||Object.keys(P).forEach(xe=>{R.current.on(xe,P[xe])})},ie=()=>{!P||!R.current||Object.keys(P).forEach(xe=>{R.current.off(xe,P[xe])})};q.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",J)}),q.useEffect(()=>{!L.current&&R.current&&(R.current.emitSlidesClasses(),L.current=!0)}),Gu(()=>{if(e&&(e.current=I.current),!!I.current)return R.current.destroyed&&ae(),q5({el:I.current,nextEl:D.current,prevEl:U.current,paginationEl:z.current,scrollbarEl:B.current,swiper:R.current},M),u&&!R.current.destroyed&&u(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),Gu(()=>{$();const xe=H5(j,E.current,k,_.current,H=>H.key);return E.current=j,_.current=k,xe.length&&R.current&&!R.current.destroyed&&B5({swiper:R.current,slides:k,passedParams:j,changedParams:xe,nextEl:D.current,prevEl:U.current,scrollbarEl:B.current,paginationEl:z.current}),()=>{ie()}}),Gu(()=>{$5(R.current)},[x]);function oe(){return M.virtual?Q5(R.current,k,x):k.map((xe,H)=>Ut.cloneElement(xe,{swiper:R.current,swiperSlideIndex:H}))}return Ut.createElement(r,im({ref:I,className:SN(`${p}${t?` ${t}`:""}`)},O),Ut.createElement(K5.Provider,{value:R.current},C["container-start"],Ut.createElement(a,{className:U5(M.wrapperClass)},C["wrapper-start"],oe(),C["wrapper-end"]),_N(M)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:U,className:"swiper-button-prev"}),Ut.createElement("div",{ref:D,className:"swiper-button-next"})),TN(M)&&Ut.createElement("div",{ref:B,className:"swiper-scrollbar"}),EN(M)&&Ut.createElement("div",{ref:z,className:"swiper-pagination"}),C["container-end"]))});Pl.displayName="Swiper";const kl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const x=q.useRef(null),[w,T]=q.useState("swiper-slide"),[N,L]=q.useState(!1);function I(D,U,z){U===x.current&&T(z)}Gu(()=>{if(typeof p<"u"&&(x.current.swiperSlideIndex=p),e&&(e.current=x.current),!(!x.current||!o)){if(o.destroyed){w!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",I),()=>{o&&o.off("_slideClass",I)}}}),Gu(()=>{o&&x.current&&!o.destroyed&&T(o.getSlideClasses(x.current))},[o]);const R={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(R):r,_=()=>{L(!0)};return Ut.createElement(t,im({ref:x,className:SN(`${w}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:_},y),u&&Ut.createElement(SE.Provider,{value:R},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},E(),h&&!N&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ut.createElement(SE.Provider,{value:R},E(),h&&!N&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});kl.displayName="SwiperSlide";function CN(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=gs(n.el,`.${r[a]}`)[0];o||(o=rm("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function Sf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(N){let L;return N&&typeof N=="string"&&e.isElement&&(L=e.el.querySelector(N)||e.hostEl.querySelector(N),L)?L:(N&&(typeof N=="string"&&(L=[...document.querySelectorAll(N)]),e.params.uniqueNavElements&&typeof N=="string"&&L&&L.length>1&&e.el.querySelectorAll(N).length===1?L=e.el.querySelector(N):L&&L.length===1&&(L=L[0])),N&&!L?N:L)}function u(N,L){const I=e.params.navigation;N=In(N),N.forEach(R=>{R&&(R.classList[L?"add":"remove"](...I.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=L),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](I.lockClass))})}function h(){const{nextEl:N,prevEl:L}=e.navigation;if(e.params.loop){u(L,!1),u(N,!1);return}u(L,e.isBeginning&&!e.params.rewind),u(N,e.isEnd&&!e.params.rewind)}function f(N){N.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(N){N.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const N=e.params.navigation;if(e.params.navigation=CN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(N.nextEl||N.prevEl))return;let L=o(N.nextEl),I=o(N.prevEl);Object.assign(e.navigation,{nextEl:L,prevEl:I}),L=In(L),I=In(I);const R=(E,_)=>{E&&E.addEventListener("click",_==="next"?p:f),!e.enabled&&E&&E.classList.add(...N.lockClass.split(" "))};L.forEach(E=>R(E,"next")),I.forEach(E=>R(E,"prev"))}function x(){let{nextEl:N,prevEl:L}=e.navigation;N=In(N),L=In(L);const I=(R,E)=>{R.removeEventListener("click",E==="next"?p:f),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};N.forEach(R=>I(R,"next")),L.forEach(R=>I(R,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?T():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{nextEl:N,prevEl:L}=e.navigation;if(N=In(N),L=In(L),e.enabled){h();return}[...N,...L].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(N,L)=>{let{nextEl:I,prevEl:R}=e.navigation;I=In(I),R=In(R);const E=L.target;let _=R.includes(E)||I.includes(E);if(e.isElement&&!_){const D=L.path||L.composedPath&&L.composedPath();D&&(_=D.find(U=>I.includes(U)||R.includes(U)))}if(e.params.navigation.hideOnClick&&!_){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let D;I.length?D=I[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(D=R[0].classList.contains(e.params.navigation.hiddenClass)),a(D===!0?"navigationShow":"navigationHide"),[...I,...R].filter(U=>!!U).forEach(U=>U.classList.toggle(e.params.navigation.hiddenClass))}});const w=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),x()};Object.assign(e.navigation,{enable:w,disable:T,update:h,init:y,destroy:x})}function Au(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Y5(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(E,_){const{bulletActiveClass:D}=e.params.pagination;E&&(E=E[`${_==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${D}-${_}`),E=E[`${_==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${D}-${_}-${_}`)))}function y(E,_,D){if(E=E%D,_=_%D,_===E+1)return"next";if(_===E-1)return"previous"}function x(E){const _=E.target.closest(Au(e.params.pagination.bulletClass));if(!_)return;E.preventDefault();const D=sm(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===D)return;const U=y(e.realIndex,D,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(D)}else e.slideTo(D)}function w(){const E=e.rtl,_=e.params.pagination;if(f())return;let D=e.pagination.el;D=In(D);let U,z;const B=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(B/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(z=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,z=e.previousSnapIndex):(z=e.previousIndex||0,U=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const j=e.pagination.bullets;let O,P,k;if(_.dynamicBullets&&(u=hy(j[0],e.isHorizontal()?"width":"height"),D.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${u*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&z!==void 0&&(h+=U-(z||0),h>_.dynamicMainBullets-1?h=_.dynamicMainBullets-1:h<0&&(h=0)),O=Math.max(U-h,0),P=O+(Math.min(j.length,_.dynamicMainBullets)-1),k=(P+O)/2),j.forEach(C=>{const J=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ae=>`${_.bulletActiveClass}${ae}`)].map(ae=>typeof ae=="string"&&ae.includes(" ")?ae.split(" "):ae).flat();C.classList.remove(...J)}),D.length>1)j.forEach(C=>{const J=sm(C);J===U?C.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),_.dynamicBullets&&(J>=O&&J<=P&&C.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),J===O&&p(C,"prev"),J===P&&p(C,"next"))});else{const C=j[U];if(C&&C.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&j.forEach((J,ae)=>{J.setAttribute("part",ae===U?"bullet-active":"bullet")}),_.dynamicBullets){const J=j[O],ae=j[P];for(let $=O;$<=P;$+=1)j[$]&&j[$].classList.add(...`${_.bulletActiveClass}-main`.split(" "));p(J,"prev"),p(ae,"next")}}if(_.dynamicBullets){const C=Math.min(j.length,_.dynamicMainBullets+4),J=(u*C-u)/2-k*u,ae=E?"right":"left";j.forEach($=>{$.style[e.isHorizontal()?ae:"top"]=`${J}px`})}}D.forEach((j,O)=>{if(_.type==="fraction"&&(j.querySelectorAll(Au(_.currentClass)).forEach(P=>{P.textContent=_.formatFractionCurrent(U+1)}),j.querySelectorAll(Au(_.totalClass)).forEach(P=>{P.textContent=_.formatFractionTotal(M)})),_.type==="progressbar"){let P;_.progressbarOpposite?P=e.isHorizontal()?"vertical":"horizontal":P=e.isHorizontal()?"horizontal":"vertical";const k=(U+1)/M;let C=1,J=1;P==="horizontal"?C=k:J=k,j.querySelectorAll(Au(_.progressbarFillClass)).forEach(ae=>{ae.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${J})`,ae.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(j.innerHTML=_.renderCustom(e,U+1,M),O===0&&a("paginationRender",j)):(O===0&&a("paginationRender",j),a("paginationUpdate",j)),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](_.lockClass)})}function T(){const E=e.params.pagination;if(f())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let D=e.pagination.el;D=In(D);let U="";if(E.type==="bullets"){let z=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&z>_&&(z=_);for(let B=0;B<z;B+=1)E.renderBullet?U+=E.renderBullet.call(e,B,E.bulletClass):U+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?U=E.renderFraction.call(e,E.currentClass,E.totalClass):U=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?U=E.renderProgressbar.call(e,E.progressbarFillClass):U=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],D.forEach(z=>{E.type!=="custom"&&(z.innerHTML=U||""),E.type==="bullets"&&e.pagination.bullets.push(...z.querySelectorAll(Au(E.bulletClass)))}),E.type!=="custom"&&a("paginationRender",D[0])}function N(){e.params.pagination=CN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let _;typeof E.el=="string"&&e.isElement&&(_=e.el.querySelector(E.el)),!_&&typeof E.el=="string"&&(_=[...document.querySelectorAll(E.el)]),_||(_=E.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(E.el)],_.length>1&&(_=_.find(D=>pN(D,".swiper")[0]===e.el))),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=In(_),_.forEach(D=>{E.type==="bullets"&&E.clickable&&D.classList.add(...(E.clickableClass||"").split(" ")),D.classList.add(E.modifierClass+E.type),D.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(D.classList.add(`${E.modifierClass}${E.type}-dynamic`),h=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&D.classList.add(E.progressbarOppositeClass),E.clickable&&D.addEventListener("click",x),e.enabled||D.classList.add(E.lockClass)}))}function L(){const E=e.params.pagination;if(f())return;let _=e.pagination.el;_&&(_=In(_),_.forEach(D=>{D.classList.remove(E.hiddenClass),D.classList.remove(E.modifierClass+E.type),D.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(D.classList.remove(...(E.clickableClass||"").split(" ")),D.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(D=>D.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:_}=e.pagination;_=In(_),_.forEach(D=>{D.classList.remove(E.horizontalClass,E.verticalClass),D.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?R():(N(),T(),w())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&w()}),r("snapIndexChange",()=>{w()}),r("snapGridLengthChange",()=>{T(),w()}),r("destroy",()=>{L()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=In(E),E.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{w()}),r("click",(E,_)=>{const D=_.target,U=In(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!D.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&D===e.navigation.nextEl||e.navigation.prevEl&&D===e.navigation.prevEl))return;const z=U[0].classList.contains(e.params.pagination.hiddenClass);a(z===!0?"paginationShow":"paginationHide"),U.forEach(B=>B.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=In(E),E.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),N(),T(),w()},R=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=In(E),E.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),L()};Object.assign(e.pagination,{enable:I,disable:R,render:T,update:w,init:N,destroy:L})}function X5(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,x=new Date().getTime(),w,T,N,L,I,R,E;function _(oe){!e||e.destroyed||!e.wrapperEl||oe.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",_),!(E||oe.detail&&oe.detail.bySwiperTouchMove)&&O())}const D=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?w=!0:w&&(p=y,w=!1);const oe=e.autoplay.paused?y:x+p-new Date().getTime();e.autoplay.timeLeft=oe,a("autoplayTimeLeft",oe,oe/f),h=requestAnimationFrame(()=>{D()})},U=()=>{let oe;return e.virtual&&e.params.virtual.enabled?oe=e.slides.find(H=>H.classList.contains("swiper-slide-active")):oe=e.slides[e.activeIndex],oe?parseInt(oe.getAttribute("data-swiper-autoplay"),10):void 0},z=oe=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),D();let xe=typeof oe>"u"?e.params.autoplay.delay:oe;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=U();!Number.isNaN(H)&&H>0&&typeof oe>"u"&&(xe=H,f=H,p=H),y=xe;const ce=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ce,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ce,!0,!0),a("autoplay")),e.params.cssMode&&(x=new Date().getTime(),requestAnimationFrame(()=>{z()})))};return xe>0?(clearTimeout(u),u=setTimeout(()=>{ve()},xe)):requestAnimationFrame(()=>{ve()}),xe},B=()=>{x=new Date().getTime(),e.autoplay.running=!0,z(),a("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),a("autoplayStop")},j=(oe,xe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),oe||(R=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",_):O()};if(e.autoplay.paused=!0,xe){I&&(y=e.params.autoplay.delay),I=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-x),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},O=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(x=new Date().getTime(),R?(R=!1,z(y)):z(),e.autoplay.paused=!1,a("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const oe=ys();oe.visibilityState==="hidden"&&(R=!0,j(!0)),oe.visibilityState==="visible"&&O()},k=oe=>{oe.pointerType==="mouse"&&(R=!0,E=!0,!(e.animating||e.autoplay.paused)&&j(!0))},C=oe=>{oe.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&O())},J=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",C))},ae=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",C))},$=()=>{ys().addEventListener("visibilitychange",P)},ie=()=>{ys().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(J(),$(),B())}),r("destroy",()=>{ae(),ie(),e.autoplay.running&&M()}),r("_freeModeStaticRelease",()=>{(N||R)&&O()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?M():j(!0,!0)}),r("beforeTransitionStart",(oe,xe,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?j(!0,!0):M())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}T=!0,N=!1,R=!1,L=setTimeout(()=>{R=!0,N=!0,j(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(L),clearTimeout(u),e.params.autoplay.disableOnInteraction){N=!1,T=!1;return}N&&e.params.cssMode&&O(),N=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(I=!0)}),Object.assign(e.autoplay,{start:B,stop:M,pause:j,resume:O})}function NE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,x=p.clickedSlide;if(x&&x.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let w;p.params.loop?w=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):w=y,e.params.loop?e.slideToLoop(w):e.slideTo(w)}function h(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Vu(p.swiper)){const x=Object.assign({},p.swiper);Object.assign(x,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(x),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const x=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let w=1;const T=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(w=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(w=1),w=Math.floor(w),y.slides.forEach(I=>I.classList.remove(T)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let I=0;I<w;I+=1)gs(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(R=>{R.classList.add(T)});else for(let I=0;I<w;I+=1)y.slides[e.realIndex+I]&&y.slides[e.realIndex+I].classList.add(T);const N=e.params.thumbs.autoScrollOffset,L=N&&!y.params.loop;if(e.realIndex!==y.realIndex||L){const I=y.activeIndex;let R,E;if(y.params.loop){const _=y.slides.find(D=>D.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);R=y.slides.indexOf(_),E=e.activeIndex>e.previousIndex?"next":"prev"}else R=e.realIndex,E=R>e.previousIndex?"next":"prev";L&&(R+=E==="next"?N:-1*N),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(R)<0&&(y.params.centeredSlides?R>I?R=R-Math.floor(x/2)+1:R=R+Math.floor(x/2)-1:R>I&&y.params.slidesPerGroup,y.slideTo(R,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=ys(),x=()=>{const T=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(T&&T.swiper)p.swiper=T.swiper,h(),f(!0);else if(T){const N=`${e.params.eventsPrefix}init`,L=I=>{p.swiper=I.detail[0],T.removeEventListener(N,L),h(),f(!0),p.swiper.update(),e.update()};T.addEventListener(N,L)}return T},w=()=>{if(e.destroyed)return;x()||requestAnimationFrame(w)};requestAnimationFrame(w)}else h(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(p,y)=>{const x=e.thumbs.swiper;!x||x.destroyed||x.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:h,update:f})}function AE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:p}=e;f.velocities.length===0&&f.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:Ro()})}function h(f){let{currentPos:p}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:x,rtlTranslate:w,snapGrid:T,touchEventsData:N}=e,I=Ro()-N.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<T.length?e.slideTo(T.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(N.velocities.length>1){const M=N.velocities.pop(),j=N.velocities.pop(),O=M.position-j.position,P=M.time-j.time;e.velocity=O/P,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(P>150||Ro()-M.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,N.velocities.length=0;let R=1e3*y.freeMode.momentumRatio;const E=e.velocity*R;let _=e.translate+E;w&&(_=-_);let D=!1,U;const z=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let B;if(_<e.maxTranslate())y.freeMode.momentumBounce?(_+e.maxTranslate()<-z&&(_=e.maxTranslate()-z),U=e.maxTranslate(),D=!0,N.allowMomentumBounce=!0):_=e.maxTranslate(),y.loop&&y.centeredSlides&&(B=!0);else if(_>e.minTranslate())y.freeMode.momentumBounce?(_-e.minTranslate()>z&&(_=e.minTranslate()+z),U=e.minTranslate(),D=!0,N.allowMomentumBounce=!0):_=e.minTranslate(),y.loop&&y.centeredSlides&&(B=!0);else if(y.freeMode.sticky){let M;for(let j=0;j<T.length;j+=1)if(T[j]>-_){M=j;break}Math.abs(T[M]-_)<Math.abs(T[M-1]-_)||e.swipeDirection==="next"?_=T[M]:_=T[M-1],_=-_}if(B&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(w?R=Math.abs((-_-e.translate)/e.velocity):R=Math.abs((_-e.translate)/e.velocity),y.freeMode.sticky){const M=Math.abs((w?-_:_)-e.translate),j=e.slidesSizesGrid[e.activeIndex];M<j?R=y.speed:M<2*j?R=y.speed*1.5:R=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&D?(e.updateProgress(U),e.setTransition(R),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o0(x,()=>{!e||e.destroyed||!N.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(U),o0(x,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(_),e.setTransition(R),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o0(x,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(_),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||I>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:h}})}const W5=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await ss(Zn(Ft,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),d.jsx("div",{className:"w-full",children:d.jsx(Pl,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[X5,Y5,Sf],className:"mySwiper",children:n.map((t,r)=>d.jsx(kl,{children:d.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},CE=()=>d.jsxs("div",{className:"bg-gray-100 ",children:[d.jsx("div",{children:d.jsx(W5,{})}),d.jsx("div",{className:"px-1 md:px-4",children:d.jsx("div",{children:d.jsx(hN,{})})})]}),Z5=q.createContext(),J5=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const f=OD(i0,p=>{t(p),a(!1)});return()=>f()},[]);const h={user:e,login:async(f,p)=>{a(!0);try{await ID(i0,f,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await DD(i0)},loading:r};return d.jsx(Z5.Provider,{value:h,children:n})},eL=()=>d.jsx("div",{children:d.jsx("p",{children:"this is admin page"})}),RE=()=>{const{gender:n,category:e}=Sy(),t=10,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const E=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const u=E=>E?Math.round(E).toLocaleString("en-US"):"0",h=async({pageParam:E=null})=>{const _=E?Zs(Zn(Ft,"products"),_a("gender","==",n),_a("subcategory","array-contains",e.toLowerCase()),xv(E),mc(t)):Zs(Zn(Ft,"products"),_a("gender","==",n),_a("subcategory","array-contains",e.toLowerCase()),mc(t)),D=await ss(_),U=[];return D.forEach(z=>{const B=z.data();B.available&&B.stock>0&&U.push({id:z.id,...B})}),{products:U,lastVisible:D.docs[D.docs.length-1]}},{data:f,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:x,isLoading:w,error:T}=uN({queryKey:["products",n,e],queryFn:h,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),N=E=>{const _=JSON.parse(localStorage.getItem("cart"))||[],D=_.find(U=>U.id===E.id);D?D.quantity+=1:_.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?Math.round(E.price-E.price*(E.discount/100)):Math.round(E.price),image:E.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(_)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},L=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:N(E)},I=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:(N(E),window.location.href="/cart")},R=(f==null?void 0:f.pages.flatMap(E=>E.products))||[];return w?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):T?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-2 mb-2 md:m-4 mt-2",children:["Showing products for ",n," / ",e]}),R.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:R.map(E=>{const _=E.discount&&E.discount>0,D=E.colorVariants&&E.colorVariants.length>0,U=a?17:25,z=E.name.length>U,B=z?`${E.name.substring(0,U)}...`:E.name;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(it,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:E.mainImage||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),_&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[B,z&&d.jsx(it,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:M=>{M.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(E.discount?E.price-E.price*(E.discount/100):E.price)]}),E.regularPrice&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",u(E.regularPrice)]})})]}),E.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>L(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:D?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>I(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),y&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>p(),disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:x?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},rf=n=>{},py=typeof window>"u"?q.useEffect:q.useLayoutEffect,RN=n=>typeof n=="number"&&n>0,IE=n=>RN(n)?n:0,gy=n=>Math.round(100*n)/100,yy=n=>Math.round(2*n)/2,jE=n=>n===0?0:-1*gy(n),tL={},nL="rr--group",rL="rr--box",sL="rr--svg",iL="rr--reset",ME="rr--focus-reset",aL="rr--svg-stop-1",oL="rr--svg-stop-2",OE="rr--on",DE="rr--off",zu={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},sf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},p0={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},g0={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},lL="rr--pointer",cL="rr--disabled",uL="rr--dir-y",dL="rr--dir-x",hL="rr--has-stroke",fL="rr--has-border",mL="rr--hf-box-on",pL="rr--hf-box-int",gL="rr--hf-box-off",yL="rr--hf-svg-on",vL="rr--hf-svg-off",af={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},of={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},xL="--rr--border-width",IN="horizontal",jN="vertical",y0="svg",PE="box",Or={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Ol={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},Ta={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},lf={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function bL({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=IN,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",h=q.useId(),f=q.useRef(null),[p,y]=q.useState(null),[x,w]=q.useState(!1),T=q.useRef(null),N=q.useRef(null),L=q.useCallback(I=>{const{width:R,height:E,x:_,y:D}=I.getBBox();if(((...U)=>U.every(z=>typeof z=="number"))(R,E,_,D)){const U=`${u} ${gy(R+t)} ${gy(E+t)}`,z=`${jE(_)} ${jE(D)}`;y({viewBox:U,translateData:z})}},[t,u]);return py(()=>{if(f.current){const{width:I,height:R,x:E,y:_}=f.current.getBBox();if(I===0&&R===0&&E===0&&_===0){const D=function(U){if(!U||!U.parentElement)return null;let z=U==null?void 0:U.parentElement;for(;z&&window.getComputedStyle(z).display!=="none";)z=z.parentElement;return z}(f.current);D&&(N.current=D,w(!0))}else w(!1);L(f.current)}},[n,t,a]),py(()=>{if(x&&N.current)return T.current=new MutationObserver((I,R)=>{I.forEach(()=>{window.getComputedStyle(N.current).display==="none"||(L(f.current),R.disconnect())})}),T.current.observe(N.current,{attributes:!0}),()=>{var I;(I=T.current)==null||I.disconnect()}},[x,L]),d.jsxs("svg",{"aria-hidden":"true",className:sL,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&d.jsx("defs",{children:d.jsxs("linearGradient",{id:h,...r===jN?{gradientTransform:"rotate(90)"}:{},children:[d.jsx("stop",{className:aL,offset:"50%"}),d.jsx("stop",{className:oL,offset:"50%"})]})}),d.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(p){const I=`translate(${p==null?void 0:p.translateData})`;return I==="translate(0 0)"?{}:{transform:I}}return{transform:void 0}}(),...a?{fill:`url('#${h}')`}:{},children:n})]})}function MN(n,e,t){switch(e){case Ta.FILL:return n[af.FILL]=t,!0;case Ta.BOX:return n[af.BOX]=t,!0;case Ta.BORDER:return n[af.BORDER]=t,!0;case Ta.STROKE:return n[af.STROKE]=t,!0}return!1}function wL(n,e,t){if(!MN(n,e,t))switch(e){case lf.FILL:n[of.FILL]=t;break;case lf.BOX:n[of.BOX]=t;break;case lf.BORDER:n[of.BORDER]=t;break;case lf.STROKE:n[of.STROKE]=t}}function _L(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))MN(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const v0=n=>`${n} ${zu.COLORS}`;function EL({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:h,absoluteStrokeWidth:f,spaceBetween:p,spaceInside:y}){const x=a?lL:"",w=function(E){switch(E){case Or.SMALL:return p0.SMALL;case Or.MEDIUM:return p0.MEDIUM;case Or.LARGE:return p0.LARGE;default:return""}}(p),T=function(E){switch(E){case Or.SMALL:return g0.SMALL;case Or.MEDIUM:return g0.MEDIUM;case Or.LARGE:return g0.LARGE;default:return""}}(y),N=!t&&r?cL:"",L=a&&o!==Ol.NONE?function(E){switch(E){case Ol.ZOOM:return v0(zu.ZOOM);case Ol.POSITION:return v0(zu.POSITION);case Ol.OPACITY:return v0(zu.OPACITY);case Ol.COLORS:return zu.COLORS;default:return""}}(o):"",I=u===jN?uL:dL,R=function(E){switch(E){case Or.SMALL:return sf.SMALL;case Or.MEDIUM:return sf.MEDIUM;case Or.LARGE:return sf.LARGE;case Or.FULL:return sf.FULL;default:return""}}(e);return`${nL} ${I} ${f>0?hL:""} ${h>0?fL:""}
${L} ${R} ${x} ${N} ${w}
${T} ${n}`.replace(/  +/g," ").trimEnd()}function TL(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?OE:DE:a<=t?OE:DE)}function SL(n,e,t){const r=Math.floor(yy(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?gL:o===r?pL:mL:o>r?vL:yL)}function kE(n,e){const t={};RN(e)&&(t[xL]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)wL(t,a,o);return t}const NL=[Ta.FILL,Ta.BOX,Ta.STROKE,Ta.BORDER];function x0(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const AL="@smastrom/react-rating",CL=n=>`[${AL}] - Nothing's returned from rendering. Reason: ${n}.`;function Cu(n,e){return n.shouldRender=!1,n.reason=CL(e),n}const LE="itemShapes is not a valid JSX element",RL=d.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});d.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});d.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});d.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});d.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});d.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const IL={itemShapes:RL,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},Uu=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=rf,onHoverChange:a=rf,onFocus:o=rf,onBlur:u=rf,preventDefault:h="all",isDisabled:f=!1,highlightOnlySelected:p=!1,orientation:y=IN,spaceBetween:x=Or.NONE,spaceInside:w=Or.SMALL,radius:T=Or.NONE,transition:N=Ol.COLORS,itemStyles:L=IL,isRequired:I=!1,halfFillMode:R=y0,visibleLabelId:E,visibleItemLabelIds:_,invisibleItemLabels:D,invisibleLabel:U=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:z="Reset rating",id:B,className:M,style:j},O)=>{const P=Array.from({length:e},(Me,je)=>je+1),k=t&&!Number.isInteger(n),C=k&&!p,J=k&&p?Math.round(n):n,ae=!t&&!f,$=J>=.25,ie=typeof M=="string"?M:"",oe=R===PE?PE:y0,xe=C&&!(Me=>Number.isInteger(yy(Me)))(J),H=!I&&!t,ce=I?e:e+1,ve=C?function(Me,je){const Je=yy(je);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(P,J):P.indexOf(J),{staticColors:ge,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:je,boxBorderWidth:Je,...ft}=L,Ht=function(an){const rr={...an},jn={},qn=Object.entries(rr);if(qn.length>0)for(const[Mn,Kt]of qn)if(Array.isArray(Kt)||typeof Kt=="string"){if(Array.isArray(Kt))for(const Ur of NL)if(Ur===Mn){const _r=Kt.filter(Ns=>typeof Ns=="string");_r.length>0&&(jn[Mn]=_r,delete rr[Mn])}else delete rr[Mn]}else delete rr[Mn];return{arrayColors:jn,staticColors:rr}}(ft);return{itemShapes:Me,absoluteStrokeWidth:IE(je),absoluteBoxBorderWidth:IE(Je),...Ht}},[L]),Te=Object.keys(Se).length>0,at=q.useCallback((Me,je)=>({dynamicClassNames:xe?SL(J,e,oe):TL(p,e,Me),dynamicCssVars:je&&Te?_L(Se,Me,p):[]}),[Se,Te,p,oe,xe,e,J]),Ze=q.useCallback(()=>Es(x0(ce,ve,!I)),[ve,ce,I]),It=q.useRef(!0),$t=q.useRef(!0),mn=q.useRef(null),qt=q.useRef([]),dr=q.useRef(!1),[er,Wt]=q.useState({staticCssVars:kE(ge,ye),...at(ve,$)}),[_s,Es]=q.useState(()=>ae?x0(ce,ve,!I):[]);py(()=>{ae&&qt.current&&(dr.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(qt.current[0]))},[ae]),q.useEffect(()=>{if(!It.current)return Wt({staticCssVars:kE(ge,ye),...at(ve,$)});It.current=!1},[ge,at,ye,ve,$]),q.useEffect(()=>{if(!$t.current&&ae)return Ze();$t.current=!1},[ae,Ze]);const{shouldRender:Ts,reason:is}=function({items:Me,itemShapes:je}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return Cu(Je,"items is invalid");if(!je)return Cu(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(je)&&!q.isValidElement(je))return Cu(Je,LE);if(Array.isArray(je)){if(je.length!==Me)return Cu(Je,"itemShapes length mismatch");if(!je.every(ft=>q.isValidElement(ft)))return Cu(Je,LE)}return Je}({items:e,itemShapes:Ve});if(!Ts)return console.error(is),null;function tr(Me,je,Je=()=>{}){qt.current.some(ft=>ft===Me.relatedTarget)?Je():je()}function nr(){a(0),Ze()}function Ss(Me){tr(Me,()=>{nr()}),Wt({...er,...at(ve,$)})}function as(Me){tr(Me,()=>{nr(),u()})}function yt(Me,je){const Je=!I&&je===P.length?0:je+1;tr(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){Es(x0(ce,Me,!I)),qt.current[Me].focus()}const En=EL({className:ie,radius:T,readOnly:t,isDisabled:f,isDynamic:ae,transition:N,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:x,spaceInside:w});function Qt(Me){return{ref:je=>qt.current[Me]=je}}function ti(Me){return{tabIndex:_s[Me],onKeyDown:je=>function(Je,ft){let Ht=0;const an=I?P.length-1:P.length,rr=ft-1,jn=ft+1,qn=!I&&ft===P.length,Mn=ft===0?an:rr,Kt=an===ft?0:jn;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return Ht=dr.current?Mn:Kt,We(Ht);case"ArrowUp":case"ArrowLeft":return Ht=dr.current?Kt:Mn,We(Ht);case"Enter":case"Space":return h!=="all"&&h!=="click"||Je.preventDefault(),r(qn?0:ft+1)}Je.stopPropagation()}(je,Me)}}function hr(Me){return{onClick:je=>function(Je,ft){h!=="all"&&h!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(I||ve!==ft?ft+1:0)}(je,Me),onMouseEnter:()=>function(je){a(je+1),Wt({...er,...at(je,!0)})}(Me),onMouseLeave:Ss}}function Vr(Me){if(t)return{};const je={};if(Array.isArray(_))je["aria-labelledby"]=_[Me];else{const Je=Array.isArray(D)?D:P.map((ft,Ht)=>`Rate ${Ht+1}`);je["aria-label"]=Je[Me]}return f&&(je["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===J,...je}}function zr(Me){const je={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return xe&&oe===y0&&(je.hasHF=Me===ve),je}return d.jsx("div",{id:B,className:En,style:{...j,...er.staticCssVars},ref:function(Me){ae&&!I&&(mn.current=Me),O&&(O.current=Me)},...function(){if(!t){const Me=I&&!f,je={role:"radiogroup","aria-required":Me};return Me&&(je["aria-invalid"]=J<=0),typeof E=="string"&&E.length>0?je["aria-labelledby"]=E:je["aria-label"]=U,je}return{role:"img","aria-label":U}}(),...tL,children:P.map((Me,je)=>{return d.jsxs(q.Fragment,{children:[d.jsx("div",{className:`${rL} ${er.dynamicClassNames[je]}`,style:er.dynamicCssVars[je],...Vr(je),...(ft=je,ae?{...Qt(ft),...ti(ft),...hr(ft),onFocus:Ht=>yt(Ht,ft),onBlur:Ht=>as(Ht)}:{}),children:d.jsx(bL,{...zr(je)})}),H&&je===P.length-1&&d.jsx("div",{...(Je=je+1,{className:iL,role:"radio","aria-label":z,"aria-checked":J===0,onClick:()=>r(0),onFocus:Ht=>{var an;yt(Ht,Je),(an=mn.current)==null||an.classList.add(ME)},onBlur:Ht=>{var an;as(Ht),(an=mn.current)==null||an.classList.remove(ME)},...ti(Je),...Qt(Je),...f?{"aria-disabled":"true"}:{}})})]},Me);var Je,ft})})});Uu.displayName="Rating";function jL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}jL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var kv=n=>typeof n=="number"&&!isNaN(n),od=n=>typeof n=="string",ON=n=>typeof n=="function",ML=n=>od(n)||kv(n),OL=n=>q.isValidElement(n)||od(n)||ON(n)||kv(n),DL=1,DN=()=>`${DL++}`,Xs=new Map,vy=[],VE=new Set,PN=()=>Xs.size>0,PL=(n,{containerId:e})=>{var t;return(t=Xs.get(e||1))==null?void 0:t.toasts.get(n)};function kL(n,e){var t;if(e)return!!((t=Xs.get(e))!=null&&t.isToastActive(n));let r=!1;return Xs.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function LL(n){if(!PN()){vy=vy.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||ML(n))Xs.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Xs.get(n.containerId);e?e.removeToast(n.id):Xs.forEach(t=>{t.removeToast(n.id)})}}var VL=(n={})=>{Xs.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function zL(n,e){OL(n)&&(PN()||vy.push({content:n,options:e}),Xs.forEach(t=>{t.buildToast(n,e)}))}function kN(n,e){Xs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function UL(n){return VE.add(n),()=>{VE.delete(n)}}function BL(n){return n&&(od(n.toastId)||kv(n.toastId))?n.toastId:DN()}function Rd(n,e){return zL(n,e),e.toastId}function Vm(n,e){return{...e,type:e&&e.type||n,toastId:BL(e)}}function zm(n){return(e,t)=>Rd(e,Vm(n,t))}function _t(n,e){return Rd(n,Vm("default",e))}_t.loading=(n,e)=>Rd(n,Vm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function FL(n,{pending:e,error:t,success:r},a){let o;e&&(o=od(e)?_t.loading(e,a):_t.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,x)=>{if(y==null){_t.dismiss(o);return}let w={type:p,...u,...a,data:x},T=od(y)?{render:y}:y;return o?_t.update(o,{...w,...T}):_t(T.render,{...w,...T}),x},f=ON(n)?n():n;return f.then(p=>h("success",r,p)).catch(p=>h("error",t,p)),f}_t.promise=FL;_t.success=zm("success");_t.info=zm("info");_t.error=zm("error");_t.warning=zm("warning");_t.warn=_t.warning;_t.dark=(n,e)=>Rd(n,Vm("default",{theme:"dark",...e}));function qL(n){LL(n)}_t.dismiss=qL;_t.clearWaitingQueue=VL;_t.isActive=kL;_t.update=(n,e={})=>{let t=PL(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:DN()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Rd(u,o)}};_t.done=n=>{_t.update(n,{progress:1})};_t.onChange=UL;_t.play=n=>kN(!0,n);_t.pause=n=>kN(!1,n);function HL(n){return gd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const $L=()=>{var ie,oe,xe,H,ce,ve,ge,Se,Ve,Ee;const{productId:n}=Sy(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,u]=q.useState(null),[h,f]=q.useState(null),[p,y]=q.useState(0),[x,w]=q.useState(null),[T,N]=q.useState(null),[L,I]=q.useState("description"),[R,E]=q.useState([]),[_,D]=q.useState(!1),[U,z]=q.useState({name:"",contact:"",rating:0,comment:""}),[B,M]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const at=Zs(Zn(Ft,"products"),_a("productId","==",n)),Ze=await ss(at);if(!Ze.empty){const It=Ze.docs[0],$t={id:It.id,...It.data()};t($t),$t.isColorVariants&&((Te=$t.colorVariants)==null?void 0:Te.length)>0&&u($t.colorVariants[0])}a(!1)}catch(at){console.error("Error fetching product:",at),a(!1)}})()},[n]),q.useEffect(()=>{let ye;return(()=>{if(!n)return;const at=Zn(Ft,"reviews"),Ze=Zs(at,_a("productId","==",n));ye=CO(Ze,It=>{const $t=[];It.forEach(mn=>{$t.push({id:mn.id,...mn.data()})}),E($t)},It=>{console.error("Error listening to reviews:",It)})})(),()=>{ye&&ye()}},[n]);const j=()=>{var Ze,It,$t,mn;if(J()){_t.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!T){_t.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(It=o==null?void 0:o.images)==null?void 0:It[0]:($t=e.images)==null?void 0:$t[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(mn=o==null?void 0:o.images)==null?void 0:mn[0]}:null,size:T?{size:T.size,stock:T.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},at=ye.findIndex(qt=>{var dr,er,Wt,_s;return!(qt.id!==Te.id||e.isColorVariants&&((dr=qt.color)==null?void 0:dr.name)!==((er=Te.color)==null?void 0:er.name)||T&&((Wt=qt.size)==null?void 0:Wt.size)!==((_s=Te.size)==null?void 0:_s.size))});at>=0?(ye[at].quantity+=1,_t.success("Item quantity increased in cart")):(ye.push(Te),_t.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},O=()=>{j(),window.location.href="/cart"},P=async ye=>{if(ye.preventDefault(),!U.name||!U.comment||U.rating===0||!U.contact){_t.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U.contact),at=/^[0-9]{10,15}$/.test(U.contact);if(!Te&&!at){_t.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:U.name,contact:U.contact,contactType:Te?"email":"phone",rating:U.rating,comment:U.comment,createdAt:new Date().toISOString()};B?(await Mm(xs(Ft,"reviews",B),Ze),_t.success("Review updated successfully")):(await AO(Zn(Ft,"reviews"),Ze),_t.success("Review submitted successfully")),D(!1),z({name:"",contact:"",rating:0,comment:""}),M(null)}catch(Ze){console.error("Error submitting review:",Ze),_t.error("Failed to submit review")}},k=ye=>{z({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),M(ye.id),D(!0)},C=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await mS(xs(Ft,"reviews",ye)),_t.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),_t.error("Failed to delete review")}},J=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},ae=ye=>ye<1;if(r)return d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return d.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=R.length>0?(R.reduce((ye,Te)=>ye+Te.rating,0)/R.length).toFixed(1):0;return d.jsxs("div",{className:"pt-6",children:[_&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold",children:B?"Edit Review":"Write a Review"}),d.jsx("button",{onClick:()=>{D(!1),M(null),z({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:P,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:U.name,onChange:ye=>z({...U,name:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:U.contact,onChange:ye=>z({...U,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),d.jsx(Uu,{style:{maxWidth:150},value:U.rating,onChange:ye=>z({...U,rating:ye}),isRequired:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),d.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:U.comment,onChange:ye=>z({...U,comment:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{D(!1),M(null),z({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:B?"Update Review":"Submit Review"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 px-2",children:[d.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?d.jsxs(d.Fragment,{children:[d.jsxs(Pl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:h},modules:[Sf,NE],className:"mb-2 rounded-lg relative",children:[(ie=o==null?void 0:o.images)==null?void 0:ie.map((ye,Te)=>d.jsxs(kl,{children:[d.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),d.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[d.jsx("p",{children:o.colorName}),d.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(Pl,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[Sf,NE,AE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>u(ye),children:[d.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Pl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[Sf],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:w,children:[(oe=e.images)==null?void 0:oe.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((xe=e.images)==null?void 0:xe.length)>1&&d.jsx("div",{className:"relative mt-2",children:d.jsx(Pl,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[AE],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),x&&x.slideTo(Te)},children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),d.jsxs("div",{className:"px-2 sm:px-0",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:d.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[d.jsx("span",{children:d.jsx(I1,{})}),d.jsx("p",{children:"Ask for details"})]})}),d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(Uu,{style:{maxWidth:100},value:$,readOnly:!0}),d.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",R.length," ",R.length===1?"review":"reviews",")"]})]}),d.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[d.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&d.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&d.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),d.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>d.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&u(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((ce=o==null?void 0:o.sizes)==null?void 0:ce.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(T==null?void 0:T.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${ae(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!ae(ye.stock)&&N(ye),disabled:ae(ye.stock),children:ye.size}),d.jsxs("span",{className:`text-xs mt-1 ${ae(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),d.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[d.jsx("span",{className:`font-medium ${J()?"text-red-500":"text-green-600"}`,children:J()?"Out of Stock":"In Stock"}),!J()&&d.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),d.jsx("div",{children:e.productType&&d.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),d.jsxs("div",{className:"flex gap-3 mb-2",children:[d.jsx("button",{onClick:j,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:J()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!T,children:"Add to Cart"}),d.jsx("button",{onClick:O,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:J()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!T,children:"Buy Now"})]}),d.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[d.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:d.jsx(HL,{className:"text-black text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"কল করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(I1,{className:"text-green-500 text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),d.jsxs("div",{className:"mt-8 border-t pt-6",children:[d.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${L==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("description"),children:"Description"}),d.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${L==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>I("reviews"),children:["Reviews (",R.length,")"]})]}),d.jsx("div",{className:"px-2 sm:px-0",children:L==="description"?d.jsxs("div",{className:"space-y-4",children:[e.productType&&d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg flex flex-wrap",children:d.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),d.jsx("div",{className:"prose max-w-none text-gray-600 break-words whitespace-pre-wrap px-2 md:px-4",children:e.description||"No description available."}),e.detailsImage&&d.jsx("div",{className:"mt-4",children:d.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[d.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[d.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),d.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:d.jsx(Uu,{style:{maxWidth:120},value:$,readOnly:!0})}),d.jsxs("p",{className:"text-gray-600",children:[R.length," ",R.length===1?"review":"reviews"]})]}),d.jsx("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),R.length>0?d.jsx("div",{className:"space-y-6 px-2 md:px-4",children:R.map(ye=>d.jsxs("div",{className:"border-b pb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:ye.name}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx(Uu,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>k(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>C(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),d.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),d.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),d.jsx("button",{onClick:()=>D(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},GL=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=E=>{const{name:_,value:D,type:U,checked:z}=E.target;e(B=>({...B,[_]:U==="checkbox"?z:D}))},r=E=>{const{name:_,value:D}=E.target;e(U=>({...U,[_]:Number(D)}))},a=E=>{const{name:_,value:D}=E.target;e(U=>({...U,[_]:D.split(",").map(z=>z.trim())}))},o=(E,_,D)=>{const U=[...n.colorVariants];U[E][_]=_==="stock"||_==="isOutfit"?_==="isOutfit"?D:Number(D):D,e(z=>({...z,colorVariants:U}))},u=(E,_,D)=>{const U=[...n.colorVariants];U[E].images[_]=D,e(z=>({...z,colorVariants:U}))},h=(E,_,D,U)=>{const z=[...n.colorVariants];z[E].sizes[_][D]=D==="stock"?Number(U):U,e(B=>({...B,colorVariants:z}))},f=()=>{e(E=>({...E,colorVariants:[...E.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=E=>{const _=[...n.colorVariants];_.splice(E,1),e(D=>({...D,colorVariants:_}))},y=E=>{const _=[...n.colorVariants];_[E].images.push(""),e(D=>({...D,colorVariants:_}))},x=(E,_)=>{const D=[...n.colorVariants];D[E].images.splice(_,1),e(U=>({...U,colorVariants:D}))},w=E=>{const _=[...n.colorVariants];_[E].sizes.push({size:"",stock:0}),e(D=>({...D,colorVariants:_}))},T=(E,_)=>{const D=[...n.colorVariants];D[E].sizes.splice(_,1),e(U=>({...U,colorVariants:D}))},N=(E,_)=>{const D=[...n.images];D[E]=_,e(U=>({...U,images:D}))},L=()=>{e(E=>({...E,images:[...E.images,""]}))},I=E=>{const _=[...n.images];_.splice(E,1),e(D=>({...D,images:_}))},R=async E=>{E.preventDefault();try{const _={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?_.colorVariants=n.colorVariants.map(U=>{const{isOutfit:z,sizes:B,...M}=U;return z?{...M,sizes:B}:M}):_.images=n.images;const D=xs(Ft,n.collectionName,n.documentName);await Qf(D,_),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(U=>({...U,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(_){console.error("Error adding document: ",_),alert("Error uploading product!")}};return d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product"}),d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),d.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),d.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),d.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),d.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Gender"}),d.jsx("option",{value:"men",children:"Men"}),d.jsx("option",{value:"women",children:"Women"}),d.jsx("option",{value:"unisex",children:"Unisex"}),d.jsx("option",{value:"kids",children:"Kids"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),d.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),d.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Delivery Charge Option"}),d.jsx("option",{value:"true",children:"Apply Delivery Charge"}),d.jsx("option",{value:"false",children:"Free Delivery"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),d.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),d.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),d.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),d.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),d.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),d.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),d.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),d.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[d.jsx("option",{value:"",children:"Select Product Type"}),d.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),d.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((E,_)=>d.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),d.jsx("input",{type:"text",value:E.colorName,onChange:D=>o(_,"colorName",D.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:E.stock,onChange:D=>o(_,"stock",D.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),d.jsx("input",{type:"text",value:E.thumbnail,onChange:D=>o(_,"thumbnail",D.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:E.isOutfit,onChange:D=>o(_,"isOutfit",D.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),E.isOutfit&&d.jsxs("div",{className:"space-y-3 mt-3",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),E.sizes.map((D,U)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),d.jsx("input",{type:"text",value:D.size,onChange:z=>h(_,U,"size",z.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:D.stock,onChange:z=>h(_,U,"stock",z.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{type:"button",onClick:()=>T(_,U),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},U)),d.jsx("button",{type:"button",onClick:()=>w(_),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),E.images.map((D,U)=>d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx("input",{type:"text",value:D,onChange:z=>u(_,U,z.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>x(_,U),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},U)),d.jsx("button",{type:"button",onClick:()=>y(_),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("button",{type:"button",onClick:()=>p(_),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},_)),d.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((E,_)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:E,onChange:D=>N(_,D.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>I(_),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},_)),d.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},QL=()=>{const{gender:n}=Sy(),e=10,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,u]=q.useState(window.innerWidth>=768),h=_=>(typeof _!="number"&&(_=parseFloat(_)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(_)));q.useEffect(()=>{const _=()=>{const D=window.innerWidth;a(D<768),u(D>=768)};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const f=async({pageParam:_=null})=>{const D=_?Zs(Zn(Ft,"products"),_a("gender","==",n),xv(_),mc(e)):Zs(Zn(Ft,"products"),_a("gender","==",n),mc(e)),U=await ss(D),z=[];return U.forEach(B=>{const M=B.data();M.available&&M.stock>0&&z.push({id:B.id,...M})}),{products:z,lastVisible:U.docs[U.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:w,isLoading:T,error:N}=uN({queryKey:["products",n],queryFn:f,getNextPageParam:_=>_.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),L=_=>{var z;const D=JSON.parse(localStorage.getItem("cart"))||[],U=D.find(B=>B.id===_.id);U?U.quantity+=1:D.push({id:_.id,productId:_.productId,name:_.name,price:_.discount?Math.round(_.price-_.price*(_.discount/100)):Math.round(_.price),image:_.mainImage||((z=_.images)==null?void 0:z[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(D)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},I=_=>{var U;_.isColorVariants&&((U=_.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${_.productId||_.id}`:L(_)},R=_=>{var U;_.isColorVariants&&((U=_.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${_.productId||_.id}`:(L(_),window.location.href="/cart")},E=(p==null?void 0:p.pages.flatMap(_=>_.products))||[];return T?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):N?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:t,children:[d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:[n,"'s Collection"]}),E.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:E.map(_=>{var J,ae;const D=_.discount&&_.discount>0,U=_.isColorVariants&&((J=_.colorVariants)==null?void 0:J.length)>0,z=r&&_.name.length>17?`${_.name.substring(0,17)}.`:_.name,B=o&&_.name.length>25?`${_.name.substring(0,25)}.`:_.name,M=r?z:B,j=r&&_.name.length>17,O=o&&_.name.length>25,P=D?Math.round(_.price-_.price*(_.discount/100)):null,k=D?P:Math.round(_.price),C=_.regularPrice?Math.round(_.regularPrice):null;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(it,{to:`/product/${_.productId||_.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:_.mainImage||((ae=_.images)==null?void 0:ae[0])||"/placeholder-product.jpg",alt:_.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),D&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[_.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[M,(j||O)&&d.jsx(it,{to:`/product/${_.productId||_.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${_.productId||_.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(k)]}),D&&C&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",h(C)]})})]}),_.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",_.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>I(_),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:U?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>R(_),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${_.stock>0?"text-green-600":"text-red-500"}`,children:_.stock>0?"In Stock":"Out of Stock"}),_.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[_.stock," units"]})]})]})]},_.id)})}),x&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>y(),disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:w?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},KL=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:x}=p.target;e(w=>({...w,[y]:x}))},o=(p,y)=>{const{name:x,value:w}=y.target,T=[...n.items];T[p]={...T[p],[x]:w},e(N=>({...N,items:T}))},u=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},h=p=>{const y=n.items.filter((x,w)=>w!==p);e(x=>({...x,items:y}))},f=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=xs(Ft,n.collectionName,n.documentName),x=await Gf(y);let w={};x.exists()&&(w=x.data());const T={...w,type:n.type,updatedAt:RO()};if(n.type==="link"&&(T.order=Number(n.order)),n.type==="dropdown"){const N=w.items||[],L=n.items.filter(I=>I.name&&I.path);T.items=[...N,...L],T.path=null}else T.path=n.path,T.items=null;await Qf(y,T,{merge:!0}),alert("Category saved successfully!"),e(N=>({...N,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return d.jsxs("div",{className:"container mx-auto px-4 ",children:[d.jsxs("div",{className:"flex border-b mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),d.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),d.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[d.jsx("option",{value:"dropdown",children:"Dropdown"}),d.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),d.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),d.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("button",{type:"button",onClick:()=>h(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),d.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),d.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:d.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),d.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},YL=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[u,h]=q.useState(""),[f,p]=q.useState(0),[y,x]=q.useState(""),[w,T]=q.useState(!0),[N,L]=q.useState({}),I=md(),R=k=>{const C=typeof k=="string"?parseFloat(k):k;return Math.floor(C).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const ae=(JSON.parse(localStorage.getItem("cart"))||[]).map(ie=>({...ie,price:typeof ie.price=="string"?parseFloat(ie.price):ie.price,deliveryCharge:typeof ie.deliveryCharge>"u"?!0:ie.deliveryCharge}));e(ae);const $={};for(const ie of ae)try{const oe=xs(Ft,"products",ie.productId),xe=await Gf(oe);xe.exists()&&($[ie.productId]=xe.data())}catch(oe){console.error("Error fetching product data:",oe)}L($),E(),T(!1)})();const C=J=>{if(J.detail)e(J.detail);else{const ae=JSON.parse(localStorage.getItem("cart"))||[];e(ae)}E()};return window.addEventListener("cartUpdated",C),()=>{window.removeEventListener("cartUpdated",C)}},[]);const E=async()=>{try{await new Promise(ae=>setTimeout(ae,500));const k={coxbazar:50,outOfCoxbazar:100},J=n.some(ae=>{const $=N[ae.productId];return($==null?void 0:$.deliveryCharge)===!0||typeof($==null?void 0:$.deliveryCharge)>"u"&&(ae.deliveryCharge===!0||typeof ae.deliveryCharge>"u")})?t==="inside"?k.coxbazar:k.outOfCoxbazar:0;o(J)}catch(k){console.error("Error fetching shipping charges:",k);const C=n.some(J=>{const ae=N[J.productId];return(ae==null?void 0:ae.deliveryCharge)===!0||typeof(ae==null?void 0:ae.deliveryCharge)>"u"&&(J.deliveryCharge===!0||typeof J.deliveryCharge>"u")});o(C?t==="inside"?50:100:0)}};q.useEffect(()=>{E()},[t,n,N]);const _=(k,C)=>{if(C<1)return;const J=n.map(ae=>ae.id===k?{...ae,quantity:C}:ae);localStorage.setItem("cart",JSON.stringify(J)),e(J),window.dispatchEvent(new Event("storage"))},D=k=>{const C=n.filter(J=>J.id!==k);localStorage.setItem("cart",JSON.stringify(C)),e(C),window.dispatchEvent(new Event("storage"))},U=()=>n.reduce((k,C)=>{const J=typeof C.price=="number"?C.price:typeof C.price=="string"?parseFloat(C.price):0;return k+Math.floor(J)*C.quantity},0),z=()=>{const k=U();return Math.floor(k+a-f)},B=k=>{r(k.target.value)},M=async()=>{if(!u.trim()){x("Please enter a coupon code");return}T(!0);try{await new Promise(C=>setTimeout(C,800));const k={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};k.valid?(p(k.discountAmount),x(`Coupon applied! Discount: ৳${R(k.discountAmount)}`)):(p(0),x(k.message))}catch(k){console.error("Error applying coupon:",k),x("Failed to apply coupon. Please try again.")}finally{T(!1)}},j=()=>{const k={cartItems:n.map(C=>({...C,price:typeof C.price=="string"?parseFloat(C.price):C.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(k)),I("/checkout",{state:k})};if(w&&n.length===0)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const O=n.some(k=>{const C=N[k.productId];return(C==null?void 0:C.deliveryCharge)===!0||typeof(C==null?void 0:C.deliveryCharge)>"u"&&(k.deliveryCharge===!0||typeof k.deliveryCharge>"u")}),P=n.filter(k=>{const C=N[k.productId];return(C==null?void 0:C.deliveryCharge)===!1||k.deliveryCharge===!1});return d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),d.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?d.jsxs("div",{className:"text-center py-8 sm:py-12",children:[d.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx(it,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(k=>{var $,ie;const C=typeof k.price=="number"?k.price:typeof k.price=="string"?parseFloat(k.price):0;Math.floor(C)*k.quantity;const J=N[k.productId],ae=(J==null?void 0:J.deliveryCharge)===!1||k.deliveryCharge===!1;return d.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:d.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"pr-2",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:k.name}),(($=k.color)==null?void 0:$.name)&&d.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:k.color.name})]}),((ie=k.size)==null?void 0:ie.size)&&d.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:k.size.size})]}),ae&&d.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),d.jsx("button",{onClick:()=>D(k.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:d.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",R(C)]}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[d.jsx("button",{onClick:()=>_(k.id,k.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),d.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:k.quantity}),d.jsx("button",{onClick:()=>_(k.id,k.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},k.id)})})})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",R(U())]})]}),O?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:B,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:B,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",R(a)]})]})]}):d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),d.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),P.length>0&&d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),d.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:P.map(k=>{var C;return d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-1",children:"•"}),d.jsx("span",{className:"line-clamp-1",children:k.name}),((C=k.size)==null?void 0:C.size)&&d.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",k.size.size,")"]})]},k.id)})})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),d.jsxs("div",{className:"flex rounded-md shadow-sm",children:[d.jsx("input",{type:"text",id:"coupon",value:u,onChange:k=>h(k.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),d.jsx("button",{onClick:M,disabled:w,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:w?d.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&d.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&d.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[d.jsx("span",{children:"Discount"}),d.jsxs("span",{children:["-৳",R(f)]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",R(z())]})]})}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx("button",{onClick:j,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),d.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:d.jsxs("p",{children:["or"," ",d.jsxs(it,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",d.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},XL=()=>{const n=ei(),e=md(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[u,h]=q.useState(!1),[f,p]=q.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const D=localStorage.getItem("checkoutState");return D?JSON.parse(D):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:x,shipping:w,coupon:T}=y();q.useEffect(()=>{x.length===0&&e("/cart")},[x,e]),q.useEffect(()=>{const D=async()=>{try{const U=Zn(Ft,"products"),z=await ss(U),B=x.map(j=>j.id);let M=!1;z.forEach(j=>{B.includes(j.id)&&j.data().productType&&(M=!0)}),h(M),r(j=>({...j,paymentMethod:M?"bkash":"cash"})),p(!1)}catch(U){console.error("Error checking product types:",U),p(!1)}};x.length>0?D():p(!1)},[x]);const N=D=>{const U=typeof D=="string"?parseFloat(D):D;return Math.floor(U).toLocaleString("en-US")},L=()=>x.reduce((D,U)=>{const z=typeof U.price=="number"?U.price:typeof U.price=="string"?parseFloat(U.price):0;return D+Math.floor(z)*U.quantity},0),I=()=>{const D=L();return Math.floor(D+w.charge-T.discount)},R=D=>{const{name:U,value:z,type:B,checked:M}=D.target;r({...t,[U]:B==="checkbox"?M:z}),a[U]&&o({...a,[U]:""})},E=()=>{const D={};return t.name.trim()||(D.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(D.phone="Please enter a valid Bangladeshi phone number"):D.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(D.address="Address should be at least 10 characters"):D.address="Address is required",t.notes.length>100&&(D.notes="Notes should not exceed 100 characters"),t.agreeTerms||(D.agreeTerms="You must agree to the terms and conditions"),o(D),Object.keys(D).length===0},_=D=>{if(D.preventDefault(),!E())return;const U={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:x,shipping:w,coupon:T,subtotal:L(),total:I(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:U,hasAnyProductWithType:u}})};return f?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading payment options..."})]})})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),d.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),d.jsx("form",{onSubmit:_,className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"space-y-5 md:space-y-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("label",{className:"block text-sm md:text-base font-medium text-gray-800 mb-3",children:["Payment Method ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("div",{className:"space-y-3",children:u?d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:R,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Required for selected products"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:R,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-cash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Pay when you receive your order"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:R,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Faster order processing"})]})]})]})}),u&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-100 rounded-md text-sm text-amber-800",children:[d.jsx("p",{className:"font-medium",children:"Important Notice:"}),d.jsx("p",{className:"mt-1",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"})]}),d.jsx("div",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Note: Some products in your cart require bKash payment."})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-5 md:space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:"block text-sm md:text-base font-medium text-gray-800",children:["Full Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:R,className:`block w-full rounded-md py-2 px-3 border ${a.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Your full name"}),a.name&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.name})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"phone",className:"block text-sm md:text-base font-medium text-gray-800",children:["Phone Number ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 text-sm md:text-base",children:"+88"})}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:D=>{const U=D.target.value.replace(/[^0-9]/g,"");R({target:{name:"phone",value:U}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md py-2 px-3 border ${a.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,pattern:"[0-9]*",inputMode:"numeric"})]}),a.phone&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.phone}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 11 digits (e.g. 01712345678) with only english"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"address",className:"block text-sm md:text-base font-medium text-gray-800",children:["Delivery Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:R,className:`block w-full rounded-md py-2 px-3 border ${a.address?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"House #, Road #, Area, District"}),a.address&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm md:text-base font-medium text-gray-800",children:"Order Notes (Optional)"}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:R,className:`block w-full rounded-md py-2 px-3 border ${a.notes?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Any special instructions for your order...",maxLength:100}),d.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&d.jsx("p",{className:"text-xs md:text-sm text-red-600",children:a.notes}),d.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:R,className:`h-4 w-4 rounded ${a.agreeTerms?"border-red-300 text-red-600 focus:ring-red-500":"border-gray-300 text-blue-600 focus:ring-blue-500"} focus:ring-2`})}),d.jsxs("div",{className:"ml-3",children:[d.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm md:text-base font-medium text-gray-800",children:["I agree to the ",d.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 underline",children:"Terms and Conditions"})," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.agreeTerms})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:"Place Order"}),a.submit&&d.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:a.submit})]})]})]})})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[d.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[x.length," ",x.length===1?"Item":"Items"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(D=>{var B;const U=typeof D.price=="number"?D.price:typeof D.price=="string"?parseFloat(D.price):0,z=Math.floor(U)*D.quantity;return d.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:d.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:D.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[D.quantity," × ৳",N(U)]}),((B=D.size)==null?void 0:B.size)&&d.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",D.size.size]})]})]}),d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",N(z)]})]},D.id)})})]}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",N(L())]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),d.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:w.charge>0?`৳${N(w.charge)} (${w.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:d.jsx("span",{className:"text-green-600",children:"Free"})})]}),T.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",N(T.discount),T.code&&` (${T.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",N(I())]})]})})]})]})]})})]})]})})},WL=()=>{const n=ei(),e=md(),{orderData:t}=n.state||{},[r,a]=q.useState({bkashNumber:"",transactionId:""}),[o,u]=q.useState({}),[h,f]=q.useState(!1),[p,y]=q.useState(!1);if(!t)return e("/checkout"),null;const x=R=>{const E=typeof R=="string"?parseFloat(R):R;return Math.floor(E).toLocaleString("en-US")},w=R=>{const{name:E,value:_}=R.target;a({...r,[E]:_}),o[E]&&u({...o,[E]:""})},T=()=>{const R={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(R.bkashNumber="Please enter a valid bKash number"):R.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(R.transactionId="Transaction ID should be at least 8 characters"):R.transactionId="Transaction ID is required",u(R),Object.keys(R).length===0},N=async R=>{try{const E=[];console.log("Items to update:",R);for(const _ of R){const D=xs(Ft,"products",_.id),U=await Gf(D);if(!U.exists()){console.warn(`Product not found: ${_.id}`);continue}const z=U.data();console.log(`Product data for ${_.id}:`,z);let B={};if(_.color&&_.size&&z.colorVariants){console.log(`Updating with color and size for ${_.id}`,_);const M=z.colorVariants.map(j=>j);console.log("Updated color variants:",M),B={colorVariants:M,stock:(z.stock||0)-_.quantity}}else if(_.color&&z.colorVariants&&!_.size){console.log(`Updating with only color for ${_.id}`,_);const M=z.colorVariants.map(j=>j.colorName===_.color.name?{...j,stock:(j.stock||0)-_.quantity}:j);console.log("Updated color variants:",M),B={colorVariants:M,stock:(z.stock||0)-_.quantity}}else console.log(`Updating regular product ${_.id}`,_),B={stock:(z.stock||0)-_.quantity};E.push(Mm(D,B))}await Promise.all(E),console.log("All stock updates completed successfully")}catch(E){throw console.error("Error updating product stock:",E),E}},L=async(R,E,_,D,U,z)=>{try{const B=`প্রিয় ${_}, আপনার অর্ডার #${R} সফলভাবে গ্রহণ করা হয়েছে! মোট: ৳${x(U)}। পণ্য: ${D.slice(0,3).map(C=>C.name).join(", ")}${D.length>3?` এবং আরো ${D.length-3}টি`:""}। অর্ডার সম্পর্কিত যেকোনো তথ্যের জন্য কল করুন আমাদের helpline এ 01783694568 . mahiracollection থেকে shopping এর জন্য আপনাকে ধন্যবাদ।`,M=z==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",j=`নতুন অর্ডার #${R}
গ্রাহক: ${_}
মোবাইল: ${E}
পণ্য: ${D.map(C=>`${C.name} (${C.quantity}x)`).join(", ")}
মোট: ৳${x(U)}
পেমেন্ট: ${M}`,O={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${E.replace(/^0/,"")}`,message:B},{to:"8801736600480",message:j}]},k=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).json();if(console.log("SMS API রেস্পন্স:",k),k.error_message)throw new Error(k.error_message);return k}catch(B){console.error("SMS পাঠানোর সময় ত্রুটি:",B)}},I=async()=>{if(!(t.paymentMethod==="bkash"&&!T())){f(!0);try{await N(t.items);const R=xs(Ft,"orders",t.customer.phone),E=`${Date.now()}`.slice(-6),_={...t,orderId:E,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(_.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await Gf(R)).exists()?await Qf(R,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:IO(_),updatedAt:new Date().toISOString()},{merge:!0}):await Qf(R,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[_],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await L(E,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(R){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",R)}finally{f(!1)}}};return p?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:d.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",d.jsx("span",{className:"font-medium",children:t.customer.phone})]}),d.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),d.jsxs("div",{className:"px-6 py-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((R,E)=>{var D,U;const _=Math.floor(R.price)*R.quantity;return d.jsxs("li",{className:"py-4 flex justify-between",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:d.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.name}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.quantity," × ৳",x(R.price)]}),((D=R.size)==null?void 0:D.size)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",R.size.size]}),((U=R.color)==null?void 0:U.color)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",R.color.color]})]})]}),d.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",x(_)]})]},E)})})]}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),d.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",x(t.subtotal)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${x(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:d.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),d.jsxs("span",{className:"text-sm font-medium",children:["-৳",x(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:d.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[d.jsx("span",{children:"মোট"}),d.jsxs("span",{children:["৳",x(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-red-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:[d.jsxs("h2",{className:"text-lg font-bold text-red-800 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"bKash পেমেন্ট ডিটেইলস (অত্যন্ত গুরুত্বপূর্ণ)"]}),d.jsx("p",{className:"mt-1 text-sm text-red-700",children:"সাবধানতার সাথে সঠিক তথ্য প্রদান করুন"})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-900 mb-1",children:["আপনার bKash নাম্বার ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-700 font-medium",children:"+88"})}),d.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:R=>{const E=R.target.value.replace(/[^0-9]/g,"");w({target:{name:"bkashNumber",value:E}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2.5 rounded-md border-2 ${o.bkashNumber?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,pattern:"[0-9]*",inputMode:"numeric",onBlur:()=>{r.bkashNumber&&!/^01[3-9]\d{8}$/.test(r.bkashNumber)&&u({...o,bkashNumber:"সঠিক ১১ ডিজিটের bKash নম্বর দিন (01XXXXXXXXX)"})}})]}),o.bkashNumber?d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.bkashNumber]}):d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"অবশ্যই 11 ডিজিটের সঠিক bKash নম্বর দিন (যেমন: 01712345678)"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-900 mb-1",children:["ট্রানজেকশন আইডি (TrxID) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:w,className:`block w-full py-2.5 px-3 rounded-md border-2 ${o.transactionId?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,placeholder:"ট্রানজেকশন আইডি লিখুন (যেমন: 8A7D6F5G4H)",onBlur:()=>{r.transactionId||u({...o,transactionId:"ট্রানজেকশন আইডি দিন"})}}),o.transactionId&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.transactionId]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[d.jsxs("h3",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"পেমেন্ট নির্দেশাবলী:"]}),d.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"1."}),d.jsxs("span",{children:["bKash নম্বর: ",d.jsx("strong",{className:"text-blue-900",children:"01783694568"})," এ ৳",x(t.total)," পাঠান"]})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"2."}),d.jsx("span",{children:"উপরে আপনার bKash নম্বর এবং সঠিক ট্রানজেকশন আইডি লিখুন"})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"3."}),d.jsx("span",{className:"text-red-600 font-semibold",children:"ভুল তথ্য দিলে আপনার পেমেন্ট গ্রহণ করা হবে না"})]})]})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200 text-sm text-yellow-800",children:[d.jsxs("p",{className:"font-bold flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"গুরুত্বপূর্ণ নোট:"]}),d.jsx("p",{className:"mt-1",children:"আপনার পেমেন্ট যাচাই করার জন্য আমরা আপনার প্রদত্ত নম্বরে কল করতে পারি। অনুগ্রহ করে সঠিক তথ্য প্রদান করুন।"})]})]})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),d.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:d.jsx("div",{className:"px-6 py-4",children:d.jsx("button",{onClick:I,disabled:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:h?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},zE=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(!0),[a,o]=q.useState(""),[u,h]=q.useState(null),[f,p]=q.useState(!0),[y,x]=q.useState(!1),[w]=q.useState(10),[T,N]=q.useState(null),[L,I]=q.useState({name:"",price:"",discount:0,description:"",category:"",mainImage:"",colorVariants:[]});q.useEffect(()=>{(async()=>{try{r(!0);const P=Zn(Ft,"products"),k=Zs(P,Q0("name"),mc(w)),C=await ss(k),J=C.docs.map($=>R($));e(J);const ae=C.docs[C.docs.length-1];h(ae),p(C.docs.length===w),x(!0)}catch(P){console.error("Error fetching products: ",P)}finally{r(!1)}})()},[w]);const R=O=>{const P=O.data();return{id:O.id,name:P.name||"",price:P.price||0,discount:P.discount||0,description:P.description||"",category:P.category||"",mainImage:P.mainImage||"",colorVariants:Array.isArray(P.colorVariants)?P.colorVariants.map(k=>({colorName:k.colorName||"",thumbnail:k.thumbnail||"",images:Array.isArray(k.images)?k.images:[],sizes:Array.isArray(k.sizes)?k.sizes.map(C=>({size:C.size||"",stock:Number(C.stock)||0})):[],stock:Number(k.stock)||0})):[]}},E=async()=>{if(!(!u||!f)){r(!0);try{const O=Zn(Ft,"products"),P=Zs(O,Q0("name"),xv(u),mc(w)),k=await ss(P),C=k.docs.map(ae=>R(ae));e(ae=>[...ae,...C]);const J=k.docs[k.docs.length-1];h(J),p(k.docs.length===w)}catch(O){console.error("Error loading more products: ",O)}finally{r(!1)}}},_=n.filter(O=>{if(!a)return!0;const P=a.toLowerCase();return(O.name||"").toLowerCase().includes(P)||(O.category||"").toLowerCase().includes(P)||(O.description||"").toLowerCase().includes(P)}),D=O=>{N(O.id),I({name:O.name||"",price:O.price||0,discount:O.discount||0,description:O.description||"",category:O.category||"",mainImage:O.mainImage||"",colorVariants:Array.isArray(O.colorVariants)?O.colorVariants.map(P=>({...P,sizes:Array.isArray(P.sizes)?P.sizes.map(k=>({...k,stock:Number(k.stock)||0})):[]})):[]})},U=O=>{const{name:P,value:k}=O.target;(P==="price"||P==="discount")&&!/^[0-9]*\.?[0-9]*$/.test(k)&&k!==""||I({...L,[P]:k})},z=(O,P,k)=>{const C=[...L.colorVariants||[]];C[O]||(C[O]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),P==="images"?C[O][P]=k.split(",").map(J=>J.trim()):C[O][P]=k,I({...L,colorVariants:C})},B=(O,P,k)=>{if(!/^\d*$/.test(k))return;const C=[...L.colorVariants||[]];C[O]||(C[O]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),Array.isArray(C[O].sizes)||(C[O].sizes=[]),C[O].sizes[P]||(C[O].sizes[P]={size:"",stock:0}),C[O].sizes[P].stock=parseInt(k)||0;const J=C[O].sizes.reduce((ae,$)=>ae+($.stock||0),0);C[O].stock=J,I({...L,colorVariants:C})},M=async O=>{O.preventDefault();try{const P=xs(Ft,"products",T);await Mm(P,L),e(n.map(k=>k.id===T?{...k,...L}:k)),N(null),alert("Product updated successfully!")}catch(P){console.error("Error updating product: ",P),alert("Error updating product")}},j=async O=>{if(window.confirm("Are you sure you want to delete this product?"))try{await mS(xs(Ft,"products",O)),e(n.filter(P=>P.id!==O)),alert("Product deleted successfully!")}catch(P){console.error("Error deleting product: ",P),alert("Error deleting product")}};return t&&!y?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Product Management"}),d.jsx("div",{className:"mb-4 sm:mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search by name, category or description...",className:"w-full p-2 sm:p-3 pl-8 sm:pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",value:a,onChange:O=>o(O.target.value)}),d.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d.jsxs("div",{className:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600",children:["Showing ",_.length," ",_.length===1?"product":"products",a&&` matching "${a}"`,!a&&` (${f?"first":""} ${n.length} of all products)`]}),d.jsx("div",{className:"grid gap-4 sm:gap-6",children:_.length===0?d.jsxs("div",{className:"text-center py-6 sm:py-10",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-500",children:"No products found"}),a&&d.jsx("button",{onClick:()=>o(""),className:"mt-2 text-sm sm:text-base text-blue-600 hover:text-blue-800",children:"Clear search"})]}):d.jsxs(d.Fragment,{children:[_.map(O=>d.jsx("div",{className:"w-[450px] sm:w-[100%] border border-red-600 rounded-lg p-3 sm:p-4 md:p-6 shadow-sm bg-white for_res",children:T===O.id?d.jsxs("form",{onSubmit:M,className:"space-y-4 sm:space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold mb-3 sm:mb-4",children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:L.name,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Category *"}),d.jsx("input",{type:"text",name:"category",value:L.category,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Price *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"price",value:L.price,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"discount",value:L.discount,onChange:U,min:"0",max:"100",className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Description *"}),d.jsx("textarea",{name:"description",value:L.description,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:"3",required:!0})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Main Image URL *"}),d.jsx("input",{type:"text",name:"mainImage",value:L.mainImage,onChange:U,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),L.mainImage&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:L.mainImage,alt:"Preview",className:"h-16 sm:h-20 object-cover rounded border",onError:P=>{P.target.onerror=null,P.target.src="https://via.placeholder.com/150?text=Image+Error"}})})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold",children:"Color Variants"})}),(L.colorVariants||[]).map((P,k)=>{var C;return d.jsxs("div",{className:"border border-gray-200 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4 bg-white",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Color Name *"}),d.jsx("input",{type:"text",value:P.colorName||"",onChange:J=>z(k,"colorName",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Total Stock"}),d.jsx("input",{type:"text",value:P.stock||0,readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-sm sm:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Thumbnail URL *"}),d.jsx("input",{type:"text",value:P.thumbnail||"",onChange:J=>z(k,"thumbnail",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),P.thumbnail&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:P.thumbnail,alt:"Thumbnail Preview",className:"h-12 sm:h-16 object-cover rounded border",onError:J=>{J.target.onerror=null,J.target.src="https://via.placeholder.com/100?text=Thumbnail+Error"}})})]})]}),d.jsxs("div",{className:"mb-3 sm:mb-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Image URLs (comma separated) *"}),d.jsx("input",{type:"text",value:(P.images||[]).join(", "),onChange:J=>z(k,"images",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-2",children:(C=P.images)==null?void 0:C.map((J,ae)=>d.jsx("img",{src:J,alt:`Preview ${ae}`,className:"h-10 sm:h-12 object-cover rounded border",onError:$=>{$.target.onerror=null,$.target.src="https://via.placeholder.com/50?text=Image+Error"}},ae))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Sizes and Stock"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:(P.sizes||[]).map((J,ae)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"mb-1 sm:mb-2",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Size"}),d.jsx("input",{type:"text",value:J.size||"",readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-xs sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:J.stock||0,onChange:$=>B(k,ae,$.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm",required:!0})]})]},ae))})]})]},k)})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>N(null),className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors text-sm sm:text-base",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base",children:"Save Changes"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold",children:O.name||"Unnamed Product"}),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[O.discount>0&&d.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full text-xs",children:[O.discount,"% OFF"]}),d.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full text-xs",children:O.category||"Uncategorized"})]})]}),d.jsxs("div",{className:"flex space-x-1 sm:space-x-2 mt-2 sm:mt-0",children:[d.jsx("button",{onClick:()=>D(O),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-colors text-xs sm:text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>j(O.id),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs sm:text-sm",children:"Delete"})]})]}),O.mainImage&&d.jsx("div",{className:"mb-3 sm:mb-4",children:d.jsx("img",{src:O.mainImage,alt:O.name||"Product image",className:"w-full h-40 sm:h-48 md:h-64 object-cover rounded-lg",onError:P=>{P.target.onerror=null,P.target.src="https://via.placeholder.com/600x400?text=Image+Not+Available"}})}),d.jsx("p",{className:"text-gray-600 break-words mb-3 sm:mb-4 text-xs sm:text-sm",children:O.description||"No description available"}),d.jsx("div",{className:"flex items-center mb-3 sm:mb-4",children:O.discount>0?d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-500 line-through",children:["$",O.price||0]}),d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-red-600",children:["$",(O.price*(1-O.discount/100)).toFixed(2)]})]}):d.jsxs("span",{className:"text-sm sm:text-base font-semibold",children:["$",O.price||0]})}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("h3",{className:"font-medium mb-1 sm:mb-2 text-xs sm:text-sm",children:"Color Variants:"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:(O.colorVariants||[]).map((P,k)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-1 sm:mb-2 gap-1 sm:gap-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full mr-1 sm:mr-2 border border-gray-300",style:{backgroundColor:(P.colorName||"").toLowerCase()}}),d.jsx("span",{className:"font-medium text-xs sm:text-sm",children:P.colorName||"No color name"})]}),d.jsxs("span",{className:"sm:ml-auto text-xs sm:text-sm",children:["Stock: ",P.stock||0]})]}),P.thumbnail&&d.jsx("img",{src:P.thumbnail,alt:`${P.colorName} thumbnail`,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded mb-1 sm:mb-2",onError:C=>{C.target.onerror=null,C.target.src="https://via.placeholder.com/100?text=Thumbnail"}}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-medium mb-1",children:"Sizes:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(P.sizes||[]).map((C,J)=>d.jsxs("span",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:[C.size||"N/A",": ",C.stock||0]},J))})]})]},k))})]})]})},O.id)),f&&!a&&d.jsx("div",{className:"flex justify-center mt-4 sm:mt-6",children:d.jsx("button",{onClick:E,disabled:t,className:`px-4 py-1.5 sm:px-6 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base ${t?"opacity-70 cursor-not-allowed":""}`,children:t?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})}),!f&&!a&&n.length>0&&d.jsx("div",{className:"text-center py-3 sm:py-4 text-xs sm:text-sm text-gray-500",children:"You've reached the end of the product list."})]})})]})};function ZL(){return d.jsx("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[d.jsx("div",{className:"text-xl font-bold text-center md:text-left",children:"Admin Panel"}),d.jsxs("ul",{className:"flex flex-wrap justify-center md:justify-end gap-4 text-sm font-medium",children:[d.jsx("li",{children:d.jsx(it,{to:"product-update",className:"hover:text-yellow-300",children:"Product Update"})}),d.jsx("li",{children:d.jsx(it,{to:"upload-products",className:"hover:text-yellow-300",children:"Product Upload"})}),d.jsx("li",{children:d.jsx(it,{to:"product-category",className:"hover:text-yellow-300",children:"Category Update"})}),d.jsx("li",{children:d.jsx(it,{to:"headline-update",className:"hover:text-yellow-300",children:"Headline Update"})}),d.jsx("li",{children:d.jsx(it,{to:"banner-update",className:"hover:text-yellow-300",children:"Banner Update"})})]})]})})}const JL=()=>d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx(ZL,{}),d.jsx("div",{className:"pt-10 p-0 md:p-2",children:d.jsx(pT,{})})]}),e9=()=>{const[n,e]=q.useState(""),[t,r]=q.useState(!1),[a,o]=q.useState(""),[u,h]=q.useState(""),[f,p]=q.useState("");q.useEffect(()=>{(async()=>{r(!0),o("");try{const w=await ss(Zn(Ft,"headline"));if(w.empty)o("No documents found in headline collection");else{const T=w.docs[0];p(T.id),e(T.data().news||"")}}catch(w){o("Failed to fetch headline: "+w.message),console.error("Error fetching documents: ",w)}finally{r(!1)}})()},[]);const y=async x=>{if(x.preventDefault(),!f){o("No document found to update");return}r(!0),o(""),h("");try{const w=xs(Ft,"headline",f);await Mm(w,{news:n}),h("News updated successfully!")}catch(w){o("Failed to update news: "+w.message),console.error("Error updating document: ",w)}finally{r(!1)}};return d.jsxs("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Update Headline News"}),t&&d.jsx("div",{className:"mb-4 text-blue-600",children:"Loading..."}),a&&d.jsx("div",{className:"mb-4 text-red-600",children:a}),u&&d.jsx("div",{className:"mb-4 text-green-600",children:u}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"news",className:"block text-sm font-medium text-gray-700 mb-1",children:"News Content *"}),d.jsx("textarea",{id:"news",value:n,onChange:x=>e(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"6",placeholder:"Enter news content here...",required:!0,disabled:t})]}),d.jsx("button",{type:"submit",disabled:t,className:`px-4 py-2 rounded-md text-white ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:t?"Updating...":"Update News"})]})]})},t9=dI([{path:"/",element:d.jsx(b6,{}),children:[{index:!0,element:d.jsx(CE,{})},{path:"/home",element:d.jsx(CE,{})},{path:"/category/:gender",element:d.jsx(QL,{})},{path:"/category/:gender/:category",element:d.jsx(RE,{})},{path:"/category/:gender",element:d.jsx(RE,{})},{path:"/all-categories",element:d.jsx(hN,{})},{path:"/product/:productId",element:d.jsx($L,{})},{path:"/admin",element:d.jsx(eL,{})},{path:"/cart",element:d.jsx(YL,{})},{path:"/checkout",element:d.jsx(XL,{})},{path:"/complete-order",element:d.jsx(WL,{})},{path:"/footer",element:d.jsx(dN,{})},{path:"/admin-panel",element:d.jsx(JL,{}),children:[{index:!0,element:d.jsx(zE,{})},{path:"product-update",element:d.jsx(zE,{})},{path:"upload-products",element:d.jsx(GL,{})},{path:"product-category",element:d.jsx(KL,{})},{path:"headline-update",element:d.jsx(e9,{})},{path:"banner-update",element:d.jsx("div",{children:"Banner Update Page"})}]}]}]);pC.createRoot(document.getElementById("root")).render(d.jsx(q.StrictMode,{children:d.jsx(J5,{children:d.jsx(SI,{router:t9})})}));
