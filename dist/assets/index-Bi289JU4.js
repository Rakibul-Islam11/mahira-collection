var tw=n=>{throw TypeError(n)};var Bg=(n,e,t)=>e.has(n)||tw("Cannot "+t);var Y=(n,e,t)=>(Bg(n,e,"read from private field"),t?t.call(n):e.get(n)),Ke=(n,e,t)=>e.has(n)?tw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Bg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),yt=(n,e,t)=>(Bg(n,e,"access private method"),t);var Yh=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function rT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fg={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function vC(){if(nw)return Tu;nw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var rw;function xC(){return rw||(rw=1,Fg.exports=vC()),Fg.exports}var d=xC(),qg={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function bC(){if(sw)return nt;sw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function C(H,ce,ve){this.props=H,this.context=ce,this.refs=P,this.updater=ve||E}C.prototype.isReactComponent={},C.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function A(){}A.prototype=C.prototype;function T(H,ce,ve){this.props=H,this.context=ce,this.refs=P,this.updater=ve||E}var b=T.prototype=new A;b.constructor=T,S(b,C.prototype),b.isPureReactComponent=!0;var O=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function V(H,ce,ve,ge,Se,Ve){return ve=Ve.ref,{$$typeof:n,type:H,key:ce,ref:ve!==void 0?ve:null,props:Ve}}function j(H,ce){return V(H.type,ce,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function D(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ce[ve]})}var k=/\/+/g;function L(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?D(""+H.key):ce.toString(36)}function R(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(R,R):(H.status="pending",H.then(function(ce){H.status==="pending"&&(H.status="fulfilled",H.value=ce)},function(ce){H.status==="pending"&&(H.status="rejected",H.reason=ce)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function oe(H,ce,ve,ge,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,oe(Ee(H._payload),ce,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+L(H,0):ge,O(Se)?(ve="",Ee!=null&&(ve=Ee.replace(k,"$&/")+"/"),oe(Se,ce,ve,"",function(lt){return lt})):Se!=null&&(M(Se)&&(Se=j(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(k,"$&/")+"/")+Ee)),ce.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(O(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],Ve=ye+L(ge,Te),Ee+=oe(ge,ce,ve,Ve,Se);else if(Te=_(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,Ve=ye+L(ge,Te++),Ee+=oe(ge,ce,ve,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return oe(J(H),ce,ve,ge,Se);throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,ce,ve){if(H==null)return H;var ge=[],Se=0;return oe(H,ge,"","",function(Ve){return ce.call(ve,Ve,Se++)}),ge}function se(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return nt.Children={map:$,forEach:function(H,ce,ve){$(H,function(){ce.apply(this,arguments)},ve)},count:function(H){var ce=0;return $(H,function(){ce++}),ce},toArray:function(H){return $(H,function(ce){return ce})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},nt.Component=C,nt.Fragment=t,nt.Profiler=a,nt.PureComponent=T,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},nt.cache=function(H){return function(){return H.apply(null,arguments)}},nt.cloneElement=function(H,ce,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=S({},H.props),Se=H.key,Ve=void 0;if(ce!=null)for(Ee in ce.ref!==void 0&&(Ve=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!U.call(ce,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ce.ref===void 0||(ge[Ee]=ce[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return V(H.type,Se,void 0,void 0,Ve,ge)},nt.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},nt.createElement=function(H,ce,ve){var ge,Se={},Ve=null;if(ce!=null)for(ge in ce.key!==void 0&&(Ve=""+ce.key),ce)U.call(ce,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=ce[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return V(H,Ve,void 0,void 0,null,Se)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(H){return{$$typeof:h,render:H}},nt.isValidElement=M,nt.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:se}},nt.memo=function(H,ce){return{$$typeof:p,type:H,compare:ce===void 0?null:ce}},nt.startTransition=function(H){var ce=z.T,ve={};z.T=ve;try{var ge=H(),Se=z.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,ae)}catch(Ve){ae(Ve)}finally{z.T=ce}},nt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},nt.use=function(H){return z.H.use(H)},nt.useActionState=function(H,ce,ve){return z.H.useActionState(H,ce,ve)},nt.useCallback=function(H,ce){return z.H.useCallback(H,ce)},nt.useContext=function(H){return z.H.useContext(H)},nt.useDebugValue=function(){},nt.useDeferredValue=function(H,ce){return z.H.useDeferredValue(H,ce)},nt.useEffect=function(H,ce,ve){var ge=z.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,ce)},nt.useId=function(){return z.H.useId()},nt.useImperativeHandle=function(H,ce,ve){return z.H.useImperativeHandle(H,ce,ve)},nt.useInsertionEffect=function(H,ce){return z.H.useInsertionEffect(H,ce)},nt.useLayoutEffect=function(H,ce){return z.H.useLayoutEffect(H,ce)},nt.useMemo=function(H,ce){return z.H.useMemo(H,ce)},nt.useOptimistic=function(H,ce){return z.H.useOptimistic(H,ce)},nt.useReducer=function(H,ce,ve){return z.H.useReducer(H,ce,ve)},nt.useRef=function(H){return z.H.useRef(H)},nt.useState=function(H){return z.H.useState(H)},nt.useSyncExternalStore=function(H,ce,ve){return z.H.useSyncExternalStore(H,ce,ve)},nt.useTransition=function(){return z.H.useTransition()},nt.version="19.1.0",nt}var iw;function um(){return iw||(iw=1,qg.exports=bC()),qg.exports}var q=um();const Fe=rT(q);var Hg={exports:{}},Su={},$g={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function wC(){return aw||(aw=1,function(n){function e($,se){var ae=$.length;$.push(se);e:for(;0<ae;){var xe=ae-1>>>1,H=$[xe];if(0<a(H,se))$[xe]=se,$[ae]=H,ae=xe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var se=$[0],ae=$.pop();if(ae!==se){$[0]=ae;e:for(var xe=0,H=$.length,ce=H>>>1;xe<ce;){var ve=2*(xe+1)-1,ge=$[ve],Se=ve+1,Ve=$[Se];if(0>a(ge,ae))Se<H&&0>a(Ve,ge)?($[xe]=Ve,$[Se]=ae,xe=Se):($[xe]=ge,$[ve]=ae,xe=ve);else if(Se<H&&0>a(Ve,ae))$[xe]=Ve,$[Se]=ae,xe=Se;else break e}}return se}function a($,se){var ae=$.sortIndex-se.sortIndex;return ae!==0?ae:$.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,x=null,_=3,E=!1,S=!1,P=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function O($){for(var se=t(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=$)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(p)}}function z($){if(P=!1,O($),!S)if(t(f)!==null)S=!0,U||(U=!0,L());else{var se=t(p);se!==null&&oe(z,se.startTime-$)}}var U=!1,V=-1,j=5,M=-1;function D(){return C?!0:!(n.unstable_now()-M<j)}function k(){if(C=!1,U){var $=n.unstable_now();M=$;var se=!0;try{e:{S=!1,P&&(P=!1,T(V),V=-1),E=!0;var ae=_;try{t:{for(O($),x=t(f);x!==null&&!(x.expirationTime>$&&D());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,_=x.priorityLevel;var H=xe(x.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){x.callback=H,O($),se=!0;break t}x===t(f)&&r(f),O($)}else r(f);x=t(f)}if(x!==null)se=!0;else{var ce=t(p);ce!==null&&oe(z,ce.startTime-$),se=!1}}break e}finally{x=null,_=ae,E=!1}se=void 0}}finally{se?L():U=!1}}}var L;if(typeof b=="function")L=function(){b(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,J=R.port2;R.port1.onmessage=k,L=function(){J.postMessage(null)}}else L=function(){A(k,0)};function oe($,se){V=A(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ae=_;_=se;try{return $()}finally{_=ae}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=_;_=$;try{return se()}finally{_=ae}},n.unstable_scheduleCallback=function($,se,ae){var xe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,$={id:y++,callback:se,priorityLevel:$,startTime:ae,expirationTime:H,sortIndex:-1},ae>xe?($.sortIndex=ae,e(p,$),t(f)===null&&$===t(p)&&(P?(T(V),V=-1):P=!0,oe(z,ae-xe))):($.sortIndex=H,e(f,$),S||E||(S=!0,U||(U=!0,L()))),$},n.unstable_shouldYield=D,n.unstable_wrapCallback=function($){var se=_;return function(){var ae=_;_=se;try{return $.apply(this,arguments)}finally{_=ae}}}}(Gg)),Gg}var ow;function _C(){return ow||(ow=1,$g.exports=wC()),$g.exports}var Qg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function EC(){if(lw)return Gn;lw=1;var n=um();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Gn.flushSync=function(f){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=y,r.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:E}):y==="script"&&r.d.X(f,{crossOrigin:x,integrity:_,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Gn.requestFormReset=function(f){r.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var cw;function sT(){if(cw)return Qg.exports;cw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qg.exports=EC(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function TC(){if(uw)return Su;uw=1;var n=_C(),e=um(),t=sT();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===u)return h(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var I=!1,B=g.child;B;){if(B===l){I=!0,l=g,u=v;break}if(B===u){I=!0,u=g,l=v;break}B=B.sibling}if(!I){for(B=v.child;B;){if(B===l){I=!0,l=v,u=g;break}if(B===u){I=!0,u=v,l=g;break}B=B.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),b=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case C:return"Profiler";case P:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case b:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case O:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return i=s.displayName||null,i!==null?i:J(s.type)||"Memo";case j:i=s._payload,s=s._init;try{return J(s(i))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function ce(s){return{current:s}}function ve(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function ge(s,i){H++,xe[H]=s.current,s.current=i}var Se=ce(null),Ve=ce(null),Ee=ce(null),ye=ce(null);function Te(s,i){switch(ge(Ee,i),ge(Ve,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?R1(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=R1(i),s=I1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function lt(){ve(Se),ve(Ve),ve(Ee)}function et(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=I1(i,s.type);i!==l&&(ge(Ve,s),ge(Se,l))}function jt(s){Ve.current===s&&(ve(Se),ve(Ve)),ye.current===s&&(ve(ye),xu._currentValue=ae)}var $t=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,hr=n.unstable_shouldYield,er=n.unstable_requestPaint,Wt=n.unstable_now,Es=n.unstable_getCurrentPriorityLevel,Ts=n.unstable_ImmediatePriority,Ss=n.unstable_UserBlockingPriority,as=n.unstable_NormalPriority,tr=n.unstable_LowPriority,nr=n.unstable_IdlePriority,Ns=n.log,os=n.unstable_setDisableYieldValue,xt=null,Ze=null;function En(s){if(typeof Ns=="function"&&os(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(xt,s)}catch{}}var Qt=Math.clz32?Math.clz32:zr,ti=Math.log,fr=Math.LN2;function zr(s){return s>>>=0,s===0?32:31-(ti(s)/fr|0)|0}var Ur=256,Me=4194304;function je(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tt(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,v=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var B=u&134217727;return B!==0?(u=B&~v,u!==0?g=je(u):(I&=B,I!==0?g=je(I):l||(l=B&~s,l!==0&&(g=je(l))))):(B=u&~v,B!==0?g=je(B):I!==0?g=je(I):l||(l=u&~s,l!==0&&(g=je(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function pt(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Ht(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var s=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),s}function rr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function jn(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function qn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mn(s,i,l,u,g,v){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var B=s.entanglements,G=s.expirationTimes,ne=s.hiddenUpdates;for(l=I&~l;0<l;){var ue=31-Qt(l),me=1<<ue;B[ue]=0,G[ue]=-1;var re=ne[ue];if(re!==null)for(ne[ue]=null,ue=0;ue<re.length;ue++){var ie=re[ue];ie!==null&&(ie.lane&=-536870913)}l&=~me}u!==0&&Kt(s,u,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(I&~i))}function Kt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-Qt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Br(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-Qt(l),g=1<<u;g&i|s[u]&i&&(s[u]|=i),l&=~g}}function Er(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function As(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:Y1(s.type))}function W(s,i){var l=se.p;try{return se.p=s,i()}finally{se.p=l}}var te=Math.random().toString(36).slice(2),fe="__reactFiber$"+te,be="__reactProps$"+te,Ae="__reactContainer$"+te,ze="__reactEvents$"+te,Ce="__reactListeners$"+te,Oe="__reactHandles$"+te,Pe="__reactResources$"+te,Ue="__reactMarker$"+te;function De(s){delete s[fe],delete s[be],delete s[ze],delete s[Ce],delete s[Oe]}function qe(s){var i=s[fe];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ae]||l[fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=D1(s);s!==null;){if(l=s[fe])return l;s=D1(s)}return i}s=l,l=s.parentNode}return null}function ct(s){if(s=s[fe]||s[Ae]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function At(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Tt(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(s){s[Ue]=!0}var it=new Set,Fr={};function pn(s,i){sr(s,i),sr(s+"Capture",i)}function sr(s,i){for(Fr[s]=i,s=0;s<i.length;s++)it.add(i[s])}var On=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},Tr={};function ki(s){return $t.call(Tr,s)?!0:$t.call(Cs,s)?!1:On.test(s)?Tr[s]=!0:(Cs[s]=!0,!1)}function Hn(s,i,l){if(ki(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function ir(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ye(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}var on,Sr;function mr(s){if(on===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);on=i&&i[1]||"",Sr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+on+s+Sr}var Rs=!1;function Vt(s,i){if(!s||Rs)return"";Rs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var re=ie}Reflect.construct(s,[],me)}else{try{me.call()}catch(ie){re=ie}s.call(me.prototype)}}else{try{throw Error()}catch(ie){re=ie}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),I=v[0],B=v[1];if(I&&B){var G=I.split(`
`),ne=B.split(`
`);for(g=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(u===G.length||g===ne.length)for(u=G.length-1,g=ne.length-1;1<=u&&0<=g&&G[u]!==ne[g];)g--;for(;1<=u&&0<=g;u--,g--)if(G[u]!==ne[g]){if(u!==1||g!==1)do if(u--,g--,0>g||G[u]!==ne[g]){var ue=`
`+G[u].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=u&&0<=g);break}}}finally{Rs=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?mr(l):""}function qr(s){switch(s.tag){case 26:case 27:case 5:return mr(s.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return Vt(s.type,!1);case 11:return Vt(s.type.render,!1);case 1:return Vt(s.type,!0);case 31:return mr("Activity");default:return""}}function ni(s){try{var i="";do i+=qr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ac(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $m(s){var i=Ac(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),u=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(I){u=""+I,v.call(this,I)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Ho(s){s._valueTracker||(s._valueTracker=$m(s))}function Cc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=Ac(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function $a(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gm=/[\n"\\]/g;function ln(s){return s.replace(Gm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nr(s,i,l,u,g,v,I,B){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),i!=null?I==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),i!=null?Li(s,I,Dn(i)):l!=null?Li(s,I,Dn(l)):u!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Dn(B):s.removeAttribute("name")}function Ga(s,i,l,u,g,v,I,B){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,B||i===s.value||(s.value=i),s.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=B?s.checked:!!u,s.defaultChecked=!!u,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Li(s,i,l){i==="number"&&$a(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ri(s,i,l,u){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Dt(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function Qa(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(oe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Hr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Ka.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Rc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&l[g]!==u&&Dd(s,g,u)}else for(var v in i)i.hasOwnProperty(v)&&Dd(s,v,i[v])}function Ic(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Km=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(s){return Km.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var si=null;function $r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ii=null,ai=null;function jc(s){var i=ct(s);if(i&&(s=i.stateNode)){var l=s[be]||null;e:switch(s=i.stateNode,i.type){case"input":if(Nr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var g=u[be]||null;if(!g)throw Error(r(90));Nr(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&Cc(u)}break e;case"textarea":Dt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ri(s,!!l.multiple,i,!1)}}}var Is=!1;function Pd(s,i,l){if(Is)return s(i,l);Is=!0;try{var u=s(i);return u}finally{if(Is=!1,(ii!==null||ai!==null)&&(Ch(),ii&&(i=ii,s=ai,ai=ii=null,jc(i),s)))for(i=0;i<s.length;i++)jc(s[i])}}function Ya(s,i){var l=s.stateNode;if(l===null)return null;var u=l[be]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(ls)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Gr=!1}var js=null,Vi=null,oi=null;function Mc(){if(oi)return oi;var s,i=Vi,l=i.length,u,g="value"in js?js.value:js.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var I=l-s;for(u=1;u<=I&&i[l-u]===g[v-u];u++);return oi=g.slice(s,1<u?1-u:void 0)}function Ms(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Os(){return!0}function Oc(){return!1}function Tn(s){function i(l,u,g,v,I){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(l=s[B],this[B]=l?l(v):v[B]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Os:Oc,this.isPropagationStopped=Oc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),i}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Tn(Ct),Wa=y({},Ct,{view:0,detail:0}),kd=Tn(Wa),Qo,Ko,Ds,Za=y({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ds&&(Ds&&s.type==="mousemove"?(Qo=s.screenX-Ds.screenX,Ko=s.screenY-Ds.screenY):Ko=Qo=0,Ds=s),Qo)},movementY:function(s){return"movementY"in s?s.movementY:Ko}}),Qr=Tn(Za),Ld=y({},Za,{dataTransfer:0}),Ym=Tn(Ld),Ja=y({},Wa,{relatedTarget:0}),Yo=Tn(Ja),Dc=y({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Tn(Dc),Vd=y({},Ct,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wo=Tn(Vd),Xm=y({},Ct,{data:0}),Pc=Tn(Xm),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Ud[s])?!!i[s]:!1}function to(){return kc}var Bd=y({},Wa,{key:function(s){if(s.key){var i=eo[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ms(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(s){return s.type==="keypress"?Ms(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ms(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zo=Tn(Bd),Fd=y({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=Tn(Fd),li=y({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),qd=Tn(li),Hd=y({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),$d=Tn(Hd),Gd=y({},Za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=Tn(Gd),ar=y({},Ct,{newState:0,oldState:0}),Qd=Tn(ar),Kd=[9,13,27,32],Ps=ls&&"CompositionEvent"in window,m=null;ls&&"documentMode"in document&&(m=document.documentMode);var w=ls&&"TextEvent"in window&&!m,N=ls&&(!Ps||m&&8<m&&11>=m),F=" ",Z=!1;function le(s,i){switch(s){case"keyup":return Kd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bt=!1;function gn(s,i){switch(s){case"compositionend":return we(i);case"keypress":return i.which!==32?null:(Z=!0,F);case"textInput":return s=i.data,s===F&&Z?null:s;default:return null}}function wt(s,i){if(bt)return s==="compositionend"||!Ps&&le(s,i)?(s=Mc(),oi=Vi=js=null,bt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return N&&i.locale!=="ko"?null:i.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Sn[s.type]:i==="textarea"}function ci(s,i,l,u){ii?ai?ai.push(u):ai=[u]:ii=u,i=Dh(i,"onChange"),0<i.length&&(l=new Go("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var Pn=null,ks=null;function Vc(s){T1(s,0)}function Yd(s){var i=At(s);if(Cc(i))return s}function $v(s,i){if(s==="change")return i}var Gv=!1;if(ls){var Wm;if(ls){var Zm="oninput"in document;if(!Zm){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Zm=typeof Qv.oninput=="function"}Wm=Zm}else Wm=!1;Gv=Wm&&(!document.documentMode||9<document.documentMode)}function Kv(){Pn&&(Pn.detachEvent("onpropertychange",Yv),ks=Pn=null)}function Yv(s){if(s.propertyName==="value"&&Yd(ks)){var i=[];ci(i,ks,s,$r(s)),Pd(Vc,i)}}function KN(s,i,l){s==="focusin"?(Kv(),Pn=i,ks=l,Pn.attachEvent("onpropertychange",Yv)):s==="focusout"&&Kv()}function YN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yd(ks)}function XN(s,i){if(s==="click")return Yd(i)}function WN(s,i){if(s==="input"||s==="change")return Yd(i)}function ZN(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Ar=typeof Object.is=="function"?Object.is:ZN;function zc(s,i){if(Ar(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!$t.call(i,g)||!Ar(s[g],i[g]))return!1}return!0}function Xv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Wv(s,i){var l=Xv(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xv(l)}}function Zv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Zv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Jv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=$a(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=$a(s.document)}return i}function Jm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var JN=ls&&"documentMode"in document&&11>=document.documentMode,el=null,ep=null,Uc=null,tp=!1;function ex(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tp||el==null||el!==$a(u)||(u=el,"selectionStart"in u&&Jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Uc&&zc(Uc,u)||(Uc=u,u=Dh(ep,"onSelect"),0<u.length&&(i=new Go("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=el)))}function no(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var tl={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},np={},tx={};ls&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function ro(s){if(np[s])return np[s];if(!tl[s])return s;var i=tl[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in tx)return np[s]=i[l];return s}var nx=ro("animationend"),rx=ro("animationiteration"),sx=ro("animationstart"),eA=ro("transitionrun"),tA=ro("transitionstart"),nA=ro("transitioncancel"),ix=ro("transitionend"),ax=new Map,rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rp.push("scrollEnd");function cs(s,i){ax.set(s,i),pn(i,[s])}var ox=new WeakMap;function Kr(s,i){if(typeof s=="object"&&s!==null){var l=ox.get(s);return l!==void 0?l:(i={value:s,source:i,stack:ni(i)},ox.set(s,i),i)}return{value:s,source:i,stack:ni(i)}}var Yr=[],nl=0,sp=0;function Xd(){for(var s=nl,i=sp=nl=0;i<s;){var l=Yr[i];Yr[i++]=null;var u=Yr[i];Yr[i++]=null;var g=Yr[i];Yr[i++]=null;var v=Yr[i];if(Yr[i++]=null,u!==null&&g!==null){var I=u.pending;I===null?g.next=g:(g.next=I.next,I.next=g),u.pending=g}v!==0&&lx(l,g,v)}}function Wd(s,i,l,u){Yr[nl++]=s,Yr[nl++]=i,Yr[nl++]=l,Yr[nl++]=u,sp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function ip(s,i,l,u){return Wd(s,i,l,u),Zd(s)}function rl(s,i){return Wd(s,null,null,i),Zd(s)}function lx(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Qt(l),s=v.hiddenUpdates,u=s[g],u===null?s[g]=[i]:u.push(i),i.lane=l|536870912),v):null}function Zd(s){if(50<du)throw du=0,dg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var sl={};function rA(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(s,i,l,u){return new rA(s,i,l,u)}function ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ui(s,i){var l=s.alternate;return l===null?(l=Cr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function cx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Jd(s,i,l,u,g,v){var I=0;if(u=s,typeof s=="function")ap(s)&&(I=1);else if(typeof s=="string")I=iC(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Cr(31,l,i,g),s.elementType=M,s.lanes=v,s;case S:return so(l.children,g,v,i);case P:I=8,g|=24;break;case C:return s=Cr(12,l,i,g|2),s.elementType=C,s.lanes=v,s;case z:return s=Cr(13,l,i,g),s.elementType=z,s.lanes=v,s;case U:return s=Cr(19,l,i,g),s.elementType=U,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case b:I=10;break e;case T:I=9;break e;case O:I=11;break e;case V:I=14;break e;case j:I=16,u=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=Cr(I,l,i,g),i.elementType=s,i.type=u,i.lanes=v,i}function so(s,i,l,u){return s=Cr(7,s,u,i),s.lanes=l,s}function op(s,i,l){return s=Cr(6,s,null,i),s.lanes=l,s}function lp(s,i,l){return i=Cr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var il=[],al=0,eh=null,th=0,Xr=[],Wr=0,io=null,di=1,hi="";function ao(s,i){il[al++]=th,il[al++]=eh,eh=s,th=i}function ux(s,i,l){Xr[Wr++]=di,Xr[Wr++]=hi,Xr[Wr++]=io,io=s;var u=di;s=hi;var g=32-Qt(u)-1;u&=~(1<<g),l+=1;var v=32-Qt(i)+g;if(30<v){var I=g-g%5;v=(u&(1<<I)-1).toString(32),u>>=I,g-=I,di=1<<32-Qt(i)+g|l<<g|u,hi=v+s}else di=1<<v|l<<g|u,hi=s}function cp(s){s.return!==null&&(ao(s,1),ux(s,1,0))}function up(s){for(;s===eh;)eh=il[--al],il[al]=null,th=il[--al],il[al]=null;for(;s===io;)io=Xr[--Wr],Xr[Wr]=null,hi=Xr[--Wr],Xr[Wr]=null,di=Xr[--Wr],Xr[Wr]=null}var or=null,Zt=null,Nt=!1,oo=null,Ls=!1,dp=Error(r(519));function lo(s){var i=Error(r(418,""));throw qc(Kr(i,s)),dp}function dx(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[fe]=s,i[be]=u,l){case"dialog":dt("cancel",i),dt("close",i);break;case"iframe":case"object":case"embed":dt("load",i);break;case"video":case"audio":for(l=0;l<fu.length;l++)dt(fu[l],i);break;case"source":dt("error",i);break;case"img":case"image":case"link":dt("error",i),dt("load",i);break;case"details":dt("toggle",i);break;case"input":dt("invalid",i),Ga(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ho(i);break;case"select":dt("invalid",i);break;case"textarea":dt("invalid",i),Qa(i,u.value,u.defaultValue,u.children),Ho(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||C1(i.textContent,l)?(u.popover!=null&&(dt("beforetoggle",i),dt("toggle",i)),u.onScroll!=null&&dt("scroll",i),u.onScrollEnd!=null&&dt("scrollend",i),u.onClick!=null&&(i.onclick=Ph),i=!0):i=!1,i||lo(s)}function hx(s){for(or=s.return;or;)switch(or.tag){case 5:case 13:Ls=!1;return;case 27:case 3:Ls=!0;return;default:or=or.return}}function Bc(s){if(s!==or)return!1;if(!Nt)return hx(s),Nt=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ag(s.type,s.memoizedProps)),l=!l),l&&Zt&&lo(s),hx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Zt=ds(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Zt=null}}else i===27?(i=Zt,ea(s.type)?(s=jg,jg=null,Zt=s):Zt=i):Zt=or?ds(s.stateNode.nextSibling):null;return!0}function Fc(){Zt=or=null,Nt=!1}function fx(){var s=oo;return s!==null&&(yr===null?yr=s:yr.push.apply(yr,s),oo=null),s}function qc(s){oo===null?oo=[s]:oo.push(s)}var hp=ce(null),co=null,fi=null;function zi(s,i,l){ge(hp,i._currentValue),i._currentValue=l}function mi(s){s._currentValue=hp.current,ve(hp)}function fp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function mp(s,i,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var I=g.child;v=v.firstContext;e:for(;v!==null;){var B=v;v=g;for(var G=0;G<i.length;G++)if(B.context===i[G]){v.lanes|=l,B=v.alternate,B!==null&&(B.lanes|=l),fp(v.return,l,s),u||(I=null);break e}v=B.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,v=I.alternate,v!==null&&(v.lanes|=l),fp(I,l,s),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function Hc(s,i,l,u){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var B=g.type;Ar(g.pendingProps.value,I.value)||(s!==null?s.push(B):s=[B])}}else if(g===ye.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(xu):s=[xu])}g=g.return}s!==null&&mp(i,s,l,u),i.flags|=262144}function nh(s){for(s=s.firstContext;s!==null;){if(!Ar(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function uo(s){co=s,fi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return mx(co,s)}function rh(s,i){return co===null&&uo(s),mx(s,i)}function mx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},fi===null){if(s===null)throw Error(r(308));fi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else fi=fi.next=i;return l}var sA=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},iA=n.unstable_scheduleCallback,aA=n.unstable_NormalPriority,vn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new sA,data:new Map,refCount:0}}function $c(s){s.refCount--,s.refCount===0&&iA(aA,function(){s.controller.abort()})}var Gc=null,gp=0,ol=0,ll=null;function oA(s,i){if(Gc===null){var l=Gc=[];gp=0,ol=vg(),ll={status:"pending",value:void 0,then:function(u){l.push(u)}}}return gp++,i.then(px,px),i}function px(){if(--gp===0&&Gc!==null){ll!==null&&(ll.status="fulfilled");var s=Gc;Gc=null,ol=0,ll=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function lA(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var gx=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&oA(s,i),gx!==null&&gx(s,i)};var ho=ce(null);function yp(){var s=ho.current;return s!==null?s:Ut.pooledCache}function sh(s,i){i===null?ge(ho,ho.current):ge(ho,i.pool)}function yx(){var s=yp();return s===null?null:{parent:vn._currentValue,pool:s}}var Qc=Error(r(460)),vx=Error(r(474)),ih=Error(r(542)),vp={then:function(){}};function xx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ah(){}function bx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(ah,ah),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,_x(s),s;default:if(typeof i.status=="string")i.then(ah,ah);else{if(s=Ut,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,_x(s),s}throw Kc=i,Qc}}var Kc=null;function wx(){if(Kc===null)throw Error(r(459));var s=Kc;return Kc=null,s}function _x(s){if(s===Qc||s===ih)throw Error(r(483))}var Ui=!1;function xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fi(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Mt&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=Zd(s),lx(s,null,l),i}return Wd(s,u,i,l),Zd(s)}function Yc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,Br(s,l)}}function wp(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=I:v=v.next=I,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var _p=!1;function Xc(){if(_p){var s=ll;if(s!==null)throw s}}function Wc(s,i,l,u){_p=!1;var g=s.updateQueue;Ui=!1;var v=g.firstBaseUpdate,I=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var G=B,ne=G.next;G.next=null,I===null?v=ne:I.next=ne,I=G;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,B=ue.lastBaseUpdate,B!==I&&(B===null?ue.firstBaseUpdate=ne:B.next=ne,ue.lastBaseUpdate=G))}if(v!==null){var me=g.baseState;I=0,ue=ne=G=null,B=v;do{var re=B.lane&-536870913,ie=re!==B.lane;if(ie?(_t&re)===re:(u&re)===re){re!==0&&re===ol&&(_p=!0),ue!==null&&(ue=ue.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Qe=s,Be=B;re=i;var Lt=l;switch(Be.tag){case 1:if(Qe=Be.payload,typeof Qe=="function"){me=Qe.call(Lt,me,re);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Be.payload,re=typeof Qe=="function"?Qe.call(Lt,me,re):Qe,re==null)break e;me=y({},me,re);break e;case 2:Ui=!0}}re=B.callback,re!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ue===null?(ne=ue=ie,G=me):ue=ue.next=ie,I|=re;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);ue===null&&(G=me),g.baseState=G,g.firstBaseUpdate=ne,g.lastBaseUpdate=ue,v===null&&(g.shared.lanes=0),Xi|=I,s.lanes=I,s.memoizedState=me}}function Ex(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Tx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ex(l[s],i)}var cl=ce(null),oh=ce(0);function Sx(s,i){s=wi,ge(oh,s),ge(cl,i),wi=s|i.baseLanes}function Ep(){ge(oh,wi),ge(cl,cl.current)}function Tp(){wi=oh.current,ve(cl),ve(oh)}var qi=0,rt=null,Pt=null,cn=null,lh=!1,ul=!1,fo=!1,ch=0,Zc=0,dl=null,cA=0;function tn(){throw Error(r(321))}function Sp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Ar(s[l],i[l]))return!1;return!0}function Np(s,i,l,u,g,v){return qi=v,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?lb:cb,fo=!1,v=l(u,g),fo=!1,ul&&(v=Ax(i,l,u,g)),Nx(s),v}function Nx(s){$.H=ph;var i=Pt!==null&&Pt.next!==null;if(qi=0,cn=Pt=rt=null,lh=!1,Zc=0,dl=null,i)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&nh(s)&&(Nn=!0))}function Ax(s,i,l,u){rt=s;var g=0;do{if(ul&&(dl=null),Zc=0,ul=!1,25<=g)throw Error(r(301));if(g+=1,cn=Pt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=gA,v=i(l,u)}while(ul);return v}function uA(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Jc(i):i,s=s.useState()[0],(Pt!==null?Pt.memoizedState:null)!==s&&(rt.flags|=1024),i}function Ap(){var s=ch!==0;return ch=0,s}function Cp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Rp(s){if(lh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}lh=!1}qi=0,cn=Pt=rt=null,ul=!1,Zc=ch=0,dl=null}function pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?rt.memoizedState=cn=s:cn=cn.next=s,cn}function un(){if(Pt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var i=cn===null?rt.memoizedState:cn.next;if(i!==null)cn=i,Pt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},cn===null?rt.memoizedState=cn=s:cn=cn.next=s}return cn}function Ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(s){var i=Zc;return Zc+=1,dl===null&&(dl=[]),s=bx(dl,s,i),i=rt,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?lb:cb),s}function uh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jc(s);if(s.$$typeof===b)return $n(s)}throw Error(r(438,String(s)))}function jp(s){var i=null,l=rt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Ip(),rt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=D;return i.index++,l}function pi(s,i){return typeof i=="function"?i(s):i}function dh(s){var i=un();return Mp(i,Pt,s)}function Mp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=s.baseQueue,v=u.pending;if(v!==null){if(g!==null){var I=g.next;g.next=v.next,v.next=I}i.baseQueue=g=v,u.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var B=I=null,G=null,ne=i,ue=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(_t&me)===me:(qi&me)===me){var re=ne.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===ol&&(ue=!0);else if((qi&re)===re){ne=ne.next,re===ol&&(ue=!0);continue}else me={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=me,I=v):G=G.next=me,rt.lanes|=re,Xi|=re;me=ne.action,fo&&l(v,me),v=ne.hasEagerState?ne.eagerState:l(v,me)}else re={lane:me,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=re,I=v):G=G.next=re,rt.lanes|=me,Xi|=me;ne=ne.next}while(ne!==null&&ne!==i);if(G===null?I=v:G.next=B,!Ar(v,s.memoizedState)&&(Nn=!0,ue&&(l=ll,l!==null)))throw l;s.memoizedState=v,s.baseState=I,s.baseQueue=G,u.lastRenderedState=v}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Op(s){var i=un(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do v=s(v,I.action),I=I.next;while(I!==g);Ar(v,i.memoizedState)||(Nn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,u]}function Cx(s,i,l){var u=rt,g=un(),v=Nt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var I=!Ar((Pt||g).memoizedState,l);I&&(g.memoizedState=l,Nn=!0),g=g.queue;var B=jx.bind(null,u,g,s);if(eu(2048,8,B,[s]),g.getSnapshot!==i||I||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,hl(9,hh(),Ix.bind(null,u,g,l,i),null),Ut===null)throw Error(r(349));v||(qi&124)!==0||Rx(u,i,l)}return l}function Rx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=rt.updateQueue,i===null?(i=Ip(),rt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Ix(s,i,l,u){i.value=l,i.getSnapshot=u,Mx(i)&&Ox(s)}function jx(s,i,l){return l(function(){Mx(i)&&Ox(s)})}function Mx(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Ar(s,l)}catch{return!0}}function Ox(s){var i=rl(s,2);i!==null&&Or(i,s,2)}function Dp(s){var i=pr();if(typeof s=="function"){var l=s;if(s=l(),fo){En(!0);try{l()}finally{En(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},i}function Dx(s,i,l,u){return s.baseState=l,Mp(s,Pt,typeof u=="function"?u:pi)}function dA(s,i,l,u,g){if(mh(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};$.T!==null?l(!0):v.isTransition=!1,u(v),l=i.pending,l===null?(v.next=i.pending=v,Px(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Px(s,i){var l=i.action,u=i.payload,g=s.state;if(i.isTransition){var v=$.T,I={};$.T=I;try{var B=l(g,u),G=$.S;G!==null&&G(I,B),kx(s,i,B)}catch(ne){Pp(s,i,ne)}finally{$.T=v}}else try{v=l(g,u),kx(s,i,v)}catch(ne){Pp(s,i,ne)}}function kx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Lx(s,i,u)},function(u){return Pp(s,i,u)}):Lx(s,i,l)}function Lx(s,i,l){i.status="fulfilled",i.value=l,Vx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Px(s,l)))}function Pp(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Vx(i),i=i.next;while(i!==u)}s.action=null}function Vx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function zx(s,i){return i}function Ux(s,i){if(Nt){var l=Ut.formState;if(l!==null){e:{var u=rt;if(Nt){if(Zt){t:{for(var g=Zt,v=Ls;g.nodeType!==8;){if(!v){g=null;break t}if(g=ds(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Zt=ds(g.nextSibling),u=g.data==="F!";break e}}lo(u)}u=!1}u&&(i=l[0])}}return l=pr(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zx,lastRenderedState:i},l.queue=u,l=ib.bind(null,rt,u),u.dispatch=l,u=Dp(!1),v=Up.bind(null,rt,!1,u.queue),u=pr(),g={state:i,dispatch:null,action:s,pending:null},u.queue=g,l=dA.bind(null,rt,g,v,l),g.dispatch=l,u.memoizedState=s,[i,l,!1]}function Bx(s){var i=un();return Fx(i,Pt,s)}function Fx(s,i,l){if(i=Mp(s,i,zx)[0],s=dh(pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Jc(i)}catch(I){throw I===Qc?ih:I}else u=i;i=un();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(rt.flags|=2048,hl(9,hh(),hA.bind(null,g,l),null)),[u,v,s]}function hA(s,i){s.action=i}function qx(s){var i=un(),l=Pt;if(l!==null)return Fx(i,l,s);un(),i=i.memoizedState,l=un();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function hl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=rt.updateQueue,i===null&&(i=Ip(),rt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function hh(){return{destroy:void 0,resource:void 0}}function Hx(){return un().memoizedState}function fh(s,i,l,u){var g=pr();u=u===void 0?null:u,rt.flags|=s,g.memoizedState=hl(1|i,hh(),l,u)}function eu(s,i,l,u){var g=un();u=u===void 0?null:u;var v=g.memoizedState.inst;Pt!==null&&u!==null&&Sp(u,Pt.memoizedState.deps)?g.memoizedState=hl(i,v,l,u):(rt.flags|=s,g.memoizedState=hl(1|i,v,l,u))}function $x(s,i){fh(8390656,8,s,i)}function Gx(s,i){eu(2048,8,s,i)}function Qx(s,i){return eu(4,2,s,i)}function Kx(s,i){return eu(4,4,s,i)}function Yx(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Xx(s,i,l){l=l!=null?l.concat([s]):null,eu(4,4,Yx.bind(null,i,s),l)}function kp(){}function Wx(s,i){var l=un();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Sp(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function Zx(s,i){var l=un();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Sp(i,u[1]))return u[0];if(u=s(),fo){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,i],u}function Lp(s,i,l){return l===void 0||(qi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=t1(),rt.lanes|=s,Xi|=s,l)}function Jx(s,i,l,u){return Ar(l,i)?l:cl.current!==null?(s=Lp(s,l,u),Ar(s,i)||(Nn=!0),s):(qi&42)===0?(Nn=!0,s.memoizedState=l):(s=t1(),rt.lanes|=s,Xi|=s,i)}function eb(s,i,l,u,g){var v=se.p;se.p=v!==0&&8>v?v:8;var I=$.T,B={};$.T=B,Up(s,!1,i,l);try{var G=g(),ne=$.S;if(ne!==null&&ne(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=lA(G,u);tu(s,i,ue,Mr(s))}else tu(s,i,u,Mr(s))}catch(me){tu(s,i,{then:function(){},status:"rejected",reason:me},Mr())}finally{se.p=v,$.T=I}}function fA(){}function Vp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var g=tb(s).queue;eb(s,g,i,ae,l===null?fA:function(){return nb(s),l(u)})}function tb(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:ae},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function nb(s){var i=tb(s).next.queue;tu(s,i,{},Mr())}function zp(){return $n(xu)}function rb(){return un().memoizedState}function sb(){return un().memoizedState}function mA(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Mr();s=Bi(l);var u=Fi(i,s,l);u!==null&&(Or(u,i,l),Yc(u,i,l)),i={cache:pp()},s.payload=i;return}i=i.return}}function pA(s,i,l){var u=Mr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mh(s)?ab(i,l):(l=ip(s,i,l,u),l!==null&&(Or(l,s,u),ob(l,i,u)))}function ib(s,i,l){var u=Mr();tu(s,i,l,u)}function tu(s,i,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mh(s))ab(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var I=i.lastRenderedState,B=v(I,l);if(g.hasEagerState=!0,g.eagerState=B,Ar(B,I))return Wd(s,i,g,0),Ut===null&&Xd(),!1}catch{}finally{}if(l=ip(s,i,g,u),l!==null)return Or(l,s,u),ob(l,i,u),!0}return!1}function Up(s,i,l,u){if(u={lane:2,revertLane:vg(),action:u,hasEagerState:!1,eagerState:null,next:null},mh(s)){if(i)throw Error(r(479))}else i=ip(s,l,u,2),i!==null&&Or(i,s,2)}function mh(s){var i=s.alternate;return s===rt||i!==null&&i===rt}function ab(s,i){ul=lh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function ob(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,Br(s,l)}}var ph={readContext:$n,use:uh,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},lb={readContext:$n,use:uh,useCallback:function(s,i){return pr().memoizedState=[s,i===void 0?null:i],s},useContext:$n,useEffect:$x,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,fh(4194308,4,Yx.bind(null,i,s),l)},useLayoutEffect:function(s,i){return fh(4194308,4,s,i)},useInsertionEffect:function(s,i){fh(4,2,s,i)},useMemo:function(s,i){var l=pr();i=i===void 0?null:i;var u=s();if(fo){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=pr();if(l!==void 0){var g=l(i);if(fo){En(!0);try{l(i)}finally{En(!1)}}}else g=i;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=pA.bind(null,rt,s),[u.memoizedState,s]},useRef:function(s){var i=pr();return s={current:s},i.memoizedState=s},useState:function(s){s=Dp(s);var i=s.queue,l=ib.bind(null,rt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:kp,useDeferredValue:function(s,i){var l=pr();return Lp(l,s,i)},useTransition:function(){var s=Dp(!1);return s=eb.bind(null,rt,s.queue,!0,!1),pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=rt,g=pr();if(Nt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),Ut===null)throw Error(r(349));(_t&124)!==0||Rx(u,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,$x(jx.bind(null,u,v,s),[s]),u.flags|=2048,hl(9,hh(),Ix.bind(null,u,v,l,i),null),l},useId:function(){var s=pr(),i=Ut.identifierPrefix;if(Nt){var l=hi,u=di;l=(u&~(1<<32-Qt(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=ch++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=cA++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:zp,useFormState:Ux,useActionState:Ux,useOptimistic:function(s){var i=pr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Up.bind(null,rt,!0,l),l.dispatch=i,[s,i]},useMemoCache:jp,useCacheRefresh:function(){return pr().memoizedState=mA.bind(null,rt)}},cb={readContext:$n,use:uh,useCallback:Wx,useContext:$n,useEffect:Gx,useImperativeHandle:Xx,useInsertionEffect:Qx,useLayoutEffect:Kx,useMemo:Zx,useReducer:dh,useRef:Hx,useState:function(){return dh(pi)},useDebugValue:kp,useDeferredValue:function(s,i){var l=un();return Jx(l,Pt.memoizedState,s,i)},useTransition:function(){var s=dh(pi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:Cx,useId:rb,useHostTransitionStatus:zp,useFormState:Bx,useActionState:Bx,useOptimistic:function(s,i){var l=un();return Dx(l,Pt,s,i)},useMemoCache:jp,useCacheRefresh:sb},gA={readContext:$n,use:uh,useCallback:Wx,useContext:$n,useEffect:Gx,useImperativeHandle:Xx,useInsertionEffect:Qx,useLayoutEffect:Kx,useMemo:Zx,useReducer:Op,useRef:Hx,useState:function(){return Op(pi)},useDebugValue:kp,useDeferredValue:function(s,i){var l=un();return Pt===null?Lp(l,s,i):Jx(l,Pt.memoizedState,s,i)},useTransition:function(){var s=Op(pi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:Jc(s),i]},useSyncExternalStore:Cx,useId:rb,useHostTransitionStatus:zp,useFormState:qx,useActionState:qx,useOptimistic:function(s,i){var l=un();return Pt!==null?Dx(l,Pt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:jp,useCacheRefresh:sb},fl=null,nu=0;function gh(s){var i=nu;return nu+=1,fl===null&&(fl=[]),bx(fl,s,i)}function ru(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function yh(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function ub(s){var i=s._init;return i(s._payload)}function db(s){function i(X,K){if(s){var ee=X.deletions;ee===null?(X.deletions=[K],X.flags|=16):ee.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=ui(X,K),X.index=0,X.sibling=null,X}function v(X,K,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<K?(X.flags|=67108866,K):ee):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function I(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function B(X,K,ee,he){return K===null||K.tag!==6?(K=op(ee,X.mode,he),K.return=X,K):(K=g(K,ee),K.return=X,K)}function G(X,K,ee,he){var Re=ee.type;return Re===S?ue(X,K,ee.props.children,he,ee.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===j&&ub(Re)===K.type)?(K=g(K,ee.props),ru(K,ee),K.return=X,K):(K=Jd(ee.type,ee.key,ee.props,null,X.mode,he),ru(K,ee),K.return=X,K)}function ne(X,K,ee,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=lp(ee,X.mode,he),K.return=X,K):(K=g(K,ee.children||[]),K.return=X,K)}function ue(X,K,ee,he,Re){return K===null||K.tag!==7?(K=so(ee,X.mode,he,Re),K.return=X,K):(K=g(K,ee),K.return=X,K)}function me(X,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=op(""+K,X.mode,ee),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return ee=Jd(K.type,K.key,K.props,null,X.mode,ee),ru(ee,K),ee.return=X,ee;case E:return K=lp(K,X.mode,ee),K.return=X,K;case j:var he=K._init;return K=he(K._payload),me(X,K,ee)}if(oe(K)||L(K))return K=so(K,X.mode,ee,null),K.return=X,K;if(typeof K.then=="function")return me(X,gh(K),ee);if(K.$$typeof===b)return me(X,rh(X,K),ee);yh(X,K)}return null}function re(X,K,ee,he){var Re=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Re!==null?null:B(X,K,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return ee.key===Re?G(X,K,ee,he):null;case E:return ee.key===Re?ne(X,K,ee,he):null;case j:return Re=ee._init,ee=Re(ee._payload),re(X,K,ee,he)}if(oe(ee)||L(ee))return Re!==null?null:ue(X,K,ee,he,null);if(typeof ee.then=="function")return re(X,K,gh(ee),he);if(ee.$$typeof===b)return re(X,K,rh(X,ee),he);yh(X,ee)}return null}function ie(X,K,ee,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(ee)||null,B(K,X,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return X=X.get(he.key===null?ee:he.key)||null,G(K,X,he,Re);case E:return X=X.get(he.key===null?ee:he.key)||null,ne(K,X,he,Re);case j:var at=he._init;return he=at(he._payload),ie(X,K,ee,he,Re)}if(oe(he)||L(he))return X=X.get(ee)||null,ue(K,X,he,Re,null);if(typeof he.then=="function")return ie(X,K,ee,gh(he),Re);if(he.$$typeof===b)return ie(X,K,ee,rh(K,he),Re);yh(K,he)}return null}function Qe(X,K,ee,he){for(var Re=null,at=null,ke=K,He=K=0,Cn=null;ke!==null&&He<ee.length;He++){ke.index>He?(Cn=ke,ke=null):Cn=ke.sibling;var St=re(X,ke,ee[He],he);if(St===null){ke===null&&(ke=Cn);break}s&&ke&&St.alternate===null&&i(X,ke),K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St,ke=Cn}if(He===ee.length)return l(X,ke),Nt&&ao(X,He),Re;if(ke===null){for(;He<ee.length;He++)ke=me(X,ee[He],he),ke!==null&&(K=v(ke,K,He),at===null?Re=ke:at.sibling=ke,at=ke);return Nt&&ao(X,He),Re}for(ke=u(ke);He<ee.length;He++)Cn=ie(ke,X,He,ee[He],he),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?He:Cn.key),K=v(Cn,K,He),at===null?Re=Cn:at.sibling=Cn,at=Cn);return s&&ke.forEach(function(ia){return i(X,ia)}),Nt&&ao(X,He),Re}function Be(X,K,ee,he){if(ee==null)throw Error(r(151));for(var Re=null,at=null,ke=K,He=K=0,Cn=null,St=ee.next();ke!==null&&!St.done;He++,St=ee.next()){ke.index>He?(Cn=ke,ke=null):Cn=ke.sibling;var ia=re(X,ke,St.value,he);if(ia===null){ke===null&&(ke=Cn);break}s&&ke&&ia.alternate===null&&i(X,ke),K=v(ia,K,He),at===null?Re=ia:at.sibling=ia,at=ia,ke=Cn}if(St.done)return l(X,ke),Nt&&ao(X,He),Re;if(ke===null){for(;!St.done;He++,St=ee.next())St=me(X,St.value,he),St!==null&&(K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St);return Nt&&ao(X,He),Re}for(ke=u(ke);!St.done;He++,St=ee.next())St=ie(ke,X,He,St.value,he),St!==null&&(s&&St.alternate!==null&&ke.delete(St.key===null?He:St.key),K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St);return s&&ke.forEach(function(yC){return i(X,yC)}),Nt&&ao(X,He),Re}function Lt(X,K,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===S&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:e:{for(var Re=ee.key;K!==null;){if(K.key===Re){if(Re=ee.type,Re===S){if(K.tag===7){l(X,K.sibling),he=g(K,ee.props.children),he.return=X,X=he;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===j&&ub(Re)===K.type){l(X,K.sibling),he=g(K,ee.props),ru(he,ee),he.return=X,X=he;break e}l(X,K);break}else i(X,K);K=K.sibling}ee.type===S?(he=so(ee.props.children,X.mode,he,ee.key),he.return=X,X=he):(he=Jd(ee.type,ee.key,ee.props,null,X.mode,he),ru(he,ee),he.return=X,X=he)}return I(X);case E:e:{for(Re=ee.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(X,K.sibling),he=g(K,ee.children||[]),he.return=X,X=he;break e}else{l(X,K);break}else i(X,K);K=K.sibling}he=lp(ee,X.mode,he),he.return=X,X=he}return I(X);case j:return Re=ee._init,ee=Re(ee._payload),Lt(X,K,ee,he)}if(oe(ee))return Qe(X,K,ee,he);if(L(ee)){if(Re=L(ee),typeof Re!="function")throw Error(r(150));return ee=Re.call(ee),Be(X,K,ee,he)}if(typeof ee.then=="function")return Lt(X,K,gh(ee),he);if(ee.$$typeof===b)return Lt(X,K,rh(X,ee),he);yh(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(l(X,K.sibling),he=g(K,ee),he.return=X,X=he):(l(X,K),he=op(ee,X.mode,he),he.return=X,X=he),I(X)):l(X,K)}return function(X,K,ee,he){try{nu=0;var Re=Lt(X,K,ee,he);return fl=null,Re}catch(ke){if(ke===Qc||ke===ih)throw ke;var at=Cr(29,ke,null,X.mode);return at.lanes=he,at.return=X,at}finally{}}}var ml=db(!0),hb=db(!1),Zr=ce(null),Vs=null;function Hi(s){var i=s.alternate;ge(xn,xn.current&1),ge(Zr,s),Vs===null&&(i===null||cl.current!==null||i.memoizedState!==null)&&(Vs=s)}function fb(s){if(s.tag===22){if(ge(xn,xn.current),ge(Zr,s),Vs===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Vs=s)}}else $i()}function $i(){ge(xn,xn.current),ge(Zr,Zr.current)}function gi(s){ve(Zr),Vs===s&&(Vs=null),ve(xn)}var xn=ce(0);function vh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ig(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Bp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Fp={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Mr(),g=Bi(u);g.payload=i,l!=null&&(g.callback=l),i=Fi(s,g,u),i!==null&&(Or(i,s,u),Yc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Mr(),g=Bi(u);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Fi(s,g,u),i!==null&&(Or(i,s,u),Yc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Mr(),u=Bi(l);u.tag=2,i!=null&&(u.callback=i),i=Fi(s,u,l),i!==null&&(Or(i,s,l),Yc(i,s,l))}};function mb(s,i,l,u,g,v,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,I):i.prototype&&i.prototype.isPureReactComponent?!zc(l,u)||!zc(g,v):!0}function pb(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&Fp.enqueueReplaceState(i,i.state,null)}function mo(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var xh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function gb(s){xh(s)}function yb(s){console.error(s)}function vb(s){xh(s)}function bh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function xb(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function qp(s,i,l){return l=Bi(l),l.tag=3,l.payload={element:null},l.callback=function(){bh(s,i)},l}function bb(s){return s=Bi(s),s.tag=3,s}function wb(s,i,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;s.payload=function(){return g(v)},s.callback=function(){xb(i,l,u)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){xb(i,l,u),typeof g!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})})}function yA(s,i,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Hc(i,l,g,!0),l=Zr.current,l!==null){switch(l.tag){case 13:return Vs===null?fg():l.alternate===null&&Jt===0&&(Jt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===vp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),pg(s,u,g)),!1;case 22:return l.flags|=65536,u===vp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),pg(s,u,g)),!1}throw Error(r(435,l.tag))}return pg(s,u,g),fg(),!1}if(Nt)return i=Zr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==dp&&(s=Error(r(422),{cause:u}),qc(Kr(s,l)))):(u!==dp&&(i=Error(r(423),{cause:u}),qc(Kr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kr(u,l),g=qp(s.stateNode,u,g),wp(s,g),Jt!==4&&(Jt=2)),!1;var v=Error(r(520),{cause:u});if(v=Kr(v,l),uu===null?uu=[v]:uu.push(v),Jt!==4&&(Jt=2),i===null)return!0;u=Kr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=qp(l.stateNode,u,s),wp(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wi===null||!Wi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=bb(g),wb(g,s,l,u),wp(l,g),!1}l=l.return}while(l!==null);return!1}var _b=Error(r(461)),Nn=!1;function kn(s,i,l,u){i.child=s===null?hb(i,null,l,u):ml(i,s.child,l,u)}function Eb(s,i,l,u,g){l=l.render;var v=i.ref;if("ref"in u){var I={};for(var B in u)B!=="ref"&&(I[B]=u[B])}else I=u;return uo(i),u=Np(s,i,l,I,v,g),B=Ap(),s!==null&&!Nn?(Cp(s,i,g),yi(s,i,g)):(Nt&&B&&cp(i),i.flags|=1,kn(s,i,u,g),i.child)}function Tb(s,i,l,u,g){if(s===null){var v=l.type;return typeof v=="function"&&!ap(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,Sb(s,i,v,u,g)):(s=Jd(l.type,null,u,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!Wp(s,g)){var I=v.memoizedProps;if(l=l.compare,l=l!==null?l:zc,l(I,u)&&s.ref===i.ref)return yi(s,i,g)}return i.flags|=1,s=ui(v,u),s.ref=i.ref,s.return=i,i.child=s}function Sb(s,i,l,u,g){if(s!==null){var v=s.memoizedProps;if(zc(v,u)&&s.ref===i.ref)if(Nn=!1,i.pendingProps=u=v,Wp(s,g))(s.flags&131072)!==0&&(Nn=!0);else return i.lanes=s.lanes,yi(s,i,g)}return Hp(s,i,l,u,g)}function Nb(s,i,l){var u=i.pendingProps,g=u.children,v=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~u}else i.childLanes=0,i.child=null;return Ab(s,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&sh(i,v!==null?v.cachePool:null),v!==null?Sx(i,v):Ep(),fb(i);else return i.lanes=i.childLanes=536870912,Ab(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(sh(i,v.cachePool),Sx(i,v),$i(),i.memoizedState=null):(s!==null&&sh(i,null),Ep(),$i());return kn(s,i,g,l),i.child}function Ab(s,i,l,u){var g=yp();return g=g===null?null:{parent:vn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&sh(i,null),Ep(),fb(i),s!==null&&Hc(s,i,u,!0),null}function wh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Hp(s,i,l,u,g){return uo(i),l=Np(s,i,l,u,void 0,g),u=Ap(),s!==null&&!Nn?(Cp(s,i,g),yi(s,i,g)):(Nt&&u&&cp(i),i.flags|=1,kn(s,i,l,g),i.child)}function Cb(s,i,l,u,g,v){return uo(i),i.updateQueue=null,l=Ax(i,u,l,g),Nx(s),u=Ap(),s!==null&&!Nn?(Cp(s,i,v),yi(s,i,v)):(Nt&&u&&cp(i),i.flags|=1,kn(s,i,l,v),i.child)}function Rb(s,i,l,u,g){if(uo(i),i.stateNode===null){var v=sl,I=l.contextType;typeof I=="object"&&I!==null&&(v=$n(I)),v=new l(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Fp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},xp(i),I=l.contextType,v.context=typeof I=="object"&&I!==null?$n(I):sl,v.state=i.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(Bp(i,l,I,u),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&Fp.enqueueReplaceState(v,v.state,null),Wc(i,u,v,g),Xc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){v=i.stateNode;var B=i.memoizedProps,G=mo(l,B);v.props=G;var ne=v.context,ue=l.contextType;I=sl,typeof ue=="object"&&ue!==null&&(I=$n(ue));var me=l.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(B||ne!==I)&&pb(i,v,u,I),Ui=!1;var re=i.memoizedState;v.state=re,Wc(i,u,v,g),Xc(),ne=i.memoizedState,B||re!==ne||Ui?(typeof me=="function"&&(Bp(i,l,me,u),ne=i.memoizedState),(G=Ui||mb(i,l,G,u,re,ne,I))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ne),v.props=u,v.state=ne,v.context=I,u=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,bp(s,i),I=i.memoizedProps,ue=mo(l,I),v.props=ue,me=i.pendingProps,re=v.context,ne=l.contextType,G=sl,typeof ne=="object"&&ne!==null&&(G=$n(ne)),B=l.getDerivedStateFromProps,(ne=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==me||re!==G)&&pb(i,v,u,G),Ui=!1,re=i.memoizedState,v.state=re,Wc(i,u,v,g),Xc();var ie=i.memoizedState;I!==me||re!==ie||Ui||s!==null&&s.dependencies!==null&&nh(s.dependencies)?(typeof B=="function"&&(Bp(i,l,B,u),ie=i.memoizedState),(ue=Ui||mb(i,l,ue,u,re,ie,G)||s!==null&&s.dependencies!==null&&nh(s.dependencies))?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ie,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ie,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ie),v.props=u,v.state=ie,v.context=G,u=ue):(typeof v.componentDidUpdate!="function"||I===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),u=!1)}return v=u,wh(s,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&u?(i.child=ml(i,s.child,null,g),i.child=ml(i,null,l,g)):kn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=yi(s,i,g),s}function Ib(s,i,l,u){return Fc(),i.flags|=256,kn(s,i,l,u),i.child}var $p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(s){return{baseLanes:s,cachePool:yx()}}function Qp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Jr),s}function jb(s,i,l){var u=i.pendingProps,g=!1,v=(i.flags&128)!==0,I;if((I=v)||(I=s!==null&&s.memoizedState===null?!1:(xn.current&2)!==0),I&&(g=!0,i.flags&=-129),I=(i.flags&32)!==0,i.flags&=-33,s===null){if(Nt){if(g?Hi(i):$i(),Nt){var B=Zt,G;if(G=B){e:{for(G=B,B=Ls;G.nodeType!==8;){if(!B){B=null;break e}if(G=ds(G.nextSibling),G===null){B=null;break e}}B=G}B!==null?(i.memoizedState={dehydrated:B,treeContext:io!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},G=Cr(18,null,null,0),G.stateNode=B,G.return=i,i.child=G,or=i,Zt=null,G=!0):G=!1}G||lo(i)}if(B=i.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Ig(B)?i.lanes=32:i.lanes=536870912,null;gi(i)}return B=u.children,u=u.fallback,g?($i(),g=i.mode,B=_h({mode:"hidden",children:B},g),u=so(u,g,l,null),B.return=i,u.return=i,B.sibling=u,i.child=B,g=i.child,g.memoizedState=Gp(l),g.childLanes=Qp(s,I,l),i.memoizedState=$p,u):(Hi(i),Kp(i,B))}if(G=s.memoizedState,G!==null&&(B=G.dehydrated,B!==null)){if(v)i.flags&256?(Hi(i),i.flags&=-257,i=Yp(s,i,l)):i.memoizedState!==null?($i(),i.child=s.child,i.flags|=128,i=null):($i(),g=u.fallback,B=i.mode,u=_h({mode:"visible",children:u.children},B),g=so(g,B,l,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,ml(i,s.child,null,l),u=i.child,u.memoizedState=Gp(l),u.childLanes=Qp(s,I,l),i.memoizedState=$p,i=g);else if(Hi(i),Ig(B)){if(I=B.nextSibling&&B.nextSibling.dataset,I)var ne=I.dgst;I=ne,u=Error(r(419)),u.stack="",u.digest=I,qc({value:u,source:null,stack:null}),i=Yp(s,i,l)}else if(Nn||Hc(s,i,l,!1),I=(l&s.childLanes)!==0,Nn||I){if(I=Ut,I!==null&&(u=l&-l,u=(u&42)!==0?1:Er(u),u=(u&(I.suspendedLanes|l))!==0?0:u,u!==0&&u!==G.retryLane))throw G.retryLane=u,rl(s,u),Or(I,s,u),_b;B.data==="$?"||fg(),i=Yp(s,i,l)}else B.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Zt=ds(B.nextSibling),or=i,Nt=!0,oo=null,Ls=!1,s!==null&&(Xr[Wr++]=di,Xr[Wr++]=hi,Xr[Wr++]=io,di=s.id,hi=s.overflow,io=i),i=Kp(i,u.children),i.flags|=4096);return i}return g?($i(),g=u.fallback,B=i.mode,G=s.child,ne=G.sibling,u=ui(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,ne!==null?g=ui(ne,g):(g=so(g,B,l,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,B=s.child.memoizedState,B===null?B=Gp(l):(G=B.cachePool,G!==null?(ne=vn._currentValue,G=G.parent!==ne?{parent:ne,pool:ne}:G):G=yx(),B={baseLanes:B.baseLanes|l,cachePool:G}),g.memoizedState=B,g.childLanes=Qp(s,I,l),i.memoizedState=$p,u):(Hi(i),l=s.child,s=l.sibling,l=ui(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(I=i.deletions,I===null?(i.deletions=[s],i.flags|=16):I.push(s)),i.child=l,i.memoizedState=null,l)}function Kp(s,i){return i=_h({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function _h(s,i){return s=Cr(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Yp(s,i,l){return ml(i,s.child,null,l),s=Kp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Mb(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),fp(s.return,i,l)}function Xp(s,i,l,u,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=g)}function Ob(s,i,l){var u=i.pendingProps,g=u.revealOrder,v=u.tail;if(kn(s,i,u.children,l),u=xn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mb(s,l,i);else if(s.tag===19)Mb(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(ge(xn,u),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&vh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Xp(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&vh(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Xp(i,!0,l,null,v);break;case"together":Xp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Xi|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Hc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=ui(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ui(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function Wp(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&nh(s)))}function vA(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),zi(i,vn,s.memoizedState.cache),Fc();break;case 27:case 5:et(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:zi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?jb(s,i,l):(Hi(i),s=yi(s,i,l),s!==null?s.sibling:null);Hi(i);break;case 19:var g=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Hc(s,i,l,!1),u=(l&i.childLanes)!==0),g){if(u)return Ob(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(xn,xn.current),u)break;return null;case 22:case 23:return i.lanes=0,Nb(s,i,l);case 24:zi(i,vn,s.memoizedState.cache)}return yi(s,i,l)}function Db(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Nn=!0;else{if(!Wp(s,l)&&(i.flags&128)===0)return Nn=!1,vA(s,i,l);Nn=(s.flags&131072)!==0}else Nn=!1,Nt&&(i.flags&1048576)!==0&&ux(i,th,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")ap(u)?(s=mo(u,s),i.tag=1,i=Rb(null,i,u,s,l)):(i.tag=0,i=Hp(null,i,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===O){i.tag=11,i=Eb(null,i,u,s,l);break e}else if(g===V){i.tag=14,i=Tb(null,i,u,s,l);break e}}throw i=J(u)||u,Error(r(306,i,""))}}return i;case 0:return Hp(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,g=mo(u,i.pendingProps),Rb(s,i,u,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var v=i.memoizedState;g=v.element,bp(s,i),Wc(i,u,null,l);var I=i.memoizedState;if(u=I.cache,zi(i,vn,u),u!==v.cache&&mp(i,[vn],l,!0),Xc(),u=I.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:I.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Ib(s,i,u,l);break e}else if(u!==g){g=Kr(Error(r(424)),i),qc(g),i=Ib(s,i,u,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zt=ds(s.firstChild),or=i,Nt=!0,oo=null,Ls=!0,l=hb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fc(),u===g){i=yi(s,i,l);break e}kn(s,i,u,l)}i=i.child}return i;case 26:return wh(s,i),s===null?(l=V1(i.type,null,i.pendingProps,null))?i.memoizedState=l:Nt||(l=i.type,s=i.pendingProps,u=kh(Ee.current).createElement(l),u[fe]=i,u[be]=s,Vn(u,l,s),gt(u),i.stateNode=u):i.memoizedState=V1(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return et(i),s===null&&Nt&&(u=i.stateNode=P1(i.type,i.pendingProps,Ee.current),or=i,Ls=!0,g=Zt,ea(i.type)?(jg=g,Zt=ds(u.firstChild)):Zt=g),kn(s,i,i.pendingProps.children,l),wh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Nt&&((g=u=Zt)&&(u=GA(u,i.type,i.pendingProps,Ls),u!==null?(i.stateNode=u,or=i,Zt=ds(u.firstChild),Ls=!1,g=!0):g=!1),g||lo(i)),et(i),g=i.type,v=i.pendingProps,I=s!==null?s.memoizedProps:null,u=v.children,Ag(g,v)?u=null:I!==null&&Ag(g,I)&&(i.flags|=32),i.memoizedState!==null&&(g=Np(s,i,uA,null,null,l),xu._currentValue=g),wh(s,i),kn(s,i,u,l),i.child;case 6:return s===null&&Nt&&((s=l=Zt)&&(l=QA(l,i.pendingProps,Ls),l!==null?(i.stateNode=l,or=i,Zt=null,s=!0):s=!1),s||lo(i)),null;case 13:return jb(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=ml(i,null,u,l):kn(s,i,u,l),i.child;case 11:return Eb(s,i,i.type,i.pendingProps,l);case 7:return kn(s,i,i.pendingProps,l),i.child;case 8:return kn(s,i,i.pendingProps.children,l),i.child;case 12:return kn(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,zi(i,i.type,u.value),kn(s,i,u.children,l),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,uo(i),g=$n(g),u=u(g),i.flags|=1,kn(s,i,u,l),i.child;case 14:return Tb(s,i,i.type,i.pendingProps,l);case 15:return Sb(s,i,i.type,i.pendingProps,l);case 19:return Ob(s,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},s===null?(l=_h(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ui(s.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Nb(s,i,l);case 24:return uo(i),u=$n(vn),s===null?(g=yp(),g===null&&(g=Ut,v=pp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:u,cache:g},xp(i),zi(i,vn,g)):((s.lanes&l)!==0&&(bp(s,i),Wc(i,null,null,l),Xc()),g=s.memoizedState,v=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),zi(i,vn,u)):(u=v.cache,zi(i,vn,u),u!==g.cache&&mp(i,[vn],l,!0))),kn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function vi(s){s.flags|=4}function Pb(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!q1(i)){if(i=Zr.current,i!==null&&((_t&4194048)===_t?Vs!==null:(_t&62914560)!==_t&&(_t&536870912)===0||i!==Vs))throw Kc=vp,vx;s.flags|=8192}}function Eh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?rr():536870912,s.lanes|=i,vl|=i)}function su(s,i){if(!Nt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function xA(s,i,l){var u=i.pendingProps;switch(up(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),mi(vn),lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Bc(i)?vi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fx())),Yt(i),null;case 26:return l=i.memoizedState,s===null?(vi(i),l!==null?(Yt(i),Pb(i,l)):(Yt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(vi(i),Yt(i),Pb(i,l)):(Yt(i),i.flags&=-16777217):(s.memoizedProps!==u&&vi(i),Yt(i),i.flags&=-16777217),null;case 27:jt(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}s=Se.current,Bc(i)?dx(i):(s=P1(g,u,l),i.stateNode=s,vi(i))}return Yt(i),null;case 5:if(jt(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}if(s=Se.current,Bc(i))dx(i);else{switch(g=kh(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[fe]=i,s[be]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Vn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vi(i)}}return Yt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Bc(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,g=or,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[fe]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||C1(s.nodeValue,l)),s||lo(i)}else s=kh(s).createTextNode(u),s[fe]=i,i.stateNode=s}return Yt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Bc(i),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[fe]=i}else Fc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),g=!1}else g=fx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(gi(i),i):(gi(i),null)}if(gi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),Eh(i,i.updateQueue),Yt(i),null;case 4:return lt(),s===null&&_g(i.stateNode.containerInfo),Yt(i),null;case 10:return mi(i.type),Yt(i),null;case 19:if(ve(xn),g=i.memoizedState,g===null)return Yt(i),null;if(u=(i.flags&128)!==0,v=g.rendering,v===null)if(u)su(g,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=vh(s),v!==null){for(i.flags|=128,su(g,!1),s=v.updateQueue,i.updateQueue=s,Eh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)cx(l,s),l=l.sibling;return ge(xn,xn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Wt()>Nh&&(i.flags|=128,u=!0,su(g,!1),i.lanes=4194304)}else{if(!u)if(s=vh(v),s!==null){if(i.flags|=128,u=!0,s=s.updateQueue,i.updateQueue=s,Eh(i,s),su(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Nt)return Yt(i),null}else 2*Wt()-g.renderingStartTime>Nh&&l!==536870912&&(i.flags|=128,u=!0,su(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Wt(),i.sibling=null,s=xn.current,ge(xn,u?s&1|2:s&1),i):(Yt(i),null);case 22:case 23:return gi(i),Tp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),l=i.updateQueue,l!==null&&Eh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&ve(ho),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mi(vn),Yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function bA(s,i){switch(up(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return mi(vn),lt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return jt(i),null;case 13:if(gi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Fc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(xn),null;case 4:return lt(),null;case 10:return mi(i.type),null;case 22:case 23:return gi(i),Tp(),s!==null&&ve(ho),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return mi(vn),null;case 25:return null;default:return null}}function kb(s,i){switch(up(i),i.tag){case 3:mi(vn),lt();break;case 26:case 27:case 5:jt(i);break;case 4:lt();break;case 13:gi(i);break;case 19:ve(xn);break;case 10:mi(i.type);break;case 22:case 23:gi(i),Tp(),s!==null&&ve(ho);break;case 24:mi(vn)}}function iu(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var v=l.create,I=l.inst;u=v(),I.destroy=u}l=l.next}while(l!==g)}}catch(B){zt(i,i.return,B)}}function Gi(s,i,l){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&s)===s){var I=u.inst,B=I.destroy;if(B!==void 0){I.destroy=void 0,g=i;var G=l,ne=B;try{ne()}catch(ue){zt(g,G,ue)}}}u=u.next}while(u!==v)}}catch(ue){zt(i,i.return,ue)}}function Lb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Tx(i,l)}catch(u){zt(s,s.return,u)}}}function Vb(s,i,l){l.props=mo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){zt(s,i,u)}}function au(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){zt(s,i,g)}}function zs(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){zt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){zt(s,i,g)}else l.current=null}function zb(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){zt(s,s.return,g)}}function Zp(s,i,l){try{var u=s.stateNode;BA(u,s.type,l,i),u[be]=i}catch(g){zt(s,s.return,g)}}function Ub(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ea(s.type)||s.tag===4}function Jp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ub(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ea(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function eg(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ph));else if(u!==4&&(u===27&&ea(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(eg(s,i,l),s=s.sibling;s!==null;)eg(s,i,l),s=s.sibling}function Th(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&ea(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Th(s,i,l),s=s.sibling;s!==null;)Th(s,i,l),s=s.sibling}function Bb(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Vn(i,u,l),i[fe]=s,i[be]=l}catch(v){zt(s,s.return,v)}}var xi=!1,nn=!1,tg=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,An=null;function wA(s,i){if(s=s.containerInfo,Sg=Fh,s=Jv(s),Jm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var I=0,B=-1,G=-1,ne=0,ue=0,me=s,re=null;t:for(;;){for(var ie;me!==l||g!==0&&me.nodeType!==3||(B=I+g),me!==v||u!==0&&me.nodeType!==3||(G=I+u),me.nodeType===3&&(I+=me.nodeValue.length),(ie=me.firstChild)!==null;)re=me,me=ie;for(;;){if(me===s)break t;if(re===l&&++ne===g&&(B=I),re===v&&++ue===u&&(G=I),(ie=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ie}l=B===-1||G===-1?null:{start:B,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ng={focusedElem:s,selectionRange:l},Fh=!1,An=i;An!==null;)if(i=An,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,An=s;else for(;An!==null;){switch(i=An,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var Qe=mo(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Qe,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(Be){zt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Rg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Rg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,An=s;break}An=i.return}}function qb(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(s,l),u&4&&iu(5,l);break;case 1:if(Qi(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(I){zt(l,l.return,I)}else{var g=mo(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(I){zt(l,l.return,I)}}u&64&&Lb(l),u&512&&au(l,l.return);break;case 3:if(Qi(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Tx(s,i)}catch(I){zt(l,l.return,I)}}break;case 27:i===null&&u&4&&Bb(l);case 26:case 5:Qi(s,l),i===null&&u&4&&zb(l),u&512&&au(l,l.return);break;case 12:Qi(s,l);break;case 13:Qi(s,l),u&4&&Gb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=IA.bind(null,l),KA(s,l))));break;case 22:if(u=l.memoizedState!==null||xi,!u){i=i!==null&&i.memoizedState!==null||nn,g=xi;var v=nn;xi=u,(nn=i)&&!v?Ki(s,l,(l.subtreeFlags&8772)!==0):Qi(s,l),xi=g,nn=v}break;case 30:break;default:Qi(s,l)}}function Hb(s){var i=s.alternate;i!==null&&(s.alternate=null,Hb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&De(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,gr=!1;function bi(s,i,l){for(l=l.child;l!==null;)$b(s,i,l),l=l.sibling}function $b(s,i,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(xt,l)}catch{}switch(l.tag){case 26:nn||zs(l,i),bi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||zs(l,i);var u=Gt,g=gr;ea(l.type)&&(Gt=l.stateNode,gr=!1),bi(s,i,l),pu(l.stateNode),Gt=u,gr=g;break;case 5:nn||zs(l,i);case 6:if(u=Gt,g=gr,Gt=null,bi(s,i,l),Gt=u,gr=g,Gt!==null)if(gr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){zt(l,i,v)}else try{Gt.removeChild(l.stateNode)}catch(v){zt(l,i,v)}break;case 18:Gt!==null&&(gr?(s=Gt,O1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Eu(s)):O1(Gt,l.stateNode));break;case 4:u=Gt,g=gr,Gt=l.stateNode.containerInfo,gr=!0,bi(s,i,l),Gt=u,gr=g;break;case 0:case 11:case 14:case 15:nn||Gi(2,l,i),nn||Gi(4,l,i),bi(s,i,l);break;case 1:nn||(zs(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Vb(l,i,u)),bi(s,i,l);break;case 21:bi(s,i,l);break;case 22:nn=(u=nn)||l.memoizedState!==null,bi(s,i,l),nn=u;break;default:bi(s,i,l)}}function Gb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Eu(s)}catch(l){zt(i,i.return,l)}}function _A(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Fb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Fb),i;default:throw Error(r(435,s.tag))}}function ng(s,i){var l=_A(s);i.forEach(function(u){var g=jA.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function Rr(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=s,I=i,B=I;e:for(;B!==null;){switch(B.tag){case 27:if(ea(B.type)){Gt=B.stateNode,gr=!1;break e}break;case 5:Gt=B.stateNode,gr=!1;break e;case 3:case 4:Gt=B.stateNode.containerInfo,gr=!0;break e}B=B.return}if(Gt===null)throw Error(r(160));$b(v,I,g),Gt=null,gr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Qb(i,s),i=i.sibling}var us=null;function Qb(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(i,s),Ir(s),u&4&&(Gi(3,s,s.return),iu(3,s),Gi(5,s,s.return));break;case 1:Rr(i,s),Ir(s),u&512&&(nn||l===null||zs(l,l.return)),u&64&&xi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=us;if(Rr(i,s),Ir(s),u&512&&(nn||l===null||zs(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[fe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),Vn(v,u,l),v[fe]=s,gt(v),u=v;break e;case"link":var I=B1("link","href",g).get(u+(l.href||""));if(I){for(var B=0;B<I.length;B++)if(v=I[B],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(B,1);break t}}v=g.createElement(u),Vn(v,u,l),g.head.appendChild(v);break;case"meta":if(I=B1("meta","content",g).get(u+(l.content||""))){for(B=0;B<I.length;B++)if(v=I[B],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(B,1);break t}}v=g.createElement(u),Vn(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[fe]=s,gt(v),u=v}s.stateNode=u}else F1(g,s.type,s.stateNode);else s.stateNode=U1(g,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?F1(g,s.type,s.stateNode):U1(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Zp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Rr(i,s),Ir(s),u&512&&(nn||l===null||zs(l,l.return)),l!==null&&u&4&&Zp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Rr(i,s),Ir(s),u&512&&(nn||l===null||zs(l,l.return)),s.flags&32){g=s.stateNode;try{Hr(g,"")}catch(ie){zt(s,s.return,ie)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Zp(s,g,l!==null?l.memoizedProps:g)),u&1024&&(tg=!0);break;case 6:if(Rr(i,s),Ir(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ie){zt(s,s.return,ie)}}break;case 3:if(zh=null,g=us,us=Lh(i.containerInfo),Rr(i,s),us=g,Ir(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Eu(i.containerInfo)}catch(ie){zt(s,s.return,ie)}tg&&(tg=!1,Kb(s));break;case 4:u=us,us=Lh(s.stateNode.containerInfo),Rr(i,s),Ir(s),us=u;break;case 12:Rr(i,s),Ir(s);break;case 13:Rr(i,s),Ir(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(lg=Wt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,ng(s,u)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ne=xi,ue=nn;if(xi=ne||g,nn=ue||G,Rr(i,s),nn=ue,xi=ne,Ir(s),u&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||xi||nn||po(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{B=G.stateNode;var me=G.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;B.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){zt(G,G.return,ie)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(ie){zt(G,G.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ng(s,l))));break;case 19:Rr(i,s),Ir(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,ng(s,u)));break;case 30:break;case 21:break;default:Rr(i,s),Ir(s)}}function Ir(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if(Ub(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Jp(s);Th(s,v,g);break;case 5:var I=l.stateNode;l.flags&32&&(Hr(I,""),l.flags&=-33);var B=Jp(s);Th(s,B,I);break;case 3:case 4:var G=l.stateNode.containerInfo,ne=Jp(s);eg(s,ne,G);break;default:throw Error(r(161))}}catch(ue){zt(s,s.return,ue)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Kb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Kb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Qi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qb(s,i.alternate,i),i=i.sibling}function po(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Gi(4,i,i.return),po(i);break;case 1:zs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Vb(i,i.return,l),po(i);break;case 27:pu(i.stateNode);case 26:case 5:zs(i,i.return),po(i);break;case 22:i.memoizedState===null&&po(i);break;case 30:po(i);break;default:po(i)}s=s.sibling}}function Ki(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=s,v=i,I=v.flags;switch(v.tag){case 0:case 11:case 15:Ki(g,v,l),iu(4,v);break;case 1:if(Ki(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){zt(u,u.return,ne)}if(u=v,g=u.updateQueue,g!==null){var B=u.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)Ex(G[g],B)}catch(ne){zt(u,u.return,ne)}}l&&I&64&&Lb(v),au(v,v.return);break;case 27:Bb(v);case 26:case 5:Ki(g,v,l),l&&u===null&&I&4&&zb(v),au(v,v.return);break;case 12:Ki(g,v,l);break;case 13:Ki(g,v,l),l&&I&4&&Gb(g,v);break;case 22:v.memoizedState===null&&Ki(g,v,l),au(v,v.return);break;case 30:break;default:Ki(g,v,l)}i=i.sibling}}function rg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&$c(l))}function sg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s))}function Us(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yb(s,i,l,u),i=i.sibling}function Yb(s,i,l,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Us(s,i,l,u),g&2048&&iu(9,i);break;case 1:Us(s,i,l,u);break;case 3:Us(s,i,l,u),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&$c(s)));break;case 12:if(g&2048){Us(s,i,l,u),s=i.stateNode;try{var v=i.memoizedProps,I=v.id,B=v.onPostCommit;typeof B=="function"&&B(I,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){zt(i,i.return,G)}}else Us(s,i,l,u);break;case 13:Us(s,i,l,u);break;case 23:break;case 22:v=i.stateNode,I=i.alternate,i.memoizedState!==null?v._visibility&2?Us(s,i,l,u):ou(s,i):v._visibility&2?Us(s,i,l,u):(v._visibility|=2,pl(s,i,l,u,(i.subtreeFlags&10256)!==0)),g&2048&&rg(I,i);break;case 24:Us(s,i,l,u),g&2048&&sg(i.alternate,i);break;default:Us(s,i,l,u)}}function pl(s,i,l,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,I=i,B=l,G=u,ne=I.flags;switch(I.tag){case 0:case 11:case 15:pl(v,I,B,G,g),iu(8,I);break;case 23:break;case 22:var ue=I.stateNode;I.memoizedState!==null?ue._visibility&2?pl(v,I,B,G,g):ou(v,I):(ue._visibility|=2,pl(v,I,B,G,g)),g&&ne&2048&&rg(I.alternate,I);break;case 24:pl(v,I,B,G,g),g&&ne&2048&&sg(I.alternate,I);break;default:pl(v,I,B,G,g)}i=i.sibling}}function ou(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,g=u.flags;switch(u.tag){case 22:ou(l,u),g&2048&&rg(u.alternate,u);break;case 24:ou(l,u),g&2048&&sg(u.alternate,u);break;default:ou(l,u)}i=i.sibling}}var lu=8192;function gl(s){if(s.subtreeFlags&lu)for(s=s.child;s!==null;)Xb(s),s=s.sibling}function Xb(s){switch(s.tag){case 26:gl(s),s.flags&lu&&s.memoizedState!==null&&oC(us,s.memoizedState,s.memoizedProps);break;case 5:gl(s);break;case 3:case 4:var i=us;us=Lh(s.stateNode.containerInfo),gl(s),us=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=lu,lu=16777216,gl(s),lu=i):gl(s));break;default:gl(s)}}function Wb(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function cu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];An=u,Jb(u,s)}Wb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Zb(s),s=s.sibling}function Zb(s){switch(s.tag){case 0:case 11:case 15:cu(s),s.flags&2048&&Gi(9,s,s.return);break;case 3:cu(s);break;case 12:cu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Sh(s)):cu(s);break;default:cu(s)}}function Sh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];An=u,Jb(u,s)}Wb(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Gi(8,i,i.return),Sh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Sh(i));break;default:Sh(i)}s=s.sibling}}function Jb(s,i){for(;An!==null;){var l=An;switch(l.tag){case 0:case 11:case 15:Gi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$c(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,An=u;else e:for(l=s;An!==null;){u=An;var g=u.sibling,v=u.return;if(Hb(u),u===l){An=null;break e}if(g!==null){g.return=v,An=g;break e}An=v}}}var EA={getCacheForType:function(s){var i=$n(vn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},TA=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Ut=null,ut=null,_t=0,Ot=0,jr=null,Yi=!1,yl=!1,ig=!1,wi=0,Jt=0,Xi=0,go=0,ag=0,Jr=0,vl=0,uu=null,yr=null,og=!1,lg=0,Nh=1/0,Ah=null,Wi=null,Ln=0,Zi=null,xl=null,bl=0,cg=0,ug=null,e1=null,du=0,dg=null;function Mr(){if((Mt&2)!==0&&_t!==0)return _t&-_t;if($.T!==null){var s=ol;return s!==0?s:vg()}return Q()}function t1(){Jr===0&&(Jr=(_t&536870912)===0||Nt?an():536870912);var s=Zr.current;return s!==null&&(s.flags|=32),Jr}function Or(s,i,l){(s===Ut&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)&&(wl(s,0),Ji(s,_t,Jr,!1)),qn(s,l),((Mt&2)===0||s!==Ut)&&(s===Ut&&((Mt&2)===0&&(go|=l),Jt===4&&Ji(s,_t,Jr,!1)),Bs(s))}function n1(s,i,l){if((Mt&6)!==0)throw Error(r(327));var u=!l&&(i&124)===0&&(i&s.expiredLanes)===0||pt(s,i),g=u?AA(s,i):mg(s,i,!0),v=u;do{if(g===0){yl&&!u&&Ji(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!SA(l)){g=mg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){i=I;e:{var B=s;g=uu;var G=B.current.memoizedState.isDehydrated;if(G&&(wl(B,I).flags|=256),I=mg(B,I,!1),I!==2){if(ig&&!G){B.errorRecoveryDisabledLanes|=v,go|=v,g=4;break e}v=yr,yr=g,v!==null&&(yr===null?yr=v:yr.push.apply(yr,v))}g=I}if(v=!1,g!==2)continue}}if(g===1){wl(s,0),Ji(s,i,0,!0);break}e:{switch(u=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ji(u,i,Jr,!Yi);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=lg+300-Wt(),10<g)){if(Ji(u,i,Jr,!Yi),tt(u,0,!0)!==0)break e;u.timeoutHandle=j1(r1.bind(null,u,l,yr,Ah,og,i,Jr,go,vl,Yi,v,2,-0,0),g);break e}r1(u,l,yr,Ah,og,i,Jr,go,vl,Yi,v,0,-0,0)}}break}while(!0);Bs(s)}function r1(s,i,l,u,g,v,I,B,G,ne,ue,me,re,ie){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(vu={stylesheets:null,count:0,unsuspend:aC},Xb(i),me=lC(),me!==null)){s.cancelPendingCommit=me(u1.bind(null,s,i,v,l,u,g,I,B,G,ue,1,re,ie)),Ji(s,v,I,!ne);return}u1(s,i,v,l,u,g,I,B,G)}function SA(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!Ar(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(s,i,l,u){i&=~ag,i&=~go,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var g=i;0<g;){var v=31-Qt(g),I=1<<v;u[v]=-1,g&=~I}l!==0&&Kt(s,l,i)}function Ch(){return(Mt&6)===0?(hu(0),!1):!0}function hg(){if(ut!==null){if(Ot===0)var s=ut.return;else s=ut,fi=co=null,Rp(s),fl=null,nu=0,s=ut;for(;s!==null;)kb(s.alternate,s),s=s.return;ut=null}}function wl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,qA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),hg(),Ut=s,ut=l=ui(s.current,null),_t=i,Ot=0,jr=null,Yi=!1,yl=pt(s,i),ig=!1,vl=Jr=ag=go=Xi=Jt=0,yr=uu=null,og=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var g=31-Qt(u),v=1<<g;i|=s[g],u&=~v}return wi=i,Xd(),l}function s1(s,i){rt=null,$.H=ph,i===Qc||i===ih?(i=wx(),Ot=3):i===vx?(i=wx(),Ot=4):Ot=i===_b?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jr=i,ut===null&&(Jt=1,bh(s,Kr(i,s.current)))}function i1(){var s=$.H;return $.H=ph,s===null?ph:s}function a1(){var s=$.A;return $.A=EA,s}function fg(){Jt=4,Yi||(_t&4194048)!==_t&&Zr.current!==null||(yl=!0),(Xi&134217727)===0&&(go&134217727)===0||Ut===null||Ji(Ut,_t,Jr,!1)}function mg(s,i,l){var u=Mt;Mt|=2;var g=i1(),v=a1();(Ut!==s||_t!==i)&&(Ah=null,wl(s,i)),i=!1;var I=Jt;e:do try{if(Ot!==0&&ut!==null){var B=ut,G=jr;switch(Ot){case 8:hg(),I=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(i=!0);var ne=Ot;if(Ot=0,jr=null,_l(s,B,G,ne),l&&yl){I=0;break e}break;default:ne=Ot,Ot=0,jr=null,_l(s,B,G,ne)}}NA(),I=Jt;break}catch(ue){s1(s,ue)}while(!0);return i&&s.shellSuspendCounter++,fi=co=null,Mt=u,$.H=g,$.A=v,ut===null&&(Ut=null,_t=0,Xd()),I}function NA(){for(;ut!==null;)o1(ut)}function AA(s,i){var l=Mt;Mt|=2;var u=i1(),g=a1();Ut!==s||_t!==i?(Ah=null,Nh=Wt()+500,wl(s,i)):yl=pt(s,i);e:do try{if(Ot!==0&&ut!==null){i=ut;var v=jr;t:switch(Ot){case 1:Ot=0,jr=null,_l(s,i,v,1);break;case 2:case 9:if(xx(v)){Ot=0,jr=null,l1(i);break}i=function(){Ot!==2&&Ot!==9||Ut!==s||(Ot=7),Bs(s)},v.then(i,i);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:xx(v)?(Ot=0,jr=null,l1(i)):(Ot=0,jr=null,_l(s,i,v,7));break;case 5:var I=null;switch(ut.tag){case 26:I=ut.memoizedState;case 5:case 27:var B=ut;if(!I||q1(I)){Ot=0,jr=null;var G=B.sibling;if(G!==null)ut=G;else{var ne=B.return;ne!==null?(ut=ne,Rh(ne)):ut=null}break t}}Ot=0,jr=null,_l(s,i,v,5);break;case 6:Ot=0,jr=null,_l(s,i,v,6);break;case 8:hg(),Jt=6;break e;default:throw Error(r(462))}}CA();break}catch(ue){s1(s,ue)}while(!0);return fi=co=null,$.H=u,$.A=g,Mt=l,ut!==null?0:(Ut=null,_t=0,Xd(),Jt)}function CA(){for(;ut!==null&&!hr();)o1(ut)}function o1(s){var i=Db(s.alternate,s,wi);s.memoizedProps=s.pendingProps,i===null?Rh(s):ut=i}function l1(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Cb(l,i,i.pendingProps,i.type,void 0,_t);break;case 11:i=Cb(l,i,i.pendingProps,i.type.render,i.ref,_t);break;case 5:Rp(i);default:kb(l,i),i=ut=cx(i,wi),i=Db(l,i,wi)}s.memoizedProps=s.pendingProps,i===null?Rh(s):ut=i}function _l(s,i,l,u){fi=co=null,Rp(i),fl=null,nu=0;var g=i.return;try{if(yA(s,g,i,l,_t)){Jt=1,bh(s,Kr(l,s.current)),ut=null;return}}catch(v){if(g!==null)throw ut=g,v;Jt=1,bh(s,Kr(l,s.current)),ut=null;return}i.flags&32768?(Nt||u===1?s=!0:yl||(_t&536870912)!==0?s=!1:(Yi=s=!0,(u===2||u===9||u===3||u===6)&&(u=Zr.current,u!==null&&u.tag===13&&(u.flags|=16384))),c1(i,s)):Rh(i)}function Rh(s){var i=s;do{if((i.flags&32768)!==0){c1(i,Yi);return}s=i.return;var l=xA(i.alternate,i,wi);if(l!==null){ut=l;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=s}while(i!==null);Jt===0&&(Jt=5)}function c1(s,i){do{var l=bA(s.alternate,s);if(l!==null){l.flags&=32767,ut=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ut=s;return}ut=s=l}while(s!==null);Jt=6,ut=null}function u1(s,i,l,u,g,v,I,B,G){s.cancelPendingCommit=null;do Ih();while(Ln!==0);if((Mt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=sp,Mn(s,l,v,I,B,G),s===Ut&&(ut=Ut=null,_t=0),xl=i,Zi=s,bl=l,cg=v,ug=g,e1=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,MA(as,function(){return p1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=se.p,se.p=2,I=Mt,Mt|=4;try{wA(s,i,l)}finally{Mt=I,se.p=g,$.T=u}}Ln=1,d1(),h1(),f1()}}function d1(){if(Ln===1){Ln=0;var s=Zi,i=xl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=se.p;se.p=2;var g=Mt;Mt|=4;try{Qb(i,s);var v=Ng,I=Jv(s.containerInfo),B=v.focusedElem,G=v.selectionRange;if(I!==B&&B&&B.ownerDocument&&Zv(B.ownerDocument.documentElement,B)){if(G!==null&&Jm(B)){var ne=G.start,ue=G.end;if(ue===void 0&&(ue=ne),"selectionStart"in B)B.selectionStart=ne,B.selectionEnd=Math.min(ue,B.value.length);else{var me=B.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Qe=B.textContent.length,Be=Math.min(G.start,Qe),Lt=G.end===void 0?Be:Math.min(G.end,Qe);!ie.extend&&Be>Lt&&(I=Lt,Lt=Be,Be=I);var X=Wv(B,Be),K=Wv(B,Lt);if(X&&K&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var ee=me.createRange();ee.setStart(X.node,X.offset),ie.removeAllRanges(),Be>Lt?(ie.addRange(ee),ie.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),ie.addRange(ee))}}}}for(me=[],ie=B;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<me.length;B++){var he=me[B];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Fh=!!Sg,Ng=Sg=null}finally{Mt=g,se.p=u,$.T=l}}s.current=i,Ln=2}}function h1(){if(Ln===2){Ln=0;var s=Zi,i=xl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=se.p;se.p=2;var g=Mt;Mt|=4;try{qb(s,i.alternate,i)}finally{Mt=g,se.p=u,$.T=l}}Ln=3}}function f1(){if(Ln===4||Ln===3){Ln=0,er();var s=Zi,i=xl,l=bl,u=e1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,xl=Zi=null,m1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Wi=null),As(l),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(xt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,g=se.p,se.p=2,$.T=null;try{for(var v=s.onRecoverableError,I=0;I<u.length;I++){var B=u[I];v(B.value,{componentStack:B.stack})}}finally{$.T=i,se.p=g}}(bl&3)!==0&&Ih(),Bs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===dg?du++:(du=0,dg=s):du=0,hu(0)}}function m1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,$c(i)))}function Ih(s){return d1(),h1(),f1(),p1()}function p1(){if(Ln!==5)return!1;var s=Zi,i=cg;cg=0;var l=As(bl),u=$.T,g=se.p;try{se.p=32>l?32:l,$.T=null,l=ug,ug=null;var v=Zi,I=bl;if(Ln=0,xl=Zi=null,bl=0,(Mt&6)!==0)throw Error(r(331));var B=Mt;if(Mt|=4,Zb(v.current),Yb(v,v.current,I,l),Mt=B,hu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(xt,v)}catch{}return!0}finally{se.p=g,$.T=u,m1(s,i)}}function g1(s,i,l){i=Kr(l,i),i=qp(s.stateNode,i,2),s=Fi(s,i,2),s!==null&&(qn(s,2),Bs(s))}function zt(s,i,l){if(s.tag===3)g1(s,s,l);else for(;i!==null;){if(i.tag===3){g1(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wi===null||!Wi.has(u))){s=Kr(l,s),l=bb(2),u=Fi(i,l,2),u!==null&&(wb(l,u,i,s),qn(u,2),Bs(u));break}}i=i.return}}function pg(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new TA;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(l)||(ig=!0,g.add(l),s=RA.bind(null,s,i,l),i.then(s,s))}function RA(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ut===s&&(_t&l)===l&&(Jt===4||Jt===3&&(_t&62914560)===_t&&300>Wt()-lg?(Mt&2)===0&&wl(s,0):ag|=l,vl===_t&&(vl=0)),Bs(s)}function y1(s,i){i===0&&(i=rr()),s=rl(s,i),s!==null&&(qn(s,i),Bs(s))}function IA(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),y1(s,l)}function jA(s,i){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),y1(s,l)}function MA(s,i){return mn(s,i)}var jh=null,El=null,gg=!1,Mh=!1,yg=!1,yo=0;function Bs(s){s!==El&&s.next===null&&(El===null?jh=El=s:El=El.next=s),Mh=!0,gg||(gg=!0,DA())}function hu(s,i){if(!yg&&Mh){yg=!0;do for(var l=!1,u=jh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var I=u.suspendedLanes,B=u.pingedLanes;v=(1<<31-Qt(42|s)+1)-1,v&=g&~(I&~B),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,w1(u,v))}else v=_t,v=tt(u,u===Ut?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||pt(u,v)||(l=!0,w1(u,v));u=u.next}while(l);yg=!1}}function OA(){v1()}function v1(){Mh=gg=!1;var s=0;yo!==0&&(FA()&&(s=yo),yo=0);for(var i=Wt(),l=null,u=jh;u!==null;){var g=u.next,v=x1(u,i);v===0?(u.next=null,l===null?jh=g:l.next=g,g===null&&(El=l)):(l=u,(s!==0||(v&3)!==0)&&(Mh=!0)),u=g}hu(s)}function x1(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var I=31-Qt(v),B=1<<I,G=g[I];G===-1?((B&l)===0||(B&u)!==0)&&(g[I]=Ht(B,i)):G<=i&&(s.expiredLanes|=B),v&=~B}if(i=Ut,l=_t,l=tt(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&qt(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||pt(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&qt(u),As(l)){case 2:case 8:l=Ss;break;case 32:l=as;break;case 268435456:l=nr;break;default:l=as}return u=b1.bind(null,s),l=mn(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&qt(u),s.callbackPriority=2,s.callbackNode=null,2}function b1(s,i){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ih()&&s.callbackNode!==l)return null;var u=_t;return u=tt(s,s===Ut?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(n1(s,u,i),x1(s,Wt()),s.callbackNode!=null&&s.callbackNode===l?b1.bind(null,s):null)}function w1(s,i){if(Ih())return null;n1(s,i,!0)}function DA(){HA(function(){(Mt&6)!==0?mn(Ts,OA):v1()})}function vg(){return yo===0&&(yo=an()),yo}function _1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$o(""+s)}function E1(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function PA(s,i,l,u,g){if(i==="submit"&&l&&l.stateNode===g){var v=_1((g[be]||null).action),I=u.submitter;I&&(i=(i=I[be]||null)?_1(i.formAction):I.getAttribute("formAction"),i!==null&&(v=i,I=null));var B=new Go("action","action",null,u,g);s.push({event:B,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(yo!==0){var G=I?E1(g,I):new FormData(g);Vp(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(B.preventDefault(),G=I?E1(g,I):new FormData(g),Vp(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var xg=0;xg<rp.length;xg++){var bg=rp[xg],kA=bg.toLowerCase(),LA=bg[0].toUpperCase()+bg.slice(1);cs(kA,"on"+LA)}cs(nx,"onAnimationEnd"),cs(rx,"onAnimationIteration"),cs(sx,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(eA,"onTransitionRun"),cs(tA,"onTransitionStart"),cs(nA,"onTransitionCancel"),cs(ix,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function T1(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var I=u.length-1;0<=I;I--){var B=u[I],G=B.instance,ne=B.currentTarget;if(B=B.listener,G!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ne;try{v(g)}catch(ue){xh(ue)}g.currentTarget=null,v=G}else for(I=0;I<u.length;I++){if(B=u[I],G=B.instance,ne=B.currentTarget,B=B.listener,G!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ne;try{v(g)}catch(ue){xh(ue)}g.currentTarget=null,v=G}}}}function dt(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var u=s+"__bubble";l.has(u)||(S1(i,s,2,!1),l.add(u))}function wg(s,i,l){var u=0;i&&(u|=4),S1(l,s,u,i)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function _g(s){if(!s[Oh]){s[Oh]=!0,it.forEach(function(l){l!=="selectionchange"&&(VA.has(l)||wg(l,!1,s),wg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Oh]||(i[Oh]=!0,wg("selectionchange",!1,i))}}function S1(s,i,l,u){switch(Y1(i)){case 2:var g=dC;break;case 8:g=hC;break;default:g=kg}l=g.bind(null,i,l,s),g=void 0,!Gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Eg(s,i,l,u,g){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var I=u.tag;if(I===3||I===4){var B=u.stateNode.containerInfo;if(B===g)break;if(I===4)for(I=u.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;B!==null;){if(I=qe(B),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){u=v=I;continue e}B=B.parentNode}}u=u.return}Pd(function(){var ne=v,ue=$r(l),me=[];e:{var re=ax.get(s);if(re!==void 0){var ie=Go,Qe=s;switch(s){case"keypress":if(Ms(l)===0)break e;case"keydown":case"keyup":ie=Zo;break;case"focusin":Qe="focus",ie=Yo;break;case"focusout":Qe="blur",ie=Yo;break;case"beforeblur":case"afterblur":ie=Yo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=qd;break;case nx:case rx:case sx:ie=Xo;break;case ix:ie=$d;break;case"scroll":case"scrollend":ie=kd;break;case"wheel":ie=Jo;break;case"copy":case"cut":case"paste":ie=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Lc;break;case"toggle":case"beforetoggle":ie=Qd}var Be=(i&4)!==0,Lt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?re!==null?re+"Capture":null:re;Be=[];for(var K=ne,ee;K!==null;){var he=K;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||X===null||(he=Ya(K,X),he!=null&&Be.push(mu(K,he,ee))),Lt)break;K=K.return}0<Be.length&&(re=new ie(re,Qe,null,l,ue),me.push({event:re,listeners:Be}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",re&&l!==si&&(Qe=l.relatedTarget||l.fromElement)&&(qe(Qe)||Qe[Ae]))break e;if((ie||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Qe=l.relatedTarget||l.toElement,ie=ne,Qe=Qe?qe(Qe):null,Qe!==null&&(Lt=o(Qe),Be=Qe.tag,Qe!==Lt||Be!==5&&Be!==27&&Be!==6)&&(Qe=null)):(ie=null,Qe=ne),ie!==Qe)){if(Be=Qr,he="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Lc,he="onPointerLeave",X="onPointerEnter",K="pointer"),Lt=ie==null?re:At(ie),ee=Qe==null?re:At(Qe),re=new Be(he,K+"leave",ie,l,ue),re.target=Lt,re.relatedTarget=ee,he=null,qe(ue)===ne&&(Be=new Be(X,K+"enter",Qe,l,ue),Be.target=ee,Be.relatedTarget=Lt,he=Be),Lt=he,ie&&Qe)t:{for(Be=ie,X=Qe,K=0,ee=Be;ee;ee=Tl(ee))K++;for(ee=0,he=X;he;he=Tl(he))ee++;for(;0<K-ee;)Be=Tl(Be),K--;for(;0<ee-K;)X=Tl(X),ee--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=Tl(Be),X=Tl(X)}Be=null}else Be=null;ie!==null&&N1(me,re,ie,Be,!1),Qe!==null&&Lt!==null&&N1(me,Lt,Qe,Be,!0)}}e:{if(re=ne?At(ne):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Re=$v;else if(yn(re))if(Gv)Re=WN;else{Re=YN;var at=KN}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Ic(ne.elementType)&&(Re=$v):Re=XN;if(Re&&(Re=Re(s,ne))){ci(me,Re,l,ue);break e}at&&at(s,re,ne),s==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Li(re,"number",re.value)}switch(at=ne?At(ne):window,s){case"focusin":(yn(at)||at.contentEditable==="true")&&(el=at,ep=ne,Uc=null);break;case"focusout":Uc=ep=el=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,ex(me,l,ue);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":ex(me,l,ue)}var ke;if(Ps)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else bt?le(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(N&&l.locale!=="ko"&&(bt||He!=="onCompositionStart"?He==="onCompositionEnd"&&bt&&(ke=Mc()):(js=ue,Vi="value"in js?js.value:js.textContent,bt=!0)),at=Dh(ne,He),0<at.length&&(He=new Pc(He,s,null,l,ue),me.push({event:He,listeners:at}),ke?He.data=ke:(ke=we(l),ke!==null&&(He.data=ke)))),(ke=w?gn(s,l):wt(s,l))&&(He=Dh(ne,"onBeforeInput"),0<He.length&&(at=new Pc("onBeforeInput","beforeinput",null,l,ue),me.push({event:at,listeners:He}),at.data=ke)),PA(me,s,ne,l,ue)}T1(me,i)})}function mu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Dh(s,i){for(var l=i+"Capture",u=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ya(s,l),g!=null&&u.unshift(mu(s,g,v)),g=Ya(s,i),g!=null&&u.push(mu(s,g,v))),s.tag===3)return u;s=s.return}return[]}function Tl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function N1(s,i,l,u,g){for(var v=i._reactName,I=[];l!==null&&l!==u;){var B=l,G=B.alternate,ne=B.stateNode;if(B=B.tag,G!==null&&G===u)break;B!==5&&B!==26&&B!==27||ne===null||(G=ne,g?(ne=Ya(l,v),ne!=null&&I.unshift(mu(l,ne,G))):g||(ne=Ya(l,v),ne!=null&&I.push(mu(l,ne,G)))),l=l.return}I.length!==0&&s.push({event:i,listeners:I})}var zA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function A1(s){return(typeof s=="string"?s:""+s).replace(zA,`
`).replace(UA,"")}function C1(s,i){return i=A1(i),A1(s)===i}function Ph(){}function kt(s,i,l,u,g,v){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Hr(s,""+u);break;case"className":ir(s,"class",u);break;case"tabIndex":ir(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(s,l,u);break;case"style":Rc(s,u,v);break;case"data":if(i!=="object"){ir(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=$o(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&kt(s,i,"name",g.name,g,null),kt(s,i,"formEncType",g.formEncType,g,null),kt(s,i,"formMethod",g.formMethod,g,null),kt(s,i,"formTarget",g.formTarget,g,null)):(kt(s,i,"encType",g.encType,g,null),kt(s,i,"method",g.method,g,null),kt(s,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=$o(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Ph);break;case"onScroll":u!=null&&dt("scroll",s);break;case"onScrollEnd":u!=null&&dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=$o(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":dt("beforetoggle",s),dt("toggle",s),Hn(s,"popover",u);break;case"xlinkActuate":Ye(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ye(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ye(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ye(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ye(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ye(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hn(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qm.get(l)||l,Hn(s,l,u))}}function Tg(s,i,l,u,g,v){switch(l){case"style":Rc(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&Hr(s,""+u);break;case"onScroll":u!=null&&dt("scroll",s);break;case"onScrollEnd":u!=null&&dt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[be]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,g);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Hn(s,l,u)}}}function Vn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",s),dt("load",s);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var I=l[v];if(I!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:kt(s,i,v,I,l,null)}}g&&kt(s,i,"srcSet",l.srcSet,l,null),u&&kt(s,i,"src",l.src,l,null);return;case"input":dt("invalid",s);var B=v=I=g=null,G=null,ne=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":g=ue;break;case"type":I=ue;break;case"checked":G=ue;break;case"defaultChecked":ne=ue;break;case"value":v=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:kt(s,i,u,ue,l,null)}}Ga(s,v,B,G,ne,I,g,!1),Ho(s);return;case"select":dt("invalid",s),u=I=v=null;for(g in l)if(l.hasOwnProperty(g)&&(B=l[g],B!=null))switch(g){case"value":v=B;break;case"defaultValue":I=B;break;case"multiple":u=B;default:kt(s,i,g,B,l,null)}i=v,l=I,s.multiple=!!u,i!=null?ri(s,!!u,i,!1):l!=null&&ri(s,!!u,l,!0);return;case"textarea":dt("invalid",s),v=g=u=null;for(I in l)if(l.hasOwnProperty(I)&&(B=l[I],B!=null))switch(I){case"value":u=B;break;case"defaultValue":g=B;break;case"children":v=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:kt(s,i,I,B,l,null)}Qa(s,u,g,v),Ho(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:kt(s,i,G,u,l,null)}return;case"dialog":dt("beforetoggle",s),dt("toggle",s),dt("cancel",s),dt("close",s);break;case"iframe":case"object":dt("load",s);break;case"video":case"audio":for(u=0;u<fu.length;u++)dt(fu[u],s);break;case"image":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"embed":case"source":case"link":dt("error",s),dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(u=l[ne],u!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:kt(s,i,ne,u,l,null)}return;default:if(Ic(i)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&Tg(s,i,ue,u,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(u=l[B],u!=null&&kt(s,i,B,u,l,null))}function BA(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,I=null,B=null,G=null,ne=null,ue=null;for(ie in l){var me=l[ie];if(l.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=me;default:u.hasOwnProperty(ie)||kt(s,i,ie,null,u,me)}}for(var re in u){var ie=u[re];if(me=l[re],u.hasOwnProperty(re)&&(ie!=null||me!=null))switch(re){case"type":v=ie;break;case"name":g=ie;break;case"checked":ne=ie;break;case"defaultChecked":ue=ie;break;case"value":I=ie;break;case"defaultValue":B=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:ie!==me&&kt(s,i,re,ie,u,me)}}Nr(s,I,B,G,ne,ue,v,g);return;case"select":ie=I=B=re=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ie=G;default:u.hasOwnProperty(v)||kt(s,i,v,null,u,G)}for(g in u)if(v=u[g],G=l[g],u.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":re=v;break;case"defaultValue":B=v;break;case"multiple":I=v;default:v!==G&&kt(s,i,g,v,u,G)}i=B,l=I,u=ie,re!=null?ri(s,!!l,re,!1):!!u!=!!l&&(i!=null?ri(s,!!l,i,!0):ri(s,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(B in l)if(g=l[B],l.hasOwnProperty(B)&&g!=null&&!u.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:kt(s,i,B,null,u,g)}for(I in u)if(g=u[I],v=l[I],u.hasOwnProperty(I)&&(g!=null||v!=null))switch(I){case"value":re=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&kt(s,i,I,g,u,v)}Dt(s,re,ie);return;case"option":for(var Qe in l)if(re=l[Qe],l.hasOwnProperty(Qe)&&re!=null&&!u.hasOwnProperty(Qe))switch(Qe){case"selected":s.selected=!1;break;default:kt(s,i,Qe,null,u,re)}for(G in u)if(re=u[G],ie=l[G],u.hasOwnProperty(G)&&re!==ie&&(re!=null||ie!=null))switch(G){case"selected":s.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:kt(s,i,G,re,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)re=l[Be],l.hasOwnProperty(Be)&&re!=null&&!u.hasOwnProperty(Be)&&kt(s,i,Be,null,u,re);for(ne in u)if(re=u[ne],ie=l[ne],u.hasOwnProperty(ne)&&re!==ie&&(re!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:kt(s,i,ne,re,u,ie)}return;default:if(Ic(i)){for(var Lt in l)re=l[Lt],l.hasOwnProperty(Lt)&&re!==void 0&&!u.hasOwnProperty(Lt)&&Tg(s,i,Lt,void 0,u,re);for(ue in u)re=u[ue],ie=l[ue],!u.hasOwnProperty(ue)||re===ie||re===void 0&&ie===void 0||Tg(s,i,ue,re,u,ie);return}}for(var X in l)re=l[X],l.hasOwnProperty(X)&&re!=null&&!u.hasOwnProperty(X)&&kt(s,i,X,null,u,re);for(me in u)re=u[me],ie=l[me],!u.hasOwnProperty(me)||re===ie||re==null&&ie==null||kt(s,i,me,re,u,ie)}var Sg=null,Ng=null;function kh(s){return s.nodeType===9?s:s.ownerDocument}function R1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I1(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Ag(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cg=null;function FA(){var s=window.event;return s&&s.type==="popstate"?s===Cg?!1:(Cg=s,!0):(Cg=null,!1)}var j1=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(s){return M1.resolve(null).then(s).catch($A)}:j1;function $A(s){setTimeout(function(){throw s})}function ea(s){return s==="head"}function O1(s,i){var l=i,u=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var I=s.ownerDocument;if(l&1&&pu(I.documentElement),l&2&&pu(I.body),l&4)for(l=I.head,pu(l),I=l.firstChild;I;){var B=I.nextSibling,G=I.nodeName;I[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=B}}if(g===0){s.removeChild(v),Eu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);Eu(i)}function Rg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function GA(s,i,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=ds(s.nextSibling),s===null)break}return null}function QA(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ds(s.nextSibling),s===null))return null;return s}function Ig(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function KA(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ds(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var jg=null;function D1(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function P1(s,i,l){switch(i=kh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function pu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);De(s)}var es=new Map,k1=new Set;function Lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _i=se.d;se.d={f:YA,r:XA,D:WA,C:ZA,L:JA,m:eC,X:nC,S:tC,M:rC};function YA(){var s=_i.f(),i=Ch();return s||i}function XA(s){var i=ct(s);i!==null&&i.tag===5&&i.type==="form"?nb(i):_i.r(s)}var Sl=typeof document>"u"?null:document;function L1(s,i,l){var u=Sl;if(u&&typeof i=="string"&&i){var g=ln(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),k1.has(g)||(k1.add(g),s={rel:s,crossOrigin:l,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),Vn(i,"link",s),gt(i),u.head.appendChild(i)))}}function WA(s){_i.D(s),L1("dns-prefetch",s,null)}function ZA(s,i){_i.C(s,i),L1("preconnect",s,i)}function JA(s,i,l){_i.L(s,i,l);var u=Sl;if(u&&s&&i){var g='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ln(l.imageSizes)+'"]')):g+='[href="'+ln(s)+'"]';var v=g;switch(i){case"style":v=Nl(s);break;case"script":v=Al(s)}es.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),es.set(v,s),u.querySelector(g)!==null||i==="style"&&u.querySelector(gu(v))||i==="script"&&u.querySelector(yu(v))||(i=u.createElement("link"),Vn(i,"link",s),gt(i),u.head.appendChild(i)))}}function eC(s,i){_i.m(s,i);var l=Sl;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(s)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Al(s)}if(!es.has(v)&&(s=y({rel:"modulepreload",href:s},i),es.set(v,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yu(v)))return}u=l.createElement("link"),Vn(u,"link",s),gt(u),l.head.appendChild(u)}}}function tC(s,i,l){_i.S(s,i,l);var u=Sl;if(u&&s){var g=Tt(u).hoistableStyles,v=Nl(s);i=i||"default";var I=g.get(v);if(!I){var B={loading:0,preload:null};if(I=u.querySelector(gu(v)))B.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=es.get(v))&&Mg(s,l);var G=I=u.createElement("link");gt(G),Vn(G,"link",s),G._p=new Promise(function(ne,ue){G.onload=ne,G.onerror=ue}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Vh(I,i,u)}I={type:"stylesheet",instance:I,count:1,state:B},g.set(v,I)}}}function nC(s,i){_i.X(s,i);var l=Sl;if(l&&s){var u=Tt(l).hoistableScripts,g=Al(s),v=u.get(g);v||(v=l.querySelector(yu(g)),v||(s=y({src:s,async:!0},i),(i=es.get(g))&&Og(s,i),v=l.createElement("script"),gt(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function rC(s,i){_i.M(s,i);var l=Sl;if(l&&s){var u=Tt(l).hoistableScripts,g=Al(s),v=u.get(g);v||(v=l.querySelector(yu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=es.get(g))&&Og(s,i),v=l.createElement("script"),gt(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function V1(s,i,l,u){var g=(g=Ee.current)?Lh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Nl(l.href),l=Tt(g).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Nl(l.href);var v=Tt(g).hoistableStyles,I=v.get(s);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,I),(v=g.querySelector(gu(s)))&&!v._p&&(I.instance=v,I.state.loading=5),es.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},es.set(s,l),v||sC(g,s,l,I.state))),i&&u===null)throw Error(r(528,""));return I}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Al(l),l=Tt(g).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Nl(s){return'href="'+ln(s)+'"'}function gu(s){return'link[rel="stylesheet"]['+s+"]"}function z1(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function sC(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Vn(i,"link",l),gt(i),s.head.appendChild(i))}function Al(s){return'[src="'+ln(s)+'"]'}function yu(s){return"script[async]"+s}function U1(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+ln(l.href)+'"]');if(u)return i.instance=u,gt(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),gt(u),Vn(u,"style",g),Vh(u,l.precedence,s),i.instance=u;case"stylesheet":g=Nl(l.href);var v=s.querySelector(gu(g));if(v)return i.state.loading|=4,i.instance=v,gt(v),v;u=z1(l),(g=es.get(g))&&Mg(u,g),v=(s.ownerDocument||s).createElement("link"),gt(v);var I=v;return I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),Vn(v,"link",u),i.state.loading|=4,Vh(v,l.precedence,s),i.instance=v;case"script":return v=Al(l.src),(g=s.querySelector(yu(v)))?(i.instance=g,gt(g),g):(u=l,(g=es.get(v))&&(u=y({},l),Og(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),gt(g),Vn(g,"link",u),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Vh(u,l.precedence,s));return i.instance}function Vh(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,I=0;I<u.length;I++){var B=u[I];if(B.dataset.precedence===i)v=B;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Mg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Og(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var zh=null;function B1(s,i,l){if(zh===null){var u=new Map,g=zh=new Map;g.set(l,u)}else g=zh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[fe]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(i)||"";I=s+I;var B=u.get(I);B?B.push(v):u.set(I,[v])}}return u}function F1(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function iC(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function q1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var vu=null;function aC(){}function oC(s,i,l){if(vu===null)throw Error(r(475));var u=vu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Nl(l.href),v=s.querySelector(gu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Uh.bind(u),s.then(u,u)),i.state.loading|=4,i.instance=v,gt(v);return}v=s.ownerDocument||s,l=z1(l),(g=es.get(g))&&Mg(l,g),v=v.createElement("link"),gt(v);var I=v;I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),Vn(v,"link",l),i.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Uh.bind(u),s.addEventListener("load",i),s.addEventListener("error",i))}}function lC(){if(vu===null)throw Error(r(475));var s=vu;return s.stylesheets&&s.count===0&&Dg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Dg(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Uh(){if(this.count--,this.count===0){if(this.stylesheets)Dg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bh=null;function Dg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bh=new Map,i.forEach(cC,s),Bh=null,Uh.call(s))}function cC(s,i){if(!(i.state.loading&4)){var l=Bh.get(s);if(l)var u=l.get(null);else{l=new Map,Bh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var I=g[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),u=I)}u&&l.set(null,u)}g=i.instance,I=g.getAttribute("data-precedence"),v=l.get(I)||u,v===u&&l.set(null,g),l.set(I,g),this.count++,u=Uh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var xu={$$typeof:b,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function uC(s,i,l,u,g,v,I,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function H1(s,i,l,u,g,v,I,B,G,ne,ue,me){return s=new uC(s,i,l,I,B,G,ne,me),i=1,v===!0&&(i|=24),v=Cr(3,null,null,i),s.current=v,v.stateNode=s,i=pp(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:i},xp(v),s}function $1(s){return s?(s=sl,s):sl}function G1(s,i,l,u,g,v){g=$1(g),u.context===null?u.context=g:u.pendingContext=g,u=Bi(i),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Fi(s,u,i),l!==null&&(Or(l,s,i),Yc(l,s,i))}function Q1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Pg(s,i){Q1(s,i),(s=s.alternate)&&Q1(s,i)}function K1(s){if(s.tag===13){var i=rl(s,67108864);i!==null&&Or(i,s,67108864),Pg(s,67108864)}}var Fh=!0;function dC(s,i,l,u){var g=$.T;$.T=null;var v=se.p;try{se.p=2,kg(s,i,l,u)}finally{se.p=v,$.T=g}}function hC(s,i,l,u){var g=$.T;$.T=null;var v=se.p;try{se.p=8,kg(s,i,l,u)}finally{se.p=v,$.T=g}}function kg(s,i,l,u){if(Fh){var g=Lg(u);if(g===null)Eg(s,i,u,qh,l),X1(s,u);else if(mC(g,s,i,l,u))u.stopPropagation();else if(X1(s,u),i&4&&-1<fC.indexOf(s)){for(;g!==null;){var v=ct(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=je(v.pendingLanes);if(I!==0){var B=v;for(B.pendingLanes|=2,B.entangledLanes|=2;I;){var G=1<<31-Qt(I);B.entanglements[1]|=G,I&=~G}Bs(v),(Mt&6)===0&&(Nh=Wt()+500,hu(0))}}break;case 13:B=rl(v,2),B!==null&&Or(B,v,2),Ch(),Pg(v,2)}if(v=Lg(u),v===null&&Eg(s,i,u,qh,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else Eg(s,i,u,null,l)}}function Lg(s){return s=$r(s),Vg(s)}var qh=null;function Vg(s){if(qh=null,s=qe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return qh=s,null}function Y1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Ts:return 2;case Ss:return 8;case as:case tr:return 32;case nr:return 268435456;default:return 32}default:return 32}}var zg=!1,ta=null,na=null,ra=null,bu=new Map,wu=new Map,sa=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X1(s,i){switch(s){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":bu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(i.pointerId)}}function _u(s,i,l,u,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},i!==null&&(i=ct(i),i!==null&&K1(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function mC(s,i,l,u,g){switch(i){case"focusin":return ta=_u(ta,s,i,l,u,g),!0;case"dragenter":return na=_u(na,s,i,l,u,g),!0;case"mouseover":return ra=_u(ra,s,i,l,u,g),!0;case"pointerover":var v=g.pointerId;return bu.set(v,_u(bu.get(v)||null,s,i,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,wu.set(v,_u(wu.get(v)||null,s,i,l,u,g)),!0}return!1}function W1(s){var i=qe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var u=Mr();u=Er(u);var g=rl(l,u);g!==null&&Or(g,l,u),Pg(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Lg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);si=u,l.target.dispatchEvent(u),si=null}else return i=ct(l),i!==null&&K1(i),s.blockedOn=l,!1;i.shift()}return!0}function Z1(s,i,l){Hh(s)&&l.delete(i)}function pC(){zg=!1,ta!==null&&Hh(ta)&&(ta=null),na!==null&&Hh(na)&&(na=null),ra!==null&&Hh(ra)&&(ra=null),bu.forEach(Z1),wu.forEach(Z1)}function $h(s,i){s.blockedOn===i&&(s.blockedOn=null,zg||(zg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pC)))}var Gh=null;function J1(s){Gh!==s&&(Gh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gh===s&&(Gh=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],g=s[i+2];if(typeof u!="function"){if(Vg(u||l)===null)continue;break}var v=ct(l);v!==null&&(s.splice(i,3),i-=3,Vp(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Eu(s){function i(G){return $h(G,s)}ta!==null&&$h(ta,s),na!==null&&$h(na,s),ra!==null&&$h(ra,s),bu.forEach(i),wu.forEach(i);for(var l=0;l<sa.length;l++){var u=sa[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<sa.length&&(l=sa[0],l.blockedOn===null);)W1(l),l.blockedOn===null&&sa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],I=g[be]||null;if(typeof v=="function")I||J1(l);else if(I){var B=null;if(v&&v.hasAttribute("formAction")){if(g=v,I=v[be]||null)B=I.formAction;else if(Vg(g)!==null)continue}else B=I.action;typeof B=="function"?l[u+1]=B:(l.splice(u,3),u-=3),J1(l)}}}function Ug(s){this._internalRoot=s}Qh.prototype.render=Ug.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Mr();G1(l,u,s,i,null,null)},Qh.prototype.unmount=Ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;G1(s.current,2,null,s,null,null),Ch(),i[Ae]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<sa.length&&i!==0&&i<sa[l].priority;l++);sa.splice(l,0,s),l===0&&W1(s)}};var ew=e.version;if(ew!=="19.1.0")throw Error(r(527,ew,"19.1.0"));se.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var gC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{xt=Kh.inject(gC),Ze=Kh}catch{}}return Su.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",g=gb,v=yb,I=vb,B=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(I=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(B=i.unstable_transitionCallbacks)),i=H1(s,1,!1,null,null,l,u,g,v,I,B,null),s[Ae]=i.current,_g(s),new Ug(i)},Su.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,g="",v=gb,I=yb,B=vb,G=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),i=H1(s,1,!0,i,l??null,u,g,v,I,B,G,ne),i.context=$1(null),l=i.current,u=Mr(),u=Er(u),g=Bi(u),g.callback=null,Fi(l,g,u),l=u,i.current.lanes=l,qn(i,l),Bs(i),s[Ae]=i.current,_g(s),new Qh(i)},Su.version="19.1.0",Su}var dw;function SC(){if(dw)return Hg.exports;dw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hg.exports=TC(),Hg.exports}var NC=SC(),Nu={},hw;function AC(){if(hw)return Nu;hw=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.parse=c,Nu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,E){const S=new o,P=_.length;if(P<2)return S;const C=(E==null?void 0:E.decode)||y;let A=0;do{const T=_.indexOf("=",A);if(T===-1)break;const b=_.indexOf(";",A),O=b===-1?P:b;if(T>O){A=_.lastIndexOf(";",T-1)+1;continue}const z=h(_,A,T),U=f(_,T,z),V=_.slice(z,U);if(S[V]===void 0){let j=h(_,T+1,O),M=f(_,O,j);const D=C(_.slice(j,M));S[V]=D}A=O+1}while(A<P);return S}function h(_,E,S){do{const P=_.charCodeAt(E);if(P!==32&&P!==9)return E}while(++E<S);return S}function f(_,E,S){for(;E>S;){const P=_.charCodeAt(--E);if(P!==32&&P!==9)return E+1}return S}function p(_,E,S){const P=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=P(E);if(!e.test(C))throw new TypeError(`argument val is invalid: ${E}`);let A=_+"="+C;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!x(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function x(_){return a.call(_)==="[object Date]"}return Nu}AC();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iT=n=>{throw TypeError(n)},CC=(n,e,t)=>e.has(n)||iT("Cannot "+t),Kg=(n,e,t)=>(CC(n,e,"read from private field"),t?t.call(n):e.get(n)),RC=(n,e,t)=>e.has(n)?iT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),fw="popstate";function IC(n={}){function e(r,a){let{pathname:o,search:c,hash:h}=r.location;return Xu("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ma(a)}return MC(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jC(){return Math.random().toString(36).substring(2,10)}function mw(n,e){return{usr:n.state,key:n.key,idx:e}}function Xu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ua(e):e,state:t,key:e&&e.key||r||jC()}}function Ma({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ua(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function MC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function x(){h="POP";let C=y(),A=C==null?null:C-p;p=C,f&&f({action:h,location:P.location,delta:A})}function _(C,A){h="PUSH";let T=Xu(P.location,C,A);p=y()+1;let b=mw(T,p),O=P.createHref(T);try{c.pushState(b,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(O)}o&&f&&f({action:h,location:P.location,delta:1})}function E(C,A){h="REPLACE";let T=Xu(P.location,C,A);p=y();let b=mw(T,p),O=P.createHref(T);c.replaceState(b,"",O),o&&f&&f({action:h,location:P.location,delta:0})}function S(C){let A=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof C=="string"?C:Ma(C);return T=T.replace(/ $/,"%20"),ht(A,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,A)}let P={get action(){return h},get location(){return n(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(fw,x),f=C,()=>{a.removeEventListener(fw,x),f=null}},createHref(C){return e(a,C)},createURL:S,encodeLocation(C){let A=S(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:E,go(C){return c.go(C)}};return P}var Mu,pw=class{constructor(n){if(RC(this,Mu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Kg(this,Mu).has(n))return Kg(this,Mu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Kg(this,Mu).set(n,e)}};Mu=new WeakMap;var OC=new Set(["lazy","caseSensitive","path","id","index","children"]);function DC(n){return OC.has(n)}var PC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function kC(n){return PC.has(n)}function LC(n){return n.index===!0}function If(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],h=typeof a.id=="string"?a.id:c.join("-");if(ht(a.index!==!0||!a.children,"Cannot specify children on an index route"),ht(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),LC(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=If(a.children,e,c,r)),f}})}function ca(n,e,t="/"){return ff(n,e,t,!1)}function ff(n,e,t,r){let a=typeof e=="string"?Ua(e):e,o=ss(a.pathname||"/",t);if(o==null)return null;let c=aT(n);zC(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=XC(o);h=KC(c[f],p,r)}return h}function VC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function aT(n,e=[],t=[],r=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Gs([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),aT(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:GC(p,o.index),routesMeta:y})};return n.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let f of oT(o.path))a(o,c,f)}),e}function oT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=oT(r.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function zC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UC=/^:[\w-]+$/,BC=3,FC=2,qC=1,HC=10,$C=-2,gw=n=>n==="*";function GC(n,e){let t=n.split("/"),r=t.length;return t.some(gw)&&(r+=$C),e&&(r+=FC),t.filter(a=>!gw(a)).reduce((a,o)=>a+(UC.test(o)?BC:o===""?qC:HC),r)}function QC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function KC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=jf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),_=f.route;if(!x&&p&&t&&!r[r.length-1].route.index&&(x=jf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Gs([o,x.pathname]),pathnameBase:JC(Gs([o,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(o=Gs([o,x.pathnameBase]))}return c}function jf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:x},_)=>{if(y==="*"){let S=h[_]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=h[_];return x&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function YC(n,e=!1,t=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function WC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Ua(n):n;return{pathname:t?t.startsWith("/")?t:ZC(t,e):e,search:eR(r),hash:tR(a)}}function ZC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Yg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ay(n){let e=lT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Cy(n,e,t,r=!1){let a;typeof n=="string"?a=Ua(n):(a={...n},ht(!a.pathname||!a.pathname.includes("?"),Yg("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Yg("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Yg("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let x=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),x-=1;a.pathname=_.join("/")}h=x>=0?e[x]:"/"}let f=WC(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Gs=n=>n.join("/").replace(/\/\/+/g,"/"),JC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Mf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Wu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cT=["POST","PUT","PATCH","DELETE"],nR=new Set(cT),rR=["GET",...cT],sR=new Set(rR),iR=new Set([301,302,303,307,308]),aR=new Set([307,308]),Xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Au={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),uT="remix-router-transitions",dT=Symbol("ResetLoaderData");function cR(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ht(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||lR,o={},c=If(n.routes,a,void 0,o),h,f=n.basename||"/",p=n.dataStrategy||mR,y={unstable_middleware:!1,...n.future},x=null,_=new Set,E=null,S=null,P=null,C=n.hydrationData!=null,A=ca(c,n.history.location,f),T=!1,b=null;if(A==null&&!n.patchRoutesOnNavigation){let Q=ns(404,{pathname:n.history.location.pathname}),{matches:W,route:te}=Cw(c);A=W,b={[te.id]:Q}}A&&!n.hydrationData&&Kt(A,c,n.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(Q=>Q.route.lazy))O=!1;else if(!A.some(Q=>Q.route.loader))O=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let te=A.findIndex(fe=>W[fe.route.id]!==void 0);O=A.slice(0,te+1).every(fe=>!N0(fe.route,Q,W))}else O=A.every(te=>!N0(te.route,Q,W))}else{O=!1,A=[];let Q=Kt(null,c,n.history.location.pathname);Q.active&&Q.matches&&(T=!0,A=Q.matches)}let z,U={historyAction:n.history.action,location:n.history.location,matches:A,initialized:O,navigation:Xg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||b,fetchers:new Map,blockers:new Map},V="POP",j=!1,M,D=!1,k=new Map,L=null,R=!1,J=!1,oe=new Set,$=new Map,se=0,ae=-1,xe=new Map,H=new Set,ce=new Map,ve=new Map,ge=new Set,Se=new Map,Ve,Ee=null;function ye(){if(x=n.history.listen(({action:Q,location:W,delta:te})=>{if(Ve){Ve(),Ve=void 0;return}sn(Se.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Ht({currentLocation:U.location,nextLocation:W,historyAction:Q});if(fe&&te!=null){let be=new Promise(Ae=>{Ve=Ae});n.history.go(te*-1),pt(fe,{state:"blocked",location:W,proceed(){pt(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>n.history.go(te))},reset(){let Ae=new Map(U.blockers);Ae.set(fe,Au),et({blockers:Ae})}});return}return qt(Q,W)}),t){SR(e,k);let Q=()=>NR(e,k);e.addEventListener("pagehide",Q),L=()=>e.removeEventListener("pagehide",Q)}return U.initialized||qt("POP",U.location,{initialHydration:!0}),z}function Te(){x&&x(),L&&L(),_.clear(),M&&M.abort(),U.fetchers.forEach((Q,W)=>Qt(W)),U.blockers.forEach((Q,W)=>tt(W))}function lt(Q){return _.add(Q),()=>_.delete(Q)}function et(Q,W={}){U={...U,...Q};let te=[],fe=[];U.fetchers.forEach((be,Ae)=>{be.state==="idle"&&(ge.has(Ae)?te.push(Ae):fe.push(Ae))}),ge.forEach(be=>{!U.fetchers.has(be)&&!$.has(be)&&te.push(be)}),[..._].forEach(be=>be(U,{deletedFetchers:te,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),te.forEach(be=>Qt(be)),fe.forEach(be=>U.fetchers.delete(be))}function jt(Q,W,{flushSync:te}={}){var Pe,Ue;let fe=U.actionData!=null&&U.navigation.formMethod!=null&&kr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,be;W.actionData?Object.keys(W.actionData).length>0?be=W.actionData:be=null:fe?be=U.actionData:be=null;let Ae=W.loaderData?Nw(U.loaderData,W.loaderData,W.matches||[],W.errors):U.loaderData,ze=U.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((De,qe)=>ze.set(qe,Au)));let Ce=j===!0||U.navigation.formMethod!=null&&kr(U.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;h&&(c=h,h=void 0),R||V==="POP"||(V==="PUSH"?n.history.push(Q,Q.state):V==="REPLACE"&&n.history.replace(Q,Q.state));let Oe;if(V==="POP"){let De=k.get(U.location.pathname);De&&De.has(Q.pathname)?Oe={currentLocation:U.location,nextLocation:Q}:k.has(Q.pathname)&&(Oe={currentLocation:Q,nextLocation:U.location})}else if(D){let De=k.get(U.location.pathname);De?De.add(Q.pathname):(De=new Set([Q.pathname]),k.set(U.location.pathname,De)),Oe={currentLocation:U.location,nextLocation:Q}}et({...W,actionData:be,loaderData:Ae,historyAction:V,location:Q,initialized:!0,navigation:Xg,revalidation:"idle",restoreScrollPosition:Mn(Q,W.matches||U.matches),preventScrollReset:Ce,blockers:ze},{viewTransitionOpts:Oe,flushSync:te===!0}),V="POP",j=!1,D=!1,R=!1,J=!1,Ee==null||Ee.resolve(),Ee=null}async function $t(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let te=S0(U.location,U.matches,f,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:be,error:Ae}=yw(!1,te,W),ze=U.location,Ce=Xu(U.location,fe,W&&W.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let Oe=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";Oe===!0?Pe="REPLACE":Oe===!1||be!=null&&kr(be.formMethod)&&be.formAction===U.location.pathname+U.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,qe=Ht({currentLocation:ze,nextLocation:Ce,historyAction:Pe});if(qe){pt(qe,{state:"blocked",location:Ce,proceed(){pt(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),$t(Q,W)},reset(){let ct=new Map(U.blockers);ct.set(qe,Au),et({blockers:ct})}});return}await qt(Pe,Ce,{submission:be,pendingError:Ae,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function mn(){Ee||(Ee=AR()),os(),et({revalidation:"loading"});let Q=Ee.promise;return U.navigation.state==="submitting"?Q:U.navigation.state==="idle"?(qt(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),Q):(qt(V||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:D===!0}),Q)}async function qt(Q,W,te){M&&M.abort(),M=null,V=Q,R=(te&&te.startUninterruptedRevalidation)===!0,qn(U.location,U.matches),j=(te&&te.preventScrollReset)===!0,D=(te&&te.enableViewTransition)===!0;let fe=h||c,be=te&&te.overrideNavigation,Ae=te!=null&&te.initialHydration&&U.matches&&U.matches.length>0&&!T?U.matches:ca(fe,W,f),ze=(te&&te.flushSync)===!0;if(Ae&&U.initialized&&!J&&bR(U.location,W)&&!(te&&te.submission&&kr(te.submission.formMethod))){jt(W,{matches:Ae},{flushSync:ze});return}let Ce=Kt(Ae,fe,W.pathname);if(Ce.active&&Ce.matches&&(Ae=Ce.matches),!Ae){let{error:Tt,notFoundMatches:gt,route:it}=an(W.pathname);jt(W,{matches:gt,loaderData:{},errors:{[it.id]:Tt}},{flushSync:ze});return}M=new AbortController;let Oe=Rl(n.history,W,M.signal,te&&te.submission),Pe=new pw(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(te&&te.pendingError)Ue=[xo(Ae).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&kr(te.submission.formMethod)){let Tt=await hr(Oe,W,te.submission,Ae,Pe,Ce.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:ze});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[gt,it]=Tt.pendingActionResult;if(Pr(it)&&Wu(it.error)&&it.error.status===404){M=null,jt(W,{matches:Tt.matches,loaderData:{},errors:{[gt]:it.error}});return}}Ae=Tt.matches||Ae,Ue=Tt.pendingActionResult,be=Wg(W,te.submission),ze=!1,Ce.active=!1,Oe=Rl(n.history,Oe.url,Oe.signal)}let{shortCircuited:De,matches:qe,loaderData:ct,errors:At}=await er(Oe,W,Ae,Pe,Ce.active,be,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,ze,Ue);De||(M=null,jt(W,{matches:qe||Ae,...Aw(Ue),loaderData:ct,errors:At}))}async function hr(Q,W,te,fe,be,Ae,ze,Ce={}){os();let Oe=ER(W,te);if(et({navigation:Oe},{flushSync:Ce.flushSync===!0}),Ae){let De=await Br(fe,W.pathname,Q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let qe=xo(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[qe,{type:"error",error:De.error}]}}else if(De.matches)fe=De.matches;else{let{notFoundMatches:qe,error:ct,route:At}=an(W.pathname);return{matches:qe,pendingActionResult:[At.id,{type:"error",error:ct}]}}}let Pe,Ue=Ou(fe,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:ns(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let De=Ul(a,o,Q,fe,Ue,ze?[]:r,be),qe=await nr(Q,De,be,null);if(Pe=qe[Ue.route.id],!Pe){for(let ct of fe)if(qe[ct.route.id]){Pe=qe[ct.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(bo(Pe)){let De;return Ce&&Ce.replace!=null?De=Ce.replace:De=Ew(Pe.response.headers.get("Location"),new URL(Q.url),f)===U.location.pathname+U.location.search,await tr(Q,Pe,!0,{submission:te,replace:De}),{shortCircuited:!0}}if(Pr(Pe)){let De=xo(fe,Ue.route.id);return(Ce&&Ce.replace)!==!0&&(V="PUSH"),{matches:fe,pendingActionResult:[De.route.id,Pe,Ue.route.id]}}return{matches:fe,pendingActionResult:[Ue.route.id,Pe]}}async function er(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe,Ue,De){let qe=Ae||Wg(W,ze),ct=ze||Ce||Iw(qe),At=!R&&!Pe;if(be){if(At){let on=Wt(De);et({navigation:qe,...on!==void 0?{actionData:on}:{}},{flushSync:Ue})}let Ye=await Br(te,W.pathname,Q.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let on=xo(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[on]:Ye.error}}}else if(Ye.matches)te=Ye.matches;else{let{error:on,notFoundMatches:Sr,route:mr}=an(W.pathname);return{matches:Sr,loaderData:{},errors:{[mr.id]:on}}}}let Tt=h||c,{dsMatches:gt,revalidatingFetchers:it}=vw(Q,fe,a,o,n.history,U,te,ct,W,Pe?[]:r,Pe===!0,J,oe,ge,ce,H,Tt,f,De);if(ae=++se,!n.dataStrategy&&!gt.some(Ye=>Ye.shouldLoad)&&it.length===0){let Ye=Ur();return jt(W,{matches:te,loaderData:{},errors:De&&Pr(De[1])?{[De[0]]:De[1].error}:null,...Aw(De),...Ye?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(At){let Ye={};if(!be){Ye.navigation=qe;let on=Wt(De);on!==void 0&&(Ye.actionData=on)}it.length>0&&(Ye.fetchers=Es(it)),et(Ye,{flushSync:Ue})}it.forEach(Ye=>{fr(Ye.key),Ye.controller&&$.set(Ye.key,Ye.controller)});let Fr=()=>it.forEach(Ye=>fr(Ye.key));M&&M.signal.addEventListener("abort",Fr);let{loaderResults:pn,fetcherResults:sr}=await Ns(gt,it,Q,fe);if(Q.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Fr),it.forEach(Ye=>$.delete(Ye.key));let On=Xh(pn);if(On)return await tr(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};if(On=Xh(sr),On)return H.add(On.key),await tr(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:Cs,errors:Tr}=Sw(U,te,pn,De,it,sr);Pe&&U.errors&&(Tr={...U.errors,...Tr});let ki=Ur(),Hn=Me(ae),ir=ki||Hn||it.length>0;return{matches:te,loaderData:Cs,errors:Tr,...ir?{fetchers:new Map(U.fetchers)}:{}}}function Wt(Q){if(Q&&!Pr(Q[1]))return{[Q[0]]:Q[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Es(Q){return Q.forEach(W=>{let te=U.fetchers.get(W.key),fe=Cu(void 0,te?te.data:void 0);U.fetchers.set(W.key,fe)}),new Map(U.fetchers)}async function Ts(Q,W,te,fe){fr(Q);let be=(fe&&fe.flushSync)===!0,Ae=h||c,ze=S0(U.location,U.matches,f,te,W,fe==null?void 0:fe.relative),Ce=ca(Ae,ze,f),Oe=Kt(Ce,Ae,ze);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){Ze(Q,W,ns(404,{pathname:ze}),{flushSync:be});return}let{path:Pe,submission:Ue,error:De}=yw(!0,ze,fe);if(De){Ze(Q,W,De,{flushSync:be});return}let qe=Ou(Ce,Pe),ct=new pw(n.unstable_getContext?await n.unstable_getContext():void 0),At=(fe&&fe.preventScrollReset)===!0;if(Ue&&kr(Ue.formMethod)){await Ss(Q,W,Pe,qe,Ce,ct,Oe.active,be,At,Ue);return}ce.set(Q,{routeId:W,path:Pe}),await as(Q,W,Pe,qe,Ce,ct,Oe.active,be,At,Ue)}async function Ss(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe){os(),ce.delete(Q);function Ue(Vt){if(!Vt.route.action&&!Vt.route.lazy){let qr=ns(405,{method:Pe.formMethod,pathname:te,routeId:W});return Ze(Q,W,qr,{flushSync:Ce}),!0}return!1}if(!ze&&Ue(fe))return;let De=U.fetchers.get(Q);xt(Q,TR(Pe,De),{flushSync:Ce});let qe=new AbortController,ct=Rl(n.history,te,qe.signal,Pe);if(ze){let Vt=await Br(be,te,ct.signal,Q);if(Vt.type==="aborted")return;if(Vt.type==="error"){Ze(Q,W,Vt.error,{flushSync:Ce});return}else if(Vt.matches){if(be=Vt.matches,fe=Ou(be,te),Ue(fe))return}else{Ze(Q,W,ns(404,{pathname:te}),{flushSync:Ce});return}}$.set(Q,qe);let At=se,Tt=Ul(a,o,ct,be,fe,r,Ae),it=(await nr(ct,Tt,Ae,Q))[fe.route.id];if(ct.signal.aborted){$.get(Q)===qe&&$.delete(Q);return}if(ge.has(Q)){if(bo(it)||Pr(it)){xt(Q,oa(void 0));return}}else{if(bo(it))if($.delete(Q),ae>At){xt(Q,oa(void 0));return}else return H.add(Q),xt(Q,Cu(Pe)),tr(ct,it,!1,{fetcherSubmission:Pe,preventScrollReset:Oe});if(Pr(it)){Ze(Q,W,it.error);return}}let Fr=U.navigation.location||U.location,pn=Rl(n.history,Fr,qe.signal),sr=h||c,On=U.navigation.state!=="idle"?ca(sr,U.navigation.location,f):U.matches;ht(On,"Didn't find any matches after fetcher action");let Cs=++se;xe.set(Q,Cs);let Tr=Cu(Pe,it.data);U.fetchers.set(Q,Tr);let{dsMatches:ki,revalidatingFetchers:Hn}=vw(pn,Ae,a,o,n.history,U,On,Pe,Fr,r,!1,J,oe,ge,ce,H,sr,f,[fe.route.id,it]);Hn.filter(Vt=>Vt.key!==Q).forEach(Vt=>{let qr=Vt.key,ni=U.fetchers.get(qr),Dn=Cu(void 0,ni?ni.data:void 0);U.fetchers.set(qr,Dn),fr(qr),Vt.controller&&$.set(qr,Vt.controller)}),et({fetchers:new Map(U.fetchers)});let ir=()=>Hn.forEach(Vt=>fr(Vt.key));qe.signal.addEventListener("abort",ir);let{loaderResults:Ye,fetcherResults:on}=await Ns(ki,Hn,pn,Ae);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ir),xe.delete(Q),$.delete(Q),Hn.forEach(Vt=>$.delete(Vt.key));let Sr=Xh(Ye);if(Sr)return tr(pn,Sr.result,!1,{preventScrollReset:Oe});if(Sr=Xh(on),Sr)return H.add(Sr.key),tr(pn,Sr.result,!1,{preventScrollReset:Oe});let{loaderData:mr,errors:Rs}=Sw(U,On,Ye,void 0,Hn,on);if(U.fetchers.has(Q)){let Vt=oa(it.data);U.fetchers.set(Q,Vt)}Me(Cs),U.navigation.state==="loading"&&Cs>ae?(ht(V,"Expected pending action"),M&&M.abort(),jt(U.navigation.location,{matches:On,loaderData:mr,errors:Rs,fetchers:new Map(U.fetchers)})):(et({errors:Rs,loaderData:Nw(U.loaderData,mr,On,Rs),fetchers:new Map(U.fetchers)}),J=!1)}async function as(Q,W,te,fe,be,Ae,ze,Ce,Oe,Pe){let Ue=U.fetchers.get(Q);xt(Q,Cu(Pe,Ue?Ue.data:void 0),{flushSync:Ce});let De=new AbortController,qe=Rl(n.history,te,De.signal);if(ze){let it=await Br(be,te,qe.signal,Q);if(it.type==="aborted")return;if(it.type==="error"){Ze(Q,W,it.error,{flushSync:Ce});return}else if(it.matches)be=it.matches,fe=Ou(be,te);else{Ze(Q,W,ns(404,{pathname:te}),{flushSync:Ce});return}}$.set(Q,De);let ct=se,At=Ul(a,o,qe,be,fe,r,Ae),gt=(await nr(qe,At,Ae,Q))[fe.route.id];if($.get(Q)===De&&$.delete(Q),!qe.signal.aborted){if(ge.has(Q)){xt(Q,oa(void 0));return}if(bo(gt))if(ae>ct){xt(Q,oa(void 0));return}else{H.add(Q),await tr(qe,gt,!1,{preventScrollReset:Oe});return}if(Pr(gt)){Ze(Q,W,gt.error);return}xt(Q,oa(gt.data))}}async function tr(Q,W,te,{submission:fe,fetcherSubmission:be,preventScrollReset:Ae,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ce=W.response.headers.get("Location");ht(Ce,"Expected a Location header on the redirect Response"),Ce=Ew(Ce,new URL(Q.url),f);let Oe=Xu(U.location,Ce,{_isRedirect:!0});if(t){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(Ry.test(Ce)){const Tt=n.history.createURL(Ce);At=Tt.origin!==e.location.origin||ss(Tt.pathname,f)==null}if(At){ze?e.location.replace(Ce):e.location.assign(Ce);return}}M=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:De,formEncType:qe}=U.navigation;!fe&&!be&&Ue&&De&&qe&&(fe=Iw(U.navigation));let ct=fe||be;if(aR.has(W.response.status)&&ct&&kr(ct.formMethod))await qt(Pe,Oe,{submission:{...ct,formAction:Ce},preventScrollReset:Ae||j,enableViewTransition:te?D:void 0});else{let At=Wg(Oe,fe);await qt(Pe,Oe,{overrideNavigation:At,fetcherSubmission:be,preventScrollReset:Ae||j,enableViewTransition:te?D:void 0})}}async function nr(Q,W,te,fe){let be,Ae={};try{be=await pR(p,Q,W,fe,te,!1)}catch(ze){return W.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Ae[Ce.route.id]={type:"error",error:ze}}),Ae}for(let[ze,Ce]of Object.entries(be))if(wR(Ce)){let Oe=Ce.result;Ae[ze]={type:"redirect",response:vR(Oe,Q,ze,W,f)}}else Ae[ze]=await yR(Ce);return Ae}async function Ns(Q,W,te,fe){let be=nr(te,Q,fe,null),Ae=Promise.all(W.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.request&&Oe.controller){let Ue=(await nr(Oe.request,Oe.matches,fe,Oe.key))[Oe.match.route.id];return{[Oe.key]:Ue}}else return Promise.resolve({[Oe.key]:{type:"error",error:ns(404,{pathname:Oe.path})}})})),ze=await be,Ce=(await Ae).reduce((Oe,Pe)=>Object.assign(Oe,Pe),{});return{loaderResults:ze,fetcherResults:Ce}}function os(){J=!0,ce.forEach((Q,W)=>{$.has(W)&&oe.add(W),fr(W)})}function xt(Q,W,te={}){U.fetchers.set(Q,W),et({fetchers:new Map(U.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ze(Q,W,te,fe={}){let be=xo(U.matches,W);Qt(Q),et({errors:{[be.route.id]:te},fetchers:new Map(U.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function En(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),U.fetchers.get(Q)||oR}function Qt(Q){let W=U.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&xe.has(Q))&&fr(Q),ce.delete(Q),xe.delete(Q),H.delete(Q),ge.delete(Q),oe.delete(Q),U.fetchers.delete(Q)}function ti(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),et({fetchers:new Map(U.fetchers)})}function fr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function zr(Q){for(let W of Q){let te=En(W),fe=oa(te.data);U.fetchers.set(W,fe)}}function Ur(){let Q=[],W=!1;for(let te of H){let fe=U.fetchers.get(te);ht(fe,`Expected fetcher: ${te}`),fe.state==="loading"&&(H.delete(te),Q.push(te),W=!0)}return zr(Q),W}function Me(Q){let W=[];for(let[te,fe]of xe)if(fe<Q){let be=U.fetchers.get(te);ht(be,`Expected fetcher: ${te}`),be.state==="loading"&&(fr(te),xe.delete(te),W.push(te))}return zr(W),W.length>0}function je(Q,W){let te=U.blockers.get(Q)||Au;return Se.get(Q)!==W&&Se.set(Q,W),te}function tt(Q){U.blockers.delete(Q),Se.delete(Q)}function pt(Q,W){let te=U.blockers.get(Q)||Au;ht(te.state==="unblocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="proceeding"||te.state==="blocked"&&W.state==="unblocked"||te.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${W.state}`);let fe=new Map(U.blockers);fe.set(Q,W),et({blockers:fe})}function Ht({currentLocation:Q,nextLocation:W,historyAction:te}){if(Se.size===0)return;Se.size>1&&sn(!1,"A router only supports one blocker at a time");let fe=Array.from(Se.entries()),[be,Ae]=fe[fe.length-1],ze=U.blockers.get(be);if(!(ze&&ze.state==="proceeding")&&Ae({currentLocation:Q,nextLocation:W,historyAction:te}))return be}function an(Q){let W=ns(404,{pathname:Q}),te=h||c,{matches:fe,route:be}=Cw(te);return{notFoundMatches:fe,route:be,error:W}}function rr(Q,W,te){if(E=Q,P=W,S=te||null,!C&&U.navigation===Xg){C=!0;let fe=Mn(U.location,U.matches);fe!=null&&et({restoreScrollPosition:fe})}return()=>{E=null,P=null,S=null}}function jn(Q,W){return S&&S(Q,W.map(fe=>VC(fe,U.loaderData)))||Q.key}function qn(Q,W){if(E&&P){let te=jn(Q,W);E[te]=P()}}function Mn(Q,W){if(E){let te=jn(Q,W),fe=E[te];if(typeof fe=="number")return fe}return null}function Kt(Q,W,te){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:ff(W,te,f,!0)}}else return{active:!0,matches:ff(W,te,f,!0)||[]};return{active:!1,matches:null}}async function Br(Q,W,te,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let be=Q;for(;;){let Ae=h==null,ze=h||c,Ce=o;try{await n.patchRoutesOnNavigation({signal:te,path:W,matches:be,fetcherKey:fe,patch:(Ue,De)=>{te.aborted||xw(Ue,De,ze,Ce,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:be}}finally{Ae&&!te.aborted&&(c=[...c])}if(te.aborted)return{type:"aborted"};let Oe=ca(ze,W,f);if(Oe)return{type:"success",matches:Oe};let Pe=ff(ze,W,f,!0);if(!Pe||be.length===Pe.length&&be.every((Ue,De)=>Ue.route.id===Pe[De].route.id))return{type:"success",matches:null};be=Pe}}function Er(Q){o={},h=If(Q,a,void 0,o)}function As(Q,W){let te=h==null;xw(Q,W,h||c,o,a),te&&(c=[...c],et({}))}return z={get basename(){return f},get future(){return y},get state(){return U},get routes(){return c},get window(){return e},initialize:ye,subscribe:lt,enableScrollRestoration:rr,navigate:$t,fetch:Ts,revalidate:mn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:En,deleteFetcher:ti,dispose:Te,getBlocker:je,deleteBlocker:tt,patchRoutes:As,_internalFetchControllers:$,_internalSetRoutes:Er},z}function uR(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function S0(n,e,t,r,a,o){let c,h;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){h=p;break}}else c=e,h=e[e.length-1];let f=Cy(r||".",Ay(c),ss(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let p=Iy(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(f.search),x=y.getAll("index");y.delete("index"),x.filter(E=>E).forEach(E=>y.append("index",E));let _=y.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Gs([t,f.pathname])),Ma(f)}function yw(n,e,t){if(!t||!uR(t))return{path:e};if(t.formMethod&&!_R(t.formMethod))return{path:e,error:ns(405,{method:t.formMethod})};let r=()=>({path:e,error:ns(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=yT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!kr(o))return r();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[E,S])=>`${_}${E}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!kr(o))return r();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}ht(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=C0(t.formData),f=t.formData;else if(t.body instanceof FormData)h=C0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=Tw(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=Tw(h)}catch{return r()}let p={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(kr(p.formMethod))return{path:e,submission:p};let y=Ua(e);return n&&y.search&&Iy(y.search)&&h.append("index",""),y.search=`?${h}`,{path:Ma(y),submission:p}}function vw(n,e,t,r,a,o,c,h,f,p,y,x,_,E,S,P,C,A,T){var L;let b=T?Pr(T[1])?T[1].error:T[1].data:void 0,O=a.createURL(o.location),z=a.createURL(f),U;if(y&&o.errors){let R=Object.keys(o.errors)[0];U=c.findIndex(J=>J.route.id===R)}else if(T&&Pr(T[1])){let R=T[0];U=c.findIndex(J=>J.route.id===R)-1}let V=T?T[1].statusCode:void 0,j=V&&V>=400,M={currentUrl:O,currentParams:((L=o.matches[0])==null?void 0:L.params)||{},nextUrl:z,nextParams:c[0].params,...h,actionResult:b,actionStatus:V},D=c.map((R,J)=>{let{route:oe}=R,$=null;if(U!=null&&J>U?$=!1:oe.lazy?$=!0:oe.loader==null?$=!1:y?$=N0(oe,o.loaderData,o.errors):dR(o.loaderData,o.matches[J],R)&&($=!0),$!==null)return A0(t,r,n,R,p,e,$);let se=j?!1:x||O.pathname+O.search===z.pathname+z.search||O.search!==z.search||hR(o.matches[J],R),ae={...M,defaultShouldRevalidate:se},xe=Of(R,ae);return A0(t,r,n,R,p,e,xe,ae)}),k=[];return S.forEach((R,J)=>{if(y||!c.some(ce=>ce.route.id===R.routeId)||E.has(J))return;let oe=ca(C,R.path,A);if(!oe){k.push({key:J,routeId:R.routeId,path:R.path,matches:null,match:null,request:null,controller:null});return}if(P.has(J))return;let $=o.fetchers.get(J),se=Ou(oe,R.path),ae=new AbortController,xe=Rl(a,R.path,ae.signal),H=null;if(_.has(J))_.delete(J),H=Ul(t,r,xe,oe,se,p,e);else if($&&$.state!=="idle"&&$.data===void 0)x&&(H=Ul(t,r,xe,oe,se,p,e));else{let ce={...M,defaultShouldRevalidate:j?!1:x};Of(se,ce)&&(H=Ul(t,r,xe,oe,se,p,e,ce))}H&&k.push({key:J,routeId:R.routeId,path:R.path,matches:H,match:se,request:xe,controller:ae})}),{dsMatches:D,revalidatingFetchers:k}}function N0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function dR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function hR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Of(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function xw(n,e,t,r,a){let o;if(n){let f=r[n];ht(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let c=e.filter(f=>!o.some(p=>hT(f,p))),h=If(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function hT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>hT(t,o))}):!1}var bw=new WeakMap,fT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ht(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let c=bw.get(a);c||(c={},bw.set(a,c));let h=c[n];if(h)return h;let f=(async()=>{let p=DC(n),x=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)sn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(x)sn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(a,{[n]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return c[n]=f,f},ww=new WeakMap;function fR(n,e,t,r,a){let o=t[n.id];if(ht(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=ww.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let x=(async()=>{ht(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),E={};for(let S in _){let P=_[S];if(P===void 0)continue;let C=kC(S),T=o[S]!==void 0&&S!=="hasErrorBoundary";C?sn(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?sn(!T,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):E[S]=P}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return ww.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let c=Object.keys(n.lazy),h=[],f;for(let y of c){if(a&&a.includes(y))continue;let x=fT({key:y,route:n,manifest:t,mapRouteProperties:r});x&&(h.push(x),y===e&&(f=x))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function _w(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function mR(n){return n.matches.some(e=>e.route.unstable_middleware)?mT(n,!1,()=>_w(n),(e,t)=>({[t]:{type:"error",result:e}})):_w(n)}async function mT(n,e,t,r){let{matches:a,request:o,params:c,context:h}=n,f={handlerResult:void 0};try{let p=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(_=>[x.route.id,_]):[]),y=await pT({request:o,params:c,context:h},p,e,f,t);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function pT(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,p]=h,y=!1,x,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await pT(n,e,t,r,a,o+1)};try{let E=await p({request:n.request,params:n.params,context:n.context},_);return y?E===void 0?x:E:_()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:f,error:E}):r.middlewareError={routeId:f,error:E},E}}function gT(n,e,t,r,a){let o=fT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),c=fR(r.route,kr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function A0(n,e,t,r,a,o,c,h=null){let f=!1,p=gT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?Of(r,{...h,defaultShouldRevalidate:y}):Of(r,h):c},resolve(y){return f||c||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?gR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ul(n,e,t,r,a,o,c,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:gT(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:A0(n,e,t,f,o,c,!0,h))}async function pR(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let c={request:e,params:t[0].params,context:a,matches:t},f=await n({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=c;return mT(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(x,_)=>({[_]:{type:"error",result:x}}))}});try{await Promise.all(t.flatMap(p=>{var y,x;return[(y=p._lazyPromises)==null?void 0:y.handler,(x=p._lazyPromises)==null?void 0:x.route]}))}catch{}return f}async function gR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let c,h,f=kr(n.method),p=f?"action":"loader",y=x=>{let _,E=new Promise((C,A)=>_=A);h=()=>_(),n.signal.addEventListener("abort",h);let S=C=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):x({request:n,params:e.params,context:o},...C!==void 0?[C]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(A=>S(A)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([P,E])};try{let x=f?e.route.action:e.route.loader;if(t||r)if(x){let _,[E]=await Promise.all([y(x).catch(S=>{_=S}),t,r]);if(_!==void 0)throw _;c=E}else{await t;let _=f?e.route.action:e.route.loader;if(_)[c]=await Promise.all([y(_),r]);else if(p==="action"){let E=new URL(n.url),S=E.pathname+E.search;throw ns(405,{method:n.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)c=await y(x);else{let _=new URL(n.url),E=_.pathname+_.search;throw ns(404,{pathname:E})}}catch(x){return{type:"error",result:x}}finally{h&&n.signal.removeEventListener("abort",h)}return c}async function yR(n){var r,a,o,c,h,f;let{result:e,type:t}=n;if(vT(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Mf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?Rw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Mf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Wu(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Wu(e)?e.status:void 0}:Rw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vR(n,e,t,r,a){let o=n.headers.get("Location");if(ht(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ry.test(o)){let c=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=S0(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function Ew(n,e,t){if(Ry.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ss(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Rl(n,e,t,r){let a=n.createURL(yT(e)).toString(),o={signal:t};if(r&&kr(r.formMethod)){let{formMethod:c,formEncType:h}=r;o.method=c.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=C0(r.formData):o.body=r.formData}return new Request(a,o)}function C0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Tw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function xR(n,e,t,r=!1,a=!1){let o={},c=null,h,f=!1,p={},y=t&&Pr(t[1])?t[1].error:void 0;return n.forEach(x=>{if(!(x.route.id in e))return;let _=x.route.id,E=e[_];if(ht(!bo(E),"Cannot handle redirect results in processLoaderData"),Pr(E)){let S=E.error;if(y!==void 0&&(S=y,y=void 0),c=c||{},a)c[_]=S;else{let P=xo(n,_);c[P.route.id]==null&&(c[P.route.id]=S)}r||(o[_]=dT),f||(f=!0,h=Wu(E.error)?E.error.status:500),E.headers&&(p[_]=E.headers)}else o[_]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(h=E.statusCode),E.headers&&(p[_]=E.headers)}),y!==void 0&&t&&(c={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:h||200,loaderHeaders:p}}function Sw(n,e,t,r,a,o){let{loaderData:c,errors:h}=xR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:x}=f,_=o[p];if(ht(_,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Pr(_)){let E=xo(n.matches,y==null?void 0:y.route.id);h&&h[E.route.id]||(h={...h,[E.route.id]:_.error}),n.fetchers.delete(p)}else if(bo(_))ht(!1,"Unhandled fetcher revalidation redirect");else{let E=oa(_.data);n.fetchers.set(p,E)}}),{loaderData:c,errors:h}}function Nw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==dT).reduce((o,[c,h])=>(o[c]=h,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function Aw(n){return n?Pr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function xo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Cw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ns(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Mf(n||500,c,new Error(h),!0)}function Xh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(bo(a))return{key:r,result:a}}}function yT(n){let e=typeof n=="string"?Ua(n):n;return Ma({...e,hash:""})}function bR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function wR(n){return vT(n.result)&&iR.has(n.result.status)}function Pr(n){return n.type==="error"}function bo(n){return(n&&n.type)==="redirect"}function Rw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function vT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function _R(n){return sR.has(n.toUpperCase())}function kr(n){return nR.has(n.toUpperCase())}function Iy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ou(n,e){let t=typeof e=="string"?Ua(e).search:e.search;if(n[n.length-1].route.index&&Iy(t||""))return n[n.length-1];let r=lT(n);return r[r.length-1]}function Iw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function Wg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ER(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function oa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function SR(n,e){try{let t=n.sessionStorage.getItem(uT);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function NR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(uT,JSON.stringify(t))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function AR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var zo=q.createContext(null);zo.displayName="DataRouter";var pd=q.createContext(null);pd.displayName="DataRouterState";var jy=q.createContext({isTransitioning:!1});jy.displayName="ViewTransition";var xT=q.createContext(new Map);xT.displayName="Fetchers";var CR=q.createContext(null);CR.displayName="Await";var Js=q.createContext(null);Js.displayName="Navigation";var dm=q.createContext(null);dm.displayName="Location";var _s=q.createContext({outlet:null,matches:[],isDataRoute:!1});_s.displayName="Route";var My=q.createContext(null);My.displayName="RouteError";function RR(n,{relative:e}={}){ht(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Js),{hash:a,pathname:o,search:c}=vd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Gs([t,o])),r.createHref({pathname:h,search:c,hash:a})}function gd(){return q.useContext(dm)!=null}function ei(){return ht(gd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(dm).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(n){q.useContext(Js).static||q.useLayoutEffect(n)}function yd(){let{isDataRoute:n}=q.useContext(_s);return n?HR():IR()}function IR(){ht(gd(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(zo),{basename:e,navigator:t}=q.useContext(Js),{matches:r}=q.useContext(_s),{pathname:a}=ei(),o=JSON.stringify(Ay(r)),c=q.useRef(!1);return wT(()=>{c.current=!0}),q.useCallback((f,p={})=>{if(sn(c.current,bT),!c.current)return;if(typeof f=="number"){t.go(f);return}let y=Cy(f,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var jR=q.createContext(null);function MR(n){let e=q.useContext(_s).outlet;return e&&q.createElement(jR.Provider,{value:n},e)}function Oy(){let{matches:n}=q.useContext(_s),e=n[n.length-1];return e?e.params:{}}function vd(n,{relative:e}={}){let{matches:t}=q.useContext(_s),{pathname:r}=ei(),a=JSON.stringify(Ay(t));return q.useMemo(()=>Cy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function OR(n,e,t,r){ht(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Js),{matches:c}=q.useContext(_s),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let T=x&&x.path||"";_T(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=ei(),E;E=_;let S=E.pathname||"/",P=S;if(y!=="/"){let T=y.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:ca(n,{pathname:P});return sn(x||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),sn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),VR(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Gs([y,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Gs([y,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,t,r)}function DR(){let n=qR(),e=Wu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,c)}var PR=q.createElement(DR,null),kR=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(_s.Provider,{value:this.props.routeContext},q.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LR({routeContext:n,match:e,children:t}){let r=q.useContext(zo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(_s.Provider,{value:n},t)}function VR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:x}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||_){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let x,_=!1,E=null,S=null;t&&(x=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||PR,c&&(h<0&&y===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):h===y&&(_=!0,S=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),C=()=>{let A;return x?A=E:_?A=S:p.route.Component?A=q.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,q.createElement(LR,{match:p,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(kR,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}function Dy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zR(n){let e=q.useContext(zo);return ht(e,Dy(n)),e}function UR(n){let e=q.useContext(pd);return ht(e,Dy(n)),e}function BR(n){let e=q.useContext(_s);return ht(e,Dy(n)),e}function Py(n){let e=BR(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FR(){return Py("useRouteId")}function qR(){var r;let n=q.useContext(My),e=UR("useRouteError"),t=Py("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function HR(){let{router:n}=zR("useNavigate"),e=Py("useNavigate"),t=q.useRef(!1);return wT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{sn(t.current,bT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var jw={};function _T(n,e,t){!e&&!jw[n]&&(jw[n]=!0,sn(!1,t))}var Mw={};function Ow(n,e){!n&&!Mw[e]&&(Mw[e]=!0,console.warn(e))}function $R(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var GR=["HydrateFallback","hydrateFallbackElement"],QR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function KR({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[c,h]=q.useState({isTransitioning:!1}),[f,p]=q.useState(),[y,x]=q.useState(),[_,E]=q.useState(),S=q.useRef(new Map),P=q.useCallback((b,{deletedFetchers:O,flushSync:z,viewTransitionOpts:U})=>{b.fetchers.forEach((j,M)=>{j.data!==void 0&&S.current.set(M,j.data)}),O.forEach(j=>S.current.delete(j)),Ow(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Ow(U==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!V){e&&z?e(()=>r(b)):q.startTransition(()=>r(b));return}if(e&&z){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let j=n.window.document.startViewTransition(()=>{e(()=>r(b))});j.finished.finally(()=>{e(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>x(j));return}y?(f&&f.resolve(),y.skipTransition(),E({state:b,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(b),h({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,y,f]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new QR)},[c]),q.useEffect(()=>{if(f&&a&&n.window){let b=a,O=f.promise,z=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(b)),await O});z.finished.finally(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})}),x(z)}},[a,f,n.window]),q.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),q.useEffect(()=>{!c.isTransitioning&&_&&(o(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),E(void 0))},[c.isTransitioning,_]);let C=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,O,z)=>n.navigate(b,{state:O,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(b,O,z)=>n.navigate(b,{replace:!0,state:O,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),A=n.basename||"/",T=q.useMemo(()=>({router:n,navigator:C,static:!1,basename:A}),[n,C,A]);return q.createElement(q.Fragment,null,q.createElement(zo.Provider,{value:T},q.createElement(pd.Provider,{value:t},q.createElement(xT.Provider,{value:S.current},q.createElement(jy.Provider,{value:c},q.createElement(WR,{basename:A,location:t.location,navigationType:t.historyAction,navigator:C},q.createElement(YR,{routes:n.routes,future:n.future,state:t})))))),null)}var YR=q.memo(XR);function XR({routes:n,future:e,state:t}){return OR(n,void 0,t,e)}function ET(n){return MR(n.context)}function WR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ht(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Ua(t));let{pathname:f="/",search:p="",hash:y="",state:x=null,key:_="default"}=t,E=q.useMemo(()=>{let S=ss(f,c);return S==null?null:{location:{pathname:S,search:p,hash:y,state:x,key:_},navigationType:r}},[c,f,p,y,x,_,r]);return sn(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:q.createElement(Js.Provider,{value:h},q.createElement(dm.Provider,{children:e,value:E}))}var mf="get",pf="application/x-www-form-urlencoded";function hm(n){return n!=null&&typeof n.tagName=="string"}function ZR(n){return hm(n)&&n.tagName.toLowerCase()==="button"}function JR(n){return hm(n)&&n.tagName.toLowerCase()==="form"}function eI(n){return hm(n)&&n.tagName.toLowerCase()==="input"}function tI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nI(n,e){return n.button===0&&(!e||e==="_self")&&!tI(n)}function R0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function rI(n,e){let t=R0(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Wh=null;function sI(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var iI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(n){return n!=null&&!iI.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):n}function aI(n,e){let t,r,a,o,c;if(JR(n)){let h=n.getAttribute("action");r=h?ss(h,e):null,t=n.getAttribute("method")||mf,a=Zg(n.getAttribute("enctype"))||pf,o=new FormData(n)}else if(ZR(n)||eI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?ss(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||mf,a=Zg(n.getAttribute("formenctype"))||Zg(h.getAttribute("enctype"))||pf,o=new FormData(h,n),!sI()){let{name:p,type:y,value:x}=n;if(y==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,x)}}else{if(hm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mf,r=null,a=pf,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function ky(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cI(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await oI(o,t);return c.links?c.links():[]}return[]}));return fI(r.flat(1).filter(lI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Dw(n,e,t,r,a,o){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var x;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function uI(n,e,{includeHydrateFallback:t}={}){return dI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function dI(n){return[...new Set(n)]}function hI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function fI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(hI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var mI=new Set([100,101,204,205]);function pI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ss(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function TT(){let n=q.useContext(zo);return ky(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gI(){let n=q.useContext(pd);return ky(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ly=q.createContext(void 0);Ly.displayName="FrameworkContext";function ST(){let n=q.useContext(Ly);return ky(n,"You must render this element inside a <HydratedRouter> element"),n}function yI(n,e){let t=q.useContext(Ly),[r,a]=q.useState(!1),[o,c]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=e,_=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=A=>{A.forEach(T=>{c(T.isIntersecting)})},C=new IntersectionObserver(P,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[n]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{a(!0)},S=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Ru(h,E),onBlur:Ru(f,S),onMouseEnter:Ru(p,E),onMouseLeave:Ru(y,S),onTouchStart:Ru(x,E)}]:[!1,_,{}]}function Ru(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vI({page:n,...e}){let{router:t}=TT(),r=q.useMemo(()=>ca(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(bI,{page:n,matches:r,...e}):null}function xI(n){let{manifest:e,routeModules:t}=ST(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return cI(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function bI({page:n,matches:e,...t}){let r=ei(),{manifest:a,routeModules:o}=ST(),{basename:c}=TT(),{loaderData:h,matches:f}=gI(),p=q.useMemo(()=>Dw(n,e,f,a,r,"data"),[n,e,f,a,r]),y=q.useMemo(()=>Dw(n,e,f,a,r,"assets"),[n,e,f,a,r]),x=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(A=>{var b;let T=a.routes[A.route.id];!T||!T.hasLoader||(!p.some(O=>O.route.id===A.route.id)&&A.route.id in h&&((b=o[A.route.id])!=null&&b.shouldRevalidate)||T.hasClientLoader?P=!0:S.add(A.route.id))}),S.size===0)return[];let C=pI(n,c);return P&&S.size>0&&C.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[c,h,r,a,p,e,n,o]),_=q.useMemo(()=>uI(y,a),[y,a]),E=xI(y);return q.createElement(q.Fragment,null,x.map(S=>q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),_.map(S=>q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:P})=>q.createElement("link",{key:S,...P})))}function wI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.5.3")}catch{}function _I(n,e){return cR({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:IC({window:e==null?void 0:e.window}),hydrationData:EI(),routes:n,mapRouteProperties:$R,hydrationRouteProperties:GR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function EI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:TI(n.errors)}),n}function TI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Mf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:y,viewTransition:x,..._},E){let{basename:S}=q.useContext(Js),P=typeof p=="string"&&AT.test(p),C,A=!1;if(typeof p=="string"&&P&&(C=p,NT))try{let M=new URL(window.location.href),D=p.startsWith("//")?new URL(M.protocol+p):new URL(p),k=ss(D.pathname,S);D.origin===M.origin&&k!=null?p=k+D.search+D.hash:A=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=RR(p,{relative:a}),[b,O,z]=yI(r,_),U=CI(p,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:x});function V(M){e&&e(M),M.defaultPrevented||U(M)}let j=q.createElement("a",{..._,...z,href:C||T,onClick:A||o?e:V,ref:wI(E,O),target:f,"data-discover":!P&&t==="render"?"true":void 0});return b&&!P?q.createElement(q.Fragment,null,j,q.createElement(vI,{page:T})):j});ot.displayName="Link";var SI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...p},y){let x=vd(c,{relative:p.relative}),_=ei(),E=q.useContext(pd),{navigator:S,basename:P}=q.useContext(Js),C=E!=null&&DI(x)&&h===!0,A=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,T=_.pathname,b=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(T=T.toLowerCase(),b=b?b.toLowerCase():null,A=A.toLowerCase()),b&&P&&(b=ss(b,P)||b);const O=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let z=T===A||!a&&T.startsWith(A)&&T.charAt(O)==="/",U=b!=null&&(b===A||!a&&b.startsWith(A)&&b.charAt(A.length)==="/"),V={isActive:z,isPending:U,isTransitioning:C},j=z?e:void 0,M;typeof r=="function"?M=r(V):M=[r,z?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(V):o;return q.createElement(ot,{...p,"aria-current":j,className:M,ref:y,style:D,to:c,viewTransition:h},typeof f=="function"?f(V):f)});SI.displayName="NavLink";var NI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=mf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:x,..._},E)=>{let S=MI(),P=OI(h,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&AT.test(h),T=b=>{if(f&&f(b),b.defaultPrevented)return;b.preventDefault();let O=b.nativeEvent.submitter,z=(O==null?void 0:O.getAttribute("formmethod"))||c;S(O||b.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:x})};return q.createElement("form",{ref:E,method:C,action:P,onSubmit:r?f:T,..._,"data-discover":!A&&n==="render"?"true":void 0})});NI.displayName="Form";function AI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(n){let e=q.useContext(zo);return ht(e,AI(n)),e}function CI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=yd(),f=ei(),p=vd(n,{relative:o});return q.useCallback(y=>{if(nI(y,e)){y.preventDefault();let x=t!==void 0?t:Ma(f)===Ma(p);h(n,{replace:x,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,p,t,r,e,n,a,o,c])}function RI(n){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(R0(n)),t=q.useRef(!1),r=ei(),a=q.useMemo(()=>rI(r.search,t.current?null:e.current),[r.search]),o=yd(),c=q.useCallback((h,f)=>{const p=R0(typeof h=="function"?h(a):h);t.current=!0,o("?"+p,f)},[o,a]);return[a,c]}var II=0,jI=()=>`__${String(++II)}__`;function MI(){let{router:n}=CT("useSubmit"),{basename:e}=q.useContext(Js),t=FR();return q.useCallback(async(r,a={})=>{let{action:o,method:c,encType:h,formData:f,body:p}=aI(r,e);if(a.navigate===!1){let y=a.fetcherKey||jI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function OI(n,{relative:e}={}){let{basename:t}=q.useContext(Js),r=q.useContext(_s);ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...vd(n||".",{relative:e})},c=ei();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Gs([t,o.pathname])),Ma(o)}function DI(n,e={}){let t=q.useContext(jy);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CT("useViewTransitionState"),a=vd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ss(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ss(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jf(a.pathname,c)!=null||jf(a.pathname,o)!=null}new TextEncoder;[...mI];var PI=sT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kI(n){return q.createElement(KR,{flushSync:PI.flushSync,...n})}var Zh={},Pw;function LI(){if(Pw)return Zh;Pw=1;function n(o){if(typeof window>"u")return;const c=document.createElement("style");return c.setAttribute("type","text/css"),c.innerHTML=o,document.head.appendChild(c),o}Object.defineProperty(Zh,"__esModule",{value:!0});var e=um();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:c={},className:h="",autoFill:f=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:x=!1,direction:_="left",speed:E=50,delay:S=0,loop:P=0,gradient:C=!1,gradientColor:A="white",gradientWidth:T=200,onFinish:b,onCycleComplete:O,onMount:z,children:U},V){const[j,M]=e.useState(0),[D,k]=e.useState(0),[L,R]=e.useState(1),[J,oe]=e.useState(!1),$=e.useRef(null),se=V||$,ae=e.useRef(null),xe=e.useCallback(()=>{if(ae.current&&se.current){const Ee=se.current.getBoundingClientRect(),ye=ae.current.getBoundingClientRect();let Te=Ee.width,lt=ye.width;(_==="up"||_==="down")&&(Te=Ee.height,lt=ye.height),R(f&&Te&&lt&&lt<Te?Math.ceil(Te/lt):1),M(Te),k(lt)}},[f,se,_]);e.useEffect(()=>{if(J&&(xe(),ae.current&&se.current)){const Ee=new ResizeObserver(()=>xe());return Ee.observe(se.current),Ee.observe(ae.current),()=>{Ee&&Ee.disconnect()}}},[xe,se,J]),e.useEffect(()=>{xe()},[xe,U]),e.useEffect(()=>{oe(!0)},[]),e.useEffect(()=>{typeof z=="function"&&z()},[]);const H=e.useMemo(()=>f?D*L/E:D<j?j/E:D/E,[f,j,D,L,E]),ce=e.useMemo(()=>Object.assign(Object.assign({},c),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!x||x?"paused":"running","--width":_==="up"||_==="down"?"100vh":"100%","--transform":_==="up"?"rotate(-90deg)":_==="down"?"rotate(90deg)":"none"}),[c,p,y,x,_]),ve=e.useMemo(()=>({"--gradient-color":A,"--gradient-width":typeof T=="number"?`${T}px`:T}),[A,T]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":_==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${S}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":f?"auto":"100%"}),[p,_,H,S,P,f]),Se=e.useMemo(()=>({"--transform":_==="up"?"rotate(90deg)":_==="down"?"rotate(-90deg)":"none"}),[_]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(U,lt=>r.default.createElement("div",{style:Se,className:"rfm-child"},lt)))),[Se,U]);return J?r.default.createElement("div",{ref:se,style:ce,className:"rfm-marquee-container "+h},C&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:O,onAnimationEnd:b},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(U,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(L-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},Ve(L))):null});return Zh.default=a,Zh}var VI=LI();const RT=rT(VI);var IT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kw=Fe.createContext&&Fe.createContext(IT),zI=["attr","size","title"];function UI(n,e){if(n==null)return{};var t=BI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function BI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Df(){return Df=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Df.apply(this,arguments)}function Lw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Pf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lw(Object(t),!0).forEach(function(r){FI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FI(n,e,t){return e=qI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qI(n){var e=HI(n,"string");return typeof e=="symbol"?e:e+""}function HI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jT(n){return n&&n.map((e,t)=>Fe.createElement(e.tag,Pf({key:t},e.attr),jT(e.child)))}function xd(n){return e=>Fe.createElement($I,Df({attr:Pf({},n.attr)},e),jT(n.child))}function $I(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=UI(n,zI),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Fe.createElement("svg",Df({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:f,style:Pf(Pf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Fe.createElement("title",null,o),n.children)};return kw!==void 0?Fe.createElement(kw.Consumer,null,t=>e(t)):e(IT)}function GI(n){return xd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function QI(n){return xd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Vw(n){return xd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function KI(n){return xd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const YI=()=>{};var zw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},XI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=o>>2,x=(o&3)<<4|h>>4;let _=(h&15)<<2|p>>6,E=p&63;f||(E=64,c||(_=64)),r.push(t[y],t[x],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||x==null)throw new WI;const _=o<<2|h>>4;if(r.push(_),p!==64){const E=h<<4&240|p>>2;if(r.push(E),x!==64){const S=p<<6&192|x;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(n){const e=MT(n);return OT.encodeByteArray(e,!0)},kf=function(n){return ZI(n).replace(/\./g,"")},DT=function(n){try{return OT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=()=>JI().__FIREBASE_DEFAULTS__,t4=()=>{if(typeof process>"u"||typeof zw>"u")return;const n=zw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DT(n[1]);return e&&JSON.parse(e)},fm=()=>{try{return YI()||e4()||t4()||n4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PT=n=>{var e,t;return(t=(e=fm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r4=n=>{const e=PT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kT=()=>{var n;return(n=fm())===null||n===void 0?void 0:n.config},LT=n=>{var e;return(e=fm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kf(JSON.stringify(t)),kf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function o4(){var n;const e=(n=fm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d4(){const n=Jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h4(){return!o4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="FirebaseError";class Pi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=p4,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?g4(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Pi(a,h,r)}}function g4(n,e){return n.replace(y4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const y4=/\{\$([^}]+)}/g;function v4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Uw(o)&&Uw(c)){if(!Oa(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Uw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Du(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Pu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function x4(n,e){const t=new b4(n,e);return t.subscribe.bind(t)}class b4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Jg),a.error===void 0&&(a.error=Jg),a.complete===void 0&&(a.complete=Jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Mo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new s4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(n){return n===vo?void 0:n}function T4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const N4={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},A4=ft.INFO,C4={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},R4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=C4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vy{constructor(e){this.name=e,this._logLevel=A4,this._logHandler=R4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const I4=(n,e)=>e.some(t=>n instanceof t);let Bw,Fw;function j4(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M4(){return Fw||(Fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,I0=new WeakMap,zT=new WeakMap,e0=new WeakMap,zy=new WeakMap;function O4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Na(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&VT.set(t,n)}).catch(()=>{}),zy.set(e,n),e}function D4(n){if(I0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});I0.set(n,e)}let j0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Na(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function P4(n){j0=n(j0)}function k4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(t0(this),e,...t);return zT.set(r,e.sort?e.sort():[e]),Na(r)}:M4().includes(n)?function(...e){return n.apply(t0(this),e),Na(VT.get(this))}:function(...e){return Na(n.apply(t0(this),e))}}function L4(n){return typeof n=="function"?k4(n):(n instanceof IDBTransaction&&D4(n),I4(n,j4())?new Proxy(n,j0):n)}function Na(n){if(n instanceof IDBRequest)return O4(n);if(e0.has(n))return e0.get(n);const e=L4(n);return e!==n&&(e0.set(n,e),zy.set(e,n)),e}const t0=n=>zy.get(n);function V4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=Na(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Na(c.result),f.oldVersion,f.newVersion,Na(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const z4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],n0=new Map;function qw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(n0.get(e))return n0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=U4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||z4.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return n0.set(e,o),o}P4(n=>({...n,get:(e,t,r)=>qw(e,t)||n.get(e,t,r),has:(e,t)=>!!qw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function F4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M0="@firebase/app",Hw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Vy("@firebase/app"),q4="@firebase/app-compat",H4="@firebase/analytics-compat",$4="@firebase/analytics",G4="@firebase/app-check-compat",Q4="@firebase/app-check",K4="@firebase/auth",Y4="@firebase/auth-compat",X4="@firebase/database",W4="@firebase/data-connect",Z4="@firebase/database-compat",J4="@firebase/functions",ej="@firebase/functions-compat",tj="@firebase/installations",nj="@firebase/installations-compat",rj="@firebase/messaging",sj="@firebase/messaging-compat",ij="@firebase/performance",aj="@firebase/performance-compat",oj="@firebase/remote-config",lj="@firebase/remote-config-compat",cj="@firebase/storage",uj="@firebase/storage-compat",dj="@firebase/firestore",hj="@firebase/vertexai",fj="@firebase/firestore-compat",mj="firebase",pj="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="[DEFAULT]",gj={[M0]:"fire-core",[q4]:"fire-core-compat",[$4]:"fire-analytics",[H4]:"fire-analytics-compat",[Q4]:"fire-app-check",[G4]:"fire-app-check-compat",[K4]:"fire-auth",[Y4]:"fire-auth-compat",[X4]:"fire-rtdb",[W4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[J4]:"fire-fn",[ej]:"fire-fn-compat",[tj]:"fire-iid",[nj]:"fire-iid-compat",[rj]:"fire-fcm",[sj]:"fire-fcm-compat",[ij]:"fire-perf",[aj]:"fire-perf-compat",[oj]:"fire-rc",[lj]:"fire-rc-compat",[cj]:"fire-gcs",[uj]:"fire-gcs-compat",[dj]:"fire-fst",[fj]:"fire-fst-compat",[hj]:"fire-vertex","fire-js":"fire-js",[mj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,yj=new Map,D0=new Map;function $w(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oc(n){const e=n.name;if(D0.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,n);for(const t of Lf.values())$w(t,n);for(const t of yj.values())$w(t,n);return!0}function Uy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ps(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new bd("app","Firebase",vj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=pj;function UT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:O0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Aa.create("bad-app-name",{appName:String(a)});if(t||(t=kT()),!t)throw Aa.create("no-options");const o=Lf.get(a);if(o){if(Oa(t,o.options)&&Oa(r,o.config))return o;throw Aa.create("duplicate-app",{appName:a})}const c=new S4(a);for(const f of D0.values())c.addComponent(f);const h=new xj(t,r,c);return Lf.set(a,h),h}function BT(n=O0){const e=Lf.get(n);if(!e&&n===O0&&kT())return UT();if(!e)throw Aa.create("no-app",{appName:n});return e}function Ca(n,e,t){var r;let a=(r=gj[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(h.join(" "));return}oc(new Mo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="firebase-heartbeat-database",wj=1,Zu="firebase-heartbeat-store";let r0=null;function FT(){return r0||(r0=V4(bj,wj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Aa.create("idb-open",{originalErrorMessage:n.message})})),r0}async function _j(n){try{const t=(await FT()).transaction(Zu),r=await t.objectStore(Zu).get(qT(n));return await t.done,r}catch(e){if(e instanceof Pi)Ri.warn(e.message);else{const t=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function Gw(n,e){try{const r=(await FT()).transaction(Zu,"readwrite");await r.objectStore(Zu).put(e,qT(n)),await r.done}catch(t){if(t instanceof Pi)Ri.warn(t.message);else{const r=Aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(r.message)}}}function qT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1024,Tj=30;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Aj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>Tj){const c=Cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qw(),{heartbeatsToSend:r,unsentEntries:a}=Nj(this._heartbeatsCache.heartbeats),o=kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ri.warn(t),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function Nj(n,e=Ej){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Kw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Kw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _j(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Kw(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function Cj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n){oc(new Mo("platform-logger",e=>new B4(e),"PRIVATE")),oc(new Mo("heartbeat",e=>new Sj(e),"PRIVATE")),Ca(M0,Hw,n),Ca(M0,Hw,"esm2017"),Ca("fire-js","")}Rj("");var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,HT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,j){function M(){}M.prototype=j.prototype,V.D=j.prototype,V.prototype=new M,V.prototype.constructor=V,V.C=function(D,k,L){for(var R=Array(arguments.length-2),J=2;J<arguments.length;J++)R[J-2]=arguments[J];return j.prototype[k].apply(D,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,j,M){M||(M=0);var D=Array(16);if(typeof j=="string")for(var k=0;16>k;++k)D[k]=j.charCodeAt(M++)|j.charCodeAt(M++)<<8|j.charCodeAt(M++)<<16|j.charCodeAt(M++)<<24;else for(k=0;16>k;++k)D[k]=j[M++]|j[M++]<<8|j[M++]<<16|j[M++]<<24;j=V.g[0],M=V.g[1],k=V.g[2];var L=V.g[3],R=j+(L^M&(k^L))+D[0]+3614090360&4294967295;j=M+(R<<7&4294967295|R>>>25),R=L+(k^j&(M^k))+D[1]+3905402710&4294967295,L=j+(R<<12&4294967295|R>>>20),R=k+(M^L&(j^M))+D[2]+606105819&4294967295,k=L+(R<<17&4294967295|R>>>15),R=M+(j^k&(L^j))+D[3]+3250441966&4294967295,M=k+(R<<22&4294967295|R>>>10),R=j+(L^M&(k^L))+D[4]+4118548399&4294967295,j=M+(R<<7&4294967295|R>>>25),R=L+(k^j&(M^k))+D[5]+1200080426&4294967295,L=j+(R<<12&4294967295|R>>>20),R=k+(M^L&(j^M))+D[6]+2821735955&4294967295,k=L+(R<<17&4294967295|R>>>15),R=M+(j^k&(L^j))+D[7]+4249261313&4294967295,M=k+(R<<22&4294967295|R>>>10),R=j+(L^M&(k^L))+D[8]+1770035416&4294967295,j=M+(R<<7&4294967295|R>>>25),R=L+(k^j&(M^k))+D[9]+2336552879&4294967295,L=j+(R<<12&4294967295|R>>>20),R=k+(M^L&(j^M))+D[10]+4294925233&4294967295,k=L+(R<<17&4294967295|R>>>15),R=M+(j^k&(L^j))+D[11]+2304563134&4294967295,M=k+(R<<22&4294967295|R>>>10),R=j+(L^M&(k^L))+D[12]+1804603682&4294967295,j=M+(R<<7&4294967295|R>>>25),R=L+(k^j&(M^k))+D[13]+4254626195&4294967295,L=j+(R<<12&4294967295|R>>>20),R=k+(M^L&(j^M))+D[14]+2792965006&4294967295,k=L+(R<<17&4294967295|R>>>15),R=M+(j^k&(L^j))+D[15]+1236535329&4294967295,M=k+(R<<22&4294967295|R>>>10),R=j+(k^L&(M^k))+D[1]+4129170786&4294967295,j=M+(R<<5&4294967295|R>>>27),R=L+(M^k&(j^M))+D[6]+3225465664&4294967295,L=j+(R<<9&4294967295|R>>>23),R=k+(j^M&(L^j))+D[11]+643717713&4294967295,k=L+(R<<14&4294967295|R>>>18),R=M+(L^j&(k^L))+D[0]+3921069994&4294967295,M=k+(R<<20&4294967295|R>>>12),R=j+(k^L&(M^k))+D[5]+3593408605&4294967295,j=M+(R<<5&4294967295|R>>>27),R=L+(M^k&(j^M))+D[10]+38016083&4294967295,L=j+(R<<9&4294967295|R>>>23),R=k+(j^M&(L^j))+D[15]+3634488961&4294967295,k=L+(R<<14&4294967295|R>>>18),R=M+(L^j&(k^L))+D[4]+3889429448&4294967295,M=k+(R<<20&4294967295|R>>>12),R=j+(k^L&(M^k))+D[9]+568446438&4294967295,j=M+(R<<5&4294967295|R>>>27),R=L+(M^k&(j^M))+D[14]+3275163606&4294967295,L=j+(R<<9&4294967295|R>>>23),R=k+(j^M&(L^j))+D[3]+4107603335&4294967295,k=L+(R<<14&4294967295|R>>>18),R=M+(L^j&(k^L))+D[8]+1163531501&4294967295,M=k+(R<<20&4294967295|R>>>12),R=j+(k^L&(M^k))+D[13]+2850285829&4294967295,j=M+(R<<5&4294967295|R>>>27),R=L+(M^k&(j^M))+D[2]+4243563512&4294967295,L=j+(R<<9&4294967295|R>>>23),R=k+(j^M&(L^j))+D[7]+1735328473&4294967295,k=L+(R<<14&4294967295|R>>>18),R=M+(L^j&(k^L))+D[12]+2368359562&4294967295,M=k+(R<<20&4294967295|R>>>12),R=j+(M^k^L)+D[5]+4294588738&4294967295,j=M+(R<<4&4294967295|R>>>28),R=L+(j^M^k)+D[8]+2272392833&4294967295,L=j+(R<<11&4294967295|R>>>21),R=k+(L^j^M)+D[11]+1839030562&4294967295,k=L+(R<<16&4294967295|R>>>16),R=M+(k^L^j)+D[14]+4259657740&4294967295,M=k+(R<<23&4294967295|R>>>9),R=j+(M^k^L)+D[1]+2763975236&4294967295,j=M+(R<<4&4294967295|R>>>28),R=L+(j^M^k)+D[4]+1272893353&4294967295,L=j+(R<<11&4294967295|R>>>21),R=k+(L^j^M)+D[7]+4139469664&4294967295,k=L+(R<<16&4294967295|R>>>16),R=M+(k^L^j)+D[10]+3200236656&4294967295,M=k+(R<<23&4294967295|R>>>9),R=j+(M^k^L)+D[13]+681279174&4294967295,j=M+(R<<4&4294967295|R>>>28),R=L+(j^M^k)+D[0]+3936430074&4294967295,L=j+(R<<11&4294967295|R>>>21),R=k+(L^j^M)+D[3]+3572445317&4294967295,k=L+(R<<16&4294967295|R>>>16),R=M+(k^L^j)+D[6]+76029189&4294967295,M=k+(R<<23&4294967295|R>>>9),R=j+(M^k^L)+D[9]+3654602809&4294967295,j=M+(R<<4&4294967295|R>>>28),R=L+(j^M^k)+D[12]+3873151461&4294967295,L=j+(R<<11&4294967295|R>>>21),R=k+(L^j^M)+D[15]+530742520&4294967295,k=L+(R<<16&4294967295|R>>>16),R=M+(k^L^j)+D[2]+3299628645&4294967295,M=k+(R<<23&4294967295|R>>>9),R=j+(k^(M|~L))+D[0]+4096336452&4294967295,j=M+(R<<6&4294967295|R>>>26),R=L+(M^(j|~k))+D[7]+1126891415&4294967295,L=j+(R<<10&4294967295|R>>>22),R=k+(j^(L|~M))+D[14]+2878612391&4294967295,k=L+(R<<15&4294967295|R>>>17),R=M+(L^(k|~j))+D[5]+4237533241&4294967295,M=k+(R<<21&4294967295|R>>>11),R=j+(k^(M|~L))+D[12]+1700485571&4294967295,j=M+(R<<6&4294967295|R>>>26),R=L+(M^(j|~k))+D[3]+2399980690&4294967295,L=j+(R<<10&4294967295|R>>>22),R=k+(j^(L|~M))+D[10]+4293915773&4294967295,k=L+(R<<15&4294967295|R>>>17),R=M+(L^(k|~j))+D[1]+2240044497&4294967295,M=k+(R<<21&4294967295|R>>>11),R=j+(k^(M|~L))+D[8]+1873313359&4294967295,j=M+(R<<6&4294967295|R>>>26),R=L+(M^(j|~k))+D[15]+4264355552&4294967295,L=j+(R<<10&4294967295|R>>>22),R=k+(j^(L|~M))+D[6]+2734768916&4294967295,k=L+(R<<15&4294967295|R>>>17),R=M+(L^(k|~j))+D[13]+1309151649&4294967295,M=k+(R<<21&4294967295|R>>>11),R=j+(k^(M|~L))+D[4]+4149444226&4294967295,j=M+(R<<6&4294967295|R>>>26),R=L+(M^(j|~k))+D[11]+3174756917&4294967295,L=j+(R<<10&4294967295|R>>>22),R=k+(j^(L|~M))+D[2]+718787259&4294967295,k=L+(R<<15&4294967295|R>>>17),R=M+(L^(k|~j))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+j&4294967295,V.g[1]=V.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+L&4294967295}r.prototype.u=function(V,j){j===void 0&&(j=V.length);for(var M=j-this.blockSize,D=this.B,k=this.h,L=0;L<j;){if(k==0)for(;L<=M;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<j;)if(D[k++]=V.charCodeAt(L++),k==this.blockSize){a(this,D),k=0;break}}else for(;L<j;)if(D[k++]=V[L++],k==this.blockSize){a(this,D),k=0;break}}this.h=k,this.o+=j},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var j=1;j<V.length-8;++j)V[j]=0;var M=8*this.o;for(j=V.length-8;j<V.length;++j)V[j]=M&255,M/=256;for(this.u(V),V=Array(16),j=M=0;4>j;++j)for(var D=0;32>D;D+=8)V[M++]=this.g[j]>>>D&255;return V};function o(V,j){var M=h;return Object.prototype.hasOwnProperty.call(M,V)?M[V]:M[V]=j(V)}function c(V,j){this.h=j;for(var M=[],D=!0,k=V.length-1;0<=k;k--){var L=V[k]|0;D&&L==j||(M[k]=L,D=!1)}this.g=M}var h={};function f(V){return-128<=V&&128>V?o(V,function(j){return new c([j|0],0>j?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return x;if(0>V)return C(p(-V));for(var j=[],M=1,D=0;V>=M;D++)j[D]=V/M|0,M*=4294967296;return new c(j,0)}function y(V,j){if(V.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(V.charAt(0)=="-")return C(y(V.substring(1),j));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(j,8)),D=x,k=0;k<V.length;k+=8){var L=Math.min(8,V.length-k),R=parseInt(V.substring(k,k+L),j);8>L?(L=p(Math.pow(j,L)),D=D.j(L).add(p(R))):(D=D.j(M),D=D.add(p(R)))}return D}var x=f(0),_=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(P(this))return-C(this).m();for(var V=0,j=1,M=0;M<this.g.length;M++){var D=this.i(M);V+=(0<=D?D:4294967296+D)*j,j*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(P(this))return"-"+C(this).toString(V);for(var j=p(Math.pow(V,6)),M=this,D="";;){var k=O(M,j).g;M=A(M,k.j(j));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(V);if(M=k,S(M))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var j=0;j<V.g.length;j++)if(V.g[j]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=A(this,V),P(V)?-1:S(V)?0:1};function C(V){for(var j=V.g.length,M=[],D=0;D<j;D++)M[D]=~V.g[D];return new c(M,~V.h).add(_)}n.abs=function(){return P(this)?C(this):this},n.add=function(V){for(var j=Math.max(this.g.length,V.g.length),M=[],D=0,k=0;k<=j;k++){var L=D+(this.i(k)&65535)+(V.i(k)&65535),R=(L>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);D=R>>>16,L&=65535,R&=65535,M[k]=R<<16|L}return new c(M,M[M.length-1]&-2147483648?-1:0)};function A(V,j){return V.add(C(j))}n.j=function(V){if(S(this)||S(V))return x;if(P(this))return P(V)?C(this).j(C(V)):C(C(this).j(V));if(P(V))return C(this.j(C(V)));if(0>this.l(E)&&0>V.l(E))return p(this.m()*V.m());for(var j=this.g.length+V.g.length,M=[],D=0;D<2*j;D++)M[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<V.g.length;k++){var L=this.i(D)>>>16,R=this.i(D)&65535,J=V.i(k)>>>16,oe=V.i(k)&65535;M[2*D+2*k]+=R*oe,T(M,2*D+2*k),M[2*D+2*k+1]+=L*oe,T(M,2*D+2*k+1),M[2*D+2*k+1]+=R*J,T(M,2*D+2*k+1),M[2*D+2*k+2]+=L*J,T(M,2*D+2*k+2)}for(D=0;D<j;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=j;D<2*j;D++)M[D]=0;return new c(M,0)};function T(V,j){for(;(V[j]&65535)!=V[j];)V[j+1]+=V[j]>>>16,V[j]&=65535,j++}function b(V,j){this.g=V,this.h=j}function O(V,j){if(S(j))throw Error("division by zero");if(S(V))return new b(x,x);if(P(V))return j=O(C(V),j),new b(C(j.g),C(j.h));if(P(j))return j=O(V,C(j)),new b(C(j.g),j.h);if(30<V.g.length){if(P(V)||P(j))throw Error("slowDivide_ only works with positive integers.");for(var M=_,D=j;0>=D.l(V);)M=z(M),D=z(D);var k=U(M,1),L=U(D,1);for(D=U(D,2),M=U(M,2);!S(D);){var R=L.add(D);0>=R.l(V)&&(k=k.add(M),L=R),D=U(D,1),M=U(M,1)}return j=A(V,k.j(j)),new b(k,j)}for(k=x;0<=V.l(j);){for(M=Math.max(1,Math.floor(V.m()/j.m())),D=Math.ceil(Math.log(M)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=p(M),R=L.j(j);P(R)||0<R.l(V);)M-=D,L=p(M),R=L.j(j);S(L)&&(L=_),k=k.add(L),V=A(V,R)}return new b(k,V)}n.A=function(V){return O(this,V).h},n.and=function(V){for(var j=Math.max(this.g.length,V.g.length),M=[],D=0;D<j;D++)M[D]=this.i(D)&V.i(D);return new c(M,this.h&V.h)},n.or=function(V){for(var j=Math.max(this.g.length,V.g.length),M=[],D=0;D<j;D++)M[D]=this.i(D)|V.i(D);return new c(M,this.h|V.h)},n.xor=function(V){for(var j=Math.max(this.g.length,V.g.length),M=[],D=0;D<j;D++)M[D]=this.i(D)^V.i(D);return new c(M,this.h^V.h)};function z(V){for(var j=V.g.length+1,M=[],D=0;D<j;D++)M[D]=V.i(D)<<1|V.i(D-1)>>>31;return new c(M,V.h)}function U(V,j){var M=j>>5;j%=32;for(var D=V.g.length-M,k=[],L=0;L<D;L++)k[L]=0<j?V.i(L+M)>>>j|V.i(L+M+1)<<32-j:V.i(L+M);return new c(k,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ra=c}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,ku,GT,gf,P0,QT,KT,YT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,N){return m==Array.prototype||m==Object.prototype||(m[w]=N.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var w=0;w<m.length;++w){var N=m[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function a(m,w){if(w)e:{var N=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var Z=m[F];if(!(Z in N))break e;N=N[Z]}m=m[m.length-1],F=N[m],w=w(F),w!=F&&w!=null&&e(N,m,{configurable:!0,writable:!0,value:w})}}function o(m,w){m instanceof String&&(m+="");var N=0,F=!1,Z={next:function(){if(!F&&N<m.length){var le=N++;return{value:w(le,m[le]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(m){return m||function(){return o(this,function(w,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function p(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function y(m,w,N){return m.call.apply(m.bind,arguments)}function x(m,w,N){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,F),m.apply(w,Z)}}return function(){return m.apply(w,arguments)}}function _(m,w,N){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,_.apply(null,arguments)}function E(m,w){var N=Array.prototype.slice.call(arguments,1);return function(){var F=N.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function S(m,w){function N(){}N.prototype=w.prototype,m.aa=w.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(F,Z,le){for(var we=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)we[bt-2]=arguments[bt];return w.prototype[Z].apply(F,we)}}function P(m){const w=m.length;if(0<w){const N=Array(w);for(let F=0;F<w;F++)N[F]=m[F];return N}return[]}function C(m,w){for(let N=1;N<arguments.length;N++){const F=arguments[N];if(f(F)){const Z=m.length||0,le=F.length||0;m.length=Z+le;for(let we=0;we<le;we++)m[Z+we]=F[we]}else m.push(F)}}class A{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(m){return/^[\s\xa0]*$/.test(m)}function b(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var z=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function U(m,w,N){for(const F in m)w.call(N,m[F],F,m)}function V(m,w){for(const N in m)w.call(void 0,m[N],N,m)}function j(m){const w={};for(const N in m)w[N]=m[N];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(m,w){let N,F;for(let Z=1;Z<arguments.length;Z++){F=arguments[Z];for(N in F)m[N]=F[N];for(let le=0;le<M.length;le++)N=M[le],Object.prototype.hasOwnProperty.call(F,N)&&(m[N]=F[N])}}function k(m){var w=1;m=m.split(":");const N=[];for(;0<w&&m.length;)N.push(m.shift()),w--;return m.length&&N.push(m.join(":")),N}function L(m){h.setTimeout(()=>{throw m},0)}function R(){var m=xe;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class J{constructor(){this.h=this.g=null}add(w,N){const F=oe.get();F.set(w,N),this.h?this.h.next=F:this.g=F,this.h=F}}var oe=new A(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,xe=new J,H=()=>{const m=h.Promise.resolve(void 0);se=()=>{m.then(ce)}};var ce=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(N){L(N)}var w=oe;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}ae=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};h.addEventListener("test",N,w),h.removeEventListener("test",N,w)}catch{}return m}();function Ve(m,w){if(ge.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(z){e:{try{O(w.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(w=null)}}else N=="mouseover"?w=m.fromElement:N=="mouseout"&&(w=m.toElement);this.relatedTarget=w,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ve.aa.h.call(this)}}S(Ve,ge);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function lt(m,w,N,F,Z){this.listener=m,this.proxy=null,this.src=w,this.type=N,this.capture=!!F,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function et(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function jt(m){this.src=m,this.g={},this.h=0}jt.prototype.add=function(m,w,N,F,Z){var le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);var we=mn(m,w,F,Z);return-1<we?(w=m[we],N||(w.fa=!1)):(w=new lt(w,this.src,le,!!F,Z),w.fa=N,m.push(w)),w};function $t(m,w){var N=w.type;if(N in m.g){var F=m.g[N],Z=Array.prototype.indexOf.call(F,w,void 0),le;(le=0<=Z)&&Array.prototype.splice.call(F,Z,1),le&&(et(w),m.g[N].length==0&&(delete m.g[N],m.h--))}}function mn(m,w,N,F){for(var Z=0;Z<m.length;++Z){var le=m[Z];if(!le.da&&le.listener==w&&le.capture==!!N&&le.ha==F)return Z}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),hr={};function er(m,w,N,F,Z){if(Array.isArray(w)){for(var le=0;le<w.length;le++)er(m,w[le],N,F,Z);return null}return N=os(N),m&&m[ye]?m.K(w,N,p(F)?!!F.capture:!1,Z):Wt(m,w,N,!1,F,Z)}function Wt(m,w,N,F,Z,le){if(!w)throw Error("Invalid event type");var we=p(Z)?!!Z.capture:!!Z,bt=nr(m);if(bt||(m[qt]=bt=new jt(m)),N=bt.add(w,N,F,we,le),N.proxy)return N;if(F=Es(),N.proxy=F,F.src=m,F.listener=N,m.addEventListener)Se||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(w.toString(),F,Z);else if(m.attachEvent)m.attachEvent(as(w.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Es(){function m(N){return w.call(m.src,m.listener,N)}const w=tr;return m}function Ts(m,w,N,F,Z){if(Array.isArray(w))for(var le=0;le<w.length;le++)Ts(m,w[le],N,F,Z);else F=p(F)?!!F.capture:!!F,N=os(N),m&&m[ye]?(m=m.i,w=String(w).toString(),w in m.g&&(le=m.g[w],N=mn(le,N,F,Z),-1<N&&(et(le[N]),Array.prototype.splice.call(le,N,1),le.length==0&&(delete m.g[w],m.h--)))):m&&(m=nr(m))&&(w=m.g[w.toString()],m=-1,w&&(m=mn(w,N,F,Z)),(N=-1<m?w[m]:null)&&Ss(N))}function Ss(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[ye])$t(w.i,m);else{var N=m.type,F=m.proxy;w.removeEventListener?w.removeEventListener(N,F,m.capture):w.detachEvent?w.detachEvent(as(N),F):w.addListener&&w.removeListener&&w.removeListener(F),(N=nr(w))?($t(N,m),N.h==0&&(N.src=null,w[qt]=null)):et(m)}}}function as(m){return m in hr?hr[m]:hr[m]="on"+m}function tr(m,w){if(m.da)m=!0;else{w=new Ve(w,this);var N=m.listener,F=m.ha||m.src;m.fa&&Ss(m),m=N.call(F,w)}return m}function nr(m){return m=m[qt],m instanceof jt?m:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function os(m){return typeof m=="function"?m:(m[Ns]||(m[Ns]=function(w){return m.handleEvent(w)}),m[Ns])}function xt(){ve.call(this),this.i=new jt(this),this.M=this,this.F=null}S(xt,ve),xt.prototype[ye]=!0,xt.prototype.removeEventListener=function(m,w,N,F){Ts(this,m,w,N,F)};function Ze(m,w){var N,F=m.F;if(F)for(N=[];F;F=F.F)N.push(F);if(m=m.M,F=w.type||w,typeof w=="string")w=new ge(w,m);else if(w instanceof ge)w.target=w.target||m;else{var Z=w;w=new ge(F,m),D(w,Z)}if(Z=!0,N)for(var le=N.length-1;0<=le;le--){var we=w.g=N[le];Z=En(we,F,!0,w)&&Z}if(we=w.g=m,Z=En(we,F,!0,w)&&Z,Z=En(we,F,!1,w)&&Z,N)for(le=0;le<N.length;le++)we=w.g=N[le],Z=En(we,F,!1,w)&&Z}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var N=m.g[w],F=0;F<N.length;F++)et(N[F]);delete m.g[w],m.h--}}this.F=null},xt.prototype.K=function(m,w,N,F){return this.i.add(String(m),w,!1,N,F)},xt.prototype.L=function(m,w,N,F){return this.i.add(String(m),w,!0,N,F)};function En(m,w,N,F){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Z=!0,le=0;le<w.length;++le){var we=w[le];if(we&&!we.da&&we.capture==N){var bt=we.listener,gn=we.ha||we.src;we.fa&&$t(m.i,we),Z=bt.call(gn,F)!==!1&&Z}}return Z&&!F.defaultPrevented}function Qt(m,w,N){if(typeof m=="function")N&&(m=_(m,N));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:h.setTimeout(m,w||0)}function ti(m){m.g=Qt(()=>{m.g=null,m.i&&(m.i=!1,ti(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class fr extends ve{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(m){ve.call(this),this.h=m,this.g={}}S(zr,ve);var Ur=[];function Me(m){U(m.g,function(w,N){this.g.hasOwnProperty(N)&&Ss(w)},m),m.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Me(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=h.JSON.stringify,tt=h.JSON.parse,pt=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Ht(){}Ht.prototype.h=null;function an(m){return m.h||(m.h=m.i())}function rr(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ge.call(this,"d")}S(qn,ge);function Mn(){ge.call(this,"c")}S(Mn,ge);var Kt={},Br=null;function Er(){return Br=Br||new xt}Kt.La="serverreachability";function As(m){ge.call(this,Kt.La,m)}S(As,ge);function Q(m){const w=Er();Ze(w,new As(w))}Kt.STAT_EVENT="statevent";function W(m,w){ge.call(this,Kt.STAT_EVENT,m),this.stat=w}S(W,ge);function te(m){const w=Er();Ze(w,new W(w,m))}Kt.Ma="timingevent";function fe(m,w){ge.call(this,Kt.Ma,m),this.size=w}S(fe,ge);function be(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},w)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function ze(m,w,N,F,Z,le){m.info(function(){if(m.g)if(le)for(var we="",bt=le.split("&"),gn=0;gn<bt.length;gn++){var wt=bt[gn].split("=");if(1<wt.length){var Sn=wt[0];wt=wt[1];var yn=Sn.split("_");we=2<=yn.length&&yn[1]=="type"?we+(Sn+"="+wt+"&"):we+(Sn+"=redacted&")}}else we=null;else we=le;return"XMLHTTP REQ ("+F+") [attempt "+Z+"]: "+w+`
`+N+`
`+we})}function Ce(m,w,N,F,Z,le,we){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Z+"]: "+w+`
`+N+`
`+le+" "+we})}function Oe(m,w,N,F){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ue(m,N)+(F?" "+F:"")})}function Pe(m,w){m.info(function(){return"TIMEOUT: "+w})}Ae.prototype.info=function(){};function Ue(m,w){if(!m.g)return w;if(!w)return null;try{var N=JSON.parse(w);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var F=N[m];if(!(2>F.length)){var Z=F[1];if(Array.isArray(Z)&&!(1>Z.length)){var le=Z[0];if(le!="noop"&&le!="stop"&&le!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return je(N)}catch{return w}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ct;function At(){}S(At,Ht),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},ct=new At;function Tt(m,w,N,F){this.j=m,this.i=w,this.l=N,this.R=F||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var it={},Fr={};function pn(m,w,N){m.L=1,m.v=Qa(Nr(w)),m.m=N,m.P=!0,sr(m,null)}function sr(m,w){m.F=Date.now(),Tr(m),m.A=Nr(m.v);var N=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),jc(N.i,"t",F),m.C=0,N=m.j.J,m.h=new gt,m.g=$d(m.j,N?w:null,!m.m),0<m.O&&(m.M=new fr(_(m.Y,m,m.g),m.O)),w=m.U,N=m.g,F=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Ur[0]=Z.toString()),Z=Ur);for(var le=0;le<Z.length;le++){var we=er(N,Z[le],F||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=m.H?j(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Q(),ze(m.i,m.u,m.A,m.l,m.R,m.m)}Tt.prototype.ca=function(m){m=m.target;const w=this.M;w&&Qr(m)==3?w.j():this.Y(m)},Tt.prototype.Y=function(m){try{if(m==this.g)e:{const yn=Qr(this.g);var w=this.g.Ba();const ci=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Ld(this.g)))){this.J||yn!=4||w==7||(w==8||0>=ci?Q(3):Q(2)),Hn(this);var N=this.g.Z();this.X=N;t:if(On(this)){var F=Ld(this.g);m="";var Z=F.length,le=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),ir(this);var we="";break t}this.h.i=new h.TextDecoder}for(w=0;w<Z;w++)this.h.h=!0,m+=this.h.i.decode(F[w],{stream:!(le&&w==Z-1)});F.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=N==200,Ce(this.i,this.u,this.A,this.l,this.R,yn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,gn=this.g;if((bt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(bt)){var wt=bt;break t}}wt=null}if(N=wt)Oe(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,N);else{this.o=!1,this.s=3,te(12),Ye(this),ir(this);break e}}if(this.P){N=!0;let Pn;for(;!this.J&&this.C<we.length;)if(Pn=Cs(this,we),Pn==Fr){yn==4&&(this.s=4,te(14),N=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==it){this.s=4,te(15),Oe(this.i,this.l,we,"[Invalid Chunk]"),N=!1;break}else Oe(this.i,this.l,Pn,null),on(this,Pn);if(On(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||we.length!=0||this.h.h||(this.s=1,te(16),N=!1),this.o=this.o&&N,!N)Oe(this.i,this.l,we,"[Invalid Chunked Response]"),Ye(this),ir(this);else if(0<we.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),to(Sn),Sn.M=!0,te(11))}}else Oe(this.i,this.l,we,null),on(this,we);yn==4&&Ye(this),this.o&&!this.J&&(yn==4?Fd(this.j,this):(this.o=!1,Tr(this)))}else Ym(this.g),N==400&&0<we.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ye(this),ir(this)}}}catch{}finally{}};function On(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Cs(m,w){var N=m.C,F=w.indexOf(`
`,N);return F==-1?Fr:(N=Number(w.substring(N,F)),isNaN(N)?it:(F+=1,F+N>w.length?Fr:(w=w.slice(F,F+N),m.C=F+N,w)))}Tt.prototype.cancel=function(){this.J=!0,Ye(this)};function Tr(m){m.S=Date.now()+m.I,ki(m,m.I)}function ki(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=be(_(m.ba,m),w)}function Hn(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Tt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),te(17)),Ye(this),this.s=2,ir(this)):ki(this,this.S-m)};function ir(m){m.j.G==0||m.J||Fd(m.j,m)}function Ye(m){Hn(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Me(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function on(m,w){try{var N=m.j;if(N.G!=0&&(N.g==m||qr(N.h,m))){if(!m.K&&qr(N.h,m)&&N.G==3){try{var F=N.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Z=F;if(Z[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)Zo(N),Xo(N);else break e;kc(N),te(18)}}else N.za=Z[1],0<N.za-N.T&&37500>Z[2]&&N.F&&N.v==0&&!N.C&&(N.C=be(_(N.Za,N),6e3));if(1>=Vt(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else li(N,11)}else if((m.K||N.g==m)&&Zo(N),!T(w))for(Z=N.Da.g.parse(w),w=0;w<Z.length;w++){let wt=Z[w];if(N.T=wt[0],wt=wt[1],N.G==2)if(wt[0]=="c"){N.K=wt[1],N.ia=wt[2];const Sn=wt[3];Sn!=null&&(N.la=Sn,N.j.info("VER="+N.la));const yn=wt[4];yn!=null&&(N.Aa=yn,N.j.info("SVER="+N.Aa));const ci=wt[5];ci!=null&&typeof ci=="number"&&0<ci&&(F=1.5*ci,N.L=F,N.j.info("backChannelRequestTimeoutMs_="+F)),F=N;const Pn=m.g;if(Pn){const ks=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var le=F.h;le.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(ni(le,le.h),le.h=null))}if(F.D){const Vc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vc&&(F.ya=Vc,Dt(F.I,F.D,Vc))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),F=N;var we=m;if(F.qa=Hd(F,F.J?F.ia:null,F.W),we.K){Dn(F.h,we);var bt=we,gn=F.L;gn&&(bt.I=gn),bt.B&&(Hn(bt),Tr(bt)),F.g=we}else Ud(F);0<N.i.length&&Wo(N)}else wt[0]!="stop"&&wt[0]!="close"||li(N,7);else N.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?li(N,7):Dc(N):wt[0]!="noop"&&N.l&&N.l.ta(wt),N.v=0)}}Q(4)}catch{}}var Sr=class{constructor(m,w){this.g=m,this.map=w}};function mr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rs(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Vt(m){return m.h?1:m.g?m.g.size:0}function qr(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function ni(m,w){m.g?m.g.add(w):m.h=w}function Dn(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}mr.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ac(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const N of m.g.values())w=w.concat(N.D);return w}return P(m.i)}function $m(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var w=[],N=m.length,F=0;F<N;F++)w.push(m[F]);return w}w=[],N=0;for(F in m)w[N++]=m[F];return w}function Ho(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var w=[];m=m.length;for(var N=0;N<m;N++)w.push(N);return w}w=[],N=0;for(const F in m)w[N++]=F;return w}}}function Cc(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var N=Ho(m),F=$m(m),Z=F.length,le=0;le<Z;le++)w.call(void 0,F[le],N&&N[le],m)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gm(m,w){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var F=m[N].indexOf("="),Z=null;if(0<=F){var le=m[N].substring(0,F);Z=m[N].substring(F+1)}else le=m[N];w(le,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ln(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ln){this.h=m.h,Ga(this,m.j),this.o=m.o,this.g=m.g,Li(this,m.s),this.l=m.l;var w=m.i,N=new si;N.i=w.i,w.g&&(N.g=new Map(w.g),N.h=w.h),ri(this,N),this.m=m.m}else m&&(w=String(m).match($a))?(this.h=!1,Ga(this,w[1]||"",!0),this.o=Hr(w[2]||""),this.g=Hr(w[3]||"",!0),Li(this,w[4]),this.l=Hr(w[5]||"",!0),ri(this,w[6]||"",!0),this.m=Hr(w[7]||"")):(this.h=!1,this.i=new si(null,this.h))}ln.prototype.toString=function(){var m=[],w=this.j;w&&m.push(Ka(w,Rc,!0),":");var N=this.g;return(N||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Ka(w,Rc,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Ka(N,N.charAt(0)=="/"?Qm:Ic,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Ka(N,$o)),m.join("")};function Nr(m){return new ln(m)}function Ga(m,w,N){m.j=N?Hr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Li(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function ri(m,w,N){w instanceof si?(m.i=w,Pd(m.i,m.h)):(N||(w=Ka(w,Km)),m.i=new si(w,m.h))}function Dt(m,w,N){m.i.set(w,N)}function Qa(m){return Dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Hr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ka(m,w,N){return typeof m=="string"?(m=encodeURI(m).replace(w,Dd),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Dd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Rc=/[#\/\?@]/g,Ic=/[#\?:]/g,Qm=/[#\?]/g,Km=/[#\?@]/g,$o=/#/g;function si(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function $r(m){m.g||(m.g=new Map,m.h=0,m.i&&Gm(m.i,function(w,N){m.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}n=si.prototype,n.add=function(m,w){$r(this),this.i=null,m=Is(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(w),this.h+=1,this};function ii(m,w){$r(m),w=Is(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function ai(m,w){return $r(m),w=Is(m,w),m.g.has(w)}n.forEach=function(m,w){$r(this),this.g.forEach(function(N,F){N.forEach(function(Z){m.call(w,Z,F,this)},this)},this)},n.na=function(){$r(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),N=[];for(let F=0;F<w.length;F++){const Z=m[F];for(let le=0;le<Z.length;le++)N.push(w[F])}return N},n.V=function(m){$r(this);let w=[];if(typeof m=="string")ai(this,m)&&(w=w.concat(this.g.get(Is(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)w=w.concat(m[N])}return w},n.set=function(m,w){return $r(this),this.i=null,m=Is(this,m),ai(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function jc(m,w,N){ii(m,w),0<N.length&&(m.i=null,m.g.set(Is(m,w),P(N)),m.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var N=0;N<w.length;N++){var F=w[N];const le=encodeURIComponent(String(F)),we=this.V(F);for(F=0;F<we.length;F++){var Z=le;we[F]!==""&&(Z+="="+encodeURIComponent(String(we[F]))),m.push(Z)}}return this.i=m.join("&")};function Is(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Pd(m,w){w&&!m.j&&($r(m),m.i=null,m.g.forEach(function(N,F){var Z=F.toLowerCase();F!=Z&&(ii(this,F),jc(this,Z,N))},m)),m.j=w}function Ya(m,w){const N=new Ae;if(h.Image){const F=new Image;F.onload=E(Gr,N,"TestLoadImage: loaded",!0,w,F),F.onerror=E(Gr,N,"TestLoadImage: error",!1,w,F),F.onabort=E(Gr,N,"TestLoadImage: abort",!1,w,F),F.ontimeout=E(Gr,N,"TestLoadImage: timeout",!1,w,F),h.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else w(!1)}function ls(m,w){const N=new Ae,F=new AbortController,Z=setTimeout(()=>{F.abort(),Gr(N,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:F.signal}).then(le=>{clearTimeout(Z),le.ok?Gr(N,"TestPingServer: ok",!0,w):Gr(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),Gr(N,"TestPingServer: error",!1,w)})}function Gr(m,w,N,F,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),F(N)}catch{}}function Xa(){this.g=new pt}function js(m,w,N){const F=N||"";try{Cc(m,function(Z,le){let we=Z;p(Z)&&(we=je(Z)),w.push(F+le+"="+encodeURIComponent(we))})}catch(Z){throw w.push(F+"type="+encodeURIComponent("_badmap")),Z}}function Vi(m){this.l=m.Ub||null,this.j=m.eb||!1}S(Vi,Ht),Vi.prototype.g=function(){return new oi(this.l,this.j)},Vi.prototype.i=function(m){return function(){return m}}({});function oi(m,w){xt.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(oi,xt),n=oi.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,Os(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||h).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Ms(this):Os(this),this.readyState==3&&Mc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ms(this))},n.Qa=function(m){this.g&&(this.response=m,Ms(this))},n.ga=function(){this.g&&Ms(this)};function Ms(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Os(m)}n.setRequestHeader=function(m,w){this.u.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=w.next();return m.join(`\r
`)};function Os(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Oc(m){let w="";return U(m,function(N,F){w+=F,w+=":",w+=N,w+=`\r
`}),w}function Tn(m,w,N){e:{for(F in N){var F=!1;break e}F=!0}F||(N=Oc(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):Dt(m,w,N))}function Ct(m){xt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ct,xt);var Go=/^https?$/i,Wa=["POST","PUT"];n=Ct.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,w,N,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ct.g(),this.v=this.o?an(this.o):an(ct),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(le){kd(this,le);return}if(m=N||"",N=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Z in F)N.set(Z,F[Z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const le of F.keys())N.set(le,F.get(le));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),Z=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Wa,w,void 0))||F||Z||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of N)this.g.setRequestHeader(le,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Za(this),this.u=!0,this.g.send(m),this.u=!1}catch(le){kd(this,le)}};function kd(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Qo(m),Ds(m)}function Qo(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ze(this,"complete"),Ze(this,"abort"),Ds(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ko(this):this.bb())},n.bb=function(){Ko(this)};function Ko(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Qr(m)!=4||m.Z()!=2)){if(m.u&&Qr(m)==4)Qt(m.Ea,0,m);else if(Ze(m,"readystatechange"),Qr(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var F;if(F=we===0){var Z=String(m.D).match($a)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),F=!Go.test(Z?Z.toLowerCase():"")}N=F}if(N)Ze(m,"complete"),Ze(m,"success");else{m.m=6;try{var le=2<Qr(m)?m.g.statusText:""}catch{le=""}m.l=le+" ["+m.Z()+"]",Qo(m)}}finally{Ds(m)}}}}function Ds(m,w){if(m.g){Za(m);const N=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||Ze(m,"ready");try{N.onreadystatechange=F}catch{}}}function Za(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Qr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),tt(w)}};function Ld(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ym(m){const w={};m=(m.g&&2<=Qr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(T(m[F]))continue;var N=k(m[F]);const Z=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=w[Z]||[];w[Z]=le,le.push(N)}V(w,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(m,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||w}function Yo(m){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,m),this.cb=Ja("retryDelaySeedMs",1e4,m),this.Wa=Ja("forwardChannelMaxRetries",2,m),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(m&&m.concurrentRequestLimit),this.Da=new Xa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yo.prototype,n.la=8,n.G=1,n.connect=function(m,w,N,F){te(0),this.W=m,this.H=w||{},N&&F!==void 0&&(this.H.OSID=N,this.H.OAID=F),this.F=this.X,this.I=Hd(this,null,this.W),Wo(this)};function Dc(m){if(Vd(m),m.G==3){var w=m.U++,N=Nr(m.I);if(Dt(N,"SID",m.K),Dt(N,"RID",w),Dt(N,"TYPE","terminate"),eo(m,N),w=new Tt(m,m.j,w),w.L=2,w.v=Qa(Nr(N)),N=!1,h.navigator&&h.navigator.sendBeacon)try{N=h.navigator.sendBeacon(w.v.toString(),"")}catch{}!N&&h.Image&&(new Image().src=w.v,N=!0),N||(w.g=$d(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Tr(w)}qd(m)}function Xo(m){m.g&&(to(m),m.g.cancel(),m.g=null)}function Vd(m){Xo(m),m.u&&(h.clearTimeout(m.u),m.u=null),Zo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Wo(m){if(!Rs(m.h)&&!m.s){m.s=!0;var w=m.Ga;se||H(),ae||(se(),ae=!0),xe.add(w,m),m.B=0}}function Xm(m,w){return Vt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=be(_(m.Ga,m,w),Lc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new Tt(this,this.j,m);let le=this.o;if(this.S&&(le?(le=j(le),D(le,this.S)):le=this.S),this.m!==null||this.O||(Z.H=le,le=null),this.P)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var F=this.i[N];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(w+=F,4096<w){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=zd(this,Z,w),N=Nr(this.I),Dt(N,"RID",m),Dt(N,"CVER",22),this.D&&Dt(N,"X-HTTP-Session-Id",this.D),eo(this,N),le&&(this.O?w="headers="+encodeURIComponent(String(Oc(le)))+"&"+w:this.m&&Tn(N,this.m,le)),ni(this.h,Z),this.Ua&&Dt(N,"TYPE","init"),this.P?(Dt(N,"$req",w),Dt(N,"SID","null"),Z.T=!0,pn(Z,N,null)):pn(Z,N,w),this.G=2}}else this.G==3&&(m?Pc(this,m):this.i.length==0||Rs(this.h)||Pc(this))};function Pc(m,w){var N;w?N=w.l:N=m.U++;const F=Nr(m.I);Dt(F,"SID",m.K),Dt(F,"RID",N),Dt(F,"AID",m.T),eo(m,F),m.m&&m.o&&Tn(F,m.m,m.o),N=new Tt(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),w&&(m.i=w.D.concat(m.i)),w=zd(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ni(m.h,N),pn(N,F,w)}function eo(m,w){m.H&&U(m.H,function(N,F){Dt(w,F,N)}),m.l&&Cc({},function(N,F){Dt(w,F,N)})}function zd(m,w,N){N=Math.min(m.i.length,N);var F=m.l?_(m.l.Na,m.l,m):null;e:{var Z=m.i;let le=-1;for(;;){const we=["count="+N];le==-1?0<N?(le=Z[0].g,we.push("ofs="+le)):le=0:we.push("ofs="+le);let bt=!0;for(let gn=0;gn<N;gn++){let wt=Z[gn].g;const Sn=Z[gn].map;if(wt-=le,0>wt)le=Math.max(0,Z[gn].g-100),bt=!1;else try{js(Sn,we,"req"+wt+"_")}catch{F&&F(Sn)}}if(bt){F=we.join("&");break e}}}return m=m.i.splice(0,N),w.D=m,F}function Ud(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;se||H(),ae||(se(),ae=!0),xe.add(w,m),m.v=0}}function kc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=be(_(m.Fa,m),Lc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=be(_(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Xo(this),Bd(this))};function to(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Bd(m){m.g=new Tt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Nr(m.qa);Dt(w,"RID","rpc"),Dt(w,"SID",m.K),Dt(w,"AID",m.T),Dt(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Dt(w,"TO",m.ja),Dt(w,"TYPE","xmlhttp"),eo(m,w),m.m&&m.o&&Tn(w,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=Qa(Nr(w)),N.m=null,N.P=!0,sr(N,m)}n.Za=function(){this.C!=null&&(this.C=null,Xo(this),kc(this),te(19))};function Zo(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Fd(m,w){var N=null;if(m.g==w){Zo(m),to(m),m.g=null;var F=2}else if(qr(m.h,w))N=w.D,Dn(m.h,w),F=1;else return;if(m.G!=0){if(w.o)if(F==1){N=w.m?w.m.length:0,w=Date.now()-w.F;var Z=m.B;F=Er(),Ze(F,new fe(F,N)),Wo(m)}else Ud(m);else if(Z=w.s,Z==3||Z==0&&0<w.X||!(F==1&&Xm(m,w)||F==2&&kc(m)))switch(N&&0<N.length&&(w=m.h,w.i=w.i.concat(N)),Z){case 1:li(m,5);break;case 4:li(m,10);break;case 3:li(m,6);break;default:li(m,2)}}}function Lc(m,w){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*w}function li(m,w){if(m.j.info("Error code "+w),w==2){var N=_(m.fb,m),F=m.Xa;const Z=!F;F=new ln(F||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ga(F,"https"),Qa(F),Z?Ya(F.toString(),N):ls(F.toString(),N)}else te(2);m.G=0,m.l&&m.l.sa(w),qd(m),Vd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function qd(m){if(m.G=0,m.ka=[],m.l){const w=Ac(m.h);(w.length!=0||m.i.length!=0)&&(C(m.ka,w),C(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function Hd(m,w,N){var F=N instanceof ln?Nr(N):new ln(N);if(F.g!="")w&&(F.g=w+"."+F.g),Li(F,F.s);else{var Z=h.location;F=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;var le=new ln(null);F&&Ga(le,F),w&&(le.g=w),Z&&Li(le,Z),N&&(le.l=N),F=le}return N=m.D,w=m.ya,N&&w&&Dt(F,N,w),Dt(F,"VER",m.la),eo(m,F),F}function $d(m,w,N){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Ct(new Vi({eb:N})):new Ct(m.pa),w.Ha(m.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gd(){}n=Gd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jo(){}Jo.prototype.g=function(m,w){return new ar(m,w)};function ar(m,w){xt.call(this),this.g=new Yo(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!T(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Ps(this)}S(ar,xt),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Dc(this.g)},ar.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=je(m),m=N);w.i.push(new Sr(w.Ya++,m)),w.G==3&&Wo(w)},ar.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,ar.aa.N.call(this)};function Qd(m){qn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const N in w){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}S(Qd,qn);function Kd(){Mn.call(this),this.status=1}S(Kd,Mn);function Ps(m){this.g=m}S(Ps,Gd),Ps.prototype.ua=function(){Ze(this.g,"a")},Ps.prototype.ta=function(m){Ze(this.g,new Qd(m))},Ps.prototype.sa=function(m){Ze(this.g,new Kd)},Ps.prototype.ra=function(){Ze(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,YT=function(){return new Jo},KT=function(){return Er()},QT=Kt,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,gf=De,qe.COMPLETE="complete",GT=qe,rr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ku=rr,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,$T=Ct}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Ww="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Vy("@firebase/firestore");function Il(){return Oo.logLevel}function Ne(n,...e){if(Oo.logLevel<=ft.DEBUG){const t=e.map(By);Oo.debug(`Firestore (${bc}): ${n}`,...t)}}function Ii(n,...e){if(Oo.logLevel<=ft.ERROR){const t=e.map(By);Oo.error(`Firestore (${bc}): ${n}`,...t)}}function lc(n,...e){if(Oo.logLevel<=ft.WARN){const t=e.map(By);Oo.warn(`Firestore (${bc}): ${n}`,...t)}}function By(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,XT(n,r,t)}function XT(n,e,t){let r=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ii(r),new Error(r)}function It(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||XT(e,a,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class jj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mj{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new WT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class Oj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Oj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kj(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function k0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return st(r,a);{const o=ZT(),c=Lj(o.encode(Jw(n,t)),o.encode(Jw(e,t)));return c!==0?c:st(r,a)}}t+=r>65535?2:1}return st(n.length,e.length)}function Jw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Lj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return st(n[t],e[t]);return st(n.length,e.length)}function cc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,t_=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*t_);return new bn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<e_)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new bn(0,0))}static max(){return new Xe(new bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class Fs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Fs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=Fs.isNumericId(e),a=Fs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Fs.extractNumericId(e).compare(Fs.extractNumericId(t)):k0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class Bt extends Fs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const Vj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Fs{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return Vj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new Bn([n_])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function zj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(r===1e9?new bn(t+1,0):new bn(t,r));return new Da(a,Le.empty(),e)}function Uj(n){return new Da(n.readTime,n.key,Ju)}class Da{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Da(Xe.min(),Le.empty(),Ju)}static max(){return new Da(Xe.max(),Le.empty(),Ju)}}function Bj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Fj)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++o,c&&o===a&&t()},f=>r(f))}),c=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{c[p]=y,++h,h===o&&r(c)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function Hj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _c(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}mm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-1;function pm(n){return n==null}function Vf(n){return n===0&&1/n==-1/0}function $j(n){return typeof n=="number"&&Number.isInteger(n)&&!Vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="";function Gj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r_(e)),e=Qj(n.get(t),e);return r_(e)}function Qj(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case e2:t+="";break;default:t+=o}}return t}function r_(n){return n+e2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function t2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??zn.RED,this.left=a??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new zn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new wn(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new n2("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=Kj.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(n.seconds),nanos:rn(n.nanos)}}function rn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ka(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="server_timestamp",s2="__type__",i2="__previous_value__",a2="__local_write_time__";function gm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[s2])===null||t===void 0?void 0:t.stringValue)===r2}function ym(n){const e=n.mapValue.fields[i2];return gm(e)?ym(e):e}function ed(n){const e=Pa(n.mapValue.fields[a2].timestampValue);return new bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,t,r,a,o,c,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const zf="(default)";class td{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__type__",Xj="__max__",tf={mapValue:{}},l2="__vector__",Uf="value";function La(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gm(n)?4:Zj(n)?9007199254740991:Wj(n)?10:11:Ge(28295,{value:n})}function Ws(n,e){if(n===e)return!0;const t=La(n);if(t!==La(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ed(n).isEqual(ed(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Pa(a.timestampValue),h=Pa(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return ka(a.bytesValue).isEqual(ka(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return rn(a.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(a.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return rn(a.integerValue)===rn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=rn(a.doubleValue),h=rn(o.doubleValue);return c===h?Vf(c)===Vf(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return cc(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(s_(c)!==s_(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ws(c[f],h[f])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function nd(n,e){return(n.values||[]).find(t=>Ws(t,e))!==void 0}function uc(n,e){if(n===e)return 0;const t=La(n),r=La(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=rn(o.integerValue||o.doubleValue),f=rn(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return a_(n.timestampValue,e.timestampValue);case 4:return a_(ed(n),ed(e));case 5:return k0(n.stringValue,e.stringValue);case 6:return function(o,c){const h=ka(o),f=ka(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=st(h[p],f[p]);if(y!==0)return y}return st(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=st(rn(o.latitude),rn(c.latitude));return h!==0?h:st(rn(o.longitude),rn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return o_(n.arrayValue,e.arrayValue);case 10:return function(o,c){var h,f,p,y;const x=o.fields||{},_=c.fields||{},E=(h=x[Uf])===null||h===void 0?void 0:h.arrayValue,S=(f=_[Uf])===null||f===void 0?void 0:f.arrayValue,P=st(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:o_(E,S)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===tf.mapValue&&c===tf.mapValue)return 0;if(o===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const _=k0(f[x],y[x]);if(_!==0)return _;const E=uc(h[f[x]],p[y[x]]);if(E!==0)return E}return st(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function a_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Pa(n),r=Pa(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function o_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=uc(t[a],r[a]);if(o)return o}return st(t.length,r.length)}function dc(n){return L0(n)}function L0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Pa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ka(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=L0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${L0(t.fields[c])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function yf(n){switch(La(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ym(n);return e?16+yf(e):16;case 5:return 2*n.stringValue.length;case 6:return ka(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+yf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ba(r.fields,(o,c)=>{a+=o.length+yf(c)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Bf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function V0(n){return!!n&&"integerValue"in n}function qy(n){return!!n&&"arrayValue"in n}function l_(n){return!!n&&"nullValue"in n}function c_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vf(n){return!!n&&"mapValue"in n}function Wj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[o2])===null||t===void 0?void 0:t.stringValue)===l2}function Hu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Xj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=Bn.emptyPath(),r={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=Hu(c):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ba(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new wr(Hu(this.value))}}function c2(n){const e=[];return Ba(n.fields,(t,r)=>{const a=new Bn([t]);if(vf(r)){const o=c2(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,a,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Xn(e,0,Xe.min(),Xe.min(),Xe.min(),wr.empty(),0)}static newFoundDocument(e,t,r,a){return new Xn(e,1,t,Xe.min(),r,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,Xe.min(),Xe.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Xe.min(),Xe.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function u_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),t.key):r=uc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ws(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{}class hn extends u2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t3(e,t,r):t==="array-contains"?new s3(e,r):t==="in"?new i3(e,r):t==="not-in"?new a3(e,r):t==="array-contains-any"?new o3(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n3(e,r):new r3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(uc(t,this.value)):t!==null&&La(this.value)===La(t)&&this.matchesComparison(uc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends u2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xs(e,t)}matches(e){return d2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function d2(n){return n.op==="and"}function h2(n){return e3(n)&&d2(n)}function e3(n){for(const e of n.filters)if(e instanceof xs)return!1;return!0}function z0(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+dc(n.value);if(h2(n))return n.filters.map(e=>z0(e)).join(",");{const e=n.filters.map(t=>z0(t)).join(",");return`${n.op}(${e})`}}function f2(n,e){return n instanceof hn?function(r,a){return a instanceof hn&&r.op===a.op&&r.field.isEqual(a.field)&&Ws(r.value,a.value)}(n,e):n instanceof xs?function(r,a){return a instanceof xs&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,h)=>o&&f2(c,a.filters[h]),!0):!1}(n,e):void Ge(19439)}function m2(n){return n instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${dc(t.value)}`}(n):n instanceof xs?function(t){return t.op.toString()+" {"+t.getFilters().map(m2).join(" ,")+"}"}(n):"Filter"}class t3 extends hn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class n3 extends hn{constructor(e,t){super(e,"in",t),this.keys=p2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r3 extends hn{constructor(e,t){super(e,"not-in",t),this.keys=p2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class s3 extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qy(t)&&nd(t.arrayValue,this.value)}}class i3 extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class a3 extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nd(this.value.arrayValue,t)}}class o3 extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function h_(n,e=null,t=[],r=[],a=null,o=null,c=null){return new l3(n,e,t,r,a,o,c)}function Hy(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>z0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dc(r)).join(",")),e.Ie=t}return e.Ie}function $y(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d_(n.startAt,e.startAt)&&d_(n.endAt,e.endAt)}function U0(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t=null,r=[],a=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c3(n,e,t,r,a,o,c,h){return new Uo(n,e,t,r,a,o,c,h)}function vm(n){return new Uo(n)}function f_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gy(n){return n.collectionGroup!==null}function Bl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new wn(Bn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new rd(o,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new rd(Bn.keyField(),r))}return e.Ee}function Qs(n){const e=We(n);return e.de||(e.de=u3(e,Bl(n))),e.de}function u3(n,e){if(n.limitType==="F")return h_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new rd(a.field,o)});const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return h_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function B0(n,e){const t=n.filters.concat([e]);return new Uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ff(n,e,t){return new Uo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xm(n,e){return $y(Qs(n),Qs(e))&&n.limitType===e.limitType}function g2(n){return`${Hy(Qs(n))}|lt:${n.limitType}`}function jl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>m2(a)).join(", ")}]`),pm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>dc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>dc(a)).join(",")),`Target(${r})`}(Qs(n))}; limitType=${n.limitType})`}function bm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Bl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,h,f){const p=u_(c,h,f);return c.inclusive?p<=0:p<0}(r.startAt,Bl(r),a)||r.endAt&&!function(c,h,f){const p=u_(c,h,f);return c.inclusive?p>=0:p>0}(r.endAt,Bl(r),a))}(n,e)}function d3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function y2(n){return(e,t)=>{let r=!1;for(const a of Bl(n)){const o=h3(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function h3(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,c,h){const f=c.data.field(o),p=h.data.field(o);return f!==null&&p!==null?uc(f,p):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new Xt(Le.comparator);function ji(){return f3}const v2=new Xt(Le.comparator);function Lu(...n){let e=v2;for(const t of n)e=e.insert(t.key,t);return e}function x2(n){let e=v2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return $u()}function b2(){return $u()}function $u(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const m3=new Xt(Le.comparator),p3=new wn(Le.comparator);function mt(...n){let e=p3;for(const t of n)e=e.add(t);return e}const g3=new wn(st);function y3(){return g3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(e)?"-0":e}}function w2(n){return{integerValue:""+n}}function v3(n,e){return $j(e)?w2(e):Qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this._=void 0}}function x3(n,e,t){return n instanceof sd?function(a,o){const c={fields:{[s2]:{stringValue:r2},[a2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&gm(o)&&(o=ym(o)),o&&(c.fields[i2]=o),{mapValue:c}}(t,e):n instanceof fc?E2(n,e):n instanceof id?T2(n,e):function(a,o){const c=_2(a,o),h=m_(c)+m_(a.Re);return V0(c)&&V0(a.Re)?w2(h):Qy(a.serializer,h)}(n,e)}function b3(n,e,t){return n instanceof fc?E2(n,e):n instanceof id?T2(n,e):t}function _2(n,e){return n instanceof qf?function(r){return V0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sd extends wm{}class fc extends wm{constructor(e){super(),this.elements=e}}function E2(n,e){const t=S2(e);for(const r of n.elements)t.some(a=>Ws(a,r))||t.push(r);return{arrayValue:{values:t}}}class id extends wm{constructor(e){super(),this.elements=e}}function T2(n,e){let t=S2(e);for(const r of n.elements)t=t.filter(a=>!Ws(a,r));return{arrayValue:{values:t}}}class qf extends wm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function m_(n){return rn(n.integerValue||n.doubleValue)}function S2(n){return qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t){this.field=e,this.transform=t}}function w3(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof fc&&a instanceof fc||r instanceof id&&a instanceof id?cc(r.elements,a.elements,Ws):r instanceof qf&&a instanceof qf?Ws(r.Re,a.Re):r instanceof sd&&a instanceof sd}(n.transform,e.transform)}class _3{constructor(e,t){this.version=e,this.transformResults=t}}class rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let _m=class{};function A2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ky(n.key,rs.none()):new _d(n.key,n.data,rs.none());{const t=n.data,r=wr.empty();let a=new wn(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new Fa(n.key,r,new Vr(a.toArray()),rs.none())}}function E3(n,e,t){n instanceof _d?function(a,o,c){const h=a.value.clone(),f=g_(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Fa?function(a,o,c){if(!xf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=g_(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(C2(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Gu(n,e,t,r){return n instanceof _d?function(o,c,h,f){if(!xf(o.precondition,c))return h;const p=o.value.clone(),y=y_(o.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fa?function(o,c,h,f){if(!xf(o.precondition,c))return h;const p=y_(o.fieldTransforms,f,c),y=c.data;return y.setAll(C2(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(o,c,h){return xf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function T3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=_2(r.transform,a||null);o!=null&&(t===null&&(t=wr.empty()),t.set(r.field,o))}return t||null}function p_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&cc(r,a,(o,c)=>w3(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _d extends _m{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fa extends _m{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function g_(n,e,t){const r=new Map;It(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,b3(c,h,t[a]))}return r}function y_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,x3(o,c,e))}return r}class Ky extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S3 extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&E3(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=b2();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const f=A2(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(t,r)=>p_(t,r))&&cc(this.baseMutations,e.baseMutations,(t,r)=>p_(t,r))}}class Yy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){It(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return m3}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Yy(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Et;function R3(n){switch(n){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function R2(n){if(n===void 0)return Ii("GRPC error has no .code"),de.UNKNOWN;switch(n){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:n})}}(Et=dn||(dn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Ra([4294967295,4294967295],0);function v_(n){const e=ZT().encode(n),t=new HT;return t.update(e),new Uint8Array(t.digest())}function x_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ra([t,r],0),new Ra([a,o],0)]}class Xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ra.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Ra.fromNumber(r)));return a.compare(I3)===1&&(a=new Ra([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=v_(e),[r,a]=x_(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Xy(o,a,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=v_(e),[r,a]=x_(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Em(Xe.min(),a,new Xt(st),ji(),mt())}}class Ed{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ed(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class I2{constructor(e,t){this.targetId=e,this.Ce=t}}class j2{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class b_{constructor(){this.Fe=0,this.Me=w_(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mt(),t=mt(),r=mt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new Ed(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=w_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,It(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class j3{constructor(e){this.ze=e,this.je=new Map,this.He=ji(),this.Je=nf(),this.Ye=nf(),this.Ze=new Xt(st)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(U0(o))if(r===0){const c=new Le(o.path);this.tt(t,c,Xn.newNoDocument(c,Xe.min()))}else It(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const h=this.ct(e),f=h?this.lt(h,e,c):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=ka(r).toUint8Array()}catch(f){if(f instanceof n2)return lc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Xy(c,a,o)}catch(f){return lc(f instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&U0(h.target)){const f=new Le(h.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Xn.newNoDocument(f,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let r=mt();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new Em(e,t,this.Ze,this.He,r);return this.He=ji(),this.Je=nf(),this.Ye=nf(),this.Ze=new Xt(st),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new b_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wn(st),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wn(st),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new b_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function nf(){return new Xt(Le.comparator)}function w_(){return new Xt(Le.comparator)}const M3={asc:"ASCENDING",desc:"DESCENDING"},O3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D3={and:"AND",or:"OR"};class P3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F0(n,e){return n.useProto3Json||pm(e)?e:{value:e}}function Hf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function k3(n,e){return Hf(n,e.toTimestamp())}function Ks(n){return It(!!n,49232),Xe.fromTimestamp(function(t){const r=Pa(t);return new bn(r.seconds,r.nanos)}(n))}function Wy(n,e){return q0(n,e).canonicalString()}function q0(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function O2(n){const e=Bt.fromString(n);return It(V2(e),10190,{key:e.toString()}),e}function H0(n,e){return Wy(n.databaseId,e.path)}function s0(n,e){const t=O2(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(P2(t))}function D2(n,e){return Wy(n.databaseId,e)}function L3(n){const e=O2(n);return e.length===4?Bt.emptyPath():P2(e)}function $0(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P2(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function __(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function V3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(It(y===void 0||typeof y=="string",58123),Fn.fromBase64String(y||"")):(It(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Fn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?de.UNKNOWN:R2(p.code);return new _e(y,p.message||"")}(c);t=new j2(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=s0(n,r.document.name),o=Ks(r.document.updateTime),c=r.document.createTime?Ks(r.document.createTime):Xe.min(),h=new wr({mapValue:{fields:r.document.fields}}),f=Xn.newFoundDocument(a,o,c,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new bf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=s0(n,r.document),o=r.readTime?Ks(r.readTime):Xe.min(),c=Xn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new bf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=s0(n,r.document),o=r.removedTargetIds||[];t=new bf([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new C3(a,o),h=r.targetId;t=new I2(h,c)}}return t}function z3(n,e){let t;if(e instanceof _d)t={update:__(n,e.key,e.value)};else if(e instanceof Ky)t={delete:H0(n,e.key)};else if(e instanceof Fa)t={update:__(n,e.key,e.data),updateMask:K3(e.fieldMask)};else{if(!(e instanceof S3))return Ge(16599,{ft:e.type});t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof id)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof qf)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ge(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:k3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function U3(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?Ks(a.updateTime):Ks(o);return c.isEqual(Xe.min())&&(c=Ks(o)),new _3(c,a.transformResults||[])}(t,e))):[]}function B3(n,e){return{documents:[D2(n,e.path)]}}function F3(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=D2(n,a);const o=function(p){if(p.length!==0)return L2(xs.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Ml(_.field),direction:$3(_.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=F0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function q3(n){let e=L3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){It(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(x){const _=k2(x);return _ instanceof xs&&h2(_)?_.getFilters():[_]}(t.where));let c=[];t.orderBy&&(c=function(x){return x.map(_=>function(S){return new rd(Ol(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(t.orderBy));let h=null;t.limit&&(h=function(x){let _;return _=typeof x=="object"?x.value:x,pm(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(x){const _=!!x.before,E=x.values||[];return new hc(E,_)}(t.startAt));let p=null;return t.endAt&&(p=function(x){const _=!x.before,E=x.values||[];return new hc(E,_)}(t.endAt)),c3(e,a,c,o,h,"F",f,p)}function H3(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function k2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ol(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ol(t.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ol(t.unaryFilter.field);return hn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ol(t.unaryFilter.field);return hn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return hn.create(Ol(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xs.create(t.compositeFilter.filters.map(r=>k2(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function $3(n){return M3[n]}function G3(n){return O3[n]}function Q3(n){return D3[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Ol(n){return Bn.fromServerFormat(n.fieldPath)}function L2(n){return n instanceof hn?function(t){if(t.op==="=="){if(c_(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(l_(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c_(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(l_(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:G3(t.op),value:t.value}}}(n):n instanceof xs?function(t){const r=t.getFilters().map(a=>L2(a));return r.length===1?r[0]:{compositeFilter:{op:Q3(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function K3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function V2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,r,a,o=Xe.min(),c=Xe.min(),h=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.wt=e}}function X3(n){const e=q3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.yn=new Z3}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Da.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class Z3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new wn(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new wn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z2=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(z2,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new mc(0)}static ir(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",J3=1048576;function S_([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class eM{constructor(e){this.cr=e,this.buffer=new wn(S_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();S_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(T_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_c(t)?Ne(T_,"Ignoring IndexedDB error during garbage collection: ",t):await wc(t)}await this.Ir(3e5)})}}class nM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(mm.le);const r=new eM(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(E_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(p=Date.now(),Il()<=ft.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x})))}}function rM(n,e){return new nM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Gu(r.mutation,a,Vr.empty(),bn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mt()){const a=wo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=Lu();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,a){let o=ji();const c=$u(),h=function(){return $u()}();return t.forEach((f,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Fa)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Gu(y.mutation,p,y.mutation.getFieldMask(),bn.now())):c.set(p.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var x;return h.set(p,new iM(y,(x=c.get(p))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=$u();let a=new Xt((c,h)=>c-h),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Vr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const x=(a.get(h.batchId)||mt()).add(f);a=a.insert(h.batchId,x)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,x=b2();y.forEach(_=>{if(!o.has(_)){const E=A2(t.get(_),r.get(_));E!==null&&x.set(_,E),o=o.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(wo());let h=Ju,f=o;return c.next(p=>pe.forEach(p,(y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{f=f.insert(y,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,mt())).next(y=>({batchId:h,changes:x2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Lu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,f=>{const p=function(x,_){return new Uo(_,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((x,_)=>{c=c.insert(x,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Xn.newInvalidDocument(y)))});let h=Lu();return c.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Gu(y.mutation,p,Vr.empty(),bn.now()),bm(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ks(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:X3(a.bundledQuery),readTime:Ks(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.overlays=new Xt(Le.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=wo(),o=t.length+1,c=new Le(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Xt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=wo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=wo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return pe.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new A3(t,r));let o=this.Or.get(t);o===void 0&&(o=mt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Nr=new wn(Rn.Br),this.Lr=new wn(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=mt();return this.Lr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||st(e.Gr,t.Gr)}static kr(e,t){return st(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new wn(Rn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new N3(o,t,r,a);this.mutationQueue.push(c);for(const h of a)this.zr=this.zr.add(new Rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Fy:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],c=>{const h=this.jr(c.Gr);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(st);return t.forEach(a=>{const o=new Rn(a,0),c=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],h=>{r=r.add(h.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const c=new Rn(new Le(o),0);let h=new wn(st);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Gr)),!0)},c),pe.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){It(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.Zr=e,this.docs=function(){return new Xt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=ji();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=ji();const c=t.path,h=new Le(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Bj(Uj(y),r)<=0||(a.has(y.key)||bm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hM(this)}getSize(e){return pe.resolve(this.size)}}class hM extends sM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.persistence=e,this.ei=new Bo(t=>Hy(t),$y),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Zy,this.targetCount=0,this.ri=mc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new mc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.ii={},this.overlays={},this.si=new mm(0),this.oi=!1,this.oi=!0,this._i=new cM,this.referenceDelegate=e(this),this.ai=new fM(this),this.indexManager=new W3,this.remoteDocumentCache=function(a){return new dM(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Y3(t),this.ci=new oM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new uM(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const a=new mM(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class mM extends qj{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Ti=new Zy,this.Ii=null}static Ei(e){return new Jy(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Xe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class $f{constructor(e,t){this.persistence=e,this.Ri=new Bo(r=>Gj(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=rM(this,t)}static Ei(e,t){return new $f(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(h=>{h||(r++,o.removeEntry(c,Xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yf(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=mt(),a=mt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ev(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return h4()?8:Hj(Jn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new pM;return this.fs(e,t,c).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,c,h.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Il()<=ft.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",jl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Il()<=ft.DEBUG&&Ne("QueryEngine","Query:",jl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Il()<=ft.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",jl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(t))):pe.resolve())}Rs(e,t){if(f_(t))return pe.resolve(null);let r=Qs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ff(t,null,"F"),r=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=mt(...o);return this.As.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,c,f.readTime)?this.Rs(e,Ff(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,a){return f_(t)||a.isEqual(Xe.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const c=this.ps(t,o);return this.ys(t,c,r,a)?pe.resolve(null):(Il()<=ft.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jl(t)),this.ws(e,c,t,zj(a,Ju)).next(h=>h))})}ps(e,t){let r=new wn(y2(e));return t.forEach((a,o)=>{bm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Il()<=ft.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",jl(t)),this.As.getDocumentsMatchingQuery(e,t,Da.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LocalStore",yM=3e8;class vM{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Xt(st),this.Ds=new Bo(o=>Hy(o),$y),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function xM(n,e,t,r){return new vM(n,e,t,r)}async function B2(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let f=mt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:h}))})})}function bM(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const x=p.batch,_=x.keys();let E=pe.resolve();return _.forEach(S=>{E=E.next(()=>y.getEntry(f,S)).next(P=>{const C=p.docVersions.get(S);It(C!==null,48541),P.version.compareTo(C)<0&&(x.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),E.next(()=>h.mutationQueue.removeMutationBatch(f,x))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=mt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function F2(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function wM(n,e){const t=We(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,x)=>{const _=a.get(x);if(!_)return;h.push(t.ai.removeMatchingKeys(o,y.removedDocuments,x).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,x)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(Fn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),a=a.insert(x,E),function(P,C,A){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=yM?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(_,E,y)&&h.push(t.ai.updateTargetData(o,E))});let f=ji(),p=mt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(_M(o,c,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Xe.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(x=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return pe.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=a,o))}function _M(n,e,t){let r=mt(),a=mt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=ji();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ne(tv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:c,Os:a}})}function EM(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TM(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new _a(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function G0(n,e,t){const r=We(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!_c(c))throw c;Ne(tv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function N_(n,e,t){const r=We(n);let a=Xe.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,p,y){const x=We(f),_=x.Ds.get(y);return _!==void 0?pe.resolve(x.Ss.get(_)):x.ai.getTargetData(p,y)}(r,c,Qs(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Xe.min(),t?o:mt())).next(h=>(SM(r,d3(e),h),{documents:h,Ns:o})))}function SM(n,e,t){let r=n.vs.get(e)||Xe.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class A_{constructor(){this.activeTargetIds=y3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NM{constructor(){this.So=new A_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new A_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="ConnectivityMonitor";class R_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(C_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function Q0(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="RestConnection",CM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const c=Q0(),h=this.$o(e,t.toUriEncodedString());Ne(i0,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,h,f,r).then(p=>(Ne(i0,`Received RPC '${e}' ${c}: `,p),p),p=>{throw lc(i0,`RPC '${e}' ${c} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,a,o,c){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=CM[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class jM extends RM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Q0();return new Promise((c,h)=>{const f=new $T;f.setWithCredentials(!0),f.listenOnce(GT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case gf.NO_ERROR:const y=f.getResponseJson();Ne(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case gf.TIMEOUT:Ne(Qn,`RPC '${e}' ${o} timed out`),h(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const x=f.getStatus();if(Ne(Qn,`RPC '${e}' ${o} failed with status:`,x,"response text:",f.getResponseText()),x>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const S=function(C){const A=C.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(A)>=0?A:de.UNKNOWN}(E.status);h(new _e(S,E.message))}else h(new _e(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ne(Qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ne(Qn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Q0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YT(),h=KT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ne(Qn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=c.createWebChannel(y,f);let _=!1,E=!1;const S=new IM({Go:C=>{E?Ne(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(_||(Ne(Qn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),_=!0),Ne(Qn,`RPC '${e}' stream ${a} sending:`,C),x.send(C))},zo:()=>x.close()}),P=(C,A,T)=>{C.listen(A,b=>{try{T(b)}catch(O){setTimeout(()=>{throw O},0)}})};return P(x,ku.EventType.OPEN,()=>{E||(Ne(Qn,`RPC '${e}' stream ${a} transport opened.`),S.t_())}),P(x,ku.EventType.CLOSE,()=>{E||(E=!0,Ne(Qn,`RPC '${e}' stream ${a} transport closed`),S.r_())}),P(x,ku.EventType.ERROR,C=>{E||(E=!0,lc(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),S.r_(new _e(de.UNAVAILABLE,"The operation could not be completed")))}),P(x,ku.EventType.MESSAGE,C=>{var A;if(!E){const T=C.data[0];It(!!T,16349);const b=T,O=(b==null?void 0:b.error)||((A=b[0])===null||A===void 0?void 0:A.error);if(O){Ne(Qn,`RPC '${e}' stream ${a} received error:`,O);const z=O.status;let U=function(M){const D=dn[M];if(D!==void 0)return R2(D)}(z),V=O.message;U===void 0&&(U=de.INTERNAL,V="Unknown error status: "+z+" with message "+O.message),E=!0,S.r_(new _e(U,V)),x.close()}else Ne(Qn,`RPC '${e}' stream ${a} received:`,T),S.i_(T)}}),P(h,QT.STAT_EVENT,C=>{C.stat===P0.PROXY?Ne(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===P0.NOPROXY&&Ne(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function a0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){return new P3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class H2{constructor(e,t,r,a,o,c,h,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new q2(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MM extends H2{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=V3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Ks(c.readTime):Xe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=$0(this.serializer),t.addTarget=function(o,c){let h;const f=c.target;if(h=U0(f)?{documents:B3(o,f)}:{query:F3(o,f).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=M2(o,c.resumeToken);const p=F0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Hf(o,c.snapshotVersion.toTimestamp());const p=F0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=H3(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=$0(this.serializer),t.removeTarget=e,this.F_(t)}}class OM extends H2{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=U3(e.writeResults,e.commitTime),r=Ks(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=$0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>z3(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{}class PM extends DM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(e,q0(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(de.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,q0(t,r),a,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class kM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ii(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class LM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{r.enqueueAndForget(async()=>{Fo(this)&&(Ne(Do,"Restarting streams for network reachability change."),await async function(f){const p=We(f);p.aa.add(4),await Td(p),p.la.set("Unknown"),p.aa.delete(4),await Sm(p)}(this))})}),this.la=new kM(r,a)}}async function Sm(n){if(Fo(n))for(const e of n.ua)await e(!0)}async function Td(n){for(const e of n.ua)await e(!1)}function $2(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),iv(t)?sv(t):Ec(t).b_()&&rv(t,e))}function nv(n,e){const t=We(n),r=Ec(t);t._a.delete(e),r.b_()&&G2(t,e),t._a.size===0&&(r.b_()?r.v_():Fo(t)&&t.la.set("Unknown"))}function rv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ec(n).U_(e)}function G2(n,e){n.ha.Ke(e),Ec(n).K_(e)}function sv(n){n.ha=new j3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ec(n).start(),n.la.ta()}function iv(n){return Fo(n)&&!Ec(n).w_()&&n._a.size>0}function Fo(n){return We(n).aa.size===0}function Q2(n){n.ha=void 0}async function VM(n){n.la.set("Online")}async function zM(n){n._a.forEach((e,t)=>{rv(n,e)})}async function UM(n,e){Q2(n),iv(n)?(n.la.ia(e),sv(n)):n.la.set("Unknown")}async function BM(n,e,t){if(n.la.set("Online"),e instanceof j2&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(r){Ne(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gf(n,r)}else if(e instanceof bf?n.ha.Xe(e):e instanceof I2?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Xe.min()))try{const r=await F2(n.localStore);t.compareTo(r)>=0&&await function(o,c){const h=o.ha.It(c);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,p)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Fn.EMPTY_BYTE_STRING,y.snapshotVersion)),G2(o,f);const x=new _a(y.target,f,p,y.sequenceNumber);rv(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ne(Do,"Failed to raise snapshot:",r),await Gf(n,r)}}async function Gf(n,e,t){if(!_c(e))throw e;n.aa.add(1),await Td(n),n.la.set("Offline"),t||(t=()=>F2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(Do,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Sm(n)})}function K2(n,e){return e().catch(t=>Gf(n,t,e))}async function Nm(n){const e=We(n),t=Va(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Fy;for(;FM(e);)try{const a=await EM(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,qM(e,a)}catch(a){await Gf(e,a)}Y2(e)&&X2(e)}function FM(n){return Fo(n)&&n.oa.length<10}function qM(n,e){n.oa.push(e);const t=Va(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Y2(n){return Fo(n)&&!Va(n).w_()&&n.oa.length>0}function X2(n){Va(n).start()}async function HM(n){Va(n).H_()}async function $M(n){const e=Va(n);for(const t of n.oa)e.G_(t.mutations)}async function GM(n,e,t){const r=n.oa.shift(),a=Yy.from(r,e,t);await K2(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Nm(n)}async function QM(n,e){e&&Va(n).W_&&await async function(r,a){if(function(c){return R3(c)&&c!==de.ABORTED}(a.code)){const o=r.oa.shift();Va(r).D_(),await K2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Nm(r)}}(n,e),Y2(n)&&X2(n)}async function j_(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ne(Do,"RemoteStore received new credentials");const r=Fo(t);t.aa.add(3),await Td(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Sm(t)}async function KM(n,e){const t=We(n);e?(t.aa.delete(2),await Sm(t)):e||(t.aa.add(2),await Td(t),t.la.set("Unknown"))}function Ec(n){return n.Pa||(n.Pa=function(t,r,a){const o=We(t);return o.Y_(),new MM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:VM.bind(null,n),Jo:zM.bind(null,n),Zo:UM.bind(null,n),Q_:BM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),iv(n)?sv(n):n.la.set("Unknown")):(await n.Pa.stop(),Q2(n))})),n.Pa}function Va(n){return n.Ta||(n.Ta=function(t,r,a){const o=We(t);return o.Y_(),new OM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:HM.bind(null,n),Zo:QM.bind(null,n),z_:$M.bind(null,n),j_:GM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Nm(n)):(await n.Ta.stop(),n.oa.length>0&&(Ne(Do,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,h=new av(e,t,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),_c(n))return new _e(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Lu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Ia=new Xt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class pc{constructor(e,t,r,a,o,c,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new pc(e,t,Fl.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class XM{constructor(){this.queries=O_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=We(t),o=a.queries;a.queries=O_(),o.forEach((c,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function O_(){return new Bo(n=>g2(n),xm)}async function lv(n,e){const t=We(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new YM,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=ov(c,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&uv(t)}async function cv(n,e){const t=We(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Ra.indexOf(e);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function WM(n,e){const t=We(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Ra)h.pa(a)&&(r=!0);c.Aa=a}}r&&uv(t)}function ZM(n,e,t){const r=We(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function uv(n){n.fa.forEach(e=>{e.next()})}var K0,D_;(D_=K0||(K0={})).ya="default",D_.Cache="cache";class dv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class JM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=mt(),this.mutatedKeys=mt(),this.Ua=y2(e),this.Ka=new Fl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new M_,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,x)=>{const _=a.get(y),E=bm(this.query,x)?x:null,S=!!_&&this.mutatedKeys.has(_.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;_&&E?_.data.isEqual(E.data)?S!==P&&(r.track({type:3,doc:E}),C=!0):this.ja(_,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.Ua(E,f)>0||p&&this.Ua(E,p)<0)&&(h=!0)):!_&&E?(r.track({type:0,doc:E}),C=!0):_&&!E&&(r.track({type:1,doc:_}),C=!0,(f||p)&&(h=!0)),C&&(E?(c=c.add(E),o=P?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,x)=>function(E,S){const P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:C})}};return P(E)-P(S)}(y.type,x.type)||this.Ua(y.doc,x.doc)),this.Ha(r),a=a!=null&&a;const h=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,p=f!==this.Qa;return this.Qa=f,c.length!==0||p?{snapshot:new pc(this.query,e.Ka,o,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new M_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=mt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Z2(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new W2(r))}),t}Xa(e){this.qa=e.Ns,this.$a=mt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return pc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const hv="SyncEngine";class eO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tO{constructor(e){this.key=e,this.tu=!1}}class nO{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Bo(h=>g2(h),xm),this.iu=new Map,this.su=new Set,this.ou=new Xt(Le.comparator),this._u=new Map,this.au=new Zy,this.uu={},this.cu=new Map,this.lu=mc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function rO(n,e,t=!0){const r=sS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await J2(r,e,t,!0),a}async function sO(n,e){const t=sS(n);await J2(t,e,!0,!1)}async function J2(n,e,t,r){const a=await TM(n.localStore,Qs(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await iO(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&$2(n.remoteStore,a),h}async function iO(n,e,t,r,a){n.Pu=(x,_,E)=>async function(P,C,A,T){let b=C.view.Ga(A);b.ys&&(b=await N_(P.localStore,C.query,!1).then(({documents:V})=>C.view.Ga(V,b)));const O=T&&T.targetChanges.get(C.targetId),z=T&&T.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(b,P.isPrimaryClient,O,z);return k_(P,C.targetId,U.Ya),U.snapshot}(n,x,_,E);const o=await N_(n.localStore,e,!0),c=new JM(e,o.Ns),h=c.Ga(o.documents),f=Ed.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,f);k_(n,t,p.Ya);const y=new eO(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function aO(n,e,t){const r=We(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(c=>!xm(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await G0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&nv(r.remoteStore,a.targetId),Y0(r,a.targetId)}).catch(wc)):(Y0(r,a.targetId),await G0(r.localStore,a.targetId,!0))}async function oO(n,e){const t=We(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nv(t.remoteStore,r.targetId))}async function lO(n,e,t){const r=pO(n);try{const a=await function(c,h){const f=We(c),p=bn.now(),y=h.reduce((E,S)=>E.add(S.key),mt());let x,_;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=ji(),P=mt();return f.Cs.getEntries(E,y).next(C=>{S=C,S.forEach((A,T)=>{T.isValidDocument()||(P=P.add(A))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,S)).next(C=>{x=C;const A=[];for(const T of h){const b=T3(T,x.get(T.key).overlayedDocument);b!=null&&A.push(new Fa(T.key,b,c2(b.value.mapValue),rs.exists(!0)))}return f.mutationQueue.addMutationBatch(E,p,A,h)}).next(C=>{_=C;const A=C.applyToLocalDocumentSet(x,P);return f.documentOverlayCache.saveOverlays(E,C.batchId,A)})}).then(()=>({batchId:_.batchId,changes:x2(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let p=c.uu[c.currentUser.toKey()];p||(p=new Xt(st)),p=p.insert(h,f),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await Sd(r,a.changes),await Nm(r.remoteStore)}catch(a){const o=ov(a,"Failed to persist write");t.reject(o)}}async function eS(n,e){const t=We(n);try{const r=await wM(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t._u.get(o);c&&(It(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?It(c.tu,14607):a.removedDocuments.size>0&&(It(c.tu,42227),c.tu=!1))}),await Sd(t,r,e)}catch(r){await wc(r)}}function P_(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,c)=>{const h=c.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=We(c);f.onlineState=h;let p=!1;f.queries.forEach((y,x)=>{for(const _ of x.Ra)_.ga(h)&&(p=!0)}),p&&uv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cO(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let c=new Xt(Le.comparator);c=c.insert(o,Xn.newNoDocument(o,Xe.min()));const h=mt().add(o),f=new Em(Xe.min(),new Map,new Xt(st),c,h);await eS(r,f),r.ou=r.ou.remove(o),r._u.delete(e),fv(r)}else await G0(r.localStore,e,!1).then(()=>Y0(r,e,t)).catch(wc)}async function uO(n,e){const t=We(n),r=e.batch.batchId;try{const a=await bM(t.localStore,e);nS(t,r,null),tS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Sd(t,a)}catch(a){await wc(a)}}async function dO(n,e,t){const r=We(n);try{const a=await function(c,h){const f=We(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(x=>(It(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);nS(r,e,t),tS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Sd(r,a)}catch(a){await wc(a)}}function tS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function nS(n,e,t){const r=We(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Y0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||rS(n,r)})}function rS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(nv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),fv(n))}function k_(n,e,t){for(const r of t)r instanceof W2?(n.au.addReference(r.key,e),hO(n,r)):r instanceof Z2?(Ne(hv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||rS(n,r.key)):Ge(19791,{Iu:r})}function hO(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ne(hv,"New document in limbo: "+t),n.su.add(r),fv(n))}function fv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new tO(t)),n.ou=n.ou.insert(t,r),$2(n.remoteStore,new _a(Qs(vm(t.path)),r,"TargetPurposeLimboResolution",mm.le))}}async function Sd(n,e,t){const r=We(n),a=[],o=[],c=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{c.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const x=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){a.push(p);const x=ev.Ps(f.targetId,p);o.push(x)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(f,p){const y=We(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>pe.forEach(p,_=>pe.forEach(_.ls,E=>y.persistence.referenceDelegate.addReference(x,_.targetId,E)).next(()=>pe.forEach(_.hs,E=>y.persistence.referenceDelegate.removeReference(x,_.targetId,E)))))}catch(x){if(!_c(x))throw x;Ne(tv,"Failed to update sequence numbers: "+x)}for(const x of p){const _=x.targetId;if(!x.fromCache){const E=y.Ss.get(_),S=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(S);y.Ss=y.Ss.insert(_,P)}}}(r.localStore,o))}async function fO(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ne(hv,"User change. New user:",e.toKey());const r=await B2(t.localStore,e);t.currentUser=e,function(o,c){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new _e(de.CANCELLED,c))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sd(t,r.Ms)}}function mO(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return mt().add(r.key);{let a=mt();const o=t.iu.get(e);if(!o)return a;for(const c of o){const h=t.ru.get(c);a=a.unionWith(h.view.Wa)}return a}}function sS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cO.bind(null,e),e.nu.Q_=WM.bind(null,e.eventManager),e.nu.Tu=ZM.bind(null,e.eventManager),e}function pO(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return xM(this.persistence,new gM,e.initialUser,this.serializer)}Ru(e){return new U2(Jy.Ei,this.serializer)}Au(e){return new NM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class gO extends Qf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){It(this.persistence.referenceDelegate instanceof $f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tM(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new U2(r=>$f.Ei(r,t),this.serializer)}}class X0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fO.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XM}()}createDatastore(e){const t=Tm(e.databaseInfo.databaseId),r=function(o){return new jM(o)}(e.databaseInfo);return function(o,c,h,f){return new PM(o,c,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,h){return new LM(r,a,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>P_(this.syncEngine,t,0),function(){return R_.C()?new R_:new AM}())}createSyncEngine(e,t){return function(a,o,c,h,f,p,y){const x=new nO(a,o,c,h,f,p);return y&&(x.hu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=We(a);Ne(Do,"RemoteStore shutting down."),o.aa.add(5),await Td(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}X0.provider={build:()=>new X0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class yO{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=JT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ne(za,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ne(za,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ov(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o0(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(za,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await B2(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function L_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vO(n);Ne(za,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>j_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>j_(e.remoteStore,a)),n._onlineComponents=e}async function vO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(za,"Using user provided OfflineComponentProvider");try{await o0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;lc("Error using user provided cache. Falling back to memory cache: "+t),await o0(n,new Qf)}}else Ne(za,"Using default OfflineComponentProvider"),await o0(n,new gO(void 0));return n._offlineComponents}async function iS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(za,"Using user provided OnlineComponentProvider"),await L_(n,n._uninitializedComponentsProvider._online)):(Ne(za,"Using default OnlineComponentProvider"),await L_(n,new X0))),n._onlineComponents}function xO(n){return iS(n).then(e=>e.syncEngine)}async function Kf(n){const e=await iS(n),t=e.eventManager;return t.onListen=rO.bind(null,e.syncEngine),t.onUnlisten=aO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oO.bind(null,e.syncEngine),t}function bO(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,p){const y=new mv({next:_=>{y.yu(),c.enqueueAndForget(()=>cv(o,x));const E=_.docs.has(h);!E&&_.fromCache?p.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&f&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),x=new dv(vm(h.path),y,{includeMetadataChanges:!0,Fa:!0});return lv(o,x)}(await Kf(n),n.asyncQueue,e,t,r)),r.promise}function wO(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,p){const y=new mv({next:_=>{y.yu(),c.enqueueAndForget(()=>cv(o,x)),_.fromCache&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),x=new dv(h,y,{includeMetadataChanges:!0,Fa:!0});return lv(o,x)}(await Kf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n,e,t){if(!t)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _O(n,e,t,r){if(e===!0&&r===!0)throw new _e(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z_(n){if(!Le.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U_(n){if(Le.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Am(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Am(n);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function EO(n,e){if(e<=0)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firestore.googleapis.com",B_=!0;class F_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=B_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:B_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J3)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ij;switch(r.type){case"firstParty":return new Dj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=V_.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),V_.delete(t),r.terminate())}(this),Promise.resolve()}}function TO(n,e,t,r={}){var a;const o=(n=_r(n,Cm))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==lS&&o.host!==h&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Oa(f,c)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yn.MOCK_USER;else{p=i4(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(x)}n._authCredentials=new jj(new WT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa=class cS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cS(this.firestore,e,this._query)}};class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ia extends qa{constructor(e,t,r){super(e,t,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Le(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=fn(n),oS("collection","path",e),n instanceof Cm){const r=Bt.fromString(e,...t);return U_(r),new Ia(n,null,r)}{if(!(n instanceof Wn||n instanceof Ia))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return U_(r),new Ia(n.firestore,null,r)}}function bs(n,e,...t){if(n=fn(n),arguments.length===1&&(e=JT.newId()),oS("doc","path",e),n instanceof Cm){const r=Bt.fromString(e,...t);return z_(r),new Wn(n,null,new Le(r))}{if(!(n instanceof Wn||n instanceof Ia))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return z_(r),new Wn(n.firestore,n instanceof Ia?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new q2(this,"async_queue_retry"),this.ju=()=>{const r=a0();r&&Ne(q_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=a0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=a0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ci;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!_c(e))throw e;Ne(q_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ii("INTERNAL UNHANDLED ERROR: ",$_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=av.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:$_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function $_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Mi extends Cm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new H_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function SO(n,e){const t=typeof n=="object"?n:BT(),r=typeof n=="string"?n:zf,a=Uy(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=r4("firestore");o&&TO(a,...o)}return a}function Rm(n){if(n._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NO(n),n._firestoreClient}function NO(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,p,y){return new Yj(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,aS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new yO(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Fn.fromBase64String(e))}catch(t){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^__.*__$/;class CO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new _d(e,this.data,t,this.fieldTransforms)}}class uS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class jm{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Yf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(dS(this.oc)&&AO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class RO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Tm(e)}dc(e,t,r,a=!1){return new jm({oc:e,methodName:t,Ec:r,path:Bn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(n){const e=n._freezeSettings(),t=Tm(n._databaseId);return new RO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hS(n,e,t,r,a,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,e,t,a);xv("Data must be an object, but it was:",c,r);const h=mS(r,c);let f,p;if(o.merge)f=new Vr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const _=W0(e,x,t);if(!c.contains(_))throw new _e(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);gS(y,_)||y.push(_)}f=new Vr(y),p=c.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,p=c.fieldTransforms;return new CO(new wr(h),f,p)}class Mm extends Nd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mm}}function IO(n,e,t){return new jm({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yv extends Nd{_toFieldTransform(e){return new N2(e.path,new sd)}isEqual(e){return e instanceof yv}}class vv extends Nd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=IO(this,e,!0),r=this.Ac.map(o=>Tc(o,t)),a=new fc(r);return new N2(e.path,a)}isEqual(e){return e instanceof vv&&Oa(this.Ac,e.Ac)}}function jO(n,e,t,r){const a=n.dc(1,e,t);xv("Data must be an object, but it was:",a,r);const o=[],c=wr.empty();Ba(r,(f,p)=>{const y=bv(e,f,t);p=fn(p);const x=a.hc(y);if(p instanceof Mm)o.push(y);else{const _=Tc(p,x);_!=null&&(o.push(y),c.set(y,_))}});const h=new Vr(o);return new uS(c,h,a.fieldTransforms)}function MO(n,e,t,r,a,o){const c=n.dc(1,e,t),h=[W0(e,r,t)],f=[a];if(o.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(W0(e,o[_])),f.push(o[_+1]);const p=[],y=wr.empty();for(let _=h.length-1;_>=0;--_)if(!gS(p,h[_])){const E=h[_];let S=f[_];S=fn(S);const P=c.hc(E);if(S instanceof Mm)p.push(E);else{const C=Tc(S,P);C!=null&&(p.push(E),y.set(E,C))}}const x=new Vr(p);return new uS(y,x,c.fieldTransforms)}function fS(n,e,t,r=!1){return Tc(t,n.dc(r?4:3,e))}function Tc(n,e){if(pS(n=fn(n)))return xv("Unsupported field value:",e,n),mS(n,e);if(n instanceof Nd)return function(r,a){if(!dS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const h of r){let f=Tc(h,a.Pc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bn.fromDate(r);return{timestampValue:Hf(a.serializer,o)}}if(r instanceof bn){const o=new bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hf(a.serializer,o)}}if(r instanceof pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:M2(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof gv)return function(c,h){return{mapValue:{fields:{[o2]:{stringValue:l2},[Uf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Qy(h.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Am(r)}`)}(n,e)}function mS(n,e){const t={};return t2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,(r,a)=>{const o=Tc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function pS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof pv||n instanceof gc||n instanceof Wn||n instanceof Nd||n instanceof gv)}function xv(n,e,t){if(!pS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Am(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function W0(n,e,t){if((e=fn(e))instanceof Im)return e._internalPath;if(typeof e=="string")return bv(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const OO=new RegExp("[~\\*/\\[\\]]");function bv(n,e,t){if(e.search(OO)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Im(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new _e(de.INVALID_ARGUMENT,h+n+f)}function gS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Om("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DO extends wv{data(){return super.data()}}function Om(n,e){return typeof e=="string"?bv(n,e):e instanceof Im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class Dm extends _v{}function Zs(n,e,...t){let r=[];e instanceof _v&&r.push(e),r=r.concat(t),function(o){const c=o.filter(f=>f instanceof Ev).length,h=o.filter(f=>f instanceof Pm).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Pm extends Dm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pm(e,t,r)}_apply(e){const t=this._parse(e);return vS(e._query,t),new qa(e.firestore,e.converter,B0(e._query,t))}_parse(e){const t=Ad(e.firestore);return function(o,c,h,f,p,y,x){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){K_(x,y);const S=[];for(const P of x)S.push(Q_(f,o,P));_={arrayValue:{values:S}}}else _=Q_(f,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||K_(x,y),_=fS(h,c,x,y==="in"||y==="not-in");return hn.create(p,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ea(n,e,t){const r=e,a=Om("where",n);return Pm._create(a,r,t)}class Ev extends _v{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ev(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:xs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)vS(c,f),c=B0(c,f)}(e._query,t),new qa(e.firestore,e.converter,B0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tv extends Dm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tv(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rd(o,c)}(e._query,this._field,this._direction);return new qa(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new Uo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Z0(n,e="asc"){const t=e,r=Om("orderBy",n);return Tv._create(r,t)}class Sv extends Dm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Sv(e,t,r)}_apply(e){return new qa(e.firestore,e.converter,Ff(e._query,this._limit,this._limitType))}}function yc(n){return EO("limit",n),Sv._create("limit",n,"F")}class Nv extends Dm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Nv(e,t,r)}_apply(e){const t=PO(e,this.type,this._docOrFields,this._inclusive);return new qa(e.firestore,e.converter,function(a,o){return new Uo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function Av(...n){return Nv._create("startAfter",n,!1)}function PO(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof wv)return function(o,c,h,f,p){if(!f)throw new _e(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const x of Bl(o))if(x.field.isKeyField())y.push(Bf(c,f.key));else{const _=f.data.field(x.field);if(gm(_))throw new _e(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=x.field.canonicalString();throw new _e(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}y.push(_)}return new hc(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Ad(n.firestore);return function(c,h,f,p,y,x){const _=c.explicitOrderBy;if(y.length>_.length)throw new _e(de.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let S=0;S<y.length;S++){const P=y[S];if(_[S].field.isKeyField()){if(typeof P!="string")throw new _e(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!Gy(c)&&P.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const C=c.path.child(Bt.fromString(P));if(!Le.isDocumentKey(C))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const A=new Le(C);E.push(Bf(h,A))}else{const C=fS(f,p,P);E.push(C)}}return new hc(E,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function Q_(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gy(e)&&t.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bf(n,new Le(r))}if(t instanceof Wn)return Bf(n,t._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(t)}.`)}function K_(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vS(n,e){const t=function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kO{convertValue(e,t="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ba(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Uf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>rn(c.doubleValue));return new gv(o)}convertGeoPoint(e){return new pv(rn(e.latitude),rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ym(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const t=Pa(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);It(V2(r),9688,{name:e});const a=new td(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ii(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bS extends wv{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wf extends bS{data(e={}){return super.data(e)}}class wS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new zu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wf(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new wf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new wf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:LO(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n){n=_r(n,Wn);const e=_r(n.firestore,Mi);return bO(Rm(e),n._key).then(t=>ES(e,n,t))}class Cv extends kO{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function is(n){n=_r(n,qa);const e=_r(n.firestore,Mi),t=Rm(e),r=new Cv(e);return yS(n._query),wO(t,n._query).then(a=>new wS(e,r,n,a))}function Wf(n,e,t){n=_r(n,Wn);const r=_r(n.firestore,Mi),a=xS(n.converter,e,t);return Lm(r,[hS(Ad(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,rs.none())])}function km(n,e,t,...r){n=_r(n,Wn);const a=_r(n.firestore,Mi),o=Ad(a);let c;return c=typeof(e=fn(e))=="string"||e instanceof Im?MO(o,"updateDoc",n._key,e,t,r):jO(o,"updateDoc",n._key,e),Lm(a,[c.toMutation(n._key,rs.exists(!0))])}function _S(n){return Lm(_r(n.firestore,Mi),[new Ky(n._key,rs.none())])}function VO(n,e){const t=_r(n.firestore,Mi),r=bs(n),a=xS(n.converter,e);return Lm(t,[hS(Ad(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,rs.exists(!1))]).then(()=>r)}function zO(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||G_(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(G_(e[c])){const x=e[c];e[c]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[c+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[c+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let f,p,y;if(n instanceof Wn)p=_r(n.firestore,Mi),y=vm(n._key.path),f={next:x=>{e[c]&&e[c](ES(p,n,x))},error:e[c+1],complete:e[c+2]};else{const x=_r(n,qa);p=_r(x.firestore,Mi),y=x._query;const _=new Cv(p);f={next:E=>{e[c]&&e[c](new wS(p,_,x,E))},error:e[c+1],complete:e[c+2]},yS(n._query)}return function(_,E,S,P){const C=new mv(P),A=new dv(E,C,S);return _.asyncQueue.enqueueAndForget(async()=>lv(await Kf(_),A)),()=>{C.yu(),_.asyncQueue.enqueueAndForget(async()=>cv(await Kf(_),A))}}(Rm(p),y,h,f)}function Lm(n,e){return function(r,a){const o=new Ci;return r.asyncQueue.enqueueAndForget(async()=>lO(await xO(r),a,o)),o.promise}(Rm(n),e)}function ES(n,e,t){const r=t.docs.get(e._key),a=new Cv(n);return new bS(n,a,e._key,r,new zu(t.hasPendingWrites,t.fromCache),e.converter)}function UO(){return new yv("serverTimestamp")}function BO(...n){return new vv("arrayUnion",n)}(function(e,t=!0){(function(a){bc=a})(xc),oc(new Mo("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Mi(new Mj(r.getProvider("auth-internal")),new Pj(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(p.options.projectId,y)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ca(Xw,Ww,e),Ca(Xw,Ww,"esm2017")})();var FO="firebase",qO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca(FO,qO,"app");function Rv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HO=TS,SS=new bd("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Vy("@firebase/auth");function $O(n,...e){Zf.logLevel<=ft.WARN&&Zf.warn(`Auth (${xc}): ${n}`,...e)}function _f(n,...e){Zf.logLevel<=ft.ERROR&&Zf.error(`Auth (${xc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,...e){throw Iv(n,...e)}function Ys(n,...e){return Iv(n,...e)}function NS(n,e,t){const r=Object.assign(Object.assign({},HO()),{[e]:t});return new bd("auth","Firebase",r).create(e,{appName:n.name})}function ja(n){return NS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return SS.create(n,...e)}function $e(n,e,...t){if(!n)throw Iv(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function Oi(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GO(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||c4()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=a4()||u4()}get(){return QO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WO=new Cd(3e4,6e4);function qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ha(n,e,t,r,a={}){return CS(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=wd(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return l4()||(p.referrerPolicy="no-referrer"),AS.fetch()(await RS(n,n.config.apiHost,t,h),p)})}async function CS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),e);try{const a=new JO(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw sf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw sf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw sf(n,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw NS(n,y,p);ws(n,y)}}catch(a){if(a instanceof Pi)throw a;ws(n,"network-request-failed",{message:String(a)})}}async function Vm(n,e,t,r,a={}){const o=await Ha(n,e,t,r,a);return"mfaPendingCredential"in o&&ws(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function RS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?jv(n.config,a):`${n.config.apiScheme}://${a}`;return XO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function ZO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),WO.get())})}}function sf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ys(n,e,r);return a.customData._tokenResponse=t,a}function X_(n){return n!==void 0&&n.enterprise!==void 0}class eD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tD(n,e){return Ha(n,"GET","/v2/recaptchaConfig",qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e){return Ha(n,"POST","/v1/accounts:delete",e)}async function Jf(n,e){return Ha(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=Mv(r);$e(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Qu(l0(a.auth_time)),issuedAtTime:Qu(l0(a.iat)),expirationTime:Qu(l0(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function l0(n){return Number(n)*1e3}function Mv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=DT(t);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function W_(n){const e=Mv(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Pi&&sD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(n){var e;const t=n.auth,r=await n.getIdToken(),a=await ad(n,Jf(t,{idToken:r}));$e(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IS(o.providerUserInfo):[],h=oD(n.providerData,c),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ey(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function aD(n){const e=fn(n);await em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oD(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function IS(n){return n.map(e=>{var{providerId:t}=e,r=Rv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e){const t=await CS(n,{},async()=>{const r=wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await RS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",AS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cD(n,e){return Ha(n,"POST","/v2/accounts:revokeToken",qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=W_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await lD(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new ql;return r&&($e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&($e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&($e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=Rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ey(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ad(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rD(this,e)}reload(){return aD(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await ad(this,nD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,c,h,f,p,y;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,A=(p=t.createdAt)!==null&&p!==void 0?p:void 0,T=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:b,emailVerified:O,isAnonymous:z,providerData:U,stsTokenManager:V}=t;$e(b&&V,e,"internal-error");const j=ql.fromJSON(this.name,V);$e(typeof b=="string",e,"internal-error"),aa(x,e.name),aa(_,e.name),$e(typeof O=="boolean",e,"internal-error"),$e(typeof z=="boolean",e,"internal-error"),aa(E,e.name),aa(S,e.name),aa(P,e.name),aa(C,e.name),aa(A,e.name),aa(T,e.name);const M=new gs({uid:b,auth:e,email:_,emailVerified:O,displayName:x,isAnonymous:z,photoURL:S,phoneNumber:E,tenantId:P,stsTokenManager:j,createdAt:A,lastLoginAt:T});return U&&Array.isArray(U)&&(M.providerData=U.map(D=>Object.assign({},D))),C&&(M._redirectEventId=C),M}static async _fromIdTokenResponse(e,t,r=!1){const a=new ql;a.updateFromServerResponse(t);const o=new gs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await em(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];$e(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?IS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new ql;h.updateFromIdToken(r);const f=new gs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function Ai(n){Oi(n instanceof Function,"Expected a class definition");let e=Z_.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jS.type="NONE";const J_=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n,e,t){return`firebase:${n}:${e}:${t}`}class Hl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ef("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jf(this.auth,{idToken:e}).catch(()=>{});return t?gs._fromGetAccountInfoResponse(this.auth,t,e):null}return gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hl(Ai(J_),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ai(J_);const c=Ef(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){let x;if(typeof y=="string"){const _=await Jf(e,{idToken:y}).catch(()=>{});if(!_)break;x=await gs._fromGetAccountInfoResponse(e,_,y)}else x=gs._fromJSON(e,y);p!==o&&(h=x),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Hl(o,e,r):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LS(e))return"Blackberry";if(VS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||DS(e))&&!e.includes("edge/"))return"Chrome";if(kS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(n=Jn()){return/firefox\//i.test(n)}function OS(n=Jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DS(n=Jn()){return/crios\//i.test(n)}function PS(n=Jn()){return/iemobile/i.test(n)}function kS(n=Jn()){return/android/i.test(n)}function LS(n=Jn()){return/blackberry/i.test(n)}function VS(n=Jn()){return/webos/i.test(n)}function Ov(n=Jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uD(n=Jn()){var e;return Ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dD(){return d4()&&document.documentMode===10}function zS(n=Jn()){return Ov(n)||kS(n)||VS(n)||LS(n)||/windows phone/i.test(n)||PS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,e=[]){let t;switch(n){case"Browser":t=eE(Jn());break;case"Worker":t=`${eE(Jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e={}){return Ha(n,"GET","/v2/passwordPolicy",qo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=6;class pD{constructor(e){var t,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:mD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new hD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jf(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ps(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await em(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(ja(this));const t=e?fn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),t=new pD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$O(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sc(n){return fn(n)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=x4(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yD(n){zm=n}function BS(n){return zm.loadJS(n)}function vD(){return zm.recaptchaEnterpriseScript}function xD(){return zm.gapiScript}function bD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _D{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ED="recaptcha-enterprise",FS="NO_RECAPTCHA";class TD{constructor(e){this.type=ED,this.auth=Sc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{tD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new eD(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;X_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(FS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!t&&X_(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vD();f.length!==0&&(f+=h),BS(f).then(()=>{a(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function nE(n,e,t,r=!1,a=!1){const o=new TD(n);let c;if(a)c=FS;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function rE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await nE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await nE(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,e){const t=Uy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Oa(o,e??{}))return a;ws(a,"already-initialized")}return t.initialize({options:e})}function ND(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AD(n,e,t){const r=Sc(n);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=qS(e),{host:c,port:h}=CD(e),f=h===null?"":`:${h}`,p={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Oa(p,r.config.emulator)&&Oa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,RD()}function qS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CD(n){const e=qS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:sE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:sE(c)}}}function sE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function ID(n,e){return Ha(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){return Vm(n,"POST","/v1/accounts:signInWithPassword",qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e){return Vm(n,"POST","/v1/accounts:signInWithEmailLink",qo(n,e))}async function OD(n,e){return Vm(n,"POST","/v1/accounts:signInWithEmailLink",qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Dv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new od(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new od(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,t,"signInWithPassword",jD);case"emailLink":return MD(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,r,"signUpPassword",ID);case"emailLink":return OD(e,{idToken:t,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n,e){return Vm(n,"POST","/v1/accounts:signInWithIdp",qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="http://localhost";class Po extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ws("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=Rv(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Po(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $l(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$l(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$l(e,t)}buildRequest(){const e={requestUri:DD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(n){const e=Du(Pu(n)).link,t=e?Du(Pu(e)).deep_link_id:null,r=Du(Pu(n)).deep_link_id;return(r?Du(Pu(r)).link:null)||r||t||e||n}class Pv{constructor(e){var t,r,a,o,c,h;const f=Du(Pu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,x=PD((a=f.mode)!==null&&a!==void 0?a:null);$e(p&&y&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=kD(e);try{return new Pv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,t){return od._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Pv.parseLink(t);return $e(r,"argument-error"),od._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends HS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Rd{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ua.credential(e.oauthAccessToken)}catch{return null}}}ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";ua.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return da.credential(t,r)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Rd{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Rd{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return fa.credential(t,r)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await gs._fromIdTokenResponse(e,r,a),c=iE(r);return new vc({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=iE(r);return new vc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function iE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends Pi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new tm(e,t,r,a)}}function $S(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(n,o,e,r):o})}async function LD(n,e,t=!1){const r=await ad(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e,t=!1){const{auth:r}=n;if(ps(r.app))return Promise.reject(ja(r));const a="reauthenticate";try{const o=await ad(n,$S(r,a,e,n),t);$e(o.idToken,r,"internal-error");const c=Mv(o.idToken);$e(c,r,"internal-error");const{sub:h}=c;return $e(n.uid===h,r,"user-mismatch"),vc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ws(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(n,e,t=!1){if(ps(n.app))return Promise.reject(ja(n));const r="signIn",a=await $S(n,r,e),o=await vc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function zD(n,e){return GS(Sc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n){const e=Sc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function BD(n,e,t){return ps(n.app)?Promise.reject(ja(n)):zD(fn(n),Nc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UD(n),r})}function FD(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function qD(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function HD(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function $D(n){return fn(n).signOut()}const nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nm,"1"),this.storage.removeItem(nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1e3,QD=10;class KS extends QS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);dD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const KD=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends QS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YS.type="SESSION";const XS=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,o)),f=await YD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const p=kv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(x){const _=x;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function WD(n){Xs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function ZD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eP(){return WS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebaseLocalStorageDb",tP=1,rm="firebaseLocalStorage",JS="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bm(n,e){return n.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function nP(){const n=indexedDB.deleteDatabase(ZS);return new Id(n).toPromise()}function ty(){const n=indexedDB.open(ZS,tP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rm,{keyPath:JS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rm)?e(r):(r.close(),await nP(),e(await ty()))})})}async function aE(n,e,t){const r=Bm(n,!0).put({[JS]:e,value:t});return new Id(r).toPromise()}async function rP(n,e){const t=Bm(n,!1).get(e),r=await new Id(t).toPromise();return r===void 0?null:r.value}function oE(n,e){const t=Bm(n,!0).delete(e);return new Id(t).toPromise()}const sP=800,iP=3;class eN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>iP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(eP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ZD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await aE(e,nm,"1"),await oE(e,nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>rP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Bm(a,!1).getAll();return new Id(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eN.type="LOCAL";const aP=eN;new Cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n,e){return e?Ai(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $l(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lP(n){return GS(n.auth,new Lv(n),n.bypassAuthState)}function cP(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),VD(t,new Lv(n),n.bypassAuthState)}async function uP(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),LD(t,new Lv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lP;case"linkViaPopup":case"linkViaRedirect":return uP;case"reauthViaPopup":case"reauthViaRedirect":return cP;default:ws(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Cd(2e3,1e4);class Ll extends tN{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ll.currentPopupAction&&Ll.currentPopupAction.cancel(),Ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dP.get())};e()}}Ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="pendingRedirect",Tf=new Map;class fP extends tN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await mP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mP(n,e){const t=yP(e),r=gP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function pP(n,e){Tf.set(n._key(),e)}function gP(n){return Ai(n._redirectPersistence)}function yP(n){return Ef(hP,n.config.apiKey,n.name)}async function vP(n,e,t=!1){if(ps(n.app))return Promise.reject(ja(n));const r=Sc(n),a=oP(r,e),c=await new fP(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=10*60*1e3;class bP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nN(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ys(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xP&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e={}){return Ha(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TP=/^https?/;async function SP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _P(n);for(const t of e)try{if(NP(t))return}catch{}ws(n,"unauthorized-domain")}function NP(n){const e=J0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!TP.test(t))return!1;if(EP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Cd(3e4,6e4);function cE(){const n=Xs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CP(n){return new Promise((e,t)=>{var r,a,o;function c(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),t(Ys(n,"network-request-failed"))},timeout:AP.get()})}if(!((a=(r=Xs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Xs().gapi)===null||o===void 0)&&o.load)c();else{const h=bD("iframefcb");return Xs()[h]=()=>{gapi.load?c():t(Ys(n,"network-request-failed"))},BS(`${xD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Sf=null,e})}let Sf=null;function RP(n){return Sf=Sf||CP(n),Sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Cd(5e3,15e3),jP="__/auth/iframe",MP="emulator/auth/iframe",OP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PP(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jv(e,MP):`https://${n.config.authDomain}/${jP}`,r={apiKey:e.apiKey,appName:n.name,v:xc},a=DP.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wd(r).slice(1)}`}async function kP(n){const e=await RP(n),t=Xs().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:PP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OP,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ys(n,"network-request-failed"),h=Xs().setTimeout(()=>{o(c)},IP.get());function f(){Xs().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VP=500,zP=600,UP="_blank",BP="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FP(n,e,t,r=VP,a=zP){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},LP),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Jn().toLowerCase();t&&(h=DS(p)?UP:t),MS(p)&&(e=e||BP,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[E,S])=>`${_}${E}=${S},`,"");if(uD(p)&&h!=="_self")return qP(e||"",h),new uE(null);const x=window.open(e||"",h,y);$e(x,n,"popup-blocked");try{x.focus()}catch{}return new uE(x)}function qP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="__/auth/handler",$P="emulator/auth/handler",GP=encodeURIComponent("fac");async function dE(n,e,t,r,a,o){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xc,eventId:a};if(e instanceof HS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",v4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))c[y]=x}if(e instanceof Rd){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${GP}=${encodeURIComponent(f)}`:"";return`${QP(n)}?${wd(h).slice(1)}${p}`}function QP({config:n}){return n.emulator?jv(n,$P):`https://${n.authDomain}/${HP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="webStorageSupport";class KP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=vP,this._overrideRedirectResult=pP}async _openPopup(e,t,r,a){var o;Oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await dE(e,t,r,J0(),a);return FP(e,c,kv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await dE(e,t,r,J0(),a);return WD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Oi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await kP(e),r=new bP(e);return t.register("authEvent",a=>($e(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c0,{type:c0},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[c0];c!==void 0&&t(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zS()||OS()||Ov()}}const YP=KP;var hE="@firebase/auth",fE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZP(n){oc(new Mo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(n)},p=new gD(r,a,o,f);return ND(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oc(new Mo("auth-internal",e=>{const t=Sc(e.getProvider("auth").getImmediate());return(r=>new XP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ca(hE,fE,WP(n)),Ca(hE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=5*60,ek=LT("authIdTokenMaxAge")||JP;let mE=null;const tk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ek)return;const a=t==null?void 0:t.token;mE!==a&&(mE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nk(n=BT()){const e=Uy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SD(n,{popupRedirectResolver:YP,persistence:[aP,KD,XS]}),r=LT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=tk(o.toString());qD(t,c,()=>c(t.currentUser)),FD(t,h=>c(h))}}const a=PT("auth");return a&&AD(t,`http://${a}`),t}function rk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}yD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Ys("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",rk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZP("Browser");const sk={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},ik=UT(sk),u0=nk(),Ft=SO(ik),ak=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await is(Zn(Ft,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),d.jsxs("div",{className:"w-[100%] md:w-[80%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[d.jsxs("div",{className:"shrink-0 whitespace-nowrap text-[16px] md:text-[18px]",children:[" ",d.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})]}),d.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:d.jsx(RT,{children:n.map((t,r)=>d.jsx("span",{className:"mx-4",children:t},r))})}),d.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 shrink-0 text-[20px] md:text-[24px]",children:[" ",d.jsx("a",{href:"",children:d.jsx(GI,{})}),d.jsx("a",{href:"",children:d.jsx(KI,{})}),d.jsx("a",{href:"",children:d.jsx(QI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),pE=n=>{const e=lk(n);return e.charAt(0).toUpperCase()+e.slice(1)},rN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),ck=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},f)=>q.createElement("svg",{ref:f,...uk,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:rN("lucide",a),...!o&&!ck(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(dk,{ref:o,iconNode:e,className:rN(`lucide-${ok(pE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=pE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dl=_n("chevron-down",hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Pl=_n("chevron-up",fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Cl=_n("clock",mk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gk=_n("credit-card",pk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],vk=_n("facebook",yk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],bk=_n("house",xk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],_k=_n("instagram",wk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Tk=_n("list",Ek);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gE=_n("mail",Sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yE=_n("map-pin",Nk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Ck=_n("menu",Ak);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ik=_n("minus",Rk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Mk=_n("package",jk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Nf=_n("phone",Ok);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pk=_n("plus",Dk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vE=_n("search",kk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Af=_n("shopping-cart",Lk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],zk=_n("twitter",Vk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ku=_n("x",Uk),xE="/assets/Screenshot_4-Photoroom-removebg-preview-DZTFVgoJ.png",Bk=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=q.useState(t);q.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},c=()=>r.reduce((p,y)=>{const x=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(x)*y.quantity},0),h=p=>{const y=r.filter(x=>x.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},f=(p,y)=>{const x=r.map(_=>{if(_.id===p){const E=_.quantity+y;return{..._,quantity:E>0?E:1}}return _});a(x),localStorage.setItem("cart",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:x}))};return d.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:d.jsx("div",{className:"w-screen max-w-md",children:d.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[d.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Ku,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?d.jsxs("div",{className:"text-center mt-12",children:[d.jsx(Af,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-6",children:d.jsx(ot,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):d.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var _,E;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),x=Math.floor(y)*p.quantity;return d.jsxs("li",{className:"py-6 flex gap-4",children:[d.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:d.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[d.jsx("h3",{children:p.name}),d.jsxs("p",{children:["৳",o(x)]})]}),((_=p.color)==null?void 0:_.name)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:p.color.name})]}),((E=p.size)==null?void 0:E.size)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:p.size.size})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>f(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(Ik,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm",children:p.quantity}),d.jsx("button",{onClick:()=>f(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(Pk,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-500",children:d.jsx(Ku,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&d.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("p",{children:"Subtotal"}),d.jsxs("p",{children:["৳",o(c())]})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),d.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[d.jsx(ot,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),d.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},Fk=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[c,h]=q.useState([]),[f,p]=q.useState(!0),[y,x]=q.useState(0),[_,E]=q.useState(!1),[S,P]=q.useState([]),[C,A]=q.useState(""),[T,b]=q.useState([]),[O,z]=q.useState([]),[U,V]=q.useState(!1);q.useEffect(()=>{const R=async()=>{try{const oe=Zs(Zn(Ft,"menu-categories"),Z0("order")),$=await is(oe),se=[];$.forEach(ae=>{se.push({id:ae.id,...ae.data()})}),h(se),p(!1)}catch(oe){console.error("Error fetching menu items:",oe),p(!1)}},J=async()=>{try{const oe=Zn(Ft,"products"),$=Zs(oe),se=await is($),ae=[];se.forEach(xe=>{ae.push({id:xe.id,...xe.data()})}),z(ae)}catch(oe){console.error("Error fetching products:",oe)}};R(),J()},[]),q.useEffect(()=>{const R=()=>{const J=JSON.parse(localStorage.getItem("cart"))||[],oe=J.reduce(($,se)=>$+se.quantity,0);x(oe),P(J)};return R(),window.addEventListener("storage",R),window.addEventListener("cartUpdated",R),()=>{window.removeEventListener("storage",R),window.removeEventListener("cartUpdated",R)}},[]),q.useEffect(()=>{if(C.trim()===""){b([]);return}const R=C.toLowerCase(),J=O.filter(oe=>{const $=oe.id.toLowerCase().includes(R),se=oe.tags&&oe.tags.some(ae=>ae.toLowerCase().includes(R));return $||se});b(J.slice(0,5))},[C,O]);const j=R=>{o(J=>J===R?null:R)},M=()=>{e(!0)},D=R=>{A(R.target.value)},k=R=>{R.preventDefault(),T.length>0&&(window.location.href=`/product/${T[0].id}`)},L=()=>{V(!U),A(""),b([])};return f?d.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[U&&d.jsx("div",{className:"md:hidden bg-white p-3 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsxs("form",{onSubmit:k,className:"flex items-center",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",value:C,onChange:D,autoFocus:!0}),d.jsx("button",{type:"button",onClick:L,className:"ml-2 text-gray-500 hover:text-gray-700",children:d.jsx(Ku,{size:24})})]}),T.length>0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md",children:T.map(R=>d.jsx(ot,{to:`/product/${R.id}`,className:"block px-4 py-2 hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>{V(!1),A("")},children:R.id},R.id))}),C&&T.length===0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md px-4 py-2 text-gray-500",children:"No products found"})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsx(ot,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),c.map(R=>R.type==="dropdown"?d.jsxs("div",{className:"group relative",children:[d.jsx(ot,{to:`/category/${R.id}`,className:"text-gray-700 hover:text-black capitalize",children:R.id}),d.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:R.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},R.id):d.jsx(ot,{to:R.path,className:"text-gray-700 hover:text-black capitalize",children:R.id},R.id))]}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(ot,{to:"/",children:d.jsx("img",{src:xE,alt:"Brand Logo",className:"h-[80px] w-auto"})})}),d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(ot,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),d.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:c.filter(R=>R.type==="dropdown").map(R=>d.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:R.id}),d.jsx("div",{className:"space-y-1",children:R.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},R.id))})]}),d.jsx(ot,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),d.jsxs("button",{onClick:()=>E(!0),className:"text-gray-700 hover:text-black relative",children:[d.jsx(Af,{size:20}),y>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:d.jsx(vE,{size:20})}),t&&d.jsxs("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded w-64",children:[d.jsx("form",{onSubmit:k,children:d.jsx("input",{type:"text",placeholder:"Search products...",className:"px-2 py-1 border border-gray-300 rounded w-full focus:outline-none",value:C,onChange:D,autoFocus:!0})}),T.length>0&&d.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:T.map(R=>d.jsx(ot,{to:`/product/${R.id}`,className:"block px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>{r(!1),A("")},children:R.id},R.id))}),C&&T.length===0&&d.jsx("div",{className:"mt-2 text-sm text-gray-500 px-2 py-1",children:"No products found"})]})]})]})]}),d.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:()=>{e(!n),V(!1)},children:n?d.jsx(Ku,{size:24}):d.jsx(Ck,{size:24})})}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(ot,{to:"/",children:d.jsx("img",{src:xE,alt:"Brand Logo",className:"h-[70px] w-auto"})})}),d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:L,className:"text-gray-700 hover:text-black",children:U?d.jsx(Ku,{size:24}):d.jsx(vE,{size:24})})})]})]}),n&&!U&&d.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[d.jsx(ot,{to:"/",className:"block font-semibold",children:"Home"}),c.map(R=>R.type==="dropdown"?d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>j(R.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[R.id,a===R.id?d.jsx(Pl,{size:18}):d.jsx(Dl,{size:18})]}),a===R.id&&d.jsx("div",{className:"ml-4 mt-2 space-y-1",children:R.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block capitalize",children:J.name},J.path))})]},R.id):d.jsx(ot,{to:R.path,className:"block font-semibold capitalize",children:R.id},R.id)),d.jsx(ot,{to:"/cart",className:"block font-semibold",children:"Orders"}),d.jsxs("button",{onClick:()=>{e(!1),E(!0)},className:"flex items-center space-x-2 relative",children:[d.jsx(Af,{size:20}),d.jsx("span",{children:"Cart"}),y>0&&d.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]})]})]}),!U&&d.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:d.jsxs("div",{className:"flex justify-around items-center h-16",children:[d.jsxs(ot,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(bk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),d.jsxs("button",{onClick:M,className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(Tk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),d.jsxs(ot,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(Mk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),d.jsxs("button",{onClick:()=>E(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[d.jsx(Af,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&d.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),d.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(Nf,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),d.jsx(Bk,{isOpen:_,onClose:()=>E(!1),cartItems:S})]})},qk=()=>d.jsx("div",{children:d.jsx("div",{children:d.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:d.jsx(RT,{children:"hnbkjbndsfh;kln"})})})});var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ko=typeof window>"u"||"Deno"in globalThis;function br(){}function Hk(n,e){return typeof n=="function"?n(e):n}function ny(n){return typeof n=="number"&&n>=0&&n!==1/0}function sN(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Gl(n,e){return typeof n=="function"?n(e):n}function ms(n,e){return typeof n=="function"?n(e):n}function bE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=n;if(c){if(r){if(e.queryHash!==Vv(c,e.options))return!1}else if(!cd(e.queryKey,c))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function wE(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(ld(e.options.mutationKey)!==ld(o))return!1}else if(!cd(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Vv(n,e){return((e==null?void 0:e.queryKeyHashFn)||ld)(n)}function ld(n){return JSON.stringify(n,(e,t)=>sy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function cd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>cd(n[t],e[t])):!1}function iN(n,e){if(n===e)return n;const t=_E(n)&&_E(e);if(t||sy(n)&&sy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),c=o.length,h=t?[]:{};let f=0;for(let p=0;p<c;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,f++):(h[y]=iN(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&f++)}return a===c&&f===a?n:h}return e}function ry(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function _E(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function sy(n){if(!EE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!EE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function EE(n){return Object.prototype.toString.call(n)==="[object Object]"}function $k(n){return new Promise(e=>{setTimeout(e,n)})}function iy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?iN(n,e):e}function Gk(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Qk(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var zv=Symbol();function aN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===zv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Kk(n,e){return typeof n=="function"?n(...e):!!n}var _o,ma,Kl,KE,Yk=(KE=class extends jd{constructor(){super();Ke(this,_o);Ke(this,ma);Ke(this,Kl);Ie(this,Kl,e=>{if(!ko&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ma)||this.setEventListener(Y(this,Kl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ma))==null||e.call(this),Ie(this,ma,void 0))}setEventListener(e){var t;Ie(this,Kl,e),(t=Y(this,ma))==null||t.call(this),Ie(this,ma,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,_o)!==e&&(Ie(this,_o,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,_o)=="boolean"?Y(this,_o):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_o=new WeakMap,ma=new WeakMap,Kl=new WeakMap,KE),Uv=new Yk,Yl,pa,Xl,YE,Xk=(YE=class extends jd{constructor(){super();Ke(this,Yl,!0);Ke(this,pa);Ke(this,Xl);Ie(this,Xl,e=>{if(!ko&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,pa)||this.setEventListener(Y(this,Xl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,pa))==null||e.call(this),Ie(this,pa,void 0))}setEventListener(e){var t;Ie(this,Xl,e),(t=Y(this,pa))==null||t.call(this),Ie(this,pa,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Yl)!==e&&(Ie(this,Yl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Yl)}},Yl=new WeakMap,pa=new WeakMap,Xl=new WeakMap,YE),sm=new Xk;function ay(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Wk(n){return Math.min(1e3*2**n,3e4)}function oN(n){return(n??"online")==="online"?sm.isOnline():!0}var lN=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function d0(n){return n instanceof lN}function cN(n){let e=!1,t=0,r=!1,a;const o=ay(),c=P=>{var C;r||(_(new lN(P)),(C=n.abort)==null||C.call(n))},h=()=>{e=!0},f=()=>{e=!1},p=()=>Uv.isFocused()&&(n.networkMode==="always"||sm.isOnline())&&n.canRun(),y=()=>oN(n.networkMode)&&n.canRun(),x=P=>{var C;r||(r=!0,(C=n.onSuccess)==null||C.call(n,P),a==null||a(),o.resolve(P))},_=P=>{var C;r||(r=!0,(C=n.onError)==null||C.call(n,P),a==null||a(),o.reject(P))},E=()=>new Promise(P=>{var C;a=A=>{(r||p())&&P(A)},(C=n.onPause)==null||C.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),S=()=>{if(r)return;let P;const C=t===0?n.initialPromise:void 0;try{P=C??n.fn()}catch(A){P=Promise.reject(A)}Promise.resolve(P).then(x).catch(A=>{var U;if(r)return;const T=n.retry??(ko?0:3),b=n.retryDelay??Wk,O=typeof b=="function"?b(t,A):b,z=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,A);if(e||!z){_(A);return}t++,(U=n.onFail)==null||U.call(n,t,A),$k(O).then(()=>p()?void 0:E()).then(()=>{e?_(A):S()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:h,continueRetry:f,canStart:y,start:()=>(y()?S():E().then(S),o)}}var Zk=n=>setTimeout(n,0);function Jk(){let n=[],e=0,t=h=>{h()},r=h=>{h()},a=Zk;const o=h=>{e?n.push(h):a(()=>{t(h)})},c=()=>{const h=n;n=[],h.length&&a(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||c()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Un=Jk(),Eo,XE,uN=(XE=class{constructor(){Ke(this,Eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ny(this.gcTime)&&Ie(this,Eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ko?1/0:5*60*1e3))}clearGcTimeout(){Y(this,Eo)&&(clearTimeout(Y(this,Eo)),Ie(this,Eo,void 0))}},Eo=new WeakMap,XE),Wl,Zl,ts,To,Kn,dd,So,hs,Ei,WE,e5=(WE=class extends uN{constructor(e){super();Ke(this,hs);Ke(this,Wl);Ke(this,Zl);Ke(this,ts);Ke(this,To);Ke(this,Kn);Ke(this,dd);Ke(this,So);Ie(this,So,!1),Ie(this,dd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,To,e.client),Ie(this,ts,Y(this,To).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Wl,t5(this.options)),this.state=e.state??Y(this,Wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,dd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,ts).remove(this)}setData(e,t){const r=iy(this.state.data,e,this.options);return yt(this,hs,Ei).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){yt(this,hs,Ei).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Kn))==null?void 0:r.promise;return(a=Y(this,Kn))==null||a.cancel(e),t?t.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Wl))}isActive(){return this.observers.some(e=>ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!sN(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,ts).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Kn)&&(Y(this,So)?Y(this,Kn).cancel({revert:!0}):Y(this,Kn).cancelRetry()),this.scheduleGc()),Y(this,ts).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,hs,Ei).call(this,{type:"invalidate"})}fetch(e,t){var f,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Kn))return Y(this,Kn).continueRetry(),Y(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Ie(this,So,!0),r.signal)})},o=()=>{const x=aN(this.options,t),_={client:Y(this,To),queryKey:this.queryKey,meta:this.meta};return a(_),Ie(this,So,!1),this.options.persister?this.options.persister(x,_,this):x(_)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,To),state:this.state,fetchFn:o};a(c),(f=this.options.behavior)==null||f.onFetch(c,this),Ie(this,Zl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&yt(this,hs,Ei).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const h=x=>{var _,E,S,P;d0(x)&&x.silent||yt(this,hs,Ei).call(this,{type:"error",error:x}),d0(x)||((E=(_=Y(this,ts).config).onError)==null||E.call(_,x,this),(P=(S=Y(this,ts).config).onSettled)==null||P.call(S,this.state.data,x,this)),this.scheduleGc()};return Ie(this,Kn,cN({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var _,E,S,P;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(C){h(C);return}(E=(_=Y(this,ts).config).onSuccess)==null||E.call(_,x,this),(P=(S=Y(this,ts).config).onSettled)==null||P.call(S,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,_)=>{yt(this,hs,Ei).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{yt(this,hs,Ei).call(this,{type:"pause"})},onContinue:()=>{yt(this,hs,Ei).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,Kn).start()}},Wl=new WeakMap,Zl=new WeakMap,ts=new WeakMap,To=new WeakMap,Kn=new WeakMap,dd=new WeakMap,So=new WeakMap,hs=new WeakSet,Ei=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...dN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return d0(a)&&a.revert&&Y(this,Zl)?{...Y(this,Zl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,ts).notify({query:this,type:"updated",action:e})})},WE);function dN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function t5(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qs,ZE,n5=(ZE=class extends jd{constructor(e={}){super();Ke(this,qs);this.config=e,Ie(this,qs,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Vv(a,t);let c=this.get(o);return c||(c=new e5({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){Y(this,qs).has(e.queryHash)||(Y(this,qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,qs).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,qs).get(e)}getAll(){return[...Y(this,qs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>bE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>bE(e,r)):t}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qs=new WeakMap,ZE),Hs,lr,No,$s,la,JE,r5=(JE=class extends uN{constructor(e){super();Ke(this,$s);Ke(this,Hs);Ke(this,lr);Ke(this,No);this.mutationId=e.mutationId,Ie(this,lr,e.mutationCache),Ie(this,Hs,[]),this.state=e.state||s5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Hs).includes(e)||(Y(this,Hs).push(e),this.clearGcTimeout(),Y(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Hs,Y(this,Hs).filter(t=>t!==e)),this.scheduleGc(),Y(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,lr).remove(this))}continue(){var e;return((e=Y(this,No))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,h,f,p,y,x,_,E,S,P,C,A,T,b,O,z,U,V,j;const t=()=>{yt(this,$s,la).call(this,{type:"continue"})};Ie(this,No,cN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,D)=>{yt(this,$s,la).call(this,{type:"failed",failureCount:M,error:D})},onPause:()=>{yt(this,$s,la).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,lr).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,No).canStart();try{if(r)t();else{yt(this,$s,la).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,lr).config).onMutate)==null?void 0:c.call(o,e,this));const D=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e));D!==this.state.context&&yt(this,$s,la).call(this,{type:"pending",context:D,variables:e,isPaused:a})}const M=await Y(this,No).start();return await((y=(p=Y(this,lr).config).onSuccess)==null?void 0:y.call(p,M,e,this.state.context,this)),await((_=(x=this.options).onSuccess)==null?void 0:_.call(x,M,e,this.state.context)),await((S=(E=Y(this,lr).config).onSettled)==null?void 0:S.call(E,M,null,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,M,null,e,this.state.context)),yt(this,$s,la).call(this,{type:"success",data:M}),M}catch(M){try{throw await((T=(A=Y(this,lr).config).onError)==null?void 0:T.call(A,M,e,this.state.context,this)),await((O=(b=this.options).onError)==null?void 0:O.call(b,M,e,this.state.context)),await((U=(z=Y(this,lr).config).onSettled)==null?void 0:U.call(z,void 0,M,this.state.variables,this.state.context,this)),await((j=(V=this.options).onSettled)==null?void 0:j.call(V,void 0,M,e,this.state.context)),M}finally{yt(this,$s,la).call(this,{type:"error",error:M})}}finally{Y(this,lr).runNext(this)}}},Hs=new WeakMap,lr=new WeakMap,No=new WeakMap,$s=new WeakSet,la=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Un.batch(()=>{Y(this,Hs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,lr).notify({mutation:this,type:"updated",action:e})})},JE);function s5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,fs,hd,eT,i5=(eT=class extends jd{constructor(e={}){super();Ke(this,Si);Ke(this,fs);Ke(this,hd);this.config=e,Ie(this,Si,new Set),Ie(this,fs,new Map),Ie(this,hd,0)}build(e,t,r){const a=new r5({mutationCache:this,mutationId:++Yh(this,hd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,Si).add(e);const t=af(e);if(typeof t=="string"){const r=Y(this,fs).get(t);r?r.push(e):Y(this,fs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Si).delete(e)){const t=af(e);if(typeof t=="string"){const r=Y(this,fs).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,fs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=af(e);if(typeof t=="string"){const r=Y(this,fs).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=af(e);if(typeof t=="string"){const a=(r=Y(this,fs).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{Y(this,Si).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Si).clear(),Y(this,fs).clear()})}getAll(){return Array.from(Y(this,Si))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>wE(t,r))}findAll(e={}){return this.getAll().filter(t=>wE(e,t))}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Un.batch(()=>Promise.all(e.map(t=>t.continue().catch(br))))}},Si=new WeakMap,fs=new WeakMap,hd=new WeakMap,eT);function af(n){var e;return(e=n.options.scope)==null?void 0:e.id}function im(n){return{onFetch:(e,t)=>{var y,x,_,E,S;const r=e.options,a=(_=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:_.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],c=((S=e.state.data)==null?void 0:S.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let P=!1;const C=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},A=aN(e.options,e.fetchOptions),T=async(b,O,z)=>{if(P)return Promise.reject();if(O==null&&b.pages.length)return Promise.resolve(b);const U={client:e.client,queryKey:e.queryKey,pageParam:O,direction:z?"backward":"forward",meta:e.options.meta};C(U);const V=await A(U),{maxPages:j}=e.options,M=z?Qk:Gk;return{pages:M(b.pages,V,j),pageParams:M(b.pageParams,O,j)}};if(a&&o.length){const b=a==="backward",O=b?hN:oy,z={pages:o,pageParams:c},U=O(r,z);h=await T(z,U,b)}else{const b=n??o.length;do{const O=f===0?c[0]??r.initialPageParam:oy(r,h);if(f>0&&O==null)break;h=await T(h,O),f++}while(f<b)}return h};e.options.persister?e.fetchFn=()=>{var P,C;return(C=(P=e.options).persister)==null?void 0:C.call(P,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function oy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function hN(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function a5(n,e){return e?oy(n,e)!=null:!1}function o5(n,e){return!e||!n.getPreviousPageParam?!1:hN(n,e)!=null}var en,ga,ya,Jl,ec,va,tc,nc,tT,l5=(tT=class{constructor(n={}){Ke(this,en);Ke(this,ga);Ke(this,ya);Ke(this,Jl);Ke(this,ec);Ke(this,va);Ke(this,tc);Ke(this,nc);Ie(this,en,n.queryCache||new n5),Ie(this,ga,n.mutationCache||new i5),Ie(this,ya,n.defaultOptions||{}),Ie(this,Jl,new Map),Ie(this,ec,new Map),Ie(this,va,0)}mount(){Yh(this,va)._++,Y(this,va)===1&&(Ie(this,tc,Uv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onFocus())})),Ie(this,nc,sm.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onOnline())})))}unmount(){var n,e;Yh(this,va)._--,Y(this,va)===0&&((n=Y(this,tc))==null||n.call(this),Ie(this,tc,void 0),(e=Y(this,nc))==null||e.call(this),Ie(this,nc,void 0))}isFetching(n){return Y(this,en).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,ga).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,en).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Gl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,en).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,en).get(r.queryHash),o=a==null?void 0:a.state.data,c=Hk(e,o);if(c!==void 0)return Y(this,en).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return Un.batch(()=>Y(this,en).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,en);Un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,en);return Un.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Un.batch(()=>Y(this,en).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(br).catch(br)}invalidateQueries(n,e={}){return Un.batch(()=>(Y(this,en).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>Y(this,en).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(br)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(br)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,en).build(this,e);return t.isStaleByTime(Gl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(br).catch(br)}fetchInfiniteQuery(n){return n.behavior=im(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(br).catch(br)}ensureInfiniteQueryData(n){return n.behavior=im(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return sm.isOnline()?Y(this,ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,en)}getMutationCache(){return Y(this,ga)}getDefaultOptions(){return Y(this,ya)}setDefaultOptions(n){Ie(this,ya,n)}setQueryDefaults(n,e){Y(this,Jl).set(ld(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Jl).values()],t={};return e.forEach(r=>{cd(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,ec).set(ld(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,ec).values()],t={};return e.forEach(r=>{cd(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ya).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Vv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ya).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,en).clear(),Y(this,ga).clear()}},en=new WeakMap,ga=new WeakMap,ya=new WeakMap,Jl=new WeakMap,ec=new WeakMap,va=new WeakMap,tc=new WeakMap,nc=new WeakMap,tT),vr,vt,fd,cr,Ao,rc,xa,ba,md,sc,ic,Co,Ro,wa,ac,Rt,Uu,ly,cy,uy,dy,hy,fy,my,mN,nT,fN=(nT=class extends jd{constructor(e,t){super();Ke(this,Rt);Ke(this,vr);Ke(this,vt);Ke(this,fd);Ke(this,cr);Ke(this,Ao);Ke(this,rc);Ke(this,xa);Ke(this,ba);Ke(this,md);Ke(this,sc);Ke(this,ic);Ke(this,Co);Ke(this,Ro);Ke(this,wa);Ke(this,ac,new Set);this.options=t,Ie(this,vr,e),Ie(this,ba,null),Ie(this,xa,ay()),this.options.experimental_prefetchInRender||Y(this,xa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,vt).addObserver(this),TE(Y(this,vt),this.options)?yt(this,Rt,Uu).call(this):this.updateResult(),yt(this,Rt,dy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return py(Y(this,vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return py(Y(this,vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,Rt,hy).call(this),yt(this,Rt,fy).call(this),Y(this,vt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,vt);if(this.options=Y(this,vr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ms(this.options.enabled,Y(this,vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,Rt,my).call(this),Y(this,vt).setOptions(this.options),t._defaulted&&!ry(this.options,t)&&Y(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,vt),observer:this});const a=this.hasListeners();a&&SE(Y(this,vt),r,this.options,t)&&yt(this,Rt,Uu).call(this),this.updateResult(),a&&(Y(this,vt)!==r||ms(this.options.enabled,Y(this,vt))!==ms(t.enabled,Y(this,vt))||Gl(this.options.staleTime,Y(this,vt))!==Gl(t.staleTime,Y(this,vt)))&&yt(this,Rt,ly).call(this);const o=yt(this,Rt,cy).call(this);a&&(Y(this,vt)!==r||ms(this.options.enabled,Y(this,vt))!==ms(t.enabled,Y(this,vt))||o!==Y(this,wa))&&yt(this,Rt,uy).call(this,o)}getOptimisticResult(e){const t=Y(this,vr).getQueryCache().build(Y(this,vr),e),r=this.createResult(t,e);return u5(this,r)&&(Ie(this,cr,r),Ie(this,rc,this.options),Ie(this,Ao,Y(this,vt).state)),r}getCurrentResult(){return Y(this,cr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,ac).add(e)}getCurrentQuery(){return Y(this,vt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,vr).defaultQueryOptions(e),r=Y(this,vr).getQueryCache().build(Y(this,vr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return yt(this,Rt,Uu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,cr)))}createResult(e,t){var M;const r=Y(this,vt),a=this.options,o=Y(this,cr),c=Y(this,Ao),h=Y(this,rc),p=e!==r?e.state:Y(this,fd),{state:y}=e;let x={...y},_=!1,E;if(t._optimisticResults){const D=this.hasListeners(),k=!D&&TE(e,t),L=D&&SE(e,r,t,a);(k||L)&&(x={...x,...dN(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:S,errorUpdatedAt:P,status:C}=x;E=x.data;let A=!1;if(t.placeholderData!==void 0&&E===void 0&&C==="pending"){let D;o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(D=o.data,A=!0):D=typeof t.placeholderData=="function"?t.placeholderData((M=Y(this,ic))==null?void 0:M.state.data,Y(this,ic)):t.placeholderData,D!==void 0&&(C="success",E=iy(o==null?void 0:o.data,D,t),_=!0)}if(t.select&&E!==void 0&&!A)if(o&&E===(c==null?void 0:c.data)&&t.select===Y(this,md))E=Y(this,sc);else try{Ie(this,md,t.select),E=t.select(E),E=iy(o==null?void 0:o.data,E,t),Ie(this,sc,E),Ie(this,ba,null)}catch(D){Ie(this,ba,D)}Y(this,ba)&&(S=Y(this,ba),E=Y(this,sc),P=Date.now(),C="error");const T=x.fetchStatus==="fetching",b=C==="pending",O=C==="error",z=b&&T,U=E!==void 0,j={status:C,fetchStatus:x.fetchStatus,isPending:b,isSuccess:C==="success",isError:O,isInitialLoading:z,isLoading:z,data:E,dataUpdatedAt:x.dataUpdatedAt,error:S,errorUpdatedAt:P,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:T,isRefetching:T&&!b,isLoadingError:O&&!U,isPaused:x.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:O&&U,isStale:Bv(e,t),refetch:this.refetch,promise:Y(this,xa)};if(this.options.experimental_prefetchInRender){const D=R=>{j.status==="error"?R.reject(j.error):j.data!==void 0&&R.resolve(j.data)},k=()=>{const R=Ie(this,xa,j.promise=ay());D(R)},L=Y(this,xa);switch(L.status){case"pending":e.queryHash===r.queryHash&&D(L);break;case"fulfilled":(j.status==="error"||j.data!==L.value)&&k();break;case"rejected":(j.status!=="error"||j.error!==L.reason)&&k();break}}return j}updateResult(){const e=Y(this,cr),t=this.createResult(Y(this,vt),this.options);if(Ie(this,Ao,Y(this,vt).state),Ie(this,rc,this.options),Y(this,Ao).data!==void 0&&Ie(this,ic,Y(this,vt)),ry(t,e))return;Ie(this,cr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,ac).size)return!0;const c=new Set(o??Y(this,ac));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,cr)).some(h=>{const f=h;return Y(this,cr)[f]!==e[f]&&c.has(f)})};yt(this,Rt,mN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,Rt,dy).call(this)}},vr=new WeakMap,vt=new WeakMap,fd=new WeakMap,cr=new WeakMap,Ao=new WeakMap,rc=new WeakMap,xa=new WeakMap,ba=new WeakMap,md=new WeakMap,sc=new WeakMap,ic=new WeakMap,Co=new WeakMap,Ro=new WeakMap,wa=new WeakMap,ac=new WeakMap,Rt=new WeakSet,Uu=function(e){yt(this,Rt,my).call(this);let t=Y(this,vt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(br)),t},ly=function(){yt(this,Rt,hy).call(this);const e=Gl(this.options.staleTime,Y(this,vt));if(ko||Y(this,cr).isStale||!ny(e))return;const r=sN(Y(this,cr).dataUpdatedAt,e)+1;Ie(this,Co,setTimeout(()=>{Y(this,cr).isStale||this.updateResult()},r))},cy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,vt)):this.options.refetchInterval)??!1},uy=function(e){yt(this,Rt,fy).call(this),Ie(this,wa,e),!(ko||ms(this.options.enabled,Y(this,vt))===!1||!ny(Y(this,wa))||Y(this,wa)===0)&&Ie(this,Ro,setInterval(()=>{(this.options.refetchIntervalInBackground||Uv.isFocused())&&yt(this,Rt,Uu).call(this)},Y(this,wa)))},dy=function(){yt(this,Rt,ly).call(this),yt(this,Rt,uy).call(this,yt(this,Rt,cy).call(this))},hy=function(){Y(this,Co)&&(clearTimeout(Y(this,Co)),Ie(this,Co,void 0))},fy=function(){Y(this,Ro)&&(clearInterval(Y(this,Ro)),Ie(this,Ro,void 0))},my=function(){const e=Y(this,vr).getQueryCache().build(Y(this,vr),this.options);if(e===Y(this,vt))return;const t=Y(this,vt);Ie(this,vt,e),Ie(this,fd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},mN=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,cr))}),Y(this,vr).getQueryCache().notify({query:Y(this,vt),type:"observerResultsUpdated"})})},nT);function c5(n,e){return ms(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function TE(n,e){return c5(n,e)||n.state.data!==void 0&&py(n,e,e.refetchOnMount)}function py(n,e,t){if(ms(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Bv(n,e)}return!1}function SE(n,e,t,r){return(n!==e||ms(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Bv(n,t)}function Bv(n,e){return ms(e.enabled,n)!==!1&&n.isStaleByTime(Gl(e.staleTime,n))}function u5(n,e){return!ry(n.getCurrentResult(),e)}var d5=class extends fN{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:im()})}getOptimisticResult(n){return n.behavior=im(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var S,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:c,isRefetchError:h}=r,f=(P=(S=t.fetchMeta)==null?void 0:S.fetchMore)==null?void 0:P.direction,p=c&&f==="forward",y=a&&f==="forward",x=c&&f==="backward",_=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:a5(e,t.data),hasPreviousPage:o5(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:_,isRefetchError:h&&!p&&!x,isRefetching:o&&!y&&!_}}},pN=q.createContext(void 0),h5=n=>{const e=q.useContext(pN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},f5=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(pN.Provider,{value:n,children:e})),gN=q.createContext(!1),m5=()=>q.useContext(gN);gN.Provider;function p5(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var g5=q.createContext(p5()),y5=()=>q.useContext(g5),v5=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},x5=n=>{q.useEffect(()=>{n.clearReset()},[n])},b5=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||Kk(t,[n.error,r])),w5=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},_5=(n,e)=>n.isLoading&&n.isFetching&&!e,E5=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,NE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function yN(n,e,t){var x,_,E,S,P;const r=h5(),a=m5(),o=y5(),c=r.defaultQueryOptions(n);(_=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||_.call(x,c),c._optimisticResults=a?"isRestoring":"optimistic",w5(c),v5(c,o),x5(o);const h=!r.getQueryCache().get(c.queryHash),[f]=q.useState(()=>new e(r,c)),p=f.getOptimisticResult(c),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(C=>{const A=y?f.subscribe(Un.batchCalls(C)):br;return f.updateResult(),A},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),q.useEffect(()=>{f.setOptions(c)},[c,f]),E5(c,p))throw NE(c,f,o);if(b5({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((S=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||S.call(E,c,p),c.experimental_prefetchInRender&&!ko&&_5(p,a)){const C=h?NE(c,f,o):(P=r.getQueryCache().get(c.queryHash))==null?void 0:P.promise;C==null||C.catch(br).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?p:f.trackResult(p)}function T5(n,e){return yN(n,fN)}function vN(n,e){return yN(n,d5)}const AE="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",S5="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-37.062%20-28.3525%20321.204%20170.115'%3e%3cg%20fill='none'%3e%3cpath%20fill='%23D12053'%20d='M223.65%2062.45l-53.03-8.31%207.03%2031.6z'/%3e%3cpath%20fill='%23E2136E'%20d='M223.65%2062.45L183.69%206.93l-13.06%2047.22z'/%3e%3cpath%20fill='%23D12053'%20d='M169.39%2053.51L127.52%200l54.83%206.55z'/%3e%3cpath%20fill='%239E1638'%20d='M150.32%2031.15L127.07%209.24h6.12z'/%3e%3cpath%20fill='%23D12053'%20d='M234.96%2035.46l-9.84%2026.69-15.95-22.06z'/%3e%3cpath%20fill='%23E2136E'%20d='M183.84%2084.14l38.61-15.51%201.62-4.93z'/%3e%3cpath%20fill='%239E1638'%20d='M152.96%20113.41l16.54-58.02%208.39%2037.75z'/%3e%3cpath%20fill='%23E2136E'%20d='M236.5%2035.67l-4.06%2011.02%2014.64-.24zM0%2040.09c.71.06%201.43.19%202.19.19s1.38-.13%202.19-.19v23.47c2.31-3.93%205.22-6.52%209.5-6.52%207.74%200%2011.06%207.66%2011.06%2014.7%200%208.43-4.5%2016.5-12.39%2016.5a8.66%208.66%200%2001-7.77-4.47c-1.32%201.16-2.49%202.55-3.74%203.81h-1zm4.28%2034.52c0%206.84%202.9%2011.61%207.67%2011.61%206.19%200%208.18-8.32%208.18-14.22%200-6.85-2.26-12.24-7.62-12.3-6.26-.05-8.23%207.36-8.23%2014.92z'/%3e%3cpath%20fill='%23231F20'%20d='M45.13%2055.27l-4.66%206c4.38%206.4%208.92%2012.67%2013.32%2019.15l4.44%207v.35c-1.09-.07-2.08-.21-3-.21-.92%200-2.08.14-3.06.21-1.21-2.24-2.41-4.31-3.78-6.34l-12-17.75c-.27-.28-.92-.5-.92-.21v24.3c-.88-.07-1.65-.21-2.41-.21-.76%200-1.64.14-2.41.21V40.09c.77.06%201.6.21%202.41.21s1.53-.15%202.41-.21v21.52c0%20.42.82.14%201.36-.42a37.1%2037.1%200%20002.92-3.42l13.49-17.7c.71.06%201.42.21%202.19.21s1.36-.15%202.14-.21zM81.42%2082.4c0%202.48-.16%203.74%203.07%202.92v1.39a8.87%208.87%200%2001-1.65.63c-2.85.57-5.21.06-5.65-3.67l-.49.55a10.17%2010.17%200%2001-8.12%204c-3.88%200-7.28-3.06-7.28-7.75%200-7.23%205-8.18%2010.13-9.13%204.34-.82%205.82-1.2%205.82-4.25%200-4.7-2.3-7.42-6.41-7.42a6.85%206.85%200%2000-6.52%204.37h-.6v-3.52a14.2%2014.2%200%20018.87-3.48c5.75%200%208.88%203.48%208.88%2010.65zm-4.38-10.47l-1.93.44c-3.73.82-9.32%201.45-9.32%207.24%200%204%202%206%205.36%206a6.83%206.83%200%20004.44-2.44c.4-.46%201.5-1.54%201.5-2zm14.15%209.63c1.3%202.49%203.72%204.72%206.3%204.72a5.67%205.67%200%20005.38-5.78c0-8.56-12.95-3-12.95-14.08%200-6.08%204-9.37%208.93-9.37%202.18-.048%204.33.52%206.2%201.64a32.791%2032.791%200%2000-1.3%204.5h-.5c-.72-2.09-2.63-4.19-4.66-4.19-2.74%200-5%201.85-5%205.28%200%208.11%2012.95%203.79%2012.95%2013.94%200%206.79-5.26%2010-10.1%2010a12.73%2012.73%200%2001-6.84-2%2034.42%2034.42%200%20001.15-4.65zm22.73-41.47c.73.06%201.44.19%202.2.19.76%200%201.38-.13%202.2-.19v23.09c1.92-3.87%204.93-6.14%208.83-6.14%206.36%200%208.83%204.36%208.83%2012.36v18.37c-.83-.07-1.47-.19-2.2-.19-.73%200-1.48.13-2.2.19V70.85c0-7-1.41-10.53-6.08-10.53-4.94%200-7.18%203.56-7.18%2010.15v17.3c-.82-.07-1.47-.19-2.2-.19-.73%200-1.46.13-2.2.19z'/%3e%3c/g%3e%3c/svg%3e",N5="/assets/Nagad-Logo.wine-BlVRnsIb.svg",A5="/assets/dutch-bangla-rocket-logo-png_seeklogo-317692-DPiqreWE.png",C5=()=>d.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:d.jsx("path",{fill:"#1A1F71",d:"M9.064 8.482l-1.09 6.966h1.527l1.09-6.966H9.064zm6.11 0l-1.09 6.966h1.527l1.09-6.966h-1.527zm-8.2 0L4.782 15.45h1.527l.69-4.414.017-.107.63-2.446H6.974zm12.052 0l-1.09 6.966h1.258l.77-4.92.042-.268.62-1.778h-1.58zm-5.137 0l-1.09 6.966h4.183l.26-1.656h-2.606l.4-2.57h2.547l.26-1.656h-2.547l.4-2.57h2.606l.26-1.656h-4.183z"})}),R5=()=>d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[d.jsx("path",{fill:"#EB001B",d:"M12 6.654a6 6 0 100 10.692 6 6 0 000-10.692z"}),d.jsx("path",{fill:"#F79E1B",d:"M12 6.654a6 6 0 110 10.692 6 6 0 010-10.692z"}),d.jsx("path",{fill:"#FF5F00",d:"M12 6.654a6 6 0 100 10.692 6 6 0 010-10.692z"})]}),xN=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=q.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)},[c,h]=q.useState(null),f=y=>{h(c===y?null:y)},p=[{name:"bKash",icon:d.jsx("img",{src:S5,alt:"bKash",className:"h-6 w-auto"}),color:"bg-pink-100"},{name:"Nagad",icon:d.jsx("img",{src:N5,alt:"Nagad",className:"h-6 w-auto"}),color:"bg-purple-100"},{name:"Rocket",icon:d.jsx("img",{src:A5,alt:"Rocket",className:"h-6 w-auto"}),color:"bg-indigo-100"},{name:"Visa",icon:d.jsx(C5,{}),color:"bg-blue-100"},{name:"Mastercard",icon:d.jsx(R5,{}),color:"bg-red-100"},{name:"Cash on Delivery",icon:d.jsx(gk,{size:16,className:"text-gray-700"}),color:"bg-green-100"}];return d.jsx("footer",{className:"bg-gray-50 text-gray-700 play-regular w-full border-t border-gray-200",children:d.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center justify-between gap-8 mb-10 border-b border-gray-200 pb-8",children:[d.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:d.jsx(ot,{to:"/",className:"flex justify-center",children:d.jsx("img",{src:AE,alt:"Mahira Collection Logo",className:"h-24 object-contain"})})}),d.jsx("div",{className:"text-sm md:text-base text-center md:text-left",children:d.jsxs("p",{className:"whitespace-pre-line",children:[a,!t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read More ",d.jsx(Dl,{size:16,className:"ml-1"})]}),t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read Less ",d.jsx(Pl,{size:16,className:"ml-1"})]})]})})]}),d.jsx("div",{className:"md:hidden mb-6 border-b border-gray-200 pb-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(ot,{to:"/",className:"mb-4",children:d.jsx("img",{src:AE,alt:"Mahira Collection Logo",className:"h-20 object-contain"})}),d.jsx("p",{className:"text-sm text-center whitespace-pre-line",children:e.split(`
`).slice(0,4).join(`
`)})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"md:hidden space-y-4 mb-6",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("quickLinks"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Quick Links",c==="quickLinks"?d.jsx(Pl,{}):d.jsx(Dl,{})]}),c==="quickLinks"&&d.jsx("ul",{className:"mt-3 space-y-2 text-sm pl-2",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((y,x)=>d.jsx("li",{children:d.jsx(ot,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("contact"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Contact Us",c==="contact"?d.jsx(Pl,{}):d.jsx(Dl,{})]}),c==="contact"&&d.jsxs("div",{className:"mt-3 space-y-3 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(yE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, City, Country"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(gE,{size:18}),d.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Nf,{size:18}),d.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("hours"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Opening Hours",c==="hours"?d.jsx(Pl,{}):d.jsx(Dl,{})]}),c==="hours"&&d.jsxs("div",{className:"mt-3 space-y-2 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("payments"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Payment Methods",c==="payments"?d.jsx(Pl,{}):d.jsx(Dl,{})]}),c==="payments"&&d.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 pl-2",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors","aria-label":"Facebook",children:d.jsx(vk,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-pink-500 hover:bg-pink-50 transition-colors","aria-label":"Instagram",children:d.jsx(_k,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-sky-500 hover:bg-sky-50 transition-colors","aria-label":"Twitter",children:d.jsx(zk,{size:20})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,title:y.name,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms & Conditions",path:"/terms"},{name:"Returns & Exchanges",path:"/returns"},{name:"Shipping Policy",path:"/shipping"}].map((y,x)=>d.jsx("li",{children:d.jsx(ot,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(yE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(gE,{size:18}),d.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-blue-600",children:"info@mahira.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Nf,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Nf,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Cl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-4",children:"Newsletter"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})]}),d.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200 md:hidden",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-4",children:"Subscribe to Our Newsletter"}),d.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full sm:w-auto px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[d.jsxs("p",{children:["© ",n," Mahira Collection. All rights reserved."]}),d.jsx("p",{className:"mt-1",children:"Developed with ❤️ by Your Company"})]})]})]})})},I5=new l5;function j5(){return d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-[100%] xl:w-[89%] mx-auto  bg-gray-100 shadow-xl mb-16 md:mb-0",children:d.jsxs(f5,{client:I5,children:[d.jsx(ak,{}),d.jsx(qk,{}),d.jsx(Fk,{}),d.jsx(ET,{}),d.jsx(xN,{})]})})})}function bN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=bN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Io(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=bN(n))&&(r&&(r+=" "),r+=e);return r}function M5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}M5(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Md=n=>typeof n=="number"&&!isNaN(n),Lo=n=>typeof n=="string",Di=n=>typeof n=="function",O5=n=>Lo(n)||Md(n),gy=n=>Lo(n)||Di(n)?n:null,D5=(n,e)=>n===!1||Md(n)&&n>0?n:e,yy=n=>q.isValidElement(n)||Lo(n)||Di(n)||Md(n);function P5(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function k5({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:c,preventExitTransition:h,done:f,nodeRef:p,isIn:y,playToast:x}){let _=t?`${n}--${c}`:n,E=t?`${e}--${c}`:e,S=q.useRef(0);return q.useLayoutEffect(()=>{let P=p.current,C=_.split(" "),A=T=>{T.target===p.current&&(x(),P.removeEventListener("animationend",A),P.removeEventListener("animationcancel",A),S.current===0&&T.type!=="animationcancel"&&P.classList.remove(...C))};P.classList.add(...C),P.addEventListener("animationend",A),P.addEventListener("animationcancel",A)},[]),q.useEffect(()=>{let P=p.current,C=()=>{P.removeEventListener("animationend",C),r?P5(P,f,a):f()};y||(h?C():(S.current=1,P.className+=` ${E}`,P.addEventListener("animationend",C)))},[y]),Fe.createElement(Fe.Fragment,null,o)}}function CE(n,e){return{content:wN(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function wN(n,e,t=!1){return q.isValidElement(n)&&!Lo(n.type)?q.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Di(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function L5({closeToast:n,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function V5({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:o,controlledProgress:c,progress:h,rtl:f,isIn:p,theme:y}){let x=a||c&&h===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(_.transform=`scaleX(${h})`);let E=Io("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),S=Di(o)?o({rtl:f,type:r,defaultClassName:E}):Io(E,o),P={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{p&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:S,style:_,...P}))}var z5=1,_N=()=>`${z5++}`;function U5(n,e,t){let r=1,a=0,o=[],c=[],h=e,f=new Map,p=new Set,y=T=>(p.add(T),()=>p.delete(T)),x=()=>{c=Array.from(f.values()),p.forEach(T=>T())},_=({containerId:T,toastId:b,updateId:O})=>{let z=T?T!==n:n!==1,U=f.has(b)&&O==null;return z||U},E=(T,b)=>{f.forEach(O=>{var z;(b==null||b===O.props.toastId)&&((z=O.toggle)==null||z.call(O,T))})},S=T=>{var b,O;(O=(b=T.props)==null?void 0:b.onClose)==null||O.call(b,T.removalReason),T.isActive=!1},P=T=>{if(T==null)f.forEach(S);else{let b=f.get(T);b&&S(b)}x()},C=()=>{a-=o.length,o=[]},A=T=>{var b,O;let{toastId:z,updateId:U}=T.props,V=U==null;T.staleId&&f.delete(T.staleId),T.isActive=!0,f.set(z,T),x(),t(CE(T,V?"added":"updated")),V&&((O=(b=T.props).onOpen)==null||O.call(b))};return{id:n,props:h,observe:y,toggle:E,removeToast:P,toasts:f,clearQueue:C,buildToast:(T,b)=>{if(_(b))return;let{toastId:O,updateId:z,data:U,staleId:V,delay:j}=b,M=z==null;M&&a++;let D={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([L,R])=>R!=null)),toastId:O,updateId:z,data:U,isIn:!1,className:gy(b.className||h.toastClassName),progressClassName:gy(b.progressClassName||h.progressClassName),autoClose:b.isLoading?!1:D5(b.autoClose,h.autoClose),closeToast(L){f.get(O).removalReason=L,P(O)},deleteToast(){let L=f.get(O);if(L!=null){if(t(CE(L,"removed")),f.delete(O),a--,a<0&&(a=0),o.length>0){A(o.shift());return}x()}}};D.closeButton=h.closeButton,b.closeButton===!1||yy(b.closeButton)?D.closeButton=b.closeButton:b.closeButton===!0&&(D.closeButton=yy(h.closeButton)?h.closeButton:!0);let k={content:T,props:D,staleId:V};h.limit&&h.limit>0&&a>h.limit&&M?o.push(k):Md(j)?setTimeout(()=>{A(k)},j):A(k)},setProps(T){h=T},setToggle:(T,b)=>{let O=f.get(T);O&&(O.toggle=b)},isToastActive:T=>{var b;return(b=f.get(T))==null?void 0:b.isActive},getSnapshot:()=>c}}var ur=new Map,ud=[],vy=new Set,B5=n=>vy.forEach(e=>e(n)),EN=()=>ur.size>0;function F5(){ud.forEach(n=>SN(n.content,n.options)),ud=[]}var q5=(n,{containerId:e})=>{var t;return(t=ur.get(e||1))==null?void 0:t.toasts.get(n)};function TN(n,e){var t;if(e)return!!((t=ur.get(e))!=null&&t.isToastActive(n));let r=!1;return ur.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function H5(n){if(!EN()){ud=ud.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||O5(n))ur.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ur.get(n.containerId);e?e.removeToast(n.id):ur.forEach(t=>{t.removeToast(n.id)})}}var $5=(n={})=>{ur.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function SN(n,e){yy(n)&&(EN()||ud.push({content:n,options:e}),ur.forEach(t=>{t.buildToast(n,e)}))}function G5(n){var e;(e=ur.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function NN(n,e){ur.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Q5(n){let e=n.containerId||1;return{subscribe(t){let r=U5(e,n,B5);ur.set(e,r);let a=r.observe(t);return F5(),()=>{a(),ur.delete(e)}},setProps(t){var r;(r=ur.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=ur.get(e))==null?void 0:t.getSnapshot()}}}function K5(n){return vy.add(n),()=>{vy.delete(n)}}function Y5(n){return n&&(Lo(n.toastId)||Md(n.toastId))?n.toastId:_N()}function Od(n,e){return SN(n,e),e.toastId}function Fm(n,e){return{...e,type:e&&e.type||n,toastId:Y5(e)}}function qm(n){return(e,t)=>Od(e,Fm(n,t))}function Je(n,e){return Od(n,Fm("default",e))}Je.loading=(n,e)=>Od(n,Fm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function X5(n,{pending:e,error:t,success:r},a){let o;e&&(o=Lo(e)?Je.loading(e,a):Je.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,x)=>{if(y==null){Je.dismiss(o);return}let _={type:p,...c,...a,data:x},E=Lo(y)?{render:y}:y;return o?Je.update(o,{..._,...E}):Je(E.render,{..._,...E}),x},f=Di(n)?n():n;return f.then(p=>h("success",r,p)).catch(p=>h("error",t,p)),f}Je.promise=X5;Je.success=qm("success");Je.info=qm("info");Je.error=qm("error");Je.warning=qm("warning");Je.warn=Je.warning;Je.dark=(n,e)=>Od(n,Fm("default",{theme:"dark",...e}));function W5(n){H5(n)}Je.dismiss=W5;Je.clearWaitingQueue=$5;Je.isActive=TN;Je.update=(n,e={})=>{let t=q5(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:_N()};o.toastId!==n&&(o.staleId=n);let c=o.render||a;delete o.render,Od(c,o)}};Je.done=n=>{Je.update(n,{progress:1})};Je.onChange=K5;Je.play=n=>NN(!0,n);Je.pause=n=>NN(!1,n);function Z5(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=q.useRef(Q5(n)).current;a(n);let o=(e=q.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function c(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:y}=p.props;f.has(y)||f.set(y,[]),f.get(y).push(p)}),Array.from(f,p=>h(p[0],p[1]))}return{getToastToRender:c,isToastActive:TN,count:o==null?void 0:o.length}}function J5(n){let[e,t]=q.useState(!1),[r,a]=q.useState(!1),o=q.useRef(null),c=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:p,onClick:y,closeOnClick:x}=n;G5({id:n.toastId,containerId:n.containerId,fn:t}),q.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{E()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||A(),window.addEventListener("focus",C),window.addEventListener("blur",A)}function E(){window.removeEventListener("focus",C),window.removeEventListener("blur",A)}function S(V){if(n.draggable===!0||n.draggable===V.pointerType){T();let j=o.current;c.canCloseOnClick=!0,c.canDrag=!0,j.style.transition="none",n.draggableDirection==="x"?(c.start=V.clientX,c.removalDistance=j.offsetWidth*(n.draggablePercent/100)):(c.start=V.clientY,c.removalDistance=j.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function P(V){let{top:j,bottom:M,left:D,right:k}=o.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&n.pauseOnHover&&V.clientX>=D&&V.clientX<=k&&V.clientY>=j&&V.clientY<=M?A():C()}function C(){t(!0)}function A(){t(!1)}function T(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",z)}function b(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}function O(V){let j=o.current;if(c.canDrag&&j){c.didMove=!0,e&&A(),n.draggableDirection==="x"?c.delta=V.clientX-c.start:c.delta=V.clientY-c.start,c.start!==V.clientX&&(c.canCloseOnClick=!1);let M=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;j.style.transform=`translate3d(${M},0)`,j.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function z(){b();let V=o.current;if(c.canDrag&&c.didMove&&V){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let U={onPointerDown:S,onPointerUp:P};return h&&f&&(U.onMouseEnter=A,n.stacked||(U.onMouseLeave=C)),x&&(U.onClick=V=>{y&&y(V),c.canCloseOnClick&&p(!0)}),{playToast:C,pauseToast:A,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:U}}var e6=typeof window<"u"?q.useLayoutEffect:q.useEffect,Hm=({theme:n,type:e,isLoading:t,...r})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function t6(n){return Fe.createElement(Hm,{...n},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function n6(n){return Fe.createElement(Hm,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function r6(n){return Fe.createElement(Hm,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function s6(n){return Fe.createElement(Hm,{...n},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function i6(){return Fe.createElement("div",{className:"Toastify__spinner"})}var xy={info:n6,warning:t6,success:r6,error:s6,spinner:i6},a6=n=>n in xy;function o6({theme:n,type:e,isLoading:t,icon:r}){let a=null,o={theme:n,type:e};return r===!1||(Di(r)?a=r({...o,isLoading:t}):q.isValidElement(r)?a=q.cloneElement(r,o):t?a=xy.spinner():a6(e)&&(a=xy[e](o))),a}var l6=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:o}=J5(n),{closeButton:c,children:h,autoClose:f,onClick:p,type:y,hideProgressBar:x,closeToast:_,transition:E,position:S,className:P,style:C,progressClassName:A,updateId:T,role:b,progress:O,rtl:z,toastId:U,deleteToast:V,isIn:j,isLoading:M,closeOnClick:D,theme:k,ariaLabel:L}=n,R=Io("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":D}),J=Di(P)?P({rtl:z,position:S,type:y,defaultClassName:R}):Io(R,P),oe=o6(n),$=!!O||!f,se={closeToast:_,type:y,theme:k},ae=null;return c===!1||(Di(c)?ae=c(se):q.isValidElement(c)?ae=q.cloneElement(c,se):ae=L5(se)),Fe.createElement(E,{isIn:j,done:V,position:S,preventExitTransition:t,nodeRef:r,playToast:o},Fe.createElement("div",{id:U,tabIndex:0,onClick:p,"data-in":j,className:J,...a,style:C,ref:r,...j&&{role:b,"aria-label":L}},oe!=null&&Fe.createElement("div",{className:Io("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},oe),wN(h,n,!e),ae,!n.customProgressBar&&Fe.createElement(V5,{...T&&!$?{key:`p-${T}`}:{},rtl:z,theme:k,delay:f,isRunning:e,isIn:j,closeToast:_,hide:x,type:y,className:A,controlledProgress:$,progress:O||0})))},c6=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),u6=k5(c6("bounce",!0)),d6={position:"top-right",transition:u6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Fv(n){let e={...d6,...n},t=n.stacked,[r,a]=q.useState(!0),o=q.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=Z5(e),{className:p,style:y,rtl:x,containerId:_,hotKeys:E}=e;function S(C){let A=Io("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":x});return Di(p)?p({position:C,rtl:x,defaultClassName:A}):Io(A,gy(p))}function P(){t&&(a(!0),Je.play())}return e6(()=>{var C;if(t){let A=o.current.querySelectorAll('[data-in="true"]'),T=12,b=(C=e.position)==null?void 0:C.includes("top"),O=0,z=0;Array.from(A).reverse().forEach((U,V)=>{let j=U;j.classList.add("Toastify__toast--stacked"),V>0&&(j.dataset.collapsed=`${r}`),j.dataset.pos||(j.dataset.pos=b?"top":"bot");let M=O*(r?.2:1)+(r?0:T*V);j.style.setProperty("--y",`${b?M:M*-1}px`),j.style.setProperty("--g",`${T}`),j.style.setProperty("--s",`${1-(r?z:0)}`),O+=j.offsetHeight,z+=.025})}},[r,f,t]),q.useEffect(()=>{function C(A){var T;let b=o.current;E(A)&&((T=b.querySelector('[tabIndex="0"]'))==null||T.focus(),a(!1),Je.pause()),A.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(a(!0),Je.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[E]),Fe.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{t&&(a(!1),Je.pause())},onMouseLeave:P,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((C,A)=>{let T=A.length?{...y}:{...y,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:S(C),"data-stacked":t,style:T,key:`c-${C}`},A.map(({content:b,props:O})=>Fe.createElement(l6,{...O,stacked:t,collapseAll:P,isIn:h(O.toastId,O.containerId),key:`t-${O.key}`},b)))}))}const AN=()=>{const[t,r]=RI(),a=Number(t.get("page"))||1,[o,c]=q.useState(!1),h=q.useRef(null),f=C=>(typeof C!="number"&&(C=parseFloat(C)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(C)),{data:p=[],isLoading:y}=T5({queryKey:["allProducts"],queryFn:async()=>{const C=await is(Zn(Ft,"products")),A=[];C.forEach(b=>{const O=b.data();O.available&&O.stock>0&&A.push({id:b.id,...O})});const T=[...A];for(let b=T.length-1;b>0;b--){const O=Math.floor(Math.random()*(b+1));[T[b],T[O]]=[T[O],T[b]]}return T},staleTime:1/0,cacheTime:24*60*60*1e3}),x=p.slice(0,10+(a-1)*6),_=C=>{var b;const A=JSON.parse(localStorage.getItem("cart"))||[],T=A.find(O=>O.id===C.id);T?T.quantity+=1:A.push({id:C.id,name:C.name,price:C.discount?Math.round(C.price-C.price*(C.discount/100)):Math.round(C.price),image:C.mainImage||((b=C.images)==null?void 0:b[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(A)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),Je.success(`${C.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},E=C=>{C.colorVariants&&C.colorVariants.length>0?window.location.href=`/product/${C.id}`:_(C)},S=C=>{C.colorVariants&&C.colorVariants.length>0?window.location.href=`/product/${C.id}`:(_(C),window.location.href="/cart")},P=async()=>{const C=window.scrollY||document.documentElement.scrollTop;c(!0),await new Promise(A=>setTimeout(A,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,C),c(!1)},0)};return y?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):d.jsxs("div",{className:"md:px-4 min-h-screen w-[100%]",ref:h,children:[d.jsx(Fv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsx("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:"All Products /"}),x.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:x.map(C=>{var M;const A=C.discount&&C.discount>0,T=C.colorVariants&&C.colorVariants.length>0,O=window.innerWidth<768?17:25,z=C.name.length>O,U=z?`${C.name.substring(0,O)}...`:C.name,V=A?Math.round(C.price-C.price*(C.discount/100)):null,j=A?V:Math.round(C.price);return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${C.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:C.mainImage||((M=C.images)==null?void 0:M[0])||"/placeholder-product.jpg",alt:C.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),A&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[C.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[U,z&&d.jsx(ot,{to:`/product/${C.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",f(j)]}),A&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",f(Math.round(C.price))]})})]}),C.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",C.productType,")"]})]})})]}),d.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100  space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>E(C),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:T?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>S(C),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${C.stock>0?"text-green-600":"text-red-500"}`,children:C.stock>0?"In Stock":"Out of Stock"}),C.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[C.stock," units"]})]})]})]},C.id)})}),p.length>x.length&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:P,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function RE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function qv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:RE(e[r])&&RE(n[r])&&Object.keys(e[r]).length>0&&qv(n[r],e[r])})}const CN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function vs(){const n=typeof document<"u"?document:{};return qv(n,CN),n}const h6={document:CN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function dr(){const n=typeof window<"u"?window:{};return qv(n,h6),n}function f6(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function m6(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function by(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function jo(){return Date.now()}function p6(n){const e=dr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function g6(n,e){e===void 0&&(e="x");const t=dr();let r,a,o;const c=p6(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Bu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function y6(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Lr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!y6(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const h=a[o],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(Bu(n[h])&&Bu(r[h])?r[h].__swiper__?n[h]=r[h]:Lr(n[h],r[h]):!Bu(n[h])&&Bu(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:Lr(n[h],r[h])):n[h]=r[h])}}}return n}function of(n,e,t){n.style.setProperty(e,t)}function RN(n){let{swiper:e,targetPosition:t,side:r}=n;const a=dr(),o=-e.translate;let c=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(_,E)=>p==="next"&&_>=E||p==="prev"&&_<=E,x=()=>{h=new Date().getTime(),c===null&&(c=h);const _=Math.max(Math.min((h-c)/f,1),0),E=.5-Math.cos(_*Math.PI)/2;let S=o+E*(t-o);if(y(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),y(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(x)};x()}function ys(n,e){e===void 0&&(e="");const t=dr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function v6(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function x6(n,e){const t=dr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=v6(n,e))),r}function am(n){try{console.warn(n);return}catch{}}function om(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:f6(e)),t}function b6(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function w6(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ta(n,e){return dr().getComputedStyle(n,null).getPropertyValue(e)}function lm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function IN(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function h0(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function wy(n,e,t){const r=dr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function In(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let f0;function _6(){const n=dr(),e=vs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function jN(){return f0||(f0=_6()),f0}let m0;function E6(n){let{userAgent:e}=n===void 0?{}:n;const t=jN(),r=dr(),a=r.navigator.platform,o=e||r.navigator.userAgent,c={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const x=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=a==="Win32";let S=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&S&&t.touch&&P.indexOf(`${h}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),S=!1),p&&!E&&(c.os="android",c.android=!0),(y||_||x)&&(c.os="ios",c.ios=!0),c}function MN(n){return n===void 0&&(n={}),m0||(m0=E6(n)),m0}let p0;function T6(){const n=dr(),e=MN();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function ON(){return p0||(p0=T6()),p0}function S6(n){let{swiper:e,on:t,emit:r}=n;const a=dr();let o=null,c=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(x=>{c=a.requestAnimationFrame(()=>{const{width:_,height:E}=e;let S=_,P=E;x.forEach(C=>{let{contentBoxSize:A,contentRect:T,target:b}=C;b&&b!==e.el||(S=T?T.width:(A[0]||A).inlineSize,P=T?T.height:(A[0]||A).blockSize)}),(S!==_||P!==E)&&h()})}),o.observe(e.el))},p=()=>{c&&a.cancelAnimationFrame(c),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",h),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",h),a.removeEventListener("orientationchange",y)})}function N6(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],c=dr(),h=function(y,x){x===void 0&&(x={});const _=c.MutationObserver||c.WebkitMutationObserver,E=new _(S=>{if(e.__preventObserver__)return;if(S.length===1){a("observerUpdate",S[0]);return}const P=function(){a("observerUpdate",S[0])};c.requestAnimationFrame?c.requestAnimationFrame(P):c.setTimeout(P,0)});E.observe(y,{attributes:typeof x.attributes>"u"?!0:x.attributes,childList:e.isElement||(typeof x.childList>"u"?!0:x).childList,characterData:typeof x.characterData>"u"?!0:x.characterData}),o.push(E)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=IN(e.hostEl);for(let x=0;x<y.length;x+=1)h(y[x])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var A6={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function C6(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ta(r,"padding-left")||0,10)-parseInt(Ta(r,"padding-right")||0,10),t=t-parseInt(Ta(r,"padding-top")||0,10)-parseInt(Ta(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function R6(){const n=this;function e(D,k){return parseFloat(D.getPropertyValue(n.getDirectionLabel(k))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=ys(a,`.${n.params.slideClass}, swiper-slide`),x=f?n.virtual.slides.length:y.length;let _=[];const E=[],S=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let C=t.slidesOffsetAfter;typeof C=="function"&&(C=t.slidesOffsetAfter.call(n));const A=n.snapGrid.length,T=n.slidesGrid.length;let b=t.spaceBetween,O=-P,z=0,U=0;if(typeof o>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*o:typeof b=="string"&&(b=parseFloat(b)),n.virtualSize=-b,y.forEach(D=>{c?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(of(r,"--swiper-centered-offset-before",""),of(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let j;const M=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(D=>typeof t.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<x;D+=1){j=0;let k;if(y[D]&&(k=y[D]),V&&n.grid.updateSlide(D,k,y),!(y[D]&&Ta(k,"display")==="none")){if(t.slidesPerView==="auto"){M&&(y[D].style[n.getDirectionLabel("width")]="");const L=getComputedStyle(k),R=k.style.transform,J=k.style.webkitTransform;if(R&&(k.style.transform="none"),J&&(k.style.webkitTransform="none"),t.roundLengths)j=n.isHorizontal()?wy(k,"width"):wy(k,"height");else{const oe=e(L,"width"),$=e(L,"padding-left"),se=e(L,"padding-right"),ae=e(L,"margin-left"),xe=e(L,"margin-right"),H=L.getPropertyValue("box-sizing");if(H&&H==="border-box")j=oe+ae+xe;else{const{clientWidth:ce,offsetWidth:ve}=k;j=oe+$+se+ae+xe+(ve-ce)}}R&&(k.style.transform=R),J&&(k.style.webkitTransform=J),t.roundLengths&&(j=Math.floor(j))}else j=(o-(t.slidesPerView-1)*b)/t.slidesPerView,t.roundLengths&&(j=Math.floor(j)),y[D]&&(y[D].style[n.getDirectionLabel("width")]=`${j}px`);y[D]&&(y[D].swiperSlideSize=j),S.push(j),t.centeredSlides?(O=O+j/2+z/2+b,z===0&&D!==0&&(O=O-o/2-b),D===0&&(O=O-o/2-b),Math.abs(O)<1/1e3&&(O=0),t.roundLengths&&(O=Math.floor(O)),U%t.slidesPerGroup===0&&_.push(O),E.push(O)):(t.roundLengths&&(O=Math.floor(O)),(U-Math.min(n.params.slidesPerGroupSkip,U))%n.params.slidesPerGroup===0&&_.push(O),E.push(O),O=O+j+b),n.virtualSize+=j+b,z=j,U+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+C,c&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+b}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+b}px`),V&&n.grid.updateWrapperSize(j,_),!t.centeredSlides){const D=[];for(let k=0;k<_.length;k+=1){let L=_[k];t.roundLengths&&(L=Math.floor(L)),_[k]<=n.virtualSize-o&&D.push(L)}_=D,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(f&&t.loop){const D=S[0]+b;if(t.slidesPerGroup>1){const k=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),L=D*t.slidesPerGroup;for(let R=0;R<k;R+=1)_.push(_[_.length-1]+L)}for(let k=0;k<n.virtual.slidesBefore+n.virtual.slidesAfter;k+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+D),E.push(E[E.length-1]+D),n.virtualSize+=D}if(_.length===0&&(_=[0]),b!==0){const D=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");y.filter((k,L)=>!t.cssMode||t.loop?!0:L!==y.length-1).forEach(k=>{k.style[D]=`${b}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let D=0;S.forEach(L=>{D+=L+(b||0)}),D-=b;const k=D>o?D-o:0;_=_.map(L=>L<=0?-P:L>k?k+C:L)}if(t.centerInsufficientSlides){let D=0;S.forEach(L=>{D+=L+(b||0)}),D-=b;const k=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(D+k<o){const L=(o-D-k)/2;_.forEach((R,J)=>{_[J]=R-L}),E.forEach((R,J)=>{E[J]=R+L})}}if(Object.assign(n,{slides:y,snapGrid:_,slidesGrid:E,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){of(r,"--swiper-centered-offset-before",`${-_[0]}px`),of(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const D=-n.snapGrid[0],k=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(L=>L+D),n.slidesGrid=n.slidesGrid.map(L=>L+k)}if(x!==p&&n.emit("slidesLengthChange"),_.length!==A&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==T&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const D=`${t.containerModifierClass}backface-hidden`,k=n.el.classList.contains(D);x<=t.maxBackfaceHiddenSlides?k||n.el.classList.add(D):k&&n.el.classList.remove(D)}}function I6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!r)break;t.push(c(h))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const h=t[o].offsetHeight;a=h>a?h:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function j6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const IE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function M6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const x=(c+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),_=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),E=-(c-y),S=E+e.slidesSizesGrid[f],P=E>=0&&E<=e.size-e.slidesSizesGrid[f],C=E>=0&&E<e.size-1||S>1&&S<=e.size||E<=0&&S>=e.size;C&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),IE(p,C,t.slideVisibleClass),IE(p,P,t.slideFullyVisibleClass),p.progress=a?-x:x,p.originalProgress=a?-_:_}}function O6(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:h}=e;const f=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,x=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,c=x||a>=1,y&&(a=0),x&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),x=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[y],E=e.slidesGrid[x],S=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=_?h=(P-_)/S:h=(P+S-E)/S,h>1&&(h-=1)}Object.assign(e,{progress:a,progressLoop:h,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(f&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const g0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function D6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,h=x=>ys(r,`.${t.slideClass}${x}, swiper-slide${x}`)[0];let f,p,y;if(o)if(t.loop){let x=a-n.virtual.slidesBefore;x<0&&(x=n.virtual.slides.length+x),x>=n.virtual.slides.length&&(x-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${x}"]`)}else f=h(`[data-swiper-slide-index="${a}"]`);else c?(f=e.find(x=>x.column===a),y=e.find(x=>x.column===a+1),p=e.find(x=>x.column===a-1)):f=e[a];f&&(c||(y=w6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=b6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(x=>{g0(x,x===f,t.slideActiveClass),g0(x,x===y,t.slideNextClass),g0(x,x===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Cf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},y0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},_y=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,h=[c-e];h.push(...Array.from({length:e}).map((f,p)=>c+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&y0(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const h=(c%t+t)%t;(h<a||h>o)&&y0(n,h)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&y0(n,c)};function P6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function k6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:h}=e;let f=n,p;const y=E=>{let S=E-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof f>"u"&&(f=P6(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const E=Math.min(a.slidesPerGroupSkip,f);p=E+Math.floor((f-E)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===o&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const x=e.grid&&a.grid&&a.grid.rows>1;let _;if(e.virtual&&a.virtual.enabled&&a.loop)_=y(f);else if(x){const E=e.slides.find(P=>P.column===f);let S=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(E),0)),_=Math.floor(S/a.grid.rows)}else if(e.slides[f]){const E=e.slides[f].getAttribute("data-swiper-slide-index");E?_=parseInt(E,10):_=f}else _=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:c,realIndex:_,previousIndex:o,activeIndex:f}),e.initialized&&_y(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function L6(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!a&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(a=h)});let o=!1,c;if(a){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===a){o=!0,c=h;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var V6={updateSize:C6,updateSlides:R6,updateAutoHeight:I6,updateSlidesOffset:j6,updateSlidesProgress:M6,updateProgress:O6,updateSlidesClasses:D6,updateActiveIndex:k6,updateClickedSlide:L6};function z6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=g6(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function U6(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,a.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:a.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let y;const x=t.maxTranslate()-t.minTranslate();x===0?y=0:y=(n-t.minTranslate())/x,y!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function B6(){return-this.snapGrid[0]}function F6(){return-this.snapGrid[this.snapGrid.length-1]}function q6(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:c,wrapperEl:h}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const f=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,o.updateProgress(y),c.cssMode){const x=o.isHorizontal();if(e===0)h[x?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return RN({swiper:o,targetPosition:-y,side:x?"left":"top"}),!0;h.scrollTo({[x?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var H6={getTranslate:z6,setTranslate:U6,minTranslate:B6,maxTranslate:F6,translateTo:q6};function $6(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function DN(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:c}=e;let h=r;if(h||(o>c?h="next":o<c?h="prev":h="reset"),e.emit(`transition${a}`),t&&o!==c){if(h==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),h==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function G6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),DN({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Q6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),DN({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var K6={setTransition:$6,transitionStart:G6,transitionEnd:Q6};function Y6(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:x,rtlTranslate:_,wrapperEl:E,enabled:S}=o;if(!S&&!r&&!a||o.destroyed||o.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,c);let C=P+Math.floor((c-P)/o.params.slidesPerGroup);C>=f.length&&(C=f.length-1);const A=-f[C];if(h.normalizeSlideIndex)for(let V=0;V<p.length;V+=1){const j=-Math.floor(A*100),M=Math.floor(p[V]*100),D=Math.floor(p[V+1]*100);typeof p[V+1]<"u"?j>=M&&j<D-(D-M)/2?c=V:j>=M&&j<D&&(c=V+1):j>=M&&(c=V)}if(o.initialized&&c!==x&&(!o.allowSlideNext&&(_?A>o.translate&&A>o.minTranslate():A<o.translate&&A<o.minTranslate())||!o.allowSlidePrev&&A>o.translate&&A>o.maxTranslate()&&(x||0)!==c))return!1;c!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(A);let T;c>x?T="next":c<x?T="prev":T="reset";const b=o.virtual&&o.params.virtual.enabled;if(!(b&&a)&&(_&&-A===o.translate||!_&&A===o.translate))return o.updateActiveIndex(c),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),h.effect!=="slide"&&o.setTranslate(A),T!=="reset"&&(o.transitionStart(t,T),o.transitionEnd(t,T)),!1;if(h.cssMode){const V=o.isHorizontal(),j=_?A:-A;if(e===0)b&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),b&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[V?"scrollLeft":"scrollTop"]=j})):E[V?"scrollLeft":"scrollTop"]=j,b&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return RN({swiper:o,targetPosition:j,side:V?"left":"top"}),!0;E.scrollTo({[V?"left":"top"]:j,behavior:"smooth"})}return!0}const U=ON().isSafari;return b&&!a&&U&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(A),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,T),e===0?o.transitionEnd(t,T):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(j){!o||o.destroyed||j.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,T))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function X6(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let h;if(o){const _=c*a.params.grid.rows;h=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===_).column}else h=a.getSlideIndexByData(c);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let x=f-h<y;if(p&&(x=x||h<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(x=!1),x){const _=p?h<a.activeIndex?"prev":"next":h-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?h+1:h-f+1,slideRealIndex:_==="next"?a.realIndex:void 0})}if(o){const _=c*a.params.grid.rows;c=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===_).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function W6(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:h,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function Z6(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const x=h?r.translate:-r.translate;function _(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const E=_(x),S=o.map(T=>_(T)),P=a.freeMode&&a.freeMode.enabled;let C=o[S.indexOf(E)-1];if(typeof C>"u"&&(a.cssMode||P)){let T;o.forEach((b,O)=>{E>=b&&(T=O)}),typeof T<"u"&&(C=P?o[T]:o[T>0?T-1:T])}let A=0;if(typeof C<"u"&&(A=c.indexOf(C),A<0&&(A=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(A=A-r.slidesPerViewDynamic("previous",!0)+1,A=Math.max(A,0))),a.rewind&&r.isBeginning){const T=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(T,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(A,n,e,t)}),!0;return r.slideTo(A,n,e,t)}function J6(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function eL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),h=c+Math.floor((o-c)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[h]){const p=a.snapGrid[h],y=a.snapGrid[h+1];f-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[h-1],y=a.snapGrid[h];f-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function tL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(ys(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),by(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(ys(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),by(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var nL={slideTo:Y6,slideToLoop:X6,slideNext:W6,slidePrev:Z6,slideReset:J6,slideToClosest:eL,slideToClickedSlide:tL};function rL(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ys(a,`.${r.slideClass}, swiper-slide`).forEach((_,E)=>{_.setAttribute("data-swiper-slide-index",E)})},c=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(c?r.grid.rows:1),f=t.slides.length%h!==0,p=c&&t.slides.length%r.grid.rows!==0,y=x=>{for(let _=0;_<x;_+=1){const E=t.isElement?om("swiper-slide",[r.slideBlankClass]):om("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(E)}};if(f){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;y(x),t.recalcSlides(),t.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;y(x),t.recalcSlides(),t.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function sL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:c,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:x,allowSlideNext:_,slidesEl:E,params:S}=p,{centeredSlides:P,initialSlide:C}=S;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&S.virtual.enabled){t&&(!S.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):S.centeredSlides&&p.snapIndex<S.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=x,p.allowSlideNext=_,p.emit("loopFix");return}let A=S.slidesPerView;A==="auto"?A=p.slidesPerViewDynamic():(A=Math.ceil(parseFloat(S.slidesPerView,10)),P&&A%2===0&&(A=A+1));const T=S.slidesPerGroupAuto?A:S.slidesPerGroup;let b=T;b%T!==0&&(b+=T-b%T),b+=S.loopAdditionalSlides,p.loopedSlides=b;const O=p.grid&&S.grid&&S.grid.rows>1;y.length<A+b||p.params.effect==="cards"&&y.length<A+b*2?am("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&S.grid.fill==="row"&&am("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],U=[],V=O?Math.ceil(y.length/S.grid.rows):y.length,j=c&&V-C<A&&!P;let M=j?C:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(S.slideActiveClass))):M=o;const D=r==="next"||!r,k=r==="prev"||!r;let L=0,R=0;const oe=(O?y[o].column:o)+(P&&typeof a>"u"?-A/2+.5:0);if(oe<b){L=Math.max(b-oe,T);for(let $=0;$<b-oe;$+=1){const se=$-Math.floor($/V)*V;if(O){const ae=V-se-1;for(let xe=y.length-1;xe>=0;xe-=1)y[xe].column===ae&&z.push(xe)}else z.push(V-se-1)}}else if(oe+A>V-b){R=Math.max(oe-(V-b*2),T),j&&(R=Math.max(R,A-V+C+1));for(let $=0;$<R;$+=1){const se=$-Math.floor($/V)*V;O?y.forEach((ae,xe)=>{ae.column===se&&U.push(xe)}):U.push(se)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<A+b*2&&(U.includes(o)&&U.splice(U.indexOf(o),1),z.includes(o)&&z.splice(z.indexOf(o),1)),k&&z.forEach($=>{y[$].swiperLoopMoveDOM=!0,E.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),D&&U.forEach($=>{y[$].swiperLoopMoveDOM=!0,E.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),S.slidesPerView==="auto"?p.updateSlides():O&&(z.length>0&&k||U.length>0&&D)&&p.slides.forEach(($,se)=>{p.grid.updateSlide(se,$,p.slides)}),S.watchSlidesProgress&&p.updateSlidesOffset(),t){if(z.length>0&&k){if(typeof e>"u"){const $=p.slidesGrid[M],ae=p.slidesGrid[M+L]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(M+Math.ceil(L),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const $=O?z.length/S.grid.rows:z.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(U.length>0&&D)if(typeof e>"u"){const $=p.slidesGrid[M],ae=p.slidesGrid[M-R]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(M-R,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const $=O?U.length/S.grid.rows:U.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=x,p.allowSlideNext=_,p.controller&&p.controller.control&&!h){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...$,slideTo:se.params.slidesPerView===S.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===S.slidesPerView?t:!1})}p.emit("loopFix")}function iL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var aL={loopCreate:rL,loopFix:sL,loopDestroy:iL};function oL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function lL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var cL={setGrabCursor:oL,unsetGrabCursor:lL};function uL(n,e){e===void 0&&(e=this);function t(r){if(!r||r===vs()||r===dr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function jE(n,e,t){const r=dr(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function dL(n){const e=this,t=vs();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){jE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!x6(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const x=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?uL(x,f):f.closest(x))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const E=c.currentX,S=c.currentY;if(!jE(e,r,E))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=E,c.startY=S,a.touchStartTime=jo(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;f.matches(a.focusableElements)&&(P=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const C=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||C)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function hL(n){const e=vs(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:h}=t;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(z=>z.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,x=p.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=x;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x}),r.touchStartTime=jo());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(x<o.startY&&t.translate<=t.maxTranslate()||x>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=x;const _=o.currentX-o.startX,E=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+E**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let z;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+E*E>=25&&(z=Math.atan2(Math.abs(E),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?z>a.touchAngle:90-z>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let S=t.isHorizontal()?_:E,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(S=Math.abs(S)*(c?1:-1),P=Math.abs(P)*(c?1:-1)),o.diff=S,S*=a.touchRatio,c&&(S=-S,P=-P);const C=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const A=t.params.loop&&!a.cssMode,T=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(A&&T&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const z=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(z)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&C!==t.touchesDirection&&A&&T&&Math.abs(S)>=1){Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let b=!0,O=a.resistanceRatio;if(a.touchReleaseOnEdges&&(O=0),S>0?(A&&T&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(b=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**O))):S<0&&(A&&T&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(b=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**O))),b&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(S)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function fL(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(z=>z.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:h,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const x=jo(),_=x-t.touchStartTime;if(e.allowClick){const z=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(z&&z[0]||r.target,z),e.emit("tap click",r),_<300&&x-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=jo(),by(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let E;if(c.followFinger?E=f?e.translate:-e.translate:E=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const S=E>=-e.maxTranslate()&&!e.params.loop;let P=0,C=e.slidesSizesGrid[0];for(let z=0;z<p.length;z+=z<c.slidesPerGroupSkip?1:c.slidesPerGroup){const U=z<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[z+U]<"u"?(S||E>=p[z]&&E<p[z+U])&&(P=z,C=p[z+U]-p[z]):(S||E>=p[z])&&(P=z,C=p[p.length-1]-p[p.length-2])}let A=null,T=null;c.rewind&&(e.isBeginning?T=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(A=0));const b=(E-p[P])/C,O=P<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(_>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?A:P+O):e.slideTo(P)),e.swipeDirection==="prev"&&(b>1-c.longSwipesRatio?e.slideTo(P+O):T!==null&&b<0&&Math.abs(b)>c.longSwipesRatio?e.slideTo(T):e.slideTo(P))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+O):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(A!==null?A:P+O),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:P))}}function ME(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function mL(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function pL(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function gL(n){const e=this;Cf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function yL(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const PN=(n,e)=>{const t=vs(),{params:r,el:a,wrapperEl:o,device:c}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",ME,!0):n[p]("observerUpdate",ME,!0),a[f]("load",n.onLoad,{capture:!0}))};function vL(){const n=this,{params:e}=n;n.onTouchStart=dL.bind(n),n.onTouchMove=hL.bind(n),n.onTouchEnd=fL.bind(n),n.onDocumentTouchStart=yL.bind(n),e.cssMode&&(n.onScroll=pL.bind(n)),n.onClick=mL.bind(n),n.onLoad=gL.bind(n),PN(n,"on")}function xL(){PN(this,"off")}var bL={attachEvents:vL,detachEvents:xL};const OE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function wL(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=vs(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,h,f);if(!p||n.currentBreakpoint===p)return;const x=(p in o?o[p]:void 0)||n.originalParams,_=OE(n,r),E=OE(n,x),S=n.params.grabCursor,P=x.grabCursor,C=r.enabled;_&&!E?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&E&&(a.classList.add(`${r.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!P?n.unsetGrabCursor():!S&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof x[U]>"u")return;const V=r[U]&&r[U].enabled,j=x[U]&&x[U].enabled;V&&!j&&n[U].disable(),!V&&j&&n[U].enable()});const A=x.direction&&x.direction!==r.direction,T=r.loop&&(x.slidesPerView!==r.slidesPerView||A),b=r.loop;A&&t&&n.changeDirection(),Lr(n.params,x);const O=n.params.enabled,z=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),C&&!O?n.disable():!C&&O&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",x),t&&(T?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!b&&z?(n.loopCreate(e),n.updateSlides()):b&&!z&&n.loopDestroy()),n.emit("breakpoint",x)}function _L(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=dr(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:o*f,point:h}}return{value:h,point:h}});c.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<c.length;h+=1){const{point:f,value:p}=c[h];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var EL={setBreakpoint:wL,getBreakpoint:_L};function TL(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function SL(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=TL(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function NL(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var AL={addClasses:SL,removeClasses:NL};function CL(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var RL={checkOverflow:CL},Ey={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function IL(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Lr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Lr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Lr(e,r)}}const v0={eventsEmitter:A6,update:V6,translate:H6,transition:K6,slide:nL,loop:aL,grabCursor:cL,events:bL,breakpoints:EL,checkOverflow:RL,classes:AL},x0={};let Hv=class Ti{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Lr({},t),e&&!t.el&&(t.el=e);const c=vs();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const y=[];return c.querySelectorAll(t.el).forEach(x=>{const _=Lr({},t,{el:x});y.push(new Ti(_))}),y}const h=this;h.__swiper__=!0,h.support=jN(),h.device=MN({userAgent:t.userAgent}),h.browser=ON(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:IL(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=Lr({},Ey,f);return h.params=Lr({},p,x0,t),h.originalParams=Lr({},h.params),h.passedParams=Lr({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=ys(t,`.${r.slideClass}, swiper-slide`),o=lm(a[0]);return lm(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ys(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:h,size:f,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let x=o[p]?Math.ceil(o[p].swiperSlideSize):0,_;for(let E=p+1;E<o.length;E+=1)o[E]&&!_&&(x+=Math.ceil(o[E].swiperSlideSize),y+=1,x>f&&(_=!0));for(let E=p-1;E>=0;E-=1)o[E]&&!_&&(x+=o[E].swiperSlideSize,y+=1,x>f&&(_=!0))}else if(e==="current")for(let x=p+1;x<o.length;x+=1)(t?c[x]+h[x]-c[p]<f:c[x]-c[p]<f)&&(y+=1);else for(let x=p-1;x>=0;x-=1)c[p]-c[x]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&Cf(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ys(r,a())[0];return!c&&t.params.createElements&&(c=om("div",t.params.wrapperClass),r.append(c),ys(r,`.${t.params.slideClass}`).forEach(h=>{c.append(h)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ta(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ta(r,"direction")==="rtl"),wrongRTL:Ta(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Cf(t,o):o.addEventListener("load",c=>{Cf(t,c.target)})}),_y(t),t.initialized=!0,_y(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:c,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),m6(r)),r.destroyed=!0),null}static extendDefaults(e){Lr(x0,e)}static get extendedDefaults(){return x0}static get defaults(){return Ey}static installModule(e){Ti.prototype.__modules__||(Ti.prototype.__modules__=[]);const t=Ti.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ti.installModule(t)),Ti):(Ti.installModule(e),Ti)}};Object.keys(v0).forEach(n=>{Object.keys(v0[n]).forEach(e=>{Hv.prototype[e]=v0[n][e]})});Hv.use([S6,N6]);const kN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Ql(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Vo(e[r])&&Vo(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Ql(n[r],e[r]):n[r]=e[r]})}function LN(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function VN(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function zN(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function UN(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function jL(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function ML(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:c,scrollbarEl:h,paginationEl:f}=n;const p=a.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:y,pagination:x,navigation:_,scrollbar:E,virtual:S,thumbs:P}=e;let C,A,T,b,O,z,U,V;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(C=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(A=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&x&&!x.el&&(T=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&E&&!E.el&&(b=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(O=!0);const j=M=>{e[M]&&(e[M].destroy(),M==="navigation"?(e.isElement&&(e[M].prevEl.remove(),e[M].nextEl.remove()),y[M].prevEl=void 0,y[M].nextEl=void 0,e[M].prevEl=void 0,e[M].nextEl=void 0):(e.isElement&&e[M].el.remove(),y[M].el=void 0,e[M].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?z=!0:!y.loop&&r.loop?U=!0:V=!0),p.forEach(M=>{if(Vo(y[M])&&Vo(r[M]))Object.assign(y[M],r[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in r[M]&&!r[M].enabled&&j(M);else{const D=r[M];(D===!0||D===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?D===!1&&j(M):y[M]=r[M]}}),p.includes("controller")&&!A&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&S&&y.virtual.enabled?(S.slides=t,S.update(!0)):a.includes("virtual")&&S&&y.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),a.includes("children")&&t&&y.loop&&(V=!0),C&&P.init()&&P.update(!0),A&&(e.controller.control=y.controller.control),T&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),x.init(),x.render(),x.update()),b&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),E.init(),E.updateSize(),E.setTranslate()),O&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),o&&(y.navigation.nextEl=o),c&&(y.navigation.prevEl=c),_.init(),_.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(z||V)&&e.loopDestroy(),(U||V)&&e.loopCreate(),e.update()}function OL(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Ql(t,Ey),t._emitClasses=!0,t.init=!1;const o={},c=kN.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(c.indexOf(f)>=0?Vo(n[f])?(t[f]={},a[f]={},Ql(t[f],n[f]),Ql(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function DL(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:c,swiper:h}=n;LN(e)&&r&&a&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=a,h.originalParams.navigation.prevEl=a),VN(e)&&o&&(h.params.pagination.el=o,h.originalParams.pagination.el=o),zN(e)&&c&&(h.params.scrollbar.el=c,h.originalParams.scrollbar.el=c),h.init(t)}function PL(n,e,t,r,a){const o=[];if(!e)return o;const c=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),p=t.map(a);f.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return kN.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Vo(n[f])&&Vo(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?c(f):(p.forEach(x=>{n[f][x]!==e[f][x]&&c(f)}),y.forEach(x=>{n[f][x]!==e[f][x]&&c(f)}))}else n[f]!==e[f]&&c(f)}),o}const kL=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function cm(){return cm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cm.apply(this,arguments)}function BN(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function FN(n){const e=[];return Fe.Children.toArray(n).forEach(t=>{BN(t)?e.push(t):t.props&&t.props.children&&FN(t.props.children).forEach(r=>e.push(r))}),e}function LL(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Fe.Children.toArray(n).forEach(r=>{if(BN(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=FN(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function VL(n,e,t){if(!t)return null;const r=y=>{let x=y;return y<0?x=e.length+y:x>=e.length&&(x=x-e.length),x},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=h;y<f;y+=1)y>=o&&y<=c&&p.push(e[r(y)]);return p.map((y,x)=>Fe.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${x}`}))}function Yu(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const DE=q.createContext(null),zL=q.createContext(null),Vl=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:c,...h}=n===void 0?{}:n,f=!1;const[p,y]=q.useState("swiper"),[x,_]=q.useState(null),[E,S]=q.useState(!1),P=q.useRef(!1),C=q.useRef(null),A=q.useRef(null),T=q.useRef(null),b=q.useRef(null),O=q.useRef(null),z=q.useRef(null),U=q.useRef(null),V=q.useRef(null),{params:j,passedParams:M,rest:D,events:k}=OL(h),{slides:L,slots:R}=LL(o),J=()=>{S(!E)};Object.assign(j.on,{_containerClasses(xe,H){y(H)}});const oe=()=>{Object.assign(j.on,k),f=!0;const xe={...j};if(delete xe.wrapperClass,A.current=new Hv(xe),A.current.virtual&&A.current.params.virtual.enabled){A.current.virtual.slides=L;const H={cache:!1,slides:L,renderExternal:_,renderExternalUpdate:!1};Ql(A.current.params.virtual,H),Ql(A.current.originalParams.virtual,H)}};C.current||oe(),A.current&&A.current.on("_beforeBreakpoint",J);const $=()=>{f||!k||!A.current||Object.keys(k).forEach(xe=>{A.current.on(xe,k[xe])})},se=()=>{!k||!A.current||Object.keys(k).forEach(xe=>{A.current.off(xe,k[xe])})};q.useEffect(()=>()=>{A.current&&A.current.off("_beforeBreakpoint",J)}),q.useEffect(()=>{!P.current&&A.current&&(A.current.emitSlidesClasses(),P.current=!0)}),Yu(()=>{if(e&&(e.current=C.current),!!C.current)return A.current.destroyed&&oe(),DL({el:C.current,nextEl:O.current,prevEl:z.current,paginationEl:U.current,scrollbarEl:V.current,swiper:A.current},j),c&&!A.current.destroyed&&c(A.current),()=>{A.current&&!A.current.destroyed&&A.current.destroy(!0,!1)}},[]),Yu(()=>{$();const xe=PL(M,T.current,L,b.current,H=>H.key);return T.current=M,b.current=L,xe.length&&A.current&&!A.current.destroyed&&ML({swiper:A.current,slides:L,passedParams:M,changedParams:xe,nextEl:O.current,prevEl:z.current,scrollbarEl:V.current,paginationEl:U.current}),()=>{se()}}),Yu(()=>{kL(A.current)},[x]);function ae(){return j.virtual?VL(A.current,L,x):L.map((xe,H)=>Fe.cloneElement(xe,{swiper:A.current,swiperSlideIndex:H}))}return Fe.createElement(r,cm({ref:C,className:UN(`${p}${t?` ${t}`:""}`)},D),Fe.createElement(zL.Provider,{value:A.current},R["container-start"],Fe.createElement(a,{className:jL(j.wrapperClass)},R["wrapper-start"],ae(),R["wrapper-end"]),LN(j)&&Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:z,className:"swiper-button-prev"}),Fe.createElement("div",{ref:O,className:"swiper-button-next"})),zN(j)&&Fe.createElement("div",{ref:V,className:"swiper-scrollbar"}),VN(j)&&Fe.createElement("div",{ref:U,className:"swiper-pagination"}),R["container-end"]))});Vl.displayName="Swiper";const zl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:c,lazy:h,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const x=q.useRef(null),[_,E]=q.useState("swiper-slide"),[S,P]=q.useState(!1);function C(O,z,U){z===x.current&&E(U)}Yu(()=>{if(typeof p<"u"&&(x.current.swiperSlideIndex=p),e&&(e.current=x.current),!(!x.current||!o)){if(o.destroyed){_!=="swiper-slide"&&E("swiper-slide");return}return o.on("_slideClass",C),()=>{o&&o.off("_slideClass",C)}}}),Yu(()=>{o&&x.current&&!o.destroyed&&E(o.getSlideClasses(x.current))},[o]);const A={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},T=()=>typeof r=="function"?r(A):r,b=()=>{P(!0)};return Fe.createElement(t,cm({ref:x,className:UN(`${_}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:b},y),c&&Fe.createElement(DE.Provider,{value:A},Fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},T(),h&&!S&&Fe.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Fe.createElement(DE.Provider,{value:A},T(),h&&!S&&Fe.createElement("div",{className:"swiper-lazy-preloader"})))});zl.displayName="SwiperSlide";function qN(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=ys(n.el,`.${r[a]}`)[0];o||(o=om("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function Rf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(S){let P;return S&&typeof S=="string"&&e.isElement&&(P=e.el.querySelector(S)||e.hostEl.querySelector(S),P)?P:(S&&(typeof S=="string"&&(P=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&P&&P.length>1&&e.el.querySelectorAll(S).length===1?P=e.el.querySelector(S):P&&P.length===1&&(P=P[0])),S&&!P?S:P)}function c(S,P){const C=e.params.navigation;S=In(S),S.forEach(A=>{A&&(A.classList[P?"add":"remove"](...C.disabledClass.split(" ")),A.tagName==="BUTTON"&&(A.disabled=P),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](C.lockClass))})}function h(){const{nextEl:S,prevEl:P}=e.navigation;if(e.params.loop){c(P,!1),c(S,!1);return}c(P,e.isBeginning&&!e.params.rewind),c(S,e.isEnd&&!e.params.rewind)}function f(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const S=e.params.navigation;if(e.params.navigation=qN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let P=o(S.nextEl),C=o(S.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:C}),P=In(P),C=In(C);const A=(T,b)=>{T&&T.addEventListener("click",b==="next"?p:f),!e.enabled&&T&&T.classList.add(...S.lockClass.split(" "))};P.forEach(T=>A(T,"next")),C.forEach(T=>A(T,"prev"))}function x(){let{nextEl:S,prevEl:P}=e.navigation;S=In(S),P=In(P);const C=(A,T)=>{A.removeEventListener("click",T==="next"?p:f),A.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(A=>C(A,"next")),P.forEach(A=>C(A,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?E():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{nextEl:S,prevEl:P}=e.navigation;if(S=In(S),P=In(P),e.enabled){h();return}[...S,...P].filter(C=>!!C).forEach(C=>C.classList.add(e.params.navigation.lockClass))}),r("click",(S,P)=>{let{nextEl:C,prevEl:A}=e.navigation;C=In(C),A=In(A);const T=P.target;let b=A.includes(T)||C.includes(T);if(e.isElement&&!b){const O=P.path||P.composedPath&&P.composedPath();O&&(b=O.find(z=>C.includes(z)||A.includes(z)))}if(e.params.navigation.hideOnClick&&!b){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let O;C.length?O=C[0].classList.contains(e.params.navigation.hiddenClass):A.length&&(O=A[0].classList.contains(e.params.navigation.hiddenClass)),a(O===!0?"navigationShow":"navigationHide"),[...C,...A].filter(z=>!!z).forEach(z=>z.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},E=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),x()};Object.assign(e.navigation,{enable:_,disable:E,update:h,init:y,destroy:x})}function Iu(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function UL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(T,b){const{bulletActiveClass:O}=e.params.pagination;T&&(T=T[`${b==="prev"?"previous":"next"}ElementSibling`],T&&(T.classList.add(`${O}-${b}`),T=T[`${b==="prev"?"previous":"next"}ElementSibling`],T&&T.classList.add(`${O}-${b}-${b}`)))}function y(T,b,O){if(T=T%O,b=b%O,b===T+1)return"next";if(b===T-1)return"previous"}function x(T){const b=T.target.closest(Iu(e.params.pagination.bulletClass));if(!b)return;T.preventDefault();const O=lm(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===O)return;const z=y(e.realIndex,O,e.slides.length);z==="next"?e.slideNext():z==="previous"?e.slidePrev():e.slideToLoop(O)}else e.slideTo(O)}function _(){const T=e.rtl,b=e.params.pagination;if(f())return;let O=e.pagination.el;O=In(O);let z,U;const V=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,j=e.params.loop?Math.ceil(V/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,z=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(z=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,z=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const M=e.pagination.bullets;let D,k,L;if(b.dynamicBullets&&(c=wy(M[0],e.isHorizontal()?"width":"height"),O.forEach(R=>{R.style[e.isHorizontal()?"width":"height"]=`${c*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&U!==void 0&&(h+=z-(U||0),h>b.dynamicMainBullets-1?h=b.dynamicMainBullets-1:h<0&&(h=0)),D=Math.max(z-h,0),k=D+(Math.min(M.length,b.dynamicMainBullets)-1),L=(k+D)/2),M.forEach(R=>{const J=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${b.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();R.classList.remove(...J)}),O.length>1)M.forEach(R=>{const J=lm(R);J===z?R.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&R.setAttribute("part","bullet"),b.dynamicBullets&&(J>=D&&J<=k&&R.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),J===D&&p(R,"prev"),J===k&&p(R,"next"))});else{const R=M[z];if(R&&R.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&M.forEach((J,oe)=>{J.setAttribute("part",oe===z?"bullet-active":"bullet")}),b.dynamicBullets){const J=M[D],oe=M[k];for(let $=D;$<=k;$+=1)M[$]&&M[$].classList.add(...`${b.bulletActiveClass}-main`.split(" "));p(J,"prev"),p(oe,"next")}}if(b.dynamicBullets){const R=Math.min(M.length,b.dynamicMainBullets+4),J=(c*R-c)/2-L*c,oe=T?"right":"left";M.forEach($=>{$.style[e.isHorizontal()?oe:"top"]=`${J}px`})}}O.forEach((M,D)=>{if(b.type==="fraction"&&(M.querySelectorAll(Iu(b.currentClass)).forEach(k=>{k.textContent=b.formatFractionCurrent(z+1)}),M.querySelectorAll(Iu(b.totalClass)).forEach(k=>{k.textContent=b.formatFractionTotal(j)})),b.type==="progressbar"){let k;b.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const L=(z+1)/j;let R=1,J=1;k==="horizontal"?R=L:J=L,M.querySelectorAll(Iu(b.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${R}) scaleY(${J})`,oe.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(M.innerHTML=b.renderCustom(e,z+1,j),D===0&&a("paginationRender",M)):(D===0&&a("paginationRender",M),a("paginationUpdate",M)),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](b.lockClass)})}function E(){const T=e.params.pagination;if(f())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let O=e.pagination.el;O=In(O);let z="";if(T.type==="bullets"){let U=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>b&&(U=b);for(let V=0;V<U;V+=1)T.renderBullet?z+=T.renderBullet.call(e,V,T.bulletClass):z+=`<${T.bulletElement} ${e.isElement?'part="bullet"':""} class="${T.bulletClass}"></${T.bulletElement}>`}T.type==="fraction"&&(T.renderFraction?z=T.renderFraction.call(e,T.currentClass,T.totalClass):z=`<span class="${T.currentClass}"></span> / <span class="${T.totalClass}"></span>`),T.type==="progressbar"&&(T.renderProgressbar?z=T.renderProgressbar.call(e,T.progressbarFillClass):z=`<span class="${T.progressbarFillClass}"></span>`),e.pagination.bullets=[],O.forEach(U=>{T.type!=="custom"&&(U.innerHTML=z||""),T.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(Iu(T.bulletClass)))}),T.type!=="custom"&&a("paginationRender",O[0])}function S(){e.params.pagination=qN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let b;typeof T.el=="string"&&e.isElement&&(b=e.el.querySelector(T.el)),!b&&typeof T.el=="string"&&(b=[...document.querySelectorAll(T.el)]),b||(b=T.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(T.el)],b.length>1&&(b=b.find(O=>IN(O,".swiper")[0]===e.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=In(b),b.forEach(O=>{T.type==="bullets"&&T.clickable&&O.classList.add(...(T.clickableClass||"").split(" ")),O.classList.add(T.modifierClass+T.type),O.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(O.classList.add(`${T.modifierClass}${T.type}-dynamic`),h=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&O.classList.add(T.progressbarOppositeClass),T.clickable&&O.addEventListener("click",x),e.enabled||O.classList.add(T.lockClass)}))}function P(){const T=e.params.pagination;if(f())return;let b=e.pagination.el;b&&(b=In(b),b.forEach(O=>{O.classList.remove(T.hiddenClass),O.classList.remove(T.modifierClass+T.type),O.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(O.classList.remove(...(T.clickableClass||"").split(" ")),O.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(O=>O.classList.remove(...T.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:b}=e.pagination;b=In(b),b.forEach(O=>{O.classList.remove(T.horizontalClass,T.verticalClass),O.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?A():(S(),E(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{E(),_()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:T}=e.pagination;T&&(T=In(T),T.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(T,b)=>{const O=b.target,z=In(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&z&&z.length>0&&!O.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&O===e.navigation.nextEl||e.navigation.prevEl&&O===e.navigation.prevEl))return;const U=z[0].classList.contains(e.params.pagination.hiddenClass);a(U===!0?"paginationShow":"paginationHide"),z.forEach(V=>V.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=In(T),T.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),S(),E(),_()},A=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=In(T),T.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:C,disable:A,render:E,update:_,init:S,destroy:P})}function BL(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,h,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,x=new Date().getTime(),_,E,S,P,C,A,T;function b(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!(T||ae.detail&&ae.detail.bySwiperTouchMove)&&D())}const O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(p=y,_=!1);const ae=e.autoplay.paused?y:x+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/f),h=requestAnimationFrame(()=>{O()})},z=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(H=>H.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},U=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),O();let xe=typeof ae>"u"?e.params.autoplay.delay:ae;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=z();!Number.isNaN(H)&&H>0&&typeof ae>"u"&&(xe=H,f=H,p=H),y=xe;const ce=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ce,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ce,!0,!0),a("autoplay")),e.params.cssMode&&(x=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return xe>0?(clearTimeout(c),c=setTimeout(()=>{ve()},xe)):requestAnimationFrame(()=>{ve()}),xe},V=()=>{x=new Date().getTime(),e.autoplay.running=!0,U(),a("autoplayStart")},j=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(h),a("autoplayStop")},M=(ae,xe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),ae||(A=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):D()};if(e.autoplay.paused=!0,xe){C&&(y=e.params.autoplay.delay),C=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-x),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},D=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(x=new Date().getTime(),A?(A=!1,U(y)):U(),e.autoplay.paused=!1,a("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=vs();ae.visibilityState==="hidden"&&(A=!0,M(!0)),ae.visibilityState==="visible"&&D()},L=ae=>{ae.pointerType==="mouse"&&(A=!0,T=!0,!(e.animating||e.autoplay.paused)&&M(!0))},R=ae=>{ae.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&D())},J=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",L),e.el.addEventListener("pointerleave",R))},oe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",L),e.el.removeEventListener("pointerleave",R))},$=()=>{vs().addEventListener("visibilitychange",k)},se=()=>{vs().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(J(),$(),V())}),r("destroy",()=>{oe(),se(),e.autoplay.running&&j()}),r("_freeModeStaticRelease",()=>{(S||A)&&D()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?j():M(!0,!0)}),r("beforeTransitionStart",(ae,xe,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?M(!0,!0):j())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){j();return}E=!0,S=!1,A=!1,P=setTimeout(()=>{A=!0,S=!0,M(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(P),clearTimeout(c),e.params.autoplay.disableOnInteraction){S=!1,E=!1;return}S&&e.params.cssMode&&D(),S=!1,E=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(C=!0)}),Object.assign(e.autoplay,{start:V,stop:j,pause:M,resume:D})}function PE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function c(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,x=p.clickedSlide;if(x&&x.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let _;p.params.loop?_=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=y,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function h(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Bu(p.swiper)){const x=Object.assign({},p.swiper);Object.assign(x,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(x),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",c),!0}function f(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const x=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let _=1;const E=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),y.slides.forEach(C=>C.classList.remove(E)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let C=0;C<_;C+=1)ys(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+C}"]`).forEach(A=>{A.classList.add(E)});else for(let C=0;C<_;C+=1)y.slides[e.realIndex+C]&&y.slides[e.realIndex+C].classList.add(E);const S=e.params.thumbs.autoScrollOffset,P=S&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const C=y.activeIndex;let A,T;if(y.params.loop){const b=y.slides.find(O=>O.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);A=y.slides.indexOf(b),T=e.activeIndex>e.previousIndex?"next":"prev"}else A=e.realIndex,T=A>e.previousIndex?"next":"prev";P&&(A+=T==="next"?S:-1*S),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(A)<0&&(y.params.centeredSlides?A>C?A=A-Math.floor(x/2)+1:A=A+Math.floor(x/2)-1:A>C&&y.params.slidesPerGroup,y.slideTo(A,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=vs(),x=()=>{const E=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(E&&E.swiper)p.swiper=E.swiper,h(),f(!0);else if(E){const S=`${e.params.eventsPrefix}init`,P=C=>{p.swiper=C.detail[0],E.removeEventListener(S,P),h(),f(!0),p.swiper.update(),e.update()};E.addEventListener(S,P)}return E},_=()=>{if(e.destroyed)return;x()||requestAnimationFrame(_)};requestAnimationFrame(_)}else h(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(p,y)=>{const x=e.thumbs.swiper;!x||x.destroyed||x.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:h,update:f})}function kE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function c(){if(e.params.cssMode)return;const{touchEventsData:f,touches:p}=e;f.velocities.length===0&&f.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:jo()})}function h(f){let{currentPos:p}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:x,rtlTranslate:_,snapGrid:E,touchEventsData:S}=e,C=jo()-S.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<E.length?e.slideTo(E.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(S.velocities.length>1){const j=S.velocities.pop(),M=S.velocities.pop(),D=j.position-M.position,k=j.time-M.time;e.velocity=D/k,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(k>150||jo()-j.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,S.velocities.length=0;let A=1e3*y.freeMode.momentumRatio;const T=e.velocity*A;let b=e.translate+T;_&&(b=-b);let O=!1,z;const U=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let V;if(b<e.maxTranslate())y.freeMode.momentumBounce?(b+e.maxTranslate()<-U&&(b=e.maxTranslate()-U),z=e.maxTranslate(),O=!0,S.allowMomentumBounce=!0):b=e.maxTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(b>e.minTranslate())y.freeMode.momentumBounce?(b-e.minTranslate()>U&&(b=e.minTranslate()+U),z=e.minTranslate(),O=!0,S.allowMomentumBounce=!0):b=e.minTranslate(),y.loop&&y.centeredSlides&&(V=!0);else if(y.freeMode.sticky){let j;for(let M=0;M<E.length;M+=1)if(E[M]>-b){j=M;break}Math.abs(E[j]-b)<Math.abs(E[j-1]-b)||e.swipeDirection==="next"?b=E[j]:b=E[j-1],b=-b}if(V&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?A=Math.abs((-b-e.translate)/e.velocity):A=Math.abs((b-e.translate)/e.velocity),y.freeMode.sticky){const j=Math.abs((_?-b:b)-e.translate),M=e.slidesSizesGrid[e.activeIndex];j<M?A=y.speed:j<2*M?A=y.speed*1.5:A=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&O?(e.updateProgress(z),e.setTransition(A),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,h0(x,()=>{!e||e.destroyed||!S.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(z),h0(x,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(b),e.setTransition(A),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,h0(x,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||C>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:c,onTouchEnd:h}})}const FL=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await is(Zn(Ft,"hero-slider-images")),a=[];r.forEach(o=>{const c=o.data();c.image&&c.image.url&&a.push(c.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),d.jsx("div",{className:"w-full",children:d.jsx(Vl,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[BL,UL,Rf],className:"mySwiper",children:n.map((t,r)=>d.jsx(zl,{children:d.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},LE=()=>d.jsxs("div",{className:"bg-gray-100 ",children:[d.jsx("div",{children:d.jsx(FL,{})}),d.jsx("div",{className:"px-1 md:px-4",children:d.jsx("div",{children:d.jsx(AN,{})})})]}),qL=q.createContext(),HL=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const f=HD(u0,p=>{t(p),a(!1)});return()=>f()},[]);const h={user:e,login:async(f,p)=>{a(!0);try{await BD(u0,f,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await $D(u0)},loading:r};return d.jsx(qL.Provider,{value:h,children:n})},$L=()=>d.jsx("div",{children:d.jsx("p",{children:"this is admin page"})}),VE=()=>{const{gender:n,category:e}=Oy(),t=10,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const b=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const c=b=>b?Math.round(b).toLocaleString("en-US"):"0",h=async({pageParam:b=null})=>{const O=b?Zs(Zn(Ft,"products"),Ea("gender","==",n),Ea("subcategory","array-contains",e.toLowerCase()),Av(b),yc(t)):Zs(Zn(Ft,"products"),Ea("gender","==",n),Ea("subcategory","array-contains",e.toLowerCase()),yc(t)),z=await is(O),U=[];return z.forEach(V=>{const j=V.data();j.available&&j.stock>0&&U.push({id:V.id,...j})}),{products:U,lastVisible:z.docs[z.docs.length-1]}},{data:f,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:x,isLoading:_,error:E}=vN({queryKey:["products",n,e],queryFn:h,getNextPageParam:b=>b.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),S=b=>{Je.success(`${b} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},P=b=>{const O=JSON.parse(localStorage.getItem("cart"))||[],z=O.find(U=>U.id===b.id);z?z.quantity+=1:O.push({id:b.id,productId:b.productId,name:b.name,price:b.discount?Math.round(b.price-b.price*(b.discount/100)):Math.round(b.price),image:b.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(O)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),S(b.name)},C=b=>{b.colorVariants&&b.colorVariants.length>0?window.location.href=`/product/${b.productId||b.id}`:P(b)},A=b=>{b.colorVariants&&b.colorVariants.length>0?window.location.href=`/product/${b.productId||b.id}`:(P(b),window.location.href="/cart")},T=(f==null?void 0:f.pages.flatMap(b=>b.products))||[];return _?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):E?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[d.jsx(Fv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-2 mb-2 md:m-4 mt-2",children:["Showing products for ",n," / ",e]}),T.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:T.map(b=>{const O=b.discount&&b.discount>0,z=b.colorVariants&&b.colorVariants.length>0,U=a?17:25,V=b.name.length>U,j=V?`${b.name.substring(0,U)}...`:b.name;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${b.productId||b.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:b.mainImage||"/placeholder-product.jpg",alt:b.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),O&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[b.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[j,V&&d.jsx(ot,{to:`/product/${b.productId||b.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:M=>{M.preventDefault(),window.location.href=`/product/${b.productId||b.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",c(b.discount?b.price-b.price*(b.discount/100):b.price)]}),b.regularPrice&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",c(b.regularPrice)]})})]}),b.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",b.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>C(b),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:z?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>A(b),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?"In Stock":"Out of Stock"}),b.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[b.stock," units"]})]})]})]},b.id)})}),y&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>p(),disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:x?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},lf=n=>{},Ty=typeof window>"u"?q.useEffect:q.useLayoutEffect,HN=n=>typeof n=="number"&&n>0,zE=n=>HN(n)?n:0,Sy=n=>Math.round(100*n)/100,Ny=n=>Math.round(2*n)/2,UE=n=>n===0?0:-1*Sy(n),GL={},QL="rr--group",KL="rr--box",YL="rr--svg",XL="rr--reset",BE="rr--focus-reset",WL="rr--svg-stop-1",ZL="rr--svg-stop-2",FE="rr--on",qE="rr--off",Fu={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},cf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},b0={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},w0={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},JL="rr--pointer",e9="rr--disabled",t9="rr--dir-y",n9="rr--dir-x",r9="rr--has-stroke",s9="rr--has-border",i9="rr--hf-box-on",a9="rr--hf-box-int",o9="rr--hf-box-off",l9="rr--hf-svg-on",c9="rr--hf-svg-off",uf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},df={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},u9="--rr--border-width",$N="horizontal",GN="vertical",_0="svg",HE="box",Dr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},kl={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},Sa={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},hf={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function d9({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=$N,hasHF:a=!1}){const o=t>0?-t/2:0,c=t>0?`${o} ${o}`:"0 0",h=q.useId(),f=q.useRef(null),[p,y]=q.useState(null),[x,_]=q.useState(!1),E=q.useRef(null),S=q.useRef(null),P=q.useCallback(C=>{const{width:A,height:T,x:b,y:O}=C.getBBox();if(((...z)=>z.every(U=>typeof U=="number"))(A,T,b,O)){const z=`${c} ${Sy(A+t)} ${Sy(T+t)}`,U=`${UE(b)} ${UE(O)}`;y({viewBox:z,translateData:U})}},[t,c]);return Ty(()=>{if(f.current){const{width:C,height:A,x:T,y:b}=f.current.getBBox();if(C===0&&A===0&&T===0&&b===0){const O=function(z){if(!z||!z.parentElement)return null;let U=z==null?void 0:z.parentElement;for(;U&&window.getComputedStyle(U).display!=="none";)U=U.parentElement;return U}(f.current);O&&(S.current=O,_(!0))}else _(!1);P(f.current)}},[n,t,a]),Ty(()=>{if(x&&S.current)return E.current=new MutationObserver((C,A)=>{C.forEach(()=>{window.getComputedStyle(S.current).display==="none"||(P(f.current),A.disconnect())})}),E.current.observe(S.current,{attributes:!0}),()=>{var C;(C=E.current)==null||C.disconnect()}},[x,P]),d.jsxs("svg",{"aria-hidden":"true",className:YL,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&d.jsx("defs",{children:d.jsxs("linearGradient",{id:h,...r===GN?{gradientTransform:"rotate(90)"}:{},children:[d.jsx("stop",{className:WL,offset:"50%"}),d.jsx("stop",{className:ZL,offset:"50%"})]})}),d.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(p){const C=`translate(${p==null?void 0:p.translateData})`;return C==="translate(0 0)"?{}:{transform:C}}return{transform:void 0}}(),...a?{fill:`url('#${h}')`}:{},children:n})]})}function QN(n,e,t){switch(e){case Sa.FILL:return n[uf.FILL]=t,!0;case Sa.BOX:return n[uf.BOX]=t,!0;case Sa.BORDER:return n[uf.BORDER]=t,!0;case Sa.STROKE:return n[uf.STROKE]=t,!0}return!1}function h9(n,e,t){if(!QN(n,e,t))switch(e){case hf.FILL:n[df.FILL]=t;break;case hf.BOX:n[df.BOX]=t;break;case hf.BORDER:n[df.BORDER]=t;break;case hf.STROKE:n[df.STROKE]=t}}function f9(n,e,t){const r={};let a;for(const[o,c]of Object.entries(n))QN(r,o,c[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const E0=n=>`${n} ${Fu.COLORS}`;function m9({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:c,absoluteBoxBorderWidth:h,absoluteStrokeWidth:f,spaceBetween:p,spaceInside:y}){const x=a?JL:"",_=function(T){switch(T){case Dr.SMALL:return b0.SMALL;case Dr.MEDIUM:return b0.MEDIUM;case Dr.LARGE:return b0.LARGE;default:return""}}(p),E=function(T){switch(T){case Dr.SMALL:return w0.SMALL;case Dr.MEDIUM:return w0.MEDIUM;case Dr.LARGE:return w0.LARGE;default:return""}}(y),S=!t&&r?e9:"",P=a&&o!==kl.NONE?function(T){switch(T){case kl.ZOOM:return E0(Fu.ZOOM);case kl.POSITION:return E0(Fu.POSITION);case kl.OPACITY:return E0(Fu.OPACITY);case kl.COLORS:return Fu.COLORS;default:return""}}(o):"",C=c===GN?t9:n9,A=function(T){switch(T){case Dr.SMALL:return cf.SMALL;case Dr.MEDIUM:return cf.MEDIUM;case Dr.LARGE:return cf.LARGE;case Dr.FULL:return cf.FULL;default:return""}}(e);return`${QL} ${C} ${f>0?r9:""} ${h>0?s9:""}
${P} ${A} ${x} ${S} ${_}
${E} ${n}`.replace(/  +/g," ").trimEnd()}function p9(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?FE:qE:a<=t?FE:qE)}function g9(n,e,t){const r=Math.floor(Ny(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?o9:o===r?a9:i9:o>r?c9:l9)}function $E(n,e){const t={};HN(e)&&(t[u9]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)h9(t,a,o);return t}const y9=[Sa.FILL,Sa.BOX,Sa.STROKE,Sa.BORDER];function T0(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const v9="@smastrom/react-rating",x9=n=>`[${v9}] - Nothing's returned from rendering. Reason: ${n}.`;function ju(n,e){return n.shouldRender=!1,n.reason=x9(e),n}const GE="itemShapes is not a valid JSX element",b9=d.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});d.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});d.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});d.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});d.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});d.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const w9={itemShapes:b9,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},qu=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=lf,onHoverChange:a=lf,onFocus:o=lf,onBlur:c=lf,preventDefault:h="all",isDisabled:f=!1,highlightOnlySelected:p=!1,orientation:y=$N,spaceBetween:x=Dr.NONE,spaceInside:_=Dr.SMALL,radius:E=Dr.NONE,transition:S=kl.COLORS,itemStyles:P=w9,isRequired:C=!1,halfFillMode:A=_0,visibleLabelId:T,visibleItemLabelIds:b,invisibleItemLabels:O,invisibleLabel:z=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:U="Reset rating",id:V,className:j,style:M},D)=>{const k=Array.from({length:e},(Me,je)=>je+1),L=t&&!Number.isInteger(n),R=L&&!p,J=L&&p?Math.round(n):n,oe=!t&&!f,$=J>=.25,se=typeof j=="string"?j:"",ae=A===HE?HE:_0,xe=R&&!(Me=>Number.isInteger(Ny(Me)))(J),H=!C&&!t,ce=C?e:e+1,ve=R?function(Me,je){const tt=Ny(je);return Number.isInteger(tt)?Me.indexOf(tt):Math.floor(tt)}(k,J):k.indexOf(J),{staticColors:ge,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:je,boxBorderWidth:tt,...pt}=P,Ht=function(an){const rr={...an},jn={},qn=Object.entries(rr);if(qn.length>0)for(const[Mn,Kt]of qn)if(Array.isArray(Kt)||typeof Kt=="string"){if(Array.isArray(Kt))for(const Br of y9)if(Br===Mn){const Er=Kt.filter(As=>typeof As=="string");Er.length>0&&(jn[Mn]=Er,delete rr[Mn])}else delete rr[Mn]}else delete rr[Mn];return{arrayColors:jn,staticColors:rr}}(pt);return{itemShapes:Me,absoluteStrokeWidth:zE(je),absoluteBoxBorderWidth:zE(tt),...Ht}},[P]),Te=Object.keys(Se).length>0,lt=q.useCallback((Me,je)=>({dynamicClassNames:xe?g9(J,e,ae):p9(p,e,Me),dynamicCssVars:je&&Te?f9(Se,Me,p):[]}),[Se,Te,p,ae,xe,e,J]),et=q.useCallback(()=>Ts(T0(ce,ve,!C)),[ve,ce,C]),jt=q.useRef(!0),$t=q.useRef(!0),mn=q.useRef(null),qt=q.useRef([]),hr=q.useRef(!1),[er,Wt]=q.useState({staticCssVars:$E(ge,ye),...lt(ve,$)}),[Es,Ts]=q.useState(()=>oe?T0(ce,ve,!C):[]);Ty(()=>{oe&&qt.current&&(hr.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(qt.current[0]))},[oe]),q.useEffect(()=>{if(!jt.current)return Wt({staticCssVars:$E(ge,ye),...lt(ve,$)});jt.current=!1},[ge,lt,ye,ve,$]),q.useEffect(()=>{if(!$t.current&&oe)return et();$t.current=!1},[oe,et]);const{shouldRender:Ss,reason:as}=function({items:Me,itemShapes:je}){const tt={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return ju(tt,"items is invalid");if(!je)return ju(tt,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(je)&&!q.isValidElement(je))return ju(tt,GE);if(Array.isArray(je)){if(je.length!==Me)return ju(tt,"itemShapes length mismatch");if(!je.every(pt=>q.isValidElement(pt)))return ju(tt,GE)}return tt}({items:e,itemShapes:Ve});if(!Ss)return console.error(as),null;function tr(Me,je,tt=()=>{}){qt.current.some(pt=>pt===Me.relatedTarget)?tt():je()}function nr(){a(0),et()}function Ns(Me){tr(Me,()=>{nr()}),Wt({...er,...lt(ve,$)})}function os(Me){tr(Me,()=>{nr(),c()})}function xt(Me,je){const tt=!C&&je===k.length?0:je+1;tr(Me,()=>{o(),a(tt)},()=>{a(tt)})}function Ze(Me){Ts(T0(ce,Me,!C)),qt.current[Me].focus()}const En=m9({className:se,radius:E,readOnly:t,isDisabled:f,isDynamic:oe,transition:S,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:x,spaceInside:_});function Qt(Me){return{ref:je=>qt.current[Me]=je}}function ti(Me){return{tabIndex:Es[Me],onKeyDown:je=>function(tt,pt){let Ht=0;const an=C?k.length-1:k.length,rr=pt-1,jn=pt+1,qn=!C&&pt===k.length,Mn=pt===0?an:rr,Kt=an===pt?0:jn;switch(tt.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return Ht=hr.current?Mn:Kt,Ze(Ht);case"ArrowUp":case"ArrowLeft":return Ht=hr.current?Kt:Mn,Ze(Ht);case"Enter":case"Space":return h!=="all"&&h!=="click"||tt.preventDefault(),r(qn?0:pt+1)}tt.stopPropagation()}(je,Me)}}function fr(Me){return{onClick:je=>function(tt,pt){h!=="all"&&h!=="keydown"||tt.preventDefault(),tt.stopPropagation(),r(C||ve!==pt?pt+1:0)}(je,Me),onMouseEnter:()=>function(je){a(je+1),Wt({...er,...lt(je,!0)})}(Me),onMouseLeave:Ns}}function zr(Me){if(t)return{};const je={};if(Array.isArray(b))je["aria-labelledby"]=b[Me];else{const tt=Array.isArray(O)?O:k.map((pt,Ht)=>`Rate ${Ht+1}`);je["aria-label"]=tt[Me]}return f&&(je["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===J,...je}}function Ur(Me){const je={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return xe&&ae===_0&&(je.hasHF=Me===ve),je}return d.jsx("div",{id:V,className:En,style:{...M,...er.staticCssVars},ref:function(Me){oe&&!C&&(mn.current=Me),D&&(D.current=Me)},...function(){if(!t){const Me=C&&!f,je={role:"radiogroup","aria-required":Me};return Me&&(je["aria-invalid"]=J<=0),typeof T=="string"&&T.length>0?je["aria-labelledby"]=T:je["aria-label"]=z,je}return{role:"img","aria-label":z}}(),...GL,children:k.map((Me,je)=>{return d.jsxs(q.Fragment,{children:[d.jsx("div",{className:`${KL} ${er.dynamicClassNames[je]}`,style:er.dynamicCssVars[je],...zr(je),...(pt=je,oe?{...Qt(pt),...ti(pt),...fr(pt),onFocus:Ht=>xt(Ht,pt),onBlur:Ht=>os(Ht)}:{}),children:d.jsx(d9,{...Ur(je)})}),H&&je===k.length-1&&d.jsx("div",{...(tt=je+1,{className:XL,role:"radio","aria-label":U,"aria-checked":J===0,onClick:()=>r(0),onFocus:Ht=>{var an;xt(Ht,tt),(an=mn.current)==null||an.classList.add(BE)},onBlur:Ht=>{var an;os(Ht),(an=mn.current)==null||an.classList.remove(BE)},...ti(tt),...Qt(tt),...f?{"aria-disabled":"true"}:{}})})]},Me);var tt,pt})})});qu.displayName="Rating";function _9(n){return xd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const E9=()=>{var se,ae,xe,H,ce,ve,ge,Se,Ve,Ee;const{productId:n}=Oy(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,c]=q.useState(null),[h,f]=q.useState(null),[p,y]=q.useState(0),[x,_]=q.useState(null),[E,S]=q.useState(null),[P,C]=q.useState("description"),[A,T]=q.useState([]),[b,O]=q.useState(!1),[z,U]=q.useState({name:"",contact:"",rating:0,comment:""}),[V,j]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const lt=Zs(Zn(Ft,"products"),Ea("productId","==",n)),et=await is(lt);if(!et.empty){const jt=et.docs[0],$t={id:jt.id,...jt.data()};t($t),$t.isColorVariants&&((Te=$t.colorVariants)==null?void 0:Te.length)>0&&c($t.colorVariants[0])}a(!1)}catch(lt){console.error("Error fetching product:",lt),a(!1)}})()},[n]),q.useEffect(()=>{let ye;return(()=>{if(!n)return;const lt=Zn(Ft,"reviews"),et=Zs(lt,Ea("productId","==",n));ye=zO(et,jt=>{const $t=[];jt.forEach(mn=>{$t.push({id:mn.id,...mn.data()})}),T($t)},jt=>{console.error("Error listening to reviews:",jt)})})(),()=>{ye&&ye()}},[n]);const M=()=>{var et,jt,$t,mn;if(J()){Je.error("This product is out of stock");return}if(e.isColorVariants&&((et=o==null?void 0:o.sizes)==null?void 0:et.length)>0&&!E){Je.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(jt=o==null?void 0:o.images)==null?void 0:jt[0]:($t=e.images)==null?void 0:$t[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(mn=o==null?void 0:o.images)==null?void 0:mn[0]}:null,size:E?{size:E.size,stock:E.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},lt=ye.findIndex(qt=>{var hr,er,Wt,Es;return!(qt.id!==Te.id||e.isColorVariants&&((hr=qt.color)==null?void 0:hr.name)!==((er=Te.color)==null?void 0:er.name)||E&&((Wt=qt.size)==null?void 0:Wt.size)!==((Es=Te.size)==null?void 0:Es.size))});lt>=0?(ye[lt].quantity+=1,Je.success("Item quantity increased in cart")):(ye.push(Te),Je.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},D=()=>{M(),window.location.href="/cart"},k=async ye=>{if(ye.preventDefault(),!z.name||!z.comment||z.rating===0||!z.contact){Je.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.contact),lt=/^[0-9]{10,15}$/.test(z.contact);if(!Te&&!lt){Je.error("Please enter a valid email or phone number");return}try{const et={productId:n,productName:e.name,name:z.name,contact:z.contact,contactType:Te?"email":"phone",rating:z.rating,comment:z.comment,createdAt:new Date().toISOString()};V?(await km(bs(Ft,"reviews",V),et),Je.success("Review updated successfully")):(await VO(Zn(Ft,"reviews"),et),Je.success("Review submitted successfully")),O(!1),U({name:"",contact:"",rating:0,comment:""}),j(null)}catch(et){console.error("Error submitting review:",et),Je.error("Failed to submit review")}},L=ye=>{U({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),j(ye.id),O(!0)},R=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await _S(bs(Ft,"reviews",ye)),Je.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),Je.error("Failed to delete review")}},J=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},oe=ye=>ye<1;if(r)return d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return d.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=A.length>0?(A.reduce((ye,Te)=>ye+Te.rating,0)/A.length).toFixed(1):0;return d.jsxs("div",{className:"pt-6",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold",children:V?"Edit Review":"Write a Review"}),d.jsx("button",{onClick:()=>{O(!1),j(null),U({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:k,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.name,onChange:ye=>U({...z,name:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.contact,onChange:ye=>U({...z,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),d.jsx(qu,{style:{maxWidth:150},value:z.rating,onChange:ye=>U({...z,rating:ye}),isRequired:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),d.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:z.comment,onChange:ye=>U({...z,comment:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{O(!1),j(null),U({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:V?"Update Review":"Submit Review"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 px-2",children:[d.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?d.jsxs(d.Fragment,{children:[d.jsxs(Vl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:h},modules:[Rf,PE],className:"mb-2 rounded-lg relative",children:[(se=o==null?void 0:o.images)==null?void 0:se.map((ye,Te)=>d.jsxs(zl,{children:[d.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),d.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[d.jsx("p",{children:o.colorName}),d.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(Vl,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[Rf,PE,kE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>d.jsx(zl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>c(ye),children:[d.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Vl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[Rf],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:_,children:[(ae=e.images)==null?void 0:ae.map((ye,Te)=>d.jsx(zl,{children:d.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((xe=e.images)==null?void 0:xe.length)>1&&d.jsx("div",{className:"relative mt-2",children:d.jsx(Vl,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[kE],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>d.jsx(zl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),x&&x.slideTo(Te)},children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),d.jsxs("div",{className:"px-2 sm:px-0",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:d.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[d.jsx("span",{children:d.jsx(Vw,{})}),d.jsx("p",{children:"Ask for details"})]})}),d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(qu,{style:{maxWidth:100},value:$,readOnly:!0}),d.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",A.length," ",A.length===1?"review":"reviews",")"]})]}),d.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[d.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&d.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&d.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),d.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>d.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&c(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((ce=o==null?void 0:o.sizes)==null?void 0:ce.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(E==null?void 0:E.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${oe(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!oe(ye.stock)&&S(ye),disabled:oe(ye.stock),children:ye.size}),d.jsxs("span",{className:`text-xs mt-1 ${oe(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),d.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[d.jsx("span",{className:`font-medium ${J()?"text-red-500":"text-green-600"}`,children:J()?"Out of Stock":"In Stock"}),!J()&&d.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),d.jsx("div",{children:e.productType&&d.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),d.jsxs("div",{className:"flex gap-3 mb-2",children:[d.jsx("button",{onClick:M,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:J()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!E,children:"Add to Cart"}),d.jsx("button",{onClick:D,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:J()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!E,children:"Buy Now"})]}),d.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[d.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:d.jsx(_9,{className:"text-black text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"কল করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Vw,{className:"text-green-500 text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),d.jsxs("div",{className:"mt-8 border-t pt-6",children:[d.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("description"),children:"Description"}),d.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("reviews"),children:["Reviews (",A.length,")"]})]}),d.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?d.jsxs("div",{className:"space-y-4",children:[e.productType&&d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg flex flex-wrap",children:d.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),d.jsx("div",{className:"prose max-w-none text-gray-600 break-words whitespace-pre-wrap px-2 md:px-4",children:e.description||"No description available."}),e.detailsImage&&d.jsx("div",{className:"mt-4",children:d.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[d.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[d.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),d.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:d.jsx(qu,{style:{maxWidth:120},value:$,readOnly:!0})}),d.jsxs("p",{className:"text-gray-600",children:[A.length," ",A.length===1?"review":"reviews"]})]}),d.jsx("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),A.length>0?d.jsx("div",{className:"space-y-6 px-2 md:px-4",children:A.map(ye=>d.jsxs("div",{className:"border-b pb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:ye.name}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx(qu,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>L(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>R(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),d.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),d.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),d.jsx("button",{onClick:()=>O(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},T9=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=T=>{const{name:b,value:O,type:z,checked:U}=T.target;e(V=>({...V,[b]:z==="checkbox"?U:O}))},r=T=>{const{name:b,value:O}=T.target;e(z=>({...z,[b]:Number(O)}))},a=T=>{const{name:b,value:O}=T.target;e(z=>({...z,[b]:O.split(",").map(U=>U.trim())}))},o=(T,b,O)=>{const z=[...n.colorVariants];z[T][b]=b==="stock"||b==="isOutfit"?b==="isOutfit"?O:Number(O):O,e(U=>({...U,colorVariants:z}))},c=(T,b,O)=>{const z=[...n.colorVariants];z[T].images[b]=O,e(U=>({...U,colorVariants:z}))},h=(T,b,O,z)=>{const U=[...n.colorVariants];U[T].sizes[b][O]=O==="stock"?Number(z):z,e(V=>({...V,colorVariants:U}))},f=()=>{e(T=>({...T,colorVariants:[...T.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=T=>{const b=[...n.colorVariants];b.splice(T,1),e(O=>({...O,colorVariants:b}))},y=T=>{const b=[...n.colorVariants];b[T].images.push(""),e(O=>({...O,colorVariants:b}))},x=(T,b)=>{const O=[...n.colorVariants];O[T].images.splice(b,1),e(z=>({...z,colorVariants:O}))},_=T=>{const b=[...n.colorVariants];b[T].sizes.push({size:"",stock:0}),e(O=>({...O,colorVariants:b}))},E=(T,b)=>{const O=[...n.colorVariants];O[T].sizes.splice(b,1),e(z=>({...z,colorVariants:O}))},S=(T,b)=>{const O=[...n.images];O[T]=b,e(z=>({...z,images:O}))},P=()=>{e(T=>({...T,images:[...T.images,""]}))},C=T=>{const b=[...n.images];b.splice(T,1),e(O=>({...O,images:b}))},A=async T=>{T.preventDefault();try{const b={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?b.colorVariants=n.colorVariants.map(z=>{const{isOutfit:U,sizes:V,...j}=z;return U?{...j,sizes:V}:j}):b.images=n.images;const O=bs(Ft,n.collectionName,n.documentName);await Wf(O,b),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(z=>({...z,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(b){console.error("Error adding document: ",b),alert("Error uploading product!")}};return d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product"}),d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),d.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),d.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),d.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),d.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Gender"}),d.jsx("option",{value:"men",children:"Men"}),d.jsx("option",{value:"women",children:"Women"}),d.jsx("option",{value:"unisex",children:"Unisex"}),d.jsx("option",{value:"kids",children:"Kids"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),d.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),d.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Delivery Charge Option"}),d.jsx("option",{value:"true",children:"Apply Delivery Charge"}),d.jsx("option",{value:"false",children:"Free Delivery"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),d.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),d.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),d.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),d.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),d.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),d.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),d.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),d.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[d.jsx("option",{value:"",children:"Select Product Type"}),d.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),d.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((T,b)=>d.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),d.jsx("input",{type:"text",value:T.colorName,onChange:O=>o(b,"colorName",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:T.stock,onChange:O=>o(b,"stock",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),d.jsx("input",{type:"text",value:T.thumbnail,onChange:O=>o(b,"thumbnail",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:T.isOutfit,onChange:O=>o(b,"isOutfit",O.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),T.isOutfit&&d.jsxs("div",{className:"space-y-3 mt-3",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),T.sizes.map((O,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),d.jsx("input",{type:"text",value:O.size,onChange:U=>h(b,z,"size",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:O.stock,onChange:U=>h(b,z,"stock",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{type:"button",onClick:()=>E(b,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},z)),d.jsx("button",{type:"button",onClick:()=>_(b),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),T.images.map((O,z)=>d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx("input",{type:"text",value:O,onChange:U=>c(b,z,U.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>x(b,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},z)),d.jsx("button",{type:"button",onClick:()=>y(b),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("button",{type:"button",onClick:()=>p(b),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},b)),d.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((T,b)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:T,onChange:O=>S(b,O.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>C(b),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},b)),d.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},S9=()=>{const{gender:n}=Oy(),e=10,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,c]=q.useState(window.innerWidth>=768),h=b=>(typeof b!="number"&&(b=parseFloat(b)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(b)));q.useEffect(()=>{const b=()=>{const O=window.innerWidth;a(O<768),c(O>=768)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const f=async({pageParam:b=null})=>{const O=b?Zs(Zn(Ft,"products"),Ea("gender","==",n),Av(b),yc(e)):Zs(Zn(Ft,"products"),Ea("gender","==",n),yc(e)),z=await is(O),U=[];return z.forEach(V=>{const j=V.data();j.available&&j.stock>0&&U.push({id:V.id,...j})}),{products:U,lastVisible:z.docs[z.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:_,isLoading:E,error:S}=vN({queryKey:["products",n],queryFn:f,getNextPageParam:b=>b.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=b=>{var U;const O=JSON.parse(localStorage.getItem("cart"))||[],z=O.find(V=>V.id===b.id);z?(z.quantity+=1,Je.success(`${b.name} quantity increased in cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(O.push({id:b.id,productId:b.productId,name:b.name,price:b.discount?Math.round(b.price-b.price*(b.discount/100)):Math.round(b.price),image:b.mainImage||((U=b.images)==null?void 0:U[0]),quantity:1}),Je.success(`${b.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})),localStorage.setItem("cart",JSON.stringify(O)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},C=b=>{var z;b.isColorVariants&&((z=b.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${b.productId||b.id}`:P(b)},A=b=>{var z;b.isColorVariants&&((z=b.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${b.productId||b.id}`:(P(b),window.location.href="/cart")},T=(p==null?void 0:p.pages.flatMap(b=>b.products))||[];return E?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):S?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4 w-[100%]",ref:t,children:[d.jsx(Fv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:[n,"'s Collection"]}),T.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:T.map(b=>{var J,oe;const O=b.discount&&b.discount>0,z=b.isColorVariants&&((J=b.colorVariants)==null?void 0:J.length)>0,U=r&&b.name.length>17?`${b.name.substring(0,17)}.`:b.name,V=o&&b.name.length>25?`${b.name.substring(0,25)}.`:b.name,j=r?U:V,M=r&&b.name.length>17,D=o&&b.name.length>25,k=O?Math.round(b.price-b.price*(b.discount/100)):null,L=O?k:Math.round(b.price),R=b.regularPrice?Math.round(b.regularPrice):null;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${b.productId||b.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:b.mainImage||((oe=b.images)==null?void 0:oe[0])||"/placeholder-product.jpg",alt:b.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),O&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[b.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[j,(M||D)&&d.jsx(ot,{to:`/product/${b.productId||b.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${b.productId||b.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(L)]}),O&&R&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",h(R)]})})]}),b.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",b.productType,")"]})]})})]}),d.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-1 mb-[1px]",children:[d.jsx("button",{onClick:()=>C(b),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:z?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>A(b),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?"In Stock":"Out of Stock"}),b.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[b.stock," units"]})]})]})]},b.id)})}),x&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>y(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},N9=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:x}=p.target;e(_=>({..._,[y]:x}))},o=(p,y)=>{const{name:x,value:_}=y.target,E=[...n.items];E[p]={...E[p],[x]:_},e(S=>({...S,items:E}))},c=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},h=p=>{const y=n.items.filter((x,_)=>_!==p);e(x=>({...x,items:y}))},f=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=bs(Ft,n.collectionName,n.documentName),x=await Xf(y);let _={};x.exists()&&(_=x.data());const E={..._,type:n.type,updatedAt:UO()};if(n.type==="link"&&(E.order=Number(n.order)),n.type==="dropdown"){const S=_.items||[],P=n.items.filter(C=>C.name&&C.path);E.items=[...S,...P],E.path=null}else E.path=n.path,E.items=null;await Wf(y,E,{merge:!0}),alert("Category saved successfully!"),e(S=>({...S,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return d.jsxs("div",{className:"container mx-auto px-4 ",children:[d.jsxs("div",{className:"flex border-b mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),d.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),d.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[d.jsx("option",{value:"dropdown",children:"Dropdown"}),d.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),d.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),d.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("button",{type:"button",onClick:()=>h(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),d.jsx("button",{type:"button",onClick:c,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),d.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:d.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),d.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},A9=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[c,h]=q.useState(""),[f,p]=q.useState(0),[y,x]=q.useState(""),[_,E]=q.useState(!0),[S,P]=q.useState({}),C=yd(),A=L=>{const R=typeof L=="string"?parseFloat(L):L;return Math.floor(R).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const oe=(JSON.parse(localStorage.getItem("cart"))||[]).map(se=>({...se,price:typeof se.price=="string"?parseFloat(se.price):se.price,deliveryCharge:typeof se.deliveryCharge>"u"?!0:se.deliveryCharge}));e(oe);const $={};for(const se of oe)try{const ae=bs(Ft,"products",se.productId),xe=await Xf(ae);xe.exists()&&($[se.productId]=xe.data())}catch(ae){console.error("Error fetching product data:",ae)}P($),T(),E(!1)})();const R=J=>{if(J.detail)e(J.detail);else{const oe=JSON.parse(localStorage.getItem("cart"))||[];e(oe)}T()};return window.addEventListener("cartUpdated",R),()=>{window.removeEventListener("cartUpdated",R)}},[]);const T=async()=>{try{await new Promise(oe=>setTimeout(oe,500));const L={coxbazar:50,outOfCoxbazar:100},J=n.some(oe=>{const $=S[oe.productId];return($==null?void 0:$.deliveryCharge)===!0||typeof($==null?void 0:$.deliveryCharge)>"u"&&(oe.deliveryCharge===!0||typeof oe.deliveryCharge>"u")})?t==="inside"?L.coxbazar:L.outOfCoxbazar:0;o(J)}catch(L){console.error("Error fetching shipping charges:",L);const R=n.some(J=>{const oe=S[J.productId];return(oe==null?void 0:oe.deliveryCharge)===!0||typeof(oe==null?void 0:oe.deliveryCharge)>"u"&&(J.deliveryCharge===!0||typeof J.deliveryCharge>"u")});o(R?t==="inside"?50:100:0)}};q.useEffect(()=>{T()},[t,n,S]);const b=(L,R)=>{if(R<1)return;const J=n.map(oe=>oe.id===L?{...oe,quantity:R}:oe);localStorage.setItem("cart",JSON.stringify(J)),e(J),window.dispatchEvent(new Event("storage"))},O=L=>{const R=n.filter(J=>J.id!==L);localStorage.setItem("cart",JSON.stringify(R)),e(R),window.dispatchEvent(new Event("storage"))},z=()=>n.reduce((L,R)=>{const J=typeof R.price=="number"?R.price:typeof R.price=="string"?parseFloat(R.price):0;return L+Math.floor(J)*R.quantity},0),U=()=>{const L=z();return Math.floor(L+a-f)},V=L=>{r(L.target.value)},j=async()=>{if(!c.trim()){x("Please enter a coupon code");return}E(!0);try{await new Promise(R=>setTimeout(R,800));const L={valid:c.toLowerCase()==="save20",discountAmount:c.toLowerCase()==="save20"?20:0,message:c.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};L.valid?(p(L.discountAmount),x(`Coupon applied! Discount: ৳${A(L.discountAmount)}`)):(p(0),x(L.message))}catch(L){console.error("Error applying coupon:",L),x("Failed to apply coupon. Please try again.")}finally{E(!1)}},M=()=>{const L={cartItems:n.map(R=>({...R,price:typeof R.price=="string"?parseFloat(R.price):R.price})),shipping:{location:t,charge:a},coupon:{code:c,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(L)),C("/checkout",{state:L})};if(_&&n.length===0)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const D=n.some(L=>{const R=S[L.productId];return(R==null?void 0:R.deliveryCharge)===!0||typeof(R==null?void 0:R.deliveryCharge)>"u"&&(L.deliveryCharge===!0||typeof L.deliveryCharge>"u")}),k=n.filter(L=>{const R=S[L.productId];return(R==null?void 0:R.deliveryCharge)===!1||L.deliveryCharge===!1});return d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),d.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?d.jsxs("div",{className:"text-center py-8 sm:py-12",children:[d.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx(ot,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(L=>{var $,se;const R=typeof L.price=="number"?L.price:typeof L.price=="string"?parseFloat(L.price):0;Math.floor(R)*L.quantity;const J=S[L.productId],oe=(J==null?void 0:J.deliveryCharge)===!1||L.deliveryCharge===!1;return d.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:d.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"pr-2",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:L.name}),(($=L.color)==null?void 0:$.name)&&d.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:L.color.name})]}),((se=L.size)==null?void 0:se.size)&&d.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:L.size.size})]}),oe&&d.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),d.jsx("button",{onClick:()=>O(L.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:d.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",A(R)]}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[d.jsx("button",{onClick:()=>b(L.id,L.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),d.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:L.quantity}),d.jsx("button",{onClick:()=>b(L.id,L.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},L.id)})})})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",A(z())]})]}),D?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:V,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:V,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",A(a)]})]})]}):d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),d.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),k.length>0&&d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),d.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:k.map(L=>{var R;return d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-1",children:"•"}),d.jsx("span",{className:"line-clamp-1",children:L.name}),((R=L.size)==null?void 0:R.size)&&d.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",L.size.size,")"]})]},L.id)})})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),d.jsxs("div",{className:"flex rounded-md shadow-sm",children:[d.jsx("input",{type:"text",id:"coupon",value:c,onChange:L=>h(L.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),d.jsx("button",{onClick:j,disabled:_,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:_?d.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&d.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&d.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[d.jsx("span",{children:"Discount"}),d.jsxs("span",{children:["-৳",A(f)]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",A(U())]})]})}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx("button",{onClick:M,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),d.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:d.jsxs("p",{children:["or"," ",d.jsxs(ot,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",d.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},C9=()=>{const n=ei(),e=yd(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[c,h]=q.useState(!1),[f,p]=q.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const O=localStorage.getItem("checkoutState");return O?JSON.parse(O):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:x,shipping:_,coupon:E}=y();q.useEffect(()=>{x.length===0&&e("/cart")},[x,e]),q.useEffect(()=>{const O=async()=>{try{const z=Zn(Ft,"products"),U=await is(z),V=x.map(M=>M.id);let j=!1;U.forEach(M=>{V.includes(M.id)&&M.data().productType&&(j=!0)}),h(j),r(M=>({...M,paymentMethod:j?"bkash":"cash"})),p(!1)}catch(z){console.error("Error checking product types:",z),p(!1)}};x.length>0?O():p(!1)},[x]);const S=O=>{const z=typeof O=="string"?parseFloat(O):O;return Math.floor(z).toLocaleString("en-US")},P=()=>x.reduce((O,z)=>{const U=typeof z.price=="number"?z.price:typeof z.price=="string"?parseFloat(z.price):0;return O+Math.floor(U)*z.quantity},0),C=()=>{const O=P();return Math.floor(O+_.charge-E.discount)},A=O=>{const{name:z,value:U,type:V,checked:j}=O.target;r({...t,[z]:V==="checkbox"?j:U}),a[z]&&o({...a,[z]:""})},T=()=>{const O={};return t.name.trim()||(O.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(O.phone="Please enter a valid Bangladeshi phone number"):O.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(O.address="Address should be at least 10 characters"):O.address="Address is required",t.notes.length>100&&(O.notes="Notes should not exceed 100 characters"),t.agreeTerms||(O.agreeTerms="You must agree to the terms and conditions"),o(O),Object.keys(O).length===0},b=O=>{if(O.preventDefault(),!T())return;const z={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:x,shipping:_,coupon:E,subtotal:P(),total:C(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:z,hasAnyProductWithType:c}})};return f?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading payment options..."})]})})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),d.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),d.jsx("form",{onSubmit:b,className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"space-y-5 md:space-y-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("label",{className:"block text-sm md:text-base font-medium text-gray-800 mb-3",children:["Payment Method ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("div",{className:"space-y-3",children:c?d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:A,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Required for selected products"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:A,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-cash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Pay when you receive your order"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:A,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Faster order processing"})]})]})]})}),c&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-100 rounded-md text-sm text-amber-800",children:[d.jsx("p",{className:"font-medium",children:"Important Notice:"}),d.jsx("p",{className:"mt-1",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"})]}),d.jsx("div",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Note: Some products in your cart require bKash payment."})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-5 md:space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:"block text-sm md:text-base font-medium text-gray-800",children:["Full Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:A,className:`block w-full rounded-md py-2 px-3 border ${a.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Your full name"}),a.name&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.name})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"phone",className:"block text-sm md:text-base font-medium text-gray-800",children:["Phone Number ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 text-sm md:text-base",children:"+88"})}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:O=>{const z=O.target.value.replace(/[^0-9]/g,"");A({target:{name:"phone",value:z}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md py-2 px-3 border ${a.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,pattern:"[0-9]*",inputMode:"numeric"})]}),a.phone&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.phone}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 11 digits (e.g. 01712345678) with only english"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"address",className:"block text-sm md:text-base font-medium text-gray-800",children:["Delivery Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:A,className:`block w-full rounded-md py-2 px-3 border ${a.address?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"House #, Road #, Area, District"}),a.address&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm md:text-base font-medium text-gray-800",children:"Order Notes (Optional)"}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:A,className:`block w-full rounded-md py-2 px-3 border ${a.notes?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Any special instructions for your order...",maxLength:100}),d.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&d.jsx("p",{className:"text-xs md:text-sm text-red-600",children:a.notes}),d.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:A,className:`h-4 w-4 rounded ${a.agreeTerms?"border-red-300 text-red-600 focus:ring-red-500":"border-gray-300 text-blue-600 focus:ring-blue-500"} focus:ring-2`})}),d.jsxs("div",{className:"ml-3",children:[d.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm md:text-base font-medium text-gray-800",children:["I agree to the ",d.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 underline",children:"Terms and Conditions"})," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.agreeTerms})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:"Place Order"}),a.submit&&d.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:a.submit})]})]})]})})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[d.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[x.length," ",x.length===1?"Item":"Items"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(O=>{var V;const z=typeof O.price=="number"?O.price:typeof O.price=="string"?parseFloat(O.price):0,U=Math.floor(z)*O.quantity;return d.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:d.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:O.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[O.quantity," × ৳",S(z)]}),((V=O.size)==null?void 0:V.size)&&d.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",O.size.size]})]})]}),d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",S(U)]})]},O.id)})})]}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",S(P())]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),d.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:_.charge>0?`৳${S(_.charge)} (${_.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:d.jsx("span",{className:"text-green-600",children:"Free"})})]}),E.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",S(E.discount),E.code&&` (${E.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",S(C())]})]})})]})]})]})})]})]})})},R9=()=>{const n=ei(),e=yd(),{orderData:t}=n.state||{},[r,a]=q.useState({bkashNumber:"",transactionId:""}),[o,c]=q.useState({}),[h,f]=q.useState(!1),[p,y]=q.useState(!1);if(!t)return e("/checkout"),null;const x=A=>{const T=typeof A=="string"?parseFloat(A):A;return Math.floor(T).toLocaleString("en-US")},_=A=>{const{name:T,value:b}=A.target;a({...r,[T]:b}),o[T]&&c({...o,[T]:""})},E=()=>{const A={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(A.bkashNumber="Please enter a valid bKash number"):A.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(A.transactionId="Transaction ID should be at least 8 characters"):A.transactionId="Transaction ID is required",c(A),Object.keys(A).length===0},S=async A=>{try{const T=[];console.log("Items to update:",A);for(const b of A){const O=bs(Ft,"products",b.id),z=await Xf(O);if(!z.exists()){console.warn(`Product not found: ${b.id}`);continue}const U=z.data();console.log(`Product data for ${b.id}:`,U);let V={};if(b.color&&b.size&&U.colorVariants){console.log(`Updating with color and size for ${b.id}`,b);const j=U.colorVariants.map(M=>M);console.log("Updated color variants:",j),V={colorVariants:j,stock:(U.stock||0)-b.quantity}}else if(b.color&&U.colorVariants&&!b.size){console.log(`Updating with only color for ${b.id}`,b);const j=U.colorVariants.map(M=>M.colorName===b.color.name?{...M,stock:(M.stock||0)-b.quantity}:M);console.log("Updated color variants:",j),V={colorVariants:j,stock:(U.stock||0)-b.quantity}}else console.log(`Updating regular product ${b.id}`,b),V={stock:(U.stock||0)-b.quantity};T.push(km(O,V))}await Promise.all(T),console.log("All stock updates completed successfully")}catch(T){throw console.error("Error updating product stock:",T),T}},P=async(A,T,b,O,z,U)=>{try{const V=`প্রিয় ${b}, আপনার অর্ডার #${A} সফলভাবে গ্রহণ করা হয়েছে! মোট: ৳${x(z)}। পণ্য: ${O.slice(0,3).map(R=>R.name).join(", ")}${O.length>3?` এবং আরো ${O.length-3}টি`:""}। অর্ডার সম্পর্কিত যেকোনো তথ্যের জন্য কল করুন আমাদের helpline এ 01783694568 . mahiracollection থেকে shopping এর জন্য আপনাকে ধন্যবাদ।`,j=U==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",M=`নতুন অর্ডার #${A}
গ্রাহক: ${b}
মোবাইল: ${T}
পণ্য: ${O.map(R=>`${R.name} (${R.quantity}x)`).join(", ")}
মোট: ৳${x(z)}
পেমেন্ট: ${j}`,D={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${T.replace(/^0/,"")}`,message:V},{to:"8801736600480",message:M}]},L=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).json();if(console.log("SMS API রেস্পন্স:",L),L.error_message)throw new Error(L.error_message);return L}catch(V){console.error("SMS পাঠানোর সময় ত্রুটি:",V)}},C=async()=>{if(!(t.paymentMethod==="bkash"&&!E())){f(!0);try{await S(t.items);const A=bs(Ft,"orders",t.customer.phone),T=`${Date.now()}`.slice(-6),b={...t,orderId:T,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(b.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await Xf(A)).exists()?await Wf(A,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:BO(b),updatedAt:new Date().toISOString()},{merge:!0}):await Wf(A,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[b],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await P(T,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(A){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",A)}finally{f(!1)}}};return p?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:d.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",d.jsx("span",{className:"font-medium",children:t.customer.phone})]}),d.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),d.jsxs("div",{className:"px-6 py-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((A,T)=>{var O,z;const b=Math.floor(A.price)*A.quantity;return d.jsxs("li",{className:"py-4 flex justify-between",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:d.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.quantity," × ৳",x(A.price)]}),((O=A.size)==null?void 0:O.size)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",A.size.size]}),((z=A.color)==null?void 0:z.color)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",A.color.color]})]})]}),d.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",x(b)]})]},T)})})]}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),d.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",x(t.subtotal)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${x(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:d.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),d.jsxs("span",{className:"text-sm font-medium",children:["-৳",x(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:d.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[d.jsx("span",{children:"মোট"}),d.jsxs("span",{children:["৳",x(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-red-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:[d.jsxs("h2",{className:"text-lg font-bold text-red-800 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"bKash পেমেন্ট ডিটেইলস (অত্যন্ত গুরুত্বপূর্ণ)"]}),d.jsx("p",{className:"mt-1 text-sm text-red-700",children:"সাবধানতার সাথে সঠিক তথ্য প্রদান করুন"})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-900 mb-1",children:["আপনার bKash নাম্বার ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-700 font-medium",children:"+88"})}),d.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:A=>{const T=A.target.value.replace(/[^0-9]/g,"");_({target:{name:"bkashNumber",value:T}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2.5 rounded-md border-2 ${o.bkashNumber?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,pattern:"[0-9]*",inputMode:"numeric",onBlur:()=>{r.bkashNumber&&!/^01[3-9]\d{8}$/.test(r.bkashNumber)&&c({...o,bkashNumber:"সঠিক ১১ ডিজিটের bKash নম্বর দিন (01XXXXXXXXX)"})}})]}),o.bkashNumber?d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.bkashNumber]}):d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"অবশ্যই 11 ডিজিটের সঠিক bKash নম্বর দিন (যেমন: 01712345678)"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-900 mb-1",children:["ট্রানজেকশন আইডি (TrxID) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:_,className:`block w-full py-2.5 px-3 rounded-md border-2 ${o.transactionId?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,placeholder:"ট্রানজেকশন আইডি লিখুন (যেমন: 8A7D6F5G4H)",onBlur:()=>{r.transactionId||c({...o,transactionId:"ট্রানজেকশন আইডি দিন"})}}),o.transactionId&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.transactionId]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[d.jsxs("h3",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"পেমেন্ট নির্দেশাবলী:"]}),d.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"1."}),d.jsxs("span",{children:["bKash নম্বর: ",d.jsx("strong",{className:"text-blue-900",children:"01783694568"})," এ ৳",x(t.total)," পাঠান"]})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"2."}),d.jsx("span",{children:"উপরে আপনার bKash নম্বর এবং সঠিক ট্রানজেকশন আইডি লিখুন"})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"3."}),d.jsx("span",{className:"text-red-600 font-semibold",children:"ভুল তথ্য দিলে আপনার পেমেন্ট গ্রহণ করা হবে না"})]})]})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200 text-sm text-yellow-800",children:[d.jsxs("p",{className:"font-bold flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"গুরুত্বপূর্ণ নোট:"]}),d.jsx("p",{className:"mt-1",children:"আপনার পেমেন্ট যাচাই করার জন্য আমরা আপনার প্রদত্ত নম্বরে কল করতে পারি। অনুগ্রহ করে সঠিক তথ্য প্রদান করুন।"})]})]})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),d.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:d.jsx("div",{className:"px-6 py-4",children:d.jsx("button",{onClick:C,disabled:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:h?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},QE=()=>{const[n,e]=q.useState([]),[t,r]=q.useState(!0),[a,o]=q.useState(""),[c,h]=q.useState(null),[f,p]=q.useState(!0),[y,x]=q.useState(!1),[_]=q.useState(10),[E,S]=q.useState(null),[P,C]=q.useState({name:"",price:"",discount:0,description:"",category:"",mainImage:"",colorVariants:[]});q.useEffect(()=>{(async()=>{try{r(!0);const k=Zn(Ft,"products"),L=Zs(k,Z0("name"),yc(_)),R=await is(L),J=R.docs.map($=>A($));e(J);const oe=R.docs[R.docs.length-1];h(oe),p(R.docs.length===_),x(!0)}catch(k){console.error("Error fetching products: ",k)}finally{r(!1)}})()},[_]);const A=D=>{const k=D.data();return{id:D.id,name:k.name||"",price:k.price||0,discount:k.discount||0,description:k.description||"",category:k.category||"",mainImage:k.mainImage||"",colorVariants:Array.isArray(k.colorVariants)?k.colorVariants.map(L=>({colorName:L.colorName||"",thumbnail:L.thumbnail||"",images:Array.isArray(L.images)?L.images:[],sizes:Array.isArray(L.sizes)?L.sizes.map(R=>({size:R.size||"",stock:Number(R.stock)||0})):[],stock:Number(L.stock)||0})):[]}},T=async()=>{if(!(!c||!f)){r(!0);try{const D=Zn(Ft,"products"),k=Zs(D,Z0("name"),Av(c),yc(_)),L=await is(k),R=L.docs.map(oe=>A(oe));e(oe=>[...oe,...R]);const J=L.docs[L.docs.length-1];h(J),p(L.docs.length===_)}catch(D){console.error("Error loading more products: ",D)}finally{r(!1)}}},b=n.filter(D=>{if(!a)return!0;const k=a.toLowerCase();return(D.name||"").toLowerCase().includes(k)||(D.category||"").toLowerCase().includes(k)||(D.description||"").toLowerCase().includes(k)}),O=D=>{S(D.id),C({name:D.name||"",price:D.price||0,discount:D.discount||0,description:D.description||"",category:D.category||"",mainImage:D.mainImage||"",colorVariants:Array.isArray(D.colorVariants)?D.colorVariants.map(k=>({...k,sizes:Array.isArray(k.sizes)?k.sizes.map(L=>({...L,stock:Number(L.stock)||0})):[]})):[]})},z=D=>{const{name:k,value:L}=D.target;(k==="price"||k==="discount")&&!/^[0-9]*\.?[0-9]*$/.test(L)&&L!==""||C({...P,[k]:L})},U=(D,k,L)=>{const R=[...P.colorVariants||[]];R[D]||(R[D]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),k==="images"?R[D][k]=L.split(",").map(J=>J.trim()):R[D][k]=L,C({...P,colorVariants:R})},V=(D,k,L)=>{if(!/^\d*$/.test(L))return;const R=[...P.colorVariants||[]];R[D]||(R[D]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),Array.isArray(R[D].sizes)||(R[D].sizes=[]),R[D].sizes[k]||(R[D].sizes[k]={size:"",stock:0}),R[D].sizes[k].stock=parseInt(L)||0;const J=R[D].sizes.reduce((oe,$)=>oe+($.stock||0),0);R[D].stock=J,C({...P,colorVariants:R})},j=async D=>{D.preventDefault();try{const k=bs(Ft,"products",E);await km(k,P),e(n.map(L=>L.id===E?{...L,...P}:L)),S(null),alert("Product updated successfully!")}catch(k){console.error("Error updating product: ",k),alert("Error updating product")}},M=async D=>{if(window.confirm("Are you sure you want to delete this product?"))try{await _S(bs(Ft,"products",D)),e(n.filter(k=>k.id!==D)),alert("Product deleted successfully!")}catch(k){console.error("Error deleting product: ",k),alert("Error deleting product")}};return t&&!y?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Product Management"}),d.jsx("div",{className:"mb-4 sm:mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search by name, category or description...",className:"w-full p-2 sm:p-3 pl-8 sm:pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",value:a,onChange:D=>o(D.target.value)}),d.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d.jsxs("div",{className:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600",children:["Showing ",b.length," ",b.length===1?"product":"products",a&&` matching "${a}"`,!a&&` (${f?"first":""} ${n.length} of all products)`]}),d.jsx("div",{className:"grid gap-4 sm:gap-6",children:b.length===0?d.jsxs("div",{className:"text-center py-6 sm:py-10",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-500",children:"No products found"}),a&&d.jsx("button",{onClick:()=>o(""),className:"mt-2 text-sm sm:text-base text-blue-600 hover:text-blue-800",children:"Clear search"})]}):d.jsxs(d.Fragment,{children:[b.map(D=>d.jsx("div",{className:"w-[450px] sm:w-[100%] border border-red-600 rounded-lg p-3 sm:p-4 md:p-6 shadow-sm bg-white for_res",children:E===D.id?d.jsxs("form",{onSubmit:j,className:"space-y-4 sm:space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold mb-3 sm:mb-4",children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:P.name,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Category *"}),d.jsx("input",{type:"text",name:"category",value:P.category,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Price *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"price",value:P.price,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"discount",value:P.discount,onChange:z,min:"0",max:"100",className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Description *"}),d.jsx("textarea",{name:"description",value:P.description,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:"3",required:!0})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Main Image URL *"}),d.jsx("input",{type:"text",name:"mainImage",value:P.mainImage,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),P.mainImage&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:P.mainImage,alt:"Preview",className:"h-16 sm:h-20 object-cover rounded border",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/150?text=Image+Error"}})})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold",children:"Color Variants"})}),(P.colorVariants||[]).map((k,L)=>{var R;return d.jsxs("div",{className:"border border-gray-200 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4 bg-white",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Color Name *"}),d.jsx("input",{type:"text",value:k.colorName||"",onChange:J=>U(L,"colorName",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Total Stock"}),d.jsx("input",{type:"text",value:k.stock||0,readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-sm sm:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Thumbnail URL *"}),d.jsx("input",{type:"text",value:k.thumbnail||"",onChange:J=>U(L,"thumbnail",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),k.thumbnail&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:k.thumbnail,alt:"Thumbnail Preview",className:"h-12 sm:h-16 object-cover rounded border",onError:J=>{J.target.onerror=null,J.target.src="https://via.placeholder.com/100?text=Thumbnail+Error"}})})]})]}),d.jsxs("div",{className:"mb-3 sm:mb-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Image URLs (comma separated) *"}),d.jsx("input",{type:"text",value:(k.images||[]).join(", "),onChange:J=>U(L,"images",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-2",children:(R=k.images)==null?void 0:R.map((J,oe)=>d.jsx("img",{src:J,alt:`Preview ${oe}`,className:"h-10 sm:h-12 object-cover rounded border",onError:$=>{$.target.onerror=null,$.target.src="https://via.placeholder.com/50?text=Image+Error"}},oe))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Sizes and Stock"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:(k.sizes||[]).map((J,oe)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"mb-1 sm:mb-2",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Size"}),d.jsx("input",{type:"text",value:J.size||"",readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-xs sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:J.stock||0,onChange:$=>V(L,oe,$.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm",required:!0})]})]},oe))})]})]},L)})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>S(null),className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors text-sm sm:text-base",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base",children:"Save Changes"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold",children:D.name||"Unnamed Product"}),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[D.discount>0&&d.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full text-xs",children:[D.discount,"% OFF"]}),d.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full text-xs",children:D.category||"Uncategorized"})]})]}),d.jsxs("div",{className:"flex space-x-1 sm:space-x-2 mt-2 sm:mt-0",children:[d.jsx("button",{onClick:()=>O(D),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-colors text-xs sm:text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>M(D.id),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs sm:text-sm",children:"Delete"})]})]}),D.mainImage&&d.jsx("div",{className:"mb-3 sm:mb-4",children:d.jsx("img",{src:D.mainImage,alt:D.name||"Product image",className:"w-full h-40 sm:h-48 md:h-64 object-cover rounded-lg",onError:k=>{k.target.onerror=null,k.target.src="https://via.placeholder.com/600x400?text=Image+Not+Available"}})}),d.jsx("p",{className:"text-gray-600 break-words mb-3 sm:mb-4 text-xs sm:text-sm",children:D.description||"No description available"}),d.jsx("div",{className:"flex items-center mb-3 sm:mb-4",children:D.discount>0?d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-500 line-through",children:["$",D.price||0]}),d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-red-600",children:["$",(D.price*(1-D.discount/100)).toFixed(2)]})]}):d.jsxs("span",{className:"text-sm sm:text-base font-semibold",children:["$",D.price||0]})}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("h3",{className:"font-medium mb-1 sm:mb-2 text-xs sm:text-sm",children:"Color Variants:"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:(D.colorVariants||[]).map((k,L)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-1 sm:mb-2 gap-1 sm:gap-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full mr-1 sm:mr-2 border border-gray-300",style:{backgroundColor:(k.colorName||"").toLowerCase()}}),d.jsx("span",{className:"font-medium text-xs sm:text-sm",children:k.colorName||"No color name"})]}),d.jsxs("span",{className:"sm:ml-auto text-xs sm:text-sm",children:["Stock: ",k.stock||0]})]}),k.thumbnail&&d.jsx("img",{src:k.thumbnail,alt:`${k.colorName} thumbnail`,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded mb-1 sm:mb-2",onError:R=>{R.target.onerror=null,R.target.src="https://via.placeholder.com/100?text=Thumbnail"}}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-medium mb-1",children:"Sizes:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(k.sizes||[]).map((R,J)=>d.jsxs("span",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:[R.size||"N/A",": ",R.stock||0]},J))})]})]},L))})]})]})},D.id)),f&&!a&&d.jsx("div",{className:"flex justify-center mt-4 sm:mt-6",children:d.jsx("button",{onClick:T,disabled:t,className:`px-4 py-1.5 sm:px-6 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base ${t?"opacity-70 cursor-not-allowed":""}`,children:t?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})}),!f&&!a&&n.length>0&&d.jsx("div",{className:"text-center py-3 sm:py-4 text-xs sm:text-sm text-gray-500",children:"You've reached the end of the product list."})]})})]})};function I9(){return d.jsx("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[d.jsx("div",{className:"text-xl font-bold text-center md:text-left",children:"Admin Panel"}),d.jsxs("ul",{className:"flex flex-wrap justify-center md:justify-end gap-4 text-sm font-medium",children:[d.jsx("li",{children:d.jsx(ot,{to:"product-update",className:"hover:text-yellow-300",children:"Product Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"upload-products",className:"hover:text-yellow-300",children:"Product Upload"})}),d.jsx("li",{children:d.jsx(ot,{to:"product-category",className:"hover:text-yellow-300",children:"Category Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"headline-update",className:"hover:text-yellow-300",children:"Headline Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"banner-update",className:"hover:text-yellow-300",children:"Banner Update"})})]})]})})}const j9=()=>d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx(I9,{}),d.jsx("div",{className:"pt-10 p-0 md:p-2",children:d.jsx(ET,{})})]}),M9=()=>{const[n,e]=q.useState(""),[t,r]=q.useState(!1),[a,o]=q.useState(""),[c,h]=q.useState(""),[f,p]=q.useState("");q.useEffect(()=>{(async()=>{r(!0),o("");try{const _=await is(Zn(Ft,"headline"));if(_.empty)o("No documents found in headline collection");else{const E=_.docs[0];p(E.id),e(E.data().news||"")}}catch(_){o("Failed to fetch headline: "+_.message),console.error("Error fetching documents: ",_)}finally{r(!1)}})()},[]);const y=async x=>{if(x.preventDefault(),!f){o("No document found to update");return}r(!0),o(""),h("");try{const _=bs(Ft,"headline",f);await km(_,{news:n}),h("News updated successfully!")}catch(_){o("Failed to update news: "+_.message),console.error("Error updating document: ",_)}finally{r(!1)}};return d.jsxs("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Update Headline News"}),t&&d.jsx("div",{className:"mb-4 text-blue-600",children:"Loading..."}),a&&d.jsx("div",{className:"mb-4 text-red-600",children:a}),c&&d.jsx("div",{className:"mb-4 text-green-600",children:c}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"news",className:"block text-sm font-medium text-gray-700 mb-1",children:"News Content *"}),d.jsx("textarea",{id:"news",value:n,onChange:x=>e(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"6",placeholder:"Enter news content here...",required:!0,disabled:t})]}),d.jsx("button",{type:"submit",disabled:t,className:`px-4 py-2 rounded-md text-white ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:t?"Updating...":"Update News"})]})]})},O9=_I([{path:"/",element:d.jsx(j5,{}),children:[{index:!0,element:d.jsx(LE,{})},{path:"/home",element:d.jsx(LE,{})},{path:"/category/:gender",element:d.jsx(S9,{})},{path:"/category/:gender/:category",element:d.jsx(VE,{})},{path:"/category/:gender",element:d.jsx(VE,{})},{path:"/all-categories",element:d.jsx(AN,{})},{path:"/product/:productId",element:d.jsx(E9,{})},{path:"/admin",element:d.jsx($L,{})},{path:"/cart",element:d.jsx(A9,{})},{path:"/checkout",element:d.jsx(C9,{})},{path:"/complete-order",element:d.jsx(R9,{})},{path:"/footer",element:d.jsx(xN,{})},{path:"/admin-panel",element:d.jsx(j9,{}),children:[{index:!0,element:d.jsx(QE,{})},{path:"product-update",element:d.jsx(QE,{})},{path:"upload-products",element:d.jsx(T9,{})},{path:"product-category",element:d.jsx(N9,{})},{path:"headline-update",element:d.jsx(M9,{})},{path:"banner-update",element:d.jsx("div",{children:"Banner Update Page"})}]}]}]);NC.createRoot(document.getElementById("root")).render(d.jsx(q.StrictMode,{children:d.jsx(HL,{children:d.jsx(kI,{router:O9})})}));
