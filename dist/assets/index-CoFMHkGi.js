var RA=Object.defineProperty;var aw=n=>{throw TypeError(n)};var IA=(n,e,t)=>e in n?RA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ms=(n,e,t)=>IA(n,typeof e!="symbol"?e+"":e,t),Gg=(n,e,t)=>e.has(n)||aw("Cannot "+t);var Y=(n,e,t)=>(Gg(n,e,"read from private field"),t?t.call(n):e.get(n)),Ke=(n,e,t)=>e.has(n)?aw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Gg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),yt=(n,e,t)=>(Gg(n,e,"access private method"),t);var tf=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function dT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qg={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function jA(){if(ow)return Cu;ow=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Cu.Fragment=e,Cu.jsx=t,Cu.jsxs=t,Cu}var lw;function OA(){return lw||(lw=1,Qg.exports=jA()),Qg.exports}var d=OA(),Kg={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function MA(){if(cw)return nt;cw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,D={};function C(H,ce,ve){this.props=H,this.context=ce,this.refs=D,this.updater=ve||E}C.prototype.isReactComponent={},C.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=C.prototype;function S(H,ce,ve){this.props=H,this.context=ce,this.refs=D,this.updater=ve||E}var b=S.prototype=new N;b.constructor=S,T(b,C.prototype),b.isPureReactComponent=!0;var M=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function k(H,ce,ve,ge,Se,ze){return ve=ze.ref,{$$typeof:n,type:H,key:ce,ref:ve!==void 0?ve:null,props:ze}}function R(H,ce){return k(H.type,ce,void 0,void 0,void 0,H.props)}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function P(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ce[ve]})}var V=/\/+/g;function U(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?P(""+H.key):ce.toString(36)}function I(){}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(I,I):(H.status="pending",H.then(function(ce){H.status==="pending"&&(H.status="fulfilled",H.value=ce)},function(ce){H.status==="pending"&&(H.status="rejected",H.reason=ce)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function oe(H,ce,ve,ge,Se){var ze=typeof H;(ze==="undefined"||ze==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(ze){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,oe(Ee(H._payload),ce,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+U(H,0):ge,M(Se)?(ve="",Ee!=null&&(ve=Ee.replace(V,"$&/")+"/"),oe(Se,ce,ve,"",function(lt){return lt})):Se!=null&&(O(Se)&&(Se=R(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+Ee)),ce.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(M(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],ze=ye+U(ge,Te),Ee+=oe(ge,ce,ve,ze,Se);else if(Te=w(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,ze=ye+U(ge,Te++),Ee+=oe(ge,ce,ve,ze,Se);else if(ze==="object"){if(typeof H.then=="function")return oe(J(H),ce,ve,ge,Se);throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,ce,ve){if(H==null)return H;var ge=[],Se=0;return oe(H,ge,"","",function(ze){return ce.call(ve,ze,Se++)}),ge}function se(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function xe(){}return nt.Children={map:$,forEach:function(H,ce,ve){$(H,function(){ce.apply(this,arguments)},ve)},count:function(H){var ce=0;return $(H,function(){ce++}),ce},toArray:function(H){return $(H,function(ce){return ce})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},nt.Component=C,nt.Fragment=t,nt.Profiler=a,nt.PureComponent=S,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,nt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},nt.cache=function(H){return function(){return H.apply(null,arguments)}},nt.cloneElement=function(H,ce,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=T({},H.props),Se=H.key,ze=void 0;if(ce!=null)for(Ee in ce.ref!==void 0&&(ze=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!L.call(ce,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ce.ref===void 0||(ge[Ee]=ce[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return k(H.type,Se,void 0,void 0,ze,ge)},nt.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},nt.createElement=function(H,ce,ve){var ge,Se={},ze=null;if(ce!=null)for(ge in ce.key!==void 0&&(ze=""+ce.key),ce)L.call(ce,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=ce[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return k(H,ze,void 0,void 0,null,Se)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(H){return{$$typeof:h,render:H}},nt.isValidElement=O,nt.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:se}},nt.memo=function(H,ce){return{$$typeof:p,type:H,compare:ce===void 0?null:ce}},nt.startTransition=function(H){var ce=z.T,ve={};z.T=ve;try{var ge=H(),Se=z.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,ae)}catch(ze){ae(ze)}finally{z.T=ce}},nt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},nt.use=function(H){return z.H.use(H)},nt.useActionState=function(H,ce,ve){return z.H.useActionState(H,ce,ve)},nt.useCallback=function(H,ce){return z.H.useCallback(H,ce)},nt.useContext=function(H){return z.H.useContext(H)},nt.useDebugValue=function(){},nt.useDeferredValue=function(H,ce){return z.H.useDeferredValue(H,ce)},nt.useEffect=function(H,ce,ve){var ge=z.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,ce)},nt.useId=function(){return z.H.useId()},nt.useImperativeHandle=function(H,ce,ve){return z.H.useImperativeHandle(H,ce,ve)},nt.useInsertionEffect=function(H,ce){return z.H.useInsertionEffect(H,ce)},nt.useLayoutEffect=function(H,ce){return z.H.useLayoutEffect(H,ce)},nt.useMemo=function(H,ce){return z.H.useMemo(H,ce)},nt.useOptimistic=function(H,ce){return z.H.useOptimistic(H,ce)},nt.useReducer=function(H,ce,ve){return z.H.useReducer(H,ce,ve)},nt.useRef=function(H){return z.H.useRef(H)},nt.useState=function(H){return z.H.useState(H)},nt.useSyncExternalStore=function(H,ce,ve){return z.H.useSyncExternalStore(H,ce,ve)},nt.useTransition=function(){return z.H.useTransition()},nt.version="19.1.0",nt}var uw;function gm(){return uw||(uw=1,Kg.exports=MA()),Kg.exports}var F=gm();const Le=dT(F);var Yg={exports:{}},Au={},Xg={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function DA(){return dw||(dw=1,function(n){function e($,se){var ae=$.length;$.push(se);e:for(;0<ae;){var xe=ae-1>>>1,H=$[xe];if(0<a(H,se))$[xe]=se,$[ae]=H,ae=xe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var se=$[0],ae=$.pop();if(ae!==se){$[0]=ae;e:for(var xe=0,H=$.length,ce=H>>>1;xe<ce;){var ve=2*(xe+1)-1,ge=$[ve],Se=ve+1,ze=$[Se];if(0>a(ge,ae))Se<H&&0>a(ze,ge)?($[xe]=ze,$[Se]=ae,xe=Se):($[xe]=ge,$[ve]=ae,xe=ve);else if(Se<H&&0>a(ze,ae))$[xe]=ze,$[Se]=ae,xe=Se;else break e}}return se}function a($,se){var ae=$.sortIndex-se.sortIndex;return ae!==0?ae:$.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,x=null,w=3,E=!1,T=!1,D=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function M($){for(var se=t(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=$)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(p)}}function z($){if(D=!1,M($),!T)if(t(f)!==null)T=!0,L||(L=!0,U());else{var se=t(p);se!==null&&oe(z,se.startTime-$)}}var L=!1,k=-1,R=5,O=-1;function P(){return C?!0:!(n.unstable_now()-O<R)}function V(){if(C=!1,L){var $=n.unstable_now();O=$;var se=!0;try{e:{T=!1,D&&(D=!1,S(k),k=-1),E=!0;var ae=w;try{t:{for(M($),x=t(f);x!==null&&!(x.expirationTime>$&&P());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,w=x.priorityLevel;var H=xe(x.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){x.callback=H,M($),se=!0;break t}x===t(f)&&r(f),M($)}else r(f);x=t(f)}if(x!==null)se=!0;else{var ce=t(p);ce!==null&&oe(z,ce.startTime-$),se=!1}}break e}finally{x=null,w=ae,E=!1}se=void 0}}finally{se?U():L=!1}}}var U;if(typeof b=="function")U=function(){b(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=V,U=function(){J.postMessage(null)}}else U=function(){N(V,0)};function oe($,se){k=N(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ae=w;w=se;try{return $()}finally{w=ae}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=w;w=$;try{return se()}finally{w=ae}},n.unstable_scheduleCallback=function($,se,ae){var xe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,$={id:y++,callback:se,priorityLevel:$,startTime:ae,expirationTime:H,sortIndex:-1},ae>xe?($.sortIndex=ae,e(p,$),t(f)===null&&$===t(p)&&(D?(S(k),k=-1):D=!0,oe(z,ae-xe))):($.sortIndex=H,e(f,$),T||E||(T=!0,L||(L=!0,U()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var se=w;return function(){var ae=w;w=se;try{return $.apply(this,arguments)}finally{w=ae}}}}(Wg)),Wg}var hw;function PA(){return hw||(hw=1,Xg.exports=DA()),Xg.exports}var Zg={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function kA(){if(fw)return Qn;fw=1;var n=gm();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Qn.flushSync=function(f){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=y,r.d.f()}},Qn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Qn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:E}):y==="script"&&r.d.X(f,{crossOrigin:x,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Qn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Qn.requestFormReset=function(f){r.d.r(f)},Qn.unstable_batchedUpdates=function(f,p){return f(p)},Qn.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qn.version="19.1.0",Qn}var mw;function hT(){if(mw)return Zg.exports;mw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zg.exports=kA(),Zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function LA(){if(pw)return Au;pw=1;var n=PA(),e=gm(),t=hT();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,u=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===u)return h(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=v;else{for(var j=!1,B=g.child;B;){if(B===l){j=!0,l=g,u=v;break}if(B===u){j=!0,u=g,l=v;break}B=B.sibling}if(!j){for(B=v.child;B;){if(B===l){j=!0,l=v,u=g;break}if(B===u){j=!0,u=v,l=g;break}B=B.sibling}if(!j)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function J(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case L:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case b:return(s.displayName||"Context")+".Provider";case S:return(s._context.displayName||"Context")+".Consumer";case M:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return i=s.displayName||null,i!==null?i:J(s.type)||"Memo";case R:i=s._payload,s=s._init;try{return J(s(i))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],H=-1;function ce(s){return{current:s}}function ve(s){0>H||(s.current=xe[H],xe[H]=null,H--)}function ge(s,i){H++,xe[H]=s.current,s.current=i}var Se=ce(null),ze=ce(null),Ee=ce(null),ye=ce(null);function Te(s,i){switch(ge(Ee,i),ge(ze,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?D1(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=D1(i),s=P1(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function lt(){ve(Se),ve(ze),ve(Ee)}function et(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=P1(i,s.type);i!==l&&(ge(ze,s),ge(Se,l))}function jt(s){ze.current===s&&(ve(Se),ve(ze)),ye.current===s&&(ve(ye),_u._currentValue=ae)}var $t=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,hr=n.unstable_shouldYield,er=n.unstable_requestPaint,Wt=n.unstable_now,Ns=n.unstable_getCurrentPriorityLevel,Cs=n.unstable_ImmediatePriority,As=n.unstable_UserBlockingPriority,ls=n.unstable_NormalPriority,tr=n.unstable_LowPriority,nr=n.unstable_IdlePriority,Rs=n.log,cs=n.unstable_setDisableYieldValue,xt=null,Ze=null;function En(s){if(typeof Rs=="function"&&cs(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(xt,s)}catch{}}var Qt=Math.clz32?Math.clz32:Ur,si=Math.log,fr=Math.LN2;function Ur(s){return s>>>=0,s===0?32:31-(si(s)/fr|0)|0}var Br=256,Oe=4194304;function je(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function tt(s,i,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,v=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var B=u&134217727;return B!==0?(u=B&~v,u!==0?g=je(u):(j&=B,j!==0?g=je(j):l||(l=B&~s,l!==0&&(g=je(l))))):(B=u&~v,B!==0?g=je(B):j!==0?g=je(j):l||(l=u&~s,l!==0&&(g=je(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function pt(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Ht(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var s=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),s}function rr(){var s=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),s}function On(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Hn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mn(s,i,l,u,g,v){var j=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var B=s.entanglements,G=s.expirationTimes,ne=s.hiddenUpdates;for(l=j&~l;0<l;){var ue=31-Qt(l),me=1<<ue;B[ue]=0,G[ue]=-1;var re=ne[ue];if(re!==null)for(ne[ue]=null,ue=0;ue<re.length;ue++){var ie=re[ue];ie!==null&&(ie.lane&=-536870913)}l&=~me}u!==0&&Kt(s,u,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(j&~i))}function Kt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-Qt(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Fr(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var u=31-Qt(l),g=1<<u;g&i|s[u]&i&&(s[u]|=i),l&=~g}}function Er(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Is(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:ew(s.type))}function W(s,i){var l=se.p;try{return se.p=s,i()}finally{se.p=l}}var te=Math.random().toString(36).slice(2),fe="__reactFiber$"+te,be="__reactProps$"+te,Ce="__reactContainer$"+te,Ue="__reactEvents$"+te,Ae="__reactListeners$"+te,Me="__reactHandles$"+te,Pe="__reactResources$"+te,Be="__reactMarker$"+te;function De(s){delete s[fe],delete s[be],delete s[Ue],delete s[Ae],delete s[Me]}function qe(s){var i=s[fe];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ce]||l[fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=z1(s);s!==null;){if(l=s[fe])return l;s=z1(s)}return i}s=l,l=s.parentNode}return null}function ct(s){if(s=s[fe]||s[Ce]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function Ct(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Tt(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(s){s[Be]=!0}var it=new Set,qr={};function pn(s,i){sr(s,i),sr(s+"Capture",i)}function sr(s,i){for(qr[s]=i,s=0;s<i.length;s++)it.add(i[s])}var Dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),js={},Tr={};function zi(s){return $t.call(Tr,s)?!0:$t.call(js,s)?!1:Dn.test(s)?Tr[s]=!0:(js[s]=!0,!1)}function $n(s,i,l){if(zi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function ir(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ye(s,i,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+u)}}var on,Sr;function mr(s){if(on===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);on=i&&i[1]||"",Sr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+on+s+Sr}var Os=!1;function zt(s,i){if(!s||Os)return"";Os=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var re=ie}Reflect.construct(s,[],me)}else{try{me.call()}catch(ie){re=ie}s.call(me.prototype)}}else{try{throw Error()}catch(ie){re=ie}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),j=v[0],B=v[1];if(j&&B){var G=j.split(`
`),ne=B.split(`
`);for(g=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(u===G.length||g===ne.length)for(u=G.length-1,g=ne.length-1;1<=u&&0<=g&&G[u]!==ne[g];)g--;for(;1<=u&&0<=g;u--,g--)if(G[u]!==ne[g]){if(u!==1||g!==1)do if(u--,g--,0>g||G[u]!==ne[g]){var ue=`
`+G[u].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=u&&0<=g);break}}}finally{Os=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?mr(l):""}function Hr(s){switch(s.tag){case 26:case 27:case 5:return mr(s.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return zt(s.type,!1);case 11:return zt(s.type.render,!1);case 1:return zt(s.type,!0);case 31:return mr("Activity");default:return""}}function ii(s){try{var i="";do i+=Hr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ic(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xm(s){var i=Ic(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),u=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(j){u=""+j,v.call(this,j)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Qo(s){s._valueTracker||(s._valueTracker=Xm(s))}function jc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return s&&(u=Ic(s)?s.checked?"true":"false":s.value),s=u,s!==l?(i.setValue(s),!0):!1}function Ka(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Wm=/[\n"\\]/g;function ln(s){return s.replace(Wm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nr(s,i,l,u,g,v,j,B){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),i!=null?j==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Pn(i)):s.value!==""+Pn(i)&&(s.value=""+Pn(i)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),i!=null?Ui(s,j,Pn(i)):l!=null?Ui(s,j,Pn(l)):u!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?s.name=""+Pn(B):s.removeAttribute("name")}function Ya(s,i,l,u,g,v,j,B){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Pn(l):"",i=i!=null?""+Pn(i):l,B||i===s.value||(s.value=i),s.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=B?s.checked:!!u,s.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function Ui(s,i,l){i==="number"&&Ka(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ai(s,i,l,u){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Pn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Pt(s,i,l){if(i!=null&&(i=""+Pn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Pn(l):""}function Xa(s,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(r(92));if(oe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=Pn(i),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function $r(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ud(s,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,l):typeof l!="number"||l===0||Wa.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Oc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&l[g]!==u&&Ud(s,g,u)}else for(var v in i)i.hasOwnProperty(v)&&Ud(s,v,i[v])}function Mc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(s){return Jm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var oi=null;function Gr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var li=null,ci=null;function Dc(s){var i=ct(s);if(i&&(s=i.stateNode)){var l=s[be]||null;e:switch(s=i.stateNode,i.type){case"input":if(Nr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==s&&u.form===s.form){var g=u[be]||null;if(!g)throw Error(r(90));Nr(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===s.form&&jc(u)}break e;case"textarea":Pt(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ai(s,!!l.multiple,i,!1)}}}var Ms=!1;function Bd(s,i,l){if(Ms)return s(i,l);Ms=!0;try{var u=s(i);return u}finally{if(Ms=!1,(li!==null||ci!==null)&&(Dh(),li&&(i=li,s=ci,ci=li=null,Dc(i),s)))for(i=0;i<s.length;i++)Dc(s[i])}}function Za(s,i){var l=s.stateNode;if(l===null)return null;var u=l[be]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(us)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Qr=!1}var Ds=null,Bi=null,ui=null;function Pc(){if(ui)return ui;var s,i=Bi,l=i.length,u,g="value"in Ds?Ds.value:Ds.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var j=l-s;for(u=1;u<=j&&i[l-u]===g[v-u];u++);return ui=g.slice(s,1<u?1-u:void 0)}function Ps(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function ks(){return!0}function kc(){return!1}function Tn(s){function i(l,u,g,v,j){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(l=s[B],this[B]=l?l(v):v[B]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ks:kc,this.isPropagationStopped=kc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),i}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Tn(At),eo=y({},At,{view:0,detail:0}),Fd=Tn(eo),Xo,Wo,Ls,to=y({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?(Xo=s.screenX-Ls.screenX,Wo=s.screenY-Ls.screenY):Wo=Xo=0,Ls=s),Xo)},movementY:function(s){return"movementY"in s?s.movementY:Wo}}),Kr=Tn(to),qd=y({},to,{dataTransfer:0}),ep=Tn(qd),no=y({},eo,{relatedTarget:0}),Zo=Tn(no),Lc=y({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=Tn(Lc),Hd=y({},At,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),el=Tn(Hd),tp=y({},At,{data:0}),Vc=Tn(tp),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$d={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Gd[s])?!!i[s]:!1}function so(){return zc}var Qd=y({},eo,{key:function(s){if(s.key){var i=ro[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ps(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$d[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(s){return s.type==="keypress"?Ps(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ps(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tl=Tn(Qd),Kd=y({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=Tn(Kd),di=y({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),Yd=Tn(di),Xd=y({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=Tn(Xd),Zd=y({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nl=Tn(Zd),ar=y({},At,{newState:0,oldState:0}),Jd=Tn(ar),eh=[9,13,27,32],Vs=us&&"CompositionEvent"in window,m=null;us&&"documentMode"in document&&(m=document.documentMode);var _=us&&"TextEvent"in window&&!m,A=us&&(!Vs||m&&8<m&&11>=m),q=" ",Z=!1;function le(s,i){switch(s){case"keyup":return eh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bt=!1;function gn(s,i){switch(s){case"compositionend":return we(i);case"keypress":return i.which!==32?null:(Z=!0,q);case"textInput":return s=i.data,s===q&&Z?null:s;default:return null}}function wt(s,i){if(bt)return s==="compositionend"||!Vs&&le(s,i)?(s=Pc(),ui=Bi=Ds=null,bt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return A&&i.locale!=="ko"?null:i.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Sn[s.type]:i==="textarea"}function hi(s,i,l,u){li?ci?ci.push(u):ci=[u]:li=u,i=Uh(i,"onChange"),0<i.length&&(l=new Yo("onChange","change",null,l,u),s.push({event:l,listeners:i}))}var kn=null,zs=null;function Bc(s){R1(s,0)}function th(s){var i=Ct(s);if(jc(i))return s}function Xv(s,i){if(s==="change")return i}var Wv=!1;if(us){var np;if(us){var rp="oninput"in document;if(!rp){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),rp=typeof Zv.oninput=="function"}np=rp}else np=!1;Wv=np&&(!document.documentMode||9<document.documentMode)}function Jv(){kn&&(kn.detachEvent("onpropertychange",ex),zs=kn=null)}function ex(s){if(s.propertyName==="value"&&th(zs)){var i=[];hi(i,zs,s,Gr(s)),Bd(Bc,i)}}function iC(s,i,l){s==="focusin"?(Jv(),kn=i,zs=l,kn.attachEvent("onpropertychange",ex)):s==="focusout"&&Jv()}function aC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return th(zs)}function oC(s,i){if(s==="click")return th(i)}function lC(s,i){if(s==="input"||s==="change")return th(i)}function cC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Cr=typeof Object.is=="function"?Object.is:cC;function Fc(s,i){if(Cr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!$t.call(i,g)||!Cr(s[g],i[g]))return!1}return!0}function tx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nx(s,i){var l=tx(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=i&&u>=i)return{node:l,offset:i-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tx(l)}}function rx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?rx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function sx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ka(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ka(s.document)}return i}function sp(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var uC=us&&"documentMode"in document&&11>=document.documentMode,rl=null,ip=null,qc=null,ap=!1;function ix(s,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ap||rl==null||rl!==Ka(u)||(u=rl,"selectionStart"in u&&sp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qc&&Fc(qc,u)||(qc=u,u=Uh(ip,"onSelect"),0<u.length&&(i=new Yo("onSelect","select",null,i,l),s.push({event:i,listeners:u}),i.target=rl)))}function io(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var sl={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},op={},ax={};us&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ao(s){if(op[s])return op[s];if(!sl[s])return s;var i=sl[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ax)return op[s]=i[l];return s}var ox=ao("animationend"),lx=ao("animationiteration"),cx=ao("animationstart"),dC=ao("transitionrun"),hC=ao("transitionstart"),fC=ao("transitioncancel"),ux=ao("transitionend"),dx=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function ds(s,i){dx.set(s,i),pn(i,[s])}var hx=new WeakMap;function Yr(s,i){if(typeof s=="object"&&s!==null){var l=hx.get(s);return l!==void 0?l:(i={value:s,source:i,stack:ii(i)},hx.set(s,i),i)}return{value:s,source:i,stack:ii(i)}}var Xr=[],il=0,cp=0;function nh(){for(var s=il,i=cp=il=0;i<s;){var l=Xr[i];Xr[i++]=null;var u=Xr[i];Xr[i++]=null;var g=Xr[i];Xr[i++]=null;var v=Xr[i];if(Xr[i++]=null,u!==null&&g!==null){var j=u.pending;j===null?g.next=g:(g.next=j.next,j.next=g),u.pending=g}v!==0&&fx(l,g,v)}}function rh(s,i,l,u){Xr[il++]=s,Xr[il++]=i,Xr[il++]=l,Xr[il++]=u,cp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function up(s,i,l,u){return rh(s,i,l,u),sh(s)}function al(s,i){return rh(s,null,null,i),sh(s)}function fx(s,i,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Qt(l),s=v.hiddenUpdates,u=s[g],u===null?s[g]=[i]:u.push(i),i.lane=l|536870912),v):null}function sh(s){if(50<mu)throw mu=0,gg=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var ol={};function mC(s,i,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,u){return new mC(s,i,l,u)}function dp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function mx(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function ih(s,i,l,u,g,v){var j=0;if(u=s,typeof s=="function")dp(s)&&(j=1);else if(typeof s=="string")j=gA(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Ar(31,l,i,g),s.elementType=O,s.lanes=v,s;case T:return oo(l.children,g,v,i);case D:j=8,g|=24;break;case C:return s=Ar(12,l,i,g|2),s.elementType=C,s.lanes=v,s;case z:return s=Ar(13,l,i,g),s.elementType=z,s.lanes=v,s;case L:return s=Ar(19,l,i,g),s.elementType=L,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:case b:j=10;break e;case S:j=9;break e;case M:j=11;break e;case k:j=14;break e;case R:j=16,u=null;break e}j=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=Ar(j,l,i,g),i.elementType=s,i.type=u,i.lanes=v,i}function oo(s,i,l,u){return s=Ar(7,s,u,i),s.lanes=l,s}function hp(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function fp(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var ll=[],cl=0,ah=null,oh=0,Wr=[],Zr=0,lo=null,mi=1,pi="";function co(s,i){ll[cl++]=oh,ll[cl++]=ah,ah=s,oh=i}function px(s,i,l){Wr[Zr++]=mi,Wr[Zr++]=pi,Wr[Zr++]=lo,lo=s;var u=mi;s=pi;var g=32-Qt(u)-1;u&=~(1<<g),l+=1;var v=32-Qt(i)+g;if(30<v){var j=g-g%5;v=(u&(1<<j)-1).toString(32),u>>=j,g-=j,mi=1<<32-Qt(i)+g|l<<g|u,pi=v+s}else mi=1<<v|l<<g|u,pi=s}function mp(s){s.return!==null&&(co(s,1),px(s,1,0))}function pp(s){for(;s===ah;)ah=ll[--cl],ll[cl]=null,oh=ll[--cl],ll[cl]=null;for(;s===lo;)lo=Wr[--Zr],Wr[Zr]=null,pi=Wr[--Zr],Wr[Zr]=null,mi=Wr[--Zr],Wr[Zr]=null}var or=null,Zt=null,Nt=!1,uo=null,Us=!1,gp=Error(r(519));function ho(s){var i=Error(r(418,""));throw Gc(Yr(i,s)),gp}function gx(s){var i=s.stateNode,l=s.type,u=s.memoizedProps;switch(i[fe]=s,i[be]=u,l){case"dialog":dt("cancel",i),dt("close",i);break;case"iframe":case"object":case"embed":dt("load",i);break;case"video":case"audio":for(l=0;l<gu.length;l++)dt(gu[l],i);break;case"source":dt("error",i);break;case"img":case"image":case"link":dt("error",i),dt("load",i);break;case"details":dt("toggle",i);break;case"input":dt("invalid",i),Ya(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Qo(i);break;case"select":dt("invalid",i);break;case"textarea":dt("invalid",i),Xa(i,u.value,u.defaultValue,u.children),Qo(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||M1(i.textContent,l)?(u.popover!=null&&(dt("beforetoggle",i),dt("toggle",i)),u.onScroll!=null&&dt("scroll",i),u.onScrollEnd!=null&&dt("scrollend",i),u.onClick!=null&&(i.onclick=Bh),i=!0):i=!1,i||ho(s)}function yx(s){for(or=s.return;or;)switch(or.tag){case 5:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:or=or.return}}function Hc(s){if(s!==or)return!1;if(!Nt)return yx(s),Nt=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Og(s.type,s.memoizedProps)),l=!l),l&&Zt&&ho(s),yx(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Zt=fs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Zt=null}}else i===27?(i=Zt,ra(s.type)?(s=kg,kg=null,Zt=s):Zt=i):Zt=or?fs(s.stateNode.nextSibling):null;return!0}function $c(){Zt=or=null,Nt=!1}function vx(){var s=uo;return s!==null&&(yr===null?yr=s:yr.push.apply(yr,s),uo=null),s}function Gc(s){uo===null?uo=[s]:uo.push(s)}var yp=ce(null),fo=null,gi=null;function Fi(s,i,l){ge(yp,i._currentValue),i._currentValue=l}function yi(s){s._currentValue=yp.current,ve(yp)}function vp(s,i,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===l)break;s=s.return}}function xp(s,i,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var j=g.child;v=v.firstContext;e:for(;v!==null;){var B=v;v=g;for(var G=0;G<i.length;G++)if(B.context===i[G]){v.lanes|=l,B=v.alternate,B!==null&&(B.lanes|=l),vp(v.return,l,s),u||(j=null);break e}v=B.next}}else if(g.tag===18){if(j=g.return,j===null)throw Error(r(341));j.lanes|=l,v=j.alternate,v!==null&&(v.lanes|=l),vp(j,l,s),j=null}else j=g.child;if(j!==null)j.return=g;else for(j=g;j!==null;){if(j===s){j=null;break}if(g=j.sibling,g!==null){g.return=j.return,j=g;break}j=j.return}g=j}}function Qc(s,i,l,u){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var j=g.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var B=g.type;Cr(g.pendingProps.value,j.value)||(s!==null?s.push(B):s=[B])}}else if(g===ye.current){if(j=g.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(_u):s=[_u])}g=g.return}s!==null&&xp(i,s,l,u),i.flags|=262144}function lh(s){for(s=s.firstContext;s!==null;){if(!Cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mo(s){fo=s,gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gn(s){return xx(fo,s)}function ch(s,i){return fo===null&&mo(s),xx(s,i)}function xx(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},gi===null){if(s===null)throw Error(r(308));gi=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else gi=gi.next=i;return l}var pC=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},gC=n.unstable_scheduleCallback,yC=n.unstable_NormalPriority,vn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new pC,data:new Map,refCount:0}}function Kc(s){s.refCount--,s.refCount===0&&gC(yC,function(){s.controller.abort()})}var Yc=null,wp=0,ul=0,dl=null;function vC(s,i){if(Yc===null){var l=Yc=[];wp=0,ul=Eg(),dl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return wp++,i.then(bx,bx),i}function bx(){if(--wp===0&&Yc!==null){dl!==null&&(dl.status="fulfilled");var s=Yc;Yc=null,ul=0,dl=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function xC(s,i){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var wx=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vC(s,i),wx!==null&&wx(s,i)};var po=ce(null);function _p(){var s=po.current;return s!==null?s:Bt.pooledCache}function uh(s,i){i===null?ge(po,po.current):ge(po,i.pool)}function _x(){var s=_p();return s===null?null:{parent:vn._currentValue,pool:s}}var Xc=Error(r(460)),Ex=Error(r(474)),dh=Error(r(542)),Ep={then:function(){}};function Tx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function hh(){}function Sx(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(hh,hh),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Cx(s),s;default:if(typeof i.status=="string")i.then(hh,hh);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,Cx(s),s}throw Wc=i,Xc}}var Wc=null;function Nx(){if(Wc===null)throw Error(r(459));var s=Wc;return Wc=null,s}function Cx(s){if(s===Xc||s===dh)throw Error(r(483))}var qi=!1;function Tp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $i(s,i,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Ot&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=sh(s),fx(s,null,l),i}return rh(s,u,i,l),sh(s)}function Zc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,Fr(s,l)}}function Np(s,i){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=j:v=v.next=j,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var Cp=!1;function Jc(){if(Cp){var s=dl;if(s!==null)throw s}}function eu(s,i,l,u){Cp=!1;var g=s.updateQueue;qi=!1;var v=g.firstBaseUpdate,j=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var G=B,ne=G.next;G.next=null,j===null?v=ne:j.next=ne,j=G;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,B=ue.lastBaseUpdate,B!==j&&(B===null?ue.firstBaseUpdate=ne:B.next=ne,ue.lastBaseUpdate=G))}if(v!==null){var me=g.baseState;j=0,ue=ne=G=null,B=v;do{var re=B.lane&-536870913,ie=re!==B.lane;if(ie?(_t&re)===re:(u&re)===re){re!==0&&re===ul&&(Cp=!0),ue!==null&&(ue=ue.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Qe=s,Fe=B;re=i;var Vt=l;switch(Fe.tag){case 1:if(Qe=Fe.payload,typeof Qe=="function"){me=Qe.call(Vt,me,re);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Fe.payload,re=typeof Qe=="function"?Qe.call(Vt,me,re):Qe,re==null)break e;me=y({},me,re);break e;case 2:qi=!0}}re=B.callback,re!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=g.callbacks,ie===null?g.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ue===null?(ne=ue=ie,G=me):ue=ue.next=ie,j|=re;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;ie=B,B=ie.next,ie.next=null,g.lastBaseUpdate=ie,g.shared.pending=null}}while(!0);ue===null&&(G=me),g.baseState=G,g.firstBaseUpdate=ne,g.lastBaseUpdate=ue,v===null&&(g.shared.lanes=0),Ji|=j,s.lanes=j,s.memoizedState=me}}function Ax(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Rx(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ax(l[s],i)}var hl=ce(null),fh=ce(0);function Ix(s,i){s=Ti,ge(fh,s),ge(hl,i),Ti=s|i.baseLanes}function Ap(){ge(fh,Ti),ge(hl,hl.current)}function Rp(){Ti=fh.current,ve(hl),ve(fh)}var Gi=0,rt=null,kt=null,cn=null,mh=!1,fl=!1,go=!1,ph=0,tu=0,ml=null,bC=0;function tn(){throw Error(r(321))}function Ip(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Cr(s[l],i[l]))return!1;return!0}function jp(s,i,l,u,g,v){return Gi=v,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?fb:mb,go=!1,v=l(u,g),go=!1,fl&&(v=Ox(i,l,u,g)),jx(s),v}function jx(s){$.H=wh;var i=kt!==null&&kt.next!==null;if(Gi=0,cn=kt=rt=null,mh=!1,tu=0,ml=null,i)throw Error(r(300));s===null||Nn||(s=s.dependencies,s!==null&&lh(s)&&(Nn=!0))}function Ox(s,i,l,u){rt=s;var g=0;do{if(fl&&(ml=null),tu=0,fl=!1,25<=g)throw Error(r(301));if(g+=1,cn=kt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=CC,v=i(l,u)}while(fl);return v}function wC(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?nu(i):i,s=s.useState()[0],(kt!==null?kt.memoizedState:null)!==s&&(rt.flags|=1024),i}function Op(){var s=ph!==0;return ph=0,s}function Mp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Dp(s){if(mh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}mh=!1}Gi=0,cn=kt=rt=null,fl=!1,tu=ph=0,ml=null}function pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?rt.memoizedState=cn=s:cn=cn.next=s,cn}function un(){if(kt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var i=cn===null?rt.memoizedState:cn.next;if(i!==null)cn=i,kt=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},cn===null?rt.memoizedState=cn=s:cn=cn.next=s}return cn}function Pp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(s){var i=tu;return tu+=1,ml===null&&(ml=[]),s=Sx(ml,s,i),i=rt,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?fb:mb),s}function gh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nu(s);if(s.$$typeof===b)return Gn(s)}throw Error(r(438,String(s)))}function kp(s){var i=null,l=rt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Pp(),rt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),u=0;u<s;u++)l[u]=P;return i.index++,l}function vi(s,i){return typeof i=="function"?i(s):i}function yh(s){var i=un();return Lp(i,kt,s)}function Lp(s,i,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=s.baseQueue,v=u.pending;if(v!==null){if(g!==null){var j=g.next;g.next=v.next,v.next=j}i.baseQueue=g=v,u.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var B=j=null,G=null,ne=i,ue=!1;do{var me=ne.lane&-536870913;if(me!==ne.lane?(_t&me)===me:(Gi&me)===me){var re=ne.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),me===ul&&(ue=!0);else if((Gi&re)===re){ne=ne.next,re===ul&&(ue=!0);continue}else me={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=me,j=v):G=G.next=me,rt.lanes|=re,Ji|=re;me=ne.action,go&&l(v,me),v=ne.hasEagerState?ne.eagerState:l(v,me)}else re={lane:me,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(B=G=re,j=v):G=G.next=re,rt.lanes|=me,Ji|=me;ne=ne.next}while(ne!==null&&ne!==i);if(G===null?j=v:G.next=B,!Cr(v,s.memoizedState)&&(Nn=!0,ue&&(l=dl,l!==null)))throw l;s.memoizedState=v,s.baseState=j,s.baseQueue=G,u.lastRenderedState=v}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Vp(s){var i=un(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var j=g=g.next;do v=s(v,j.action),j=j.next;while(j!==g);Cr(v,i.memoizedState)||(Nn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,u]}function Mx(s,i,l){var u=rt,g=un(),v=Nt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var j=!Cr((kt||g).memoizedState,l);j&&(g.memoizedState=l,Nn=!0),g=g.queue;var B=kx.bind(null,u,g,s);if(ru(2048,8,B,[s]),g.getSnapshot!==i||j||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,pl(9,vh(),Px.bind(null,u,g,l,i),null),Bt===null)throw Error(r(349));v||(Gi&124)!==0||Dx(u,i,l)}return l}function Dx(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=rt.updateQueue,i===null?(i=Pp(),rt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Px(s,i,l,u){i.value=l,i.getSnapshot=u,Lx(i)&&Vx(s)}function kx(s,i,l){return l(function(){Lx(i)&&Vx(s)})}function Lx(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Cr(s,l)}catch{return!0}}function Vx(s){var i=al(s,2);i!==null&&Mr(i,s,2)}function zp(s){var i=pr();if(typeof s=="function"){var l=s;if(s=l(),go){En(!0);try{l()}finally{En(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:s},i}function zx(s,i,l,u){return s.baseState=l,Lp(s,kt,typeof u=="function"?u:vi)}function _C(s,i,l,u,g){if(bh(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){v.listeners.push(j)}};$.T!==null?l(!0):v.isTransition=!1,u(v),l=i.pending,l===null?(v.next=i.pending=v,Ux(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Ux(s,i){var l=i.action,u=i.payload,g=s.state;if(i.isTransition){var v=$.T,j={};$.T=j;try{var B=l(g,u),G=$.S;G!==null&&G(j,B),Bx(s,i,B)}catch(ne){Up(s,i,ne)}finally{$.T=v}}else try{v=l(g,u),Bx(s,i,v)}catch(ne){Up(s,i,ne)}}function Bx(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Fx(s,i,u)},function(u){return Up(s,i,u)}):Fx(s,i,l)}function Fx(s,i,l){i.status="fulfilled",i.value=l,qx(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Ux(s,l)))}function Up(s,i,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,qx(i),i=i.next;while(i!==u)}s.action=null}function qx(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Hx(s,i){return i}function $x(s,i){if(Nt){var l=Bt.formState;if(l!==null){e:{var u=rt;if(Nt){if(Zt){t:{for(var g=Zt,v=Us;g.nodeType!==8;){if(!v){g=null;break t}if(g=fs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Zt=fs(g.nextSibling),u=g.data==="F!";break e}}ho(u)}u=!1}u&&(i=l[0])}}return l=pr(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hx,lastRenderedState:i},l.queue=u,l=ub.bind(null,rt,u),u.dispatch=l,u=zp(!1),v=$p.bind(null,rt,!1,u.queue),u=pr(),g={state:i,dispatch:null,action:s,pending:null},u.queue=g,l=_C.bind(null,rt,g,v,l),g.dispatch=l,u.memoizedState=s,[i,l,!1]}function Gx(s){var i=un();return Qx(i,kt,s)}function Qx(s,i,l){if(i=Lp(s,i,Hx)[0],s=yh(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=nu(i)}catch(j){throw j===Xc?dh:j}else u=i;i=un();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(rt.flags|=2048,pl(9,vh(),EC.bind(null,g,l),null)),[u,v,s]}function EC(s,i){s.action=i}function Kx(s){var i=un(),l=kt;if(l!==null)return Qx(i,l,s);un(),i=i.memoizedState,l=un();var u=l.queue.dispatch;return l.memoizedState=s,[i,u,!1]}function pl(s,i,l,u){return s={tag:s,create:l,deps:u,inst:i,next:null},i=rt.updateQueue,i===null&&(i=Pp(),rt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,i.lastEffect=s),s}function vh(){return{destroy:void 0,resource:void 0}}function Yx(){return un().memoizedState}function xh(s,i,l,u){var g=pr();u=u===void 0?null:u,rt.flags|=s,g.memoizedState=pl(1|i,vh(),l,u)}function ru(s,i,l,u){var g=un();u=u===void 0?null:u;var v=g.memoizedState.inst;kt!==null&&u!==null&&Ip(u,kt.memoizedState.deps)?g.memoizedState=pl(i,v,l,u):(rt.flags|=s,g.memoizedState=pl(1|i,v,l,u))}function Xx(s,i){xh(8390656,8,s,i)}function Wx(s,i){ru(2048,8,s,i)}function Zx(s,i){return ru(4,2,s,i)}function Jx(s,i){return ru(4,4,s,i)}function eb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function tb(s,i,l){l=l!=null?l.concat([s]):null,ru(4,4,eb.bind(null,i,s),l)}function Bp(){}function nb(s,i){var l=un();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Ip(i,u[1])?u[0]:(l.memoizedState=[s,i],s)}function rb(s,i){var l=un();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Ip(i,u[1]))return u[0];if(u=s(),go){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,i],u}function Fp(s,i,l){return l===void 0||(Gi&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=a1(),rt.lanes|=s,Ji|=s,l)}function sb(s,i,l,u){return Cr(l,i)?l:hl.current!==null?(s=Fp(s,l,u),Cr(s,i)||(Nn=!0),s):(Gi&42)===0?(Nn=!0,s.memoizedState=l):(s=a1(),rt.lanes|=s,Ji|=s,i)}function ib(s,i,l,u,g){var v=se.p;se.p=v!==0&&8>v?v:8;var j=$.T,B={};$.T=B,$p(s,!1,i,l);try{var G=g(),ne=$.S;if(ne!==null&&ne(B,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=xC(G,u);su(s,i,ue,Or(s))}else su(s,i,u,Or(s))}catch(me){su(s,i,{then:function(){},status:"rejected",reason:me},Or())}finally{se.p=v,$.T=j}}function TC(){}function qp(s,i,l,u){if(s.tag!==5)throw Error(r(476));var g=ab(s).queue;ib(s,g,i,ae,l===null?TC:function(){return ob(s),l(u)})}function ab(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ae},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function ob(s){var i=ab(s).next.queue;su(s,i,{},Or())}function Hp(){return Gn(_u)}function lb(){return un().memoizedState}function cb(){return un().memoizedState}function SC(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Or();s=Hi(l);var u=$i(i,s,l);u!==null&&(Mr(u,i,l),Zc(u,i,l)),i={cache:bp()},s.payload=i;return}i=i.return}}function NC(s,i,l){var u=Or();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},bh(s)?db(i,l):(l=up(s,i,l,u),l!==null&&(Mr(l,s,u),hb(l,i,u)))}function ub(s,i,l){var u=Or();su(s,i,l,u)}function su(s,i,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(bh(s))db(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var j=i.lastRenderedState,B=v(j,l);if(g.hasEagerState=!0,g.eagerState=B,Cr(B,j))return rh(s,i,g,0),Bt===null&&nh(),!1}catch{}finally{}if(l=up(s,i,g,u),l!==null)return Mr(l,s,u),hb(l,i,u),!0}return!1}function $p(s,i,l,u){if(u={lane:2,revertLane:Eg(),action:u,hasEagerState:!1,eagerState:null,next:null},bh(s)){if(i)throw Error(r(479))}else i=up(s,l,u,2),i!==null&&Mr(i,s,2)}function bh(s){var i=s.alternate;return s===rt||i!==null&&i===rt}function db(s,i){fl=mh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function hb(s,i,l){if((l&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,l|=u,i.lanes=l,Fr(s,l)}}var wh={readContext:Gn,use:gh,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},fb={readContext:Gn,use:gh,useCallback:function(s,i){return pr().memoizedState=[s,i===void 0?null:i],s},useContext:Gn,useEffect:Xx,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,xh(4194308,4,eb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return xh(4194308,4,s,i)},useInsertionEffect:function(s,i){xh(4,2,s,i)},useMemo:function(s,i){var l=pr();i=i===void 0?null:i;var u=s();if(go){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,i],u},useReducer:function(s,i,l){var u=pr();if(l!==void 0){var g=l(i);if(go){En(!0);try{l(i)}finally{En(!1)}}}else g=i;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=NC.bind(null,rt,s),[u.memoizedState,s]},useRef:function(s){var i=pr();return s={current:s},i.memoizedState=s},useState:function(s){s=zp(s);var i=s.queue,l=ub.bind(null,rt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Bp,useDeferredValue:function(s,i){var l=pr();return Fp(l,s,i)},useTransition:function(){var s=zp(!1);return s=ib.bind(null,rt,s.queue,!0,!1),pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var u=rt,g=pr();if(Nt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),Bt===null)throw Error(r(349));(_t&124)!==0||Dx(u,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Xx(kx.bind(null,u,v,s),[s]),u.flags|=2048,pl(9,vh(),Px.bind(null,u,v,l,i),null),l},useId:function(){var s=pr(),i=Bt.identifierPrefix;if(Nt){var l=pi,u=mi;l=(u&~(1<<32-Qt(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=ph++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=bC++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Hp,useFormState:$x,useActionState:$x,useOptimistic:function(s){var i=pr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=$p.bind(null,rt,!0,l),l.dispatch=i,[s,i]},useMemoCache:kp,useCacheRefresh:function(){return pr().memoizedState=SC.bind(null,rt)}},mb={readContext:Gn,use:gh,useCallback:nb,useContext:Gn,useEffect:Wx,useImperativeHandle:tb,useInsertionEffect:Zx,useLayoutEffect:Jx,useMemo:rb,useReducer:yh,useRef:Yx,useState:function(){return yh(vi)},useDebugValue:Bp,useDeferredValue:function(s,i){var l=un();return sb(l,kt.memoizedState,s,i)},useTransition:function(){var s=yh(vi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:nu(s),i]},useSyncExternalStore:Mx,useId:lb,useHostTransitionStatus:Hp,useFormState:Gx,useActionState:Gx,useOptimistic:function(s,i){var l=un();return zx(l,kt,s,i)},useMemoCache:kp,useCacheRefresh:cb},CC={readContext:Gn,use:gh,useCallback:nb,useContext:Gn,useEffect:Wx,useImperativeHandle:tb,useInsertionEffect:Zx,useLayoutEffect:Jx,useMemo:rb,useReducer:Vp,useRef:Yx,useState:function(){return Vp(vi)},useDebugValue:Bp,useDeferredValue:function(s,i){var l=un();return kt===null?Fp(l,s,i):sb(l,kt.memoizedState,s,i)},useTransition:function(){var s=Vp(vi)[0],i=un().memoizedState;return[typeof s=="boolean"?s:nu(s),i]},useSyncExternalStore:Mx,useId:lb,useHostTransitionStatus:Hp,useFormState:Kx,useActionState:Kx,useOptimistic:function(s,i){var l=un();return kt!==null?zx(l,kt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:kp,useCacheRefresh:cb},gl=null,iu=0;function _h(s){var i=iu;return iu+=1,gl===null&&(gl=[]),Sx(gl,s,i)}function au(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Eh(s,i){throw i.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function pb(s){var i=s._init;return i(s._payload)}function gb(s){function i(X,K){if(s){var ee=X.deletions;ee===null?(X.deletions=[K],X.flags|=16):ee.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=fi(X,K),X.index=0,X.sibling=null,X}function v(X,K,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<K?(X.flags|=67108866,K):ee):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function j(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function B(X,K,ee,he){return K===null||K.tag!==6?(K=hp(ee,X.mode,he),K.return=X,K):(K=g(K,ee),K.return=X,K)}function G(X,K,ee,he){var Re=ee.type;return Re===T?ue(X,K,ee.props.children,he,ee.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&pb(Re)===K.type)?(K=g(K,ee.props),au(K,ee),K.return=X,K):(K=ih(ee.type,ee.key,ee.props,null,X.mode,he),au(K,ee),K.return=X,K)}function ne(X,K,ee,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=fp(ee,X.mode,he),K.return=X,K):(K=g(K,ee.children||[]),K.return=X,K)}function ue(X,K,ee,he,Re){return K===null||K.tag!==7?(K=oo(ee,X.mode,he,Re),K.return=X,K):(K=g(K,ee),K.return=X,K)}function me(X,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=hp(""+K,X.mode,ee),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return ee=ih(K.type,K.key,K.props,null,X.mode,ee),au(ee,K),ee.return=X,ee;case E:return K=fp(K,X.mode,ee),K.return=X,K;case R:var he=K._init;return K=he(K._payload),me(X,K,ee)}if(oe(K)||U(K))return K=oo(K,X.mode,ee,null),K.return=X,K;if(typeof K.then=="function")return me(X,_h(K),ee);if(K.$$typeof===b)return me(X,ch(X,K),ee);Eh(X,K)}return null}function re(X,K,ee,he){var Re=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Re!==null?null:B(X,K,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ee.key===Re?G(X,K,ee,he):null;case E:return ee.key===Re?ne(X,K,ee,he):null;case R:return Re=ee._init,ee=Re(ee._payload),re(X,K,ee,he)}if(oe(ee)||U(ee))return Re!==null?null:ue(X,K,ee,he,null);if(typeof ee.then=="function")return re(X,K,_h(ee),he);if(ee.$$typeof===b)return re(X,K,ch(X,ee),he);Eh(X,ee)}return null}function ie(X,K,ee,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(ee)||null,B(K,X,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return X=X.get(he.key===null?ee:he.key)||null,G(K,X,he,Re);case E:return X=X.get(he.key===null?ee:he.key)||null,ne(K,X,he,Re);case R:var at=he._init;return he=at(he._payload),ie(X,K,ee,he,Re)}if(oe(he)||U(he))return X=X.get(ee)||null,ue(K,X,he,Re,null);if(typeof he.then=="function")return ie(X,K,ee,_h(he),Re);if(he.$$typeof===b)return ie(X,K,ee,ch(K,he),Re);Eh(K,he)}return null}function Qe(X,K,ee,he){for(var Re=null,at=null,ke=K,He=K=0,An=null;ke!==null&&He<ee.length;He++){ke.index>He?(An=ke,ke=null):An=ke.sibling;var St=re(X,ke,ee[He],he);if(St===null){ke===null&&(ke=An);break}s&&ke&&St.alternate===null&&i(X,ke),K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St,ke=An}if(He===ee.length)return l(X,ke),Nt&&co(X,He),Re;if(ke===null){for(;He<ee.length;He++)ke=me(X,ee[He],he),ke!==null&&(K=v(ke,K,He),at===null?Re=ke:at.sibling=ke,at=ke);return Nt&&co(X,He),Re}for(ke=u(ke);He<ee.length;He++)An=ie(ke,X,He,ee[He],he),An!==null&&(s&&An.alternate!==null&&ke.delete(An.key===null?He:An.key),K=v(An,K,He),at===null?Re=An:at.sibling=An,at=An);return s&&ke.forEach(function(la){return i(X,la)}),Nt&&co(X,He),Re}function Fe(X,K,ee,he){if(ee==null)throw Error(r(151));for(var Re=null,at=null,ke=K,He=K=0,An=null,St=ee.next();ke!==null&&!St.done;He++,St=ee.next()){ke.index>He?(An=ke,ke=null):An=ke.sibling;var la=re(X,ke,St.value,he);if(la===null){ke===null&&(ke=An);break}s&&ke&&la.alternate===null&&i(X,ke),K=v(la,K,He),at===null?Re=la:at.sibling=la,at=la,ke=An}if(St.done)return l(X,ke),Nt&&co(X,He),Re;if(ke===null){for(;!St.done;He++,St=ee.next())St=me(X,St.value,he),St!==null&&(K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St);return Nt&&co(X,He),Re}for(ke=u(ke);!St.done;He++,St=ee.next())St=ie(ke,X,He,St.value,he),St!==null&&(s&&St.alternate!==null&&ke.delete(St.key===null?He:St.key),K=v(St,K,He),at===null?Re=St:at.sibling=St,at=St);return s&&ke.forEach(function(AA){return i(X,AA)}),Nt&&co(X,He),Re}function Vt(X,K,ee,he){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:e:{for(var Re=ee.key;K!==null;){if(K.key===Re){if(Re=ee.type,Re===T){if(K.tag===7){l(X,K.sibling),he=g(K,ee.props.children),he.return=X,X=he;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&pb(Re)===K.type){l(X,K.sibling),he=g(K,ee.props),au(he,ee),he.return=X,X=he;break e}l(X,K);break}else i(X,K);K=K.sibling}ee.type===T?(he=oo(ee.props.children,X.mode,he,ee.key),he.return=X,X=he):(he=ih(ee.type,ee.key,ee.props,null,X.mode,he),au(he,ee),he.return=X,X=he)}return j(X);case E:e:{for(Re=ee.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(X,K.sibling),he=g(K,ee.children||[]),he.return=X,X=he;break e}else{l(X,K);break}else i(X,K);K=K.sibling}he=fp(ee,X.mode,he),he.return=X,X=he}return j(X);case R:return Re=ee._init,ee=Re(ee._payload),Vt(X,K,ee,he)}if(oe(ee))return Qe(X,K,ee,he);if(U(ee)){if(Re=U(ee),typeof Re!="function")throw Error(r(150));return ee=Re.call(ee),Fe(X,K,ee,he)}if(typeof ee.then=="function")return Vt(X,K,_h(ee),he);if(ee.$$typeof===b)return Vt(X,K,ch(X,ee),he);Eh(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(l(X,K.sibling),he=g(K,ee),he.return=X,X=he):(l(X,K),he=hp(ee,X.mode,he),he.return=X,X=he),j(X)):l(X,K)}return function(X,K,ee,he){try{iu=0;var Re=Vt(X,K,ee,he);return gl=null,Re}catch(ke){if(ke===Xc||ke===dh)throw ke;var at=Ar(29,ke,null,X.mode);return at.lanes=he,at.return=X,at}finally{}}}var yl=gb(!0),yb=gb(!1),Jr=ce(null),Bs=null;function Qi(s){var i=s.alternate;ge(xn,xn.current&1),ge(Jr,s),Bs===null&&(i===null||hl.current!==null||i.memoizedState!==null)&&(Bs=s)}function vb(s){if(s.tag===22){if(ge(xn,xn.current),ge(Jr,s),Bs===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Bs=s)}}else Ki()}function Ki(){ge(xn,xn.current),ge(Jr,Jr.current)}function xi(s){ve(Jr),Bs===s&&(Bs=null),ve(xn)}var xn=ce(0);function Th(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Pg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gp(s,i,l,u){i=s.memoizedState,l=l(u,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qp={enqueueSetState:function(s,i,l){s=s._reactInternals;var u=Or(),g=Hi(u);g.payload=i,l!=null&&(g.callback=l),i=$i(s,g,u),i!==null&&(Mr(i,s,u),Zc(i,s,u))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var u=Or(),g=Hi(u);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=$i(s,g,u),i!==null&&(Mr(i,s,u),Zc(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Or(),u=Hi(l);u.tag=2,i!=null&&(u.callback=i),i=$i(s,u,l),i!==null&&(Mr(i,s,l),Zc(i,s,l))}};function xb(s,i,l,u,g,v,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,v,j):i.prototype&&i.prototype.isPureReactComponent?!Fc(l,u)||!Fc(g,v):!0}function bb(s,i,l,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==s&&Qp.enqueueReplaceState(i,i.state,null)}function yo(s,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var Sh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function wb(s){Sh(s)}function _b(s){console.error(s)}function Eb(s){Sh(s)}function Nh(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Tb(s,i,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Kp(s,i,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Nh(s,i)},l}function Sb(s){return s=Hi(s),s.tag=3,s}function Nb(s,i,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;s.payload=function(){return g(v)},s.callback=function(){Tb(i,l,u)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){Tb(i,l,u),typeof g!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})})}function AC(s,i,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Qc(i,l,g,!0),l=Jr.current,l!==null){switch(l.tag){case 13:return Bs===null?vg():l.alternate===null&&Jt===0&&(Jt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Ep?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),bg(s,u,g)),!1;case 22:return l.flags|=65536,u===Ep?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),bg(s,u,g)),!1}throw Error(r(435,l.tag))}return bg(s,u,g),vg(),!1}if(Nt)return i=Jr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==gp&&(s=Error(r(422),{cause:u}),Gc(Yr(s,l)))):(u!==gp&&(i=Error(r(423),{cause:u}),Gc(Yr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Yr(u,l),g=Kp(s.stateNode,u,g),Np(s,g),Jt!==4&&(Jt=2)),!1;var v=Error(r(520),{cause:u});if(v=Yr(v,l),fu===null?fu=[v]:fu.push(v),Jt!==4&&(Jt=2),i===null)return!0;u=Yr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Kp(l.stateNode,u,s),Np(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ea===null||!ea.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Sb(g),Nb(g,s,l,u),Np(l,g),!1}l=l.return}while(l!==null);return!1}var Cb=Error(r(461)),Nn=!1;function Ln(s,i,l,u){i.child=s===null?yb(i,null,l,u):yl(i,s.child,l,u)}function Ab(s,i,l,u,g){l=l.render;var v=i.ref;if("ref"in u){var j={};for(var B in u)B!=="ref"&&(j[B]=u[B])}else j=u;return mo(i),u=jp(s,i,l,j,v,g),B=Op(),s!==null&&!Nn?(Mp(s,i,g),bi(s,i,g)):(Nt&&B&&mp(i),i.flags|=1,Ln(s,i,u,g),i.child)}function Rb(s,i,l,u,g){if(s===null){var v=l.type;return typeof v=="function"&&!dp(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,Ib(s,i,v,u,g)):(s=ih(l.type,null,u,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!ng(s,g)){var j=v.memoizedProps;if(l=l.compare,l=l!==null?l:Fc,l(j,u)&&s.ref===i.ref)return bi(s,i,g)}return i.flags|=1,s=fi(v,u),s.ref=i.ref,s.return=i,i.child=s}function Ib(s,i,l,u,g){if(s!==null){var v=s.memoizedProps;if(Fc(v,u)&&s.ref===i.ref)if(Nn=!1,i.pendingProps=u=v,ng(s,g))(s.flags&131072)!==0&&(Nn=!0);else return i.lanes=s.lanes,bi(s,i,g)}return Yp(s,i,l,u,g)}function jb(s,i,l){var u=i.pendingProps,g=u.children,v=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~u}else i.childLanes=0,i.child=null;return Ob(s,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&uh(i,v!==null?v.cachePool:null),v!==null?Ix(i,v):Ap(),vb(i);else return i.lanes=i.childLanes=536870912,Ob(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(uh(i,v.cachePool),Ix(i,v),Ki(),i.memoizedState=null):(s!==null&&uh(i,null),Ap(),Ki());return Ln(s,i,g,l),i.child}function Ob(s,i,l,u){var g=_p();return g=g===null?null:{parent:vn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&uh(i,null),Ap(),vb(i),s!==null&&Qc(s,i,u,!0),null}function Ch(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Yp(s,i,l,u,g){return mo(i),l=jp(s,i,l,u,void 0,g),u=Op(),s!==null&&!Nn?(Mp(s,i,g),bi(s,i,g)):(Nt&&u&&mp(i),i.flags|=1,Ln(s,i,l,g),i.child)}function Mb(s,i,l,u,g,v){return mo(i),i.updateQueue=null,l=Ox(i,u,l,g),jx(s),u=Op(),s!==null&&!Nn?(Mp(s,i,v),bi(s,i,v)):(Nt&&u&&mp(i),i.flags|=1,Ln(s,i,l,v),i.child)}function Db(s,i,l,u,g){if(mo(i),i.stateNode===null){var v=ol,j=l.contextType;typeof j=="object"&&j!==null&&(v=Gn(j)),v=new l(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Qp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},Tp(i),j=l.contextType,v.context=typeof j=="object"&&j!==null?Gn(j):ol,v.state=i.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(Gp(i,l,j,u),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(j=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),j!==v.state&&Qp.enqueueReplaceState(v,v.state,null),eu(i,u,v,g),Jc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){v=i.stateNode;var B=i.memoizedProps,G=yo(l,B);v.props=G;var ne=v.context,ue=l.contextType;j=ol,typeof ue=="object"&&ue!==null&&(j=Gn(ue));var me=l.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(B||ne!==j)&&bb(i,v,u,j),qi=!1;var re=i.memoizedState;v.state=re,eu(i,u,v,g),Jc(),ne=i.memoizedState,B||re!==ne||qi?(typeof me=="function"&&(Gp(i,l,me,u),ne=i.memoizedState),(G=qi||xb(i,l,G,u,re,ne,j))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ne),v.props=u,v.state=ne,v.context=j,u=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,Sp(s,i),j=i.memoizedProps,ue=yo(l,j),v.props=ue,me=i.pendingProps,re=v.context,ne=l.contextType,G=ol,typeof ne=="object"&&ne!==null&&(G=Gn(ne)),B=l.getDerivedStateFromProps,(ne=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j!==me||re!==G)&&bb(i,v,u,G),qi=!1,re=i.memoizedState,v.state=re,eu(i,u,v,g),Jc();var ie=i.memoizedState;j!==me||re!==ie||qi||s!==null&&s.dependencies!==null&&lh(s.dependencies)?(typeof B=="function"&&(Gp(i,l,B,u),ie=i.memoizedState),(ue=qi||xb(i,l,ue,u,re,ie,G)||s!==null&&s.dependencies!==null&&lh(s.dependencies))?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ie,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ie,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ie),v.props=u,v.state=ie,v.context=G,u=ue):(typeof v.componentDidUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),u=!1)}return v=u,Ch(s,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&u?(i.child=yl(i,s.child,null,g),i.child=yl(i,null,l,g)):Ln(s,i,l,g),i.memoizedState=v.state,s=i.child):s=bi(s,i,g),s}function Pb(s,i,l,u){return $c(),i.flags|=256,Ln(s,i,l,u),i.child}var Xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(s){return{baseLanes:s,cachePool:_x()}}function Zp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=es),s}function kb(s,i,l){var u=i.pendingProps,g=!1,v=(i.flags&128)!==0,j;if((j=v)||(j=s!==null&&s.memoizedState===null?!1:(xn.current&2)!==0),j&&(g=!0,i.flags&=-129),j=(i.flags&32)!==0,i.flags&=-33,s===null){if(Nt){if(g?Qi(i):Ki(),Nt){var B=Zt,G;if(G=B){e:{for(G=B,B=Us;G.nodeType!==8;){if(!B){B=null;break e}if(G=fs(G.nextSibling),G===null){B=null;break e}}B=G}B!==null?(i.memoizedState={dehydrated:B,treeContext:lo!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=B,G.return=i,i.child=G,or=i,Zt=null,G=!0):G=!1}G||ho(i)}if(B=i.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Pg(B)?i.lanes=32:i.lanes=536870912,null;xi(i)}return B=u.children,u=u.fallback,g?(Ki(),g=i.mode,B=Ah({mode:"hidden",children:B},g),u=oo(u,g,l,null),B.return=i,u.return=i,B.sibling=u,i.child=B,g=i.child,g.memoizedState=Wp(l),g.childLanes=Zp(s,j,l),i.memoizedState=Xp,u):(Qi(i),Jp(i,B))}if(G=s.memoizedState,G!==null&&(B=G.dehydrated,B!==null)){if(v)i.flags&256?(Qi(i),i.flags&=-257,i=eg(s,i,l)):i.memoizedState!==null?(Ki(),i.child=s.child,i.flags|=128,i=null):(Ki(),g=u.fallback,B=i.mode,u=Ah({mode:"visible",children:u.children},B),g=oo(g,B,l,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,yl(i,s.child,null,l),u=i.child,u.memoizedState=Wp(l),u.childLanes=Zp(s,j,l),i.memoizedState=Xp,i=g);else if(Qi(i),Pg(B)){if(j=B.nextSibling&&B.nextSibling.dataset,j)var ne=j.dgst;j=ne,u=Error(r(419)),u.stack="",u.digest=j,Gc({value:u,source:null,stack:null}),i=eg(s,i,l)}else if(Nn||Qc(s,i,l,!1),j=(l&s.childLanes)!==0,Nn||j){if(j=Bt,j!==null&&(u=l&-l,u=(u&42)!==0?1:Er(u),u=(u&(j.suspendedLanes|l))!==0?0:u,u!==0&&u!==G.retryLane))throw G.retryLane=u,al(s,u),Mr(j,s,u),Cb;B.data==="$?"||vg(),i=eg(s,i,l)}else B.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Zt=fs(B.nextSibling),or=i,Nt=!0,uo=null,Us=!1,s!==null&&(Wr[Zr++]=mi,Wr[Zr++]=pi,Wr[Zr++]=lo,mi=s.id,pi=s.overflow,lo=i),i=Jp(i,u.children),i.flags|=4096);return i}return g?(Ki(),g=u.fallback,B=i.mode,G=s.child,ne=G.sibling,u=fi(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,ne!==null?g=fi(ne,g):(g=oo(g,B,l,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,B=s.child.memoizedState,B===null?B=Wp(l):(G=B.cachePool,G!==null?(ne=vn._currentValue,G=G.parent!==ne?{parent:ne,pool:ne}:G):G=_x(),B={baseLanes:B.baseLanes|l,cachePool:G}),g.memoizedState=B,g.childLanes=Zp(s,j,l),i.memoizedState=Xp,u):(Qi(i),l=s.child,s=l.sibling,l=fi(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,s!==null&&(j=i.deletions,j===null?(i.deletions=[s],i.flags|=16):j.push(s)),i.child=l,i.memoizedState=null,l)}function Jp(s,i){return i=Ah({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Ah(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function eg(s,i,l){return yl(i,s.child,null,l),s=Jp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Lb(s,i,l){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),vp(s.return,i,l)}function tg(s,i,l,u,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=g)}function Vb(s,i,l){var u=i.pendingProps,g=u.revealOrder,v=u.tail;if(Ln(s,i,u.children,l),u=xn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lb(s,l,i);else if(s.tag===19)Lb(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(ge(xn,u),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&Th(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),tg(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&Th(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}tg(i,!0,l,null,v);break;case"together":tg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Ji|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Qc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=fi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=fi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function ng(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&lh(s)))}function RC(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Fi(i,vn,s.memoizedState.cache),$c();break;case 27:case 5:et(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?kb(s,i,l):(Qi(i),s=bi(s,i,l),s!==null?s.sibling:null);Qi(i);break;case 19:var g=(s.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Qc(s,i,l,!1),u=(l&i.childLanes)!==0),g){if(u)return Vb(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(xn,xn.current),u)break;return null;case 22:case 23:return i.lanes=0,jb(s,i,l);case 24:Fi(i,vn,s.memoizedState.cache)}return bi(s,i,l)}function zb(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)Nn=!0;else{if(!ng(s,l)&&(i.flags&128)===0)return Nn=!1,RC(s,i,l);Nn=(s.flags&131072)!==0}else Nn=!1,Nt&&(i.flags&1048576)!==0&&px(i,oh,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")dp(u)?(s=yo(u,s),i.tag=1,i=Db(null,i,u,s,l)):(i.tag=0,i=Yp(null,i,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===M){i.tag=11,i=Ab(null,i,u,s,l);break e}else if(g===k){i.tag=14,i=Rb(null,i,u,s,l);break e}}throw i=J(u)||u,Error(r(306,i,""))}}return i;case 0:return Yp(s,i,i.type,i.pendingProps,l);case 1:return u=i.type,g=yo(u,i.pendingProps),Db(s,i,u,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var v=i.memoizedState;g=v.element,Sp(s,i),eu(i,u,null,l);var j=i.memoizedState;if(u=j.cache,Fi(i,vn,u),u!==v.cache&&xp(i,[vn],l,!0),Jc(),u=j.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:j.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Pb(s,i,u,l);break e}else if(u!==g){g=Yr(Error(r(424)),i),Gc(g),i=Pb(s,i,u,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Zt=fs(s.firstChild),or=i,Nt=!0,uo=null,Us=!0,l=yb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($c(),u===g){i=bi(s,i,l);break e}Ln(s,i,u,l)}i=i.child}return i;case 26:return Ch(s,i),s===null?(l=q1(i.type,null,i.pendingProps,null))?i.memoizedState=l:Nt||(l=i.type,s=i.pendingProps,u=Fh(Ee.current).createElement(l),u[fe]=i,u[be]=s,zn(u,l,s),gt(u),i.stateNode=u):i.memoizedState=q1(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return et(i),s===null&&Nt&&(u=i.stateNode=U1(i.type,i.pendingProps,Ee.current),or=i,Us=!0,g=Zt,ra(i.type)?(kg=g,Zt=fs(u.firstChild)):Zt=g),Ln(s,i,i.pendingProps.children,l),Ch(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Nt&&((g=u=Zt)&&(u=rA(u,i.type,i.pendingProps,Us),u!==null?(i.stateNode=u,or=i,Zt=fs(u.firstChild),Us=!1,g=!0):g=!1),g||ho(i)),et(i),g=i.type,v=i.pendingProps,j=s!==null?s.memoizedProps:null,u=v.children,Og(g,v)?u=null:j!==null&&Og(g,j)&&(i.flags|=32),i.memoizedState!==null&&(g=jp(s,i,wC,null,null,l),_u._currentValue=g),Ch(s,i),Ln(s,i,u,l),i.child;case 6:return s===null&&Nt&&((s=l=Zt)&&(l=sA(l,i.pendingProps,Us),l!==null?(i.stateNode=l,or=i,Zt=null,s=!0):s=!1),s||ho(i)),null;case 13:return kb(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=yl(i,null,u,l):Ln(s,i,u,l),i.child;case 11:return Ab(s,i,i.type,i.pendingProps,l);case 7:return Ln(s,i,i.pendingProps,l),i.child;case 8:return Ln(s,i,i.pendingProps.children,l),i.child;case 12:return Ln(s,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Fi(i,i.type,u.value),Ln(s,i,u.children,l),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,mo(i),g=Gn(g),u=u(g),i.flags|=1,Ln(s,i,u,l),i.child;case 14:return Rb(s,i,i.type,i.pendingProps,l);case 15:return Ib(s,i,i.type,i.pendingProps,l);case 19:return Vb(s,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},s===null?(l=Ah(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=fi(s.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return jb(s,i,l);case 24:return mo(i),u=Gn(vn),s===null?(g=_p(),g===null&&(g=Bt,v=bp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:u,cache:g},Tp(i),Fi(i,vn,g)):((s.lanes&l)!==0&&(Sp(s,i),eu(i,null,null,l),Jc()),g=s.memoizedState,v=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Fi(i,vn,u)):(u=v.cache,Fi(i,vn,u),u!==g.cache&&xp(i,[vn],l,!0))),Ln(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function wi(s){s.flags|=4}function Ub(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!K1(i)){if(i=Jr.current,i!==null&&((_t&4194048)===_t?Bs!==null:(_t&62914560)!==_t&&(_t&536870912)===0||i!==Bs))throw Wc=Ep,Ex;s.flags|=8192}}function Rh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?rr():536870912,s.lanes|=i,wl|=i)}function ou(s,i){if(!Nt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,i}function IC(s,i,l){var u=i.pendingProps;switch(pp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return l=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),yi(vn),lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Hc(i)?wi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vx())),Yt(i),null;case 26:return l=i.memoizedState,s===null?(wi(i),l!==null?(Yt(i),Ub(i,l)):(Yt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(wi(i),Yt(i),Ub(i,l)):(Yt(i),i.flags&=-16777217):(s.memoizedProps!==u&&wi(i),Yt(i),i.flags&=-16777217),null;case 27:jt(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==u&&wi(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}s=Se.current,Hc(i)?gx(i):(s=U1(g,u,l),i.stateNode=s,wi(i))}return Yt(i),null;case 5:if(jt(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&wi(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Yt(i),null}if(s=Se.current,Hc(i))gx(i);else{switch(g=Fh(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[fe]=i,s[be]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(zn(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wi(i)}}return Yt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&wi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Hc(i)){if(s=i.stateNode,l=i.memoizedProps,u=null,g=or,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[fe]=i,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||M1(s.nodeValue,l)),s||ho(i)}else s=Fh(s).createTextNode(u),s[fe]=i,i.stateNode=s}return Yt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Hc(i),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[fe]=i}else $c(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),g=!1}else g=vx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),Rh(i,i.updateQueue),Yt(i),null;case 4:return lt(),s===null&&Cg(i.stateNode.containerInfo),Yt(i),null;case 10:return yi(i.type),Yt(i),null;case 19:if(ve(xn),g=i.memoizedState,g===null)return Yt(i),null;if(u=(i.flags&128)!==0,v=g.rendering,v===null)if(u)ou(g,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=Th(s),v!==null){for(i.flags|=128,ou(g,!1),s=v.updateQueue,i.updateQueue=s,Rh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)mx(l,s),l=l.sibling;return ge(xn,xn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Wt()>Oh&&(i.flags|=128,u=!0,ou(g,!1),i.lanes=4194304)}else{if(!u)if(s=Th(v),s!==null){if(i.flags|=128,u=!0,s=s.updateQueue,i.updateQueue=s,Rh(i,s),ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Nt)return Yt(i),null}else 2*Wt()-g.renderingStartTime>Oh&&l!==536870912&&(i.flags|=128,u=!0,ou(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Wt(),i.sibling=null,s=xn.current,ge(xn,u?s&1|2:s&1),i):(Yt(i),null);case 22:case 23:return xi(i),Rp(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),l=i.updateQueue,l!==null&&Rh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),s!==null&&ve(po),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yi(vn),Yt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function jC(s,i){switch(pp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return yi(vn),lt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return jt(i),null;case 13:if(xi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));$c()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(xn),null;case 4:return lt(),null;case 10:return yi(i.type),null;case 22:case 23:return xi(i),Rp(),s!==null&&ve(po),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return yi(vn),null;case 25:return null;default:return null}}function Bb(s,i){switch(pp(i),i.tag){case 3:yi(vn),lt();break;case 26:case 27:case 5:jt(i);break;case 4:lt();break;case 13:xi(i);break;case 19:ve(xn);break;case 10:yi(i.type);break;case 22:case 23:xi(i),Rp(),s!==null&&ve(po);break;case 24:yi(vn)}}function lu(s,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var v=l.create,j=l.inst;u=v(),j.destroy=u}l=l.next}while(l!==g)}}catch(B){Ut(i,i.return,B)}}function Yi(s,i,l){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&s)===s){var j=u.inst,B=j.destroy;if(B!==void 0){j.destroy=void 0,g=i;var G=l,ne=B;try{ne()}catch(ue){Ut(g,G,ue)}}}u=u.next}while(u!==v)}}catch(ue){Ut(i,i.return,ue)}}function Fb(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{Rx(i,l)}catch(u){Ut(s,s.return,u)}}}function qb(s,i,l){l.props=yo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Ut(s,i,u)}}function cu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Ut(s,i,g)}}function Fs(s,i){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Ut(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ut(s,i,g)}else l.current=null}function Hb(s){var i=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Ut(s,s.return,g)}}function rg(s,i,l){try{var u=s.stateNode;ZC(u,s.type,l,i),u[be]=i}catch(g){Ut(s,s.return,g)}}function $b(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ra(s.type)||s.tag===4}function sg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$b(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ra(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ig(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Bh));else if(u!==4&&(u===27&&ra(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(ig(s,i,l),s=s.sibling;s!==null;)ig(s,i,l),s=s.sibling}function Ih(s,i,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(u!==4&&(u===27&&ra(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ih(s,i,l),s=s.sibling;s!==null;)Ih(s,i,l),s=s.sibling}function Gb(s){var i=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);zn(i,u,l),i[fe]=s,i[be]=l}catch(v){Ut(s,s.return,v)}}var _i=!1,nn=!1,ag=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function OC(s,i){if(s=s.containerInfo,Ig=Kh,s=sx(s),sp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var j=0,B=-1,G=-1,ne=0,ue=0,me=s,re=null;t:for(;;){for(var ie;me!==l||g!==0&&me.nodeType!==3||(B=j+g),me!==v||u!==0&&me.nodeType!==3||(G=j+u),me.nodeType===3&&(j+=me.nodeValue.length),(ie=me.firstChild)!==null;)re=me,me=ie;for(;;){if(me===s)break t;if(re===l&&++ne===g&&(B=j),re===v&&++ue===u&&(G=j),(ie=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ie}l=B===-1||G===-1?null:{start:B,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(jg={focusedElem:s,selectionRange:l},Kh=!1,Cn=i;Cn!==null;)if(i=Cn,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,Cn=s;else for(;Cn!==null;){switch(i=Cn,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var Qe=yo(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Qe,v),u.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){Ut(l,l.return,Fe)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Dg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Dg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,Cn=s;break}Cn=i.return}}function Kb(s,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xi(s,l),u&4&&lu(5,l);break;case 1:if(Xi(s,l),u&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(j){Ut(l,l.return,j)}else{var g=yo(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(j){Ut(l,l.return,j)}}u&64&&Fb(l),u&512&&cu(l,l.return);break;case 3:if(Xi(s,l),u&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Rx(s,i)}catch(j){Ut(l,l.return,j)}}break;case 27:i===null&&u&4&&Gb(l);case 26:case 5:Xi(s,l),i===null&&u&4&&Hb(l),u&512&&cu(l,l.return);break;case 12:Xi(s,l);break;case 13:Xi(s,l),u&4&&Wb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=BC.bind(null,l),iA(s,l))));break;case 22:if(u=l.memoizedState!==null||_i,!u){i=i!==null&&i.memoizedState!==null||nn,g=_i;var v=nn;_i=u,(nn=i)&&!v?Wi(s,l,(l.subtreeFlags&8772)!==0):Xi(s,l),_i=g,nn=v}break;case 30:break;default:Xi(s,l)}}function Yb(s){var i=s.alternate;i!==null&&(s.alternate=null,Yb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&De(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,gr=!1;function Ei(s,i,l){for(l=l.child;l!==null;)Xb(s,i,l),l=l.sibling}function Xb(s,i,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(xt,l)}catch{}switch(l.tag){case 26:nn||Fs(l,i),Ei(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||Fs(l,i);var u=Gt,g=gr;ra(l.type)&&(Gt=l.stateNode,gr=!1),Ei(s,i,l),vu(l.stateNode),Gt=u,gr=g;break;case 5:nn||Fs(l,i);case 6:if(u=Gt,g=gr,Gt=null,Ei(s,i,l),Gt=u,gr=g,Gt!==null)if(gr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){Ut(l,i,v)}else try{Gt.removeChild(l.stateNode)}catch(v){Ut(l,i,v)}break;case 18:Gt!==null&&(gr?(s=Gt,V1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Nu(s)):V1(Gt,l.stateNode));break;case 4:u=Gt,g=gr,Gt=l.stateNode.containerInfo,gr=!0,Ei(s,i,l),Gt=u,gr=g;break;case 0:case 11:case 14:case 15:nn||Yi(2,l,i),nn||Yi(4,l,i),Ei(s,i,l);break;case 1:nn||(Fs(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&qb(l,i,u)),Ei(s,i,l);break;case 21:Ei(s,i,l);break;case 22:nn=(u=nn)||l.memoizedState!==null,Ei(s,i,l),nn=u;break;default:Ei(s,i,l)}}function Wb(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nu(s)}catch(l){Ut(i,i.return,l)}}function MC(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Qb),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Qb),i;default:throw Error(r(435,s.tag))}}function og(s,i){var l=MC(s);i.forEach(function(u){var g=FC.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function Rr(s,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],v=s,j=i,B=j;e:for(;B!==null;){switch(B.tag){case 27:if(ra(B.type)){Gt=B.stateNode,gr=!1;break e}break;case 5:Gt=B.stateNode,gr=!1;break e;case 3:case 4:Gt=B.stateNode.containerInfo,gr=!0;break e}B=B.return}if(Gt===null)throw Error(r(160));Xb(v,j,g),Gt=null,gr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zb(i,s),i=i.sibling}var hs=null;function Zb(s,i){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rr(i,s),Ir(s),u&4&&(Yi(3,s,s.return),lu(3,s),Yi(5,s,s.return));break;case 1:Rr(i,s),Ir(s),u&512&&(nn||l===null||Fs(l,l.return)),u&64&&_i&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=hs;if(Rr(i,s),Ir(s),u&512&&(nn||l===null||Fs(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Be]||v[fe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),zn(v,u,l),v[fe]=s,gt(v),u=v;break e;case"link":var j=G1("link","href",g).get(u+(l.href||""));if(j){for(var B=0;B<j.length;B++)if(v=j[B],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice(B,1);break t}}v=g.createElement(u),zn(v,u,l),g.head.appendChild(v);break;case"meta":if(j=G1("meta","content",g).get(u+(l.content||""))){for(B=0;B<j.length;B++)if(v=j[B],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice(B,1);break t}}v=g.createElement(u),zn(v,u,l),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[fe]=s,gt(v),u=v}s.stateNode=u}else Q1(g,s.type,s.stateNode);else s.stateNode=$1(g,u,s.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Q1(g,s.type,s.stateNode):$1(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&rg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Rr(i,s),Ir(s),u&512&&(nn||l===null||Fs(l,l.return)),l!==null&&u&4&&rg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Rr(i,s),Ir(s),u&512&&(nn||l===null||Fs(l,l.return)),s.flags&32){g=s.stateNode;try{$r(g,"")}catch(ie){Ut(s,s.return,ie)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,rg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(ag=!0);break;case 6:if(Rr(i,s),Ir(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ie){Ut(s,s.return,ie)}}break;case 3:if($h=null,g=hs,hs=qh(i.containerInfo),Rr(i,s),hs=g,Ir(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Nu(i.containerInfo)}catch(ie){Ut(s,s.return,ie)}ag&&(ag=!1,Jb(s));break;case 4:u=hs,hs=qh(s.stateNode.containerInfo),Rr(i,s),Ir(s),hs=u;break;case 12:Rr(i,s),Ir(s);break;case 13:Rr(i,s),Ir(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fg=Wt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,og(s,u)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ne=_i,ue=nn;if(_i=ne||g,nn=ue||G,Rr(i,s),nn=ue,_i=ne,Ir(s),u&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||_i||nn||vo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)j=v.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{B=G.stateNode;var me=G.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;B.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){Ut(G,G.return,ie)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(ie){Ut(G,G.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,og(s,l))));break;case 19:Rr(i,s),Ir(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,og(s,u)));break;case 30:break;case 21:break;default:Rr(i,s),Ir(s)}}function Ir(s){var i=s.flags;if(i&2){try{for(var l,u=s.return;u!==null;){if($b(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=sg(s);Ih(s,v,g);break;case 5:var j=l.stateNode;l.flags&32&&($r(j,""),l.flags&=-33);var B=sg(s);Ih(s,B,j);break;case 3:case 4:var G=l.stateNode.containerInfo,ne=sg(s);ig(s,ne,G);break;default:throw Error(r(161))}}catch(ue){Ut(s,s.return,ue)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Jb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Jb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Xi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kb(s,i.alternate,i),i=i.sibling}function vo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Yi(4,i,i.return),vo(i);break;case 1:Fs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&qb(i,i.return,l),vo(i);break;case 27:vu(i.stateNode);case 26:case 5:Fs(i,i.return),vo(i);break;case 22:i.memoizedState===null&&vo(i);break;case 30:vo(i);break;default:vo(i)}s=s.sibling}}function Wi(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=s,v=i,j=v.flags;switch(v.tag){case 0:case 11:case 15:Wi(g,v,l),lu(4,v);break;case 1:if(Wi(g,v,l),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){Ut(u,u.return,ne)}if(u=v,g=u.updateQueue,g!==null){var B=u.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)Ax(G[g],B)}catch(ne){Ut(u,u.return,ne)}}l&&j&64&&Fb(v),cu(v,v.return);break;case 27:Gb(v);case 26:case 5:Wi(g,v,l),l&&u===null&&j&4&&Hb(v),cu(v,v.return);break;case 12:Wi(g,v,l);break;case 13:Wi(g,v,l),l&&j&4&&Wb(g,v);break;case 22:v.memoizedState===null&&Wi(g,v,l),cu(v,v.return);break;case 30:break;default:Wi(g,v,l)}i=i.sibling}}function lg(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Kc(l))}function cg(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Kc(s))}function qs(s,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e1(s,i,l,u),i=i.sibling}function e1(s,i,l,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:qs(s,i,l,u),g&2048&&lu(9,i);break;case 1:qs(s,i,l,u);break;case 3:qs(s,i,l,u),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Kc(s)));break;case 12:if(g&2048){qs(s,i,l,u),s=i.stateNode;try{var v=i.memoizedProps,j=v.id,B=v.onPostCommit;typeof B=="function"&&B(j,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Ut(i,i.return,G)}}else qs(s,i,l,u);break;case 13:qs(s,i,l,u);break;case 23:break;case 22:v=i.stateNode,j=i.alternate,i.memoizedState!==null?v._visibility&2?qs(s,i,l,u):uu(s,i):v._visibility&2?qs(s,i,l,u):(v._visibility|=2,vl(s,i,l,u,(i.subtreeFlags&10256)!==0)),g&2048&&lg(j,i);break;case 24:qs(s,i,l,u),g&2048&&cg(i.alternate,i);break;default:qs(s,i,l,u)}}function vl(s,i,l,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,j=i,B=l,G=u,ne=j.flags;switch(j.tag){case 0:case 11:case 15:vl(v,j,B,G,g),lu(8,j);break;case 23:break;case 22:var ue=j.stateNode;j.memoizedState!==null?ue._visibility&2?vl(v,j,B,G,g):uu(v,j):(ue._visibility|=2,vl(v,j,B,G,g)),g&&ne&2048&&lg(j.alternate,j);break;case 24:vl(v,j,B,G,g),g&&ne&2048&&cg(j.alternate,j);break;default:vl(v,j,B,G,g)}i=i.sibling}}function uu(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,u=i,g=u.flags;switch(u.tag){case 22:uu(l,u),g&2048&&lg(u.alternate,u);break;case 24:uu(l,u),g&2048&&cg(u.alternate,u);break;default:uu(l,u)}i=i.sibling}}var du=8192;function xl(s){if(s.subtreeFlags&du)for(s=s.child;s!==null;)t1(s),s=s.sibling}function t1(s){switch(s.tag){case 26:xl(s),s.flags&du&&s.memoizedState!==null&&vA(hs,s.memoizedState,s.memoizedProps);break;case 5:xl(s);break;case 3:case 4:var i=hs;hs=qh(s.stateNode.containerInfo),xl(s),hs=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=du,du=16777216,xl(s),du=i):xl(s));break;default:xl(s)}}function n1(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function hu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Cn=u,s1(u,s)}n1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r1(s),s=s.sibling}function r1(s){switch(s.tag){case 0:case 11:case 15:hu(s),s.flags&2048&&Yi(9,s,s.return);break;case 3:hu(s);break;case 12:hu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,jh(s)):hu(s);break;default:hu(s)}}function jh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Cn=u,s1(u,s)}n1(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Yi(8,i,i.return),jh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jh(i));break;default:jh(i)}s=s.sibling}}function s1(s,i){for(;Cn!==null;){var l=Cn;switch(l.tag){case 0:case 11:case 15:Yi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Cn=u;else e:for(l=s;Cn!==null;){u=Cn;var g=u.sibling,v=u.return;if(Yb(u),u===l){Cn=null;break e}if(g!==null){g.return=v,Cn=g;break e}Cn=v}}}var DC={getCacheForType:function(s){var i=Gn(vn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},PC=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Bt=null,ut=null,_t=0,Mt=0,jr=null,Zi=!1,bl=!1,ug=!1,Ti=0,Jt=0,Ji=0,xo=0,dg=0,es=0,wl=0,fu=null,yr=null,hg=!1,fg=0,Oh=1/0,Mh=null,ea=null,Vn=0,ta=null,_l=null,El=0,mg=0,pg=null,i1=null,mu=0,gg=null;function Or(){if((Ot&2)!==0&&_t!==0)return _t&-_t;if($.T!==null){var s=ul;return s!==0?s:Eg()}return Q()}function a1(){es===0&&(es=(_t&536870912)===0||Nt?an():536870912);var s=Jr.current;return s!==null&&(s.flags|=32),es}function Mr(s,i,l){(s===Bt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(Tl(s,0),na(s,_t,es,!1)),Hn(s,l),((Ot&2)===0||s!==Bt)&&(s===Bt&&((Ot&2)===0&&(xo|=l),Jt===4&&na(s,_t,es,!1)),Hs(s))}function o1(s,i,l){if((Ot&6)!==0)throw Error(r(327));var u=!l&&(i&124)===0&&(i&s.expiredLanes)===0||pt(s,i),g=u?VC(s,i):xg(s,i,!0),v=u;do{if(g===0){bl&&!u&&na(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!kC(l)){g=xg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){i=j;e:{var B=s;g=fu;var G=B.current.memoizedState.isDehydrated;if(G&&(Tl(B,j).flags|=256),j=xg(B,j,!1),j!==2){if(ug&&!G){B.errorRecoveryDisabledLanes|=v,xo|=v,g=4;break e}v=yr,yr=g,v!==null&&(yr===null?yr=v:yr.push.apply(yr,v))}g=j}if(v=!1,g!==2)continue}}if(g===1){Tl(s,0),na(s,i,0,!0);break}e:{switch(u=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:na(u,i,es,!Zi);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=fg+300-Wt(),10<g)){if(na(u,i,es,!Zi),tt(u,0,!0)!==0)break e;u.timeoutHandle=k1(l1.bind(null,u,l,yr,Mh,hg,i,es,xo,wl,Zi,v,2,-0,0),g);break e}l1(u,l,yr,Mh,hg,i,es,xo,wl,Zi,v,0,-0,0)}}break}while(!0);Hs(s)}function l1(s,i,l,u,g,v,j,B,G,ne,ue,me,re,ie){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:yA},t1(i),me=xA(),me!==null)){s.cancelPendingCommit=me(p1.bind(null,s,i,v,l,u,g,j,B,G,ue,1,re,ie)),na(s,v,j,!ne);return}p1(s,i,v,l,u,g,j,B,G)}function kC(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],v=g.getSnapshot;g=g.value;try{if(!Cr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function na(s,i,l,u){i&=~dg,i&=~xo,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var g=i;0<g;){var v=31-Qt(g),j=1<<v;u[v]=-1,g&=~j}l!==0&&Kt(s,l,i)}function Dh(){return(Ot&6)===0?(pu(0),!1):!0}function yg(){if(ut!==null){if(Mt===0)var s=ut.return;else s=ut,gi=fo=null,Dp(s),gl=null,iu=0,s=ut;for(;s!==null;)Bb(s.alternate,s),s=s.return;ut=null}}function Tl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,eA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),yg(),Bt=s,ut=l=fi(s.current,null),_t=i,Mt=0,jr=null,Zi=!1,bl=pt(s,i),ug=!1,wl=es=dg=xo=Ji=Jt=0,yr=fu=null,hg=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var g=31-Qt(u),v=1<<g;i|=s[g],u&=~v}return Ti=i,nh(),l}function c1(s,i){rt=null,$.H=wh,i===Xc||i===dh?(i=Nx(),Mt=3):i===Ex?(i=Nx(),Mt=4):Mt=i===Cb?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jr=i,ut===null&&(Jt=1,Nh(s,Yr(i,s.current)))}function u1(){var s=$.H;return $.H=wh,s===null?wh:s}function d1(){var s=$.A;return $.A=DC,s}function vg(){Jt=4,Zi||(_t&4194048)!==_t&&Jr.current!==null||(bl=!0),(Ji&134217727)===0&&(xo&134217727)===0||Bt===null||na(Bt,_t,es,!1)}function xg(s,i,l){var u=Ot;Ot|=2;var g=u1(),v=d1();(Bt!==s||_t!==i)&&(Mh=null,Tl(s,i)),i=!1;var j=Jt;e:do try{if(Mt!==0&&ut!==null){var B=ut,G=jr;switch(Mt){case 8:yg(),j=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(i=!0);var ne=Mt;if(Mt=0,jr=null,Sl(s,B,G,ne),l&&bl){j=0;break e}break;default:ne=Mt,Mt=0,jr=null,Sl(s,B,G,ne)}}LC(),j=Jt;break}catch(ue){c1(s,ue)}while(!0);return i&&s.shellSuspendCounter++,gi=fo=null,Ot=u,$.H=g,$.A=v,ut===null&&(Bt=null,_t=0,nh()),j}function LC(){for(;ut!==null;)h1(ut)}function VC(s,i){var l=Ot;Ot|=2;var u=u1(),g=d1();Bt!==s||_t!==i?(Mh=null,Oh=Wt()+500,Tl(s,i)):bl=pt(s,i);e:do try{if(Mt!==0&&ut!==null){i=ut;var v=jr;t:switch(Mt){case 1:Mt=0,jr=null,Sl(s,i,v,1);break;case 2:case 9:if(Tx(v)){Mt=0,jr=null,f1(i);break}i=function(){Mt!==2&&Mt!==9||Bt!==s||(Mt=7),Hs(s)},v.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:Tx(v)?(Mt=0,jr=null,f1(i)):(Mt=0,jr=null,Sl(s,i,v,7));break;case 5:var j=null;switch(ut.tag){case 26:j=ut.memoizedState;case 5:case 27:var B=ut;if(!j||K1(j)){Mt=0,jr=null;var G=B.sibling;if(G!==null)ut=G;else{var ne=B.return;ne!==null?(ut=ne,Ph(ne)):ut=null}break t}}Mt=0,jr=null,Sl(s,i,v,5);break;case 6:Mt=0,jr=null,Sl(s,i,v,6);break;case 8:yg(),Jt=6;break e;default:throw Error(r(462))}}zC();break}catch(ue){c1(s,ue)}while(!0);return gi=fo=null,$.H=u,$.A=g,Ot=l,ut!==null?0:(Bt=null,_t=0,nh(),Jt)}function zC(){for(;ut!==null&&!hr();)h1(ut)}function h1(s){var i=zb(s.alternate,s,Ti);s.memoizedProps=s.pendingProps,i===null?Ph(s):ut=i}function f1(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=Mb(l,i,i.pendingProps,i.type,void 0,_t);break;case 11:i=Mb(l,i,i.pendingProps,i.type.render,i.ref,_t);break;case 5:Dp(i);default:Bb(l,i),i=ut=mx(i,Ti),i=zb(l,i,Ti)}s.memoizedProps=s.pendingProps,i===null?Ph(s):ut=i}function Sl(s,i,l,u){gi=fo=null,Dp(i),gl=null,iu=0;var g=i.return;try{if(AC(s,g,i,l,_t)){Jt=1,Nh(s,Yr(l,s.current)),ut=null;return}}catch(v){if(g!==null)throw ut=g,v;Jt=1,Nh(s,Yr(l,s.current)),ut=null;return}i.flags&32768?(Nt||u===1?s=!0:bl||(_t&536870912)!==0?s=!1:(Zi=s=!0,(u===2||u===9||u===3||u===6)&&(u=Jr.current,u!==null&&u.tag===13&&(u.flags|=16384))),m1(i,s)):Ph(i)}function Ph(s){var i=s;do{if((i.flags&32768)!==0){m1(i,Zi);return}s=i.return;var l=IC(i.alternate,i,Ti);if(l!==null){ut=l;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=s}while(i!==null);Jt===0&&(Jt=5)}function m1(s,i){do{var l=jC(s.alternate,s);if(l!==null){l.flags&=32767,ut=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ut=s;return}ut=s=l}while(s!==null);Jt=6,ut=null}function p1(s,i,l,u,g,v,j,B,G){s.cancelPendingCommit=null;do kh();while(Vn!==0);if((Ot&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=cp,Mn(s,l,v,j,B,G),s===Bt&&(ut=Bt=null,_t=0),_l=i,ta=s,El=l,mg=v,pg=g,i1=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,qC(ls,function(){return b1(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=se.p,se.p=2,j=Ot,Ot|=4;try{OC(s,i,l)}finally{Ot=j,se.p=g,$.T=u}}Vn=1,g1(),y1(),v1()}}function g1(){if(Vn===1){Vn=0;var s=ta,i=_l,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=se.p;se.p=2;var g=Ot;Ot|=4;try{Zb(i,s);var v=jg,j=sx(s.containerInfo),B=v.focusedElem,G=v.selectionRange;if(j!==B&&B&&B.ownerDocument&&rx(B.ownerDocument.documentElement,B)){if(G!==null&&sp(B)){var ne=G.start,ue=G.end;if(ue===void 0&&(ue=ne),"selectionStart"in B)B.selectionStart=ne,B.selectionEnd=Math.min(ue,B.value.length);else{var me=B.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Qe=B.textContent.length,Fe=Math.min(G.start,Qe),Vt=G.end===void 0?Fe:Math.min(G.end,Qe);!ie.extend&&Fe>Vt&&(j=Vt,Vt=Fe,Fe=j);var X=nx(B,Fe),K=nx(B,Vt);if(X&&K&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var ee=me.createRange();ee.setStart(X.node,X.offset),ie.removeAllRanges(),Fe>Vt?(ie.addRange(ee),ie.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),ie.addRange(ee))}}}}for(me=[],ie=B;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<me.length;B++){var he=me[B];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Kh=!!Ig,jg=Ig=null}finally{Ot=g,se.p=u,$.T=l}}s.current=i,Vn=2}}function y1(){if(Vn===2){Vn=0;var s=ta,i=_l,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=se.p;se.p=2;var g=Ot;Ot|=4;try{Kb(s,i.alternate,i)}finally{Ot=g,se.p=u,$.T=l}}Vn=3}}function v1(){if(Vn===4||Vn===3){Vn=0,er();var s=ta,i=_l,l=El,u=i1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vn=5:(Vn=0,_l=ta=null,x1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ea=null),Is(l),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(xt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,g=se.p,se.p=2,$.T=null;try{for(var v=s.onRecoverableError,j=0;j<u.length;j++){var B=u[j];v(B.value,{componentStack:B.stack})}}finally{$.T=i,se.p=g}}(El&3)!==0&&kh(),Hs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===gg?mu++:(mu=0,gg=s):mu=0,pu(0)}}function x1(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Kc(i)))}function kh(s){return g1(),y1(),v1(),b1()}function b1(){if(Vn!==5)return!1;var s=ta,i=mg;mg=0;var l=Is(El),u=$.T,g=se.p;try{se.p=32>l?32:l,$.T=null,l=pg,pg=null;var v=ta,j=El;if(Vn=0,_l=ta=null,El=0,(Ot&6)!==0)throw Error(r(331));var B=Ot;if(Ot|=4,r1(v.current),e1(v,v.current,j,l),Ot=B,pu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(xt,v)}catch{}return!0}finally{se.p=g,$.T=u,x1(s,i)}}function w1(s,i,l){i=Yr(l,i),i=Kp(s.stateNode,i,2),s=$i(s,i,2),s!==null&&(Hn(s,2),Hs(s))}function Ut(s,i,l){if(s.tag===3)w1(s,s,l);else for(;i!==null;){if(i.tag===3){w1(i,s,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ea===null||!ea.has(u))){s=Yr(l,s),l=Sb(2),u=$i(i,l,2),u!==null&&(Nb(l,u,i,s),Hn(u,2),Hs(u));break}}i=i.return}}function bg(s,i,l){var u=s.pingCache;if(u===null){u=s.pingCache=new PC;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(l)||(ug=!0,g.add(l),s=UC.bind(null,s,i,l),i.then(s,s))}function UC(s,i,l){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Bt===s&&(_t&l)===l&&(Jt===4||Jt===3&&(_t&62914560)===_t&&300>Wt()-fg?(Ot&2)===0&&Tl(s,0):dg|=l,wl===_t&&(wl=0)),Hs(s)}function _1(s,i){i===0&&(i=rr()),s=al(s,i),s!==null&&(Hn(s,i),Hs(s))}function BC(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),_1(s,l)}function FC(s,i){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),_1(s,l)}function qC(s,i){return mn(s,i)}var Lh=null,Nl=null,wg=!1,Vh=!1,_g=!1,bo=0;function Hs(s){s!==Nl&&s.next===null&&(Nl===null?Lh=Nl=s:Nl=Nl.next=s),Vh=!0,wg||(wg=!0,$C())}function pu(s,i){if(!_g&&Vh){_g=!0;do for(var l=!1,u=Lh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var j=u.suspendedLanes,B=u.pingedLanes;v=(1<<31-Qt(42|s)+1)-1,v&=g&~(j&~B),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,N1(u,v))}else v=_t,v=tt(u,u===Bt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||pt(u,v)||(l=!0,N1(u,v));u=u.next}while(l);_g=!1}}function HC(){E1()}function E1(){Vh=wg=!1;var s=0;bo!==0&&(JC()&&(s=bo),bo=0);for(var i=Wt(),l=null,u=Lh;u!==null;){var g=u.next,v=T1(u,i);v===0?(u.next=null,l===null?Lh=g:l.next=g,g===null&&(Nl=l)):(l=u,(s!==0||(v&3)!==0)&&(Vh=!0)),u=g}pu(s)}function T1(s,i){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var j=31-Qt(v),B=1<<j,G=g[j];G===-1?((B&l)===0||(B&u)!==0)&&(g[j]=Ht(B,i)):G<=i&&(s.expiredLanes|=B),v&=~B}if(i=Bt,l=_t,l=tt(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===i&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&qt(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||pt(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(u!==null&&qt(u),Is(l)){case 2:case 8:l=As;break;case 32:l=ls;break;case 268435456:l=nr;break;default:l=ls}return u=S1.bind(null,s),l=mn(l,u),s.callbackPriority=i,s.callbackNode=l,i}return u!==null&&u!==null&&qt(u),s.callbackPriority=2,s.callbackNode=null,2}function S1(s,i){if(Vn!==0&&Vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(kh()&&s.callbackNode!==l)return null;var u=_t;return u=tt(s,s===Bt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(o1(s,u,i),T1(s,Wt()),s.callbackNode!=null&&s.callbackNode===l?S1.bind(null,s):null)}function N1(s,i){if(kh())return null;o1(s,i,!0)}function $C(){tA(function(){(Ot&6)!==0?mn(Cs,HC):E1()})}function Eg(){return bo===0&&(bo=an()),bo}function C1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ko(""+s)}function A1(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function GC(s,i,l,u,g){if(i==="submit"&&l&&l.stateNode===g){var v=C1((g[be]||null).action),j=u.submitter;j&&(i=(i=j[be]||null)?C1(i.formAction):j.getAttribute("formAction"),i!==null&&(v=i,j=null));var B=new Yo("action","action",null,u,g);s.push({event:B,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(bo!==0){var G=j?A1(g,j):new FormData(g);qp(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(B.preventDefault(),G=j?A1(g,j):new FormData(g),qp(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var Tg=0;Tg<lp.length;Tg++){var Sg=lp[Tg],QC=Sg.toLowerCase(),KC=Sg[0].toUpperCase()+Sg.slice(1);ds(QC,"on"+KC)}ds(ox,"onAnimationEnd"),ds(lx,"onAnimationIteration"),ds(cx,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(dC,"onTransitionRun"),ds(hC,"onTransitionStart"),ds(fC,"onTransitionCancel"),ds(ux,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function R1(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var j=u.length-1;0<=j;j--){var B=u[j],G=B.instance,ne=B.currentTarget;if(B=B.listener,G!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ne;try{v(g)}catch(ue){Sh(ue)}g.currentTarget=null,v=G}else for(j=0;j<u.length;j++){if(B=u[j],G=B.instance,ne=B.currentTarget,B=B.listener,G!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ne;try{v(g)}catch(ue){Sh(ue)}g.currentTarget=null,v=G}}}}function dt(s,i){var l=i[Ue];l===void 0&&(l=i[Ue]=new Set);var u=s+"__bubble";l.has(u)||(I1(i,s,2,!1),l.add(u))}function Ng(s,i,l){var u=0;i&&(u|=4),I1(l,s,u,i)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Cg(s){if(!s[zh]){s[zh]=!0,it.forEach(function(l){l!=="selectionchange"&&(YC.has(l)||Ng(l,!1,s),Ng(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[zh]||(i[zh]=!0,Ng("selectionchange",!1,i))}}function I1(s,i,l,u){switch(ew(i)){case 2:var g=_A;break;case 8:g=EA;break;default:g=Bg}l=g.bind(null,i,l,s),g=void 0,!Qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Ag(s,i,l,u,g){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var B=u.stateNode.containerInfo;if(B===g)break;if(j===4)for(j=u.return;j!==null;){var G=j.tag;if((G===3||G===4)&&j.stateNode.containerInfo===g)return;j=j.return}for(;B!==null;){if(j=qe(B),j===null)return;if(G=j.tag,G===5||G===6||G===26||G===27){u=v=j;continue e}B=B.parentNode}}u=u.return}Bd(function(){var ne=v,ue=Gr(l),me=[];e:{var re=dx.get(s);if(re!==void 0){var ie=Yo,Qe=s;switch(s){case"keypress":if(Ps(l)===0)break e;case"keydown":case"keyup":ie=tl;break;case"focusin":Qe="focus",ie=Zo;break;case"focusout":Qe="blur",ie=Zo;break;case"beforeblur":case"afterblur":ie=Zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Yd;break;case ox:case lx:case cx:ie=Jo;break;case ux:ie=Wd;break;case"scroll":case"scrollend":ie=Fd;break;case"wheel":ie=nl;break;case"copy":case"cut":case"paste":ie=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Uc;break;case"toggle":case"beforetoggle":ie=Jd}var Fe=(i&4)!==0,Vt=!Fe&&(s==="scroll"||s==="scrollend"),X=Fe?re!==null?re+"Capture":null:re;Fe=[];for(var K=ne,ee;K!==null;){var he=K;if(ee=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ee===null||X===null||(he=Za(K,X),he!=null&&Fe.push(yu(K,he,ee))),Vt)break;K=K.return}0<Fe.length&&(re=new ie(re,Qe,null,l,ue),me.push({event:re,listeners:Fe}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",re&&l!==oi&&(Qe=l.relatedTarget||l.fromElement)&&(qe(Qe)||Qe[Ce]))break e;if((ie||re)&&(re=ue.window===ue?ue:(re=ue.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Qe=l.relatedTarget||l.toElement,ie=ne,Qe=Qe?qe(Qe):null,Qe!==null&&(Vt=o(Qe),Fe=Qe.tag,Qe!==Vt||Fe!==5&&Fe!==27&&Fe!==6)&&(Qe=null)):(ie=null,Qe=ne),ie!==Qe)){if(Fe=Kr,he="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=Uc,he="onPointerLeave",X="onPointerEnter",K="pointer"),Vt=ie==null?re:Ct(ie),ee=Qe==null?re:Ct(Qe),re=new Fe(he,K+"leave",ie,l,ue),re.target=Vt,re.relatedTarget=ee,he=null,qe(ue)===ne&&(Fe=new Fe(X,K+"enter",Qe,l,ue),Fe.target=ee,Fe.relatedTarget=Vt,he=Fe),Vt=he,ie&&Qe)t:{for(Fe=ie,X=Qe,K=0,ee=Fe;ee;ee=Cl(ee))K++;for(ee=0,he=X;he;he=Cl(he))ee++;for(;0<K-ee;)Fe=Cl(Fe),K--;for(;0<ee-K;)X=Cl(X),ee--;for(;K--;){if(Fe===X||X!==null&&Fe===X.alternate)break t;Fe=Cl(Fe),X=Cl(X)}Fe=null}else Fe=null;ie!==null&&j1(me,re,ie,Fe,!1),Qe!==null&&Vt!==null&&j1(me,Vt,Qe,Fe,!0)}}e:{if(re=ne?Ct(ne):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Re=Xv;else if(yn(re))if(Wv)Re=lC;else{Re=aC;var at=iC}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Mc(ne.elementType)&&(Re=Xv):Re=oC;if(Re&&(Re=Re(s,ne))){hi(me,Re,l,ue);break e}at&&at(s,re,ne),s==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Ui(re,"number",re.value)}switch(at=ne?Ct(ne):window,s){case"focusin":(yn(at)||at.contentEditable==="true")&&(rl=at,ip=ne,qc=null);break;case"focusout":qc=ip=rl=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,ix(me,l,ue);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":ix(me,l,ue)}var ke;if(Vs)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else bt?le(s,l)&&(He="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(A&&l.locale!=="ko"&&(bt||He!=="onCompositionStart"?He==="onCompositionEnd"&&bt&&(ke=Pc()):(Ds=ue,Bi="value"in Ds?Ds.value:Ds.textContent,bt=!0)),at=Uh(ne,He),0<at.length&&(He=new Vc(He,s,null,l,ue),me.push({event:He,listeners:at}),ke?He.data=ke:(ke=we(l),ke!==null&&(He.data=ke)))),(ke=_?gn(s,l):wt(s,l))&&(He=Uh(ne,"onBeforeInput"),0<He.length&&(at=new Vc("onBeforeInput","beforeinput",null,l,ue),me.push({event:at,listeners:He}),at.data=ke)),GC(me,s,ne,l,ue)}R1(me,i)})}function yu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Uh(s,i){for(var l=i+"Capture",u=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Za(s,l),g!=null&&u.unshift(yu(s,g,v)),g=Za(s,i),g!=null&&u.push(yu(s,g,v))),s.tag===3)return u;s=s.return}return[]}function Cl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function j1(s,i,l,u,g){for(var v=i._reactName,j=[];l!==null&&l!==u;){var B=l,G=B.alternate,ne=B.stateNode;if(B=B.tag,G!==null&&G===u)break;B!==5&&B!==26&&B!==27||ne===null||(G=ne,g?(ne=Za(l,v),ne!=null&&j.unshift(yu(l,ne,G))):g||(ne=Za(l,v),ne!=null&&j.push(yu(l,ne,G)))),l=l.return}j.length!==0&&s.push({event:i,listeners:j})}var XC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function O1(s){return(typeof s=="string"?s:""+s).replace(XC,`
`).replace(WC,"")}function M1(s,i){return i=O1(i),O1(s)===i}function Bh(){}function Lt(s,i,l,u,g,v){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||$r(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&$r(s,""+u);break;case"className":ir(s,"class",u);break;case"tabIndex":ir(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(s,l,u);break;case"style":Oc(s,u,v);break;case"data":if(i!=="object"){ir(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ko(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Lt(s,i,"name",g.name,g,null),Lt(s,i,"formEncType",g.formEncType,g,null),Lt(s,i,"formMethod",g.formMethod,g,null),Lt(s,i,"formTarget",g.formTarget,g,null)):(Lt(s,i,"encType",g.encType,g,null),Lt(s,i,"method",g.method,g,null),Lt(s,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ko(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Bh);break;case"onScroll":u!=null&&dt("scroll",s);break;case"onScrollEnd":u!=null&&dt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Ko(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":dt("beforetoggle",s),dt("toggle",s),$n(s,"popover",u);break;case"xlinkActuate":Ye(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ye(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ye(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ye(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ye(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ye(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$n(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zm.get(l)||l,$n(s,l,u))}}function Rg(s,i,l,u,g,v){switch(l){case"style":Oc(s,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?$r(s,u):(typeof u=="number"||typeof u=="bigint")&&$r(s,""+u);break;case"onScroll":u!=null&&dt("scroll",s);break;case"onScrollEnd":u!=null&&dt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[be]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,u,g);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):$n(s,l,u)}}}function zn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",s),dt("load",s);var u=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var j=l[v];if(j!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Lt(s,i,v,j,l,null)}}g&&Lt(s,i,"srcSet",l.srcSet,l,null),u&&Lt(s,i,"src",l.src,l,null);return;case"input":dt("invalid",s);var B=v=j=g=null,G=null,ne=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":g=ue;break;case"type":j=ue;break;case"checked":G=ue;break;case"defaultChecked":ne=ue;break;case"value":v=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:Lt(s,i,u,ue,l,null)}}Ya(s,v,B,G,ne,j,g,!1),Qo(s);return;case"select":dt("invalid",s),u=j=v=null;for(g in l)if(l.hasOwnProperty(g)&&(B=l[g],B!=null))switch(g){case"value":v=B;break;case"defaultValue":j=B;break;case"multiple":u=B;default:Lt(s,i,g,B,l,null)}i=v,l=j,s.multiple=!!u,i!=null?ai(s,!!u,i,!1):l!=null&&ai(s,!!u,l,!0);return;case"textarea":dt("invalid",s),v=g=u=null;for(j in l)if(l.hasOwnProperty(j)&&(B=l[j],B!=null))switch(j){case"value":u=B;break;case"defaultValue":g=B;break;case"children":v=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Lt(s,i,j,B,l,null)}Xa(s,u,g,v),Qo(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Lt(s,i,G,u,l,null)}return;case"dialog":dt("beforetoggle",s),dt("toggle",s),dt("cancel",s),dt("close",s);break;case"iframe":case"object":dt("load",s);break;case"video":case"audio":for(u=0;u<gu.length;u++)dt(gu[u],s);break;case"image":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"embed":case"source":case"link":dt("error",s),dt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(u=l[ne],u!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Lt(s,i,ne,u,l,null)}return;default:if(Mc(i)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&Rg(s,i,ue,u,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(u=l[B],u!=null&&Lt(s,i,B,u,l,null))}function ZC(s,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,j=null,B=null,G=null,ne=null,ue=null;for(ie in l){var me=l[ie];if(l.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":G=me;default:u.hasOwnProperty(ie)||Lt(s,i,ie,null,u,me)}}for(var re in u){var ie=u[re];if(me=l[re],u.hasOwnProperty(re)&&(ie!=null||me!=null))switch(re){case"type":v=ie;break;case"name":g=ie;break;case"checked":ne=ie;break;case"defaultChecked":ue=ie;break;case"value":j=ie;break;case"defaultValue":B=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:ie!==me&&Lt(s,i,re,ie,u,me)}}Nr(s,j,B,G,ne,ue,v,g);return;case"select":ie=j=B=re=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ie=G;default:u.hasOwnProperty(v)||Lt(s,i,v,null,u,G)}for(g in u)if(v=u[g],G=l[g],u.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":re=v;break;case"defaultValue":B=v;break;case"multiple":j=v;default:v!==G&&Lt(s,i,g,v,u,G)}i=B,l=j,u=ie,re!=null?ai(s,!!l,re,!1):!!u!=!!l&&(i!=null?ai(s,!!l,i,!0):ai(s,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(B in l)if(g=l[B],l.hasOwnProperty(B)&&g!=null&&!u.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Lt(s,i,B,null,u,g)}for(j in u)if(g=u[j],v=l[j],u.hasOwnProperty(j)&&(g!=null||v!=null))switch(j){case"value":re=g;break;case"defaultValue":ie=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Lt(s,i,j,g,u,v)}Pt(s,re,ie);return;case"option":for(var Qe in l)if(re=l[Qe],l.hasOwnProperty(Qe)&&re!=null&&!u.hasOwnProperty(Qe))switch(Qe){case"selected":s.selected=!1;break;default:Lt(s,i,Qe,null,u,re)}for(G in u)if(re=u[G],ie=l[G],u.hasOwnProperty(G)&&re!==ie&&(re!=null||ie!=null))switch(G){case"selected":s.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Lt(s,i,G,re,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)re=l[Fe],l.hasOwnProperty(Fe)&&re!=null&&!u.hasOwnProperty(Fe)&&Lt(s,i,Fe,null,u,re);for(ne in u)if(re=u[ne],ie=l[ne],u.hasOwnProperty(ne)&&re!==ie&&(re!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:Lt(s,i,ne,re,u,ie)}return;default:if(Mc(i)){for(var Vt in l)re=l[Vt],l.hasOwnProperty(Vt)&&re!==void 0&&!u.hasOwnProperty(Vt)&&Rg(s,i,Vt,void 0,u,re);for(ue in u)re=u[ue],ie=l[ue],!u.hasOwnProperty(ue)||re===ie||re===void 0&&ie===void 0||Rg(s,i,ue,re,u,ie);return}}for(var X in l)re=l[X],l.hasOwnProperty(X)&&re!=null&&!u.hasOwnProperty(X)&&Lt(s,i,X,null,u,re);for(me in u)re=u[me],ie=l[me],!u.hasOwnProperty(me)||re===ie||re==null&&ie==null||Lt(s,i,me,re,u,ie)}var Ig=null,jg=null;function Fh(s){return s.nodeType===9?s:s.ownerDocument}function D1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P1(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Og(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mg=null;function JC(){var s=window.event;return s&&s.type==="popstate"?s===Mg?!1:(Mg=s,!0):(Mg=null,!1)}var k1=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(s){return L1.resolve(null).then(s).catch(nA)}:k1;function nA(s){setTimeout(function(){throw s})}function ra(s){return s==="head"}function V1(s,i){var l=i,u=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var j=s.ownerDocument;if(l&1&&vu(j.documentElement),l&2&&vu(j.body),l&4)for(l=j.head,vu(l),j=l.firstChild;j;){var B=j.nextSibling,G=j.nodeName;j[Be]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||l.removeChild(j),j=B}}if(g===0){s.removeChild(v),Nu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);Nu(i)}function Dg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function rA(s,i,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Be])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=fs(s.nextSibling),s===null)break}return null}function sA(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=fs(s.nextSibling),s===null))return null;return s}function Pg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function iA(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function fs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var kg=null;function z1(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function U1(s,i,l){switch(i=Fh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function vu(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);De(s)}var ts=new Map,B1=new Set;function qh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Si=se.d;se.d={f:aA,r:oA,D:lA,C:cA,L:uA,m:dA,X:fA,S:hA,M:mA};function aA(){var s=Si.f(),i=Dh();return s||i}function oA(s){var i=ct(s);i!==null&&i.tag===5&&i.type==="form"?ob(i):Si.r(s)}var Al=typeof document>"u"?null:document;function F1(s,i,l){var u=Al;if(u&&typeof i=="string"&&i){var g=ln(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),B1.has(g)||(B1.add(g),s={rel:s,crossOrigin:l,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),zn(i,"link",s),gt(i),u.head.appendChild(i)))}}function lA(s){Si.D(s),F1("dns-prefetch",s,null)}function cA(s,i){Si.C(s,i),F1("preconnect",s,i)}function uA(s,i,l){Si.L(s,i,l);var u=Al;if(u&&s&&i){var g='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ln(l.imageSizes)+'"]')):g+='[href="'+ln(s)+'"]';var v=g;switch(i){case"style":v=Rl(s);break;case"script":v=Il(s)}ts.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),ts.set(v,s),u.querySelector(g)!==null||i==="style"&&u.querySelector(xu(v))||i==="script"&&u.querySelector(bu(v))||(i=u.createElement("link"),zn(i,"link",s),gt(i),u.head.appendChild(i)))}}function dA(s,i){Si.m(s,i);var l=Al;if(l&&s){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(s)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Il(s)}if(!ts.has(v)&&(s=y({rel:"modulepreload",href:s},i),ts.set(v,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bu(v)))return}u=l.createElement("link"),zn(u,"link",s),gt(u),l.head.appendChild(u)}}}function hA(s,i,l){Si.S(s,i,l);var u=Al;if(u&&s){var g=Tt(u).hoistableStyles,v=Rl(s);i=i||"default";var j=g.get(v);if(!j){var B={loading:0,preload:null};if(j=u.querySelector(xu(v)))B.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=ts.get(v))&&Lg(s,l);var G=j=u.createElement("link");gt(G),zn(G,"link",s),G._p=new Promise(function(ne,ue){G.onload=ne,G.onerror=ue}),G.addEventListener("load",function(){B.loading|=1}),G.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Hh(j,i,u)}j={type:"stylesheet",instance:j,count:1,state:B},g.set(v,j)}}}function fA(s,i){Si.X(s,i);var l=Al;if(l&&s){var u=Tt(l).hoistableScripts,g=Il(s),v=u.get(g);v||(v=l.querySelector(bu(g)),v||(s=y({src:s,async:!0},i),(i=ts.get(g))&&Vg(s,i),v=l.createElement("script"),gt(v),zn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function mA(s,i){Si.M(s,i);var l=Al;if(l&&s){var u=Tt(l).hoistableScripts,g=Il(s),v=u.get(g);v||(v=l.querySelector(bu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=ts.get(g))&&Vg(s,i),v=l.createElement("script"),gt(v),zn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function q1(s,i,l,u){var g=(g=Ee.current)?qh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Rl(l.href),l=Tt(g).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Rl(l.href);var v=Tt(g).hoistableStyles,j=v.get(s);if(j||(g=g.ownerDocument||g,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,j),(v=g.querySelector(xu(s)))&&!v._p&&(j.instance=v,j.state.loading=5),ts.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ts.set(s,l),v||pA(g,s,l,j.state))),i&&u===null)throw Error(r(528,""));return j}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Il(l),l=Tt(g).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Rl(s){return'href="'+ln(s)+'"'}function xu(s){return'link[rel="stylesheet"]['+s+"]"}function H1(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function pA(s,i,l,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),zn(i,"link",l),gt(i),s.head.appendChild(i))}function Il(s){return'[src="'+ln(s)+'"]'}function bu(s){return"script[async]"+s}function $1(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+ln(l.href)+'"]');if(u)return i.instance=u,gt(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),gt(u),zn(u,"style",g),Hh(u,l.precedence,s),i.instance=u;case"stylesheet":g=Rl(l.href);var v=s.querySelector(xu(g));if(v)return i.state.loading|=4,i.instance=v,gt(v),v;u=H1(l),(g=ts.get(g))&&Lg(u,g),v=(s.ownerDocument||s).createElement("link"),gt(v);var j=v;return j._p=new Promise(function(B,G){j.onload=B,j.onerror=G}),zn(v,"link",u),i.state.loading|=4,Hh(v,l.precedence,s),i.instance=v;case"script":return v=Il(l.src),(g=s.querySelector(bu(v)))?(i.instance=g,gt(g),g):(u=l,(g=ts.get(v))&&(u=y({},l),Vg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),gt(g),zn(g,"link",u),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Hh(u,l.precedence,s));return i.instance}function Hh(s,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,j=0;j<u.length;j++){var B=u[j];if(B.dataset.precedence===i)v=B;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Lg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Vg(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var $h=null;function G1(s,i,l){if($h===null){var u=new Map,g=$h=new Map;g.set(l,u)}else g=$h,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Be]||v[fe]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var j=v.getAttribute(i)||"";j=s+j;var B=u.get(j);B?B.push(v):u.set(j,[v])}}return u}function Q1(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function gA(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var wu=null;function yA(){}function vA(s,i,l){if(wu===null)throw Error(r(475));var u=wu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Rl(l.href),v=s.querySelector(xu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Gh.bind(u),s.then(u,u)),i.state.loading|=4,i.instance=v,gt(v);return}v=s.ownerDocument||s,l=H1(l),(g=ts.get(g))&&Lg(l,g),v=v.createElement("link"),gt(v);var j=v;j._p=new Promise(function(B,G){j.onload=B,j.onerror=G}),zn(v,"link",l),i.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Gh.bind(u),s.addEventListener("load",i),s.addEventListener("error",i))}}function xA(){if(wu===null)throw Error(r(475));var s=wu;return s.stylesheets&&s.count===0&&zg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&zg(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)zg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qh=null;function zg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qh=new Map,i.forEach(bA,s),Qh=null,Gh.call(s))}function bA(s,i){if(!(i.state.loading&4)){var l=Qh.get(s);if(l)var u=l.get(null);else{l=new Map,Qh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var j=g[v];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),u=j)}u&&l.set(null,u)}g=i.instance,j=g.getAttribute("data-precedence"),v=l.get(j)||u,v===u&&l.set(null,g),l.set(j,g),this.count++,u=Gh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var _u={$$typeof:b,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function wA(s,i,l,u,g,v,j,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Y1(s,i,l,u,g,v,j,B,G,ne,ue,me){return s=new wA(s,i,l,j,B,G,ne,me),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=bp(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:i},Tp(v),s}function X1(s){return s?(s=ol,s):ol}function W1(s,i,l,u,g,v){g=X1(g),u.context===null?u.context=g:u.pendingContext=g,u=Hi(i),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=$i(s,u,i),l!==null&&(Mr(l,s,i),Zc(l,s,i))}function Z1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Ug(s,i){Z1(s,i),(s=s.alternate)&&Z1(s,i)}function J1(s){if(s.tag===13){var i=al(s,67108864);i!==null&&Mr(i,s,67108864),Ug(s,67108864)}}var Kh=!0;function _A(s,i,l,u){var g=$.T;$.T=null;var v=se.p;try{se.p=2,Bg(s,i,l,u)}finally{se.p=v,$.T=g}}function EA(s,i,l,u){var g=$.T;$.T=null;var v=se.p;try{se.p=8,Bg(s,i,l,u)}finally{se.p=v,$.T=g}}function Bg(s,i,l,u){if(Kh){var g=Fg(u);if(g===null)Ag(s,i,u,Yh,l),tw(s,u);else if(SA(g,s,i,l,u))u.stopPropagation();else if(tw(s,u),i&4&&-1<TA.indexOf(s)){for(;g!==null;){var v=ct(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var j=je(v.pendingLanes);if(j!==0){var B=v;for(B.pendingLanes|=2,B.entangledLanes|=2;j;){var G=1<<31-Qt(j);B.entanglements[1]|=G,j&=~G}Hs(v),(Ot&6)===0&&(Oh=Wt()+500,pu(0))}}break;case 13:B=al(v,2),B!==null&&Mr(B,v,2),Dh(),Ug(v,2)}if(v=Fg(u),v===null&&Ag(s,i,u,Yh,l),v===g)break;g=v}g!==null&&u.stopPropagation()}else Ag(s,i,u,null,l)}}function Fg(s){return s=Gr(s),qg(s)}var Yh=null;function qg(s){if(Yh=null,s=qe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=c(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Yh=s,null}function ew(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Cs:return 2;case As:return 8;case ls:case tr:return 32;case nr:return 268435456;default:return 32}default:return 32}}var Hg=!1,sa=null,ia=null,aa=null,Eu=new Map,Tu=new Map,oa=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tw(s,i){switch(s){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(i.pointerId)}}function Su(s,i,l,u,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},i!==null&&(i=ct(i),i!==null&&J1(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function SA(s,i,l,u,g){switch(i){case"focusin":return sa=Su(sa,s,i,l,u,g),!0;case"dragenter":return ia=Su(ia,s,i,l,u,g),!0;case"mouseover":return aa=Su(aa,s,i,l,u,g),!0;case"pointerover":var v=g.pointerId;return Eu.set(v,Su(Eu.get(v)||null,s,i,l,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Tu.set(v,Su(Tu.get(v)||null,s,i,l,u,g)),!0}return!1}function nw(s){var i=qe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var u=Or();u=Er(u);var g=al(l,u);g!==null&&Mr(g,l,u),Ug(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Fg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);oi=u,l.target.dispatchEvent(u),oi=null}else return i=ct(l),i!==null&&J1(i),s.blockedOn=l,!1;i.shift()}return!0}function rw(s,i,l){Xh(s)&&l.delete(i)}function NA(){Hg=!1,sa!==null&&Xh(sa)&&(sa=null),ia!==null&&Xh(ia)&&(ia=null),aa!==null&&Xh(aa)&&(aa=null),Eu.forEach(rw),Tu.forEach(rw)}function Wh(s,i){s.blockedOn===i&&(s.blockedOn=null,Hg||(Hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NA)))}var Zh=null;function sw(s){Zh!==s&&(Zh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zh===s&&(Zh=null);for(var i=0;i<s.length;i+=3){var l=s[i],u=s[i+1],g=s[i+2];if(typeof u!="function"){if(qg(u||l)===null)continue;break}var v=ct(l);v!==null&&(s.splice(i,3),i-=3,qp(v,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Nu(s){function i(G){return Wh(G,s)}sa!==null&&Wh(sa,s),ia!==null&&Wh(ia,s),aa!==null&&Wh(aa,s),Eu.forEach(i),Tu.forEach(i);for(var l=0;l<oa.length;l++){var u=oa[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<oa.length&&(l=oa[0],l.blockedOn===null);)nw(l),l.blockedOn===null&&oa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],j=g[be]||null;if(typeof v=="function")j||sw(l);else if(j){var B=null;if(v&&v.hasAttribute("formAction")){if(g=v,j=v[be]||null)B=j.formAction;else if(qg(g)!==null)continue}else B=j.action;typeof B=="function"?l[u+1]=B:(l.splice(u,3),u-=3),sw(l)}}}function $g(s){this._internalRoot=s}Jh.prototype.render=$g.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,u=Or();W1(l,u,s,i,null,null)},Jh.prototype.unmount=$g.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;W1(s.current,2,null,s,null,null),Dh(),i[Ce]=null}};function Jh(s){this._internalRoot=s}Jh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<oa.length&&i!==0&&i<oa[l].priority;l++);oa.splice(l,0,s),l===0&&nw(s)}};var iw=e.version;if(iw!=="19.1.0")throw Error(r(527,iw,"19.1.0"));se.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var CA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{xt=ef.inject(CA),Ze=ef}catch{}}return Au.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,u="",g=wb,v=_b,j=Eb,B=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(B=i.unstable_transitionCallbacks)),i=Y1(s,1,!1,null,null,l,u,g,v,j,B,null),s[Ce]=i.current,Cg(s),new $g(i)},Au.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var u=!1,g="",v=wb,j=_b,B=Eb,G=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),i=Y1(s,1,!0,i,l??null,u,g,v,j,B,G,ne),i.context=X1(null),l=i.current,u=Or(),u=Er(u),g=Hi(u),g.callback=null,$i(l,g,u),l=u,i.current.lanes=l,Hn(i,l),Hs(i),s[Ce]=i.current,Cg(s),new Jh(i)},Au.version="19.1.0",Au}var gw;function VA(){if(gw)return Yg.exports;gw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yg.exports=LA(),Yg.exports}var zA=VA(),Ru={},yw;function UA(){if(yw)return Ru;yw=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.parse=c,Ru.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,E){const T=new o,D=w.length;if(D<2)return T;const C=(E==null?void 0:E.decode)||y;let N=0;do{const S=w.indexOf("=",N);if(S===-1)break;const b=w.indexOf(";",N),M=b===-1?D:b;if(S>M){N=w.lastIndexOf(";",S-1)+1;continue}const z=h(w,N,S),L=f(w,S,z),k=w.slice(z,L);if(T[k]===void 0){let R=h(w,S+1,M),O=f(w,M,R);const P=C(w.slice(R,O));T[k]=P}N=M+1}while(N<D);return T}function h(w,E,T){do{const D=w.charCodeAt(E);if(D!==32&&D!==9)return E}while(++E<T);return T}function f(w,E,T){for(;E>T;){const D=w.charCodeAt(--E);if(D!==32&&D!==9)return E+1}return T}function p(w,E,T){const D=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=D(E);if(!e.test(C))throw new TypeError(`argument val is invalid: ${E}`);let N=w+"="+C;if(!T)return N;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);N+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);N+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);N+="; Path="+T.path}if(T.expires){if(!x(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);N+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(N+="; HttpOnly"),T.secure&&(N+="; Secure"),T.partitioned&&(N+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return N}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return a.call(w)==="[object Date]"}return Ru}UA();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fT=n=>{throw TypeError(n)},BA=(n,e,t)=>e.has(n)||fT("Cannot "+t),Jg=(n,e,t)=>(BA(n,e,"read from private field"),t?t.call(n):e.get(n)),FA=(n,e,t)=>e.has(n)?fT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),vw="popstate";function qA(n={}){function e(r,a){let{pathname:o,search:c,hash:h}=r.location;return ed("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Pa(a)}return $A(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HA(){return Math.random().toString(36).substring(2,10)}function xw(n,e){return{usr:n.state,key:n.key,idx:e}}function ed(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||r||HA()}}function Pa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function $A(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,h="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function x(){h="POP";let C=y(),N=C==null?null:C-p;p=C,f&&f({action:h,location:D.location,delta:N})}function w(C,N){h="PUSH";let S=ed(D.location,C,N);p=y()+1;let b=xw(S,p),M=D.createHref(S);try{c.pushState(b,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(M)}o&&f&&f({action:h,location:D.location,delta:1})}function E(C,N){h="REPLACE";let S=ed(D.location,C,N);p=y();let b=xw(S,p),M=D.createHref(S);c.replaceState(b,"",M),o&&f&&f({action:h,location:D.location,delta:0})}function T(C){let N=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof C=="string"?C:Pa(C);return S=S.replace(/ $/,"%20"),ht(N,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,N)}let D={get action(){return h},get location(){return n(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(vw,x),f=C,()=>{a.removeEventListener(vw,x),f=null}},createHref(C){return e(a,C)},createURL:T,encodeLocation(C){let N=T(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:E,go(C){return c.go(C)}};return D}var Pu,bw=class{constructor(n){if(FA(this,Pu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Jg(this,Pu).has(n))return Jg(this,Pu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Jg(this,Pu).set(n,e)}};Pu=new WeakMap;var GA=new Set(["lazy","caseSensitive","path","id","index","children"]);function QA(n){return GA.has(n)}var KA=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function YA(n){return KA.has(n)}function XA(n){return n.index===!0}function kf(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],h=typeof a.id=="string"?a.id:c.join("-");if(ht(a.index!==!0||!a.children,"Cannot specify children on an index route"),ht(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),XA(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=kf(a.children,e,c,r)),f}})}function ha(n,e,t="/"){return xf(n,e,t,!1)}function xf(n,e,t,r){let a=typeof e=="string"?qa(e):e,o=as(a.pathname||"/",t);if(o==null)return null;let c=mT(n);ZA(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=cR(o);h=oR(c[f],p,r)}return h}function WA(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function mT(n,e=[],t=[],r=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Xs([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mT(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:iR(p,o.index),routesMeta:y})};return n.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let f of pT(o.path))a(o,c,f)}),e}function pT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=pT(r.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function ZA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var JA=/^:[\w-]+$/,eR=3,tR=2,nR=1,rR=10,sR=-2,ww=n=>n==="*";function iR(n,e){let t=n.split("/"),r=t.length;return t.some(ww)&&(r+=sR),e&&(r+=tR),t.filter(a=>!ww(a)).reduce((a,o)=>a+(JA.test(o)?eR:o===""?nR:rR),r)}function aR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function oR(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",x=Lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),w=f.route;if(!x&&p&&t&&!r[r.length-1].route.index&&(x=Lf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Xs([o,x.pathname]),pathnameBase:hR(Xs([o,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(o=Xs([o,x.pathnameBase]))}return c}function Lf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:x},w)=>{if(y==="*"){let T=h[w]||"";c=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const E=h[w];return x&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function lR(n,e=!1,t=!0){sn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function cR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function as(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?qa(n):n;return{pathname:t?t.startsWith("/")?t:dR(t,e):e,search:fR(r),hash:mR(a)}}function dR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function e0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Oy(n){let e=gT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function My(n,e,t,r=!1){let a;typeof n=="string"?a=qa(n):(a={...n},ht(!a.pathname||!a.pathname.includes("?"),e0("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),e0("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),e0("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let x=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),x-=1;a.pathname=w.join("/")}h=x>=0?e[x]:"/"}let f=uR(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Xs=n=>n.join("/").replace(/\/\/+/g,"/"),hR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Vf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function td(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yT=["POST","PUT","PATCH","DELETE"],pR=new Set(yT),gR=["GET",...yT],yR=new Set(gR),vR=new Set([301,302,303,307,308]),xR=new Set([307,308]),t0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wR=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),vT="remix-router-transitions",xT=Symbol("ResetLoaderData");function _R(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ht(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||wR,o={},c=kf(n.routes,a,void 0,o),h,f=n.basename||"/",p=n.dataStrategy||CR,y={unstable_middleware:!1,...n.future},x=null,w=new Set,E=null,T=null,D=null,C=n.hydrationData!=null,N=ha(c,n.history.location,f),S=!1,b=null;if(N==null&&!n.patchRoutesOnNavigation){let Q=ss(404,{pathname:n.history.location.pathname}),{matches:W,route:te}=Mw(c);N=W,b={[te.id]:Q}}N&&!n.hydrationData&&Kt(N,c,n.history.location.pathname).active&&(N=null);let M;if(N)if(N.some(Q=>Q.route.lazy))M=!1;else if(!N.some(Q=>Q.route.loader))M=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let te=N.findIndex(fe=>W[fe.route.id]!==void 0);M=N.slice(0,te+1).every(fe=>!j0(fe.route,Q,W))}else M=N.every(te=>!j0(te.route,Q,W))}else{M=!1,N=[];let Q=Kt(null,c,n.history.location.pathname);Q.active&&Q.matches&&(S=!0,N=Q.matches)}let z,L={historyAction:n.history.action,location:n.history.location,matches:N,initialized:M,navigation:t0,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||b,fetchers:new Map,blockers:new Map},k="POP",R=!1,O,P=!1,V=new Map,U=null,I=!1,J=!1,oe=new Set,$=new Map,se=0,ae=-1,xe=new Map,H=new Set,ce=new Map,ve=new Map,ge=new Set,Se=new Map,ze,Ee=null;function ye(){if(x=n.history.listen(({action:Q,location:W,delta:te})=>{if(ze){ze(),ze=void 0;return}sn(Se.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Ht({currentLocation:L.location,nextLocation:W,historyAction:Q});if(fe&&te!=null){let be=new Promise(Ce=>{ze=Ce});n.history.go(te*-1),pt(fe,{state:"blocked",location:W,proceed(){pt(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),be.then(()=>n.history.go(te))},reset(){let Ce=new Map(L.blockers);Ce.set(fe,Iu),et({blockers:Ce})}});return}return qt(Q,W)}),t){VR(e,V);let Q=()=>zR(e,V);e.addEventListener("pagehide",Q),U=()=>e.removeEventListener("pagehide",Q)}return L.initialized||qt("POP",L.location,{initialHydration:!0}),z}function Te(){x&&x(),U&&U(),w.clear(),O&&O.abort(),L.fetchers.forEach((Q,W)=>Qt(W)),L.blockers.forEach((Q,W)=>tt(W))}function lt(Q){return w.add(Q),()=>w.delete(Q)}function et(Q,W={}){L={...L,...Q};let te=[],fe=[];L.fetchers.forEach((be,Ce)=>{be.state==="idle"&&(ge.has(Ce)?te.push(Ce):fe.push(Ce))}),ge.forEach(be=>{!L.fetchers.has(be)&&!$.has(be)&&te.push(be)}),[...w].forEach(be=>be(L,{deletedFetchers:te,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),te.forEach(be=>Qt(be)),fe.forEach(be=>L.fetchers.delete(be))}function jt(Q,W,{flushSync:te}={}){var Pe,Be;let fe=L.actionData!=null&&L.navigation.formMethod!=null&&kr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,be;W.actionData?Object.keys(W.actionData).length>0?be=W.actionData:be=null:fe?be=L.actionData:be=null;let Ce=W.loaderData?jw(L.loaderData,W.loaderData,W.matches||[],W.errors):L.loaderData,Ue=L.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((De,qe)=>Ue.set(qe,Iu)));let Ae=R===!0||L.navigation.formMethod!=null&&kr(L.navigation.formMethod)&&((Be=Q.state)==null?void 0:Be._isRedirect)!==!0;h&&(c=h,h=void 0),I||k==="POP"||(k==="PUSH"?n.history.push(Q,Q.state):k==="REPLACE"&&n.history.replace(Q,Q.state));let Me;if(k==="POP"){let De=V.get(L.location.pathname);De&&De.has(Q.pathname)?Me={currentLocation:L.location,nextLocation:Q}:V.has(Q.pathname)&&(Me={currentLocation:Q,nextLocation:L.location})}else if(P){let De=V.get(L.location.pathname);De?De.add(Q.pathname):(De=new Set([Q.pathname]),V.set(L.location.pathname,De)),Me={currentLocation:L.location,nextLocation:Q}}et({...W,actionData:be,loaderData:Ce,historyAction:k,location:Q,initialized:!0,navigation:t0,revalidation:"idle",restoreScrollPosition:Mn(Q,W.matches||L.matches),preventScrollReset:Ae,blockers:Ue},{viewTransitionOpts:Me,flushSync:te===!0}),k="POP",R=!1,P=!1,I=!1,J=!1,Ee==null||Ee.resolve(),Ee=null}async function $t(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let te=I0(L.location,L.matches,f,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:be,error:Ce}=_w(!1,te,W),Ue=L.location,Ae=ed(L.location,fe,W&&W.state);Ae={...Ae,...n.history.encodeLocation(Ae)};let Me=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";Me===!0?Pe="REPLACE":Me===!1||be!=null&&kr(be.formMethod)&&be.formAction===L.location.pathname+L.location.search&&(Pe="REPLACE");let Be=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,qe=Ht({currentLocation:Ue,nextLocation:Ae,historyAction:Pe});if(qe){pt(qe,{state:"blocked",location:Ae,proceed(){pt(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),$t(Q,W)},reset(){let ct=new Map(L.blockers);ct.set(qe,Iu),et({blockers:ct})}});return}await qt(Pe,Ae,{submission:be,pendingError:Ce,preventScrollReset:Be,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function mn(){Ee||(Ee=UR()),cs(),et({revalidation:"loading"});let Q=Ee.promise;return L.navigation.state==="submitting"?Q:L.navigation.state==="idle"?(qt(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),Q):(qt(k||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:P===!0}),Q)}async function qt(Q,W,te){O&&O.abort(),O=null,k=Q,I=(te&&te.startUninterruptedRevalidation)===!0,Hn(L.location,L.matches),R=(te&&te.preventScrollReset)===!0,P=(te&&te.enableViewTransition)===!0;let fe=h||c,be=te&&te.overrideNavigation,Ce=te!=null&&te.initialHydration&&L.matches&&L.matches.length>0&&!S?L.matches:ha(fe,W,f),Ue=(te&&te.flushSync)===!0;if(Ce&&L.initialized&&!J&&MR(L.location,W)&&!(te&&te.submission&&kr(te.submission.formMethod))){jt(W,{matches:Ce},{flushSync:Ue});return}let Ae=Kt(Ce,fe,W.pathname);if(Ae.active&&Ae.matches&&(Ce=Ae.matches),!Ce){let{error:Tt,notFoundMatches:gt,route:it}=an(W.pathname);jt(W,{matches:gt,loaderData:{},errors:{[it.id]:Tt}},{flushSync:Ue});return}O=new AbortController;let Me=Ol(n.history,W,O.signal,te&&te.submission),Pe=new bw(n.unstable_getContext?await n.unstable_getContext():void 0),Be;if(te&&te.pendingError)Be=[_o(Ce).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&kr(te.submission.formMethod)){let Tt=await hr(Me,W,te.submission,Ce,Pe,Ae.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:Ue});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[gt,it]=Tt.pendingActionResult;if(Pr(it)&&td(it.error)&&it.error.status===404){O=null,jt(W,{matches:Tt.matches,loaderData:{},errors:{[gt]:it.error}});return}}Ce=Tt.matches||Ce,Be=Tt.pendingActionResult,be=n0(W,te.submission),Ue=!1,Ae.active=!1,Me=Ol(n.history,Me.url,Me.signal)}let{shortCircuited:De,matches:qe,loaderData:ct,errors:Ct}=await er(Me,W,Ce,Pe,Ae.active,be,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Ue,Be);De||(O=null,jt(W,{matches:qe||Ce,...Ow(Be),loaderData:ct,errors:Ct}))}async function hr(Q,W,te,fe,be,Ce,Ue,Ae={}){cs();let Me=kR(W,te);if(et({navigation:Me},{flushSync:Ae.flushSync===!0}),Ce){let De=await Fr(fe,W.pathname,Q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let qe=_o(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[qe,{type:"error",error:De.error}]}}else if(De.matches)fe=De.matches;else{let{notFoundMatches:qe,error:ct,route:Ct}=an(W.pathname);return{matches:qe,pendingActionResult:[Ct.id,{type:"error",error:ct}]}}}let Pe,Be=ku(fe,W);if(!Be.route.action&&!Be.route.lazy)Pe={type:"error",error:ss(405,{method:Q.method,pathname:W.pathname,routeId:Be.route.id})};else{let De=ql(a,o,Q,fe,Be,Ue?[]:r,be),qe=await nr(Q,De,be,null);if(Pe=qe[Be.route.id],!Pe){for(let ct of fe)if(qe[ct.route.id]){Pe=qe[ct.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Eo(Pe)){let De;return Ae&&Ae.replace!=null?De=Ae.replace:De=Aw(Pe.response.headers.get("Location"),new URL(Q.url),f)===L.location.pathname+L.location.search,await tr(Q,Pe,!0,{submission:te,replace:De}),{shortCircuited:!0}}if(Pr(Pe)){let De=_o(fe,Be.route.id);return(Ae&&Ae.replace)!==!0&&(k="PUSH"),{matches:fe,pendingActionResult:[De.route.id,Pe,Be.route.id]}}return{matches:fe,pendingActionResult:[Be.route.id,Pe]}}async function er(Q,W,te,fe,be,Ce,Ue,Ae,Me,Pe,Be,De){let qe=Ce||n0(W,Ue),ct=Ue||Ae||Pw(qe),Ct=!I&&!Pe;if(be){if(Ct){let on=Wt(De);et({navigation:qe,...on!==void 0?{actionData:on}:{}},{flushSync:Be})}let Ye=await Fr(te,W.pathname,Q.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let on=_o(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[on]:Ye.error}}}else if(Ye.matches)te=Ye.matches;else{let{error:on,notFoundMatches:Sr,route:mr}=an(W.pathname);return{matches:Sr,loaderData:{},errors:{[mr.id]:on}}}}let Tt=h||c,{dsMatches:gt,revalidatingFetchers:it}=Ew(Q,fe,a,o,n.history,L,te,ct,W,Pe?[]:r,Pe===!0,J,oe,ge,ce,H,Tt,f,De);if(ae=++se,!n.dataStrategy&&!gt.some(Ye=>Ye.shouldLoad)&&it.length===0){let Ye=Br();return jt(W,{matches:te,loaderData:{},errors:De&&Pr(De[1])?{[De[0]]:De[1].error}:null,...Ow(De),...Ye?{fetchers:new Map(L.fetchers)}:{}},{flushSync:Be}),{shortCircuited:!0}}if(Ct){let Ye={};if(!be){Ye.navigation=qe;let on=Wt(De);on!==void 0&&(Ye.actionData=on)}it.length>0&&(Ye.fetchers=Ns(it)),et(Ye,{flushSync:Be})}it.forEach(Ye=>{fr(Ye.key),Ye.controller&&$.set(Ye.key,Ye.controller)});let qr=()=>it.forEach(Ye=>fr(Ye.key));O&&O.signal.addEventListener("abort",qr);let{loaderResults:pn,fetcherResults:sr}=await Rs(gt,it,Q,fe);if(Q.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",qr),it.forEach(Ye=>$.delete(Ye.key));let Dn=nf(pn);if(Dn)return await tr(Q,Dn.result,!0,{replace:Me}),{shortCircuited:!0};if(Dn=nf(sr),Dn)return H.add(Dn.key),await tr(Q,Dn.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:js,errors:Tr}=Iw(L,te,pn,De,it,sr);Pe&&L.errors&&(Tr={...L.errors,...Tr});let zi=Br(),$n=Oe(ae),ir=zi||$n||it.length>0;return{matches:te,loaderData:js,errors:Tr,...ir?{fetchers:new Map(L.fetchers)}:{}}}function Wt(Q){if(Q&&!Pr(Q[1]))return{[Q[0]]:Q[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function Ns(Q){return Q.forEach(W=>{let te=L.fetchers.get(W.key),fe=ju(void 0,te?te.data:void 0);L.fetchers.set(W.key,fe)}),new Map(L.fetchers)}async function Cs(Q,W,te,fe){fr(Q);let be=(fe&&fe.flushSync)===!0,Ce=h||c,Ue=I0(L.location,L.matches,f,te,W,fe==null?void 0:fe.relative),Ae=ha(Ce,Ue,f),Me=Kt(Ae,Ce,Ue);if(Me.active&&Me.matches&&(Ae=Me.matches),!Ae){Ze(Q,W,ss(404,{pathname:Ue}),{flushSync:be});return}let{path:Pe,submission:Be,error:De}=_w(!0,Ue,fe);if(De){Ze(Q,W,De,{flushSync:be});return}let qe=ku(Ae,Pe),ct=new bw(n.unstable_getContext?await n.unstable_getContext():void 0),Ct=(fe&&fe.preventScrollReset)===!0;if(Be&&kr(Be.formMethod)){await As(Q,W,Pe,qe,Ae,ct,Me.active,be,Ct,Be);return}ce.set(Q,{routeId:W,path:Pe}),await ls(Q,W,Pe,qe,Ae,ct,Me.active,be,Ct,Be)}async function As(Q,W,te,fe,be,Ce,Ue,Ae,Me,Pe){cs(),ce.delete(Q);function Be(zt){if(!zt.route.action&&!zt.route.lazy){let Hr=ss(405,{method:Pe.formMethod,pathname:te,routeId:W});return Ze(Q,W,Hr,{flushSync:Ae}),!0}return!1}if(!Ue&&Be(fe))return;let De=L.fetchers.get(Q);xt(Q,LR(Pe,De),{flushSync:Ae});let qe=new AbortController,ct=Ol(n.history,te,qe.signal,Pe);if(Ue){let zt=await Fr(be,te,ct.signal,Q);if(zt.type==="aborted")return;if(zt.type==="error"){Ze(Q,W,zt.error,{flushSync:Ae});return}else if(zt.matches){if(be=zt.matches,fe=ku(be,te),Be(fe))return}else{Ze(Q,W,ss(404,{pathname:te}),{flushSync:Ae});return}}$.set(Q,qe);let Ct=se,Tt=ql(a,o,ct,be,fe,r,Ce),it=(await nr(ct,Tt,Ce,Q))[fe.route.id];if(ct.signal.aborted){$.get(Q)===qe&&$.delete(Q);return}if(ge.has(Q)){if(Eo(it)||Pr(it)){xt(Q,ua(void 0));return}}else{if(Eo(it))if($.delete(Q),ae>Ct){xt(Q,ua(void 0));return}else return H.add(Q),xt(Q,ju(Pe)),tr(ct,it,!1,{fetcherSubmission:Pe,preventScrollReset:Me});if(Pr(it)){Ze(Q,W,it.error);return}}let qr=L.navigation.location||L.location,pn=Ol(n.history,qr,qe.signal),sr=h||c,Dn=L.navigation.state!=="idle"?ha(sr,L.navigation.location,f):L.matches;ht(Dn,"Didn't find any matches after fetcher action");let js=++se;xe.set(Q,js);let Tr=ju(Pe,it.data);L.fetchers.set(Q,Tr);let{dsMatches:zi,revalidatingFetchers:$n}=Ew(pn,Ce,a,o,n.history,L,Dn,Pe,qr,r,!1,J,oe,ge,ce,H,sr,f,[fe.route.id,it]);$n.filter(zt=>zt.key!==Q).forEach(zt=>{let Hr=zt.key,ii=L.fetchers.get(Hr),Pn=ju(void 0,ii?ii.data:void 0);L.fetchers.set(Hr,Pn),fr(Hr),zt.controller&&$.set(Hr,zt.controller)}),et({fetchers:new Map(L.fetchers)});let ir=()=>$n.forEach(zt=>fr(zt.key));qe.signal.addEventListener("abort",ir);let{loaderResults:Ye,fetcherResults:on}=await Rs(zi,$n,pn,Ce);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ir),xe.delete(Q),$.delete(Q),$n.forEach(zt=>$.delete(zt.key));let Sr=nf(Ye);if(Sr)return tr(pn,Sr.result,!1,{preventScrollReset:Me});if(Sr=nf(on),Sr)return H.add(Sr.key),tr(pn,Sr.result,!1,{preventScrollReset:Me});let{loaderData:mr,errors:Os}=Iw(L,Dn,Ye,void 0,$n,on);if(L.fetchers.has(Q)){let zt=ua(it.data);L.fetchers.set(Q,zt)}Oe(js),L.navigation.state==="loading"&&js>ae?(ht(k,"Expected pending action"),O&&O.abort(),jt(L.navigation.location,{matches:Dn,loaderData:mr,errors:Os,fetchers:new Map(L.fetchers)})):(et({errors:Os,loaderData:jw(L.loaderData,mr,Dn,Os),fetchers:new Map(L.fetchers)}),J=!1)}async function ls(Q,W,te,fe,be,Ce,Ue,Ae,Me,Pe){let Be=L.fetchers.get(Q);xt(Q,ju(Pe,Be?Be.data:void 0),{flushSync:Ae});let De=new AbortController,qe=Ol(n.history,te,De.signal);if(Ue){let it=await Fr(be,te,qe.signal,Q);if(it.type==="aborted")return;if(it.type==="error"){Ze(Q,W,it.error,{flushSync:Ae});return}else if(it.matches)be=it.matches,fe=ku(be,te);else{Ze(Q,W,ss(404,{pathname:te}),{flushSync:Ae});return}}$.set(Q,De);let ct=se,Ct=ql(a,o,qe,be,fe,r,Ce),gt=(await nr(qe,Ct,Ce,Q))[fe.route.id];if($.get(Q)===De&&$.delete(Q),!qe.signal.aborted){if(ge.has(Q)){xt(Q,ua(void 0));return}if(Eo(gt))if(ae>ct){xt(Q,ua(void 0));return}else{H.add(Q),await tr(qe,gt,!1,{preventScrollReset:Me});return}if(Pr(gt)){Ze(Q,W,gt.error);return}xt(Q,ua(gt.data))}}async function tr(Q,W,te,{submission:fe,fetcherSubmission:be,preventScrollReset:Ce,replace:Ue}={}){W.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Ae=W.response.headers.get("Location");ht(Ae,"Expected a Location header on the redirect Response"),Ae=Aw(Ae,new URL(Q.url),f);let Me=ed(L.location,Ae,{_isRedirect:!0});if(t){let Ct=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Dy.test(Ae)){const Tt=n.history.createURL(Ae);Ct=Tt.origin!==e.location.origin||as(Tt.pathname,f)==null}if(Ct){Ue?e.location.replace(Ae):e.location.assign(Ae);return}}O=null;let Pe=Ue===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:De,formEncType:qe}=L.navigation;!fe&&!be&&Be&&De&&qe&&(fe=Pw(L.navigation));let ct=fe||be;if(xR.has(W.response.status)&&ct&&kr(ct.formMethod))await qt(Pe,Me,{submission:{...ct,formAction:Ae},preventScrollReset:Ce||R,enableViewTransition:te?P:void 0});else{let Ct=n0(Me,fe);await qt(Pe,Me,{overrideNavigation:Ct,fetcherSubmission:be,preventScrollReset:Ce||R,enableViewTransition:te?P:void 0})}}async function nr(Q,W,te,fe){let be,Ce={};try{be=await AR(p,Q,W,fe,te,!1)}catch(Ue){return W.filter(Ae=>Ae.shouldLoad).forEach(Ae=>{Ce[Ae.route.id]={type:"error",error:Ue}}),Ce}for(let[Ue,Ae]of Object.entries(be))if(DR(Ae)){let Me=Ae.result;Ce[Ue]={type:"redirect",response:jR(Me,Q,Ue,W,f)}}else Ce[Ue]=await IR(Ae);return Ce}async function Rs(Q,W,te,fe){let be=nr(te,Q,fe,null),Ce=Promise.all(W.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let Be=(await nr(Me.request,Me.matches,fe,Me.key))[Me.match.route.id];return{[Me.key]:Be}}else return Promise.resolve({[Me.key]:{type:"error",error:ss(404,{pathname:Me.path})}})})),Ue=await be,Ae=(await Ce).reduce((Me,Pe)=>Object.assign(Me,Pe),{});return{loaderResults:Ue,fetcherResults:Ae}}function cs(){J=!0,ce.forEach((Q,W)=>{$.has(W)&&oe.add(W),fr(W)})}function xt(Q,W,te={}){L.fetchers.set(Q,W),et({fetchers:new Map(L.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ze(Q,W,te,fe={}){let be=_o(L.matches,W);Qt(Q),et({errors:{[be.route.id]:te},fetchers:new Map(L.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function En(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),L.fetchers.get(Q)||bR}function Qt(Q){let W=L.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&xe.has(Q))&&fr(Q),ce.delete(Q),xe.delete(Q),H.delete(Q),ge.delete(Q),oe.delete(Q),L.fetchers.delete(Q)}function si(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),et({fetchers:new Map(L.fetchers)})}function fr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function Ur(Q){for(let W of Q){let te=En(W),fe=ua(te.data);L.fetchers.set(W,fe)}}function Br(){let Q=[],W=!1;for(let te of H){let fe=L.fetchers.get(te);ht(fe,`Expected fetcher: ${te}`),fe.state==="loading"&&(H.delete(te),Q.push(te),W=!0)}return Ur(Q),W}function Oe(Q){let W=[];for(let[te,fe]of xe)if(fe<Q){let be=L.fetchers.get(te);ht(be,`Expected fetcher: ${te}`),be.state==="loading"&&(fr(te),xe.delete(te),W.push(te))}return Ur(W),W.length>0}function je(Q,W){let te=L.blockers.get(Q)||Iu;return Se.get(Q)!==W&&Se.set(Q,W),te}function tt(Q){L.blockers.delete(Q),Se.delete(Q)}function pt(Q,W){let te=L.blockers.get(Q)||Iu;ht(te.state==="unblocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="proceeding"||te.state==="blocked"&&W.state==="unblocked"||te.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${W.state}`);let fe=new Map(L.blockers);fe.set(Q,W),et({blockers:fe})}function Ht({currentLocation:Q,nextLocation:W,historyAction:te}){if(Se.size===0)return;Se.size>1&&sn(!1,"A router only supports one blocker at a time");let fe=Array.from(Se.entries()),[be,Ce]=fe[fe.length-1],Ue=L.blockers.get(be);if(!(Ue&&Ue.state==="proceeding")&&Ce({currentLocation:Q,nextLocation:W,historyAction:te}))return be}function an(Q){let W=ss(404,{pathname:Q}),te=h||c,{matches:fe,route:be}=Mw(te);return{notFoundMatches:fe,route:be,error:W}}function rr(Q,W,te){if(E=Q,D=W,T=te||null,!C&&L.navigation===t0){C=!0;let fe=Mn(L.location,L.matches);fe!=null&&et({restoreScrollPosition:fe})}return()=>{E=null,D=null,T=null}}function On(Q,W){return T&&T(Q,W.map(fe=>WA(fe,L.loaderData)))||Q.key}function Hn(Q,W){if(E&&D){let te=On(Q,W);E[te]=D()}}function Mn(Q,W){if(E){let te=On(Q,W),fe=E[te];if(typeof fe=="number")return fe}return null}function Kt(Q,W,te){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:xf(W,te,f,!0)}}else return{active:!0,matches:xf(W,te,f,!0)||[]};return{active:!1,matches:null}}async function Fr(Q,W,te,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let be=Q;for(;;){let Ce=h==null,Ue=h||c,Ae=o;try{await n.patchRoutesOnNavigation({signal:te,path:W,matches:be,fetcherKey:fe,patch:(Be,De)=>{te.aborted||Tw(Be,De,Ue,Ae,a)}})}catch(Be){return{type:"error",error:Be,partialMatches:be}}finally{Ce&&!te.aborted&&(c=[...c])}if(te.aborted)return{type:"aborted"};let Me=ha(Ue,W,f);if(Me)return{type:"success",matches:Me};let Pe=xf(Ue,W,f,!0);if(!Pe||be.length===Pe.length&&be.every((Be,De)=>Be.route.id===Pe[De].route.id))return{type:"success",matches:null};be=Pe}}function Er(Q){o={},h=kf(Q,a,void 0,o)}function Is(Q,W){let te=h==null;Tw(Q,W,h||c,o,a),te&&(c=[...c],et({}))}return z={get basename(){return f},get future(){return y},get state(){return L},get routes(){return c},get window(){return e},initialize:ye,subscribe:lt,enableScrollRestoration:rr,navigate:$t,fetch:Cs,revalidate:mn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:En,deleteFetcher:si,dispose:Te,getBlocker:je,deleteBlocker:tt,patchRoutes:Is,_internalFetchControllers:$,_internalSetRoutes:Er},z}function ER(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function I0(n,e,t,r,a,o){let c,h;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){h=p;break}}else c=e,h=e[e.length-1];let f=My(r||".",Oy(c),as(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let p=Py(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(f.search),x=y.getAll("index");y.delete("index"),x.filter(E=>E).forEach(E=>y.append("index",E));let w=y.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Xs([t,f.pathname])),Pa(f)}function _w(n,e,t){if(!t||!ER(t))return{path:e};if(t.formMethod&&!PR(t.formMethod))return{path:e,error:ss(405,{method:t.formMethod})};let r=()=>({path:e,error:ss(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=ST(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!kr(o))return r();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[E,T])=>`${w}${E}=${T}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!kr(o))return r();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch{return r()}}}ht(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=M0(t.formData),f=t.formData;else if(t.body instanceof FormData)h=M0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=Rw(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=Rw(h)}catch{return r()}let p={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(kr(p.formMethod))return{path:e,submission:p};let y=qa(e);return n&&y.search&&Py(y.search)&&h.append("index",""),y.search=`?${h}`,{path:Pa(y),submission:p}}function Ew(n,e,t,r,a,o,c,h,f,p,y,x,w,E,T,D,C,N,S){var U;let b=S?Pr(S[1])?S[1].error:S[1].data:void 0,M=a.createURL(o.location),z=a.createURL(f),L;if(y&&o.errors){let I=Object.keys(o.errors)[0];L=c.findIndex(J=>J.route.id===I)}else if(S&&Pr(S[1])){let I=S[0];L=c.findIndex(J=>J.route.id===I)-1}let k=S?S[1].statusCode:void 0,R=k&&k>=400,O={currentUrl:M,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:z,nextParams:c[0].params,...h,actionResult:b,actionStatus:k},P=c.map((I,J)=>{let{route:oe}=I,$=null;if(L!=null&&J>L?$=!1:oe.lazy?$=!0:oe.loader==null?$=!1:y?$=j0(oe,o.loaderData,o.errors):TR(o.loaderData,o.matches[J],I)&&($=!0),$!==null)return O0(t,r,n,I,p,e,$);let se=R?!1:x||M.pathname+M.search===z.pathname+z.search||M.search!==z.search||SR(o.matches[J],I),ae={...O,defaultShouldRevalidate:se},xe=zf(I,ae);return O0(t,r,n,I,p,e,xe,ae)}),V=[];return T.forEach((I,J)=>{if(y||!c.some(ce=>ce.route.id===I.routeId)||E.has(J))return;let oe=ha(C,I.path,N);if(!oe){V.push({key:J,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(D.has(J))return;let $=o.fetchers.get(J),se=ku(oe,I.path),ae=new AbortController,xe=Ol(a,I.path,ae.signal),H=null;if(w.has(J))w.delete(J),H=ql(t,r,xe,oe,se,p,e);else if($&&$.state!=="idle"&&$.data===void 0)x&&(H=ql(t,r,xe,oe,se,p,e));else{let ce={...O,defaultShouldRevalidate:R?!1:x};zf(se,ce)&&(H=ql(t,r,xe,oe,se,p,e,ce))}H&&V.push({key:J,routeId:I.routeId,path:I.path,matches:H,match:se,request:xe,controller:ae})}),{dsMatches:P,revalidatingFetchers:V}}function j0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function TR(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function SR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function zf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Tw(n,e,t,r,a){let o;if(n){let f=r[n];ht(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let c=e.filter(f=>!o.some(p=>bT(f,p))),h=kf(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function bT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>bT(t,o))}):!1}var Sw=new WeakMap,wT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ht(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let c=Sw.get(a);c||(c={},Sw.set(a,c));let h=c[n];if(h)return h;let f=(async()=>{let p=QA(n),x=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)sn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(x)sn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(a,{[n]:w}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return c[n]=f,f},Nw=new WeakMap;function NR(n,e,t,r,a){let o=t[n.id];if(ht(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=Nw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let x=(async()=>{ht(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),E={};for(let T in w){let D=w[T];if(D===void 0)continue;let C=YA(T),S=o[T]!==void 0&&T!=="hasErrorBoundary";C?sn(!C,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?sn(!S,`Route "${o.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):E[T]=D}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return Nw.set(o,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let c=Object.keys(n.lazy),h=[],f;for(let y of c){if(a&&a.includes(y))continue;let x=wT({key:y,route:n,manifest:t,mapRouteProperties:r});x&&(h.push(x),y===e&&(f=x))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function Cw(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function CR(n){return n.matches.some(e=>e.route.unstable_middleware)?_T(n,!1,()=>Cw(n),(e,t)=>({[t]:{type:"error",result:e}})):Cw(n)}async function _T(n,e,t,r){let{matches:a,request:o,params:c,context:h}=n,f={handlerResult:void 0};try{let p=a.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(w=>[x.route.id,w]):[]),y=await ET({request:o,params:c,context:h},p,e,f,t);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function ET(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,p]=h,y=!1,x,w=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await ET(n,e,t,r,a,o+1)};try{let E=await p({request:n.request,params:n.params,context:n.context},w);return y?E===void 0?x:E:w()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:f,error:E}):r.middlewareError={routeId:f,error:E},E}}function TT(n,e,t,r,a){let o=wT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),c=NR(r.route,kr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function O0(n,e,t,r,a,o,c,h=null){let f=!1,p=TT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?zf(r,{...h,defaultShouldRevalidate:y}):zf(r,h):c},resolve(y){return f||c||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?RR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ql(n,e,t,r,a,o,c,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:TT(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:O0(n,e,t,f,o,c,!0,h))}async function AR(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let c={request:e,params:t[0].params,context:a,matches:t},f=await n({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=c;return _T(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(x,w)=>({[w]:{type:"error",result:x}}))}});try{await Promise.all(t.flatMap(p=>{var y,x;return[(y=p._lazyPromises)==null?void 0:y.handler,(x=p._lazyPromises)==null?void 0:x.route]}))}catch{}return f}async function RR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let c,h,f=kr(n.method),p=f?"action":"loader",y=x=>{let w,E=new Promise((C,N)=>w=N);h=()=>w(),n.signal.addEventListener("abort",h);let T=C=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):x({request:n,params:e.params,context:o},...C!==void 0?[C]:[]),D=(async()=>{try{return{type:"data",result:await(a?a(N=>T(N)):T())}}catch(C){return{type:"error",result:C}}})();return Promise.race([D,E])};try{let x=f?e.route.action:e.route.loader;if(t||r)if(x){let w,[E]=await Promise.all([y(x).catch(T=>{w=T}),t,r]);if(w!==void 0)throw w;c=E}else{await t;let w=f?e.route.action:e.route.loader;if(w)[c]=await Promise.all([y(w),r]);else if(p==="action"){let E=new URL(n.url),T=E.pathname+E.search;throw ss(405,{method:n.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)c=await y(x);else{let w=new URL(n.url),E=w.pathname+w.search;throw ss(404,{pathname:E})}}catch(x){return{type:"error",result:x}}finally{h&&n.signal.removeEventListener("abort",h)}return c}async function IR(n){var r,a,o,c,h,f;let{result:e,type:t}=n;if(NT(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Vf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?Dw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Vf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:td(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:td(e)?e.status:void 0}:Dw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function jR(n,e,t,r,a){let o=n.headers.get("Location");if(ht(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dy.test(o)){let c=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=I0(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function Aw(n,e,t){if(Dy.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=as(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Ol(n,e,t,r){let a=n.createURL(ST(e)).toString(),o={signal:t};if(r&&kr(r.formMethod)){let{formMethod:c,formEncType:h}=r;o.method=c.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=M0(r.formData):o.body=r.formData}return new Request(a,o)}function M0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Rw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function OR(n,e,t,r=!1,a=!1){let o={},c=null,h,f=!1,p={},y=t&&Pr(t[1])?t[1].error:void 0;return n.forEach(x=>{if(!(x.route.id in e))return;let w=x.route.id,E=e[w];if(ht(!Eo(E),"Cannot handle redirect results in processLoaderData"),Pr(E)){let T=E.error;if(y!==void 0&&(T=y,y=void 0),c=c||{},a)c[w]=T;else{let D=_o(n,w);c[D.route.id]==null&&(c[D.route.id]=T)}r||(o[w]=xT),f||(f=!0,h=td(E.error)?E.error.status:500),E.headers&&(p[w]=E.headers)}else o[w]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(h=E.statusCode),E.headers&&(p[w]=E.headers)}),y!==void 0&&t&&(c={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:h||200,loaderHeaders:p}}function Iw(n,e,t,r,a,o){let{loaderData:c,errors:h}=OR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:x}=f,w=o[p];if(ht(w,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(Pr(w)){let E=_o(n.matches,y==null?void 0:y.route.id);h&&h[E.route.id]||(h={...h,[E.route.id]:w.error}),n.fetchers.delete(p)}else if(Eo(w))ht(!1,"Unhandled fetcher revalidation redirect");else{let E=ua(w.data);n.fetchers.set(p,E)}}),{loaderData:c,errors:h}}function jw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==xT).reduce((o,[c,h])=>(o[c]=h,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function Ow(n){return n?Pr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function _o(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Mw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ss(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Vf(n||500,c,new Error(h),!0)}function nf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Eo(a))return{key:r,result:a}}}function ST(n){let e=typeof n=="string"?qa(n):n;return Pa({...e,hash:""})}function MR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function DR(n){return NT(n.result)&&vR.has(n.result.status)}function Pr(n){return n.type==="error"}function Eo(n){return(n&&n.type)==="redirect"}function Dw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function NT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function PR(n){return yR.has(n.toUpperCase())}function kr(n){return pR.has(n.toUpperCase())}function Py(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ku(n,e){let t=typeof e=="string"?qa(e).search:e.search;if(n[n.length-1].route.index&&Py(t||""))return n[n.length-1];let r=gT(n);return r[r.length-1]}function Pw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function n0(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ju(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ua(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function VR(n,e){try{let t=n.sessionStorage.getItem(vT);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function zR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(vT,JSON.stringify(t))}catch(r){sn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function UR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Fo=F.createContext(null);Fo.displayName="DataRouter";var bd=F.createContext(null);bd.displayName="DataRouterState";var ky=F.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var CT=F.createContext(new Map);CT.displayName="Fetchers";var BR=F.createContext(null);BR.displayName="Await";var ni=F.createContext(null);ni.displayName="Navigation";var ym=F.createContext(null);ym.displayName="Location";var Ss=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var Ly=F.createContext(null);Ly.displayName="RouteError";function FR(n,{relative:e}={}){ht(wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(ni),{hash:a,pathname:o,search:c}=Ed(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Xs([t,o])),r.createHref({pathname:h,search:c,hash:a})}function wd(){return F.useContext(ym)!=null}function ri(){return ht(wd(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ym).location}var AT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(n){F.useContext(ni).static||F.useLayoutEffect(n)}function _d(){let{isDataRoute:n}=F.useContext(Ss);return n?rI():qR()}function qR(){ht(wd(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Fo),{basename:e,navigator:t}=F.useContext(ni),{matches:r}=F.useContext(Ss),{pathname:a}=ri(),o=JSON.stringify(Oy(r)),c=F.useRef(!1);return RT(()=>{c.current=!0}),F.useCallback((f,p={})=>{if(sn(c.current,AT),!c.current)return;if(typeof f=="number"){t.go(f);return}let y=My(f,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var HR=F.createContext(null);function $R(n){let e=F.useContext(Ss).outlet;return e&&F.createElement(HR.Provider,{value:n},e)}function Vy(){let{matches:n}=F.useContext(Ss),e=n[n.length-1];return e?e.params:{}}function Ed(n,{relative:e}={}){let{matches:t}=F.useContext(Ss),{pathname:r}=ri(),a=JSON.stringify(Oy(t));return F.useMemo(()=>My(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function GR(n,e,t,r){ht(wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=F.useContext(ni),{matches:c}=F.useContext(Ss),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let S=x&&x.path||"";IT(p,!x||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let w=ri(),E;E=w;let T=E.pathname||"/",D=T;if(y!=="/"){let S=y.replace(/^\//,"").split("/");D="/"+T.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:ha(n,{pathname:D});return sn(x||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),sn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WR(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Xs([y,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?y:Xs([y,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),c,t,r)}function QR(){let n=nI(),e=td(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var KR=F.createElement(QR,null),YR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Ss.Provider,{value:this.props.routeContext},F.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XR({routeContext:n,match:e,children:t}){let r=F.useContext(Fo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ss.Provider,{value:n},t)}function WR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:x}=t,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let x,w=!1,E=null,T=null;t&&(x=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||KR,c&&(h<0&&y===0?(IT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):h===y&&(w=!0,T=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),C=()=>{let N;return x?N=E:w?N=T:p.route.Component?N=F.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,F.createElement(XR,{match:p,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?F.createElement(YR,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function zy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(n){let e=F.useContext(Fo);return ht(e,zy(n)),e}function JR(n){let e=F.useContext(bd);return ht(e,zy(n)),e}function eI(n){let e=F.useContext(Ss);return ht(e,zy(n)),e}function Uy(n){let e=eI(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tI(){return Uy("useRouteId")}function nI(){var r;let n=F.useContext(Ly),e=JR("useRouteError"),t=Uy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rI(){let{router:n}=ZR("useNavigate"),e=Uy("useNavigate"),t=F.useRef(!1);return RT(()=>{t.current=!0}),F.useCallback(async(a,o={})=>{sn(t.current,AT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var kw={};function IT(n,e,t){!e&&!kw[n]&&(kw[n]=!0,sn(!1,t))}var Lw={};function Vw(n,e){!n&&!Lw[e]&&(Lw[e]=!0,console.warn(e))}function sI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var iI=["HydrateFallback","hydrateFallbackElement"],aI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function oI({router:n,flushSync:e}){let[t,r]=F.useState(n.state),[a,o]=F.useState(),[c,h]=F.useState({isTransitioning:!1}),[f,p]=F.useState(),[y,x]=F.useState(),[w,E]=F.useState(),T=F.useRef(new Map),D=F.useCallback((b,{deletedFetchers:M,flushSync:z,viewTransitionOpts:L})=>{b.fetchers.forEach((R,O)=>{R.data!==void 0&&T.current.set(O,R.data)}),M.forEach(R=>T.current.delete(R)),Vw(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Vw(L==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!k){e&&z?e(()=>r(b)):F.startTransition(()=>r(b));return}if(e&&z){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(b))});R.finished.finally(()=>{e(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>x(R));return}y?(f&&f.resolve(),y.skipTransition(),E({state:b,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(o(b),h({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,y,f]);F.useLayoutEffect(()=>n.subscribe(D),[n,D]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new aI)},[c]),F.useEffect(()=>{if(f&&a&&n.window){let b=a,M=f.promise,z=n.window.document.startViewTransition(async()=>{F.startTransition(()=>r(b)),await M});z.finished.finally(()=>{p(void 0),x(void 0),o(void 0),h({isTransitioning:!1})}),x(z)}},[a,f,n.window]),F.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),F.useEffect(()=>{!c.isTransitioning&&w&&(o(w.state),h({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[c.isTransitioning,w]);let C=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,M,z)=>n.navigate(b,{state:M,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(b,M,z)=>n.navigate(b,{replace:!0,state:M,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),N=n.basename||"/",S=F.useMemo(()=>({router:n,navigator:C,static:!1,basename:N}),[n,C,N]);return F.createElement(F.Fragment,null,F.createElement(Fo.Provider,{value:S},F.createElement(bd.Provider,{value:t},F.createElement(CT.Provider,{value:T.current},F.createElement(ky.Provider,{value:c},F.createElement(uI,{basename:N,location:t.location,navigationType:t.historyAction,navigator:C},F.createElement(lI,{routes:n.routes,future:n.future,state:t})))))),null)}var lI=F.memo(cI);function cI({routes:n,future:e,state:t}){return GR(n,void 0,t,e)}function jT(n){return $R(n.context)}function uI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ht(!wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=qa(t));let{pathname:f="/",search:p="",hash:y="",state:x=null,key:w="default"}=t,E=F.useMemo(()=>{let T=as(f,c);return T==null?null:{location:{pathname:T,search:p,hash:y,state:x,key:w},navigationType:r}},[c,f,p,y,x,w,r]);return sn(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:F.createElement(ni.Provider,{value:h},F.createElement(ym.Provider,{children:e,value:E}))}var bf="get",wf="application/x-www-form-urlencoded";function vm(n){return n!=null&&typeof n.tagName=="string"}function dI(n){return vm(n)&&n.tagName.toLowerCase()==="button"}function hI(n){return vm(n)&&n.tagName.toLowerCase()==="form"}function fI(n){return vm(n)&&n.tagName.toLowerCase()==="input"}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}function D0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function gI(n,e){let t=D0(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var rf=null;function yI(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var vI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function r0(n){return n!=null&&!vI.has(n)?(sn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):n}function xI(n,e){let t,r,a,o,c;if(hI(n)){let h=n.getAttribute("action");r=h?as(h,e):null,t=n.getAttribute("method")||bf,a=r0(n.getAttribute("enctype"))||wf,o=new FormData(n)}else if(dI(n)||fI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?as(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||bf,a=r0(n.getAttribute("formenctype"))||r0(h.getAttribute("enctype"))||wf,o=new FormData(h,n),!yI()){let{name:p,type:y,value:x}=n;if(y==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,x)}}else{if(vm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bf,r=null,a=wf,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function By(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function bI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _I(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await bI(o,t);return c.links?c.links():[]}return[]}));return NI(r.flat(1).filter(wI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zw(n,e,t,r,a,o){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var x;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function EI(n,e,{includeHydrateFallback:t}={}){return TI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function TI(n){return[...new Set(n)]}function SI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function NI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(SI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var CI=new Set([100,101,204,205]);function AI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&as(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function OT(){let n=F.useContext(Fo);return By(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RI(){let n=F.useContext(bd);return By(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=F.createContext(void 0);Fy.displayName="FrameworkContext";function MT(){let n=F.useContext(Fy);return By(n,"You must render this element inside a <HydratedRouter> element"),n}function II(n,e){let t=F.useContext(Fy),[r,a]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=e,w=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let D=N=>{N.forEach(S=>{c(S.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[n]),F.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let E=()=>{a(!0)},T=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Ou(h,E),onBlur:Ou(f,T),onMouseEnter:Ou(p,E),onMouseLeave:Ou(y,T),onTouchStart:Ou(x,E)}]:[!1,w,{}]}function Ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jI({page:n,...e}){let{router:t}=OT(),r=F.useMemo(()=>ha(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(MI,{page:n,matches:r,...e}):null}function OI(n){let{manifest:e,routeModules:t}=MT(),[r,a]=F.useState([]);return F.useEffect(()=>{let o=!1;return _I(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function MI({page:n,matches:e,...t}){let r=ri(),{manifest:a,routeModules:o}=MT(),{basename:c}=OT(),{loaderData:h,matches:f}=RI(),p=F.useMemo(()=>zw(n,e,f,a,r,"data"),[n,e,f,a,r]),y=F.useMemo(()=>zw(n,e,f,a,r,"assets"),[n,e,f,a,r]),x=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,D=!1;if(e.forEach(N=>{var b;let S=a.routes[N.route.id];!S||!S.hasLoader||(!p.some(M=>M.route.id===N.route.id)&&N.route.id in h&&((b=o[N.route.id])!=null&&b.shouldRevalidate)||S.hasClientLoader?D=!0:T.add(N.route.id))}),T.size===0)return[];let C=AI(n,c);return D&&T.size>0&&C.searchParams.set("_routes",e.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[c,h,r,a,p,e,n,o]),w=F.useMemo(()=>EI(y,a),[y,a]),E=OI(y);return F.createElement(F.Fragment,null,x.map(T=>F.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),w.map(T=>F.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),E.map(({key:T,link:D})=>F.createElement("link",{key:T,...D})))}function DI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DT&&(window.__reactRouterVersion="7.5.3")}catch{}function PI(n,e){return _R({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:qA({window:e==null?void 0:e.window}),hydrationData:kI(),routes:n,mapRouteProperties:sI,hydrationRouteProperties:iI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function kI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:LI(n.errors)}),n}function LI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Vf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:y,viewTransition:x,...w},E){let{basename:T}=F.useContext(ni),D=typeof p=="string"&&PT.test(p),C,N=!1;if(typeof p=="string"&&D&&(C=p,DT))try{let O=new URL(window.location.href),P=p.startsWith("//")?new URL(O.protocol+p):new URL(p),V=as(P.pathname,T);P.origin===O.origin&&V!=null?p=V+P.search+P.hash:N=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=FR(p,{relative:a}),[b,M,z]=II(r,w),L=BI(p,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:x});function k(O){e&&e(O),O.defaultPrevented||L(O)}let R=F.createElement("a",{...w,...z,href:C||S,onClick:N||o?e:k,ref:DI(E,M),target:f,"data-discover":!D&&t==="render"?"true":void 0});return b&&!D?F.createElement(F.Fragment,null,R,F.createElement(jI,{page:S})):R});ot.displayName="Link";var VI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...p},y){let x=Ed(c,{relative:p.relative}),w=ri(),E=F.useContext(bd),{navigator:T,basename:D}=F.useContext(ni),C=E!=null&&QI(x)&&h===!0,N=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,S=w.pathname,b=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(S=S.toLowerCase(),b=b?b.toLowerCase():null,N=N.toLowerCase()),b&&D&&(b=as(b,D)||b);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let z=S===N||!a&&S.startsWith(N)&&S.charAt(M)==="/",L=b!=null&&(b===N||!a&&b.startsWith(N)&&b.charAt(N.length)==="/"),k={isActive:z,isPending:L,isTransitioning:C},R=z?e:void 0,O;typeof r=="function"?O=r(k):O=[r,z?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(k):o;return F.createElement(ot,{...p,"aria-current":R,className:O,ref:y,style:P,to:c,viewTransition:h},typeof f=="function"?f(k):f)});VI.displayName="NavLink";var zI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=bf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:x,...w},E)=>{let T=$I(),D=GI(h,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&PT.test(h),S=b=>{if(f&&f(b),b.defaultPrevented)return;b.preventDefault();let M=b.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||c;T(M||b.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:x})};return F.createElement("form",{ref:E,method:C,action:D,onSubmit:r?f:S,...w,"data-discover":!N&&n==="render"?"true":void 0})});zI.displayName="Form";function UI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kT(n){let e=F.useContext(Fo);return ht(e,UI(n)),e}function BI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=_d(),f=ri(),p=Ed(n,{relative:o});return F.useCallback(y=>{if(pI(y,e)){y.preventDefault();let x=t!==void 0?t:Pa(f)===Pa(p);h(n,{replace:x,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,p,t,r,e,n,a,o,c])}function FI(n){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(D0(n)),t=F.useRef(!1),r=ri(),a=F.useMemo(()=>gI(r.search,t.current?null:e.current),[r.search]),o=_d(),c=F.useCallback((h,f)=>{const p=D0(typeof h=="function"?h(a):h);t.current=!0,o("?"+p,f)},[o,a]);return[a,c]}var qI=0,HI=()=>`__${String(++qI)}__`;function $I(){let{router:n}=kT("useSubmit"),{basename:e}=F.useContext(ni),t=tI();return F.useCallback(async(r,a={})=>{let{action:o,method:c,encType:h,formData:f,body:p}=xI(r,e);if(a.navigate===!1){let y=a.fetcherKey||HI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function GI(n,{relative:e}={}){let{basename:t}=F.useContext(ni),r=F.useContext(Ss);ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ed(n||".",{relative:e})},c=ri();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xs([t,o.pathname])),Pa(o)}function QI(n,e={}){let t=F.useContext(ky);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kT("useViewTransitionState"),a=Ed(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=as(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=as(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Lf(a.pathname,c)!=null||Lf(a.pathname,o)!=null}new TextEncoder;[...CI];var KI=hT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YI(n){return F.createElement(oI,{flushSync:KI.flushSync,...n})}var sf={},Uw;function XI(){if(Uw)return sf;Uw=1;function n(o){if(typeof window>"u")return;const c=document.createElement("style");return c.setAttribute("type","text/css"),c.innerHTML=o,document.head.appendChild(c),o}Object.defineProperty(sf,"__esModule",{value:!0});var e=gm();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:c={},className:h="",autoFill:f=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:x=!1,direction:w="left",speed:E=50,delay:T=0,loop:D=0,gradient:C=!1,gradientColor:N="white",gradientWidth:S=200,onFinish:b,onCycleComplete:M,onMount:z,children:L},k){const[R,O]=e.useState(0),[P,V]=e.useState(0),[U,I]=e.useState(1),[J,oe]=e.useState(!1),$=e.useRef(null),se=k||$,ae=e.useRef(null),xe=e.useCallback(()=>{if(ae.current&&se.current){const Ee=se.current.getBoundingClientRect(),ye=ae.current.getBoundingClientRect();let Te=Ee.width,lt=ye.width;(w==="up"||w==="down")&&(Te=Ee.height,lt=ye.height),I(f&&Te&&lt&&lt<Te?Math.ceil(Te/lt):1),O(Te),V(lt)}},[f,se,w]);e.useEffect(()=>{if(J&&(xe(),ae.current&&se.current)){const Ee=new ResizeObserver(()=>xe());return Ee.observe(se.current),Ee.observe(ae.current),()=>{Ee&&Ee.disconnect()}}},[xe,se,J]),e.useEffect(()=>{xe()},[xe,L]),e.useEffect(()=>{oe(!0)},[]),e.useEffect(()=>{typeof z=="function"&&z()},[]);const H=e.useMemo(()=>f?P*U/E:P<R?R/E:P/E,[f,R,P,U,E]),ce=e.useMemo(()=>Object.assign(Object.assign({},c),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!x||x?"paused":"running","--width":w==="up"||w==="down"?"100vh":"100%","--transform":w==="up"?"rotate(-90deg)":w==="down"?"rotate(90deg)":"none"}),[c,p,y,x,w]),ve=e.useMemo(()=>({"--gradient-color":N,"--gradient-width":typeof S=="number"?`${S}px`:S}),[N,S]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":w==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${T}s`,"--iteration-count":D?`${D}`:"infinite","--min-width":f?"auto":"100%"}),[p,w,H,T,D,f]),Se=e.useMemo(()=>({"--transform":w==="up"?"rotate(90deg)":w==="down"?"rotate(-90deg)":"none"}),[w]),ze=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(L,lt=>r.default.createElement("div",{style:Se,className:"rfm-child"},lt)))),[Se,L]);return J?r.default.createElement("div",{ref:se,style:ce,className:"rfm-marquee-container "+h},C&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:M,onAnimationEnd:b},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(L,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),ze(U-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},ze(U))):null});return sf.default=a,sf}var WI=XI();const LT=dT(WI);var VT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bw=Le.createContext&&Le.createContext(VT),ZI=["attr","size","title"];function JI(n,e){if(n==null)return{};var t=ej(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ej(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Uf(){return Uf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uf.apply(this,arguments)}function Fw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Bf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fw(Object(t),!0).forEach(function(r){tj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tj(n,e,t){return e=nj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nj(n){var e=rj(n,"string");return typeof e=="symbol"?e:e+""}function rj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zT(n){return n&&n.map((e,t)=>Le.createElement(e.tag,Bf({key:t},e.attr),zT(e.child)))}function Td(n){return e=>Le.createElement(sj,Uf({attr:Bf({},n.attr)},e),zT(n.child))}function sj(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=JI(n,ZI),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Le.createElement("svg",Uf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:f,style:Bf(Bf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Le.createElement("title",null,o),n.children)};return Bw!==void 0?Le.createElement(Bw.Consumer,null,t=>e(t)):e(VT)}function ij(n){return Td({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function aj(n){return Td({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function qw(n){return Td({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function oj(n){return Td({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const lj=()=>{};var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},cj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=o>>2,x=(o&3)<<4|h>>4;let w=(h&15)<<2|p>>6,E=p&63;f||(E=64,c||(w=64)),r.push(t[y],t[x],t[w],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||x==null)throw new uj;const w=o<<2|h>>4;if(r.push(w),p!==64){const E=h<<4&240|p>>2;if(r.push(E),x!==64){const T=p<<6&192|x;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dj=function(n){const e=UT(n);return BT.encodeByteArray(e,!0)},Ff=function(n){return dj(n).replace(/\./g,"")},FT=function(n){try{return BT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=()=>hj().__FIREBASE_DEFAULTS__,mj=()=>{if(typeof process>"u"||typeof Hw>"u")return;const n=Hw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FT(n[1]);return e&&JSON.parse(e)},xm=()=>{try{return lj()||fj()||mj()||pj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qT=n=>{var e,t;return(t=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gj=n=>{const e=qT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},HT=()=>{var n;return(n=xm())===null||n===void 0?void 0:n.config},$T=n=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ff(JSON.stringify(t)),Ff(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function bj(){var n;const e=(n=xm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _j(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ej(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tj(){const n=Jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sj(){return!bj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nj(){try{return typeof indexedDB=="object"}catch{return!1}}function Cj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="FirebaseError";class Vi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Aj,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sd.prototype.create)}}class Sd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?Rj(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Vi(a,h,r)}}function Rj(n,e){return n.replace(Ij,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Ij=/\{\$([^}]+)}/g;function jj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ka(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if($w(o)&&$w(c)){if(!ka(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function $w(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Vu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Oj(n,e){const t=new Mj(n,e);return t.subscribe.bind(t)}class Mj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Dj(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=s0),a.error===void 0&&(a.error=s0),a.complete===void 0&&(a.complete=s0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function s0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Po{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lj(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kj(n){return n===wo?void 0:n}function Lj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const zj={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},Uj=ft.INFO,Bj={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},Fj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Bj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qy{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=Fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const qj=(n,e)=>e.some(t=>n instanceof t);let Gw,Qw;function Hj(){return Gw||(Gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $j(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,P0=new WeakMap,QT=new WeakMap,i0=new WeakMap,Hy=new WeakMap;function Gj(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ra(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&GT.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function Qj(n){if(P0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});P0.set(n,e)}let k0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return P0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Kj(n){k0=n(k0)}function Yj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(a0(this),e,...t);return QT.set(r,e.sort?e.sort():[e]),Ra(r)}:$j().includes(n)?function(...e){return n.apply(a0(this),e),Ra(GT.get(this))}:function(...e){return Ra(n.apply(a0(this),e))}}function Xj(n){return typeof n=="function"?Yj(n):(n instanceof IDBTransaction&&Qj(n),qj(n,Hj())?new Proxy(n,k0):n)}function Ra(n){if(n instanceof IDBRequest)return Gj(n);if(i0.has(n))return i0.get(n);const e=Xj(n);return e!==n&&(i0.set(n,e),Hy.set(e,n)),e}const a0=n=>Hy.get(n);function Wj(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=Ra(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ra(c.result),f.oldVersion,f.newVersion,Ra(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Zj=["get","getKey","getAll","getAllKeys","count"],Jj=["put","add","delete","clear"],o0=new Map;function Kw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(o0.get(e))return o0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Jj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Zj.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return o0.set(e,o),o}Kj(n=>({...n,get:(e,t,r)=>Kw(e,t)||n.get(e,t,r),has:(e,t)=>!!Kw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function t4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const L0="@firebase/app",Yw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new qy("@firebase/app"),n4="@firebase/app-compat",r4="@firebase/analytics-compat",s4="@firebase/analytics",i4="@firebase/app-check-compat",a4="@firebase/app-check",o4="@firebase/auth",l4="@firebase/auth-compat",c4="@firebase/database",u4="@firebase/data-connect",d4="@firebase/database-compat",h4="@firebase/functions",f4="@firebase/functions-compat",m4="@firebase/installations",p4="@firebase/installations-compat",g4="@firebase/messaging",y4="@firebase/messaging-compat",v4="@firebase/performance",x4="@firebase/performance-compat",b4="@firebase/remote-config",w4="@firebase/remote-config-compat",_4="@firebase/storage",E4="@firebase/storage-compat",T4="@firebase/firestore",S4="@firebase/vertexai",N4="@firebase/firestore-compat",C4="firebase",A4="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="[DEFAULT]",R4={[L0]:"fire-core",[n4]:"fire-core-compat",[s4]:"fire-analytics",[r4]:"fire-analytics-compat",[a4]:"fire-app-check",[i4]:"fire-app-check-compat",[o4]:"fire-auth",[l4]:"fire-auth-compat",[c4]:"fire-rtdb",[u4]:"fire-data-connect",[d4]:"fire-rtdb-compat",[h4]:"fire-fn",[f4]:"fire-fn-compat",[m4]:"fire-iid",[p4]:"fire-iid-compat",[g4]:"fire-fcm",[y4]:"fire-fcm-compat",[v4]:"fire-perf",[x4]:"fire-perf-compat",[b4]:"fire-rc",[w4]:"fire-rc-compat",[_4]:"fire-gcs",[E4]:"fire-gcs-compat",[T4]:"fire-fst",[N4]:"fire-fst-compat",[S4]:"fire-vertex","fire-js":"fire-js",[C4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,I4=new Map,z0=new Map;function Xw(n,e){try{n.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uc(n){const e=n.name;if(z0.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,n);for(const t of qf.values())Xw(t,n);for(const t of I4.values())Xw(t,n);return!0}function $y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Sd("app","Firebase",j4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=A4;function KT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ia.create("bad-app-name",{appName:String(a)});if(t||(t=HT()),!t)throw Ia.create("no-options");const o=qf.get(a);if(o){if(ka(t,o.options)&&ka(r,o.config))return o;throw Ia.create("duplicate-app",{appName:a})}const c=new Vj(a);for(const f of z0.values())c.addComponent(f);const h=new O4(t,r,c);return qf.set(a,h),h}function YT(n=V0){const e=qf.get(n);if(!e&&n===V0&&HT())return KT();if(!e)throw Ia.create("no-app",{appName:n});return e}function ja(n,e,t){var r;let a=(r=R4[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(h.join(" "));return}uc(new Po(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",D4=1,nd="firebase-heartbeat-store";let l0=null;function XT(){return l0||(l0=Wj(M4,D4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ia.create("idb-open",{originalErrorMessage:n.message})})),l0}async function P4(n){try{const t=(await XT()).transaction(nd),r=await t.objectStore(nd).get(WT(n));return await t.done,r}catch(e){if(e instanceof Vi)Oi.warn(e.message);else{const t=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function Ww(n,e){try{const r=(await XT()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,WT(n)),await r.done}catch(t){if(t instanceof Vi)Oi.warn(t.message);else{const r=Ia.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(r.message)}}}function WT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1024,L4=30;class V4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>L4){const c=B4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Zw(),{heartbeatsToSend:r,unsentEntries:a}=z4(this._heartbeatsCache.heartbeats),o=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Oi.warn(t),""}}}function Zw(){return new Date().toISOString().substring(0,10)}function z4(n,e=k4){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Jw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Jw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nj()?Cj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ww(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Jw(n){return Ff(JSON.stringify({version:2,heartbeats:n})).length}function B4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){uc(new Po("platform-logger",e=>new e4(e),"PRIVATE")),uc(new Po("heartbeat",e=>new V4(e),"PRIVATE")),ja(L0,Yw,n),ja(L0,Yw,"esm2017"),ja("fire-js","")}F4("");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,ZT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function O(){}O.prototype=R.prototype,k.D=R.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(P,V,U){for(var I=Array(arguments.length-2),J=2;J<arguments.length;J++)I[J-2]=arguments[J];return R.prototype[V].apply(P,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,R,O){O||(O=0);var P=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)P[V]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(V=0;16>V;++V)P[V]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=k.g[0],O=k.g[1],V=k.g[2];var U=k.g[3],I=R+(U^O&(V^U))+P[0]+3614090360&4294967295;R=O+(I<<7&4294967295|I>>>25),I=U+(V^R&(O^V))+P[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=V+(O^U&(R^O))+P[2]+606105819&4294967295,V=U+(I<<17&4294967295|I>>>15),I=O+(R^V&(U^R))+P[3]+3250441966&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(U^O&(V^U))+P[4]+4118548399&4294967295,R=O+(I<<7&4294967295|I>>>25),I=U+(V^R&(O^V))+P[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=V+(O^U&(R^O))+P[6]+2821735955&4294967295,V=U+(I<<17&4294967295|I>>>15),I=O+(R^V&(U^R))+P[7]+4249261313&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(U^O&(V^U))+P[8]+1770035416&4294967295,R=O+(I<<7&4294967295|I>>>25),I=U+(V^R&(O^V))+P[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=V+(O^U&(R^O))+P[10]+4294925233&4294967295,V=U+(I<<17&4294967295|I>>>15),I=O+(R^V&(U^R))+P[11]+2304563134&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(U^O&(V^U))+P[12]+1804603682&4294967295,R=O+(I<<7&4294967295|I>>>25),I=U+(V^R&(O^V))+P[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=V+(O^U&(R^O))+P[14]+2792965006&4294967295,V=U+(I<<17&4294967295|I>>>15),I=O+(R^V&(U^R))+P[15]+1236535329&4294967295,O=V+(I<<22&4294967295|I>>>10),I=R+(V^U&(O^V))+P[1]+4129170786&4294967295,R=O+(I<<5&4294967295|I>>>27),I=U+(O^V&(R^O))+P[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(U^R))+P[11]+643717713&4294967295,V=U+(I<<14&4294967295|I>>>18),I=O+(U^R&(V^U))+P[0]+3921069994&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^U&(O^V))+P[5]+3593408605&4294967295,R=O+(I<<5&4294967295|I>>>27),I=U+(O^V&(R^O))+P[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(U^R))+P[15]+3634488961&4294967295,V=U+(I<<14&4294967295|I>>>18),I=O+(U^R&(V^U))+P[4]+3889429448&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^U&(O^V))+P[9]+568446438&4294967295,R=O+(I<<5&4294967295|I>>>27),I=U+(O^V&(R^O))+P[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(U^R))+P[3]+4107603335&4294967295,V=U+(I<<14&4294967295|I>>>18),I=O+(U^R&(V^U))+P[8]+1163531501&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(V^U&(O^V))+P[13]+2850285829&4294967295,R=O+(I<<5&4294967295|I>>>27),I=U+(O^V&(R^O))+P[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=V+(R^O&(U^R))+P[7]+1735328473&4294967295,V=U+(I<<14&4294967295|I>>>18),I=O+(U^R&(V^U))+P[12]+2368359562&4294967295,O=V+(I<<20&4294967295|I>>>12),I=R+(O^V^U)+P[5]+4294588738&4294967295,R=O+(I<<4&4294967295|I>>>28),I=U+(R^O^V)+P[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=V+(U^R^O)+P[11]+1839030562&4294967295,V=U+(I<<16&4294967295|I>>>16),I=O+(V^U^R)+P[14]+4259657740&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^U)+P[1]+2763975236&4294967295,R=O+(I<<4&4294967295|I>>>28),I=U+(R^O^V)+P[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=V+(U^R^O)+P[7]+4139469664&4294967295,V=U+(I<<16&4294967295|I>>>16),I=O+(V^U^R)+P[10]+3200236656&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^U)+P[13]+681279174&4294967295,R=O+(I<<4&4294967295|I>>>28),I=U+(R^O^V)+P[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=V+(U^R^O)+P[3]+3572445317&4294967295,V=U+(I<<16&4294967295|I>>>16),I=O+(V^U^R)+P[6]+76029189&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(O^V^U)+P[9]+3654602809&4294967295,R=O+(I<<4&4294967295|I>>>28),I=U+(R^O^V)+P[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=V+(U^R^O)+P[15]+530742520&4294967295,V=U+(I<<16&4294967295|I>>>16),I=O+(V^U^R)+P[2]+3299628645&4294967295,O=V+(I<<23&4294967295|I>>>9),I=R+(V^(O|~U))+P[0]+4096336452&4294967295,R=O+(I<<6&4294967295|I>>>26),I=U+(O^(R|~V))+P[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=V+(R^(U|~O))+P[14]+2878612391&4294967295,V=U+(I<<15&4294967295|I>>>17),I=O+(U^(V|~R))+P[5]+4237533241&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~U))+P[12]+1700485571&4294967295,R=O+(I<<6&4294967295|I>>>26),I=U+(O^(R|~V))+P[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=V+(R^(U|~O))+P[10]+4293915773&4294967295,V=U+(I<<15&4294967295|I>>>17),I=O+(U^(V|~R))+P[1]+2240044497&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~U))+P[8]+1873313359&4294967295,R=O+(I<<6&4294967295|I>>>26),I=U+(O^(R|~V))+P[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=V+(R^(U|~O))+P[6]+2734768916&4294967295,V=U+(I<<15&4294967295|I>>>17),I=O+(U^(V|~R))+P[13]+1309151649&4294967295,O=V+(I<<21&4294967295|I>>>11),I=R+(V^(O|~U))+P[4]+4149444226&4294967295,R=O+(I<<6&4294967295|I>>>26),I=U+(O^(R|~V))+P[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=V+(R^(U|~O))+P[2]+718787259&4294967295,V=U+(I<<15&4294967295|I>>>17),I=O+(U^(V|~R))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var O=R-this.blockSize,P=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=O;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(P[V++]=k.charCodeAt(U++),V==this.blockSize){a(this,P),V=0;break}}else for(;U<R;)if(P[V++]=k[U++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var O=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=O&255,O/=256;for(this.u(k),k=Array(16),R=O=0;4>R;++R)for(var P=0;32>P;P+=8)k[O++]=this.g[R]>>>P&255;return k};function o(k,R){var O=h;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=R(k)}function c(k,R){this.h=R;for(var O=[],P=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;P&&U==R||(O[V]=U,P=!1)}this.g=O}var h={};function f(k){return-128<=k&&128>k?o(k,function(R){return new c([R|0],0>R?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return C(p(-k));for(var R=[],O=1,P=0;k>=O;P++)R[P]=k/O|0,O*=4294967296;return new c(R,0)}function y(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(y(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(R,8)),P=x,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),I=parseInt(k.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),P=P.j(U).add(p(I))):(P=P.j(O),P=P.add(p(I)))}return P}var x=f(0),w=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(D(this))return-C(this).m();for(var k=0,R=1,O=0;O<this.g.length;O++){var P=this.i(O);k+=(0<=P?P:4294967296+P)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(D(this))return"-"+C(this).toString(k);for(var R=p(Math.pow(k,6)),O=this,P="";;){var V=M(O,R).g;O=N(O,V.j(R));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=V,T(O))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=N(this,k),D(k)?-1:T(k)?0:1};function C(k){for(var R=k.g.length,O=[],P=0;P<R;P++)O[P]=~k.g[P];return new c(O,~k.h).add(w)}n.abs=function(){return D(this)?C(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],P=0,V=0;V<=R;V++){var U=P+(this.i(V)&65535)+(k.i(V)&65535),I=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=I>>>16,U&=65535,I&=65535,O[V]=I<<16|U}return new c(O,O[O.length-1]&-2147483648?-1:0)};function N(k,R){return k.add(C(R))}n.j=function(k){if(T(this)||T(k))return x;if(D(this))return D(k)?C(this).j(C(k)):C(C(this).j(k));if(D(k))return C(this.j(C(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,O=[],P=0;P<2*R;P++)O[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var U=this.i(P)>>>16,I=this.i(P)&65535,J=k.i(V)>>>16,oe=k.i(V)&65535;O[2*P+2*V]+=I*oe,S(O,2*P+2*V),O[2*P+2*V+1]+=U*oe,S(O,2*P+2*V+1),O[2*P+2*V+1]+=I*J,S(O,2*P+2*V+1),O[2*P+2*V+2]+=U*J,S(O,2*P+2*V+2)}for(P=0;P<R;P++)O[P]=O[2*P+1]<<16|O[2*P];for(P=R;P<2*R;P++)O[P]=0;return new c(O,0)};function S(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function b(k,R){this.g=k,this.h=R}function M(k,R){if(T(R))throw Error("division by zero");if(T(k))return new b(x,x);if(D(k))return R=M(C(k),R),new b(C(R.g),C(R.h));if(D(R))return R=M(k,C(R)),new b(C(R.g),R.h);if(30<k.g.length){if(D(k)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var O=w,P=R;0>=P.l(k);)O=z(O),P=z(P);var V=L(O,1),U=L(P,1);for(P=L(P,2),O=L(O,2);!T(P);){var I=U.add(P);0>=I.l(k)&&(V=V.add(O),U=I),P=L(P,1),O=L(O,1)}return R=N(k,V.j(R)),new b(V,R)}for(V=x;0<=k.l(R);){for(O=Math.max(1,Math.floor(k.m()/R.m())),P=Math.ceil(Math.log(O)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=p(O),I=U.j(R);D(I)||0<I.l(k);)O-=P,U=p(O),I=U.j(R);T(U)&&(U=w),V=V.add(U),k=N(k,I)}return new b(V,k)}n.A=function(k){return M(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],P=0;P<R;P++)O[P]=this.i(P)&k.i(P);return new c(O,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],P=0;P<R;P++)O[P]=this.i(P)|k.i(P);return new c(O,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],P=0;P<R;P++)O[P]=this.i(P)^k.i(P);return new c(O,this.h^k.h)};function z(k){for(var R=k.g.length+1,O=[],P=0;P<R;P++)O[P]=k.i(P)<<1|k.i(P-1)>>>31;return new c(O,k.h)}function L(k,R){var O=R>>5;R%=32;for(var P=k.g.length-O,V=[],U=0;U<P;U++)V[U]=0<R?k.i(U+O)>>>R|k.i(U+O+1)<<32-R:k.i(U+O);return new c(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Oa=c}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,zu,e2,_f,U0,t2,n2,r2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,A){return m==Array.prototype||m==Object.prototype||(m[_]=A.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var _=0;_<m.length;++_){var A=m[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var A=r;m=m.split(".");for(var q=0;q<m.length-1;q++){var Z=m[q];if(!(Z in A))break e;A=A[Z]}m=m[m.length-1],q=A[m],_=_(q),_!=q&&_!=null&&e(A,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var A=0,q=!1,Z={next:function(){if(!q&&A<m.length){var le=A++;return{value:_(le,m[le]),done:!1}}return q=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(m){return m||function(){return o(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function p(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function y(m,_,A){return m.call.apply(m.bind,arguments)}function x(m,_,A){if(!m)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,q),m.apply(_,Z)}}return function(){return m.apply(_,arguments)}}function w(m,_,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:x,w.apply(null,arguments)}function E(m,_){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),m.apply(this,q)}}function T(m,_){function A(){}A.prototype=_.prototype,m.aa=_.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(q,Z,le){for(var we=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)we[bt-2]=arguments[bt];return _.prototype[Z].apply(q,we)}}function D(m){const _=m.length;if(0<_){const A=Array(_);for(let q=0;q<_;q++)A[q]=m[q];return A}return[]}function C(m,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];if(f(q)){const Z=m.length||0,le=q.length||0;m.length=Z+le;for(let we=0;we<le;we++)m[Z+we]=q[we]}else m.push(q)}}class N{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(m){return/^[\s\xa0]*$/.test(m)}function b(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var z=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(m,_,A){for(const q in m)_.call(A,m[q],q,m)}function k(m,_){for(const A in m)_.call(void 0,m[A],A,m)}function R(m){const _={};for(const A in m)_[A]=m[A];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,_){let A,q;for(let Z=1;Z<arguments.length;Z++){q=arguments[Z];for(A in q)m[A]=q[A];for(let le=0;le<O.length;le++)A=O[le],Object.prototype.hasOwnProperty.call(q,A)&&(m[A]=q[A])}}function V(m){var _=1;m=m.split(":");const A=[];for(;0<_&&m.length;)A.push(m.shift()),_--;return m.length&&A.push(m.join(":")),A}function U(m){h.setTimeout(()=>{throw m},0)}function I(){var m=xe;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,A){const q=oe.get();q.set(_,A),this.h?this.h.next=q:this.g=q,this.h=q}}var oe=new N(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,xe=new J,H=()=>{const m=h.Promise.resolve(void 0);se=()=>{m.then(ce)}};var ce=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(A){U(A)}var _=oe;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ae=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};h.addEventListener("test",A,_),h.removeEventListener("test",A,_)}catch{}return m}();function ze(m,_){if(ge.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(z){e:{try{M(_.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(_=null)}}else A=="mouseover"?_=m.fromElement:A=="mouseout"&&(_=m.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ze.aa.h.call(this)}}T(ze,ge);var Ee={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function lt(m,_,A,q,Z){this.listener=m,this.proxy=null,this.src=_,this.type=A,this.capture=!!q,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function et(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function jt(m){this.src=m,this.g={},this.h=0}jt.prototype.add=function(m,_,A,q,Z){var le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);var we=mn(m,_,q,Z);return-1<we?(_=m[we],A||(_.fa=!1)):(_=new lt(_,this.src,le,!!q,Z),_.fa=A,m.push(_)),_};function $t(m,_){var A=_.type;if(A in m.g){var q=m.g[A],Z=Array.prototype.indexOf.call(q,_,void 0),le;(le=0<=Z)&&Array.prototype.splice.call(q,Z,1),le&&(et(_),m.g[A].length==0&&(delete m.g[A],m.h--))}}function mn(m,_,A,q){for(var Z=0;Z<m.length;++Z){var le=m[Z];if(!le.da&&le.listener==_&&le.capture==!!A&&le.ha==q)return Z}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),hr={};function er(m,_,A,q,Z){if(Array.isArray(_)){for(var le=0;le<_.length;le++)er(m,_[le],A,q,Z);return null}return A=cs(A),m&&m[ye]?m.K(_,A,p(q)?!!q.capture:!1,Z):Wt(m,_,A,!1,q,Z)}function Wt(m,_,A,q,Z,le){if(!_)throw Error("Invalid event type");var we=p(Z)?!!Z.capture:!!Z,bt=nr(m);if(bt||(m[qt]=bt=new jt(m)),A=bt.add(_,A,q,we,le),A.proxy)return A;if(q=Ns(),A.proxy=q,q.src=m,q.listener=A,m.addEventListener)Se||(Z=we),Z===void 0&&(Z=!1),m.addEventListener(_.toString(),q,Z);else if(m.attachEvent)m.attachEvent(ls(_.toString()),q);else if(m.addListener&&m.removeListener)m.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ns(){function m(A){return _.call(m.src,m.listener,A)}const _=tr;return m}function Cs(m,_,A,q,Z){if(Array.isArray(_))for(var le=0;le<_.length;le++)Cs(m,_[le],A,q,Z);else q=p(q)?!!q.capture:!!q,A=cs(A),m&&m[ye]?(m=m.i,_=String(_).toString(),_ in m.g&&(le=m.g[_],A=mn(le,A,q,Z),-1<A&&(et(le[A]),Array.prototype.splice.call(le,A,1),le.length==0&&(delete m.g[_],m.h--)))):m&&(m=nr(m))&&(_=m.g[_.toString()],m=-1,_&&(m=mn(_,A,q,Z)),(A=-1<m?_[m]:null)&&As(A))}function As(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[ye])$t(_.i,m);else{var A=m.type,q=m.proxy;_.removeEventListener?_.removeEventListener(A,q,m.capture):_.detachEvent?_.detachEvent(ls(A),q):_.addListener&&_.removeListener&&_.removeListener(q),(A=nr(_))?($t(A,m),A.h==0&&(A.src=null,_[qt]=null)):et(m)}}}function ls(m){return m in hr?hr[m]:hr[m]="on"+m}function tr(m,_){if(m.da)m=!0;else{_=new ze(_,this);var A=m.listener,q=m.ha||m.src;m.fa&&As(m),m=A.call(q,_)}return m}function nr(m){return m=m[qt],m instanceof jt?m:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(m){return typeof m=="function"?m:(m[Rs]||(m[Rs]=function(_){return m.handleEvent(_)}),m[Rs])}function xt(){ve.call(this),this.i=new jt(this),this.M=this,this.F=null}T(xt,ve),xt.prototype[ye]=!0,xt.prototype.removeEventListener=function(m,_,A,q){Cs(this,m,_,A,q)};function Ze(m,_){var A,q=m.F;if(q)for(A=[];q;q=q.F)A.push(q);if(m=m.M,q=_.type||_,typeof _=="string")_=new ge(_,m);else if(_ instanceof ge)_.target=_.target||m;else{var Z=_;_=new ge(q,m),P(_,Z)}if(Z=!0,A)for(var le=A.length-1;0<=le;le--){var we=_.g=A[le];Z=En(we,q,!0,_)&&Z}if(we=_.g=m,Z=En(we,q,!0,_)&&Z,Z=En(we,q,!1,_)&&Z,A)for(le=0;le<A.length;le++)we=_.g=A[le],Z=En(we,q,!1,_)&&Z}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var A=m.g[_],q=0;q<A.length;q++)et(A[q]);delete m.g[_],m.h--}}this.F=null},xt.prototype.K=function(m,_,A,q){return this.i.add(String(m),_,!1,A,q)},xt.prototype.L=function(m,_,A,q){return this.i.add(String(m),_,!0,A,q)};function En(m,_,A,q){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var Z=!0,le=0;le<_.length;++le){var we=_[le];if(we&&!we.da&&we.capture==A){var bt=we.listener,gn=we.ha||we.src;we.fa&&$t(m.i,we),Z=bt.call(gn,q)!==!1&&Z}}return Z&&!q.defaultPrevented}function Qt(m,_,A){if(typeof m=="function")A&&(m=w(m,A));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(m,_||0)}function si(m){m.g=Qt(()=>{m.g=null,m.i&&(m.i=!1,si(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class fr extends ve{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(m){ve.call(this),this.h=m,this.g={}}T(Ur,ve);var Br=[];function Oe(m){L(m.g,function(_,A){this.g.hasOwnProperty(A)&&As(_)},m),m.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Oe(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=h.JSON.stringify,tt=h.JSON.parse,pt=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Ht(){}Ht.prototype.h=null;function an(m){return m.h||(m.h=m.i())}function rr(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){ge.call(this,"d")}T(Hn,ge);function Mn(){ge.call(this,"c")}T(Mn,ge);var Kt={},Fr=null;function Er(){return Fr=Fr||new xt}Kt.La="serverreachability";function Is(m){ge.call(this,Kt.La,m)}T(Is,ge);function Q(m){const _=Er();Ze(_,new Is(_))}Kt.STAT_EVENT="statevent";function W(m,_){ge.call(this,Kt.STAT_EVENT,m),this.stat=_}T(W,ge);function te(m){const _=Er();Ze(_,new W(_,m))}Kt.Ma="timingevent";function fe(m,_){ge.call(this,Kt.Ma,m),this.size=_}T(fe,ge);function be(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},_)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function Ue(m,_,A,q,Z,le){m.info(function(){if(m.g)if(le)for(var we="",bt=le.split("&"),gn=0;gn<bt.length;gn++){var wt=bt[gn].split("=");if(1<wt.length){var Sn=wt[0];wt=wt[1];var yn=Sn.split("_");we=2<=yn.length&&yn[1]=="type"?we+(Sn+"="+wt+"&"):we+(Sn+"=redacted&")}}else we=null;else we=le;return"XMLHTTP REQ ("+q+") [attempt "+Z+"]: "+_+`
`+A+`
`+we})}function Ae(m,_,A,q,Z,le,we){m.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+Z+"]: "+_+`
`+A+`
`+le+" "+we})}function Me(m,_,A,q){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Be(m,A)+(q?" "+q:"")})}function Pe(m,_){m.info(function(){return"TIMEOUT: "+_})}Ce.prototype.info=function(){};function Be(m,_){if(!m.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var q=A[m];if(!(2>q.length)){var Z=q[1];if(Array.isArray(Z)&&!(1>Z.length)){var le=Z[0];if(le!="noop"&&le!="stop"&&le!="close")for(var we=1;we<Z.length;we++)Z[we]=""}}}}return je(A)}catch{return _}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ct;function Ct(){}T(Ct,Ht),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},ct=new Ct;function Tt(m,_,A,q){this.j=m,this.i=_,this.l=A,this.R=q||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var it={},qr={};function pn(m,_,A){m.L=1,m.v=Xa(Nr(_)),m.m=A,m.P=!0,sr(m,null)}function sr(m,_){m.F=Date.now(),Tr(m),m.A=Nr(m.v);var A=m.A,q=m.R;Array.isArray(q)||(q=[String(q)]),Dc(A.i,"t",q),m.C=0,A=m.j.J,m.h=new gt,m.g=Wd(m.j,A?_:null,!m.m),0<m.O&&(m.M=new fr(w(m.Y,m,m.g),m.O)),_=m.U,A=m.g,q=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Br[0]=Z.toString()),Z=Br);for(var le=0;le<Z.length;le++){var we=er(A,Z[le],q||_.handleEvent,!1,_.h||_);if(!we)break;_.g[we.key]=we}_=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),Q(),Ue(m.i,m.u,m.A,m.l,m.R,m.m)}Tt.prototype.ca=function(m){m=m.target;const _=this.M;_&&Kr(m)==3?_.j():this.Y(m)},Tt.prototype.Y=function(m){try{if(m==this.g)e:{const yn=Kr(this.g);var _=this.g.Ba();const hi=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||qd(this.g)))){this.J||yn!=4||_==7||(_==8||0>=hi?Q(3):Q(2)),$n(this);var A=this.g.Z();this.X=A;t:if(Dn(this)){var q=qd(this.g);m="";var Z=q.length,le=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),ir(this);var we="";break t}this.h.i=new h.TextDecoder}for(_=0;_<Z;_++)this.h.h=!0,m+=this.h.i.decode(q[_],{stream:!(le&&_==Z-1)});q.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=A==200,Ae(this.i,this.u,this.A,this.l,this.R,yn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,gn=this.g;if((bt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(bt)){var wt=bt;break t}}wt=null}if(A=wt)Me(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,A);else{this.o=!1,this.s=3,te(12),Ye(this),ir(this);break e}}if(this.P){A=!0;let kn;for(;!this.J&&this.C<we.length;)if(kn=js(this,we),kn==qr){yn==4&&(this.s=4,te(14),A=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==it){this.s=4,te(15),Me(this.i,this.l,we,"[Invalid Chunk]"),A=!1;break}else Me(this.i,this.l,kn,null),on(this,kn);if(Dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||we.length!=0||this.h.h||(this.s=1,te(16),A=!1),this.o=this.o&&A,!A)Me(this.i,this.l,we,"[Invalid Chunked Response]"),Ye(this),ir(this);else if(0<we.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),so(Sn),Sn.M=!0,te(11))}}else Me(this.i,this.l,we,null),on(this,we);yn==4&&Ye(this),this.o&&!this.J&&(yn==4?Kd(this.j,this):(this.o=!1,Tr(this)))}else ep(this.g),A==400&&0<we.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ye(this),ir(this)}}}catch{}finally{}};function Dn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function js(m,_){var A=m.C,q=_.indexOf(`
`,A);return q==-1?qr:(A=Number(_.substring(A,q)),isNaN(A)?it:(q+=1,q+A>_.length?qr:(_=_.slice(q,q+A),m.C=q+A,_)))}Tt.prototype.cancel=function(){this.J=!0,Ye(this)};function Tr(m){m.S=Date.now()+m.I,zi(m,m.I)}function zi(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=be(w(m.ba,m),_)}function $n(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Tt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),te(17)),Ye(this),this.s=2,ir(this)):zi(this,this.S-m)};function ir(m){m.j.G==0||m.J||Kd(m.j,m)}function Ye(m){$n(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Oe(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function on(m,_){try{var A=m.j;if(A.G!=0&&(A.g==m||Hr(A.h,m))){if(!m.K&&Hr(A.h,m)&&A.G==3){try{var q=A.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var Z=q;if(Z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)tl(A),Jo(A);else break e;zc(A),te(18)}}else A.za=Z[1],0<A.za-A.T&&37500>Z[2]&&A.F&&A.v==0&&!A.C&&(A.C=be(w(A.Za,A),6e3));if(1>=zt(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else di(A,11)}else if((m.K||A.g==m)&&tl(A),!S(_))for(Z=A.Da.g.parse(_),_=0;_<Z.length;_++){let wt=Z[_];if(A.T=wt[0],wt=wt[1],A.G==2)if(wt[0]=="c"){A.K=wt[1],A.ia=wt[2];const Sn=wt[3];Sn!=null&&(A.la=Sn,A.j.info("VER="+A.la));const yn=wt[4];yn!=null&&(A.Aa=yn,A.j.info("SVER="+A.Aa));const hi=wt[5];hi!=null&&typeof hi=="number"&&0<hi&&(q=1.5*hi,A.L=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const kn=m.g;if(kn){const zs=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var le=q.h;le.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(ii(le,le.h),le.h=null))}if(q.D){const Bc=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bc&&(q.ya=Bc,Pt(q.I,q.D,Bc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),q=A;var we=m;if(q.qa=Xd(q,q.J?q.ia:null,q.W),we.K){Pn(q.h,we);var bt=we,gn=q.L;gn&&(bt.I=gn),bt.B&&($n(bt),Tr(bt)),q.g=we}else Gd(q);0<A.i.length&&el(A)}else wt[0]!="stop"&&wt[0]!="close"||di(A,7);else A.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?di(A,7):Lc(A):wt[0]!="noop"&&A.l&&A.l.ta(wt),A.v=0)}}Q(4)}catch{}}var Sr=class{constructor(m,_){this.g=m,this.map=_}};function mr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zt(m){return m.h?1:m.g?m.g.size:0}function Hr(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function ii(m,_){m.g?m.g.add(_):m.h=_}function Pn(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}mr.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ic(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const A of m.g.values())_=_.concat(A.D);return _}return D(m.i)}function Xm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],A=m.length,q=0;q<A;q++)_.push(m[q]);return _}_=[],A=0;for(q in m)_[A++]=m[q];return _}function Qo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var A=0;A<m;A++)_.push(A);return _}_=[],A=0;for(const q in m)_[A++]=q;return _}}}function jc(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var A=Qo(m),q=Xm(m),Z=q.length,le=0;le<Z;le++)_.call(void 0,q[le],A&&A[le],m)}var Ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(m,_){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var q=m[A].indexOf("="),Z=null;if(0<=q){var le=m[A].substring(0,q);Z=m[A].substring(q+1)}else le=m[A];_(le,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ln(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ln){this.h=m.h,Ya(this,m.j),this.o=m.o,this.g=m.g,Ui(this,m.s),this.l=m.l;var _=m.i,A=new oi;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),ai(this,A),this.m=m.m}else m&&(_=String(m).match(Ka))?(this.h=!1,Ya(this,_[1]||"",!0),this.o=$r(_[2]||""),this.g=$r(_[3]||"",!0),Ui(this,_[4]),this.l=$r(_[5]||"",!0),ai(this,_[6]||"",!0),this.m=$r(_[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}ln.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Wa(_,Oc,!0),":");var A=this.g;return(A||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Wa(_,Oc,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Wa(A,A.charAt(0)=="/"?Zm:Mc,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Wa(A,Ko)),m.join("")};function Nr(m){return new ln(m)}function Ya(m,_,A){m.j=A?$r(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Ui(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function ai(m,_,A){_ instanceof oi?(m.i=_,Bd(m.i,m.h)):(A||(_=Wa(_,Jm)),m.i=new oi(_,m.h))}function Pt(m,_,A){m.i.set(_,A)}function Xa(m){return Pt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function $r(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Wa(m,_,A){return typeof m=="string"?(m=encodeURI(m).replace(_,Ud),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ud(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Oc=/[#\/\?@]/g,Mc=/[#\?:]/g,Zm=/[#\?]/g,Jm=/[#\?@]/g,Ko=/#/g;function oi(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Gr(m){m.g||(m.g=new Map,m.h=0,m.i&&Wm(m.i,function(_,A){m.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}n=oi.prototype,n.add=function(m,_){Gr(this),this.i=null,m=Ms(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(_),this.h+=1,this};function li(m,_){Gr(m),_=Ms(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function ci(m,_){return Gr(m),_=Ms(m,_),m.g.has(_)}n.forEach=function(m,_){Gr(this),this.g.forEach(function(A,q){A.forEach(function(Z){m.call(_,Z,q,this)},this)},this)},n.na=function(){Gr(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let q=0;q<_.length;q++){const Z=m[q];for(let le=0;le<Z.length;le++)A.push(_[q])}return A},n.V=function(m){Gr(this);let _=[];if(typeof m=="string")ci(this,m)&&(_=_.concat(this.g.get(Ms(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)_=_.concat(m[A])}return _},n.set=function(m,_){return Gr(this),this.i=null,m=Ms(this,m),ci(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Dc(m,_,A){li(m,_),0<A.length&&(m.i=null,m.g.set(Ms(m,_),D(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var q=_[A];const le=encodeURIComponent(String(q)),we=this.V(q);for(q=0;q<we.length;q++){var Z=le;we[q]!==""&&(Z+="="+encodeURIComponent(String(we[q]))),m.push(Z)}}return this.i=m.join("&")};function Ms(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Bd(m,_){_&&!m.j&&(Gr(m),m.i=null,m.g.forEach(function(A,q){var Z=q.toLowerCase();q!=Z&&(li(this,q),Dc(this,Z,A))},m)),m.j=_}function Za(m,_){const A=new Ce;if(h.Image){const q=new Image;q.onload=E(Qr,A,"TestLoadImage: loaded",!0,_,q),q.onerror=E(Qr,A,"TestLoadImage: error",!1,_,q),q.onabort=E(Qr,A,"TestLoadImage: abort",!1,_,q),q.ontimeout=E(Qr,A,"TestLoadImage: timeout",!1,_,q),h.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=m}else _(!1)}function us(m,_){const A=new Ce,q=new AbortController,Z=setTimeout(()=>{q.abort(),Qr(A,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:q.signal}).then(le=>{clearTimeout(Z),le.ok?Qr(A,"TestPingServer: ok",!0,_):Qr(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),Qr(A,"TestPingServer: error",!1,_)})}function Qr(m,_,A,q,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),q(A)}catch{}}function Ja(){this.g=new pt}function Ds(m,_,A){const q=A||"";try{jc(m,function(Z,le){let we=Z;p(Z)&&(we=je(Z)),_.push(q+le+"="+encodeURIComponent(we))})}catch(Z){throw _.push(q+"type="+encodeURIComponent("_badmap")),Z}}function Bi(m){this.l=m.Ub||null,this.j=m.eb||!1}T(Bi,Ht),Bi.prototype.g=function(){return new ui(this.l,this.j)},Bi.prototype.i=function(m){return function(){return m}}({});function ui(m,_){xt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ui,xt),n=ui.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,ks(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Ps(this):ks(this),this.readyState==3&&Pc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ps(this))},n.Qa=function(m){this.g&&(this.response=m,Ps(this))},n.ga=function(){this.g&&Ps(this)};function Ps(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ks(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=_.next();return m.join(`\r
`)};function ks(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function kc(m){let _="";return L(m,function(A,q){_+=q,_+=":",_+=A,_+=`\r
`}),_}function Tn(m,_,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=kc(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Pt(m,_,A))}function At(m){xt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(At,xt);var Yo=/^https?$/i,eo=["POST","PUT"];n=At.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ct.g(),this.v=this.o?an(this.o):an(ct),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(le){Fd(this,le);return}if(m=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var Z in q)A.set(Z,q[Z]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const le of q.keys())A.set(le,q.get(le));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(le=>le.toLowerCase()=="content-type"),Z=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(eo,_,void 0))||q||Z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,we]of A)this.g.setRequestHeader(le,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(m),this.u=!1}catch(le){Fd(this,le)}};function Fd(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,Xo(m),Ls(m)}function Xo(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ze(this,"complete"),Ze(this,"abort"),Ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wo(this):this.bb())},n.bb=function(){Wo(this)};function Wo(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Kr(m)!=4||m.Z()!=2)){if(m.u&&Kr(m)==4)Qt(m.Ea,0,m);else if(Ze(m,"readystatechange"),Kr(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var q;if(q=we===0){var Z=String(m.D).match(Ka)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),q=!Yo.test(Z?Z.toLowerCase():"")}A=q}if(A)Ze(m,"complete"),Ze(m,"success");else{m.m=6;try{var le=2<Kr(m)?m.g.statusText:""}catch{le=""}m.l=le+" ["+m.Z()+"]",Xo(m)}}finally{Ls(m)}}}}function Ls(m,_){if(m.g){to(m);const A=m.g,q=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||Ze(m,"ready");try{A.onreadystatechange=q}catch{}}}function to(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Kr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),tt(_)}};function qd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ep(m){const _={};m=(m.g&&2<=Kr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<m.length;q++){if(S(m[q]))continue;var A=V(m[q]);const Z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const le=_[Z]||[];_[Z]=le,le.push(A)}k(_,function(q){return q.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(m,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||_}function Zo(m){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=no("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=no("baseRetryDelayMs",5e3,m),this.cb=no("retryDelaySeedMs",1e4,m),this.Wa=no("forwardChannelMaxRetries",2,m),this.wa=no("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(m&&m.concurrentRequestLimit),this.Da=new Ja,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zo.prototype,n.la=8,n.G=1,n.connect=function(m,_,A,q){te(0),this.W=m,this.H=_||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.I=Xd(this,null,this.W),el(this)};function Lc(m){if(Hd(m),m.G==3){var _=m.U++,A=Nr(m.I);if(Pt(A,"SID",m.K),Pt(A,"RID",_),Pt(A,"TYPE","terminate"),ro(m,A),_=new Tt(m,m.j,_),_.L=2,_.v=Xa(Nr(A)),A=!1,h.navigator&&h.navigator.sendBeacon)try{A=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&h.Image&&(new Image().src=_.v,A=!0),A||(_.g=Wd(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Tr(_)}Yd(m)}function Jo(m){m.g&&(so(m),m.g.cancel(),m.g=null)}function Hd(m){Jo(m),m.u&&(h.clearTimeout(m.u),m.u=null),tl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function el(m){if(!Os(m.h)&&!m.s){m.s=!0;var _=m.Ga;se||H(),ae||(se(),ae=!0),xe.add(_,m),m.B=0}}function tp(m,_){return zt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=be(w(m.Ga,m,_),Uc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new Tt(this,this.j,m);let le=this.o;if(this.S&&(le?(le=R(le),P(le,this.S)):le=this.S),this.m!==null||this.O||(Z.H=le,le=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=$d(this,Z,_),A=Nr(this.I),Pt(A,"RID",m),Pt(A,"CVER",22),this.D&&Pt(A,"X-HTTP-Session-Id",this.D),ro(this,A),le&&(this.O?_="headers="+encodeURIComponent(String(kc(le)))+"&"+_:this.m&&Tn(A,this.m,le)),ii(this.h,Z),this.Ua&&Pt(A,"TYPE","init"),this.P?(Pt(A,"$req",_),Pt(A,"SID","null"),Z.T=!0,pn(Z,A,null)):pn(Z,A,_),this.G=2}}else this.G==3&&(m?Vc(this,m):this.i.length==0||Os(this.h)||Vc(this))};function Vc(m,_){var A;_?A=_.l:A=m.U++;const q=Nr(m.I);Pt(q,"SID",m.K),Pt(q,"RID",A),Pt(q,"AID",m.T),ro(m,q),m.m&&m.o&&Tn(q,m.m,m.o),A=new Tt(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),_&&(m.i=_.D.concat(m.i)),_=$d(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ii(m.h,A),pn(A,q,_)}function ro(m,_){m.H&&L(m.H,function(A,q){Pt(_,q,A)}),m.l&&jc({},function(A,q){Pt(_,q,A)})}function $d(m,_,A){A=Math.min(m.i.length,A);var q=m.l?w(m.l.Na,m.l,m):null;e:{var Z=m.i;let le=-1;for(;;){const we=["count="+A];le==-1?0<A?(le=Z[0].g,we.push("ofs="+le)):le=0:we.push("ofs="+le);let bt=!0;for(let gn=0;gn<A;gn++){let wt=Z[gn].g;const Sn=Z[gn].map;if(wt-=le,0>wt)le=Math.max(0,Z[gn].g-100),bt=!1;else try{Ds(Sn,we,"req"+wt+"_")}catch{q&&q(Sn)}}if(bt){q=we.join("&");break e}}}return m=m.i.splice(0,A),_.D=m,q}function Gd(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;se||H(),ae||(se(),ae=!0),xe.add(_,m),m.v=0}}function zc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=be(w(m.Fa,m),Uc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=be(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Jo(this),Qd(this))};function so(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Qd(m){m.g=new Tt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Nr(m.qa);Pt(_,"RID","rpc"),Pt(_,"SID",m.K),Pt(_,"AID",m.T),Pt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Pt(_,"TO",m.ja),Pt(_,"TYPE","xmlhttp"),ro(m,_),m.m&&m.o&&Tn(_,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=Xa(Nr(_)),A.m=null,A.P=!0,sr(A,m)}n.Za=function(){this.C!=null&&(this.C=null,Jo(this),zc(this),te(19))};function tl(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Kd(m,_){var A=null;if(m.g==_){tl(m),so(m),m.g=null;var q=2}else if(Hr(m.h,_))A=_.D,Pn(m.h,_),q=1;else return;if(m.G!=0){if(_.o)if(q==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var Z=m.B;q=Er(),Ze(q,new fe(q,A)),el(m)}else Gd(m);else if(Z=_.s,Z==3||Z==0&&0<_.X||!(q==1&&tp(m,_)||q==2&&zc(m)))switch(A&&0<A.length&&(_=m.h,_.i=_.i.concat(A)),Z){case 1:di(m,5);break;case 4:di(m,10);break;case 3:di(m,6);break;default:di(m,2)}}}function Uc(m,_){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*_}function di(m,_){if(m.j.info("Error code "+_),_==2){var A=w(m.fb,m),q=m.Xa;const Z=!q;q=new ln(q||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ya(q,"https"),Xa(q),Z?Za(q.toString(),A):us(q.toString(),A)}else te(2);m.G=0,m.l&&m.l.sa(_),Yd(m),Hd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Yd(m){if(m.G=0,m.ka=[],m.l){const _=Ic(m.h);(_.length!=0||m.i.length!=0)&&(C(m.ka,_),C(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function Xd(m,_,A){var q=A instanceof ln?Nr(A):new ln(A);if(q.g!="")_&&(q.g=_+"."+q.g),Ui(q,q.s);else{var Z=h.location;q=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;var le=new ln(null);q&&Ya(le,q),_&&(le.g=_),Z&&Ui(le,Z),A&&(le.l=A),q=le}return A=m.D,_=m.ya,A&&_&&Pt(q,A,_),Pt(q,"VER",m.la),ro(m,q),q}function Wd(m,_,A){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new At(new Bi({eb:A})):new At(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zd(){}n=Zd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(m,_){return new ar(m,_)};function ar(m,_){xt.call(this),this.g=new Zo(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!S(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!S(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Vs(this)}T(ar,xt),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Lc(this.g)},ar.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=je(m),m=A);_.i.push(new Sr(_.Ya++,m)),_.G==3&&el(_)},ar.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,ar.aa.N.call(this)};function Jd(m){Hn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const A in _){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}T(Jd,Hn);function eh(){Mn.call(this),this.status=1}T(eh,Mn);function Vs(m){this.g=m}T(Vs,Zd),Vs.prototype.ua=function(){Ze(this.g,"a")},Vs.prototype.ta=function(m){Ze(this.g,new Jd(m))},Vs.prototype.sa=function(m){Ze(this.g,new eh)},Vs.prototype.ra=function(){Ze(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,r2=function(){return new nl},n2=function(){return Er()},t2=Kt,U0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,_f=De,qe.COMPLETE="complete",e2=qe,rr.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",xt.prototype.listen=xt.prototype.K,zu=rr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,JT=At}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",n_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new qy("@firebase/firestore");function Ml(){return ko.logLevel}function Ne(n,...e){if(ko.logLevel<=ft.DEBUG){const t=e.map(Gy);ko.debug(`Firestore (${Ec}): ${n}`,...t)}}function Mi(n,...e){if(ko.logLevel<=ft.ERROR){const t=e.map(Gy);ko.error(`Firestore (${Ec}): ${n}`,...t)}}function dc(n,...e){if(ko.logLevel<=ft.WARN){const t=e.map(Gy);ko.warn(`Firestore (${Ec}): ${n}`,...t)}}function Gy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,s2(n,r,t)}function s2(n,e,t){let r=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Mi(r),new Error(r)}function It(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||s2(e,a,r)}function We(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xn.UNAUTHENTICATED))}shutdown(){}}class H4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $4{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new i2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class G4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new G4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new r_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Y4(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function B0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return st(r,a);{const o=a2(),c=X4(o.encode(s_(n,t)),o.encode(s_(e,t)));return c!==0?c:st(r,a)}}t+=r>65535?2:1}return st(n.length,e.length)}function s_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return st(n[t],e[t]);return st(n.length,e.length)}function hc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,a_=1e6;class bn{static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*a_);return new bn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<i_)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new bn(0,0))}static max(){return new Xe(new bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="__name__";class Gs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Gs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=Gs.isNumericId(e),a=Gs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Gs.extractNumericId(e).compare(Gs.extractNumericId(t)):B0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Ft extends Gs{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const W4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Gs{construct(e,t,r){return new Fn(e,t,r)}static isValidIdentifier(e){return W4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o_}static keyField(){return new Fn([o_])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Ft.fromString(e))}static fromName(e){return new Ve(Ft.fromString(e).popFirst(5))}static empty(){return new Ve(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function Z4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(r===1e9?new bn(t+1,0):new bn(t,r));return new La(a,Ve.empty(),e)}function J4(n){return new La(n.readTime,n.key,rd)}class La{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new La(Xe.min(),Ve.empty(),rd)}static max(){return new La(Xe.max(),Ve.empty(),rd)}}function e3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==t3)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++o,c&&o===a&&t()},f=>r(f))}),c=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{c[p]=y,++h,h===o&&r(c)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function r3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function wm(n){return n==null}function Hf(n){return n===0&&1/n==-1/0}function s3(n){return typeof n=="number"&&Number.isInteger(n)&&!Hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="";function i3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l_(e)),e=a3(n.get(t),e);return l_(e)}function a3(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case l2:t+="";break;default:t+=o}}return t}function l_(n){return n+l2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function c2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Un.RED,this.left=a??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Un(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Un.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new wn(Fn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new u2("Invalid base64 string: "+o):o}}(e);return new qn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new qn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const o3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=o3.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(n.seconds),nanos:rn(n.nanos)}}function rn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function za(n){return typeof n=="string"?qn.fromBase64String(n):qn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="server_timestamp",h2="__type__",f2="__previous_value__",m2="__local_write_time__";function _m(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[h2])===null||t===void 0?void 0:t.stringValue)===d2}function Em(n){const e=n.mapValue.fields[f2];return _m(e)?Em(e):e}function sd(n){const e=Va(n.mapValue.fields[m2].timestampValue);return new bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t,r,a,o,c,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const $f="(default)";class id{constructor(e,t){this.projectId=e,this.database=t||$f}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="__type__",c3="__max__",lf={mapValue:{}},g2="__vector__",Gf="value";function Ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_m(n)?4:d3(n)?9007199254740991:u3(n)?10:11:Ge(28295,{value:n})}function ti(n,e){if(n===e)return!0;const t=Ua(n);if(t!==Ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sd(n).isEqual(sd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Va(a.timestampValue),h=Va(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return za(a.bytesValue).isEqual(za(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return rn(a.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(a.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return rn(a.integerValue)===rn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=rn(a.doubleValue),h=rn(o.doubleValue);return c===h?Hf(c)===Hf(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return hc(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(c_(c)!==c_(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ti(c[f],h[f])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function ad(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function fc(n,e){if(n===e)return 0;const t=Ua(n),r=Ua(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=rn(o.integerValue||o.doubleValue),f=rn(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return d_(n.timestampValue,e.timestampValue);case 4:return d_(sd(n),sd(e));case 5:return B0(n.stringValue,e.stringValue);case 6:return function(o,c){const h=za(o),f=za(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=st(h[p],f[p]);if(y!==0)return y}return st(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=st(rn(o.latitude),rn(c.latitude));return h!==0?h:st(rn(o.longitude),rn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return h_(n.arrayValue,e.arrayValue);case 10:return function(o,c){var h,f,p,y;const x=o.fields||{},w=c.fields||{},E=(h=x[Gf])===null||h===void 0?void 0:h.arrayValue,T=(f=w[Gf])===null||f===void 0?void 0:f.arrayValue,D=st(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:h_(E,T)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===lf.mapValue&&c===lf.mapValue)return 0;if(o===lf.mapValue)return 1;if(c===lf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let x=0;x<f.length&&x<y.length;++x){const w=B0(f[x],y[x]);if(w!==0)return w;const E=fc(h[f[x]],p[y[x]]);if(E!==0)return E}return st(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function d_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Va(n),r=Va(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function h_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=fc(t[a],r[a]);if(o)return o}return st(t.length,r.length)}function mc(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Va(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return za(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=F0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${F0(t.fields[c])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function Ef(n){switch(Ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Em(n);return e?16+Ef(e):16;case 5:return 2*n.stringValue.length;case 6:return za(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Ef(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ha(r.fields,(o,c)=>{a+=o.length+Ef(c)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Qf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function q0(n){return!!n&&"integerValue"in n}function Ky(n){return!!n&&"arrayValue"in n}function f_(n){return!!n&&"nullValue"in n}function m_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tf(n){return!!n&&"mapValue"in n}function u3(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[p2])===null||t===void 0?void 0:t.stringValue)===g2}function Qu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function d3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===c3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(t)}setAll(e){let t=Fn.emptyPath(),r={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=Qu(c):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ha(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new wr(Qu(this.value))}}function y2(n){const e=[];return Ha(n.fields,(t,r)=>{const a=new Fn([t]);if(Tf(r)){const o=y2(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t,r,a,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wn(e,0,Xe.min(),Xe.min(),Xe.min(),wr.empty(),0)}static newFoundDocument(e,t,r,a){return new Wn(e,1,t,Xe.min(),r,a,0)}static newNoDocument(e,t){return new Wn(e,2,t,Xe.min(),Xe.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Xe.min(),Xe.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.position=e,this.inclusive=t}}function p_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Ve.comparator(Ve.fromName(c.referenceValue),t.key):r=fc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function g_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function h3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{}class hn extends v2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new m3(e,t,r):t==="array-contains"?new y3(e,r):t==="in"?new v3(e,r):t==="not-in"?new x3(e,r):t==="array-contains-any"?new b3(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new p3(e,r):new g3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fc(t,this.value)):t!==null&&Ua(this.value)===Ua(t)&&this.matchesComparison(fc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends v2{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new _s(e,t)}matches(e){return x2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function x2(n){return n.op==="and"}function b2(n){return f3(n)&&x2(n)}function f3(n){for(const e of n.filters)if(e instanceof _s)return!1;return!0}function H0(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+mc(n.value);if(b2(n))return n.filters.map(e=>H0(e)).join(",");{const e=n.filters.map(t=>H0(t)).join(",");return`${n.op}(${e})`}}function w2(n,e){return n instanceof hn?function(r,a){return a instanceof hn&&r.op===a.op&&r.field.isEqual(a.field)&&ti(r.value,a.value)}(n,e):n instanceof _s?function(r,a){return a instanceof _s&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,h)=>o&&w2(c,a.filters[h]),!0):!1}(n,e):void Ge(19439)}function _2(n){return n instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${mc(t.value)}`}(n):n instanceof _s?function(t){return t.op.toString()+" {"+t.getFilters().map(_2).join(" ,")+"}"}(n):"Filter"}class m3 extends hn{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class p3 extends hn{constructor(e,t){super(e,"in",t),this.keys=E2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class g3 extends hn{constructor(e,t){super(e,"not-in",t),this.keys=E2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function E2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class y3 extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ky(t)&&ad(t.arrayValue,this.value)}}class v3 extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ad(this.value.arrayValue,t)}}class x3 extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ad(this.value.arrayValue,t)}}class b3 extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function y_(n,e=null,t=[],r=[],a=null,o=null,c=null){return new w3(n,e,t,r,a,o,c)}function Yy(n){const e=We(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>H0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mc(r)).join(",")),e.Ie=t}return e.Ie}function Xy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!w2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!g_(n.startAt,e.startAt)&&g_(n.endAt,e.endAt)}function $0(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,r=[],a=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _3(n,e,t,r,a,o,c,h){return new qo(n,e,t,r,a,o,c,h)}function Tm(n){return new qo(n)}function v_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wy(n){return n.collectionGroup!==null}function Hl(n){const e=We(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new wn(Fn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new od(o,r))}),t.has(Fn.keyField().canonicalString())||e.Ee.push(new od(Fn.keyField(),r))}return e.Ee}function Ws(n){const e=We(n);return e.de||(e.de=E3(e,Hl(n))),e.de}function E3(n,e){if(n.limitType==="F")return y_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new od(a.field,o)});const t=n.endAt?new pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pc(n.startAt.position,n.startAt.inclusive):null;return y_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function G0(n,e){const t=n.filters.concat([e]);return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kf(n,e,t){return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sm(n,e){return Xy(Ws(n),Ws(e))&&n.limitType===e.limitType}function T2(n){return`${Yy(Ws(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>_2(a)).join(", ")}]`),wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>mc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>mc(a)).join(",")),`Target(${r})`}(Ws(n))}; limitType=${n.limitType})`}function Nm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Hl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,h,f){const p=p_(c,h,f);return c.inclusive?p<=0:p<0}(r.startAt,Hl(r),a)||r.endAt&&!function(c,h,f){const p=p_(c,h,f);return c.inclusive?p>=0:p>0}(r.endAt,Hl(r),a))}(n,e)}function T3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S2(n){return(e,t)=>{let r=!1;for(const a of Hl(n)){const o=S3(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function S3(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(o,c,h){const f=c.data.field(o),p=h.data.field(o);return f!==null&&p!==null?fc(f,p):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return c2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new Xt(Ve.comparator);function Di(){return N3}const N2=new Xt(Ve.comparator);function Uu(...n){let e=N2;for(const t of n)e=e.insert(t.key,t);return e}function C2(n){let e=N2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function To(){return Ku()}function A2(){return Ku()}function Ku(){return new Ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const C3=new Xt(Ve.comparator),A3=new wn(Ve.comparator);function mt(...n){let e=A3;for(const t of n)e=e.add(t);return e}const R3=new wn(st);function I3(){return R3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function R2(n){return{integerValue:""+n}}function j3(n,e){return s3(e)?R2(e):Zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function O3(n,e,t){return n instanceof ld?function(a,o){const c={fields:{[h2]:{stringValue:d2},[m2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&_m(o)&&(o=Em(o)),o&&(c.fields[f2]=o),{mapValue:c}}(t,e):n instanceof gc?j2(n,e):n instanceof cd?O2(n,e):function(a,o){const c=I2(a,o),h=x_(c)+x_(a.Re);return q0(c)&&q0(a.Re)?R2(h):Zy(a.serializer,h)}(n,e)}function M3(n,e,t){return n instanceof gc?j2(n,e):n instanceof cd?O2(n,e):t}function I2(n,e){return n instanceof Yf?function(r){return q0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ld extends Cm{}class gc extends Cm{constructor(e){super(),this.elements=e}}function j2(n,e){const t=M2(e);for(const r of n.elements)t.some(a=>ti(a,r))||t.push(r);return{arrayValue:{values:t}}}class cd extends Cm{constructor(e){super(),this.elements=e}}function O2(n,e){let t=M2(e);for(const r of n.elements)t=t.filter(a=>!ti(a,r));return{arrayValue:{values:t}}}class Yf extends Cm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function x_(n){return rn(n.integerValue||n.doubleValue)}function M2(n){return Ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.field=e,this.transform=t}}function D3(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof gc&&a instanceof gc||r instanceof cd&&a instanceof cd?hc(r.elements,a.elements,ti):r instanceof Yf&&a instanceof Yf?ti(r.Re,a.Re):r instanceof ld&&a instanceof ld}(n.transform,e.transform)}class P3{constructor(e,t){this.version=e,this.transformResults=t}}class is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let Am=class{};function P2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,is.none()):new Cd(n.key,n.data,is.none());{const t=n.data,r=wr.empty();let a=new wn(Fn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new $a(n.key,r,new Vr(a.toArray()),is.none())}}function k3(n,e,t){n instanceof Cd?function(a,o,c){const h=a.value.clone(),f=w_(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $a?function(a,o,c){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=w_(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(k2(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Yu(n,e,t,r){return n instanceof Cd?function(o,c,h,f){if(!Sf(o.precondition,c))return h;const p=o.value.clone(),y=__(o.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof $a?function(o,c,h,f){if(!Sf(o.precondition,c))return h;const p=__(o.fieldTransforms,f,c),y=c.data;return y.setAll(k2(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(o,c,h){return Sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function L3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=I2(r.transform,a||null);o!=null&&(t===null&&(t=wr.empty()),t.set(r.field,o))}return t||null}function b_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&hc(r,a,(o,c)=>D3(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cd extends Am{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $a extends Am{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function w_(n,e,t){const r=new Map;It(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,M3(c,h,t[a]))}return r}function __(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,O3(o,c,e))}return r}class Jy extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V3 extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&k3(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=A2();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const f=P2(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(t,r)=>b_(t,r))&&hc(this.baseMutations,e.baseMutations,(t,r)=>b_(t,r))}}class ev{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){It(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return C3}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new ev(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Et;function F3(n){switch(n){case de.OK:return Ge(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function L2(n){if(n===void 0)return Mi("GRPC error has no .code"),de.UNKNOWN;switch(n){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:n})}}(Et=dn||(dn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Oa([4294967295,4294967295],0);function E_(n){const e=a2().encode(n),t=new ZT;return t.update(e),new Uint8Array(t.digest())}function T_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oa([t,r],0),new Oa([a,o],0)]}class tv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bu(`Invalid padding: ${t}`);if(r<0)throw new Bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Oa.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Oa.fromNumber(r)));return a.compare(q3)===1&&(a=new Oa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=E_(e),[r,a]=T_(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new tv(o,a,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=E_(e),[r,a]=T_(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rm(Xe.min(),a,new Xt(st),Di(),mt())}}class Ad{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ad(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class V2{constructor(e,t){this.targetId=e,this.Ce=t}}class z2{constructor(e,t,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class S_{constructor(){this.Fe=0,this.Me=N_(),this.xe=qn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mt(),t=mt(),r=mt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new Ad(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=N_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,It(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class H3{constructor(e){this.ze=e,this.je=new Map,this.He=Di(),this.Je=cf(),this.Ye=cf(),this.Ze=new Xt(st)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if($0(o))if(r===0){const c=new Ve(o.path);this.tt(t,c,Wn.newNoDocument(c,Xe.min()))}else It(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const h=this.ct(e),f=h?this.lt(h,e,c):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=za(r).toUint8Array()}catch(f){if(f instanceof u2)return dc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new tv(c,a,o)}catch(f){return dc(f instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&$0(h.target)){const f=new Ve(h.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Wn.newNoDocument(f,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let r=mt();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new Rm(e,t,this.Ze,this.He,r);return this.He=Di(),this.Je=cf(),this.Ye=cf(),this.Ze=new Xt(st),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new S_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wn(st),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wn(st),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new S_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function cf(){return new Xt(Ve.comparator)}function N_(){return new Xt(Ve.comparator)}const $3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q3={and:"AND",or:"OR"};class K3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Q0(n,e){return n.useProto3Json||wm(e)?e:{value:e}}function Xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Y3(n,e){return Xf(n,e.toTimestamp())}function Zs(n){return It(!!n,49232),Xe.fromTimestamp(function(t){const r=Va(t);return new bn(r.seconds,r.nanos)}(n))}function nv(n,e){return K0(n,e).canonicalString()}function K0(n,e){const t=function(a){return new Ft(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function B2(n){const e=Ft.fromString(n);return It(G2(e),10190,{key:e.toString()}),e}function Y0(n,e){return nv(n.databaseId,e.path)}function c0(n,e){const t=B2(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(q2(t))}function F2(n,e){return nv(n.databaseId,e)}function X3(n){const e=B2(n);return e.length===4?Ft.emptyPath():q2(e)}function X0(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q2(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function C_(n,e,t){return{name:Y0(n,e),fields:t.value.mapValue.fields}}function W3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(It(y===void 0||typeof y=="string",58123),qn.fromBase64String(y||"")):(It(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),qn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?de.UNKNOWN:L2(p.code);return new _e(y,p.message||"")}(c);t=new z2(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=c0(n,r.document.name),o=Zs(r.document.updateTime),c=r.document.createTime?Zs(r.document.createTime):Xe.min(),h=new wr({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(a,o,c,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Nf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=c0(n,r.document),o=r.readTime?Zs(r.readTime):Xe.min(),c=Wn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Nf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=c0(n,r.document),o=r.removedTargetIds||[];t=new Nf([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new B3(a,o),h=r.targetId;t=new V2(h,c)}}return t}function Z3(n,e){let t;if(e instanceof Cd)t={update:C_(n,e.key,e.value)};else if(e instanceof Jy)t={delete:Y0(n,e.key)};else if(e instanceof $a)t={update:C_(n,e.key,e.data),updateMask:oO(e.fieldMask)};else{if(!(e instanceof V3))return Ge(16599,{ft:e.type});t={verify:Y0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof ld)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof cd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Yf)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Ge(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:Y3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function J3(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?Zs(a.updateTime):Zs(o);return c.isEqual(Xe.min())&&(c=Zs(o)),new P3(c,a.transformResults||[])}(t,e))):[]}function eO(n,e){return{documents:[F2(n,e.path)]}}function tO(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=F2(n,a);const o=function(p){if(p.length!==0)return $2(_s.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:Pl(w.field),direction:sO(w.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Q0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function nO(n){let e=X3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){It(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(x){const w=H2(x);return w instanceof _s&&b2(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(x){return x.map(w=>function(T){return new od(kl(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(t.orderBy));let h=null;t.limit&&(h=function(x){let w;return w=typeof x=="object"?x.value:x,wm(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(x){const w=!!x.before,E=x.values||[];return new pc(E,w)}(t.startAt));let p=null;return t.endAt&&(p=function(x){const w=!x.before,E=x.values||[];return new pc(E,w)}(t.endAt)),_3(e,a,c,o,h,"F",f,p)}function rO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=kl(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=kl(t.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=kl(t.unaryFilter.field);return hn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=kl(t.unaryFilter.field);return hn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return hn.create(kl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _s.create(t.compositeFilter.filters.map(r=>H2(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function sO(n){return $3[n]}function iO(n){return G3[n]}function aO(n){return Q3[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function kl(n){return Fn.fromServerFormat(n.fieldPath)}function $2(n){return n instanceof hn?function(t){if(t.op==="=="){if(m_(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NAN"}};if(f_(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m_(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NAN"}};if(f_(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(t.field),op:iO(t.op),value:t.value}}}(n):n instanceof _s?function(t){const r=t.getFilters().map(a=>$2(a));return r.length===1?r[0]:{compositeFilter:{op:aO(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function oO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,r,a,o=Xe.min(),c=Xe.min(),h=qn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.wt=e}}function cO(n){const e=nO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.yn=new dO}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(La.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class dO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new wn(Ft.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new wn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q2=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(Q2,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new yc(0)}static ir(){return new yc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",hO=1048576;function I_([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class fO{constructor(e){this.cr=e,this.buffer=new wn(I_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();I_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(R_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sc(t)?Ne(R_,"Ignoring IndexedDB error during garbage collection: ",t):await Tc(t)}await this.Ir(3e5)})}}class pO{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(bm.le);const r=new fO(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(A_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(p=Date.now(),Ml()<=ft.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x})))}}function gO(n,e){return new pO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changes=new Ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Yu(r.mutation,a,Vr.empty(),bn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mt()){const a=To();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=Uu();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=To();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,a){let o=Di();const c=Ku(),h=function(){return Ku()}();return t.forEach((f,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof $a)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Yu(y.mutation,p,y.mutation.getFieldMask(),bn.now())):c.set(p.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var x;return h.set(p,new vO(y,(x=c.get(p))!==null&&x!==void 0?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ku();let a=new Xt((c,h)=>c-h),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||Vr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const x=(a.get(h.batchId)||mt()).add(f);a=a.insert(h.batchId,x)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,x=A2();y.forEach(w=>{if(!o.has(w)){const E=P2(t.get(w),r.get(w));E!==null&&x.set(w,E),o=o.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(To());let h=rd,f=o;return c.next(p=>pe.forEach(p,(y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{f=f.insert(y,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,mt())).next(y=>({batchId:h,changes:C2(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(r=>{let a=Uu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Uu();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,f=>{const p=function(x,w){return new qo(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((x,w)=>{c=c.insert(x,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Wn.newInvalidDocument(y)))});let h=Uu();return c.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Yu(y.mutation,p,Vr.empty(),bn.now()),Nm(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Zs(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:cO(a.bundledQuery),readTime:Zs(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.overlays=new Xt(Ve.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=To();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=To(),o=t.length+1,c=new Ve(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Xt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=To(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=To(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return pe.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new U3(t,r));let o=this.Or.get(t);o===void 0&&(o=mt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Nr=new wn(Rn.Br),this.Lr=new wn(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ve(new Ft([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ve(new Ft([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=mt();return this.Lr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ve.comparator(e.key,t.key)||st(e.Gr,t.Gr)}static kr(e,t){return st(e.Gr,t.Gr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new wn(Rn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new z3(o,t,r,a);this.mutationQueue.push(c);for(const h of a)this.zr=this.zr.add(new Rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Qy:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],c=>{const h=this.jr(c.Gr);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(st);return t.forEach(a=>{const o=new Rn(a,0),c=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],h=>{r=r.add(h.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Ve.isDocumentKey(o)||(o=o.child(""));const c=new Rn(new Ve(o),0);let h=new wn(st);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Gr)),!0)},c),pe.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){It(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.Zr=e,this.docs=function(){return new Xt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=Di();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Wn.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Di();const c=t.path,h=new Ve(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||e3(J4(y),r)<=0||(a.has(y.key)||Nm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SO(this)}getSize(e){return pe.resolve(this.size)}}class SO extends yO{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.persistence=e,this.ei=new Ho(t=>Yy(t),Xy),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new rv,this.targetCount=0,this.ri=yc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new yc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t){this.ii={},this.overlays={},this.si=new bm(0),this.oi=!1,this.oi=!0,this._i=new _O,this.referenceDelegate=e(this),this.ai=new NO(this),this.indexManager=new uO,this.remoteDocumentCache=function(a){return new TO(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new lO(t),this.ci=new bO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new EO(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const a=new CO(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class CO extends n3{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Ti=new rv,this.Ii=null}static Ei(e){return new sv(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=Ve.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Xe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Wf{constructor(e,t){this.persistence=e,this.Ri=new Ho(r=>i3(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=gO(this,t)}static Ei(e,t){return new Wf(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(h=>{h||(r++,o.removeEntry(c,Xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=mt(),a=mt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new iv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Sj()?8:r3(Jn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new AO;return this.fs(e,t,c).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,c,h.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Ml()<=ft.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Ml()<=ft.DEBUG&&Ne("QueryEngine","Query:",Dl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ml()<=ft.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ws(t))):pe.resolve())}Rs(e,t){if(v_(t))return pe.resolve(null);let r=Ws(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Kf(t,null,"F"),r=Ws(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=mt(...o);return this.As.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,c,f.readTime)?this.Rs(e,Kf(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,a){return v_(t)||a.isEqual(Xe.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const c=this.ps(t,o);return this.ys(t,c,r,a)?pe.resolve(null):(Ml()<=ft.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Dl(t)),this.ws(e,c,t,Z4(a,rd)).next(h=>h))})}ps(e,t){let r=new wn(S2(e));return t.forEach((a,o)=>{Nm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Ml()<=ft.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.As.getDocumentsMatchingQuery(e,t,La.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",IO=3e8;class jO{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Xt(st),this.Ds=new Ho(o=>Yy(o),Xy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function OO(n,e,t,r){return new jO(n,e,t,r)}async function Y2(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let f=mt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:h}))})})}function MO(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const x=p.batch,w=x.keys();let E=pe.resolve();return w.forEach(T=>{E=E.next(()=>y.getEntry(f,T)).next(D=>{const C=p.docVersions.get(T);It(C!==null,48541),D.version.compareTo(C)<0&&(x.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),E.next(()=>h.mutationQueue.removeMutationBatch(f,x))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=mt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function X2(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function DO(n,e){const t=We(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,x)=>{const w=a.get(x);if(!w)return;h.push(t.ai.removeMatchingKeys(o,y.removedDocuments,x).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,x)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(qn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),a=a.insert(x,E),function(D,C,N){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=IO?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,E,y)&&h.push(t.ai.updateTargetData(o,E))});let f=Di(),p=mt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(PO(o,c,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Xe.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(x=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return pe.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=a,o))}function PO(n,e,t){let r=mt(),a=mt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Di();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Ne(av,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:c,Os:a}})}function kO(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LO(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new Sa(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function W0(n,e,t){const r=We(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Sc(c))throw c;Ne(av,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function j_(n,e,t){const r=We(n);let a=Xe.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,p,y){const x=We(f),w=x.Ds.get(y);return w!==void 0?pe.resolve(x.Ss.get(w)):x.ai.getTargetData(p,y)}(r,c,Ws(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Xe.min(),t?o:mt())).next(h=>(VO(r,T3(e),h),{documents:h,Ns:o})))}function VO(n,e,t){let r=n.vs.get(e)||Xe.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class O_{constructor(){this.activeTargetIds=I3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zO{constructor(){this.So=new O_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new O_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="ConnectivityMonitor";class D_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(M_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(M_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function Z0(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="RestConnection",BO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===$f?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const c=Z0(),h=this.$o(e,t.toUriEncodedString());Ne(u0,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,h,f,r).then(p=>(Ne(u0,`Received RPC '${e}' ${c}: `,p),p),p=>{throw dc(u0,`RPC '${e}' ${c} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,a,o,c){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ec}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=BO[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class HO extends FO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Z0();return new Promise((c,h)=>{const f=new JT;f.setWithCredentials(!0),f.listenOnce(e2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _f.NO_ERROR:const y=f.getResponseJson();Ne(Kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case _f.TIMEOUT:Ne(Kn,`RPC '${e}' ${o} timed out`),h(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const x=f.getStatus();if(Ne(Kn,`RPC '${e}' ${o} failed with status:`,x,"response text:",f.getResponseText()),x>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const T=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(N)>=0?N:de.UNKNOWN}(E.status);h(new _e(T,E.message))}else h(new _e(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ne(Kn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ne(Kn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Z0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=r2(),h=n2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ne(Kn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=c.createWebChannel(y,f);let w=!1,E=!1;const T=new qO({Go:C=>{E?Ne(Kn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(w||(Ne(Kn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),w=!0),Ne(Kn,`RPC '${e}' stream ${a} sending:`,C),x.send(C))},zo:()=>x.close()}),D=(C,N,S)=>{C.listen(N,b=>{try{S(b)}catch(M){setTimeout(()=>{throw M},0)}})};return D(x,zu.EventType.OPEN,()=>{E||(Ne(Kn,`RPC '${e}' stream ${a} transport opened.`),T.t_())}),D(x,zu.EventType.CLOSE,()=>{E||(E=!0,Ne(Kn,`RPC '${e}' stream ${a} transport closed`),T.r_())}),D(x,zu.EventType.ERROR,C=>{E||(E=!0,dc(Kn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),T.r_(new _e(de.UNAVAILABLE,"The operation could not be completed")))}),D(x,zu.EventType.MESSAGE,C=>{var N;if(!E){const S=C.data[0];It(!!S,16349);const b=S,M=(b==null?void 0:b.error)||((N=b[0])===null||N===void 0?void 0:N.error);if(M){Ne(Kn,`RPC '${e}' stream ${a} received error:`,M);const z=M.status;let L=function(O){const P=dn[O];if(P!==void 0)return L2(P)}(z),k=M.message;L===void 0&&(L=de.INTERNAL,k="Unknown error status: "+z+" with message "+M.message),E=!0,T.r_(new _e(L,k)),x.close()}else Ne(Kn,`RPC '${e}' stream ${a} received:`,S),T.i_(S)}}),D(h,t2.STAT_EVENT,C=>{C.stat===U0.PROXY?Ne(Kn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===U0.NOPROXY&&Ne(Kn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{T.n_()},0),T}}function d0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n){return new K3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class Z2{constructor(e,t,r,a,o,c,h,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new W2(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(P_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $O extends Z2{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=W3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Zs(c.readTime):Xe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=X0(this.serializer),t.addTarget=function(o,c){let h;const f=c.target;if(h=$0(f)?{documents:eO(o,f)}:{query:tO(o,f).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=U2(o,c.resumeToken);const p=Q0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Xf(o,c.snapshotVersion.toTimestamp());const p=Q0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=rO(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=X0(this.serializer),t.removeTarget=e,this.F_(t)}}class GO extends Z2{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=J3(e.writeResults,e.commitTime),r=Zs(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=X0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Z3(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{}class KO extends QO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(e,K0(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(de.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,K0(t,r),a,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class YO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Mi(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class XO{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{r.enqueueAndForget(async()=>{$o(this)&&(Ne(Lo,"Restarting streams for network reachability change."),await async function(f){const p=We(f);p.aa.add(4),await Rd(p),p.la.set("Unknown"),p.aa.delete(4),await jm(p)}(this))})}),this.la=new YO(r,a)}}async function jm(n){if($o(n))for(const e of n.ua)await e(!0)}async function Rd(n){for(const e of n.ua)await e(!1)}function J2(n,e){const t=We(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),uv(t)?cv(t):Nc(t).b_()&&lv(t,e))}function ov(n,e){const t=We(n),r=Nc(t);t._a.delete(e),r.b_()&&eS(t,e),t._a.size===0&&(r.b_()?r.v_():$o(t)&&t.la.set("Unknown"))}function lv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nc(n).U_(e)}function eS(n,e){n.ha.Ke(e),Nc(n).K_(e)}function cv(n){n.ha=new H3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Nc(n).start(),n.la.ta()}function uv(n){return $o(n)&&!Nc(n).w_()&&n._a.size>0}function $o(n){return We(n).aa.size===0}function tS(n){n.ha=void 0}async function WO(n){n.la.set("Online")}async function ZO(n){n._a.forEach((e,t)=>{lv(n,e)})}async function JO(n,e){tS(n),uv(n)?(n.la.ia(e),cv(n)):n.la.set("Unknown")}async function eM(n,e,t){if(n.la.set("Online"),e instanceof z2&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(r){Ne(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(n,r)}else if(e instanceof Nf?n.ha.Xe(e):e instanceof V2?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Xe.min()))try{const r=await X2(n.localStore);t.compareTo(r)>=0&&await function(o,c){const h=o.ha.It(c);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,p)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(qn.EMPTY_BYTE_STRING,y.snapshotVersion)),eS(o,f);const x=new Sa(y.target,f,p,y.sequenceNumber);lv(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ne(Lo,"Failed to raise snapshot:",r),await Zf(n,r)}}async function Zf(n,e,t){if(!Sc(e))throw e;n.aa.add(1),await Rd(n),n.la.set("Offline"),t||(t=()=>X2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(Lo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await jm(n)})}function nS(n,e){return e().catch(t=>Zf(n,t,e))}async function Om(n){const e=We(n),t=Ba(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Qy;for(;tM(e);)try{const a=await kO(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,nM(e,a)}catch(a){await Zf(e,a)}rS(e)&&sS(e)}function tM(n){return $o(n)&&n.oa.length<10}function nM(n,e){n.oa.push(e);const t=Ba(n);t.b_()&&t.W_&&t.G_(e.mutations)}function rS(n){return $o(n)&&!Ba(n).w_()&&n.oa.length>0}function sS(n){Ba(n).start()}async function rM(n){Ba(n).H_()}async function sM(n){const e=Ba(n);for(const t of n.oa)e.G_(t.mutations)}async function iM(n,e,t){const r=n.oa.shift(),a=ev.from(r,e,t);await nS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Om(n)}async function aM(n,e){e&&Ba(n).W_&&await async function(r,a){if(function(c){return F3(c)&&c!==de.ABORTED}(a.code)){const o=r.oa.shift();Ba(r).D_(),await nS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Om(r)}}(n,e),rS(n)&&sS(n)}async function k_(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ne(Lo,"RemoteStore received new credentials");const r=$o(t);t.aa.add(3),await Rd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await jm(t)}async function oM(n,e){const t=We(n);e?(t.aa.delete(2),await jm(t)):e||(t.aa.add(2),await Rd(t),t.la.set("Unknown"))}function Nc(n){return n.Pa||(n.Pa=function(t,r,a){const o=We(t);return o.Y_(),new $O(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:WO.bind(null,n),Jo:ZO.bind(null,n),Zo:JO.bind(null,n),Q_:eM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),uv(n)?cv(n):n.la.set("Unknown")):(await n.Pa.stop(),tS(n))})),n.Pa}function Ba(n){return n.Ta||(n.Ta=function(t,r,a){const o=We(t);return o.Y_(),new GO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:rM.bind(null,n),Zo:aM.bind(null,n),z_:sM.bind(null,n),j_:iM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Om(n)):(await n.Ta.stop(),n.oa.length>0&&(Ne(Lo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,h=new dv(e,t,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Sc(n))return new _e(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.Ia=new Xt(Ve.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class vc{constructor(e,t,r,a,o,c,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new vc(e,t,$l.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class cM{constructor(){this.queries=V_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=We(t),o=a.queries;a.queries=V_(),o.forEach((c,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function V_(){return new Ho(n=>T2(n),Sm)}async function fv(n,e){const t=We(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new lM,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=hv(c,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&pv(t)}async function mv(n,e){const t=We(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Ra.indexOf(e);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uM(n,e){const t=We(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Ra)h.pa(a)&&(r=!0);c.Aa=a}}r&&pv(t)}function dM(n,e,t){const r=We(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function pv(n){n.fa.forEach(e=>{e.next()})}var J0,z_;(z_=J0||(J0={})).ya="default",z_.Cache="cache";class gv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new vc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class hM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=mt(),this.mutatedKeys=mt(),this.Ua=S2(e),this.Ka=new $l(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new L_,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,x)=>{const w=a.get(y),E=Nm(this.query,x)?x:null,T=!!w&&this.mutatedKeys.has(w.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;w&&E?w.data.isEqual(E.data)?T!==D&&(r.track({type:3,doc:E}),C=!0):this.ja(w,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.Ua(E,f)>0||p&&this.Ua(E,p)<0)&&(h=!0)):!w&&E?(r.track({type:0,doc:E}),C=!0):w&&!E&&(r.track({type:1,doc:w}),C=!0,(f||p)&&(h=!0)),C&&(E?(c=c.add(E),o=D?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,x)=>function(E,T){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:C})}};return D(E)-D(T)}(y.type,x.type)||this.Ua(y.doc,x.doc)),this.Ha(r),a=a!=null&&a;const h=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,p=f!==this.Qa;return this.Qa=f,c.length!==0||p?{snapshot:new vc(this.query,e.Ka,o,c,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new L_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=mt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new aS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new iS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=mt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return vc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const yv="SyncEngine";class fM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mM{constructor(e){this.key=e,this.tu=!1}}class pM{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ho(h=>T2(h),Sm),this.iu=new Map,this.su=new Set,this.ou=new Xt(Ve.comparator),this._u=new Map,this.au=new rv,this.uu={},this.cu=new Map,this.lu=yc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function gM(n,e,t=!0){const r=hS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await oS(r,e,t,!0),a}async function yM(n,e){const t=hS(n);await oS(t,e,!0,!1)}async function oS(n,e,t,r){const a=await LO(n.localStore,Ws(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await vM(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&J2(n.remoteStore,a),h}async function vM(n,e,t,r,a){n.Pu=(x,w,E)=>async function(D,C,N,S){let b=C.view.Ga(N);b.ys&&(b=await j_(D.localStore,C.query,!1).then(({documents:k})=>C.view.Ga(k,b)));const M=S&&S.targetChanges.get(C.targetId),z=S&&S.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(b,D.isPrimaryClient,M,z);return B_(D,C.targetId,L.Ya),L.snapshot}(n,x,w,E);const o=await j_(n.localStore,e,!0),c=new hM(e,o.Ns),h=c.Ga(o.documents),f=Ad.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,f);B_(n,t,p.Ya);const y=new fM(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function xM(n,e,t){const r=We(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(c=>!Sm(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await W0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ov(r.remoteStore,a.targetId),ey(r,a.targetId)}).catch(Tc)):(ey(r,a.targetId),await W0(r.localStore,a.targetId,!0))}async function bM(n,e){const t=We(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ov(t.remoteStore,r.targetId))}async function wM(n,e,t){const r=AM(n);try{const a=await function(c,h){const f=We(c),p=bn.now(),y=h.reduce((E,T)=>E.add(T.key),mt());let x,w;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=Di(),D=mt();return f.Cs.getEntries(E,y).next(C=>{T=C,T.forEach((N,S)=>{S.isValidDocument()||(D=D.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,T)).next(C=>{x=C;const N=[];for(const S of h){const b=L3(S,x.get(S.key).overlayedDocument);b!=null&&N.push(new $a(S.key,b,y2(b.value.mapValue),is.exists(!0)))}return f.mutationQueue.addMutationBatch(E,p,N,h)}).next(C=>{w=C;const N=C.applyToLocalDocumentSet(x,D);return f.documentOverlayCache.saveOverlays(E,C.batchId,N)})}).then(()=>({batchId:w.batchId,changes:C2(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let p=c.uu[c.currentUser.toKey()];p||(p=new Xt(st)),p=p.insert(h,f),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await Id(r,a.changes),await Om(r.remoteStore)}catch(a){const o=hv(a,"Failed to persist write");t.reject(o)}}async function lS(n,e){const t=We(n);try{const r=await DO(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t._u.get(o);c&&(It(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?It(c.tu,14607):a.removedDocuments.size>0&&(It(c.tu,42227),c.tu=!1))}),await Id(t,r,e)}catch(r){await Tc(r)}}function U_(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,c)=>{const h=c.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=We(c);f.onlineState=h;let p=!1;f.queries.forEach((y,x)=>{for(const w of x.Ra)w.ga(h)&&(p=!0)}),p&&pv(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _M(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let c=new Xt(Ve.comparator);c=c.insert(o,Wn.newNoDocument(o,Xe.min()));const h=mt().add(o),f=new Rm(Xe.min(),new Map,new Xt(st),c,h);await lS(r,f),r.ou=r.ou.remove(o),r._u.delete(e),vv(r)}else await W0(r.localStore,e,!1).then(()=>ey(r,e,t)).catch(Tc)}async function EM(n,e){const t=We(n),r=e.batch.batchId;try{const a=await MO(t.localStore,e);uS(t,r,null),cS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Id(t,a)}catch(a){await Tc(a)}}async function TM(n,e,t){const r=We(n);try{const a=await function(c,h){const f=We(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(x=>(It(x!==null,37113),y=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);uS(r,e,t),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Id(r,a)}catch(a){await Tc(a)}}function cS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function uS(n,e,t){const r=We(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||dS(n,r)})}function dS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(ov(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),vv(n))}function B_(n,e,t){for(const r of t)r instanceof iS?(n.au.addReference(r.key,e),SM(n,r)):r instanceof aS?(Ne(yv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||dS(n,r.key)):Ge(19791,{Iu:r})}function SM(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ne(yv,"New document in limbo: "+t),n.su.add(r),vv(n))}function vv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ve(Ft.fromString(e)),r=n.lu.next();n._u.set(r,new mM(t)),n.ou=n.ou.insert(t,r),J2(n.remoteStore,new Sa(Ws(Tm(t.path)),r,"TargetPurposeLimboResolution",bm.le))}}async function Id(n,e,t){const r=We(n),a=[],o=[],c=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{c.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const x=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){a.push(p);const x=iv.Ps(f.targetId,p);o.push(x)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(f,p){const y=We(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>pe.forEach(p,w=>pe.forEach(w.ls,E=>y.persistence.referenceDelegate.addReference(x,w.targetId,E)).next(()=>pe.forEach(w.hs,E=>y.persistence.referenceDelegate.removeReference(x,w.targetId,E)))))}catch(x){if(!Sc(x))throw x;Ne(av,"Failed to update sequence numbers: "+x)}for(const x of p){const w=x.targetId;if(!x.fromCache){const E=y.Ss.get(w),T=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(T);y.Ss=y.Ss.insert(w,D)}}}(r.localStore,o))}async function NM(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ne(yv,"User change. New user:",e.toKey());const r=await Y2(t.localStore,e);t.currentUser=e,function(o,c){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new _e(de.CANCELLED,c))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Id(t,r.Ms)}}function CM(n,e){const t=We(n),r=t._u.get(e);if(r&&r.tu)return mt().add(r.key);{let a=mt();const o=t.iu.get(e);if(!o)return a;for(const c of o){const h=t.ru.get(c);a=a.unionWith(h.view.Wa)}return a}}function hS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.nu.Q_=uM.bind(null,e.eventManager),e.nu.Tu=dM.bind(null,e.eventManager),e}function AM(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TM.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return OO(this.persistence,new RO,e.initialUser,this.serializer)}Ru(e){return new K2(sv.Ei,this.serializer)}Au(e){return new zO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class RM extends Jf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){It(this.persistence.referenceDelegate instanceof Wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mO(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new K2(r=>Wf.Ei(r,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cM}()}createDatastore(e){const t=Im(e.databaseInfo.databaseId),r=function(o){return new HO(o)}(e.databaseInfo);return function(o,c,h,f){return new KO(o,c,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,h){return new XO(r,a,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>U_(this.syncEngine,t,0),function(){return D_.C()?new D_:new UO}())}createSyncEngine(e,t){return function(a,o,c,h,f,p,y){const x=new pM(a,o,c,h,f,p);return y&&(x.hu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=We(a);Ne(Lo,"RemoteStore shutting down."),o.aa.add(5),await Rd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="FirestoreClient";class IM{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Xn.UNAUTHENTICATED,this.clientId=o2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ne(Fa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ne(Fa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h0(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(Fa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Y2(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function F_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await jM(n);Ne(Fa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>k_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>k_(e.remoteStore,a)),n._onlineComponents=e}async function jM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(Fa,"Using user provided OfflineComponentProvider");try{await h0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;dc("Error using user provided cache. Falling back to memory cache: "+t),await h0(n,new Jf)}}else Ne(Fa,"Using default OfflineComponentProvider"),await h0(n,new RM(void 0));return n._offlineComponents}async function fS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(Fa,"Using user provided OnlineComponentProvider"),await F_(n,n._uninitializedComponentsProvider._online)):(Ne(Fa,"Using default OnlineComponentProvider"),await F_(n,new ty))),n._onlineComponents}function OM(n){return fS(n).then(e=>e.syncEngine)}async function em(n){const e=await fS(n),t=e.eventManager;return t.onListen=gM.bind(null,e.syncEngine),t.onUnlisten=xM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bM.bind(null,e.syncEngine),t}function MM(n,e,t={}){const r=new ji;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,p){const y=new xv({next:w=>{y.yu(),c.enqueueAndForget(()=>mv(o,x));const E=w.docs.has(h);!E&&w.fromCache?p.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&f&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new gv(Tm(h.path),y,{includeMetadataChanges:!0,Fa:!0});return fv(o,x)}(await em(n),n.asyncQueue,e,t,r)),r.promise}function DM(n,e,t={}){const r=new ji;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,p){const y=new xv({next:w=>{y.yu(),c.enqueueAndForget(()=>mv(o,x)),w.fromCache&&f.source==="server"?p.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new gv(h,y,{includeMetadataChanges:!0,Fa:!0});return fv(o,x)}(await em(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,e,t){if(!t)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PM(n,e,t,r){if(e===!0&&r===!0)throw new _e(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function H_(n){if(!Ve.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $_(n){if(Ve.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mm(n);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kM(n,e){if(e<=0)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firestore.googleapis.com",G_=!0;class Q_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gS,this.ssl=G_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:G_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hO)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q4;switch(r.type){case"firstParty":return new Q4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=q_.get(t);r&&(Ne("ComponentProvider","Removing Datastore"),q_.delete(t),r.terminate())}(this),Promise.resolve()}}function LM(n,e,t,r={}){var a;const o=(n=_r(n,Dm))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==gS&&o.host!==h&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!ka(f,c)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Xn.MOCK_USER;else{p=vj(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xn(x)}n._authCredentials=new H4(new i2(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=class yS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yS(this.firestore,e,this._query)}};class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ma extends Ga{constructor(e,t,r){super(e,t,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ve(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function jn(n,e,...t){if(n=fn(n),pS("collection","path",e),n instanceof Dm){const r=Ft.fromString(e,...t);return $_(r),new Ma(n,null,r)}{if(!(n instanceof Zn||n instanceof Ma))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return $_(r),new Ma(n.firestore,null,r)}}function os(n,e,...t){if(n=fn(n),arguments.length===1&&(e=o2.newId()),pS("doc","path",e),n instanceof Dm){const r=Ft.fromString(e,...t);return H_(r),new Zn(n,null,new Ve(r))}{if(!(n instanceof Zn||n instanceof Ma))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return H_(r),new Zn(n.firestore,n instanceof Ma?n.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class Y_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new W2(this,"async_queue_retry"),this.ju=()=>{const r=d0();r&&Ne(K_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=d0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=d0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ji;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Sc(e))throw e;Ne(K_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Mi("INTERNAL UNHANDLED ERROR: ",X_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=dv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:X_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function X_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Pi extends Dm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Y_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y_(e),this._firestoreClient=void 0,await e}}}function VM(n,e){const t=typeof n=="object"?n:YT(),r=typeof n=="string"?n:$f,a=$y(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=gj("firestore");o&&LM(a,...o)}return a}function Pm(n){if(n._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zM(n),n._firestoreClient}function zM(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,p,y){return new l3(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new IM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xc(qn.fromBase64String(e))}catch(t){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xc(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class BM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cd(e,this.data,t,this.fieldTransforms)}}class vS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class Lm{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return tm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(xS(this.oc)&&UM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class FM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Im(e)}dc(e,t,r,a=!1){return new Lm({oc:e,methodName:t,Ec:r,path:Fn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Im(n._databaseId);return new FM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bS(n,e,t,r,a,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,e,t,a);Tv("Data must be an object, but it was:",c,r);const h=_S(r,c);let f,p;if(o.merge)f=new Vr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const x of o.mergeFields){const w=ny(e,x,t);if(!c.contains(w))throw new _e(de.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TS(y,w)||y.push(w)}f=new Vr(y),p=c.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,p=c.fieldTransforms;return new BM(new wr(h),f,p)}class Vm extends jd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}function qM(n,e,t){return new Lm({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends jd{_toFieldTransform(e){return new D2(e.path,new ld)}isEqual(e){return e instanceof _v}}class Ev extends jd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=qM(this,e,!0),r=this.Ac.map(o=>Cc(o,t)),a=new gc(r);return new D2(e.path,a)}isEqual(e){return e instanceof Ev&&ka(this.Ac,e.Ac)}}function HM(n,e,t,r){const a=n.dc(1,e,t);Tv("Data must be an object, but it was:",a,r);const o=[],c=wr.empty();Ha(r,(f,p)=>{const y=Sv(e,f,t);p=fn(p);const x=a.hc(y);if(p instanceof Vm)o.push(y);else{const w=Cc(p,x);w!=null&&(o.push(y),c.set(y,w))}});const h=new Vr(o);return new vS(c,h,a.fieldTransforms)}function $M(n,e,t,r,a,o){const c=n.dc(1,e,t),h=[ny(e,r,t)],f=[a];if(o.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(ny(e,o[w])),f.push(o[w+1]);const p=[],y=wr.empty();for(let w=h.length-1;w>=0;--w)if(!TS(p,h[w])){const E=h[w];let T=f[w];T=fn(T);const D=c.hc(E);if(T instanceof Vm)p.push(E);else{const C=Cc(T,D);C!=null&&(p.push(E),y.set(E,C))}}const x=new Vr(p);return new vS(y,x,c.fieldTransforms)}function wS(n,e,t,r=!1){return Cc(t,n.dc(r?4:3,e))}function Cc(n,e){if(ES(n=fn(n)))return Tv("Unsupported field value:",e,n),_S(n,e);if(n instanceof jd)return function(r,a){if(!xS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const h of r){let f=Cc(h,a.Pc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bn.fromDate(r);return{timestampValue:Xf(a.serializer,o)}}if(r instanceof bn){const o=new bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xf(a.serializer,o)}}if(r instanceof bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:U2(a.serializer,r._byteString)};if(r instanceof Zn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof wv)return function(c,h){return{mapValue:{fields:{[p2]:{stringValue:g2},[Gf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Zy(h.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Mm(r)}`)}(n,e)}function _S(n,e){const t={};return c2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(r,a)=>{const o=Cc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof bv||n instanceof xc||n instanceof Zn||n instanceof jd||n instanceof wv)}function Tv(n,e,t){if(!ES(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Mm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function ny(n,e,t){if((e=fn(e))instanceof km)return e._internalPath;if(typeof e=="string")return Sv(n,e);throw tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const GM=new RegExp("[~\\*/\\[\\]]");function Sv(n,e,t){if(e.search(GM)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new km(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tm(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new _e(de.INVALID_ARGUMENT,h+n+f)}function TS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QM extends Nv{data(){return super.data()}}function zm(n,e){return typeof e=="string"?Sv(n,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class Um extends Cv{}function Es(n,e,...t){let r=[];e instanceof Cv&&r.push(e),r=r.concat(t),function(o){const c=o.filter(f=>f instanceof Av).length,h=o.filter(f=>f instanceof Bm).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Bm extends Um{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bm(e,t,r)}_apply(e){const t=this._parse(e);return NS(e._query,t),new Ga(e.firestore,e.converter,G0(e._query,t))}_parse(e){const t=Od(e.firestore);return function(o,c,h,f,p,y,x){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){J_(x,y);const T=[];for(const D of x)T.push(Z_(f,o,D));w={arrayValue:{values:T}}}else w=Z_(f,o,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||J_(x,y),w=wS(h,c,x,y==="in"||y==="not-in");return hn.create(p,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Na(n,e,t){const r=e,a=zm("where",n);return Bm._create(a,r,t)}class Av extends Cv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Av(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_s.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)NS(c,f),c=G0(c,f)}(e._query,t),new Ga(e.firestore,e.converter,G0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rv extends Um{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rv(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new od(o,c)}(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new qo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ry(n,e="asc"){const t=e,r=zm("orderBy",n);return Rv._create(r,t)}class Iv extends Um{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Iv(e,t,r)}_apply(e){return new Ga(e.firestore,e.converter,Kf(e._query,this._limit,this._limitType))}}function bc(n){return kM("limit",n),Iv._create("limit",n,"F")}class jv extends Um{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jv(e,t,r)}_apply(e){const t=KM(e,this.type,this._docOrFields,this._inclusive);return new Ga(e.firestore,e.converter,function(a,o){return new qo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function Ov(...n){return jv._create("startAfter",n,!1)}function KM(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof Nv)return function(o,c,h,f,p){if(!f)throw new _e(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const x of Hl(o))if(x.field.isKeyField())y.push(Qf(c,f.key));else{const w=f.data.field(x.field);if(_m(w))throw new _e(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const E=x.field.canonicalString();throw new _e(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}y.push(w)}return new pc(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Od(n.firestore);return function(c,h,f,p,y,x){const w=c.explicitOrderBy;if(y.length>w.length)throw new _e(de.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let T=0;T<y.length;T++){const D=y[T];if(w[T].field.isKeyField()){if(typeof D!="string")throw new _e(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!Wy(c)&&D.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const C=c.path.child(Ft.fromString(D));if(!Ve.isDocumentKey(C))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const N=new Ve(C);E.push(Qf(h,N))}else{const C=wS(f,p,D);E.push(C)}}return new pc(E,x)}(n._query,n.firestore._databaseId,a,e,t,r)}}function Z_(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&t.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ft.fromString(t));if(!Ve.isDocumentKey(r))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qf(n,new Ve(r))}if(t instanceof Zn)return Qf(n,t._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mm(t)}.`)}function J_(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(n,e){const t=function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YM{convertValue(e,t="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ha(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Gf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>rn(c.doubleValue));return new wv(o)}convertGeoPoint(e){return new bv(rn(e.latitude),rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const t=Va(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);It(G2(r),9688,{name:e});const a=new id(r.get(1),r.get(3)),o=new Ve(r.popFirst(5));return a.isEqual(t)||Mi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AS extends Nv{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cf extends AS{data(e={}){return super.data(e)}}class RS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Fu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cf(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new Cf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Cf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:XM(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){n=_r(n,Zn);const e=_r(n.firestore,Pi);return MM(Pm(e),n._key).then(t=>OS(e,n,t))}class Mv extends YM{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function zr(n){n=_r(n,Ga);const e=_r(n.firestore,Pi),t=Pm(e),r=new Mv(e);return SS(n._query),DM(t,n._query).then(a=>new RS(e,r,n,a))}function nm(n,e,t){n=_r(n,Zn);const r=_r(n.firestore,Pi),a=CS(n.converter,e,t);return Fm(r,[bS(Od(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,is.none())])}function Md(n,e,t,...r){n=_r(n,Zn);const a=_r(n.firestore,Pi),o=Od(a);let c;return c=typeof(e=fn(e))=="string"||e instanceof km?$M(o,"updateDoc",n._key,e,t,r):HM(o,"updateDoc",n._key,e),Fm(a,[c.toMutation(n._key,is.exists(!0))])}function IS(n){return Fm(_r(n.firestore,Pi),[new Jy(n._key,is.none())])}function WM(n,e){const t=_r(n.firestore,Pi),r=os(n),a=CS(n.converter,e);return Fm(t,[bS(Od(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,is.exists(!1))]).then(()=>r)}function jS(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||W_(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(W_(e[c])){const x=e[c];e[c]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[c+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[c+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let f,p,y;if(n instanceof Zn)p=_r(n.firestore,Pi),y=Tm(n._key.path),f={next:x=>{e[c]&&e[c](OS(p,n,x))},error:e[c+1],complete:e[c+2]};else{const x=_r(n,Ga);p=_r(x.firestore,Pi),y=x._query;const w=new Mv(p);f={next:E=>{e[c]&&e[c](new RS(p,w,x,E))},error:e[c+1],complete:e[c+2]},SS(n._query)}return function(w,E,T,D){const C=new xv(D),N=new gv(E,C,T);return w.asyncQueue.enqueueAndForget(async()=>fv(await em(w),N)),()=>{C.yu(),w.asyncQueue.enqueueAndForget(async()=>mv(await em(w),N))}}(Pm(p),y,h,f)}function Fm(n,e){return function(r,a){const o=new ji;return r.asyncQueue.enqueueAndForget(async()=>wM(await OM(r),a,o)),o.promise}(Pm(n),e)}function OS(n,e,t){const r=t.docs.get(e._key),a=new Mv(n);return new AS(n,a,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}function ZM(){return new _v("serverTimestamp")}function JM(...n){return new Ev("arrayUnion",n)}(function(e,t=!0){(function(a){Ec=a})(_c),uc(new Po("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Pi(new $4(r.getProvider("auth-internal")),new K4(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(p.options.projectId,y)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ja(t_,n_,e),ja(t_,n_,"esm2017")})();var eD="firebase",tD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja(eD,tD,"app");function Dv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=MS,DS=new Sd("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new qy("@firebase/auth");function rD(n,...e){rm.logLevel<=ft.WARN&&rm.warn(`Auth (${_c}): ${n}`,...e)}function Af(n,...e){rm.logLevel<=ft.ERROR&&rm.error(`Auth (${_c}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,...e){throw Pv(n,...e)}function Js(n,...e){return Pv(n,...e)}function PS(n,e,t){const r=Object.assign(Object.assign({},nD()),{[e]:t});return new Sd("auth","Firebase",r).create(e,{appName:n.name})}function Da(n){return PS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DS.create(n,...e)}function $e(n,e,...t){if(!n)throw Pv(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Af(e),new Error(e)}function ki(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sD(){return eE()==="http:"||eE()==="https:"}function eE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||_j()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=xj()||Ej()}get(){return iD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e){ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cD=new Dd(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qa(n,e,t,r,a={}){return LS(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=Nd(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return wj()||(p.referrerPolicy="no-referrer"),kS.fetch()(await VS(n,n.config.apiHost,t,h),p)})}async function LS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},oD),e);try{const a=new dD(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw df(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw df(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw df(n,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw PS(n,y,p);Ts(n,y)}}catch(a){if(a instanceof Vi)throw a;Ts(n,"network-request-failed",{message:String(a)})}}async function qm(n,e,t,r,a={}){const o=await Qa(n,e,t,r,a);return"mfaPendingCredential"in o&&Ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?kv(n.config,a):`${n.config.apiScheme}://${a}`;return lD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function uD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),cD.get())})}}function df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Js(n,e,r);return a.customData._tokenResponse=t,a}function tE(n){return n!==void 0&&n.enterprise!==void 0}class hD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fD(n,e){return Qa(n,"GET","/v2/recaptchaConfig",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e){return Qa(n,"POST","/v1/accounts:delete",e)}async function sm(n,e){return Qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pD(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=Lv(r);$e(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Xu(f0(a.auth_time)),issuedAtTime:Xu(f0(a.iat)),expirationTime:Xu(f0(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function f0(n){return Number(n)*1e3}function Lv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const a=FT(t);return a?JSON.parse(a):(Af("Failed to decode base64 JWT payload"),null)}catch(a){return Af("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function nE(n){const e=Lv(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vi&&gD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function gD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(n){var e;const t=n.auth,r=await n.getIdToken(),a=await dd(n,sm(t,{idToken:r}));$e(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zS(o.providerUserInfo):[],h=xD(n.providerData,c),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new iy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function vD(n){const e=fn(n);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xD(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zS(n){return n.map(e=>{var{providerId:t}=e,r=Dv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e){const t=await LS(n,{},async()=>{const r=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await VS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wD(n,e){return Qa(n,"POST","/v2/accounts:revokeToken",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=nE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await bD(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Gl;return r&&($e(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&($e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&($e(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=Dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await dd(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pD(this,e)}reload(){return vD(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await dd(this,mD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,c,h,f,p,y;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(c=t.photoURL)!==null&&c!==void 0?c:void 0,D=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,S=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:b,emailVerified:M,isAnonymous:z,providerData:L,stsTokenManager:k}=t;$e(b&&k,e,"internal-error");const R=Gl.fromJSON(this.name,k);$e(typeof b=="string",e,"internal-error"),ca(x,e.name),ca(w,e.name),$e(typeof M=="boolean",e,"internal-error"),$e(typeof z=="boolean",e,"internal-error"),ca(E,e.name),ca(T,e.name),ca(D,e.name),ca(C,e.name),ca(N,e.name),ca(S,e.name);const O=new xs({uid:b,auth:e,email:w,emailVerified:M,displayName:x,isAnonymous:z,photoURL:T,phoneNumber:E,tenantId:D,stsTokenManager:R,createdAt:N,lastLoginAt:S});return L&&Array.isArray(L)&&(O.providerData=L.map(P=>Object.assign({},P))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new Gl;a.updateFromServerResponse(t);const o=new xs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await im(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];$e(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?zS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Gl;h.updateFromIdToken(r);const f=new xs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new iy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function Ii(n){ki(n instanceof Function,"Expected a class definition");let e=rE.get(n);return e?(ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}US.type="NONE";const sE=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ql{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Rf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Rf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sm(this.auth,{idToken:e}).catch(()=>{});return t?xs._fromGetAccountInfoResponse(this.auth,t,e):null}return xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ql(Ii(sE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ii(sE);const c=Rf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){let x;if(typeof y=="string"){const w=await sm(e,{idToken:y}).catch(()=>{});if(!w)break;x=await xs._fromGetAccountInfoResponse(e,w,y)}else x=xs._fromJSON(e,y);p!==o&&(h=x),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ql(o,e,r):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Ql(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(QS(e))return"Webos";if(FS(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if($S(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(n=Jn()){return/firefox\//i.test(n)}function FS(n=Jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(n=Jn()){return/crios\//i.test(n)}function HS(n=Jn()){return/iemobile/i.test(n)}function $S(n=Jn()){return/android/i.test(n)}function GS(n=Jn()){return/blackberry/i.test(n)}function QS(n=Jn()){return/webos/i.test(n)}function Vv(n=Jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _D(n=Jn()){var e;return Vv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ED(){return Tj()&&document.documentMode===10}function KS(n=Jn()){return Vv(n)||$S(n)||QS(n)||GS(n)||/windows phone/i.test(n)||HS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n,e=[]){let t;switch(n){case"Browser":t=iE(Jn());break;case"Worker":t=`${iE(Jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e={}){return Qa(n,"GET","/v2/passwordPolicy",Go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=6;class CD{constructor(e){var t,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:ND,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sm(this,{idToken:e}),r=await xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(Da(this));const t=e?fn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SD(this),t=new CD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ac(n){return fn(n)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Oj(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RD(n){Hm=n}function XS(n){return Hm.loadJS(n)}function ID(){return Hm.recaptchaEnterpriseScript}function jD(){return Hm.gapiScript}function OD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class MD{constructor(){this.enterprise=new DD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PD="recaptcha-enterprise",WS="NO_RECAPTCHA";class kD{constructor(e){this.type=PD,this.auth=Ac(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{fD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new hD(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;tE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(WS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!t&&tE(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=ID();f.length!==0&&(f+=h),XS(f).then(()=>{a(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function oE(n,e,t,r=!1,a=!1){const o=new kD(n);let c;if(a)c=WS;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function lE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await oE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await oE(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n,e){const t=$y(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ka(o,e??{}))return a;Ts(a,"already-initialized")}return t.initialize({options:e})}function VD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zD(n,e,t){const r=Ac(n);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=ZS(e),{host:c,port:h}=UD(e),f=h===null?"":`:${h}`,p={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(ka(p,r.config.emulator)&&ka(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,BD()}function ZS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UD(n){const e=ZS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:cE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:cE(c)}}}function cE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function FD(n,e){return Qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e){return qm(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e){return qm(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function $D(n,e){return qm(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends zv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,t,"signInWithPassword",qD);case"emailLink":return HD(e,{email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,r,"signUpPassword",FD);case"emailLink":return $D(e,{idToken:t,email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e){return qm(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="http://localhost";class Vo extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=Dv(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Vo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:GD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KD(n){const e=Lu(Vu(n)).link,t=e?Lu(Vu(e)).deep_link_id:null,r=Lu(Vu(n)).deep_link_id;return(r?Lu(Vu(r)).link:null)||r||t||e||n}class Uv{constructor(e){var t,r,a,o,c,h;const f=Lu(Vu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,x=QD((a=f.mode)!==null&&a!==void 0?a:null);$e(p&&y&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=KD(e);try{return new Uv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Uv.parseLink(t);return $e(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends JS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Pd{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ma.credential(t,r)}catch{return null}}}ma.GOOGLE_SIGN_IN_METHOD="google.com";ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Pd{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Pd{constructor(){super("twitter.com")}static credential(e,t){return Vo._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ga.credential(t,r)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await xs._fromIdTokenResponse(e,r,a),c=uE(r);return new wc({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=uE(r);return new wc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function uE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends Vi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new am(e,t,r,a)}}function eN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(n,o,e,r):o})}async function YD(n,e,t=!1){const r=await dd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e,t=!1){const{auth:r}=n;if(vs(r.app))return Promise.reject(Da(r));const a="reauthenticate";try{const o=await dd(n,eN(r,a,e,n),t);$e(o.idToken,r,"internal-error");const c=Lv(o.idToken);$e(c,r,"internal-error");const{sub:h}=c;return $e(n.uid===h,r,"user-mismatch"),wc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ts(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e,t=!1){if(vs(n.app))return Promise.reject(Da(n));const r="signIn",a=await eN(n,r,e),o=await wc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function WD(n,e){return tN(Ac(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n){const e=Ac(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function JD(n,e,t){return vs(n.app)?Promise.reject(Da(n)):WD(fn(n),Rc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZD(n),r})}function eP(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function tP(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function nP(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function rP(n){return fn(n).signOut()}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1e3,iP=10;class rN extends nN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);ED()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iP):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rN.type="LOCAL";const aP=rN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends nN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sN.type="SESSION";const iN=sN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new $m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,o)),f=await oP(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const p=Bv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(x){const w=x;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function cP(n){ei().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function uP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hP(){return aN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebaseLocalStorageDb",fP=1,lm="firebaseLocalStorage",lN="fbase_key";class kd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gm(n,e){return n.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function mP(){const n=indexedDB.deleteDatabase(oN);return new kd(n).toPromise()}function ay(){const n=indexedDB.open(oN,fP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lm,{keyPath:lN})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lm)?e(r):(r.close(),await mP(),e(await ay()))})})}async function dE(n,e,t){const r=Gm(n,!0).put({[lN]:e,value:t});return new kd(r).toPromise()}async function pP(n,e){const t=Gm(n,!1).get(e),r=await new kd(t).toPromise();return r===void 0?null:r.value}function hE(n,e){const t=Gm(n,!0).delete(e);return new kd(t).toPromise()}const gP=800,yP=3;class cN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ay(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>yP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new lP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ay();return await dE(e,om,"1"),await hE(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>pP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Gm(a,!1).getAll();return new kd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cN.type="LOCAL";const vP=cN;new Dd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e){return e?Ii(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bP(n){return tN(n.auth,new Fv(n),n.bypassAuthState)}function wP(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),XD(t,new Fv(n),n.bypassAuthState)}async function _P(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),YD(t,new Fv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bP;case"linkViaPopup":case"linkViaRedirect":return _P;case"reauthViaPopup":case"reauthViaRedirect":return wP;default:Ts(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Dd(2e3,1e4);class Ul extends uN{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EP.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="pendingRedirect",If=new Map;class SP extends uN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=If.get(this.auth._key());if(!e){try{const r=await NP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}If.set(this.auth._key(),e)}return this.bypassAuthState||If.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NP(n,e){const t=RP(e),r=AP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function CP(n,e){If.set(n._key(),e)}function AP(n){return Ii(n._redirectPersistence)}function RP(n){return Rf(TP,n.config.apiKey,n.name)}async function IP(n,e,t=!1){if(vs(n.app))return Promise.reject(Da(n));const r=Ac(n),a=xP(r,e),c=await new SP(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=10*60*1e3;class OP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dN(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Js(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jP&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(n,e={}){return Qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kP=/^https?/;async function LP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DP(n);for(const t of e)try{if(VP(t))return}catch{}Ts(n,"unauthorized-domain")}function VP(n){const e=sy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!kP.test(t))return!1;if(PP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new Dd(3e4,6e4);function mE(){const n=ei().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UP(n){return new Promise((e,t)=>{var r,a,o;function c(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),t(Js(n,"network-request-failed"))},timeout:zP.get()})}if(!((a=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)c();else{const h=OD("iframefcb");return ei()[h]=()=>{gapi.load?c():t(Js(n,"network-request-failed"))},XS(`${jD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw jf=null,e})}let jf=null;function BP(n){return jf=jf||UP(n),jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Dd(5e3,15e3),qP="__/auth/iframe",HP="emulator/auth/iframe",$P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QP(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kv(e,HP):`https://${n.config.authDomain}/${qP}`,r={apiKey:e.apiKey,appName:n.name,v:_c},a=GP.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Nd(r).slice(1)}`}async function KP(n){const e=await BP(n),t=ei().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:QP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$P,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Js(n,"network-request-failed"),h=ei().setTimeout(()=>{o(c)},FP.get());function f(){ei().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XP=500,WP=600,ZP="_blank",JP="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e5(n,e,t,r=XP,a=WP){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},YP),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Jn().toLowerCase();t&&(h=qS(p)?ZP:t),BS(p)&&(e=e||JP,f.scrollbars="yes");const y=Object.entries(f).reduce((w,[E,T])=>`${w}${E}=${T},`,"");if(_D(p)&&h!=="_self")return t5(e||"",h),new pE(null);const x=window.open(e||"",h,y);$e(x,n,"popup-blocked");try{x.focus()}catch{}return new pE(x)}function t5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="__/auth/handler",r5="emulator/auth/handler",s5=encodeURIComponent("fac");async function gE(n,e,t,r,a,o){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_c,eventId:a};if(e instanceof JS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",jj(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))c[y]=x}if(e instanceof Pd){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${s5}=${encodeURIComponent(f)}`:"";return`${i5(n)}?${Nd(h).slice(1)}${p}`}function i5({config:n}){return n.emulator?kv(n,r5):`https://${n.authDomain}/${n5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="webStorageSupport";class a5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iN,this._completeRedirectFn=IP,this._overrideRedirectResult=CP}async _openPopup(e,t,r,a){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await gE(e,t,r,sy(),a);return e5(e,c,Bv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await gE(e,t,r,sy(),a);return cP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KP(e),r=new OP(e);return t.register("authEvent",a=>($e(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m0,{type:m0},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[m0];c!==void 0&&t(!!c),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KS()||FS()||Vv()}}const o5=a5;var yE="@firebase/auth",vE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u5(n){uc(new Po("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(n)},p=new AD(r,a,o,f);return VD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),uc(new Po("auth-internal",e=>{const t=Ac(e.getProvider("auth").getImmediate());return(r=>new l5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(yE,vE,c5(n)),ja(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=5*60,h5=$T("authIdTokenMaxAge")||d5;let xE=null;const f5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>h5)return;const a=t==null?void 0:t.token;xE!==a&&(xE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function m5(n=YT()){const e=$y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LD(n,{popupRedirectResolver:o5,persistence:[vP,aP,iN]}),r=$T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=f5(o.toString());tP(t,c,()=>c(t.currentUser)),eP(t,h=>c(h))}}const a=qT("auth");return a&&zD(t,`http://${a}`),t}function p5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Js("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",p5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u5("Browser");const g5={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},y5=KT(g5),p0=m5(),Dt=VM(y5),v5=()=>{const[n,e]=F.useState([]);return F.useEffect(()=>{(async()=>{try{const r=await zr(jn(Dt,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),d.jsxs("div",{className:"w-[100%] md:w-[80%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[d.jsxs("div",{className:"shrink-0 whitespace-nowrap text-[16px] md:text-[18px]",children:[" ",d.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})]}),d.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:d.jsx(LT,{children:n.map((t,r)=>d.jsx("span",{className:"mx-4",children:t},r))})}),d.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 shrink-0 text-[20px] md:text-[24px]",children:[" ",d.jsx("a",{href:"https://www.facebook.com/Homaira22",children:d.jsx(ij,{})}),d.jsx("a",{href:"",children:d.jsx(oj,{})}),d.jsx("a",{href:"",children:d.jsx(aj,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),bE=n=>{const e=b5(n);return e.charAt(0).toUpperCase()+e.slice(1)},hN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),w5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...h},f)=>F.createElement("svg",{ref:f,..._5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:hN("lucide",a),...!o&&!w5(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,y])=>F.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(n,e)=>{const t=F.forwardRef(({className:r,...a},o)=>F.createElement(E5,{ref:o,iconNode:e,className:hN(`lucide-${x5(bE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=bE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ll=_n("chevron-down",T5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vl=_n("chevron-up",S5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jl=_n("clock",N5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],A5=_n("credit-card",C5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],I5=_n("facebook",R5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],O5=_n("house",j5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],D5=_n("instagram",M5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],k5=_n("list",P5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wE=_n("mail",L5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_E=_n("map-pin",V5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],U5=_n("menu",z5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M5 12h14",key:"1ays0h"}]],F5=_n("minus",B5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],H5=_n("package",q5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Of=_n("phone",$5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Q5=_n("plus",G5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EE=_n("search",K5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mf=_n("shopping-cart",Y5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],W5=_n("twitter",X5);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wu=_n("x",Z5),TE="/assets/Screenshot_4-Photoroom-removebg-preview-DZTFVgoJ.png",J5=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=F.useState(t);F.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},c=()=>r.reduce((p,y)=>{const x=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(x)*y.quantity},0),h=p=>{const y=r.filter(x=>x.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},f=(p,y)=>{const x=r.map(w=>{if(w.id===p){const E=w.quantity+y;return{...w,quantity:E>0?E:1}}return w});a(x),localStorage.setItem("cart",JSON.stringify(x)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:x}))};return d.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:d.jsx("div",{className:"w-screen max-w-md",children:d.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[d.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Wu,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?d.jsxs("div",{className:"text-center mt-12",children:[d.jsx(Mf,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-6",children:d.jsx(ot,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):d.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var w,E;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),x=Math.floor(y)*p.quantity;return d.jsxs("li",{className:"py-6 flex gap-4",children:[d.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:d.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[d.jsx("h3",{children:p.name}),d.jsxs("p",{children:["৳",o(x)]})]}),((w=p.color)==null?void 0:w.name)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:p.color.name})]}),((E=p.size)==null?void 0:E.size)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:p.size.size})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>f(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(F5,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm",children:p.quantity}),d.jsx("button",{onClick:()=>f(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(Q5,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-500",children:d.jsx(Wu,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&d.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("p",{children:"Subtotal"}),d.jsxs("p",{children:["৳",o(c())]})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),d.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[d.jsx(ot,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),d.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},ek=()=>{const[n,e]=F.useState(!1),[t,r]=F.useState(!1),[a,o]=F.useState(null),[c,h]=F.useState([]),[f,p]=F.useState(!0),[y,x]=F.useState(0),[w,E]=F.useState(!1),[T,D]=F.useState([]),[C,N]=F.useState(""),[S,b]=F.useState([]),[M,z]=F.useState([]),[L,k]=F.useState(!1);F.useEffect(()=>{const I=async()=>{try{const oe=Es(jn(Dt,"menu-categories"),ry("order")),$=await zr(oe),se=[];$.forEach(ae=>{se.push({id:ae.id,...ae.data()})}),h(se),p(!1)}catch(oe){console.error("Error fetching menu items:",oe),p(!1)}},J=async()=>{try{const oe=jn(Dt,"products"),$=Es(oe),se=await zr($),ae=[];se.forEach(xe=>{ae.push({id:xe.id,...xe.data()})}),z(ae)}catch(oe){console.error("Error fetching products:",oe)}};I(),J()},[]),F.useEffect(()=>{const I=()=>{const J=JSON.parse(localStorage.getItem("cart"))||[],oe=J.reduce(($,se)=>$+se.quantity,0);x(oe),D(J)};return I(),window.addEventListener("storage",I),window.addEventListener("cartUpdated",I),()=>{window.removeEventListener("storage",I),window.removeEventListener("cartUpdated",I)}},[]),F.useEffect(()=>{if(C.trim()===""){b([]);return}const I=C.toLowerCase(),J=M.filter(oe=>{const $=oe.id.toLowerCase().includes(I),se=oe.tags&&oe.tags.some(ae=>ae.toLowerCase().includes(I));return $||se});b(J.slice(0,5))},[C,M]);const R=I=>{o(J=>J===I?null:I)},O=()=>{e(!0)},P=I=>{N(I.target.value)},V=I=>{I.preventDefault(),S.length>0&&(window.location.href=`/product/${S[0].id}`)},U=()=>{k(!L),N(""),b([])};return f?d.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[L&&d.jsx("div",{className:"md:hidden bg-white p-3 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsxs("form",{onSubmit:V,className:"flex items-center",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",value:C,onChange:P,autoFocus:!0}),d.jsx("button",{type:"button",onClick:U,className:"ml-2 text-gray-500 hover:text-gray-700",children:d.jsx(Wu,{size:24})})]}),S.length>0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md",children:S.map(I=>d.jsx(ot,{to:`/product/${I.id}`,className:"block px-4 py-2 hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>{k(!1),N("")},children:I.id},I.id))}),C&&S.length===0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md px-4 py-2 text-gray-500",children:"No products found"})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsx(ot,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),c.map(I=>I.type==="dropdown"?d.jsxs("div",{className:"group relative",children:[d.jsx(ot,{to:`/category/${I.id}`,className:"text-gray-700 hover:text-black capitalize",children:I.id}),d.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:I.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},I.id):d.jsx(ot,{to:I.path,className:"text-gray-700 hover:text-black capitalize",children:I.id},I.id))]}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(ot,{to:"/",children:d.jsx("img",{src:TE,alt:"Brand Logo",className:"h-[80px] w-auto"})})}),d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(ot,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),d.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:c.filter(I=>I.type==="dropdown").map(I=>d.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:I.id}),d.jsx("div",{className:"space-y-1",children:I.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:J.name},J.path))})]},I.id))})]}),d.jsx(ot,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),d.jsxs("button",{onClick:()=>E(!0),className:"text-gray-700 hover:text-black relative",children:[d.jsx(Mf,{size:20}),y>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:d.jsx(EE,{size:20})}),t&&d.jsxs("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded w-64",children:[d.jsx("form",{onSubmit:V,children:d.jsx("input",{type:"text",placeholder:"Search products...",className:"px-2 py-1 border border-gray-300 rounded w-full focus:outline-none",value:C,onChange:P,autoFocus:!0})}),S.length>0&&d.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:S.map(I=>d.jsx(ot,{to:`/product/${I.id}`,className:"block px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>{r(!1),N("")},children:I.id},I.id))}),C&&S.length===0&&d.jsx("div",{className:"mt-2 text-sm text-gray-500 px-2 py-1",children:"No products found"})]})]})]})]}),d.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:()=>{e(!n),k(!1)},children:n?d.jsx(Wu,{size:24}):d.jsx(U5,{size:24})})}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(ot,{to:"/",children:d.jsx("img",{src:TE,alt:"Brand Logo",className:"h-[70px] w-auto"})})}),d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:U,className:"text-gray-700 hover:text-black",children:L?d.jsx(Wu,{size:24}):d.jsx(EE,{size:24})})})]})]}),n&&!L&&d.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[d.jsx(ot,{to:"/",className:"block font-semibold",children:"Home"}),c.map(I=>I.type==="dropdown"?d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>R(I.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[I.id,a===I.id?d.jsx(Vl,{size:18}):d.jsx(Ll,{size:18})]}),a===I.id&&d.jsx("div",{className:"ml-4 mt-2 space-y-1",children:I.items.map(J=>d.jsx(ot,{to:`${J.path}`,className:"block capitalize",children:J.name},J.path))})]},I.id):d.jsx(ot,{to:I.path,className:"block font-semibold capitalize",children:I.id},I.id)),d.jsx(ot,{to:"/cart",className:"block font-semibold",children:"Orders"}),d.jsxs("button",{onClick:()=>{e(!1),E(!0)},className:"flex items-center space-x-2 relative",children:[d.jsx(Mf,{size:20}),d.jsx("span",{children:"Cart"}),y>0&&d.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]})]})]}),!L&&d.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:d.jsxs("div",{className:"flex justify-around items-center h-16",children:[d.jsxs(ot,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(O5,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),d.jsxs("button",{onClick:O,className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(k5,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),d.jsxs(ot,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(H5,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),d.jsxs("button",{onClick:()=>E(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[d.jsx(Mf,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&d.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),d.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(Of,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),d.jsx(J5,{isOpen:w,onClose:()=>E(!1),cartItems:T})]})},tk=()=>{const[n,e]=F.useState([]);return F.useEffect(()=>{(async()=>{try{const r=await zr(jn(Dt,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),d.jsx("div",{children:d.jsx("div",{children:d.jsx("div",{className:"w-full block md:hidden px-4",children:d.jsx(LT,{children:n.map((t,r)=>d.jsx("span",{className:"mx-4",children:t},r))})})})})};var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zo=typeof window>"u"||"Deno"in globalThis;function br(){}function nk(n,e){return typeof n=="function"?n(e):n}function oy(n){return typeof n=="number"&&n>=0&&n!==1/0}function fN(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Yl(n,e){return typeof n=="function"?n(e):n}function ys(n,e){return typeof n=="function"?n(e):n}function SE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:h}=n;if(c){if(r){if(e.queryHash!==qv(c,e.options))return!1}else if(!md(e.queryKey,c))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function NE(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(fd(e.options.mutationKey)!==fd(o))return!1}else if(!md(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function qv(n,e){return((e==null?void 0:e.queryKeyHashFn)||fd)(n)}function fd(n){return JSON.stringify(n,(e,t)=>cy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function md(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>md(n[t],e[t])):!1}function mN(n,e){if(n===e)return n;const t=CE(n)&&CE(e);if(t||cy(n)&&cy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),c=o.length,h=t?[]:{};let f=0;for(let p=0;p<c;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,f++):(h[y]=mN(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&f++)}return a===c&&f===a?n:h}return e}function ly(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function CE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function cy(n){if(!AE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!AE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function AE(n){return Object.prototype.toString.call(n)==="[object Object]"}function rk(n){return new Promise(e=>{setTimeout(e,n)})}function uy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?mN(n,e):e}function sk(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function ik(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Hv=Symbol();function pN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Hv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function ak(n,e){return typeof n=="function"?n(...e):!!n}var So,ya,Wl,nT,ok=(nT=class extends Ld{constructor(){super();Ke(this,So);Ke(this,ya);Ke(this,Wl);Ie(this,Wl,e=>{if(!zo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ya)||this.setEventListener(Y(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ya))==null||e.call(this),Ie(this,ya,void 0))}setEventListener(e){var t;Ie(this,Wl,e),(t=Y(this,ya))==null||t.call(this),Ie(this,ya,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,So)!==e&&(Ie(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,So)=="boolean"?Y(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,ya=new WeakMap,Wl=new WeakMap,nT),$v=new ok,Zl,va,Jl,rT,lk=(rT=class extends Ld{constructor(){super();Ke(this,Zl,!0);Ke(this,va);Ke(this,Jl);Ie(this,Jl,e=>{if(!zo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,va)||this.setEventListener(Y(this,Jl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,va))==null||e.call(this),Ie(this,va,void 0))}setEventListener(e){var t;Ie(this,Jl,e),(t=Y(this,va))==null||t.call(this),Ie(this,va,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Zl)!==e&&(Ie(this,Zl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Zl)}},Zl=new WeakMap,va=new WeakMap,Jl=new WeakMap,rT),cm=new lk;function dy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function ck(n){return Math.min(1e3*2**n,3e4)}function gN(n){return(n??"online")==="online"?cm.isOnline():!0}var yN=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function g0(n){return n instanceof yN}function vN(n){let e=!1,t=0,r=!1,a;const o=dy(),c=D=>{var C;r||(w(new yN(D)),(C=n.abort)==null||C.call(n))},h=()=>{e=!0},f=()=>{e=!1},p=()=>$v.isFocused()&&(n.networkMode==="always"||cm.isOnline())&&n.canRun(),y=()=>gN(n.networkMode)&&n.canRun(),x=D=>{var C;r||(r=!0,(C=n.onSuccess)==null||C.call(n,D),a==null||a(),o.resolve(D))},w=D=>{var C;r||(r=!0,(C=n.onError)==null||C.call(n,D),a==null||a(),o.reject(D))},E=()=>new Promise(D=>{var C;a=N=>{(r||p())&&D(N)},(C=n.onPause)==null||C.call(n)}).then(()=>{var D;a=void 0,r||(D=n.onContinue)==null||D.call(n)}),T=()=>{if(r)return;let D;const C=t===0?n.initialPromise:void 0;try{D=C??n.fn()}catch(N){D=Promise.reject(N)}Promise.resolve(D).then(x).catch(N=>{var L;if(r)return;const S=n.retry??(zo?0:3),b=n.retryDelay??ck,M=typeof b=="function"?b(t,N):b,z=S===!0||typeof S=="number"&&t<S||typeof S=="function"&&S(t,N);if(e||!z){w(N);return}t++,(L=n.onFail)==null||L.call(n,t,N),rk(M).then(()=>p()?void 0:E()).then(()=>{e?w(N):T()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:h,continueRetry:f,canStart:y,start:()=>(y()?T():E().then(T),o)}}var uk=n=>setTimeout(n,0);function dk(){let n=[],e=0,t=h=>{h()},r=h=>{h()},a=uk;const o=h=>{e?n.push(h):a(()=>{t(h)})},c=()=>{const h=n;n=[],h.length&&a(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||c()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Bn=dk(),No,sT,xN=(sT=class{constructor(){Ke(this,No)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oy(this.gcTime)&&Ie(this,No,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(zo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,No)&&(clearTimeout(Y(this,No)),Ie(this,No,void 0))}},No=new WeakMap,sT),ec,tc,rs,Co,Yn,gd,Ao,ps,Ni,iT,hk=(iT=class extends xN{constructor(e){super();Ke(this,ps);Ke(this,ec);Ke(this,tc);Ke(this,rs);Ke(this,Co);Ke(this,Yn);Ke(this,gd);Ke(this,Ao);Ie(this,Ao,!1),Ie(this,gd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Co,e.client),Ie(this,rs,Y(this,Co).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,ec,fk(this.options)),this.state=e.state??Y(this,ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Yn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,gd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,rs).remove(this)}setData(e,t){const r=uy(this.state.data,e,this.options);return yt(this,ps,Ni).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){yt(this,ps,Ni).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Yn))==null?void 0:r.promise;return(a=Y(this,Yn))==null||a.cancel(e),t?t.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,ec))}isActive(){return this.observers.some(e=>ys(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!fN(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Yn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Yn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,rs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Yn)&&(Y(this,Ao)?Y(this,Yn).cancel({revert:!0}):Y(this,Yn).cancelRetry()),this.scheduleGc()),Y(this,rs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,ps,Ni).call(this,{type:"invalidate"})}fetch(e,t){var f,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Yn))return Y(this,Yn).continueRetry(),Y(this,Yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Ie(this,Ao,!0),r.signal)})},o=()=>{const x=pN(this.options,t),w={client:Y(this,Co),queryKey:this.queryKey,meta:this.meta};return a(w),Ie(this,Ao,!1),this.options.persister?this.options.persister(x,w,this):x(w)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,Co),state:this.state,fetchFn:o};a(c),(f=this.options.behavior)==null||f.onFetch(c,this),Ie(this,tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&yt(this,ps,Ni).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const h=x=>{var w,E,T,D;g0(x)&&x.silent||yt(this,ps,Ni).call(this,{type:"error",error:x}),g0(x)||((E=(w=Y(this,rs).config).onError)==null||E.call(w,x,this),(D=(T=Y(this,rs).config).onSettled)==null||D.call(T,this.state.data,x,this)),this.scheduleGc()};return Ie(this,Yn,vN({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var w,E,T,D;if(x===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(C){h(C);return}(E=(w=Y(this,rs).config).onSuccess)==null||E.call(w,x,this),(D=(T=Y(this,rs).config).onSettled)==null||D.call(T,x,this.state.error,this),this.scheduleGc()},onError:h,onFail:(x,w)=>{yt(this,ps,Ni).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{yt(this,ps,Ni).call(this,{type:"pause"})},onContinue:()=>{yt(this,ps,Ni).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,Yn).start()}},ec=new WeakMap,tc=new WeakMap,rs=new WeakMap,Co=new WeakMap,Yn=new WeakMap,gd=new WeakMap,Ao=new WeakMap,ps=new WeakSet,Ni=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return g0(a)&&a.revert&&Y(this,tc)?{...Y(this,tc),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,rs).notify({query:this,type:"updated",action:e})})},iT);function bN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function fk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Qs,aT,mk=(aT=class extends Ld{constructor(e={}){super();Ke(this,Qs);this.config=e,Ie(this,Qs,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??qv(a,t);let c=this.get(o);return c||(c=new hk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){Y(this,Qs).has(e.queryHash)||(Y(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Qs).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Qs).get(e)}getAll(){return[...Y(this,Qs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>SE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>SE(e,r)):t}notify(e){Bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,aT),Ks,lr,Ro,Ys,da,oT,pk=(oT=class extends xN{constructor(e){super();Ke(this,Ys);Ke(this,Ks);Ke(this,lr);Ke(this,Ro);this.mutationId=e.mutationId,Ie(this,lr,e.mutationCache),Ie(this,Ks,[]),this.state=e.state||gk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Ks).includes(e)||(Y(this,Ks).push(e),this.clearGcTimeout(),Y(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Ks,Y(this,Ks).filter(t=>t!==e)),this.scheduleGc(),Y(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Ks).length||(this.state.status==="pending"?this.scheduleGc():Y(this,lr).remove(this))}continue(){var e;return((e=Y(this,Ro))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,h,f,p,y,x,w,E,T,D,C,N,S,b,M,z,L,k,R;const t=()=>{yt(this,Ys,da).call(this,{type:"continue"})};Ie(this,Ro,vN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,P)=>{yt(this,Ys,da).call(this,{type:"failed",failureCount:O,error:P})},onPause:()=>{yt(this,Ys,da).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,lr).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,Ro).canStart();try{if(r)t();else{yt(this,Ys,da).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,lr).config).onMutate)==null?void 0:c.call(o,e,this));const P=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e));P!==this.state.context&&yt(this,Ys,da).call(this,{type:"pending",context:P,variables:e,isPaused:a})}const O=await Y(this,Ro).start();return await((y=(p=Y(this,lr).config).onSuccess)==null?void 0:y.call(p,O,e,this.state.context,this)),await((w=(x=this.options).onSuccess)==null?void 0:w.call(x,O,e,this.state.context)),await((T=(E=Y(this,lr).config).onSettled)==null?void 0:T.call(E,O,null,this.state.variables,this.state.context,this)),await((C=(D=this.options).onSettled)==null?void 0:C.call(D,O,null,e,this.state.context)),yt(this,Ys,da).call(this,{type:"success",data:O}),O}catch(O){try{throw await((S=(N=Y(this,lr).config).onError)==null?void 0:S.call(N,O,e,this.state.context,this)),await((M=(b=this.options).onError)==null?void 0:M.call(b,O,e,this.state.context)),await((L=(z=Y(this,lr).config).onSettled)==null?void 0:L.call(z,void 0,O,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,O,e,this.state.context)),O}finally{yt(this,Ys,da).call(this,{type:"error",error:O})}}finally{Y(this,lr).runNext(this)}}},Ks=new WeakMap,lr=new WeakMap,Ro=new WeakMap,Ys=new WeakSet,da=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Bn.batch(()=>{Y(this,Ks).forEach(r=>{r.onMutationUpdate(e)}),Y(this,lr).notify({mutation:this,type:"updated",action:e})})},oT);function gk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,gs,yd,lT,yk=(lT=class extends Ld{constructor(e={}){super();Ke(this,Ai);Ke(this,gs);Ke(this,yd);this.config=e,Ie(this,Ai,new Set),Ie(this,gs,new Map),Ie(this,yd,0)}build(e,t,r){const a=new pk({mutationCache:this,mutationId:++tf(this,yd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,Ai).add(e);const t=hf(e);if(typeof t=="string"){const r=Y(this,gs).get(t);r?r.push(e):Y(this,gs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Ai).delete(e)){const t=hf(e);if(typeof t=="string"){const r=Y(this,gs).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,gs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=hf(e);if(typeof t=="string"){const r=Y(this,gs).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=hf(e);if(typeof t=="string"){const a=(r=Y(this,gs).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bn.batch(()=>{Y(this,Ai).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Ai).clear(),Y(this,gs).clear()})}getAll(){return Array.from(Y(this,Ai))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>NE(t,r))}findAll(e={}){return this.getAll().filter(t=>NE(e,t))}notify(e){Bn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Bn.batch(()=>Promise.all(e.map(t=>t.continue().catch(br))))}},Ai=new WeakMap,gs=new WeakMap,yd=new WeakMap,lT);function hf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function um(n){return{onFetch:(e,t)=>{var y,x,w,E,T;const r=e.options,a=(w=(x=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:x.fetchMore)==null?void 0:w.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],c=((T=e.state.data)==null?void 0:T.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let D=!1;const C=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},N=pN(e.options,e.fetchOptions),S=async(b,M,z)=>{if(D)return Promise.reject();if(M==null&&b.pages.length)return Promise.resolve(b);const L={client:e.client,queryKey:e.queryKey,pageParam:M,direction:z?"backward":"forward",meta:e.options.meta};C(L);const k=await N(L),{maxPages:R}=e.options,O=z?ik:sk;return{pages:O(b.pages,k,R),pageParams:O(b.pageParams,M,R)}};if(a&&o.length){const b=a==="backward",M=b?wN:hy,z={pages:o,pageParams:c},L=M(r,z);h=await S(z,L,b)}else{const b=n??o.length;do{const M=f===0?c[0]??r.initialPageParam:hy(r,h);if(f>0&&M==null)break;h=await S(h,M),f++}while(f<b)}return h};e.options.persister?e.fetchFn=()=>{var D,C;return(C=(D=e.options).persister)==null?void 0:C.call(D,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function hy(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function wN(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function vk(n,e){return e?hy(n,e)!=null:!1}function xk(n,e){return!e||!n.getPreviousPageParam?!1:wN(n,e)!=null}var en,xa,ba,nc,rc,wa,sc,ic,cT,bk=(cT=class{constructor(n={}){Ke(this,en);Ke(this,xa);Ke(this,ba);Ke(this,nc);Ke(this,rc);Ke(this,wa);Ke(this,sc);Ke(this,ic);Ie(this,en,n.queryCache||new mk),Ie(this,xa,n.mutationCache||new yk),Ie(this,ba,n.defaultOptions||{}),Ie(this,nc,new Map),Ie(this,rc,new Map),Ie(this,wa,0)}mount(){tf(this,wa)._++,Y(this,wa)===1&&(Ie(this,sc,$v.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onFocus())})),Ie(this,ic,cm.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,en).onOnline())})))}unmount(){var n,e;tf(this,wa)._--,Y(this,wa)===0&&((n=Y(this,sc))==null||n.call(this),Ie(this,sc,void 0),(e=Y(this,ic))==null||e.call(this),Ie(this,ic,void 0))}isFetching(n){return Y(this,en).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,xa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,en).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Yl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,en).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,en).get(r.queryHash),o=a==null?void 0:a.state.data,c=nk(e,o);if(c!==void 0)return Y(this,en).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return Bn.batch(()=>Y(this,en).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,en).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,en);Bn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,en);return Bn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Bn.batch(()=>Y(this,en).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(br).catch(br)}invalidateQueries(n,e={}){return Bn.batch(()=>(Y(this,en).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Bn.batch(()=>Y(this,en).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(br)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(br)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,en).build(this,e);return t.isStaleByTime(Yl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(br).catch(br)}fetchInfiniteQuery(n){return n.behavior=um(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(br).catch(br)}ensureInfiniteQueryData(n){return n.behavior=um(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return cm.isOnline()?Y(this,xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,en)}getMutationCache(){return Y(this,xa)}getDefaultOptions(){return Y(this,ba)}setDefaultOptions(n){Ie(this,ba,n)}setQueryDefaults(n,e){Y(this,nc).set(fd(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,nc).values()],t={};return e.forEach(r=>{md(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,rc).set(fd(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,rc).values()],t={};return e.forEach(r=>{md(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ba).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=qv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ba).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,en).clear(),Y(this,xa).clear()}},en=new WeakMap,xa=new WeakMap,ba=new WeakMap,nc=new WeakMap,rc=new WeakMap,wa=new WeakMap,sc=new WeakMap,ic=new WeakMap,cT),vr,vt,vd,cr,Io,ac,_a,Ea,xd,oc,lc,jo,Oo,Ta,cc,Rt,qu,fy,my,py,gy,yy,vy,xy,EN,uT,_N=(uT=class extends Ld{constructor(e,t){super();Ke(this,Rt);Ke(this,vr);Ke(this,vt);Ke(this,vd);Ke(this,cr);Ke(this,Io);Ke(this,ac);Ke(this,_a);Ke(this,Ea);Ke(this,xd);Ke(this,oc);Ke(this,lc);Ke(this,jo);Ke(this,Oo);Ke(this,Ta);Ke(this,cc,new Set);this.options=t,Ie(this,vr,e),Ie(this,Ea,null),Ie(this,_a,dy()),this.options.experimental_prefetchInRender||Y(this,_a).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,vt).addObserver(this),RE(Y(this,vt),this.options)?yt(this,Rt,qu).call(this):this.updateResult(),yt(this,Rt,gy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return by(Y(this,vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return by(Y(this,vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,yt(this,Rt,yy).call(this),yt(this,Rt,vy).call(this),Y(this,vt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,vt);if(this.options=Y(this,vr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,Y(this,vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");yt(this,Rt,xy).call(this),Y(this,vt).setOptions(this.options),t._defaulted&&!ly(this.options,t)&&Y(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,vt),observer:this});const a=this.hasListeners();a&&IE(Y(this,vt),r,this.options,t)&&yt(this,Rt,qu).call(this),this.updateResult(),a&&(Y(this,vt)!==r||ys(this.options.enabled,Y(this,vt))!==ys(t.enabled,Y(this,vt))||Yl(this.options.staleTime,Y(this,vt))!==Yl(t.staleTime,Y(this,vt)))&&yt(this,Rt,fy).call(this);const o=yt(this,Rt,my).call(this);a&&(Y(this,vt)!==r||ys(this.options.enabled,Y(this,vt))!==ys(t.enabled,Y(this,vt))||o!==Y(this,Ta))&&yt(this,Rt,py).call(this,o)}getOptimisticResult(e){const t=Y(this,vr).getQueryCache().build(Y(this,vr),e),r=this.createResult(t,e);return _k(this,r)&&(Ie(this,cr,r),Ie(this,ac,this.options),Ie(this,Io,Y(this,vt).state)),r}getCurrentResult(){return Y(this,cr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,cc).add(e)}getCurrentQuery(){return Y(this,vt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,vr).defaultQueryOptions(e),r=Y(this,vr).getQueryCache().build(Y(this,vr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return yt(this,Rt,qu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,cr)))}createResult(e,t){var O;const r=Y(this,vt),a=this.options,o=Y(this,cr),c=Y(this,Io),h=Y(this,ac),p=e!==r?e.state:Y(this,vd),{state:y}=e;let x={...y},w=!1,E;if(t._optimisticResults){const P=this.hasListeners(),V=!P&&RE(e,t),U=P&&IE(e,r,t,a);(V||U)&&(x={...x,...bN(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:T,errorUpdatedAt:D,status:C}=x;E=x.data;let N=!1;if(t.placeholderData!==void 0&&E===void 0&&C==="pending"){let P;o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(P=o.data,N=!0):P=typeof t.placeholderData=="function"?t.placeholderData((O=Y(this,lc))==null?void 0:O.state.data,Y(this,lc)):t.placeholderData,P!==void 0&&(C="success",E=uy(o==null?void 0:o.data,P,t),w=!0)}if(t.select&&E!==void 0&&!N)if(o&&E===(c==null?void 0:c.data)&&t.select===Y(this,xd))E=Y(this,oc);else try{Ie(this,xd,t.select),E=t.select(E),E=uy(o==null?void 0:o.data,E,t),Ie(this,oc,E),Ie(this,Ea,null)}catch(P){Ie(this,Ea,P)}Y(this,Ea)&&(T=Y(this,Ea),E=Y(this,oc),D=Date.now(),C="error");const S=x.fetchStatus==="fetching",b=C==="pending",M=C==="error",z=b&&S,L=E!==void 0,R={status:C,fetchStatus:x.fetchStatus,isPending:b,isSuccess:C==="success",isError:M,isInitialLoading:z,isLoading:z,data:E,dataUpdatedAt:x.dataUpdatedAt,error:T,errorUpdatedAt:D,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:M&&!L,isPaused:x.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:M&&L,isStale:Gv(e,t),refetch:this.refetch,promise:Y(this,_a)};if(this.options.experimental_prefetchInRender){const P=I=>{R.status==="error"?I.reject(R.error):R.data!==void 0&&I.resolve(R.data)},V=()=>{const I=Ie(this,_a,R.promise=dy());P(I)},U=Y(this,_a);switch(U.status){case"pending":e.queryHash===r.queryHash&&P(U);break;case"fulfilled":(R.status==="error"||R.data!==U.value)&&V();break;case"rejected":(R.status!=="error"||R.error!==U.reason)&&V();break}}return R}updateResult(){const e=Y(this,cr),t=this.createResult(Y(this,vt),this.options);if(Ie(this,Io,Y(this,vt).state),Ie(this,ac,this.options),Y(this,Io).data!==void 0&&Ie(this,lc,Y(this,vt)),ly(t,e))return;Ie(this,cr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,cc).size)return!0;const c=new Set(o??Y(this,cc));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,cr)).some(h=>{const f=h;return Y(this,cr)[f]!==e[f]&&c.has(f)})};yt(this,Rt,EN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&yt(this,Rt,gy).call(this)}},vr=new WeakMap,vt=new WeakMap,vd=new WeakMap,cr=new WeakMap,Io=new WeakMap,ac=new WeakMap,_a=new WeakMap,Ea=new WeakMap,xd=new WeakMap,oc=new WeakMap,lc=new WeakMap,jo=new WeakMap,Oo=new WeakMap,Ta=new WeakMap,cc=new WeakMap,Rt=new WeakSet,qu=function(e){yt(this,Rt,xy).call(this);let t=Y(this,vt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(br)),t},fy=function(){yt(this,Rt,yy).call(this);const e=Yl(this.options.staleTime,Y(this,vt));if(zo||Y(this,cr).isStale||!oy(e))return;const r=fN(Y(this,cr).dataUpdatedAt,e)+1;Ie(this,jo,setTimeout(()=>{Y(this,cr).isStale||this.updateResult()},r))},my=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,vt)):this.options.refetchInterval)??!1},py=function(e){yt(this,Rt,vy).call(this),Ie(this,Ta,e),!(zo||ys(this.options.enabled,Y(this,vt))===!1||!oy(Y(this,Ta))||Y(this,Ta)===0)&&Ie(this,Oo,setInterval(()=>{(this.options.refetchIntervalInBackground||$v.isFocused())&&yt(this,Rt,qu).call(this)},Y(this,Ta)))},gy=function(){yt(this,Rt,fy).call(this),yt(this,Rt,py).call(this,yt(this,Rt,my).call(this))},yy=function(){Y(this,jo)&&(clearTimeout(Y(this,jo)),Ie(this,jo,void 0))},vy=function(){Y(this,Oo)&&(clearInterval(Y(this,Oo)),Ie(this,Oo,void 0))},xy=function(){const e=Y(this,vr).getQueryCache().build(Y(this,vr),this.options);if(e===Y(this,vt))return;const t=Y(this,vt);Ie(this,vt,e),Ie(this,vd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},EN=function(e){Bn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,cr))}),Y(this,vr).getQueryCache().notify({query:Y(this,vt),type:"observerResultsUpdated"})})},uT);function wk(n,e){return ys(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function RE(n,e){return wk(n,e)||n.state.data!==void 0&&by(n,e,e.refetchOnMount)}function by(n,e,t){if(ys(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Gv(n,e)}return!1}function IE(n,e,t,r){return(n!==e||ys(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Gv(n,t)}function Gv(n,e){return ys(e.enabled,n)!==!1&&n.isStaleByTime(Yl(e.staleTime,n))}function _k(n,e){return!ly(n.getCurrentResult(),e)}var Ek=class extends _N{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:um()})}getOptimisticResult(n){return n.behavior=um(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var T,D;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:c,isRefetchError:h}=r,f=(D=(T=t.fetchMeta)==null?void 0:T.fetchMore)==null?void 0:D.direction,p=c&&f==="forward",y=a&&f==="forward",x=c&&f==="backward",w=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vk(e,t.data),hasPreviousPage:xk(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:x,isFetchingPreviousPage:w,isRefetchError:h&&!p&&!x,isRefetching:o&&!y&&!w}}},TN=F.createContext(void 0),Tk=n=>{const e=F.useContext(TN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Sk=({client:n,children:e})=>(F.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(TN.Provider,{value:n,children:e})),SN=F.createContext(!1),Nk=()=>F.useContext(SN);SN.Provider;function Ck(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Ak=F.createContext(Ck()),Rk=()=>F.useContext(Ak),Ik=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},jk=n=>{F.useEffect(()=>{n.clearReset()},[n])},Ok=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||ak(t,[n.error,r])),Mk=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Dk=(n,e)=>n.isLoading&&n.isFetching&&!e,Pk=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,jE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function NN(n,e,t){var x,w,E,T,D;const r=Tk(),a=Nk(),o=Rk(),c=r.defaultQueryOptions(n);(w=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||w.call(x,c),c._optimisticResults=a?"isRestoring":"optimistic",Mk(c),Ik(c,o),jk(o);const h=!r.getQueryCache().get(c.queryHash),[f]=F.useState(()=>new e(r,c)),p=f.getOptimisticResult(c),y=!a&&n.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(C=>{const N=y?f.subscribe(Bn.batchCalls(C)):br;return f.updateResult(),N},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),F.useEffect(()=>{f.setOptions(c)},[c,f]),Pk(c,p))throw jE(c,f,o);if(Ok({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((T=(E=r.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||T.call(E,c,p),c.experimental_prefetchInRender&&!zo&&Dk(p,a)){const C=h?jE(c,f,o):(D=r.getQueryCache().get(c.queryHash))==null?void 0:D.promise;C==null||C.catch(br).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?p:f.trackResult(p)}function kk(n,e){return NN(n,_N)}function CN(n,e){return NN(n,Ek)}const OE="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",Lk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-37.062%20-28.3525%20321.204%20170.115'%3e%3cg%20fill='none'%3e%3cpath%20fill='%23D12053'%20d='M223.65%2062.45l-53.03-8.31%207.03%2031.6z'/%3e%3cpath%20fill='%23E2136E'%20d='M223.65%2062.45L183.69%206.93l-13.06%2047.22z'/%3e%3cpath%20fill='%23D12053'%20d='M169.39%2053.51L127.52%200l54.83%206.55z'/%3e%3cpath%20fill='%239E1638'%20d='M150.32%2031.15L127.07%209.24h6.12z'/%3e%3cpath%20fill='%23D12053'%20d='M234.96%2035.46l-9.84%2026.69-15.95-22.06z'/%3e%3cpath%20fill='%23E2136E'%20d='M183.84%2084.14l38.61-15.51%201.62-4.93z'/%3e%3cpath%20fill='%239E1638'%20d='M152.96%20113.41l16.54-58.02%208.39%2037.75z'/%3e%3cpath%20fill='%23E2136E'%20d='M236.5%2035.67l-4.06%2011.02%2014.64-.24zM0%2040.09c.71.06%201.43.19%202.19.19s1.38-.13%202.19-.19v23.47c2.31-3.93%205.22-6.52%209.5-6.52%207.74%200%2011.06%207.66%2011.06%2014.7%200%208.43-4.5%2016.5-12.39%2016.5a8.66%208.66%200%2001-7.77-4.47c-1.32%201.16-2.49%202.55-3.74%203.81h-1zm4.28%2034.52c0%206.84%202.9%2011.61%207.67%2011.61%206.19%200%208.18-8.32%208.18-14.22%200-6.85-2.26-12.24-7.62-12.3-6.26-.05-8.23%207.36-8.23%2014.92z'/%3e%3cpath%20fill='%23231F20'%20d='M45.13%2055.27l-4.66%206c4.38%206.4%208.92%2012.67%2013.32%2019.15l4.44%207v.35c-1.09-.07-2.08-.21-3-.21-.92%200-2.08.14-3.06.21-1.21-2.24-2.41-4.31-3.78-6.34l-12-17.75c-.27-.28-.92-.5-.92-.21v24.3c-.88-.07-1.65-.21-2.41-.21-.76%200-1.64.14-2.41.21V40.09c.77.06%201.6.21%202.41.21s1.53-.15%202.41-.21v21.52c0%20.42.82.14%201.36-.42a37.1%2037.1%200%20002.92-3.42l13.49-17.7c.71.06%201.42.21%202.19.21s1.36-.15%202.14-.21zM81.42%2082.4c0%202.48-.16%203.74%203.07%202.92v1.39a8.87%208.87%200%2001-1.65.63c-2.85.57-5.21.06-5.65-3.67l-.49.55a10.17%2010.17%200%2001-8.12%204c-3.88%200-7.28-3.06-7.28-7.75%200-7.23%205-8.18%2010.13-9.13%204.34-.82%205.82-1.2%205.82-4.25%200-4.7-2.3-7.42-6.41-7.42a6.85%206.85%200%2000-6.52%204.37h-.6v-3.52a14.2%2014.2%200%20018.87-3.48c5.75%200%208.88%203.48%208.88%2010.65zm-4.38-10.47l-1.93.44c-3.73.82-9.32%201.45-9.32%207.24%200%204%202%206%205.36%206a6.83%206.83%200%20004.44-2.44c.4-.46%201.5-1.54%201.5-2zm14.15%209.63c1.3%202.49%203.72%204.72%206.3%204.72a5.67%205.67%200%20005.38-5.78c0-8.56-12.95-3-12.95-14.08%200-6.08%204-9.37%208.93-9.37%202.18-.048%204.33.52%206.2%201.64a32.791%2032.791%200%2000-1.3%204.5h-.5c-.72-2.09-2.63-4.19-4.66-4.19-2.74%200-5%201.85-5%205.28%200%208.11%2012.95%203.79%2012.95%2013.94%200%206.79-5.26%2010-10.1%2010a12.73%2012.73%200%2001-6.84-2%2034.42%2034.42%200%20001.15-4.65zm22.73-41.47c.73.06%201.44.19%202.2.19.76%200%201.38-.13%202.2-.19v23.09c1.92-3.87%204.93-6.14%208.83-6.14%206.36%200%208.83%204.36%208.83%2012.36v18.37c-.83-.07-1.47-.19-2.2-.19-.73%200-1.48.13-2.2.19V70.85c0-7-1.41-10.53-6.08-10.53-4.94%200-7.18%203.56-7.18%2010.15v17.3c-.82-.07-1.47-.19-2.2-.19-.73%200-1.46.13-2.2.19z'/%3e%3c/g%3e%3c/svg%3e",Vk="/assets/Nagad-Logo.wine-BlVRnsIb.svg",zk="/assets/dutch-bangla-rocket-logo-png_seeklogo-317692-DPiqreWE.png",Uk=()=>d.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:d.jsx("path",{fill:"#1A1F71",d:"M9.064 8.482l-1.09 6.966h1.527l1.09-6.966H9.064zm6.11 0l-1.09 6.966h1.527l1.09-6.966h-1.527zm-8.2 0L4.782 15.45h1.527l.69-4.414.017-.107.63-2.446H6.974zm12.052 0l-1.09 6.966h1.258l.77-4.92.042-.268.62-1.778h-1.58zm-5.137 0l-1.09 6.966h4.183l.26-1.656h-2.606l.4-2.57h2.547l.26-1.656h-2.547l.4-2.57h2.606l.26-1.656h-4.183z"})}),Bk=()=>d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[d.jsx("path",{fill:"#EB001B",d:"M12 6.654a6 6 0 100 10.692 6 6 0 000-10.692z"}),d.jsx("path",{fill:"#F79E1B",d:"M12 6.654a6 6 0 110 10.692 6 6 0 010-10.692z"}),d.jsx("path",{fill:"#FF5F00",d:"M12 6.654a6 6 0 100 10.692 6 6 0 010-10.692z"})]}),AN=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=F.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)},[c,h]=F.useState(null),f=y=>{h(c===y?null:y)},p=[{name:"bKash",icon:d.jsx("img",{src:Lk,alt:"bKash",className:"h-6 w-auto"}),color:"bg-pink-100"},{name:"Nagad",icon:d.jsx("img",{src:Vk,alt:"Nagad",className:"h-6 w-auto"}),color:"bg-purple-100"},{name:"Rocket",icon:d.jsx("img",{src:zk,alt:"Rocket",className:"h-6 w-auto"}),color:"bg-indigo-100"},{name:"Visa",icon:d.jsx(Uk,{}),color:"bg-blue-100"},{name:"Mastercard",icon:d.jsx(Bk,{}),color:"bg-red-100"},{name:"Cash on Delivery",icon:d.jsx(A5,{size:16,className:"text-gray-700"}),color:"bg-green-100"}];return d.jsx("footer",{className:"bg-gray-50 text-gray-700 play-regular w-full border-t border-gray-200",children:d.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center justify-between gap-8 mb-10 border-b border-gray-200 pb-8",children:[d.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:d.jsx(ot,{to:"/",className:"flex justify-center",children:d.jsx("img",{src:OE,alt:"Mahira Collection Logo",className:"h-24 object-contain"})})}),d.jsx("div",{className:"text-sm md:text-base text-center md:text-left",children:d.jsxs("p",{className:"whitespace-pre-line",children:[a,!t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read More ",d.jsx(Ll,{size:16,className:"ml-1"})]}),t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read Less ",d.jsx(Vl,{size:16,className:"ml-1"})]})]})})]}),d.jsx("div",{className:"md:hidden mb-6 border-b border-gray-200 pb-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(ot,{to:"/",className:"mb-4",children:d.jsx("img",{src:OE,alt:"Mahira Collection Logo",className:"h-20 object-contain"})}),d.jsx("p",{className:"text-sm text-center whitespace-pre-line",children:e.split(`
`).slice(0,4).join(`
`)})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"md:hidden space-y-4 mb-6",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("quickLinks"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Quick Links",c==="quickLinks"?d.jsx(Vl,{}):d.jsx(Ll,{})]}),c==="quickLinks"&&d.jsx("ul",{className:"mt-3 space-y-2 text-sm pl-2",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((y,x)=>d.jsx("li",{children:d.jsx(ot,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("contact"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Contact Us",c==="contact"?d.jsx(Vl,{}):d.jsx(Ll,{})]}),c==="contact"&&d.jsxs("div",{className:"mt-3 space-y-3 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(_E,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, City, Country"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(wE,{size:18}),d.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Of,{size:18}),d.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("hours"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Opening Hours",c==="hours"?d.jsx(Vl,{}):d.jsx(Ll,{})]}),c==="hours"&&d.jsxs("div",{className:"mt-3 space-y-2 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("payments"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Payment Methods",c==="payments"?d.jsx(Vl,{}):d.jsx(Ll,{})]}),c==="payments"&&d.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 pl-2",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"https://www.facebook.com/Homaira22",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors","aria-label":"Facebook",children:d.jsx(I5,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-pink-500 hover:bg-pink-50 transition-colors","aria-label":"Instagram",children:d.jsx(D5,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-sky-500 hover:bg-sky-50 transition-colors","aria-label":"Twitter",children:d.jsx(W5,{size:20})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map((y,x)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,title:y.name,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},x))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms & Conditions",path:"/terms"},{name:"Returns & Exchanges",path:"/returns"},{name:"Shipping Policy",path:"/shipping"}].map((y,x)=>d.jsx("li",{children:d.jsx(ot,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},x))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(_E,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(wE,{size:18}),d.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-blue-600",children:"info@mahira.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Of,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 01783694568"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Of,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 01783694568"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(jl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-4",children:"Newsletter"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})]}),d.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200 md:hidden",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-4",children:"Subscribe to Our Newsletter"}),d.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full sm:w-auto px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[d.jsxs("p",{children:["© ",n," Mahira Collection. All rights reserved."]}),d.jsx("p",{className:"mt-1",children:"Developed with ❤️ by Your Company"})]})]})]})})},Fk=new bk;function qk(){return d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-[100%] xl:w-[89%] mx-auto  bg-gray-100 shadow-xl mb-16 md:mb-0",children:d.jsxs(Sk,{client:Fk,children:[d.jsx(v5,{}),d.jsx(tk,{}),d.jsx(ek,{}),d.jsx(jT,{}),d.jsx(AN,{})]})})})}function RN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=RN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Mo(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=RN(n))&&(r&&(r+=" "),r+=e);return r}function Hk(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Hk(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Vd=n=>typeof n=="number"&&!isNaN(n),Uo=n=>typeof n=="string",Li=n=>typeof n=="function",$k=n=>Uo(n)||Vd(n),wy=n=>Uo(n)||Li(n)?n:null,Gk=(n,e)=>n===!1||Vd(n)&&n>0?n:e,_y=n=>F.isValidElement(n)||Uo(n)||Li(n)||Vd(n);function Qk(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function Kk({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:c,preventExitTransition:h,done:f,nodeRef:p,isIn:y,playToast:x}){let w=t?`${n}--${c}`:n,E=t?`${e}--${c}`:e,T=F.useRef(0);return F.useLayoutEffect(()=>{let D=p.current,C=w.split(" "),N=S=>{S.target===p.current&&(x(),D.removeEventListener("animationend",N),D.removeEventListener("animationcancel",N),T.current===0&&S.type!=="animationcancel"&&D.classList.remove(...C))};D.classList.add(...C),D.addEventListener("animationend",N),D.addEventListener("animationcancel",N)},[]),F.useEffect(()=>{let D=p.current,C=()=>{D.removeEventListener("animationend",C),r?Qk(D,f,a):f()};y||(h?C():(T.current=1,D.className+=` ${E}`,D.addEventListener("animationend",C)))},[y]),Le.createElement(Le.Fragment,null,o)}}function ME(n,e){return{content:IN(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function IN(n,e,t=!1){return F.isValidElement(n)&&!Uo(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Li(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Yk({closeToast:n,theme:e,ariaLabel:t="close"}){return Le.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Le.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Le.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Xk({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:o,controlledProgress:c,progress:h,rtl:f,isIn:p,theme:y}){let x=a||c&&h===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${h})`);let E=Mo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),T=Li(o)?o({rtl:f,type:r,defaultClassName:E}):Mo(E,o),D={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{p&&t()}};return Le.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Le.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),Le.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:T,style:w,...D}))}var Wk=1,jN=()=>`${Wk++}`;function Zk(n,e,t){let r=1,a=0,o=[],c=[],h=e,f=new Map,p=new Set,y=S=>(p.add(S),()=>p.delete(S)),x=()=>{c=Array.from(f.values()),p.forEach(S=>S())},w=({containerId:S,toastId:b,updateId:M})=>{let z=S?S!==n:n!==1,L=f.has(b)&&M==null;return z||L},E=(S,b)=>{f.forEach(M=>{var z;(b==null||b===M.props.toastId)&&((z=M.toggle)==null||z.call(M,S))})},T=S=>{var b,M;(M=(b=S.props)==null?void 0:b.onClose)==null||M.call(b,S.removalReason),S.isActive=!1},D=S=>{if(S==null)f.forEach(T);else{let b=f.get(S);b&&T(b)}x()},C=()=>{a-=o.length,o=[]},N=S=>{var b,M;let{toastId:z,updateId:L}=S.props,k=L==null;S.staleId&&f.delete(S.staleId),S.isActive=!0,f.set(z,S),x(),t(ME(S,k?"added":"updated")),k&&((M=(b=S.props).onOpen)==null||M.call(b))};return{id:n,props:h,observe:y,toggle:E,removeToast:D,toasts:f,clearQueue:C,buildToast:(S,b)=>{if(w(b))return;let{toastId:M,updateId:z,data:L,staleId:k,delay:R}=b,O=z==null;O&&a++;let P={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([U,I])=>I!=null)),toastId:M,updateId:z,data:L,isIn:!1,className:wy(b.className||h.toastClassName),progressClassName:wy(b.progressClassName||h.progressClassName),autoClose:b.isLoading?!1:Gk(b.autoClose,h.autoClose),closeToast(U){f.get(M).removalReason=U,D(M)},deleteToast(){let U=f.get(M);if(U!=null){if(t(ME(U,"removed")),f.delete(M),a--,a<0&&(a=0),o.length>0){N(o.shift());return}x()}}};P.closeButton=h.closeButton,b.closeButton===!1||_y(b.closeButton)?P.closeButton=b.closeButton:b.closeButton===!0&&(P.closeButton=_y(h.closeButton)?h.closeButton:!0);let V={content:S,props:P,staleId:k};h.limit&&h.limit>0&&a>h.limit&&O?o.push(V):Vd(R)?setTimeout(()=>{N(V)},R):N(V)},setProps(S){h=S},setToggle:(S,b)=>{let M=f.get(S);M&&(M.toggle=b)},isToastActive:S=>{var b;return(b=f.get(S))==null?void 0:b.isActive},getSnapshot:()=>c}}var ur=new Map,pd=[],Ey=new Set,Jk=n=>Ey.forEach(e=>e(n)),ON=()=>ur.size>0;function e6(){pd.forEach(n=>DN(n.content,n.options)),pd=[]}var t6=(n,{containerId:e})=>{var t;return(t=ur.get(e||1))==null?void 0:t.toasts.get(n)};function MN(n,e){var t;if(e)return!!((t=ur.get(e))!=null&&t.isToastActive(n));let r=!1;return ur.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function n6(n){if(!ON()){pd=pd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||$k(n))ur.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ur.get(n.containerId);e?e.removeToast(n.id):ur.forEach(t=>{t.removeToast(n.id)})}}var r6=(n={})=>{ur.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function DN(n,e){_y(n)&&(ON()||pd.push({content:n,options:e}),ur.forEach(t=>{t.buildToast(n,e)}))}function s6(n){var e;(e=ur.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function PN(n,e){ur.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function i6(n){let e=n.containerId||1;return{subscribe(t){let r=Zk(e,n,Jk);ur.set(e,r);let a=r.observe(t);return e6(),()=>{a(),ur.delete(e)}},setProps(t){var r;(r=ur.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=ur.get(e))==null?void 0:t.getSnapshot()}}}function a6(n){return Ey.add(n),()=>{Ey.delete(n)}}function o6(n){return n&&(Uo(n.toastId)||Vd(n.toastId))?n.toastId:jN()}function zd(n,e){return DN(n,e),e.toastId}function Qm(n,e){return{...e,type:e&&e.type||n,toastId:o6(e)}}function Km(n){return(e,t)=>zd(e,Qm(n,t))}function Je(n,e){return zd(n,Qm("default",e))}Je.loading=(n,e)=>zd(n,Qm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function l6(n,{pending:e,error:t,success:r},a){let o;e&&(o=Uo(e)?Je.loading(e,a):Je.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,x)=>{if(y==null){Je.dismiss(o);return}let w={type:p,...c,...a,data:x},E=Uo(y)?{render:y}:y;return o?Je.update(o,{...w,...E}):Je(E.render,{...w,...E}),x},f=Li(n)?n():n;return f.then(p=>h("success",r,p)).catch(p=>h("error",t,p)),f}Je.promise=l6;Je.success=Km("success");Je.info=Km("info");Je.error=Km("error");Je.warning=Km("warning");Je.warn=Je.warning;Je.dark=(n,e)=>zd(n,Qm("default",{theme:"dark",...e}));function c6(n){n6(n)}Je.dismiss=c6;Je.clearWaitingQueue=r6;Je.isActive=MN;Je.update=(n,e={})=>{let t=t6(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:jN()};o.toastId!==n&&(o.staleId=n);let c=o.render||a;delete o.render,zd(c,o)}};Je.done=n=>{Je.update(n,{progress:1})};Je.onChange=a6;Je.play=n=>PN(!0,n);Je.pause=n=>PN(!1,n);function u6(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=F.useRef(i6(n)).current;a(n);let o=(e=F.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function c(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:y}=p.props;f.has(y)||f.set(y,[]),f.get(y).push(p)}),Array.from(f,p=>h(p[0],p[1]))}return{getToastToRender:c,isToastActive:MN,count:o==null?void 0:o.length}}function d6(n){let[e,t]=F.useState(!1),[r,a]=F.useState(!1),o=F.useRef(null),c=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:p,onClick:y,closeOnClick:x}=n;s6({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{E()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||N(),window.addEventListener("focus",C),window.addEventListener("blur",N)}function E(){window.removeEventListener("focus",C),window.removeEventListener("blur",N)}function T(k){if(n.draggable===!0||n.draggable===k.pointerType){S();let R=o.current;c.canCloseOnClick=!0,c.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(c.start=k.clientX,c.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(c.start=k.clientY,c.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(k){let{top:R,bottom:O,left:P,right:V}=o.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&n.pauseOnHover&&k.clientX>=P&&k.clientX<=V&&k.clientY>=R&&k.clientY<=O?N():C()}function C(){t(!0)}function N(){t(!1)}function S(){c.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",z)}function b(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",z)}function M(k){let R=o.current;if(c.canDrag&&R){c.didMove=!0,e&&N(),n.draggableDirection==="x"?c.delta=k.clientX-c.start:c.delta=k.clientY-c.start,c.start!==k.clientX&&(c.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;R.style.transform=`translate3d(${O},0)`,R.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function z(){b();let k=o.current;if(c.canDrag&&c.didMove&&k){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let L={onPointerDown:T,onPointerUp:D};return h&&f&&(L.onMouseEnter=N,n.stacked||(L.onMouseLeave=C)),x&&(L.onClick=k=>{y&&y(k),c.canCloseOnClick&&p(!0)}),{playToast:C,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:L}}var h6=typeof window<"u"?F.useLayoutEffect:F.useEffect,Ym=({theme:n,type:e,isLoading:t,...r})=>Le.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function f6(n){return Le.createElement(Ym,{...n},Le.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function m6(n){return Le.createElement(Ym,{...n},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function p6(n){return Le.createElement(Ym,{...n},Le.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function g6(n){return Le.createElement(Ym,{...n},Le.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function y6(){return Le.createElement("div",{className:"Toastify__spinner"})}var Ty={info:m6,warning:f6,success:p6,error:g6,spinner:y6},v6=n=>n in Ty;function x6({theme:n,type:e,isLoading:t,icon:r}){let a=null,o={theme:n,type:e};return r===!1||(Li(r)?a=r({...o,isLoading:t}):F.isValidElement(r)?a=F.cloneElement(r,o):t?a=Ty.spinner():v6(e)&&(a=Ty[e](o))),a}var b6=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:o}=d6(n),{closeButton:c,children:h,autoClose:f,onClick:p,type:y,hideProgressBar:x,closeToast:w,transition:E,position:T,className:D,style:C,progressClassName:N,updateId:S,role:b,progress:M,rtl:z,toastId:L,deleteToast:k,isIn:R,isLoading:O,closeOnClick:P,theme:V,ariaLabel:U}=n,I=Mo("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":P}),J=Li(D)?D({rtl:z,position:T,type:y,defaultClassName:I}):Mo(I,D),oe=x6(n),$=!!M||!f,se={closeToast:w,type:y,theme:V},ae=null;return c===!1||(Li(c)?ae=c(se):F.isValidElement(c)?ae=F.cloneElement(c,se):ae=Yk(se)),Le.createElement(E,{isIn:R,done:k,position:T,preventExitTransition:t,nodeRef:r,playToast:o},Le.createElement("div",{id:L,tabIndex:0,onClick:p,"data-in":R,className:J,...a,style:C,ref:r,...R&&{role:b,"aria-label":U}},oe!=null&&Le.createElement("div",{className:Mo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},oe),IN(h,n,!e),ae,!n.customProgressBar&&Le.createElement(Xk,{...S&&!$?{key:`p-${S}`}:{},rtl:z,theme:V,delay:f,isRunning:e,isIn:R,closeToast:w,hide:x,type:y,className:N,controlledProgress:$,progress:M||0})))},w6=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),_6=Kk(w6("bounce",!0)),E6={position:"top-right",transition:_6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Qv(n){let e={...E6,...n},t=n.stacked,[r,a]=F.useState(!0),o=F.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=u6(e),{className:p,style:y,rtl:x,containerId:w,hotKeys:E}=e;function T(C){let N=Mo("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":x});return Li(p)?p({position:C,rtl:x,defaultClassName:N}):Mo(N,wy(p))}function D(){t&&(a(!0),Je.play())}return h6(()=>{var C;if(t){let N=o.current.querySelectorAll('[data-in="true"]'),S=12,b=(C=e.position)==null?void 0:C.includes("top"),M=0,z=0;Array.from(N).reverse().forEach((L,k)=>{let R=L;R.classList.add("Toastify__toast--stacked"),k>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=b?"top":"bot");let O=M*(r?.2:1)+(r?0:S*k);R.style.setProperty("--y",`${b?O:O*-1}px`),R.style.setProperty("--g",`${S}`),R.style.setProperty("--s",`${1-(r?z:0)}`),M+=R.offsetHeight,z+=.025})}},[r,f,t]),F.useEffect(()=>{function C(N){var S;let b=o.current;E(N)&&((S=b.querySelector('[tabIndex="0"]'))==null||S.focus(),a(!1),Je.pause()),N.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(a(!0),Je.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[E]),Le.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{t&&(a(!1),Je.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((C,N)=>{let S=N.length?{...y}:{...y,pointerEvents:"none"};return Le.createElement("div",{tabIndex:-1,className:T(C),"data-stacked":t,style:S,key:`c-${C}`},N.map(({content:b,props:M})=>Le.createElement(b6,{...M,stacked:t,collapseAll:D,isIn:h(M.toastId,M.containerId),key:`t-${M.key}`},b)))}))}const kN=()=>{const[t,r]=FI(),a=Number(t.get("page"))||1,[o,c]=F.useState(!1),h=F.useRef(null),f=C=>(typeof C!="number"&&(C=parseFloat(C)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(C)),{data:p=[],isLoading:y}=kk({queryKey:["allProducts"],queryFn:async()=>{const C=await zr(jn(Dt,"products")),N=[];C.forEach(b=>{const M=b.data();M.available&&M.stock>0&&N.push({id:b.id,...M})});const S=[...N];for(let b=S.length-1;b>0;b--){const M=Math.floor(Math.random()*(b+1));[S[b],S[M]]=[S[M],S[b]]}return S},staleTime:1/0,cacheTime:24*60*60*1e3}),x=p.slice(0,10+(a-1)*6),w=C=>{var b;const N=JSON.parse(localStorage.getItem("cart"))||[],S=N.find(M=>M.id===C.id);S?S.quantity+=1:N.push({id:C.id,name:C.name,price:C.discount?Math.round(C.price-C.price*(C.discount/100)):Math.round(C.price),image:C.mainImage||((b=C.images)==null?void 0:b[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(N)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),Je.success(`${C.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},E=C=>{C.colorVariants&&C.colorVariants.length>0?window.location.href=`/product/${C.id}`:w(C)},T=C=>{C.colorVariants&&C.colorVariants.length>0?window.location.href=`/product/${C.id}`:(w(C),window.location.href="/cart")},D=async()=>{const C=window.scrollY||document.documentElement.scrollTop;c(!0),await new Promise(N=>setTimeout(N,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,C),c(!1)},0)};return y?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):d.jsxs("div",{className:"md:px-4 min-h-screen w-[100%]",ref:h,children:[d.jsx(Qv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsx("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:"All Products /"}),x.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:x.map(C=>{var O;const N=C.discount&&C.discount>0,S=C.colorVariants&&C.colorVariants.length>0,M=window.innerWidth<768?17:25,z=C.name.length>M,L=z?`${C.name.substring(0,M)}...`:C.name,k=N?Math.round(C.price-C.price*(C.discount/100)):null,R=N?k:Math.round(C.price);return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${C.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:C.mainImage||((O=C.images)==null?void 0:O[0])||"/placeholder-product.jpg",alt:C.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),N&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[C.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[L,z&&d.jsx(ot,{to:`/product/${C.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",f(R)]}),N&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",f(Math.round(C.price))]})})]}),C.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",C.productType,")"]})]})})]}),d.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100  space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>E(C),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:S?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>T(C),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${C.stock>0?"text-green-600":"text-red-500"}`,children:C.stock>0?"In Stock":"Out of Stock"}),C.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[C.stock," units"]})]})]})]},C.id)})}),p.length>x.length&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:D,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function DE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Kv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:DE(e[r])&&DE(n[r])&&Object.keys(e[r]).length>0&&Kv(n[r],e[r])})}const LN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ws(){const n=typeof document<"u"?document:{};return Kv(n,LN),n}const T6={document:LN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function dr(){const n=typeof window<"u"?window:{};return Kv(n,T6),n}function S6(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function N6(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Sy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Do(){return Date.now()}function C6(n){const e=dr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function A6(n,e){e===void 0&&(e="x");const t=dr();let r,a,o;const c=C6(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Hu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function R6(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Lr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!R6(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const h=a[o],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(Hu(n[h])&&Hu(r[h])?r[h].__swiper__?n[h]=r[h]:Lr(n[h],r[h]):!Hu(n[h])&&Hu(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:Lr(n[h],r[h])):n[h]=r[h])}}}return n}function ff(n,e,t){n.style.setProperty(e,t)}function VN(n){let{swiper:e,targetPosition:t,side:r}=n;const a=dr(),o=-e.translate;let c=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(w,E)=>p==="next"&&w>=E||p==="prev"&&w<=E,x=()=>{h=new Date().getTime(),c===null&&(c=h);const w=Math.max(Math.min((h-c)/f,1),0),E=.5-Math.cos(w*Math.PI)/2;let T=o+E*(t-o);if(y(T,t)&&(T=t),e.wrapperEl.scrollTo({[r]:T}),y(T,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:T})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(x)};x()}function bs(n,e){e===void 0&&(e="");const t=dr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function I6(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function j6(n,e){const t=dr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=I6(n,e))),r}function dm(n){try{console.warn(n);return}catch{}}function hm(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:S6(e)),t}function O6(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function M6(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ca(n,e){return dr().getComputedStyle(n,null).getPropertyValue(e)}function fm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function zN(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function y0(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Ny(n,e,t){const r=dr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function In(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let v0;function D6(){const n=dr(),e=ws();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function UN(){return v0||(v0=D6()),v0}let x0;function P6(n){let{userAgent:e}=n===void 0?{}:n;const t=UN(),r=dr(),a=r.navigator.platform,o=e||r.navigator.userAgent,c={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const x=o.match(/(iPod)(.*OS\s([\d_]+))?/),w=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=a==="Win32";let T=a==="MacIntel";const D=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&T&&t.touch&&D.indexOf(`${h}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),T=!1),p&&!E&&(c.os="android",c.android=!0),(y||w||x)&&(c.os="ios",c.ios=!0),c}function BN(n){return n===void 0&&(n={}),x0||(x0=P6(n)),x0}let b0;function k6(){const n=dr(),e=BN();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function FN(){return b0||(b0=k6()),b0}function L6(n){let{swiper:e,on:t,emit:r}=n;const a=dr();let o=null,c=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(x=>{c=a.requestAnimationFrame(()=>{const{width:w,height:E}=e;let T=w,D=E;x.forEach(C=>{let{contentBoxSize:N,contentRect:S,target:b}=C;b&&b!==e.el||(T=S?S.width:(N[0]||N).inlineSize,D=S?S.height:(N[0]||N).blockSize)}),(T!==w||D!==E)&&h()})}),o.observe(e.el))},p=()=>{c&&a.cancelAnimationFrame(c),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",h),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",h),a.removeEventListener("orientationchange",y)})}function V6(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],c=dr(),h=function(y,x){x===void 0&&(x={});const w=c.MutationObserver||c.WebkitMutationObserver,E=new w(T=>{if(e.__preventObserver__)return;if(T.length===1){a("observerUpdate",T[0]);return}const D=function(){a("observerUpdate",T[0])};c.requestAnimationFrame?c.requestAnimationFrame(D):c.setTimeout(D,0)});E.observe(y,{attributes:typeof x.attributes>"u"?!0:x.attributes,childList:e.isElement||(typeof x.childList>"u"?!0:x).childList,characterData:typeof x.characterData>"u"?!0:x.characterData}),o.push(E)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=zN(e.hostEl);for(let x=0;x<y.length;x+=1)h(y[x])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var z6={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function U6(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ca(r,"padding-left")||0,10)-parseInt(Ca(r,"padding-right")||0,10),t=t-parseInt(Ca(r,"padding-top")||0,10)-parseInt(Ca(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function B6(){const n=this;function e(P,V){return parseFloat(P.getPropertyValue(n.getDirectionLabel(V))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=bs(a,`.${n.params.slideClass}, swiper-slide`),x=f?n.virtual.slides.length:y.length;let w=[];const E=[],T=[];let D=t.slidesOffsetBefore;typeof D=="function"&&(D=t.slidesOffsetBefore.call(n));let C=t.slidesOffsetAfter;typeof C=="function"&&(C=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,S=n.slidesGrid.length;let b=t.spaceBetween,M=-D,z=0,L=0;if(typeof o>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*o:typeof b=="string"&&(b=parseFloat(b)),n.virtualSize=-b,y.forEach(P=>{c?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(ff(r,"--swiper-centered-offset-before",""),ff(r,"--swiper-centered-offset-after",""));const k=t.grid&&t.grid.rows>1&&n.grid;k?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let R;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(P=>typeof t.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<x;P+=1){R=0;let V;if(y[P]&&(V=y[P]),k&&n.grid.updateSlide(P,V,y),!(y[P]&&Ca(V,"display")==="none")){if(t.slidesPerView==="auto"){O&&(y[P].style[n.getDirectionLabel("width")]="");const U=getComputedStyle(V),I=V.style.transform,J=V.style.webkitTransform;if(I&&(V.style.transform="none"),J&&(V.style.webkitTransform="none"),t.roundLengths)R=n.isHorizontal()?Ny(V,"width"):Ny(V,"height");else{const oe=e(U,"width"),$=e(U,"padding-left"),se=e(U,"padding-right"),ae=e(U,"margin-left"),xe=e(U,"margin-right"),H=U.getPropertyValue("box-sizing");if(H&&H==="border-box")R=oe+ae+xe;else{const{clientWidth:ce,offsetWidth:ve}=V;R=oe+$+se+ae+xe+(ve-ce)}}I&&(V.style.transform=I),J&&(V.style.webkitTransform=J),t.roundLengths&&(R=Math.floor(R))}else R=(o-(t.slidesPerView-1)*b)/t.slidesPerView,t.roundLengths&&(R=Math.floor(R)),y[P]&&(y[P].style[n.getDirectionLabel("width")]=`${R}px`);y[P]&&(y[P].swiperSlideSize=R),T.push(R),t.centeredSlides?(M=M+R/2+z/2+b,z===0&&P!==0&&(M=M-o/2-b),P===0&&(M=M-o/2-b),Math.abs(M)<1/1e3&&(M=0),t.roundLengths&&(M=Math.floor(M)),L%t.slidesPerGroup===0&&w.push(M),E.push(M)):(t.roundLengths&&(M=Math.floor(M)),(L-Math.min(n.params.slidesPerGroupSkip,L))%n.params.slidesPerGroup===0&&w.push(M),E.push(M),M=M+R+b),n.virtualSize+=R+b,z=R,L+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+C,c&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+b}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+b}px`),k&&n.grid.updateWrapperSize(R,w),!t.centeredSlides){const P=[];for(let V=0;V<w.length;V+=1){let U=w[V];t.roundLengths&&(U=Math.floor(U)),w[V]<=n.virtualSize-o&&P.push(U)}w=P,Math.floor(n.virtualSize-o)-Math.floor(w[w.length-1])>1&&w.push(n.virtualSize-o)}if(f&&t.loop){const P=T[0]+b;if(t.slidesPerGroup>1){const V=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),U=P*t.slidesPerGroup;for(let I=0;I<V;I+=1)w.push(w[w.length-1]+U)}for(let V=0;V<n.virtual.slidesBefore+n.virtual.slidesAfter;V+=1)t.slidesPerGroup===1&&w.push(w[w.length-1]+P),E.push(E[E.length-1]+P),n.virtualSize+=P}if(w.length===0&&(w=[0]),b!==0){const P=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");y.filter((V,U)=>!t.cssMode||t.loop?!0:U!==y.length-1).forEach(V=>{V.style[P]=`${b}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let P=0;T.forEach(U=>{P+=U+(b||0)}),P-=b;const V=P>o?P-o:0;w=w.map(U=>U<=0?-D:U>V?V+C:U)}if(t.centerInsufficientSlides){let P=0;T.forEach(U=>{P+=U+(b||0)}),P-=b;const V=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(P+V<o){const U=(o-P-V)/2;w.forEach((I,J)=>{w[J]=I-U}),E.forEach((I,J)=>{E[J]=I+U})}}if(Object.assign(n,{slides:y,snapGrid:w,slidesGrid:E,slidesSizesGrid:T}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){ff(r,"--swiper-centered-offset-before",`${-w[0]}px`),ff(r,"--swiper-centered-offset-after",`${n.size/2-T[T.length-1]/2}px`);const P=-n.snapGrid[0],V=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(U=>U+P),n.slidesGrid=n.slidesGrid.map(U=>U+V)}if(x!==p&&n.emit("slidesLengthChange"),w.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==S&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const P=`${t.containerModifierClass}backface-hidden`,V=n.el.classList.contains(P);x<=t.maxBackfaceHiddenSlides?V||n.el.classList.add(P):V&&n.el.classList.remove(P)}}function F6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!r)break;t.push(c(h))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const h=t[o].offsetHeight;a=h>a?h:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function q6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const PE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function H6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const x=(c+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),w=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),E=-(c-y),T=E+e.slidesSizesGrid[f],D=E>=0&&E<=e.size-e.slidesSizesGrid[f],C=E>=0&&E<e.size-1||T>1&&T<=e.size||E<=0&&T>=e.size;C&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),PE(p,C,t.slideVisibleClass),PE(p,D,t.slideFullyVisibleClass),p.progress=a?-x:x,p.originalProgress=a?-w:w}}function $6(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:h}=e;const f=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,x=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,c=x||a>=1,y&&(a=0),x&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),x=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[y],E=e.slidesGrid[x],T=e.slidesGrid[e.slidesGrid.length-1],D=Math.abs(n);D>=w?h=(D-w)/T:h=(D+T-E)/T,h>1&&(h-=1)}Object.assign(e,{progress:a,progressLoop:h,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(f&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const w0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function G6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,h=x=>bs(r,`.${t.slideClass}${x}, swiper-slide${x}`)[0];let f,p,y;if(o)if(t.loop){let x=a-n.virtual.slidesBefore;x<0&&(x=n.virtual.slides.length+x),x>=n.virtual.slides.length&&(x-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${x}"]`)}else f=h(`[data-swiper-slide-index="${a}"]`);else c?(f=e.find(x=>x.column===a),y=e.find(x=>x.column===a+1),p=e.find(x=>x.column===a-1)):f=e[a];f&&(c||(y=M6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=O6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(x=>{w0(x,x===f,t.slideActiveClass),w0(x,x===y,t.slideNextClass),w0(x,x===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Df=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},_0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Cy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,h=[c-e];h.push(...Array.from({length:e}).map((f,p)=>c+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&_0(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const h=(c%t+t)%t;(h<a||h>o)&&_0(n,h)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&_0(n,c)};function Q6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function K6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:h}=e;let f=n,p;const y=E=>{let T=E-e.virtual.slidesBefore;return T<0&&(T=e.virtual.slides.length+T),T>=e.virtual.slides.length&&(T-=e.virtual.slides.length),T};if(typeof f>"u"&&(f=Q6(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const E=Math.min(a.slidesPerGroupSkip,f);p=E+Math.floor((f-E)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===o&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const x=e.grid&&a.grid&&a.grid.rows>1;let w;if(e.virtual&&a.virtual.enabled&&a.loop)w=y(f);else if(x){const E=e.slides.find(D=>D.column===f);let T=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(e.slides.indexOf(E),0)),w=Math.floor(T/a.grid.rows)}else if(e.slides[f]){const E=e.slides[f].getAttribute("data-swiper-slide-index");E?w=parseInt(E,10):w=f}else w=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:c,realIndex:w,previousIndex:o,activeIndex:f}),e.initialized&&Cy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function Y6(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!a&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(a=h)});let o=!1,c;if(a){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===a){o=!0,c=h;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var X6={updateSize:U6,updateSlides:B6,updateAutoHeight:F6,updateSlidesOffset:q6,updateSlidesProgress:H6,updateProgress:$6,updateSlidesClasses:G6,updateActiveIndex:K6,updateClickedSlide:Y6};function W6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=A6(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function Z6(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,a.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:a.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let y;const x=t.maxTranslate()-t.minTranslate();x===0?y=0:y=(n-t.minTranslate())/x,y!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function J6(){return-this.snapGrid[0]}function eL(){return-this.snapGrid[this.snapGrid.length-1]}function tL(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:c,wrapperEl:h}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const f=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,o.updateProgress(y),c.cssMode){const x=o.isHorizontal();if(e===0)h[x?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return VN({swiper:o,targetPosition:-y,side:x?"left":"top"}),!0;h.scrollTo({[x?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var nL={getTranslate:W6,setTranslate:Z6,minTranslate:J6,maxTranslate:eL,translateTo:tL};function rL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function qN(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:c}=e;let h=r;if(h||(o>c?h="next":o<c?h="prev":h="reset"),e.emit(`transition${a}`),t&&o!==c){if(h==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),h==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function sL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),qN({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function iL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),qN({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var aL={setTransition:rL,transitionStart:sL,transitionEnd:iL};function oL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:x,rtlTranslate:w,wrapperEl:E,enabled:T}=o;if(!T&&!r&&!a||o.destroyed||o.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const D=Math.min(o.params.slidesPerGroupSkip,c);let C=D+Math.floor((c-D)/o.params.slidesPerGroup);C>=f.length&&(C=f.length-1);const N=-f[C];if(h.normalizeSlideIndex)for(let k=0;k<p.length;k+=1){const R=-Math.floor(N*100),O=Math.floor(p[k]*100),P=Math.floor(p[k+1]*100);typeof p[k+1]<"u"?R>=O&&R<P-(P-O)/2?c=k:R>=O&&R<P&&(c=k+1):R>=O&&(c=k)}if(o.initialized&&c!==x&&(!o.allowSlideNext&&(w?N>o.translate&&N>o.minTranslate():N<o.translate&&N<o.minTranslate())||!o.allowSlidePrev&&N>o.translate&&N>o.maxTranslate()&&(x||0)!==c))return!1;c!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(N);let S;c>x?S="next":c<x?S="prev":S="reset";const b=o.virtual&&o.params.virtual.enabled;if(!(b&&a)&&(w&&-N===o.translate||!w&&N===o.translate))return o.updateActiveIndex(c),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),h.effect!=="slide"&&o.setTranslate(N),S!=="reset"&&(o.transitionStart(t,S),o.transitionEnd(t,S)),!1;if(h.cssMode){const k=o.isHorizontal(),R=w?N:-N;if(e===0)b&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),b&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[k?"scrollLeft":"scrollTop"]=R})):E[k?"scrollLeft":"scrollTop"]=R,b&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return VN({swiper:o,targetPosition:R,side:k?"left":"top"}),!0;E.scrollTo({[k?"left":"top"]:R,behavior:"smooth"})}return!0}const L=FN().isSafari;return b&&!a&&L&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(N),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,S),e===0?o.transitionEnd(t,S):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(R){!o||o.destroyed||R.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,S))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function lL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let h;if(o){const w=c*a.params.grid.rows;h=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===w).column}else h=a.getSlideIndexByData(c);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let x=f-h<y;if(p&&(x=x||h<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(x=!1),x){const w=p?h<a.activeIndex?"prev":"next":h-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:w,slideTo:!0,activeSlideIndex:w==="next"?h+1:h-f+1,slideRealIndex:w==="next"?a.realIndex:void 0})}if(o){const w=c*a.params.grid.rows;c=a.slides.find(E=>E.getAttribute("data-swiper-slide-index")*1===w).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function cL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:h,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function uL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const x=h?r.translate:-r.translate;function w(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const E=w(x),T=o.map(S=>w(S)),D=a.freeMode&&a.freeMode.enabled;let C=o[T.indexOf(E)-1];if(typeof C>"u"&&(a.cssMode||D)){let S;o.forEach((b,M)=>{E>=b&&(S=M)}),typeof S<"u"&&(C=D?o[S]:o[S>0?S-1:S])}let N=0;if(typeof C<"u"&&(N=c.indexOf(C),N<0&&(N=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),a.rewind&&r.isBeginning){const S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(N,n,e,t)}),!0;return r.slideTo(N,n,e,t)}function dL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function hL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),h=c+Math.floor((o-c)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[h]){const p=a.snapGrid[h],y=a.snapGrid[h+1];f-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[h-1],y=a.snapGrid[h];f-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function fL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(bs(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),Sy(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(bs(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),Sy(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var mL={slideTo:oL,slideToLoop:lL,slideNext:cL,slidePrev:uL,slideReset:dL,slideToClosest:hL,slideToClickedSlide:fL};function pL(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{bs(a,`.${r.slideClass}, swiper-slide`).forEach((w,E)=>{w.setAttribute("data-swiper-slide-index",E)})},c=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(c?r.grid.rows:1),f=t.slides.length%h!==0,p=c&&t.slides.length%r.grid.rows!==0,y=x=>{for(let w=0;w<x;w+=1){const E=t.isElement?hm("swiper-slide",[r.slideBlankClass]):hm("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(E)}};if(f){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;y(x),t.recalcSlides(),t.updateSlides()}else dm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;y(x),t.recalcSlides(),t.updateSlides()}else dm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function gL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:c,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:x,allowSlideNext:w,slidesEl:E,params:T}=p,{centeredSlides:D,initialSlide:C}=T;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&T.virtual.enabled){t&&(!T.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):T.centeredSlides&&p.snapIndex<T.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=x,p.allowSlideNext=w,p.emit("loopFix");return}let N=T.slidesPerView;N==="auto"?N=p.slidesPerViewDynamic():(N=Math.ceil(parseFloat(T.slidesPerView,10)),D&&N%2===0&&(N=N+1));const S=T.slidesPerGroupAuto?N:T.slidesPerGroup;let b=S;b%S!==0&&(b+=S-b%S),b+=T.loopAdditionalSlides,p.loopedSlides=b;const M=p.grid&&T.grid&&T.grid.rows>1;y.length<N+b||p.params.effect==="cards"&&y.length<N+b*2?dm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):M&&T.grid.fill==="row"&&dm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],L=[],k=M?Math.ceil(y.length/T.grid.rows):y.length,R=c&&k-C<N&&!D;let O=R?C:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(T.slideActiveClass))):O=o;const P=r==="next"||!r,V=r==="prev"||!r;let U=0,I=0;const oe=(M?y[o].column:o)+(D&&typeof a>"u"?-N/2+.5:0);if(oe<b){U=Math.max(b-oe,S);for(let $=0;$<b-oe;$+=1){const se=$-Math.floor($/k)*k;if(M){const ae=k-se-1;for(let xe=y.length-1;xe>=0;xe-=1)y[xe].column===ae&&z.push(xe)}else z.push(k-se-1)}}else if(oe+N>k-b){I=Math.max(oe-(k-b*2),S),R&&(I=Math.max(I,N-k+C+1));for(let $=0;$<I;$+=1){const se=$-Math.floor($/k)*k;M?y.forEach((ae,xe)=>{ae.column===se&&L.push(xe)}):L.push(se)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<N+b*2&&(L.includes(o)&&L.splice(L.indexOf(o),1),z.includes(o)&&z.splice(z.indexOf(o),1)),V&&z.forEach($=>{y[$].swiperLoopMoveDOM=!0,E.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),P&&L.forEach($=>{y[$].swiperLoopMoveDOM=!0,E.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),T.slidesPerView==="auto"?p.updateSlides():M&&(z.length>0&&V||L.length>0&&P)&&p.slides.forEach(($,se)=>{p.grid.updateSlide(se,$,p.slides)}),T.watchSlidesProgress&&p.updateSlidesOffset(),t){if(z.length>0&&V){if(typeof e>"u"){const $=p.slidesGrid[O],ae=p.slidesGrid[O+U]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(O+Math.ceil(U),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const $=M?z.length/T.grid.rows:z.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(L.length>0&&P)if(typeof e>"u"){const $=p.slidesGrid[O],ae=p.slidesGrid[O-I]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(O-I,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const $=M?L.length/T.grid.rows:L.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=x,p.allowSlideNext=w,p.controller&&p.controller.control&&!h){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...$,slideTo:se.params.slidesPerView===T.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===T.slidesPerView?t:!1})}p.emit("loopFix")}function yL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var vL={loopCreate:pL,loopFix:gL,loopDestroy:yL};function xL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function bL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var wL={setGrabCursor:xL,unsetGrabCursor:bL};function _L(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ws()||r===dr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function kE(n,e,t){const r=dr(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function EL(n){const e=this,t=ws();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){kE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!j6(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const x=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(w?_L(x,f):f.closest(x))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const E=c.currentX,T=c.currentY;if(!kE(e,r,E))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=E,c.startY=T,a.touchStartTime=Do(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let D=!0;f.matches(a.focusableElements)&&(D=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const C=D&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||C)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function TL(n){const e=ws(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:h}=t;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(z=>z.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,x=p.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=x;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x}),r.touchStartTime=Do());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(x<o.startY&&t.translate<=t.maxTranslate()||x>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=x;const w=o.currentX-o.startX,E=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(w**2+E**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let z;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:w*w+E*E>=25&&(z=Math.atan2(Math.abs(E),Math.abs(w))*180/Math.PI,r.isScrolling=t.isHorizontal()?z>a.touchAngle:90-z>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let T=t.isHorizontal()?w:E,D=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(T=Math.abs(T)*(c?1:-1),D=Math.abs(D)*(c?1:-1)),o.diff=T,T*=a.touchRatio,c&&(T=-T,D=-D);const C=t.touchesDirection;t.swipeDirection=T>0?"prev":"next",t.touchesDirection=D>0?"prev":"next";const N=t.params.loop&&!a.cssMode,S=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(N&&S&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const z=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(z)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&C!==t.touchesDirection&&N&&S&&Math.abs(T)>=1){Object.assign(o,{startX:y,startY:x,currentX:y,currentY:x,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=T+r.startTranslate;let b=!0,M=a.resistanceRatio;if(a.touchReleaseOnEdges&&(M=0),T>0?(N&&S&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(b=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+T)**M))):T<0&&(N&&S&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(b=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-T)**M))),b&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(T)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function SL(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(z=>z.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:h,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const x=Do(),w=x-t.touchStartTime;if(e.allowClick){const z=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(z&&z[0]||r.target,z),e.emit("tap click",r),w<300&&x-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Do(),Sy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let E;if(c.followFinger?E=f?e.translate:-e.translate:E=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const T=E>=-e.maxTranslate()&&!e.params.loop;let D=0,C=e.slidesSizesGrid[0];for(let z=0;z<p.length;z+=z<c.slidesPerGroupSkip?1:c.slidesPerGroup){const L=z<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[z+L]<"u"?(T||E>=p[z]&&E<p[z+L])&&(D=z,C=p[z+L]-p[z]):(T||E>=p[z])&&(D=z,C=p[p.length-1]-p[p.length-2])}let N=null,S=null;c.rewind&&(e.isBeginning?S=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(N=0));const b=(E-p[D])/C,M=D<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(w>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(b>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?N:D+M):e.slideTo(D)),e.swipeDirection==="prev"&&(b>1-c.longSwipesRatio?e.slideTo(D+M):S!==null&&b<0&&Math.abs(b)>c.longSwipesRatio?e.slideTo(S):e.slideTo(D))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(D+M):e.slideTo(D):(e.swipeDirection==="next"&&e.slideTo(N!==null?N:D+M),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:D))}}function LE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function NL(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function CL(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function AL(n){const e=this;Df(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function RL(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const HN=(n,e)=>{const t=ws(),{params:r,el:a,wrapperEl:o,device:c}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",LE,!0):n[p]("observerUpdate",LE,!0),a[f]("load",n.onLoad,{capture:!0}))};function IL(){const n=this,{params:e}=n;n.onTouchStart=EL.bind(n),n.onTouchMove=TL.bind(n),n.onTouchEnd=SL.bind(n),n.onDocumentTouchStart=RL.bind(n),e.cssMode&&(n.onScroll=CL.bind(n)),n.onClick=NL.bind(n),n.onLoad=AL.bind(n),HN(n,"on")}function jL(){HN(this,"off")}var OL={attachEvents:IL,detachEvents:jL};const VE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function ML(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=ws(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,h,f);if(!p||n.currentBreakpoint===p)return;const x=(p in o?o[p]:void 0)||n.originalParams,w=VE(n,r),E=VE(n,x),T=n.params.grabCursor,D=x.grabCursor,C=r.enabled;w&&!E?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!w&&E&&(a.classList.add(`${r.containerModifierClass}grid`),(x.grid.fill&&x.grid.fill==="column"||!x.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),T&&!D?n.unsetGrabCursor():!T&&D&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof x[L]>"u")return;const k=r[L]&&r[L].enabled,R=x[L]&&x[L].enabled;k&&!R&&n[L].disable(),!k&&R&&n[L].enable()});const N=x.direction&&x.direction!==r.direction,S=r.loop&&(x.slidesPerView!==r.slidesPerView||N),b=r.loop;N&&t&&n.changeDirection(),Lr(n.params,x);const M=n.params.enabled,z=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),C&&!M?n.disable():!C&&M&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",x),t&&(S?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!b&&z?(n.loopCreate(e),n.updateSlides()):b&&!z&&n.loopDestroy()),n.emit("breakpoint",x)}function DL(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=dr(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:o*f,point:h}}return{value:h,point:h}});c.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<c.length;h+=1){const{point:f,value:p}=c[h];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var PL={setBreakpoint:ML,getBreakpoint:DL};function kL(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function LL(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=kL(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function VL(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var zL={addClasses:LL,removeClasses:VL};function UL(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var BL={checkOverflow:UL},Ay={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function FL(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Lr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Lr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Lr(e,r)}}const E0={eventsEmitter:z6,update:X6,translate:nL,transition:aL,slide:mL,loop:vL,grabCursor:wL,events:OL,breakpoints:PL,checkOverflow:BL,classes:zL},T0={};let Yv=class Ci{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Lr({},t),e&&!t.el&&(t.el=e);const c=ws();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const y=[];return c.querySelectorAll(t.el).forEach(x=>{const w=Lr({},t,{el:x});y.push(new Ci(w))}),y}const h=this;h.__swiper__=!0,h.support=UN(),h.device=BN({userAgent:t.userAgent}),h.browser=FN(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:FL(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=Lr({},Ay,f);return h.params=Lr({},p,T0,t),h.originalParams=Lr({},h.params),h.passedParams=Lr({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=bs(t,`.${r.slideClass}, swiper-slide`),o=fm(a[0]);return fm(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=bs(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:h,size:f,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let x=o[p]?Math.ceil(o[p].swiperSlideSize):0,w;for(let E=p+1;E<o.length;E+=1)o[E]&&!w&&(x+=Math.ceil(o[E].swiperSlideSize),y+=1,x>f&&(w=!0));for(let E=p-1;E>=0;E-=1)o[E]&&!w&&(x+=o[E].swiperSlideSize,y+=1,x>f&&(w=!0))}else if(e==="current")for(let x=p+1;x<o.length;x+=1)(t?c[x]+h[x]-c[p]<f:c[x]-c[p]<f)&&(y+=1);else for(let x=p-1;x>=0;x-=1)c[p]-c[x]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&Df(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):bs(r,a())[0];return!c&&t.params.createElements&&(c=hm("div",t.params.wrapperClass),r.append(c),bs(r,`.${t.params.slideClass}`).forEach(h=>{c.append(h)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ca(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ca(r,"direction")==="rtl"),wrongRTL:Ca(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Df(t,o):o.addEventListener("load",c=>{Df(t,c.target)})}),Cy(t),t.initialized=!0,Cy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:c,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),N6(r)),r.destroyed=!0),null}static extendDefaults(e){Lr(T0,e)}static get extendedDefaults(){return T0}static get defaults(){return Ay}static installModule(e){Ci.prototype.__modules__||(Ci.prototype.__modules__=[]);const t=Ci.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ci.installModule(t)),Ci):(Ci.installModule(e),Ci)}};Object.keys(E0).forEach(n=>{Object.keys(E0[n]).forEach(e=>{Yv.prototype[e]=E0[n][e]})});Yv.use([L6,V6]);const $N=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Bo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Xl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Bo(e[r])&&Bo(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Xl(n[r],e[r]):n[r]=e[r]})}function GN(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function QN(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function KN(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function YN(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function qL(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function HL(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:c,scrollbarEl:h,paginationEl:f}=n;const p=a.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:y,pagination:x,navigation:w,scrollbar:E,virtual:T,thumbs:D}=e;let C,N,S,b,M,z,L,k;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(C=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(N=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&x&&!x.el&&(S=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&E&&!E.el&&(b=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(M=!0);const R=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),y[O].prevEl=void 0,y[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),y[O].el=void 0,e[O].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?z=!0:!y.loop&&r.loop?L=!0:k=!0),p.forEach(O=>{if(Bo(y[O])&&Bo(r[O]))Object.assign(y[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&R(O);else{const P=r[O];(P===!0||P===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?P===!1&&R(O):y[O]=r[O]}}),p.includes("controller")&&!N&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&T&&y.virtual.enabled?(T.slides=t,T.update(!0)):a.includes("virtual")&&T&&y.virtual.enabled&&(t&&(T.slides=t),T.update(!0)),a.includes("children")&&t&&y.loop&&(k=!0),C&&D.init()&&D.update(!0),N&&(e.controller.control=y.controller.control),S&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),x.init(),x.render(),x.update()),b&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),E.init(),E.updateSize(),E.setTranslate()),M&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),o&&(y.navigation.nextEl=o),c&&(y.navigation.prevEl=c),w.init(),w.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(z||k)&&e.loopDestroy(),(L||k)&&e.loopCreate(),e.update()}function $L(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Xl(t,Ay),t._emitClasses=!0,t.init=!1;const o={},c=$N.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(c.indexOf(f)>=0?Bo(n[f])?(t[f]={},a[f]={},Xl(t[f],n[f]),Xl(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function GL(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:c,swiper:h}=n;GN(e)&&r&&a&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=a,h.originalParams.navigation.prevEl=a),QN(e)&&o&&(h.params.pagination.el=o,h.originalParams.pagination.el=o),KN(e)&&c&&(h.params.scrollbar.el=c,h.originalParams.scrollbar.el=c),h.init(t)}function QL(n,e,t,r,a){const o=[];if(!e)return o;const c=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),p=t.map(a);f.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return $N.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Bo(n[f])&&Bo(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?c(f):(p.forEach(x=>{n[f][x]!==e[f][x]&&c(f)}),y.forEach(x=>{n[f][x]!==e[f][x]&&c(f)}))}else n[f]!==e[f]&&c(f)}),o}const KL=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function mm(){return mm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mm.apply(this,arguments)}function XN(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function WN(n){const e=[];return Le.Children.toArray(n).forEach(t=>{XN(t)?e.push(t):t.props&&t.props.children&&WN(t.props.children).forEach(r=>e.push(r))}),e}function YL(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Le.Children.toArray(n).forEach(r=>{if(XN(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=WN(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function XL(n,e,t){if(!t)return null;const r=y=>{let x=y;return y<0?x=e.length+y:x>=e.length&&(x=x-e.length),x},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=h;y<f;y+=1)y>=o&&y<=c&&p.push(e[r(y)]);return p.map((y,x)=>Le.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${x}`}))}function Zu(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const zE=F.createContext(null),WL=F.createContext(null),Bl=F.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:c,...h}=n===void 0?{}:n,f=!1;const[p,y]=F.useState("swiper"),[x,w]=F.useState(null),[E,T]=F.useState(!1),D=F.useRef(!1),C=F.useRef(null),N=F.useRef(null),S=F.useRef(null),b=F.useRef(null),M=F.useRef(null),z=F.useRef(null),L=F.useRef(null),k=F.useRef(null),{params:R,passedParams:O,rest:P,events:V}=$L(h),{slides:U,slots:I}=YL(o),J=()=>{T(!E)};Object.assign(R.on,{_containerClasses(xe,H){y(H)}});const oe=()=>{Object.assign(R.on,V),f=!0;const xe={...R};if(delete xe.wrapperClass,N.current=new Yv(xe),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=U;const H={cache:!1,slides:U,renderExternal:w,renderExternalUpdate:!1};Xl(N.current.params.virtual,H),Xl(N.current.originalParams.virtual,H)}};C.current||oe(),N.current&&N.current.on("_beforeBreakpoint",J);const $=()=>{f||!V||!N.current||Object.keys(V).forEach(xe=>{N.current.on(xe,V[xe])})},se=()=>{!V||!N.current||Object.keys(V).forEach(xe=>{N.current.off(xe,V[xe])})};F.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",J)}),F.useEffect(()=>{!D.current&&N.current&&(N.current.emitSlidesClasses(),D.current=!0)}),Zu(()=>{if(e&&(e.current=C.current),!!C.current)return N.current.destroyed&&oe(),GL({el:C.current,nextEl:M.current,prevEl:z.current,paginationEl:L.current,scrollbarEl:k.current,swiper:N.current},R),c&&!N.current.destroyed&&c(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),Zu(()=>{$();const xe=QL(O,S.current,U,b.current,H=>H.key);return S.current=O,b.current=U,xe.length&&N.current&&!N.current.destroyed&&HL({swiper:N.current,slides:U,passedParams:O,changedParams:xe,nextEl:M.current,prevEl:z.current,scrollbarEl:k.current,paginationEl:L.current}),()=>{se()}}),Zu(()=>{KL(N.current)},[x]);function ae(){return R.virtual?XL(N.current,U,x):U.map((xe,H)=>Le.cloneElement(xe,{swiper:N.current,swiperSlideIndex:H}))}return Le.createElement(r,mm({ref:C,className:YN(`${p}${t?` ${t}`:""}`)},P),Le.createElement(WL.Provider,{value:N.current},I["container-start"],Le.createElement(a,{className:qL(R.wrapperClass)},I["wrapper-start"],ae(),I["wrapper-end"]),GN(R)&&Le.createElement(Le.Fragment,null,Le.createElement("div",{ref:z,className:"swiper-button-prev"}),Le.createElement("div",{ref:M,className:"swiper-button-next"})),KN(R)&&Le.createElement("div",{ref:k,className:"swiper-scrollbar"}),QN(R)&&Le.createElement("div",{ref:L,className:"swiper-pagination"}),I["container-end"]))});Bl.displayName="Swiper";const Fl=F.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:c,lazy:h,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const x=F.useRef(null),[w,E]=F.useState("swiper-slide"),[T,D]=F.useState(!1);function C(M,z,L){z===x.current&&E(L)}Zu(()=>{if(typeof p<"u"&&(x.current.swiperSlideIndex=p),e&&(e.current=x.current),!(!x.current||!o)){if(o.destroyed){w!=="swiper-slide"&&E("swiper-slide");return}return o.on("_slideClass",C),()=>{o&&o.off("_slideClass",C)}}}),Zu(()=>{o&&x.current&&!o.destroyed&&E(o.getSlideClasses(x.current))},[o]);const N={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},S=()=>typeof r=="function"?r(N):r,b=()=>{D(!0)};return Le.createElement(t,mm({ref:x,className:YN(`${w}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:b},y),c&&Le.createElement(zE.Provider,{value:N},Le.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},S(),h&&!T&&Le.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Le.createElement(zE.Provider,{value:N},S(),h&&!T&&Le.createElement("div",{className:"swiper-lazy-preloader"})))});Fl.displayName="SwiperSlide";function ZN(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=bs(n.el,`.${r[a]}`)[0];o||(o=hm("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function Pf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(T){let D;return T&&typeof T=="string"&&e.isElement&&(D=e.el.querySelector(T)||e.hostEl.querySelector(T),D)?D:(T&&(typeof T=="string"&&(D=[...document.querySelectorAll(T)]),e.params.uniqueNavElements&&typeof T=="string"&&D&&D.length>1&&e.el.querySelectorAll(T).length===1?D=e.el.querySelector(T):D&&D.length===1&&(D=D[0])),T&&!D?T:D)}function c(T,D){const C=e.params.navigation;T=In(T),T.forEach(N=>{N&&(N.classList[D?"add":"remove"](...C.disabledClass.split(" ")),N.tagName==="BUTTON"&&(N.disabled=D),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](C.lockClass))})}function h(){const{nextEl:T,prevEl:D}=e.navigation;if(e.params.loop){c(D,!1),c(T,!1);return}c(D,e.isBeginning&&!e.params.rewind),c(T,e.isEnd&&!e.params.rewind)}function f(T){T.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(T){T.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const T=e.params.navigation;if(e.params.navigation=ZN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(T.nextEl||T.prevEl))return;let D=o(T.nextEl),C=o(T.prevEl);Object.assign(e.navigation,{nextEl:D,prevEl:C}),D=In(D),C=In(C);const N=(S,b)=>{S&&S.addEventListener("click",b==="next"?p:f),!e.enabled&&S&&S.classList.add(...T.lockClass.split(" "))};D.forEach(S=>N(S,"next")),C.forEach(S=>N(S,"prev"))}function x(){let{nextEl:T,prevEl:D}=e.navigation;T=In(T),D=In(D);const C=(N,S)=>{N.removeEventListener("click",S==="next"?p:f),N.classList.remove(...e.params.navigation.disabledClass.split(" "))};T.forEach(N=>C(N,"next")),D.forEach(N=>C(N,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?E():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{nextEl:T,prevEl:D}=e.navigation;if(T=In(T),D=In(D),e.enabled){h();return}[...T,...D].filter(C=>!!C).forEach(C=>C.classList.add(e.params.navigation.lockClass))}),r("click",(T,D)=>{let{nextEl:C,prevEl:N}=e.navigation;C=In(C),N=In(N);const S=D.target;let b=N.includes(S)||C.includes(S);if(e.isElement&&!b){const M=D.path||D.composedPath&&D.composedPath();M&&(b=M.find(z=>C.includes(z)||N.includes(z)))}if(e.params.navigation.hideOnClick&&!b){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let M;C.length?M=C[0].classList.contains(e.params.navigation.hiddenClass):N.length&&(M=N[0].classList.contains(e.params.navigation.hiddenClass)),a(M===!0?"navigationShow":"navigationHide"),[...C,...N].filter(z=>!!z).forEach(z=>z.classList.toggle(e.params.navigation.hiddenClass))}});const w=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},E=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),x()};Object.assign(e.navigation,{enable:w,disable:E,update:h,init:y,destroy:x})}function Mu(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ZL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:S=>S,formatFractionTotal:S=>S,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(S,b){const{bulletActiveClass:M}=e.params.pagination;S&&(S=S[`${b==="prev"?"previous":"next"}ElementSibling`],S&&(S.classList.add(`${M}-${b}`),S=S[`${b==="prev"?"previous":"next"}ElementSibling`],S&&S.classList.add(`${M}-${b}-${b}`)))}function y(S,b,M){if(S=S%M,b=b%M,b===S+1)return"next";if(b===S-1)return"previous"}function x(S){const b=S.target.closest(Mu(e.params.pagination.bulletClass));if(!b)return;S.preventDefault();const M=fm(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===M)return;const z=y(e.realIndex,M,e.slides.length);z==="next"?e.slideNext():z==="previous"?e.slidePrev():e.slideToLoop(M)}else e.slideTo(M)}function w(){const S=e.rtl,b=e.params.pagination;if(f())return;let M=e.pagination.el;M=In(M);let z,L;const k=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,R=e.params.loop?Math.ceil(k/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(L=e.previousRealIndex||0,z=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(z=e.snapIndex,L=e.previousSnapIndex):(L=e.previousIndex||0,z=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let P,V,U;if(b.dynamicBullets&&(c=Ny(O[0],e.isHorizontal()?"width":"height"),M.forEach(I=>{I.style[e.isHorizontal()?"width":"height"]=`${c*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&L!==void 0&&(h+=z-(L||0),h>b.dynamicMainBullets-1?h=b.dynamicMainBullets-1:h<0&&(h=0)),P=Math.max(z-h,0),V=P+(Math.min(O.length,b.dynamicMainBullets)-1),U=(V+P)/2),O.forEach(I=>{const J=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${b.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();I.classList.remove(...J)}),M.length>1)O.forEach(I=>{const J=fm(I);J===z?I.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&I.setAttribute("part","bullet"),b.dynamicBullets&&(J>=P&&J<=V&&I.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),J===P&&p(I,"prev"),J===V&&p(I,"next"))});else{const I=O[z];if(I&&I.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&O.forEach((J,oe)=>{J.setAttribute("part",oe===z?"bullet-active":"bullet")}),b.dynamicBullets){const J=O[P],oe=O[V];for(let $=P;$<=V;$+=1)O[$]&&O[$].classList.add(...`${b.bulletActiveClass}-main`.split(" "));p(J,"prev"),p(oe,"next")}}if(b.dynamicBullets){const I=Math.min(O.length,b.dynamicMainBullets+4),J=(c*I-c)/2-U*c,oe=S?"right":"left";O.forEach($=>{$.style[e.isHorizontal()?oe:"top"]=`${J}px`})}}M.forEach((O,P)=>{if(b.type==="fraction"&&(O.querySelectorAll(Mu(b.currentClass)).forEach(V=>{V.textContent=b.formatFractionCurrent(z+1)}),O.querySelectorAll(Mu(b.totalClass)).forEach(V=>{V.textContent=b.formatFractionTotal(R)})),b.type==="progressbar"){let V;b.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const U=(z+1)/R;let I=1,J=1;V==="horizontal"?I=U:J=U,O.querySelectorAll(Mu(b.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${I}) scaleY(${J})`,oe.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(O.innerHTML=b.renderCustom(e,z+1,R),P===0&&a("paginationRender",O)):(P===0&&a("paginationRender",O),a("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](b.lockClass)})}function E(){const S=e.params.pagination;if(f())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let M=e.pagination.el;M=In(M);let z="";if(S.type==="bullets"){let L=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&L>b&&(L=b);for(let k=0;k<L;k+=1)S.renderBullet?z+=S.renderBullet.call(e,k,S.bulletClass):z+=`<${S.bulletElement} ${e.isElement?'part="bullet"':""} class="${S.bulletClass}"></${S.bulletElement}>`}S.type==="fraction"&&(S.renderFraction?z=S.renderFraction.call(e,S.currentClass,S.totalClass):z=`<span class="${S.currentClass}"></span> / <span class="${S.totalClass}"></span>`),S.type==="progressbar"&&(S.renderProgressbar?z=S.renderProgressbar.call(e,S.progressbarFillClass):z=`<span class="${S.progressbarFillClass}"></span>`),e.pagination.bullets=[],M.forEach(L=>{S.type!=="custom"&&(L.innerHTML=z||""),S.type==="bullets"&&e.pagination.bullets.push(...L.querySelectorAll(Mu(S.bulletClass)))}),S.type!=="custom"&&a("paginationRender",M[0])}function T(){e.params.pagination=ZN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const S=e.params.pagination;if(!S.el)return;let b;typeof S.el=="string"&&e.isElement&&(b=e.el.querySelector(S.el)),!b&&typeof S.el=="string"&&(b=[...document.querySelectorAll(S.el)]),b||(b=S.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof S.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(S.el)],b.length>1&&(b=b.find(M=>zN(M,".swiper")[0]===e.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=In(b),b.forEach(M=>{S.type==="bullets"&&S.clickable&&M.classList.add(...(S.clickableClass||"").split(" ")),M.classList.add(S.modifierClass+S.type),M.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.type==="bullets"&&S.dynamicBullets&&(M.classList.add(`${S.modifierClass}${S.type}-dynamic`),h=0,S.dynamicMainBullets<1&&(S.dynamicMainBullets=1)),S.type==="progressbar"&&S.progressbarOpposite&&M.classList.add(S.progressbarOppositeClass),S.clickable&&M.addEventListener("click",x),e.enabled||M.classList.add(S.lockClass)}))}function D(){const S=e.params.pagination;if(f())return;let b=e.pagination.el;b&&(b=In(b),b.forEach(M=>{M.classList.remove(S.hiddenClass),M.classList.remove(S.modifierClass+S.type),M.classList.remove(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.clickable&&(M.classList.remove(...(S.clickableClass||"").split(" ")),M.removeEventListener("click",x))})),e.pagination.bullets&&e.pagination.bullets.forEach(M=>M.classList.remove(...S.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const S=e.params.pagination;let{el:b}=e.pagination;b=In(b),b.forEach(M=>{M.classList.remove(S.horizontalClass,S.verticalClass),M.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?N():(T(),E(),w())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&w()}),r("snapIndexChange",()=>{w()}),r("snapGridLengthChange",()=>{E(),w()}),r("destroy",()=>{D()}),r("enable disable",()=>{let{el:S}=e.pagination;S&&(S=In(S),S.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{w()}),r("click",(S,b)=>{const M=b.target,z=In(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&z&&z.length>0&&!M.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&M===e.navigation.nextEl||e.navigation.prevEl&&M===e.navigation.prevEl))return;const L=z[0].classList.contains(e.params.pagination.hiddenClass);a(L===!0?"paginationShow":"paginationHide"),z.forEach(k=>k.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=In(S),S.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),T(),E(),w()},N=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=In(S),S.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),D()};Object.assign(e.pagination,{enable:C,disable:N,render:E,update:w,init:T,destroy:D})}function JL(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,h,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,x=new Date().getTime(),w,E,T,D,C,N,S;function b(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),!(S||ae.detail&&ae.detail.bySwiperTouchMove)&&P())}const M=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?w=!0:w&&(p=y,w=!1);const ae=e.autoplay.paused?y:x+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/f),h=requestAnimationFrame(()=>{M()})},z=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(H=>H.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},L=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),M();let xe=typeof ae>"u"?e.params.autoplay.delay:ae;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=z();!Number.isNaN(H)&&H>0&&typeof ae>"u"&&(xe=H,f=H,p=H),y=xe;const ce=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ce,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ce,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ce,!0,!0),a("autoplay")),e.params.cssMode&&(x=new Date().getTime(),requestAnimationFrame(()=>{L()})))};return xe>0?(clearTimeout(c),c=setTimeout(()=>{ve()},xe)):requestAnimationFrame(()=>{ve()}),xe},k=()=>{x=new Date().getTime(),e.autoplay.running=!0,L(),a("autoplayStart")},R=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(h),a("autoplayStop")},O=(ae,xe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),ae||(N=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):P()};if(e.autoplay.paused=!0,xe){C&&(y=e.params.autoplay.delay),C=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-x),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},P=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(x=new Date().getTime(),N?(N=!1,L(y)):L(),e.autoplay.paused=!1,a("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=ws();ae.visibilityState==="hidden"&&(N=!0,O(!0)),ae.visibilityState==="visible"&&P()},U=ae=>{ae.pointerType==="mouse"&&(N=!0,S=!0,!(e.animating||e.autoplay.paused)&&O(!0))},I=ae=>{ae.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&P())},J=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",U),e.el.addEventListener("pointerleave",I))},oe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",U),e.el.removeEventListener("pointerleave",I))},$=()=>{ws().addEventListener("visibilitychange",V)},se=()=>{ws().removeEventListener("visibilitychange",V)};r("init",()=>{e.params.autoplay.enabled&&(J(),$(),k())}),r("destroy",()=>{oe(),se(),e.autoplay.running&&R()}),r("_freeModeStaticRelease",()=>{(T||N)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?R():O(!0,!0)}),r("beforeTransitionStart",(ae,xe,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?O(!0,!0):R())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){R();return}E=!0,T=!1,N=!1,D=setTimeout(()=>{N=!0,T=!0,O(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(D),clearTimeout(c),e.params.autoplay.disableOnInteraction){T=!1,E=!1;return}T&&e.params.cssMode&&P(),T=!1,E=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(C=!0)}),Object.assign(e.autoplay,{start:k,stop:R,pause:O,resume:P})}function UE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function c(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,x=p.clickedSlide;if(x&&x.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let w;p.params.loop?w=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):w=y,e.params.loop?e.slideToLoop(w):e.slideTo(w)}function h(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Hu(p.swiper)){const x=Object.assign({},p.swiper);Object.assign(x,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(x),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",c),!0}function f(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const x=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let w=1;const E=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(w=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(w=1),w=Math.floor(w),y.slides.forEach(C=>C.classList.remove(E)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let C=0;C<w;C+=1)bs(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+C}"]`).forEach(N=>{N.classList.add(E)});else for(let C=0;C<w;C+=1)y.slides[e.realIndex+C]&&y.slides[e.realIndex+C].classList.add(E);const T=e.params.thumbs.autoScrollOffset,D=T&&!y.params.loop;if(e.realIndex!==y.realIndex||D){const C=y.activeIndex;let N,S;if(y.params.loop){const b=y.slides.find(M=>M.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);N=y.slides.indexOf(b),S=e.activeIndex>e.previousIndex?"next":"prev"}else N=e.realIndex,S=N>e.previousIndex?"next":"prev";D&&(N+=S==="next"?T:-1*T),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(N)<0&&(y.params.centeredSlides?N>C?N=N-Math.floor(x/2)+1:N=N+Math.floor(x/2)-1:N>C&&y.params.slidesPerGroup,y.slideTo(N,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=ws(),x=()=>{const E=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(E&&E.swiper)p.swiper=E.swiper,h(),f(!0);else if(E){const T=`${e.params.eventsPrefix}init`,D=C=>{p.swiper=C.detail[0],E.removeEventListener(T,D),h(),f(!0),p.swiper.update(),e.update()};E.addEventListener(T,D)}return E},w=()=>{if(e.destroyed)return;x()||requestAnimationFrame(w)};requestAnimationFrame(w)}else h(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(p,y)=>{const x=e.thumbs.swiper;!x||x.destroyed||x.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:h,update:f})}function BE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function c(){if(e.params.cssMode)return;const{touchEventsData:f,touches:p}=e;f.velocities.length===0&&f.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:Do()})}function h(f){let{currentPos:p}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:x,rtlTranslate:w,snapGrid:E,touchEventsData:T}=e,C=Do()-T.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<E.length?e.slideTo(E.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(T.velocities.length>1){const R=T.velocities.pop(),O=T.velocities.pop(),P=R.position-O.position,V=R.time-O.time;e.velocity=P/V,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(V>150||Do()-R.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,T.velocities.length=0;let N=1e3*y.freeMode.momentumRatio;const S=e.velocity*N;let b=e.translate+S;w&&(b=-b);let M=!1,z;const L=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let k;if(b<e.maxTranslate())y.freeMode.momentumBounce?(b+e.maxTranslate()<-L&&(b=e.maxTranslate()-L),z=e.maxTranslate(),M=!0,T.allowMomentumBounce=!0):b=e.maxTranslate(),y.loop&&y.centeredSlides&&(k=!0);else if(b>e.minTranslate())y.freeMode.momentumBounce?(b-e.minTranslate()>L&&(b=e.minTranslate()+L),z=e.minTranslate(),M=!0,T.allowMomentumBounce=!0):b=e.minTranslate(),y.loop&&y.centeredSlides&&(k=!0);else if(y.freeMode.sticky){let R;for(let O=0;O<E.length;O+=1)if(E[O]>-b){R=O;break}Math.abs(E[R]-b)<Math.abs(E[R-1]-b)||e.swipeDirection==="next"?b=E[R]:b=E[R-1],b=-b}if(k&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(w?N=Math.abs((-b-e.translate)/e.velocity):N=Math.abs((b-e.translate)/e.velocity),y.freeMode.sticky){const R=Math.abs((w?-b:b)-e.translate),O=e.slidesSizesGrid[e.activeIndex];R<O?N=y.speed:R<2*O?N=y.speed*1.5:N=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&M?(e.updateProgress(z),e.setTransition(N),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,y0(x,()=>{!e||e.destroyed||!T.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(z),y0(x,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(b),e.setTransition(N),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,y0(x,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||C>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:c,onTouchEnd:h}})}const e9=()=>{const[n,e]=F.useState([]);return F.useEffect(()=>{(async()=>{try{const r=await zr(jn(Dt,"hero-slider-images")),a=[];r.forEach(o=>{const c=o.data();c.image&&c.image.url&&a.push(c.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),d.jsx("div",{className:"w-full",children:d.jsx(Bl,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[JL,ZL,Pf],className:"mySwiper",children:n.map((t,r)=>d.jsx(Fl,{children:d.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},FE=()=>d.jsxs("div",{className:"bg-gray-100 ",children:[d.jsx("div",{children:d.jsx(e9,{})}),d.jsx("div",{className:"px-1 md:px-4",children:d.jsx("div",{children:d.jsx(kN,{})})})]}),t9=F.createContext(),n9=({children:n})=>{const[e,t]=F.useState(null),[r,a]=F.useState(!0);F.useEffect(()=>{const f=nP(p0,p=>{t(p),a(!1)});return()=>f()},[]);const h={user:e,login:async(f,p)=>{a(!0);try{await JD(p0,f,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await rP(p0)},loading:r};return d.jsx(t9.Provider,{value:h,children:n})},r9=()=>d.jsx("div",{children:d.jsx("p",{children:"this is admin page"})}),qE=()=>{const{gender:n,category:e}=Vy(),t=10,r=F.useRef(null),[a,o]=F.useState(window.innerWidth<768);F.useEffect(()=>{const b=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const c=b=>b?Math.round(b).toLocaleString("en-US"):"0",h=async({pageParam:b=null})=>{const M=b?Es(jn(Dt,"products"),Na("gender","==",n),Na("subcategory","array-contains",e.toLowerCase()),Ov(b),bc(t)):Es(jn(Dt,"products"),Na("gender","==",n),Na("subcategory","array-contains",e.toLowerCase()),bc(t)),z=await zr(M),L=[];return z.forEach(k=>{const R=k.data();R.available&&R.stock>0&&L.push({id:k.id,...R})}),{products:L,lastVisible:z.docs[z.docs.length-1]}},{data:f,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:x,isLoading:w,error:E}=CN({queryKey:["products",n,e],queryFn:h,getNextPageParam:b=>b.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),T=b=>{Je.success(`${b} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},D=b=>{const M=JSON.parse(localStorage.getItem("cart"))||[],z=M.find(L=>L.id===b.id);z?z.quantity+=1:M.push({id:b.id,productId:b.productId,name:b.name,price:b.discount?Math.round(b.price-b.price*(b.discount/100)):Math.round(b.price),image:b.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(M)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated")),T(b.name)},C=b=>{b.colorVariants&&b.colorVariants.length>0?window.location.href=`/product/${b.productId||b.id}`:D(b)},N=b=>{b.colorVariants&&b.colorVariants.length>0?window.location.href=`/product/${b.productId||b.id}`:(D(b),window.location.href="/cart")},S=(f==null?void 0:f.pages.flatMap(b=>b.products))||[];return w?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):E?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[d.jsx(Qv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-2 mb-2 md:m-4 mt-2",children:["Showing products for ",n," / ",e]}),S.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:S.map(b=>{const M=b.discount&&b.discount>0,z=b.colorVariants&&b.colorVariants.length>0,L=a?17:25,k=b.name.length>L,R=k?`${b.name.substring(0,L)}...`:b.name;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${b.productId||b.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:b.mainImage||"/placeholder-product.jpg",alt:b.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),M&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[b.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[R,k&&d.jsx(ot,{to:`/product/${b.productId||b.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:O=>{O.preventDefault(),window.location.href=`/product/${b.productId||b.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",c(b.discount?b.price-b.price*(b.discount/100):b.price)]}),b.regularPrice&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",c(b.regularPrice)]})})]}),b.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",b.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>C(b),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:z?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>N(b),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?"In Stock":"Out of Stock"}),b.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[b.stock," units"]})]})]})]},b.id)})}),y&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>p(),disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:x?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},mf=n=>{},Ry=typeof window>"u"?F.useEffect:F.useLayoutEffect,JN=n=>typeof n=="number"&&n>0,HE=n=>JN(n)?n:0,Iy=n=>Math.round(100*n)/100,jy=n=>Math.round(2*n)/2,$E=n=>n===0?0:-1*Iy(n),s9={},i9="rr--group",a9="rr--box",o9="rr--svg",l9="rr--reset",GE="rr--focus-reset",c9="rr--svg-stop-1",u9="rr--svg-stop-2",QE="rr--on",KE="rr--off",$u={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},pf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},S0={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},N0={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},d9="rr--pointer",h9="rr--disabled",f9="rr--dir-y",m9="rr--dir-x",p9="rr--has-stroke",g9="rr--has-border",y9="rr--hf-box-on",v9="rr--hf-box-int",x9="rr--hf-box-off",b9="rr--hf-svg-on",w9="rr--hf-svg-off",gf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},yf={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},_9="--rr--border-width",eC="horizontal",tC="vertical",C0="svg",YE="box",Dr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},zl={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},Aa={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},vf={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function E9({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=eC,hasHF:a=!1}){const o=t>0?-t/2:0,c=t>0?`${o} ${o}`:"0 0",h=F.useId(),f=F.useRef(null),[p,y]=F.useState(null),[x,w]=F.useState(!1),E=F.useRef(null),T=F.useRef(null),D=F.useCallback(C=>{const{width:N,height:S,x:b,y:M}=C.getBBox();if(((...z)=>z.every(L=>typeof L=="number"))(N,S,b,M)){const z=`${c} ${Iy(N+t)} ${Iy(S+t)}`,L=`${$E(b)} ${$E(M)}`;y({viewBox:z,translateData:L})}},[t,c]);return Ry(()=>{if(f.current){const{width:C,height:N,x:S,y:b}=f.current.getBBox();if(C===0&&N===0&&S===0&&b===0){const M=function(z){if(!z||!z.parentElement)return null;let L=z==null?void 0:z.parentElement;for(;L&&window.getComputedStyle(L).display!=="none";)L=L.parentElement;return L}(f.current);M&&(T.current=M,w(!0))}else w(!1);D(f.current)}},[n,t,a]),Ry(()=>{if(x&&T.current)return E.current=new MutationObserver((C,N)=>{C.forEach(()=>{window.getComputedStyle(T.current).display==="none"||(D(f.current),N.disconnect())})}),E.current.observe(T.current,{attributes:!0}),()=>{var C;(C=E.current)==null||C.disconnect()}},[x,D]),d.jsxs("svg",{"aria-hidden":"true",className:o9,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&d.jsx("defs",{children:d.jsxs("linearGradient",{id:h,...r===tC?{gradientTransform:"rotate(90)"}:{},children:[d.jsx("stop",{className:c9,offset:"50%"}),d.jsx("stop",{className:u9,offset:"50%"})]})}),d.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(p){const C=`translate(${p==null?void 0:p.translateData})`;return C==="translate(0 0)"?{}:{transform:C}}return{transform:void 0}}(),...a?{fill:`url('#${h}')`}:{},children:n})]})}function nC(n,e,t){switch(e){case Aa.FILL:return n[gf.FILL]=t,!0;case Aa.BOX:return n[gf.BOX]=t,!0;case Aa.BORDER:return n[gf.BORDER]=t,!0;case Aa.STROKE:return n[gf.STROKE]=t,!0}return!1}function T9(n,e,t){if(!nC(n,e,t))switch(e){case vf.FILL:n[yf.FILL]=t;break;case vf.BOX:n[yf.BOX]=t;break;case vf.BORDER:n[yf.BORDER]=t;break;case vf.STROKE:n[yf.STROKE]=t}}function S9(n,e,t){const r={};let a;for(const[o,c]of Object.entries(n))nC(r,o,c[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const A0=n=>`${n} ${$u.COLORS}`;function N9({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:c,absoluteBoxBorderWidth:h,absoluteStrokeWidth:f,spaceBetween:p,spaceInside:y}){const x=a?d9:"",w=function(S){switch(S){case Dr.SMALL:return S0.SMALL;case Dr.MEDIUM:return S0.MEDIUM;case Dr.LARGE:return S0.LARGE;default:return""}}(p),E=function(S){switch(S){case Dr.SMALL:return N0.SMALL;case Dr.MEDIUM:return N0.MEDIUM;case Dr.LARGE:return N0.LARGE;default:return""}}(y),T=!t&&r?h9:"",D=a&&o!==zl.NONE?function(S){switch(S){case zl.ZOOM:return A0($u.ZOOM);case zl.POSITION:return A0($u.POSITION);case zl.OPACITY:return A0($u.OPACITY);case zl.COLORS:return $u.COLORS;default:return""}}(o):"",C=c===tC?f9:m9,N=function(S){switch(S){case Dr.SMALL:return pf.SMALL;case Dr.MEDIUM:return pf.MEDIUM;case Dr.LARGE:return pf.LARGE;case Dr.FULL:return pf.FULL;default:return""}}(e);return`${i9} ${C} ${f>0?p9:""} ${h>0?g9:""}
${D} ${N} ${x} ${T} ${w}
${E} ${n}`.replace(/  +/g," ").trimEnd()}function C9(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?QE:KE:a<=t?QE:KE)}function A9(n,e,t){const r=Math.floor(jy(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?x9:o===r?v9:y9:o>r?w9:b9)}function XE(n,e){const t={};JN(e)&&(t[_9]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)T9(t,a,o);return t}const R9=[Aa.FILL,Aa.BOX,Aa.STROKE,Aa.BORDER];function R0(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const I9="@smastrom/react-rating",j9=n=>`[${I9}] - Nothing's returned from rendering. Reason: ${n}.`;function Du(n,e){return n.shouldRender=!1,n.reason=j9(e),n}const WE="itemShapes is not a valid JSX element",O9=d.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});d.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});d.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});d.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});d.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});d.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const M9={itemShapes:O9,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},Gu=F.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=mf,onHoverChange:a=mf,onFocus:o=mf,onBlur:c=mf,preventDefault:h="all",isDisabled:f=!1,highlightOnlySelected:p=!1,orientation:y=eC,spaceBetween:x=Dr.NONE,spaceInside:w=Dr.SMALL,radius:E=Dr.NONE,transition:T=zl.COLORS,itemStyles:D=M9,isRequired:C=!1,halfFillMode:N=C0,visibleLabelId:S,visibleItemLabelIds:b,invisibleItemLabels:M,invisibleLabel:z=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:L="Reset rating",id:k,className:R,style:O},P)=>{const V=Array.from({length:e},(Oe,je)=>je+1),U=t&&!Number.isInteger(n),I=U&&!p,J=U&&p?Math.round(n):n,oe=!t&&!f,$=J>=.25,se=typeof R=="string"?R:"",ae=N===YE?YE:C0,xe=I&&!(Oe=>Number.isInteger(jy(Oe)))(J),H=!C&&!t,ce=C?e:e+1,ve=I?function(Oe,je){const tt=jy(je);return Number.isInteger(tt)?Oe.indexOf(tt):Math.floor(tt)}(V,J):V.indexOf(J),{staticColors:ge,arrayColors:Se,itemShapes:ze,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=F.useMemo(()=>{const{itemShapes:Oe,itemStrokeWidth:je,boxBorderWidth:tt,...pt}=D,Ht=function(an){const rr={...an},On={},Hn=Object.entries(rr);if(Hn.length>0)for(const[Mn,Kt]of Hn)if(Array.isArray(Kt)||typeof Kt=="string"){if(Array.isArray(Kt))for(const Fr of R9)if(Fr===Mn){const Er=Kt.filter(Is=>typeof Is=="string");Er.length>0&&(On[Mn]=Er,delete rr[Mn])}else delete rr[Mn]}else delete rr[Mn];return{arrayColors:On,staticColors:rr}}(pt);return{itemShapes:Oe,absoluteStrokeWidth:HE(je),absoluteBoxBorderWidth:HE(tt),...Ht}},[D]),Te=Object.keys(Se).length>0,lt=F.useCallback((Oe,je)=>({dynamicClassNames:xe?A9(J,e,ae):C9(p,e,Oe),dynamicCssVars:je&&Te?S9(Se,Oe,p):[]}),[Se,Te,p,ae,xe,e,J]),et=F.useCallback(()=>Cs(R0(ce,ve,!C)),[ve,ce,C]),jt=F.useRef(!0),$t=F.useRef(!0),mn=F.useRef(null),qt=F.useRef([]),hr=F.useRef(!1),[er,Wt]=F.useState({staticCssVars:XE(ge,ye),...lt(ve,$)}),[Ns,Cs]=F.useState(()=>oe?R0(ce,ve,!C):[]);Ry(()=>{oe&&qt.current&&(hr.current=function(Oe){return Oe?getComputedStyle(Oe).getPropertyValue("direction")==="rtl":!1}(qt.current[0]))},[oe]),F.useEffect(()=>{if(!jt.current)return Wt({staticCssVars:XE(ge,ye),...lt(ve,$)});jt.current=!1},[ge,lt,ye,ve,$]),F.useEffect(()=>{if(!$t.current&&oe)return et();$t.current=!1},[oe,et]);const{shouldRender:As,reason:ls}=function({items:Oe,itemShapes:je}){const tt={shouldRender:!0,reason:""};if(typeof Oe!="number"||Oe<1||Oe>10)return Du(tt,"items is invalid");if(!je)return Du(tt,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(je)&&!F.isValidElement(je))return Du(tt,WE);if(Array.isArray(je)){if(je.length!==Oe)return Du(tt,"itemShapes length mismatch");if(!je.every(pt=>F.isValidElement(pt)))return Du(tt,WE)}return tt}({items:e,itemShapes:ze});if(!As)return console.error(ls),null;function tr(Oe,je,tt=()=>{}){qt.current.some(pt=>pt===Oe.relatedTarget)?tt():je()}function nr(){a(0),et()}function Rs(Oe){tr(Oe,()=>{nr()}),Wt({...er,...lt(ve,$)})}function cs(Oe){tr(Oe,()=>{nr(),c()})}function xt(Oe,je){const tt=!C&&je===V.length?0:je+1;tr(Oe,()=>{o(),a(tt)},()=>{a(tt)})}function Ze(Oe){Cs(R0(ce,Oe,!C)),qt.current[Oe].focus()}const En=N9({className:se,radius:E,readOnly:t,isDisabled:f,isDynamic:oe,transition:T,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:x,spaceInside:w});function Qt(Oe){return{ref:je=>qt.current[Oe]=je}}function si(Oe){return{tabIndex:Ns[Oe],onKeyDown:je=>function(tt,pt){let Ht=0;const an=C?V.length-1:V.length,rr=pt-1,On=pt+1,Hn=!C&&pt===V.length,Mn=pt===0?an:rr,Kt=an===pt?0:On;switch(tt.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return Ht=hr.current?Mn:Kt,Ze(Ht);case"ArrowUp":case"ArrowLeft":return Ht=hr.current?Kt:Mn,Ze(Ht);case"Enter":case"Space":return h!=="all"&&h!=="click"||tt.preventDefault(),r(Hn?0:pt+1)}tt.stopPropagation()}(je,Oe)}}function fr(Oe){return{onClick:je=>function(tt,pt){h!=="all"&&h!=="keydown"||tt.preventDefault(),tt.stopPropagation(),r(C||ve!==pt?pt+1:0)}(je,Oe),onMouseEnter:()=>function(je){a(je+1),Wt({...er,...lt(je,!0)})}(Oe),onMouseLeave:Rs}}function Ur(Oe){if(t)return{};const je={};if(Array.isArray(b))je["aria-labelledby"]=b[Oe];else{const tt=Array.isArray(M)?M:V.map((pt,Ht)=>`Rate ${Ht+1}`);je["aria-label"]=tt[Oe]}return f&&(je["aria-disabled"]="true"),{role:"radio","aria-checked":Oe+1===J,...je}}function Br(Oe){const je={itemShapes:Array.isArray(ze)?ze[Oe]:ze,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return xe&&ae===C0&&(je.hasHF=Oe===ve),je}return d.jsx("div",{id:k,className:En,style:{...O,...er.staticCssVars},ref:function(Oe){oe&&!C&&(mn.current=Oe),P&&(P.current=Oe)},...function(){if(!t){const Oe=C&&!f,je={role:"radiogroup","aria-required":Oe};return Oe&&(je["aria-invalid"]=J<=0),typeof S=="string"&&S.length>0?je["aria-labelledby"]=S:je["aria-label"]=z,je}return{role:"img","aria-label":z}}(),...s9,children:V.map((Oe,je)=>{return d.jsxs(F.Fragment,{children:[d.jsx("div",{className:`${a9} ${er.dynamicClassNames[je]}`,style:er.dynamicCssVars[je],...Ur(je),...(pt=je,oe?{...Qt(pt),...si(pt),...fr(pt),onFocus:Ht=>xt(Ht,pt),onBlur:Ht=>cs(Ht)}:{}),children:d.jsx(E9,{...Br(je)})}),H&&je===V.length-1&&d.jsx("div",{...(tt=je+1,{className:l9,role:"radio","aria-label":L,"aria-checked":J===0,onClick:()=>r(0),onFocus:Ht=>{var an;xt(Ht,tt),(an=mn.current)==null||an.classList.add(GE)},onBlur:Ht=>{var an;cs(Ht),(an=mn.current)==null||an.classList.remove(GE)},...si(tt),...Qt(tt),...f?{"aria-disabled":"true"}:{}})})]},Oe);var tt,pt})})});Gu.displayName="Rating";function D9(n){return Td({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const P9=()=>{var se,ae,xe,H,ce,ve,ge,Se,ze,Ee;const{productId:n}=Vy(),[e,t]=F.useState(null),[r,a]=F.useState(!0),[o,c]=F.useState(null),[h,f]=F.useState(null),[p,y]=F.useState(0),[x,w]=F.useState(null),[E,T]=F.useState(null),[D,C]=F.useState("description"),[N,S]=F.useState([]),[b,M]=F.useState(!1),[z,L]=F.useState({name:"",contact:"",rating:0,comment:""}),[k,R]=F.useState(null);F.useEffect(()=>{(async()=>{var Te;try{const lt=Es(jn(Dt,"products"),Na("productId","==",n)),et=await zr(lt);if(!et.empty){const jt=et.docs[0],$t={id:jt.id,...jt.data()};t($t),$t.isColorVariants&&((Te=$t.colorVariants)==null?void 0:Te.length)>0&&c($t.colorVariants[0])}a(!1)}catch(lt){console.error("Error fetching product:",lt),a(!1)}})()},[n]),F.useEffect(()=>{let ye;return(()=>{if(!n)return;const lt=jn(Dt,"reviews"),et=Es(lt,Na("productId","==",n));ye=jS(et,jt=>{const $t=[];jt.forEach(mn=>{$t.push({id:mn.id,...mn.data()})}),S($t)},jt=>{console.error("Error listening to reviews:",jt)})})(),()=>{ye&&ye()}},[n]);const O=()=>{var et,jt,$t,mn;if(J()){Je.error("This product is out of stock");return}if(e.isColorVariants&&((et=o==null?void 0:o.sizes)==null?void 0:et.length)>0&&!E){Je.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(jt=o==null?void 0:o.images)==null?void 0:jt[0]:($t=e.images)==null?void 0:$t[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(mn=o==null?void 0:o.images)==null?void 0:mn[0]}:null,size:E?{size:E.size,stock:E.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},lt=ye.findIndex(qt=>{var hr,er,Wt,Ns;return!(qt.id!==Te.id||e.isColorVariants&&((hr=qt.color)==null?void 0:hr.name)!==((er=Te.color)==null?void 0:er.name)||E&&((Wt=qt.size)==null?void 0:Wt.size)!==((Ns=Te.size)==null?void 0:Ns.size))});lt>=0?(ye[lt].quantity+=1,Je.success("Item quantity increased in cart")):(ye.push(Te),Je.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},P=()=>{O(),window.location.href="/cart"},V=async ye=>{if(ye.preventDefault(),!z.name||!z.comment||z.rating===0||!z.contact){Je.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.contact),lt=/^[0-9]{10,15}$/.test(z.contact);if(!Te&&!lt){Je.error("Please enter a valid email or phone number");return}try{const et={productId:n,productName:e.name,name:z.name,contact:z.contact,contactType:Te?"email":"phone",rating:z.rating,comment:z.comment,createdAt:new Date().toISOString()};k?(await Md(os(Dt,"reviews",k),et),Je.success("Review updated successfully")):(await WM(jn(Dt,"reviews"),et),Je.success("Review submitted successfully")),M(!1),L({name:"",contact:"",rating:0,comment:""}),R(null)}catch(et){console.error("Error submitting review:",et),Je.error("Failed to submit review")}},U=ye=>{L({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),R(ye.id),M(!0)},I=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await IS(os(Dt,"reviews",ye)),Je.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),Je.error("Failed to delete review")}},J=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},oe=ye=>ye<1;if(r)return d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return d.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=N.length>0?(N.reduce((ye,Te)=>ye+Te.rating,0)/N.length).toFixed(1):0;return d.jsxs("div",{className:"pt-6",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold",children:k?"Edit Review":"Write a Review"}),d.jsx("button",{onClick:()=>{M(!1),R(null),L({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:V,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.name,onChange:ye=>L({...z,name:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.contact,onChange:ye=>L({...z,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),d.jsx(Gu,{style:{maxWidth:150},value:z.rating,onChange:ye=>L({...z,rating:ye}),isRequired:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),d.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:z.comment,onChange:ye=>L({...z,comment:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{M(!1),R(null),L({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:k?"Update Review":"Submit Review"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 px-2",children:[d.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?d.jsxs(d.Fragment,{children:[d.jsxs(Bl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:h},modules:[Pf,UE],className:"mb-2 rounded-lg relative",children:[(se=o==null?void 0:o.images)==null?void 0:se.map((ye,Te)=>d.jsxs(Fl,{children:[d.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),d.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[d.jsx("p",{children:o.colorName}),d.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(Bl,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[Pf,UE,BE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>d.jsx(Fl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>c(ye),children:[d.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Bl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[Pf],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:w,children:[(ae=e.images)==null?void 0:ae.map((ye,Te)=>d.jsx(Fl,{children:d.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((xe=e.images)==null?void 0:xe.length)>1&&d.jsx("div",{className:"relative mt-2",children:d.jsx(Bl,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[BE],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>d.jsx(Fl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),x&&x.slideTo(Te)},children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),d.jsxs("div",{className:"px-2 sm:px-0",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:d.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[d.jsx("span",{children:d.jsx(qw,{})}),d.jsx("p",{children:"Ask for details"})]})}),d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(Gu,{style:{maxWidth:100},value:$,readOnly:!0}),d.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",N.length," ",N.length===1?"review":"reviews",")"]})]}),d.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[d.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&d.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&d.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),d.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>d.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&c(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((ce=o==null?void 0:o.sizes)==null?void 0:ce.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(E==null?void 0:E.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${oe(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!oe(ye.stock)&&T(ye),disabled:oe(ye.stock),children:ye.size}),d.jsxs("span",{className:`text-xs mt-1 ${oe(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),d.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[d.jsx("span",{className:`font-medium ${J()?"text-red-500":"text-green-600"}`,children:J()?"Out of Stock":"In Stock"}),!J()&&d.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),d.jsx("div",{children:e.productType&&d.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),d.jsxs("div",{className:"flex gap-3 mb-2",children:[d.jsx("button",{onClick:O,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:J()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!E,children:"Add to Cart"}),d.jsx("button",{onClick:P,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${J()||((ze=o==null?void 0:o.sizes)==null?void 0:ze.length)>0&&!E?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:J()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!E,children:"Buy Now"})]}),d.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[d.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:d.jsx(D9,{className:"text-black text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"কল করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(qw,{className:"text-green-500 text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),d.jsxs("div",{className:"mt-8 border-t pt-6",children:[d.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${D==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("description"),children:"Description"}),d.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${D==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("reviews"),children:["Reviews (",N.length,")"]})]}),d.jsx("div",{className:"px-2 sm:px-0",children:D==="description"?d.jsxs("div",{className:"space-y-4",children:[e.productType&&d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg flex flex-wrap",children:d.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),d.jsx("div",{className:"prose max-w-none text-gray-600 break-words whitespace-pre-wrap px-2 md:px-4",children:e.description||"No description available."}),e.detailsImage&&d.jsx("div",{className:"mt-4",children:d.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[d.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[d.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),d.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:d.jsx(Gu,{style:{maxWidth:120},value:$,readOnly:!0})}),d.jsxs("p",{className:"text-gray-600",children:[N.length," ",N.length===1?"review":"reviews"]})]}),d.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),N.length>0?d.jsx("div",{className:"space-y-6 px-2 md:px-4",children:N.map(ye=>d.jsxs("div",{className:"border-b pb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:ye.name}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx(Gu,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>U(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>I(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),d.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),d.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),d.jsx("button",{onClick:()=>M(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},k9=()=>{const[n,e]=F.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=S=>{const{name:b,value:M,type:z,checked:L}=S.target;e(k=>({...k,[b]:z==="checkbox"?L:M}))},r=S=>{const{name:b,value:M}=S.target;e(z=>({...z,[b]:Number(M)}))},a=S=>{const{name:b,value:M}=S.target;e(z=>({...z,[b]:M.split(",").map(L=>L.trim())}))},o=(S,b,M)=>{const z=[...n.colorVariants];z[S][b]=b==="stock"||b==="isOutfit"?b==="isOutfit"?M:Number(M):M,e(L=>({...L,colorVariants:z}))},c=(S,b,M)=>{const z=[...n.colorVariants];z[S].images[b]=M,e(L=>({...L,colorVariants:z}))},h=(S,b,M,z)=>{const L=[...n.colorVariants];L[S].sizes[b][M]=M==="stock"?Number(z):z,e(k=>({...k,colorVariants:L}))},f=()=>{e(S=>({...S,colorVariants:[...S.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=S=>{const b=[...n.colorVariants];b.splice(S,1),e(M=>({...M,colorVariants:b}))},y=S=>{const b=[...n.colorVariants];b[S].images.push(""),e(M=>({...M,colorVariants:b}))},x=(S,b)=>{const M=[...n.colorVariants];M[S].images.splice(b,1),e(z=>({...z,colorVariants:M}))},w=S=>{const b=[...n.colorVariants];b[S].sizes.push({size:"",stock:0}),e(M=>({...M,colorVariants:b}))},E=(S,b)=>{const M=[...n.colorVariants];M[S].sizes.splice(b,1),e(z=>({...z,colorVariants:M}))},T=(S,b)=>{const M=[...n.images];M[S]=b,e(z=>({...z,images:M}))},D=()=>{e(S=>({...S,images:[...S.images,""]}))},C=S=>{const b=[...n.images];b.splice(S,1),e(M=>({...M,images:b}))},N=async S=>{S.preventDefault();try{const b={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?b.colorVariants=n.colorVariants.map(z=>{const{isOutfit:L,sizes:k,...R}=z;return L?{...R,sizes:k}:R}):b.images=n.images;const M=os(Dt,n.collectionName,n.documentName);await nm(M,b),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(z=>({...z,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(b){console.error("Error adding document: ",b),alert("Error uploading product!")}};return d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product"}),d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),d.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),d.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),d.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),d.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Gender"}),d.jsx("option",{value:"men",children:"Men"}),d.jsx("option",{value:"women",children:"Women"}),d.jsx("option",{value:"unisex",children:"Unisex"}),d.jsx("option",{value:"kids",children:"Kids"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),d.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),d.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Delivery Charge Option"}),d.jsx("option",{value:"true",children:"Apply Delivery Charge"}),d.jsx("option",{value:"false",children:"Free Delivery"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),d.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),d.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),d.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),d.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),d.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),d.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),d.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),d.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[d.jsx("option",{value:"",children:"Select Product Type"}),d.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),d.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((S,b)=>d.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),d.jsx("input",{type:"text",value:S.colorName,onChange:M=>o(b,"colorName",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:S.stock,onChange:M=>o(b,"stock",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),d.jsx("input",{type:"text",value:S.thumbnail,onChange:M=>o(b,"thumbnail",M.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:S.isOutfit,onChange:M=>o(b,"isOutfit",M.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),S.isOutfit&&d.jsxs("div",{className:"space-y-3 mt-3",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),S.sizes.map((M,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),d.jsx("input",{type:"text",value:M.size,onChange:L=>h(b,z,"size",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:M.stock,onChange:L=>h(b,z,"stock",L.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{type:"button",onClick:()=>E(b,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},z)),d.jsx("button",{type:"button",onClick:()=>w(b),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),S.images.map((M,z)=>d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx("input",{type:"text",value:M,onChange:L=>c(b,z,L.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>x(b,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},z)),d.jsx("button",{type:"button",onClick:()=>y(b),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("button",{type:"button",onClick:()=>p(b),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},b)),d.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((S,b)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:S,onChange:M=>T(b,M.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>C(b),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},b)),d.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},L9=()=>{const{gender:n}=Vy(),e=10,t=F.useRef(null),[r,a]=F.useState(window.innerWidth<768),[o,c]=F.useState(window.innerWidth>=768),h=b=>(typeof b!="number"&&(b=parseFloat(b)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(b)));F.useEffect(()=>{const b=()=>{const M=window.innerWidth;a(M<768),c(M>=768)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const f=async({pageParam:b=null})=>{const M=b?Es(jn(Dt,"products"),Na("gender","==",n),Ov(b),bc(e)):Es(jn(Dt,"products"),Na("gender","==",n),bc(e)),z=await zr(M),L=[];return z.forEach(k=>{const R=k.data();R.available&&R.stock>0&&L.push({id:k.id,...R})}),{products:L,lastVisible:z.docs[z.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:x,isFetchingNextPage:w,isLoading:E,error:T}=CN({queryKey:["products",n],queryFn:f,getNextPageParam:b=>b.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),D=b=>{var L;const M=JSON.parse(localStorage.getItem("cart"))||[],z=M.find(k=>k.id===b.id);z?(z.quantity+=1,Je.success(`${b.name} quantity increased in cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(M.push({id:b.id,productId:b.productId,name:b.name,price:b.discount?Math.round(b.price-b.price*(b.discount/100)):Math.round(b.price),image:b.mainImage||((L=b.images)==null?void 0:L[0]),quantity:1}),Je.success(`${b.name} added to cart!`,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})),localStorage.setItem("cart",JSON.stringify(M)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},C=b=>{var z;b.isColorVariants&&((z=b.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${b.productId||b.id}`:D(b)},N=b=>{var z;b.isColorVariants&&((z=b.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${b.productId||b.id}`:(D(b),window.location.href="/cart")},S=(p==null?void 0:p.pages.flatMap(b=>b.products))||[];return E?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):T?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4 w-[100%]",ref:t,children:[d.jsx(Qv,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:[n,"'s Collection"]}),S.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:S.map(b=>{var J,oe;const M=b.discount&&b.discount>0,z=b.isColorVariants&&((J=b.colorVariants)==null?void 0:J.length)>0,L=r&&b.name.length>17?`${b.name.substring(0,17)}.`:b.name,k=o&&b.name.length>25?`${b.name.substring(0,25)}.`:b.name,R=r?L:k,O=r&&b.name.length>17,P=o&&b.name.length>25,V=M?Math.round(b.price-b.price*(b.discount/100)):null,U=M?V:Math.round(b.price),I=b.regularPrice?Math.round(b.regularPrice):null;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(ot,{to:`/product/${b.productId||b.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:b.mainImage||((oe=b.images)==null?void 0:oe[0])||"/placeholder-product.jpg",alt:b.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),M&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[b.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[R,(O||P)&&d.jsx(ot,{to:`/product/${b.productId||b.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${b.productId||b.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(U)]}),M&&I&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",h(I)]})})]}),b.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",b.productType,")"]})]})})]}),d.jsxs("div",{className:"px-1 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-1 mb-[1px]",children:[d.jsx("button",{onClick:()=>C(b),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:z?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>N(b),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?"In Stock":"Out of Stock"}),b.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[b.stock," units"]})]})]})]},b.id)})}),x&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>y(),disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:w?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},V9=()=>{const[n,e]=F.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=F.useState("form"),a=p=>{const{name:y,value:x}=p.target;e(w=>({...w,[y]:x}))},o=(p,y)=>{const{name:x,value:w}=y.target,E=[...n.items];E[p]={...E[p],[x]:w},e(T=>({...T,items:E}))},c=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},h=p=>{const y=n.items.filter((x,w)=>w!==p);e(x=>({...x,items:y}))},f=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=os(Dt,n.collectionName,n.documentName),x=await ud(y);let w={};x.exists()&&(w=x.data());const E={...w,type:n.type,updatedAt:ZM()};if(n.type==="link"&&(E.order=Number(n.order)),n.type==="dropdown"){const T=w.items||[],D=n.items.filter(C=>C.name&&C.path);E.items=[...T,...D],E.path=null}else E.path=n.path,E.items=null;await nm(y,E,{merge:!0}),alert("Category saved successfully!"),e(T=>({...T,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return d.jsxs("div",{className:"container mx-auto px-4 ",children:[d.jsxs("div",{className:"flex border-b mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),d.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),d.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[d.jsx("option",{value:"dropdown",children:"Dropdown"}),d.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),d.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),d.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:x=>o(y,x),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("button",{type:"button",onClick:()=>h(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),d.jsx("button",{type:"button",onClick:c,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),d.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:d.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),d.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},z9=()=>{const[n,e]=F.useState([]),[t,r]=F.useState("inside"),[a,o]=F.useState(0),[c,h]=F.useState(""),[f,p]=F.useState(0),[y,x]=F.useState(""),[w,E]=F.useState(!0),[T,D]=F.useState({}),C=_d(),N=U=>{const I=typeof U=="string"?parseFloat(U):U;return Math.floor(I).toLocaleString("en-US")};F.useEffect(()=>{(async()=>{const oe=(JSON.parse(localStorage.getItem("cart"))||[]).map(se=>({...se,price:typeof se.price=="string"?parseFloat(se.price):se.price,deliveryCharge:typeof se.deliveryCharge>"u"?!0:se.deliveryCharge}));e(oe);const $={};for(const se of oe)try{const ae=os(Dt,"products",se.productId),xe=await ud(ae);xe.exists()&&($[se.productId]=xe.data())}catch(ae){console.error("Error fetching product data:",ae)}D($),S(),E(!1)})();const I=J=>{if(J.detail)e(J.detail);else{const oe=JSON.parse(localStorage.getItem("cart"))||[];e(oe)}S()};return window.addEventListener("cartUpdated",I),()=>{window.removeEventListener("cartUpdated",I)}},[]);const S=async()=>{try{await new Promise(oe=>setTimeout(oe,500));const U={coxbazar:50,outOfCoxbazar:100},J=n.some(oe=>{const $=T[oe.productId];return($==null?void 0:$.deliveryCharge)===!0||typeof($==null?void 0:$.deliveryCharge)>"u"&&(oe.deliveryCharge===!0||typeof oe.deliveryCharge>"u")})?t==="inside"?U.coxbazar:U.outOfCoxbazar:0;o(J)}catch(U){console.error("Error fetching shipping charges:",U);const I=n.some(J=>{const oe=T[J.productId];return(oe==null?void 0:oe.deliveryCharge)===!0||typeof(oe==null?void 0:oe.deliveryCharge)>"u"&&(J.deliveryCharge===!0||typeof J.deliveryCharge>"u")});o(I?t==="inside"?50:100:0)}};F.useEffect(()=>{S()},[t,n,T]);const b=(U,I)=>{if(I<1)return;const J=n.map(oe=>oe.id===U?{...oe,quantity:I}:oe);localStorage.setItem("cart",JSON.stringify(J)),e(J),window.dispatchEvent(new Event("storage"))},M=U=>{const I=n.filter(J=>J.id!==U);localStorage.setItem("cart",JSON.stringify(I)),e(I),window.dispatchEvent(new Event("storage"))},z=()=>n.reduce((U,I)=>{const J=typeof I.price=="number"?I.price:typeof I.price=="string"?parseFloat(I.price):0;return U+Math.floor(J)*I.quantity},0),L=()=>{const U=z();return Math.floor(U+a-f)},k=U=>{r(U.target.value)},R=async()=>{if(!c.trim()){x("Please enter a coupon code");return}E(!0);try{await new Promise(I=>setTimeout(I,800));const U={valid:c.toLowerCase()==="save20",discountAmount:c.toLowerCase()==="save20"?20:0,message:c.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};U.valid?(p(U.discountAmount),x(`Coupon applied! Discount: ৳${N(U.discountAmount)}`)):(p(0),x(U.message))}catch(U){console.error("Error applying coupon:",U),x("Failed to apply coupon. Please try again.")}finally{E(!1)}},O=()=>{const U={cartItems:n.map(I=>({...I,price:typeof I.price=="string"?parseFloat(I.price):I.price})),shipping:{location:t,charge:a},coupon:{code:c,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(U)),C("/checkout",{state:U})};if(w&&n.length===0)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const P=n.some(U=>{const I=T[U.productId];return(I==null?void 0:I.deliveryCharge)===!0||typeof(I==null?void 0:I.deliveryCharge)>"u"&&(U.deliveryCharge===!0||typeof U.deliveryCharge>"u")}),V=n.filter(U=>{const I=T[U.productId];return(I==null?void 0:I.deliveryCharge)===!1||U.deliveryCharge===!1});return d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),d.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?d.jsxs("div",{className:"text-center py-8 sm:py-12",children:[d.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx(ot,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(U=>{var $,se;const I=typeof U.price=="number"?U.price:typeof U.price=="string"?parseFloat(U.price):0;Math.floor(I)*U.quantity;const J=T[U.productId],oe=(J==null?void 0:J.deliveryCharge)===!1||U.deliveryCharge===!1;return d.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:d.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"pr-2",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:U.name}),(($=U.color)==null?void 0:$.name)&&d.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:U.color.name})]}),((se=U.size)==null?void 0:se.size)&&d.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:U.size.size})]}),oe&&d.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),d.jsx("button",{onClick:()=>M(U.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:d.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",N(I)]}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[d.jsx("button",{onClick:()=>b(U.id,U.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),d.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:U.quantity}),d.jsx("button",{onClick:()=>b(U.id,U.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},U.id)})})})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",N(z())]})]}),P?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:k,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:k,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",N(a)]})]})]}):d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),d.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),V.length>0&&d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),d.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:V.map(U=>{var I;return d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-1",children:"•"}),d.jsx("span",{className:"line-clamp-1",children:U.name}),((I=U.size)==null?void 0:I.size)&&d.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",U.size.size,")"]})]},U.id)})})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),d.jsxs("div",{className:"flex rounded-md shadow-sm",children:[d.jsx("input",{type:"text",id:"coupon",value:c,onChange:U=>h(U.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),d.jsx("button",{onClick:R,disabled:w,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:w?d.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&d.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&d.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[d.jsx("span",{children:"Discount"}),d.jsxs("span",{children:["-৳",N(f)]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",N(L())]})]})}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx("button",{onClick:O,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),d.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:d.jsxs("p",{children:["or"," ",d.jsxs(ot,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",d.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},U9=()=>{const n=ri(),e=_d(),[t,r]=F.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=F.useState({}),[c,h]=F.useState(!1),[f,p]=F.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const M=localStorage.getItem("checkoutState");return M?JSON.parse(M):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:x,shipping:w,coupon:E}=y();F.useEffect(()=>{x.length===0&&e("/cart")},[x,e]),F.useEffect(()=>{const M=async()=>{try{const z=jn(Dt,"products"),L=await zr(z),k=x.map(O=>O.id);let R=!1;L.forEach(O=>{k.includes(O.id)&&O.data().productType&&(R=!0)}),h(R),r(O=>({...O,paymentMethod:R?"bkash":"cash"})),p(!1)}catch(z){console.error("Error checking product types:",z),p(!1)}};x.length>0?M():p(!1)},[x]);const T=M=>{const z=typeof M=="string"?parseFloat(M):M;return Math.floor(z).toLocaleString("en-US")},D=()=>x.reduce((M,z)=>{const L=typeof z.price=="number"?z.price:typeof z.price=="string"?parseFloat(z.price):0;return M+Math.floor(L)*z.quantity},0),C=()=>{const M=D();return Math.floor(M+w.charge-E.discount)},N=M=>{const{name:z,value:L,type:k,checked:R}=M.target;r({...t,[z]:k==="checkbox"?R:L}),a[z]&&o({...a,[z]:""})},S=()=>{const M={};return t.name.trim()||(M.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(M.phone="Please enter a valid Bangladeshi phone number"):M.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(M.address="Address should be at least 10 characters"):M.address="Address is required",t.notes.length>100&&(M.notes="Notes should not exceed 100 characters"),t.agreeTerms||(M.agreeTerms="You must agree to the terms and conditions"),o(M),Object.keys(M).length===0},b=M=>{if(M.preventDefault(),!S())return;const z={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:x,shipping:w,coupon:E,subtotal:D(),total:C(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:z,hasAnyProductWithType:c}})};return f?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading payment options..."})]})})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),d.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),d.jsx("form",{onSubmit:b,className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"space-y-5 md:space-y-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("label",{className:"block text-sm md:text-base font-medium text-gray-800 mb-3",children:["Payment Method ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("div",{className:"space-y-3",children:c?d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Required for selected products"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-cash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Pay when you receive your order"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:N,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Faster order processing"})]})]})]})}),c&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-100 rounded-md text-sm text-amber-800",children:[d.jsx("p",{className:"font-medium",children:"Important Notice:"}),d.jsx("p",{className:"mt-1",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"})]}),d.jsx("div",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Note: Some products in your cart require bKash payment."})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-5 md:space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:"block text-sm md:text-base font-medium text-gray-800",children:["Full Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:N,className:`block w-full rounded-md py-2 px-3 border ${a.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Your full name"}),a.name&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.name})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"phone",className:"block text-sm md:text-base font-medium text-gray-800",children:["Phone Number ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 text-sm md:text-base",children:"+88"})}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:M=>{const z=M.target.value.replace(/[^0-9]/g,"");N({target:{name:"phone",value:z}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md py-2 px-3 border ${a.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,pattern:"[0-9]*",inputMode:"numeric"})]}),a.phone&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.phone}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 11 digits (e.g. 01712345678) with only english"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"address",className:"block text-sm md:text-base font-medium text-gray-800",children:["Delivery Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:N,className:`block w-full rounded-md py-2 px-3 border ${a.address?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"House #, Road #, Area, District"}),a.address&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm md:text-base font-medium text-gray-800",children:"Order Notes (Optional)"}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:N,className:`block w-full rounded-md py-2 px-3 border ${a.notes?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Any special instructions for your order...",maxLength:100}),d.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&d.jsx("p",{className:"text-xs md:text-sm text-red-600",children:a.notes}),d.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:N,className:`h-4 w-4 rounded ${a.agreeTerms?"border-red-300 text-red-600 focus:ring-red-500":"border-gray-300 text-blue-600 focus:ring-blue-500"} focus:ring-2`})}),d.jsxs("div",{className:"ml-3",children:[d.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm md:text-base font-medium text-gray-800",children:["I agree to the ",d.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 underline",children:"Terms and Conditions"})," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.agreeTerms})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:"Place Order"}),a.submit&&d.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:a.submit})]})]})]})})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[d.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[x.length," ",x.length===1?"Item":"Items"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(M=>{var k;const z=typeof M.price=="number"?M.price:typeof M.price=="string"?parseFloat(M.price):0,L=Math.floor(z)*M.quantity;return d.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:d.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:M.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[M.quantity," × ৳",T(z)]}),((k=M.size)==null?void 0:k.size)&&d.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",M.size.size]})]})]}),d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",T(L)]})]},M.id)})})]}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",T(D())]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),d.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:w.charge>0?`৳${T(w.charge)} (${w.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:d.jsx("span",{className:"text-green-600",children:"Free"})})]}),E.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",T(E.discount),E.code&&` (${E.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",T(C())]})]})})]})]})]})})]})]})})},B9=()=>{const n=ri(),e=_d(),{orderData:t}=n.state||{},[r,a]=F.useState({bkashNumber:"",transactionId:""}),[o,c]=F.useState({}),[h,f]=F.useState(!1),[p,y]=F.useState(!1);if(!t)return e("/checkout"),null;const x=N=>{const S=typeof N=="string"?parseFloat(N):N;return Math.floor(S).toLocaleString("en-US")},w=N=>{const{name:S,value:b}=N.target;a({...r,[S]:b}),o[S]&&c({...o,[S]:""})},E=()=>{const N={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(N.bkashNumber="Please enter a valid bKash number"):N.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(N.transactionId="Transaction ID should be at least 8 characters"):N.transactionId="Transaction ID is required",c(N),Object.keys(N).length===0},T=async N=>{try{const S=[];console.log("Items to update:",N);for(const b of N){const M=os(Dt,"products",b.id),z=await ud(M);if(!z.exists()){console.warn(`Product not found: ${b.id}`);continue}const L=z.data();console.log(`Product data for ${b.id}:`,L);let k={};if(b.color&&b.size&&L.colorVariants){console.log(`Updating with color and size for ${b.id}`,b);const R=L.colorVariants.map(O=>O);console.log("Updated color variants:",R),k={colorVariants:R,stock:(L.stock||0)-b.quantity}}else if(b.color&&L.colorVariants&&!b.size){console.log(`Updating with only color for ${b.id}`,b);const R=L.colorVariants.map(O=>O.colorName===b.color.name?{...O,stock:(O.stock||0)-b.quantity}:O);console.log("Updated color variants:",R),k={colorVariants:R,stock:(L.stock||0)-b.quantity}}else console.log(`Updating regular product ${b.id}`,b),k={stock:(L.stock||0)-b.quantity};S.push(Md(M,k))}await Promise.all(S),console.log("All stock updates completed successfully")}catch(S){throw console.error("Error updating product stock:",S),S}},D=async(N,S,b,M,z,L)=>{try{const k=`প্রিয় ${b}, আপনার অর্ডার #${N} সফলভাবে গ্রহণ করা হয়েছে! মোট: ৳${x(z)}। পণ্য: ${M.slice(0,3).map(I=>I.name).join(", ")}${M.length>3?` এবং আরো ${M.length-3}টি`:""}। অর্ডার সম্পর্কিত যেকোনো তথ্যের জন্য কল করুন আমাদের helpline এ 01783694568 . mahiracollection থেকে shopping এর জন্য আপনাকে ধন্যবাদ।`,R=L==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",O=`নতুন অর্ডার #${N}
গ্রাহক: ${b}
মোবাইল: ${S}
পণ্য: ${M.map(I=>`${I.name} (${I.quantity}x)`).join(", ")}
মোট: ৳${x(z)}
পেমেন্ট: ${R}`,P={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${S.replace(/^0/,"")}`,message:k},{to:"8801736600480",message:O}]},U=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).json();if(console.log("SMS API রেস্পন্স:",U),U.error_message)throw new Error(U.error_message);return U}catch(k){console.error("SMS পাঠানোর সময় ত্রুটি:",k)}},C=async()=>{if(!(t.paymentMethod==="bkash"&&!E())){f(!0);try{await T(t.items);const N=os(Dt,"orders",t.customer.phone),S=`${Date.now()}`.slice(-6),b={...t,orderStatus:!1,orderId:S,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(b.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await ud(N)).exists()?await nm(N,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:JM(b),updatedAt:new Date().toISOString()},{merge:!0}):await nm(N,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[b],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await D(S,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(N){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",N)}finally{f(!1)}}};return p?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:d.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",d.jsx("span",{className:"font-medium",children:t.customer.phone})]}),d.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),d.jsxs("div",{className:"px-6 py-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((N,S)=>{var M,z;const b=Math.floor(N.price)*N.quantity;return d.jsxs("li",{className:"py-4 flex justify-between",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:d.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.name}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.quantity," × ৳",x(N.price)]}),((M=N.size)==null?void 0:M.size)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",N.size.size]}),((z=N.color)==null?void 0:z.color)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",N.color.color]})]})]}),d.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",x(b)]})]},S)})})]}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),d.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",x(t.subtotal)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${x(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:d.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),d.jsxs("span",{className:"text-sm font-medium",children:["-৳",x(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:d.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[d.jsx("span",{children:"মোট"}),d.jsxs("span",{children:["৳",x(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-red-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:[d.jsxs("h2",{className:"text-lg font-bold text-red-800 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"bKash পেমেন্ট ডিটেইলস (অত্যন্ত গুরুত্বপূর্ণ)"]}),d.jsx("p",{className:"mt-1 text-sm text-red-700",children:"সাবধানতার সাথে সঠিক তথ্য প্রদান করুন"})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-900 mb-1",children:["আপনার bKash নাম্বার ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-700 font-medium",children:"+88"})}),d.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:N=>{const S=N.target.value.replace(/[^0-9]/g,"");w({target:{name:"bkashNumber",value:S}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2.5 rounded-md border-2 ${o.bkashNumber?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,pattern:"[0-9]*",inputMode:"numeric",onBlur:()=>{r.bkashNumber&&!/^01[3-9]\d{8}$/.test(r.bkashNumber)&&c({...o,bkashNumber:"সঠিক ১১ ডিজিটের bKash নম্বর দিন (01XXXXXXXXX)"})}})]}),o.bkashNumber?d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.bkashNumber]}):d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"অবশ্যই 11 ডিজিটের সঠিক bKash নম্বর দিন (যেমন: 01712345678)"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-900 mb-1",children:["ট্রানজেকশন আইডি (TrxID) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:w,className:`block w-full py-2.5 px-3 rounded-md border-2 ${o.transactionId?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,placeholder:"ট্রানজেকশন আইডি লিখুন (যেমন: 8A7D6F5G4H)",onBlur:()=>{r.transactionId||c({...o,transactionId:"ট্রানজেকশন আইডি দিন"})}}),o.transactionId&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.transactionId]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[d.jsxs("h3",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"পেমেন্ট নির্দেশাবলী:"]}),d.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"1."}),d.jsxs("span",{children:["bKash নম্বর: ",d.jsx("strong",{className:"text-blue-900",children:"01783694568"})," এ ৳",x(t.total)," পাঠান"]})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"2."}),d.jsx("span",{children:"উপরে আপনার bKash নম্বর এবং সঠিক ট্রানজেকশন আইডি লিখুন"})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"3."}),d.jsx("span",{className:"text-red-600 font-semibold",children:"ভুল তথ্য দিলে আপনার পেমেন্ট গ্রহণ করা হবে না"})]})]})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200 text-sm text-yellow-800",children:[d.jsxs("p",{className:"font-bold flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"গুরুত্বপূর্ণ নোট:"]}),d.jsx("p",{className:"mt-1",children:"আপনার পেমেন্ট যাচাই করার জন্য আমরা আপনার প্রদত্ত নম্বরে কল করতে পারি। অনুগ্রহ করে সঠিক তথ্য প্রদান করুন।"})]})]})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),d.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:d.jsx("div",{className:"px-6 py-4",children:d.jsx("button",{onClick:C,disabled:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:h?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},ZE=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),[a,o]=F.useState(""),[c,h]=F.useState(null),[f,p]=F.useState(!0),[y,x]=F.useState(!1),[w]=F.useState(10),[E,T]=F.useState(null),[D,C]=F.useState({name:"",price:"",discount:0,description:"",category:"",mainImage:"",colorVariants:[]});F.useEffect(()=>{(async()=>{try{r(!0);const V=jn(Dt,"products"),U=Es(V,ry("name"),bc(w)),I=await zr(U),J=I.docs.map($=>N($));e(J);const oe=I.docs[I.docs.length-1];h(oe),p(I.docs.length===w),x(!0)}catch(V){console.error("Error fetching products: ",V)}finally{r(!1)}})()},[w]);const N=P=>{const V=P.data();return{id:P.id,name:V.name||"",price:V.price||0,discount:V.discount||0,description:V.description||"",category:V.category||"",mainImage:V.mainImage||"",colorVariants:Array.isArray(V.colorVariants)?V.colorVariants.map(U=>({colorName:U.colorName||"",thumbnail:U.thumbnail||"",images:Array.isArray(U.images)?U.images:[],sizes:Array.isArray(U.sizes)?U.sizes.map(I=>({size:I.size||"",stock:Number(I.stock)||0})):[],stock:Number(U.stock)||0})):[]}},S=async()=>{if(!(!c||!f)){r(!0);try{const P=jn(Dt,"products"),V=Es(P,ry("name"),Ov(c),bc(w)),U=await zr(V),I=U.docs.map(oe=>N(oe));e(oe=>[...oe,...I]);const J=U.docs[U.docs.length-1];h(J),p(U.docs.length===w)}catch(P){console.error("Error loading more products: ",P)}finally{r(!1)}}},b=n.filter(P=>{if(!a)return!0;const V=a.toLowerCase();return(P.name||"").toLowerCase().includes(V)||(P.category||"").toLowerCase().includes(V)||(P.description||"").toLowerCase().includes(V)}),M=P=>{T(P.id),C({name:P.name||"",price:P.price||0,discount:P.discount||0,description:P.description||"",category:P.category||"",mainImage:P.mainImage||"",colorVariants:Array.isArray(P.colorVariants)?P.colorVariants.map(V=>({...V,sizes:Array.isArray(V.sizes)?V.sizes.map(U=>({...U,stock:Number(U.stock)||0})):[]})):[]})},z=P=>{const{name:V,value:U}=P.target;(V==="price"||V==="discount")&&!/^[0-9]*\.?[0-9]*$/.test(U)&&U!==""||C({...D,[V]:U})},L=(P,V,U)=>{const I=[...D.colorVariants||[]];I[P]||(I[P]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),V==="images"?I[P][V]=U.split(",").map(J=>J.trim()):I[P][V]=U,C({...D,colorVariants:I})},k=(P,V,U)=>{if(!/^\d*$/.test(U))return;const I=[...D.colorVariants||[]];I[P]||(I[P]={colorName:"",thumbnail:"",images:[],sizes:[],stock:0}),Array.isArray(I[P].sizes)||(I[P].sizes=[]),I[P].sizes[V]||(I[P].sizes[V]={size:"",stock:0}),I[P].sizes[V].stock=parseInt(U)||0;const J=I[P].sizes.reduce((oe,$)=>oe+($.stock||0),0);I[P].stock=J,C({...D,colorVariants:I})},R=async P=>{P.preventDefault();try{const V=os(Dt,"products",E);await Md(V,D),e(n.map(U=>U.id===E?{...U,...D}:U)),T(null),alert("Product updated successfully!")}catch(V){console.error("Error updating product: ",V),alert("Error updating product")}},O=async P=>{if(window.confirm("Are you sure you want to delete this product?"))try{await IS(os(Dt,"products",P)),e(n.filter(V=>V.id!==P)),alert("Product deleted successfully!")}catch(V){console.error("Error deleting product: ",V),alert("Error deleting product")}};return t&&!y?d.jsx("div",{className:"flex justify-center items-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Product Management"}),d.jsx("div",{className:"mb-4 sm:mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search by name, category or description...",className:"w-full p-2 sm:p-3 pl-8 sm:pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",value:a,onChange:P=>o(P.target.value)}),d.jsx("div",{className:"absolute left-2 sm:left-3 top-2 sm:top-3 text-gray-400",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),d.jsxs("div",{className:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600",children:["Showing ",b.length," ",b.length===1?"product":"products",a&&` matching "${a}"`,!a&&` (${f?"first":""} ${n.length} of all products)`]}),d.jsx("div",{className:"grid gap-4 sm:gap-6",children:b.length===0?d.jsxs("div",{className:"text-center py-6 sm:py-10",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-500",children:"No products found"}),a&&d.jsx("button",{onClick:()=>o(""),className:"mt-2 text-sm sm:text-base text-blue-600 hover:text-blue-800",children:"Clear search"})]}):d.jsxs(d.Fragment,{children:[b.map(P=>d.jsx("div",{className:"w-[450px] sm:w-[100%] border border-red-600 rounded-lg p-3 sm:p-4 md:p-6 shadow-sm bg-white for_res",children:E===P.id?d.jsxs("form",{onSubmit:R,className:"space-y-4 sm:space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold mb-3 sm:mb-4",children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:D.name,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Category *"}),d.jsx("input",{type:"text",name:"category",value:D.category,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Price *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"price",value:D.price,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*\\.?[0-9]*",name:"discount",value:D.discount,onChange:z,min:"0",max:"100",className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Description *"}),d.jsx("textarea",{name:"description",value:D.description,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:"3",required:!0})]}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Main Image URL *"}),d.jsx("input",{type:"text",name:"mainImage",value:D.mainImage,onChange:z,className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),D.mainImage&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:D.mainImage,alt:"Preview",className:"h-16 sm:h-20 object-cover rounded border",onError:V=>{V.target.onerror=null,V.target.src="https://via.placeholder.com/150?text=Image+Error"}})})]})]}),d.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:[d.jsx("div",{className:"flex justify-between items-center mb-3 sm:mb-4",children:d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold",children:"Color Variants"})}),(D.colorVariants||[]).map((V,U)=>{var I;return d.jsxs("div",{className:"border border-gray-200 p-3 sm:p-4 rounded-lg mb-3 sm:mb-4 bg-white",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Color Name *"}),d.jsx("input",{type:"text",value:V.colorName||"",onChange:J=>L(U,"colorName",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Total Stock"}),d.jsx("input",{type:"text",value:V.stock||0,readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-sm sm:text-base"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Thumbnail URL *"}),d.jsx("input",{type:"text",value:V.thumbnail||"",onChange:J=>L(U,"thumbnail",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),V.thumbnail&&d.jsx("div",{className:"mt-1 sm:mt-2",children:d.jsx("img",{src:V.thumbnail,alt:"Thumbnail Preview",className:"h-12 sm:h-16 object-cover rounded border",onError:J=>{J.target.onerror=null,J.target.src="https://via.placeholder.com/100?text=Thumbnail+Error"}})})]})]}),d.jsxs("div",{className:"mb-3 sm:mb-4",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Image URLs (comma separated) *"}),d.jsx("input",{type:"text",value:(V.images||[]).join(", "),onChange:J=>L(U,"images",J.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",required:!0}),d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-2",children:(I=V.images)==null?void 0:I.map((J,oe)=>d.jsx("img",{src:J,alt:`Preview ${oe}`,className:"h-10 sm:h-12 object-cover rounded border",onError:$=>{$.target.onerror=null,$.target.src="https://via.placeholder.com/50?text=Image+Error"}},oe))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Sizes and Stock"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3",children:(V.sizes||[]).map((J,oe)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"mb-1 sm:mb-2",children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Size"}),d.jsx("input",{type:"text",value:J.size||"",readOnly:!0,className:"w-full p-1 sm:p-2 border border-gray-300 rounded bg-gray-100 text-xs sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:J.stock||0,onChange:$=>k(U,oe,$.target.value),className:"w-full p-1 sm:p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-xs sm:text-sm",required:!0})]})]},oe))})]})]},U)})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>T(null),className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors text-sm sm:text-base",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base",children:"Save Changes"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold",children:P.name||"Unnamed Product"}),d.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[P.discount>0&&d.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-full text-xs",children:[P.discount,"% OFF"]}),d.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full text-xs",children:P.category||"Uncategorized"})]})]}),d.jsxs("div",{className:"flex space-x-1 sm:space-x-2 mt-2 sm:mt-0",children:[d.jsx("button",{onClick:()=>M(P),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-colors text-xs sm:text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>O(P.id),className:"px-2 py-1 sm:px-3 sm:py-1.5 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-xs sm:text-sm",children:"Delete"})]})]}),P.mainImage&&d.jsx("div",{className:"mb-3 sm:mb-4",children:d.jsx("img",{src:P.mainImage,alt:P.name||"Product image",className:"w-full h-40 sm:h-48 md:h-64 object-cover rounded-lg",onError:V=>{V.target.onerror=null,V.target.src="https://via.placeholder.com/600x400?text=Image+Not+Available"}})}),d.jsx("p",{className:"text-gray-600 break-words mb-3 sm:mb-4 text-xs sm:text-sm",children:P.description||"No description available"}),d.jsx("div",{className:"flex items-center mb-3 sm:mb-4",children:P.discount>0?d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-gray-500 line-through",children:["$",P.price||0]}),d.jsxs("span",{className:"text-sm sm:text-base font-semibold text-red-600",children:["$",(P.price*(1-P.discount/100)).toFixed(2)]})]}):d.jsxs("span",{className:"text-sm sm:text-base font-semibold",children:["$",P.price||0]})}),d.jsxs("div",{className:"mt-3 sm:mt-4",children:[d.jsx("h3",{className:"font-medium mb-1 sm:mb-2 text-xs sm:text-sm",children:"Color Variants:"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:(P.colorVariants||[]).map((V,U)=>d.jsxs("div",{className:"border border-gray-200 p-2 sm:p-3 rounded bg-gray-50",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-1 sm:mb-2 gap-1 sm:gap-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full mr-1 sm:mr-2 border border-gray-300",style:{backgroundColor:(V.colorName||"").toLowerCase()}}),d.jsx("span",{className:"font-medium text-xs sm:text-sm",children:V.colorName||"No color name"})]}),d.jsxs("span",{className:"sm:ml-auto text-xs sm:text-sm",children:["Stock: ",V.stock||0]})]}),V.thumbnail&&d.jsx("img",{src:V.thumbnail,alt:`${V.colorName} thumbnail`,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded mb-1 sm:mb-2",onError:I=>{I.target.onerror=null,I.target.src="https://via.placeholder.com/100?text=Thumbnail"}}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-medium mb-1",children:"Sizes:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:(V.sizes||[]).map((I,J)=>d.jsxs("span",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:[I.size||"N/A",": ",I.stock||0]},J))})]})]},U))})]})]})},P.id)),f&&!a&&d.jsx("div",{className:"flex justify-center mt-4 sm:mt-6",children:d.jsx("button",{onClick:S,disabled:t,className:`px-4 py-1.5 sm:px-6 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm sm:text-base ${t?"opacity-70 cursor-not-allowed":""}`,children:t?d.jsxs("span",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More Products"})}),!f&&!a&&n.length>0&&d.jsx("div",{className:"text-center py-3 sm:py-4 text-xs sm:text-sm text-gray-500",children:"You've reached the end of the product list."})]})})]})};function F9(){return d.jsx("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:d.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between space-y-3 md:space-y-0",children:[d.jsx("div",{className:"text-xl font-bold text-center md:text-left",children:"Admin Panel"}),d.jsxs("ul",{className:"flex flex-wrap justify-center md:justify-end gap-4 text-sm font-medium",children:[d.jsx("li",{children:d.jsx(ot,{to:"product-update",className:"hover:text-yellow-300",children:"Product Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"upload-products",className:"hover:text-yellow-300",children:"Product Upload"})}),d.jsx("li",{children:d.jsx(ot,{to:"product-category",className:"hover:text-yellow-300",children:"Category Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"headline-update",className:"hover:text-yellow-300",children:"Headline Update"})}),d.jsx("li",{children:d.jsx(ot,{to:"banner-update",className:"hover:text-yellow-300",children:"Banner Update"})})]})]})})}const q9=()=>d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx(F9,{}),d.jsx("div",{className:"pt-10 p-0 md:p-2",children:d.jsx(jT,{})})]}),H9=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(!1),[a,o]=F.useState(""),[c,h]=F.useState(""),[f,p]=F.useState("");F.useEffect(()=>{(async()=>{r(!0),o("");try{const w=await zr(jn(Dt,"headline"));if(w.empty)o("No documents found in headline collection");else{const E=w.docs[0];p(E.id),e(E.data().news||"")}}catch(w){o("Failed to fetch headline: "+w.message),console.error("Error fetching documents: ",w)}finally{r(!1)}})()},[]);const y=async x=>{if(x.preventDefault(),!f){o("No document found to update");return}r(!0),o(""),h("");try{const w=os(Dt,"headline",f);await Md(w,{news:n}),h("News updated successfully!")}catch(w){o("Failed to update news: "+w.message),console.error("Error updating document: ",w)}finally{r(!1)}};return d.jsxs("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Update Headline News"}),t&&d.jsx("div",{className:"mb-4 text-blue-600",children:"Loading..."}),a&&d.jsx("div",{className:"mb-4 text-red-600",children:a}),c&&d.jsx("div",{className:"mb-4 text-green-600",children:c}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"news",className:"block text-sm font-medium text-gray-700 mb-1",children:"News Content *"}),d.jsx("textarea",{id:"news",value:n,onChange:x=>e(x.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:"6",placeholder:"Enter news content here...",required:!0,disabled:t})]}),d.jsx("button",{type:"submit",disabled:t,className:`px-4 py-2 rounded-md text-white ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:t?"Updating...":"Update News"})]})]})};function $9(n){const[e,t]=F.useState(!0),[r,a]=F.useState(null),[o,c]=F.useState(!1),h=()=>{t(!1),c(!0)};return F.useEffect(()=>{if(!document){const x=new Error(`[ScriptLoadingError] document not defined when attempting to load ${n}`);a(x);return}const f=document.querySelector(`script[src="${n}"]`);if(f!=null&&f.dataset.loaded){h();return}const p=f||document.createElement("script");f||(p.src=n);const y=()=>{p.dataset.loaded="1",h()};p.addEventListener("load",y),p.addEventListener("error",x=>{console.error("Failed to load script:",n,x);const w=new Error(`[ScriptLoadingError] Failed to load script: ${n}`);a(w)}),f||document.head.append(p)},[]),{isLoading:e,error:r,isSuccess:o}}const G9=n=>n&&n.charts,JE=(n,e)=>{const{controls:t,toolbarItems:r,getChartEditor:a}=n;return e&&e.charts&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!t||e.visualization.ChartWrapper)&&(!a||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)},Q9=n=>window.google;function K9(n){const{chartVersion:e="current",chartPackages:t=["corechart","controls"],chartLanguage:r="en",mapsApiKey:a}=n,[o,c]=F.useState(null),[h,f]=F.useState(null),[p,y]=F.useState(null),{isLoading:x,error:w,isSuccess:E}=$9(n.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return F.useEffect(()=>{if(!E)return;const T=Q9();if(!G9(T)){const D=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");f(D);return}if(JE(n,T)){c(T);return}T.charts.load(e,{packages:t,language:r,mapsApiKey:a}),T.charts.setOnLoadCallback(()=>{if(!JE(n,T)){const D=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(D),y(D);return}c(T)})},[E]),{error:w||h||p,isLoading:x,google:o}}const rC={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},Y9=n=>{const{isReady:e,chartControls:t,filter:r}=n;return!e||!t||!(t!=null&&t.length)?null:Le.createElement(Le.Fragment,null,t.filter(a=>{let{controlProp:o,control:c}=a;return r?r({control:c,controlProp:o}):!0}).map(a=>{let{control:o}=a;return Le.createElement("div",{key:o.getContainerId(),id:o.getContainerId()})}))};let eT=0;const sC=()=>(eT+=1,`reactgooglegraph-${eT}`),$s=class $s{};ms($s,"initializeControls",e=>{for(let t=0;t<e.length;t+=1){const{controlType:r,options:a,controlWrapperParams:o}=e[t].controlProp;o&&"state"in o&&e[t].control.setState(o.state),e[t].control.setOptions(a),e[t].control.setControlType(r)}}),ms($s,"listenToControlEvents",(e,t)=>{const{google:r}=t;return e.flatMap(a=>{const{control:o,controlProp:c}=a,{controlEvents:h=[]}=c;return h.map(f=>{const{callback:p,eventName:y}=f;return r.visualization.events.addListener(o,y,function(){for(var x=arguments.length,w=new Array(x),E=0;E<x;E++)w[E]=arguments[E];p({chartWrapper:null,controlWrapper:o,props:t,google:r,eventArgs:w})})})})}),ms($s,"createControlId",e=>{let t;return typeof e>"u"?t=`googlechart-control-${sC()}`:t=e,t}),ms($s,"createChartControls",e=>{const{controls:t,google:r}=e;return t?t.map((a,o)=>{const{controlID:c,controlType:h,options:f,controlWrapperParams:p}=a,y=$s.createControlId(c);return{controlProp:a,control:new r.visualization.ControlWrapper({containerId:y,controlType:h,options:f,...p})}}):null}),ms($s,"addControls",e=>{const{chartWrapper:t,chartDashboard:r}=e,a=$s.createChartControls(e);return!a||!r||!t?null:(r.bind(a.map(o=>{let{control:c}=o;return c}),t),$s.initializeControls(a),a)});let pm=$s;const X9=n=>{const[e,t]=F.useState(null);return[F.useMemo(()=>!e||!n?null:n.map((a,o)=>{const c=e[o];return c?{controlProp:a,control:c}:void 0}).flatMap(a=>a?[a]:[]),[e,n]),t]},W9=(n,e)=>{F.useEffect(()=>{const t=pm.listenToControlEvents(n??[],e);return()=>{t.forEach(r=>{e.google.visualization.events.removeListener(r)})}},[n,e])},Z9=n=>{const[e,t]=X9(n.controls);return W9(e??[],n),{addControls:a=>{const o=pm.addControls(a);t((o==null?void 0:o.map(c=>c.control))??null)},renderControl:a=>{const{chartWrapper:o,chartDashboard:c}=n;return F.createElement(Y9,{...n,isReady:!!(o&&c),chartControls:e,filter:a})}}},J9=n=>{const e=F.useRef(null);return{chartId:(()=>{const{graphID:a,graph_id:o}=n,c=a||o;let h;return c?h=c:h=e.current||sC(),e.current=h,e.current})()}},eV=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],tV=async function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,a)=>{const o=`${t.headers?`headers=${t.headers}`:"headers=0"}`,c=`${t.query?`&tq=${encodeURIComponent(t.query)}`:""}`,h=`${t.gid?`&gid=${t.gid}`:""}`,f=`${t.sheet?`&sheet=${t.sheet}`:""}`,p=`${t.access_token?`&access_token=${t.access_token}`:""}`,y=`${o}${h}${f}${c}${p}`,x=`${e}/gviz/tq?${y}`;new n.visualization.Query(x).send(E=>{E.isError()?a(`Error in query:  ${E.getMessage()} ${E.getDetailedMessage()}`):r(E.getDataTable())})})},nV="#CCCCCC",ns=class ns{};ms(ns,"grayOutHiddenColumnsLabel",(e,t)=>{const{googleChartWrapper:r,options:a}=e;if(!r){console.error("googleChartWrapper is not defined");return}const o=r.getDataTable();if(!o)return;const c=o.getNumberOfColumns();if(t.length>0===!1)return;const f=Array.from({length:c-1}).map((p,y)=>{const x=ns.getColumnId(o,y+1);return t.includes(x)?nV:a&&a.colors?a.colors[y]:eV[y]});r.setOptions({...a,colors:f}),r.draw()}),ms(ns,"listenToLegendToggle",(e,t)=>{const[r,a]=t,{google:o,googleChartWrapper:c}=e;if(!c){console.error("googleChartWrapper is not defined");return}return o.visualization.events.addListener(c,"select",()=>{const f=c.getChart().getSelection(),p=c.getDataTable();if(f.length===0||f[0].row!==null||!p)return;const y=f[0].column,x=ns.getColumnId(p,y);r!=null&&r.includes(x)?a(w=>[...w.filter(E=>E!==x)]):a(w=>[...w,x])})}),ms(ns,"draw",async e=>{const{data:t,diffdata:r,rows:a,columns:o,options:c,chartType:h,formatters:f,spreadSheetUrl:p,spreadSheetQueryParameters:y,googleChartDashboard:x,googleChartWrapper:w,google:E,hiddenColumns:T,legendToggle:D,legend_toggle:C}=e;if(!w){console.error("draw was called with googleChartWrapper = null");return}let N,S=null;if(r){const k=E.visualization.arrayToDataTable(r.old),R=E.visualization.arrayToDataTable(r.new);S=E.visualization[h].prototype.computeDiff(k,R)}t?t instanceof E.visualization.DataTable?N=t:Array.isArray(t)?N=E.visualization.arrayToDataTable(t):N=new E.visualization.DataTable(t):a&&o?N=E.visualization.arrayToDataTable([o,...a]):p?N=await tV(E,p,y):N=E.visualization.arrayToDataTable([]);const b=N.getNumberOfColumns(),M=Array(b).fill(0).map((k,R)=>{const O=ns.getColumnId(N,R);return T.includes(O)?{label:N.getColumnLabel(R),type:N.getColumnType(R),calc:()=>null}:R}),z=w.getChart();w.getChartType()==="Timeline"&&z&&z.clearChart(),w.setChartType(h),w.setOptions(c||{});const L=new E.visualization.DataView(N);L.setColumns(M),w.setDataTable(L),w.draw(),x&&x.draw(N),S&&(w.setDataTable(S),w.draw()),f&&(ns.applyFormatters({dataTable:N,formatters:f,google:E}),w.setDataTable(N),w.draw()),(D===!0||C===!0)&&ns.grayOutHiddenColumnsLabel(e,T)}),ms(ns,"getColumnId",(e,t)=>e.getColumnId(t)||e.getColumnLabel(t)),ms(ns,"applyFormatters",e=>{let{dataTable:t,formatters:r,google:a}=e;for(let o of r)switch(o.type){case"ArrowFormat":{new a.visualization.ArrowFormat(o.options).format(t,o.column);return}case"BarFormat":{new a.visualization.BarFormat(o.options).format(t,o.column);return}case"ColorFormat":{const c=new a.visualization.ColorFormat(o.options),{ranges:h}=o;if(h)for(let f of h)c.addRange(...f);c.format(t,o.column);return}case"DateFormat":{new a.visualization.DateFormat(o.options).format(t,o.column);return}case"NumberFormat":{new a.visualization.NumberFormat(o.options).format(t,o.column);return}case"PatternFormat":{new a.visualization.PatternFormat(o.options).format(t,o.column);return}default:{console.warn(`Unknown formatter type: ${o.type}`);return}}});let Ju=ns;const rV=n=>{const{google:e,googleChartWrapper:t,googleChartDashboard:r}=n,[a,o]=F.useState([]);F.useEffect(()=>{t&&Ju.draw({...n,hiddenColumns:a,googleChartWrapper:t,googleChartDashboard:r,google:e})},[a,n.data,n.rows,n.columns,n.options,n.chartLoaderScriptUrl,n.chartType,n.formatters,n.spreadSheetUrl,n.spreadSheetQueryParameters,n.legendToggle,n.legend_toggle]);const c=()=>{const{googleChartWrapper:p}=n;p&&p.draw()},h=p=>{const y=[],{legendToggle:x,legend_toggle:w}=n;if(Ju.draw({...n,hiddenColumns:a,googleChartWrapper:p,googleChartDashboard:r,google:e}),window.addEventListener("resize",c),w||x){const E=Ju.listenToLegendToggle(n,[a,o]);E&&y.push(E)}return y},f=(p,y)=>{window.removeEventListener("resize",c),y.forEach(x=>{e.visualization.events.removeListener(x)}),p.getChartType()==="Timeline"&&p.getChart()&&p.getChart().clearChart()};F.useEffect(()=>{if(!t)return;const p=h(t);return()=>{f(t,p)}},[t,h,f])},sV=n=>{const{chartEvents:e,google:t,googleChartWrapper:r}=n;if(e){if(!r){console.warn("listenToEvents was called before chart wrapper ready.");return}return e.map(a=>{let{eventName:o,callback:c}=a;return t.visualization.events.addListener(r,o,function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];c({chartWrapper:r,props:n,google:t,eventArgs:f})})})}},iV=n=>{F.useEffect(()=>{if(!n.googleChartWrapper)return;const e=sV(n);return()=>{e==null||e.forEach(t=>{n.google.visualization.events.removeListener(t)})}},[n])},aV=n=>{const[e,t]=F.useState(null),[r,a]=F.useState(null),{addControls:o,renderControl:c}=Z9({...n,chartDashboard:r,chartWrapper:e});iV({...n,googleChartWrapper:e});const{chartId:h}=J9(n),f=F.useRef(null),p=F.useRef(null);F.useEffect(()=>{const{options:N,google:S,chartType:b,chartWrapperParams:M,toolbarItems:z,getChartEditor:L,getChartWrapper:k,onLoad:R}=n,O={chartType:b,options:N,containerId:h,...M},P=new S.visualization.ChartWrapper(O);P.setOptions(N||{}),k==null||k(P,S);const V=new S.visualization.Dashboard(f.current);z&&S.visualization.drawToolbar(p.current,z);let U=null;L&&(U=new S.visualization.ChartEditor,L({chartEditor:U,chartWrapper:P,google:S})),o({...n,chartDashboard:V,chartWrapper:P}),t(P),a(V),R==null||R(S,{google:S,chartWrapper:P,chartEditor:U,chartDashboard:V})},[]),rV({...n,googleChartWrapper:e,googleChartDashboard:r});const y=()=>{const{width:N,height:S,options:b,style:M,className:z,rootProps:L,google:k}=n,R={height:S||b&&b.height,width:N||b&&b.width,...M};return F.createElement("div",{id:h,style:R,className:z,...L})},x=()=>n.toolbarItems?F.createElement("div",{ref:p}):null,{width:w,height:E,options:T,style:D}=n,C={height:E||T&&T.height,width:w||T&&T.width,...D};return n.render?F.createElement("div",{ref:f,style:C},F.createElement("div",{ref:p,id:"toolbar"}),n.render({renderChart:y,renderControl:c,renderToolbar:x})):F.createElement("div",{ref:f,style:C},c(N=>{let{controlProp:S}=N;return S.controlPosition!=="bottom"}),y(),c(N=>{let{controlProp:S}=N;return S.controlPosition==="bottom"}),x())},oV=F.createContext(rC),lV=n=>{let{children:e,value:t}=n;return F.createElement(oV.Provider,{value:t},e)},cV=n=>{const{google:e,isLoading:t,error:r}=K9(n);return t?n.loader??null:r?n.errorElement??null:e?Le.createElement(aV,{google:e,...n}):null},uV=n=>{const e={...rC,...n};return Le.createElement(lV,{value:e},Le.createElement(cV,e))};var tT;(function(n){n.annotation="annotation",n.annotationText="annotationText",n.certainty="certainty",n.emphasis="emphasis",n.interval="interval",n.scope="scope",n.style="style",n.tooltip="tooltip",n.domain="domain"})(tT||(tT={}));const dV=()=>{const[n,e]=F.useState([]),[t,r]=F.useState(!0),[a,o]=F.useState(0),[c,h]=F.useState({confirmed:0,pending:0,completed:0,cancelled:0,unknown:0,chartData:[]}),f=T=>{var D;return T.orderStatus===!1?"pending":T.orderStatus===!0?"completed":((D=T.shipping)==null?void 0:D.status)||"unknown"},p=async(T,D)=>{try{const C=os(Dt,"orders",T),N=await ud(C);if(N.exists()){const S=N.data();if(S&&S.orderInfo){const b=S.orderInfo.map(M=>M.orderId===D?{...M,orderStatus:!0}:M);await Md(C,{orderInfo:b}),alert("Order marked as completed successfully!")}}else alert("Order document not found!")}catch(C){console.error("Error completing order:",C),alert("Failed to complete order. Please try again.")}};F.useEffect(()=>{(async()=>{try{const D=jn(Dt,"orders"),C=Es(D),N=jS(C,S=>{const b=[];S.forEach(M=>{const z=M.data();z.orderInfo&&Array.isArray(z.orderInfo)&&z.orderInfo.forEach(L=>{L.orderId&&L.confirmedAt&&b.push({id:L.orderId,phone:M.id,...L,shipping:L.shipping||{status:"unknown",charge:0}})})}),b.sort((M,z)=>new Date(z.confirmedAt)-new Date(M.confirmedAt)),e(b),n.length>0&&b.length>n.length&&(o(b.length-n.length),setTimeout(()=>o(0),5e3)),y(b),r(!1)});return()=>N()}catch(D){console.error("Error fetching orders:",D),r(!1)}})()},[n.length]);const y=T=>{const D=new Date,C=D.getMonth(),N=D.getFullYear(),S=T.filter(L=>{try{const k=new Date(L.confirmedAt);return k.getMonth()===C&&k.getFullYear()===N}catch{return!1}}),b=S.reduce((L,k)=>{const R=f(k);return L[R]=(L[R]||0)+1,L},{}),M=S.reduce((L,k)=>{try{const O=new Date(k.confirmedAt).getDate();L[O]||(L[O]={confirmed:0,pending:0,completed:0,cancelled:0,unknown:0});const P=f(k);return L[O][P]+=1,L}catch{return L}},{}),z=[["Day","Confirmed","Pending","Completed","Cancelled","Unknown"],...Object.entries(M).map(([L,k])=>[parseInt(L),k.confirmed,k.pending||0,k.completed||0,k.cancelled||0,k.unknown||0]).sort((L,k)=>L[0]-k[0])];h({confirmed:b.confirmed||0,pending:b.pending||0,completed:b.completed||0,cancelled:b.cancelled||0,unknown:b.unknown||0,chartData:z})},x=T=>{switch(f(T)){case"confirmed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=T=>{const D=f(T);return D.charAt(0).toUpperCase()+D.slice(1)},E=T=>{try{const D={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(T).toLocaleDateString("en-US",D)}catch{return"Invalid date"}};return t?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a>0&&d.jsx("div",{className:"fixed top-4 right-4 animate-bounce",children:d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",children:[a," new order",a>1?"s":""," received!"]}),d.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:a})]})}),d.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Monthly Order Statistics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Confirmed"}),d.jsx("p",{className:"text-3xl font-bold",children:c.confirmed})]}),d.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Pending"}),d.jsx("p",{className:"text-3xl font-bold",children:c.pending})]}),d.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Completed"}),d.jsx("p",{className:"text-3xl font-bold",children:c.completed})]}),d.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Cancelled"}),d.jsx("p",{className:"text-3xl font-bold",children:c.cancelled})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Unknown"}),d.jsx("p",{className:"text-3xl font-bold",children:c.unknown})]})]}),d.jsx("div",{className:"h-64",children:d.jsx(uV,{width:"100%",height:"100%",chartType:"ColumnChart",loader:d.jsx("div",{children:"Loading Chart"}),data:c.chartData,options:{title:"Daily Order Status",chartArea:{width:"80%"},hAxis:{title:"Day of Month",minValue:1,maxValue:31},vAxis:{title:"Number of Orders"},isStacked:!0,colors:["#3b82f6","#f59e0b","#10b981","#ef4444","#9ca3af"]}})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"All Orders"}),d.jsxs("p",{className:"text-gray-600",children:[n.length," total orders"]})]}),d.jsx("div",{className:"divide-y divide-gray-200",children:n.length===0?d.jsx("div",{className:"p-6 text-center text-gray-500",children:"No orders found"}):n.map(T=>{var D,C,N,S,b,M,z,L;return d.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",T.orderId]}),d.jsx("p",{className:"text-gray-600",children:E(T.confirmedAt)})]}),d.jsxs("div",{className:"mt-2 md:mt-0 flex items-center gap-2",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x(T)}`,children:w(T)}),f(T)==="pending"&&d.jsx("button",{onClick:()=>p(T.phone,T.orderId),className:"px-3 py-1 bg-green-500 text-white rounded-full text-sm font-medium hover:bg-green-600 transition-colors",children:"Complete Order"})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Information"}),d.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),d.jsx("p",{children:((D=T.customer)==null?void 0:D.name)||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),d.jsx("p",{children:((C=T.customer)==null?void 0:C.phone)||"N/A"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),d.jsx("p",{className:"truncate",children:((N=T.customer)==null?void 0:N.address)||"N/A"})]})]}),((S=T.customer)==null?void 0:S.notes)&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),d.jsx("p",{children:T.customer.notes})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"font-medium text-gray-900",children:"Order Details"}),d.jsx("div",{className:"mt-2",children:(b=T.items)==null?void 0:b.map((k,R)=>d.jsx("div",{className:"py-3 border-b border-gray-100 last:border-0",children:d.jsxs("div",{className:"flex items-start",children:[k.image&&d.jsx("img",{src:k.image,alt:k.name,className:"w-16 h-16 object-cover rounded-md"}),d.jsxs("div",{className:"ml-4 flex-1",children:[d.jsx("h5",{className:"font-medium",children:k.name||"Unnamed item"}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 text-sm text-gray-600",children:[k.color&&d.jsxs("span",{children:["Color: ",k.color.name||k.color]}),k.size&&d.jsxs("span",{children:["Size: ",k.size.size||k.size]}),d.jsxs("span",{children:["Qty: ",k.quantity||1]}),d.jsxs("span",{children:["Price: ৳",(k.price||0).toLocaleString()]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"font-medium",children:["৳",((k.price||0)*(k.quantity||1)).toLocaleString()]})})]})},R))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:"Payment"}),d.jsx("div",{className:"mt-2",children:d.jsxs("p",{className:"capitalize",children:[T.paymentMethod==="bkash"?"bKash":T.paymentMethod||"Unknown",((M=T.paymentDetails)==null?void 0:M.transactionId)&&d.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(TrxID: ",T.paymentDetails.transactionId,")"]})]})})]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between py-1",children:[d.jsx("span",{className:"text-gray-600",children:"Subtotal"}),d.jsxs("span",{children:["৳",(T.subtotal||0).toLocaleString()]})]}),((z=T.coupon)==null?void 0:z.discount)>0&&d.jsxs("div",{className:"flex justify-between py-1",children:[d.jsxs("span",{className:"text-gray-600",children:["Coupon (",T.coupon.code,")"]}),d.jsxs("span",{className:"text-red-500",children:["-৳",(T.coupon.discount||0).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between py-1",children:[d.jsx("span",{className:"text-gray-600",children:"Shipping"}),d.jsxs("span",{children:["৳",(((L=T.shipping)==null?void 0:L.charge)||0).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between py-1 font-medium border-t border-gray-200 mt-2 pt-2",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",(T.total||0).toLocaleString()]})]})]})]})]},T.orderId)})})]})]})},hV=PI([{path:"/",element:d.jsx(qk,{}),children:[{index:!0,element:d.jsx(FE,{})},{path:"/home",element:d.jsx(FE,{})},{path:"/category/:gender",element:d.jsx(L9,{})},{path:"/category/:gender/:category",element:d.jsx(qE,{})},{path:"/category/:gender",element:d.jsx(qE,{})},{path:"/all-categories",element:d.jsx(kN,{})},{path:"/product/:productId",element:d.jsx(P9,{})},{path:"/admin",element:d.jsx(r9,{})},{path:"/cart",element:d.jsx(z9,{})},{path:"/checkout",element:d.jsx(U9,{})},{path:"/complete-order",element:d.jsx(B9,{})},{path:"/footer",element:d.jsx(AN,{})},{path:"/admin-panel",element:d.jsx(q9,{}),children:[{index:!0,element:d.jsx(ZE,{})},{path:"product-update",element:d.jsx(ZE,{})},{path:"upload-products",element:d.jsx(k9,{})},{path:"product-category",element:d.jsx(V9,{})},{path:"headline-update",element:d.jsx(H9,{})},{path:"banner-update",element:d.jsx("div",{children:"Banner Update Page"})},{path:"order-cart",element:d.jsx(dV,{})}]}]}]);zA.createRoot(document.getElementById("root")).render(d.jsx(F.StrictMode,{children:d.jsx(n9,{children:d.jsx(YI,{router:hV})})}));
