var Vw=n=>{throw TypeError(n)};var Sg=(n,e,t)=>e.has(n)||Vw("Cannot "+t);var Y=(n,e,t)=>(Sg(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?Vw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ne=(n,e,t,r)=>(Sg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mt=(n,e,t)=>(Sg(n,e,"access private method"),t);var zf=(n,e,t,r)=>({set _(a){Ne(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function PT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function QR(){if(zw)return mc;zw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return mc.Fragment=e,mc.jsx=t,mc.jsxs=t,mc}var Uw;function KR(){return Uw||(Uw=1,Ag.exports=QR()),Ag.exports}var y=KR(),Rg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function YR(){if(Bw)return et;Bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function M(F,se,ge){this.props=F,this.context=se,this.refs=I,this.updater=ge||x}M.prototype.isReactComponent={},M.prototype.setState=function(F,se){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,se,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function R(){}R.prototype=M.prototype;function E(F,se,ge){this.props=F,this.context=se,this.refs=I,this.updater=ge||x}var C=E.prototype=new R;C.constructor=E,S(C,M.prototype),C.isPureReactComponent=!0;var U=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function V(F,se,ge,me,Se,Ve){return ge=Ve.ref,{$$typeof:n,type:F,key:se,ref:ge!==void 0?ge:null,props:Ve}}function O(F,se){return V(F.type,se,void 0,void 0,void 0,F.props)}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function j(F){var se={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return se[ge]})}var B=/\/+/g;function H(F,se){return typeof F=="object"&&F!==null&&F.key!=null?j(""+F.key):se.toString(36)}function z(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(se){F.status==="pending"&&(F.status="fulfilled",F.value=se)},function(se){F.status==="pending"&&(F.status="rejected",F.reason=se)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function we(F,se,ge,me,Se){var Ve=typeof F;(Ve==="undefined"||Ve==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case n:case e:Ee=!0;break;case g:return Ee=F._init,we(Ee(F._payload),se,ge,me,Se)}}if(Ee)return Se=Se(F),Ee=me===""?"."+H(F,0):me,U(Se)?(ge="",Ee!=null&&(ge=Ee.replace(B,"$&/")+"/"),we(Se,se,ge,"",function(st){return st})):Se!=null&&(N(Se)&&(Se=O(Se,ge+(Se.key==null||F&&F.key===Se.key?"":(""+Se.key).replace(B,"$&/")+"/")+Ee)),se.push(Se)),1;Ee=0;var pe=me===""?".":me+":";if(U(F))for(var Te=0;Te<F.length;Te++)me=F[Te],Ve=pe+H(me,Te),Ee+=we(me,se,ge,Ve,Se);else if(Te=w(F),typeof Te=="function")for(F=Te.call(F),Te=0;!(me=F.next()).done;)me=me.value,Ve=pe+H(me,Te++),Ee+=we(me,se,ge,Ve,Se);else if(Ve==="object"){if(typeof F.then=="function")return we(ye(F),se,ge,me,Se);throw se=String(F),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(F,se,ge){if(F==null)return F;var me=[],Se=0;return we(F,me,"","",function(Ve){return se.call(ge,Ve,Se++)}),me}function oe(F){if(F._status===-1){var se=F._result;se=se(),se.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=se)}if(F._status===1)return F._result.default;throw F._result}var ae=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function _e(){}return et.Children={map:Q,forEach:function(F,se,ge){Q(F,function(){se.apply(this,arguments)},ge)},count:function(F){var se=0;return Q(F,function(){se++}),se},toArray:function(F){return Q(F,function(se){return se})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},et.Component=M,et.Fragment=t,et.Profiler=a,et.PureComponent=E,et.StrictMode=r,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,et.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},et.cache=function(F){return function(){return F.apply(null,arguments)}},et.cloneElement=function(F,se,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=S({},F.props),Se=F.key,Ve=void 0;if(se!=null)for(Ee in se.ref!==void 0&&(Ve=void 0),se.key!==void 0&&(Se=""+se.key),se)!P.call(se,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&se.ref===void 0||(me[Ee]=se[Ee]);var Ee=arguments.length-2;if(Ee===1)me.children=ge;else if(1<Ee){for(var pe=Array(Ee),Te=0;Te<Ee;Te++)pe[Te]=arguments[Te+2];me.children=pe}return V(F.type,Se,void 0,void 0,Ve,me)},et.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},et.createElement=function(F,se,ge){var me,Se={},Ve=null;if(se!=null)for(me in se.key!==void 0&&(Ve=""+se.key),se)P.call(se,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=se[me]);var Ee=arguments.length-2;if(Ee===1)Se.children=ge;else if(1<Ee){for(var pe=Array(Ee),Te=0;Te<Ee;Te++)pe[Te]=arguments[Te+2];Se.children=pe}if(F&&F.defaultProps)for(me in Ee=F.defaultProps,Ee)Se[me]===void 0&&(Se[me]=Ee[me]);return V(F,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(F){return{$$typeof:d,render:F}},et.isValidElement=N,et.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:oe}},et.memo=function(F,se){return{$$typeof:p,type:F,compare:se===void 0?null:se}},et.startTransition=function(F){var se=k.T,ge={};k.T=ge;try{var me=F(),Se=k.S;Se!==null&&Se(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(_e,ae)}catch(Ve){ae(Ve)}finally{k.T=se}},et.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},et.use=function(F){return k.H.use(F)},et.useActionState=function(F,se,ge){return k.H.useActionState(F,se,ge)},et.useCallback=function(F,se){return k.H.useCallback(F,se)},et.useContext=function(F){return k.H.useContext(F)},et.useDebugValue=function(){},et.useDeferredValue=function(F,se){return k.H.useDeferredValue(F,se)},et.useEffect=function(F,se,ge){var me=k.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(F,se)},et.useId=function(){return k.H.useId()},et.useImperativeHandle=function(F,se,ge){return k.H.useImperativeHandle(F,se,ge)},et.useInsertionEffect=function(F,se){return k.H.useInsertionEffect(F,se)},et.useLayoutEffect=function(F,se){return k.H.useLayoutEffect(F,se)},et.useMemo=function(F,se){return k.H.useMemo(F,se)},et.useOptimistic=function(F,se){return k.H.useOptimistic(F,se)},et.useReducer=function(F,se,ge){return k.H.useReducer(F,se,ge)},et.useRef=function(F){return k.H.useRef(F)},et.useState=function(F){return k.H.useState(F)},et.useSyncExternalStore=function(F,se,ge){return k.H.useSyncExternalStore(F,se,ge)},et.useTransition=function(){return k.H.useTransition()},et.version="19.1.0",et}var Fw;function Xh(){return Fw||(Fw=1,Rg.exports=YR()),Rg.exports}var q=Xh();const Ut=PT(q);var Cg={exports:{}},pc={},Ig={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function XR(){return qw||(qw=1,function(n){function e(Q,oe){var ae=Q.length;Q.push(oe);e:for(;0<ae;){var _e=ae-1>>>1,F=Q[_e];if(0<a(F,oe))Q[_e]=oe,Q[ae]=F,ae=_e;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ae=Q.pop();if(ae!==oe){Q[0]=ae;e:for(var _e=0,F=Q.length,se=F>>>1;_e<se;){var ge=2*(_e+1)-1,me=Q[ge],Se=ge+1,Ve=Q[Se];if(0>a(me,ae))Se<F&&0>a(Ve,me)?(Q[_e]=Ve,Q[Se]=ae,_e=Se):(Q[_e]=me,Q[ge]=ae,_e=ge);else if(Se<F&&0>a(Ve,ae))Q[_e]=Ve,Q[Se]=ae,_e=Se;else break e}}return oe}function a(Q,oe){var ae=Q.sortIndex-oe.sortIndex;return ae!==0?ae:Q.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,_=null,w=3,x=!1,S=!1,I=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function U(Q){for(var oe=t(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Q)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=t(p)}}function k(Q){if(I=!1,U(Q),!S)if(t(h)!==null)S=!0,P||(P=!0,H());else{var oe=t(p);oe!==null&&we(k,oe.startTime-Q)}}var P=!1,V=-1,O=5,N=-1;function j(){return M?!0:!(n.unstable_now()-N<O)}function B(){if(M=!1,P){var Q=n.unstable_now();N=Q;var oe=!0;try{e:{S=!1,I&&(I=!1,E(V),V=-1),x=!0;var ae=w;try{t:{for(U(Q),_=t(h);_!==null&&!(_.expirationTime>Q&&j());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,w=_.priorityLevel;var F=_e(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof F=="function"){_.callback=F,U(Q),oe=!0;break t}_===t(h)&&r(h),U(Q)}else r(h);_=t(h)}if(_!==null)oe=!0;else{var se=t(p);se!==null&&we(k,se.startTime-Q),oe=!1}}break e}finally{_=null,w=ae,x=!1}oe=void 0}}finally{oe?H():P=!1}}}var H;if(typeof C=="function")H=function(){C(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ye=z.port2;z.port1.onmessage=B,H=function(){ye.postMessage(null)}}else H=function(){R(B,0)};function we(Q,oe){V=R(function(){Q(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ae=w;w=oe;try{return Q()}finally{w=ae}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=w;w=Q;try{return oe()}finally{w=ae}},n.unstable_scheduleCallback=function(Q,oe,ae){var _e=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?_e+ae:_e):ae=_e,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ae,expirationTime:F,sortIndex:-1},ae>_e?(Q.sortIndex=ae,e(p,Q),t(h)===null&&Q===t(p)&&(I?(E(V),V=-1):I=!0,we(k,ae-_e))):(Q.sortIndex=F,e(h,Q),S||x||(S=!0,P||(P=!0,H()))),Q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Q){var oe=w;return function(){var ae=w;w=oe;try{return Q.apply(this,arguments)}finally{w=ae}}}}(Ng)),Ng}var Hw;function WR(){return Hw||(Hw=1,Ig.exports=XR()),Ig.exports}var Og={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function ZR(){if(Gw)return Hn;Gw=1;var n=Xh();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,g)},Hn.flushSync=function(h){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=g,r.d.f()}},Hn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Hn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Hn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):g==="script"&&r.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Hn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Hn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin);r.d.L(h,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Hn.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Hn.requestFormReset=function(h){r.d.r(h)},Hn.unstable_batchedUpdates=function(h,p){return h(p)},Hn.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},Hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Hn.version="19.1.0",Hn}var $w;function kT(){if($w)return Og.exports;$w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=ZR(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function JR(){if(Qw)return pc;Qw=1;var n=WR(),e=Xh(),t=kT();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return d(m),i;if(v===u)return d(m),s;v=v.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=v;else{for(var A=!1,D=m.child;D;){if(D===l){A=!0,l=m,u=v;break}if(D===u){A=!0,u=m,l=v;break}D=D.sibling}if(!A){for(D=v.child;D;){if(D===l){A=!0,l=v,u=m;break}if(D===u){A=!0,u=v,l=m;break}D=D.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case M:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case C:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:ye(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return ye(i(s))}catch{}}return null}var we=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},_e=[],F=-1;function se(i){return{current:i}}function ge(i){0>F||(i.current=_e[F],_e[F]=null,F--)}function me(i,s){F++,_e[F]=i.current,i.current=s}var Se=se(null),Ve=se(null),Ee=se(null),pe=se(null);function Te(i,s){switch(me(Ee,s),me(Ve,i),me(Se,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?fw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=fw(s),i=hw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ge(Se),me(Se,i)}function st(){ge(Se),ge(Ve),ge(Ee)}function Ze(i){i.memoizedState!==null&&me(pe,i);var s=Se.current,l=hw(s,i.type);s!==l&&(me(Ve,i),me(Se,l))}function Nt(i){Ve.current===i&&(ge(Se),ge(Ve)),pe.current===i&&(ge(pe),uc._currentValue=ae)}var Ht=Object.prototype.hasOwnProperty,hn=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,cr=n.unstable_shouldYield,Wn=n.unstable_requestPaint,Xt=n.unstable_now,bi=n.unstable_getCurrentPriorityLevel,wi=n.unstable_ImmediatePriority,xi=n.unstable_UserBlockingPriority,ri=n.unstable_NormalPriority,Zn=n.unstable_LowPriority,Jn=n.unstable_IdlePriority,Ei=n.log,ii=n.unstable_setDisableYieldValue,yt=null,We=null;function wn(i){if(typeof Ei=="function"&&ii(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(yt,i)}catch{}}var $t=Math.clz32?Math.clz32:Lr,Wi=Math.log,dr=Math.LN2;function Lr(i){return i>>>=0,i===0?32:31-(Wi(i)/dr|0)|0}var Vr=256,Me=4194304;function Oe(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Je(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,v=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var D=u&134217727;return D!==0?(u=D&~v,u!==0?m=Oe(u):(A&=D,A!==0?m=Oe(A):l||(l=D&~i,l!==0&&(m=Oe(l))))):(D=u&~v,D!==0?m=Oe(D):A!==0?m=Oe(A):l||(l=u&~i,l!==0&&(m=Oe(l)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:m}function ft(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function qt(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var i=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),i}function er(){var i=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),i}function In(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Bn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nn(i,s,l,u,m,v){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,G=i.expirationTimes,te=i.hiddenUpdates;for(l=A&~l;0<l;){var le=31-$t(l),fe=1<<le;D[le]=0,G[le]=-1;var ne=te[le];if(ne!==null)for(te[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~fe}u!==0&&Qt(i,u,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(A&~s))}function Qt(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-$t(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function zr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-$t(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ti(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:Mw(i.type))}function W(i,s){var l=oe.p;try{return oe.p=i,s()}finally{oe.p=l}}var ee=Math.random().toString(36).slice(2),de="__reactFiber$"+ee,ve="__reactProps$"+ee,Re="__reactContainer$"+ee,ze="__reactEvents$"+ee,Ce="__reactListeners$"+ee,De="__reactHandles$"+ee,ke="__reactResources$"+ee,Ue="__reactMarker$"+ee;function Pe(i){delete i[de],delete i[ve],delete i[ze],delete i[Ce],delete i[De]}function Fe(i){var s=i[de];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Re]||l[de]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=yw(i);i!==null;){if(l=i[de])return l;i=yw(i)}return s}i=l,l=i.parentNode}return null}function at(i){if(i=i[de]||i[Re]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function At(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Et(i){var s=i[ke];return s||(s=i[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(i){i[Ue]=!0}var rt=new Set,Ur={};function mn(i,s){tr(i,s),tr(i+"Capture",s)}function tr(i,s){for(Ur[i]=s,i=0;i<s.length;i++)rt.add(s[i])}var On=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Si={},xr={};function Os(i){return Ht.call(xr,i)?!0:Ht.call(Si,i)?!1:On.test(i)?xr[i]=!0:(Si[i]=!0,!1)}function Fn(i,s,l){if(Os(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function nr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ke(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var an,Er;function fr(i){if(an===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);an=s&&s[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+i+Er}var Ai=!1;function Lt(i,s){if(!i||Ai)return"";Ai=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(re){ne=re}i.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),A=v[0],D=v[1];if(A&&D){var G=A.split(`
`),te=D.split(`
`);for(m=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(u===G.length||m===te.length)for(u=G.length-1,m=te.length-1;1<=u&&0<=m&&G[u]!==te[m];)m--;for(;1<=u&&0<=m;u--,m--)if(G[u]!==te[m]){if(u!==1||m!==1)do if(u--,m--,0>m||G[u]!==te[m]){var le=`
`+G[u].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=u&&0<=m);break}}}finally{Ai=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fr(l):""}function Br(i){switch(i.tag){case 26:case 27:case 5:return fr(i.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Lt(i.type,!1);case 11:return Lt(i.type.render,!1);case 1:return Lt(i.type,!0);case 31:return fr("Activity");default:return""}}function Zi(i){try{var s="";do s+=Br(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Im(i){var s=yu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Uo(i){i._valueTracker||(i._valueTracker=Im(i))}function vu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=yu(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nm=/[\n"\\]/g;function on(i){return i.replace(Nm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tr(i,s,l,u,m,v,A,D){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Mn(s)):i.value!==""+Mn(s)&&(i.value=""+Mn(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Ms(i,A,Mn(s)):l!=null?Ms(i,A,Mn(l)):u!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Mn(D):i.removeAttribute("name")}function Ba(i,s,l,u,m,v,A,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;l=l!=null?""+Mn(l):"",s=s!=null?""+Mn(s):l,D||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=D?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Ms(i,s,l){s==="number"&&Ua(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ji(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Mn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Dt(i,s,l){if(s!=null&&(s=""+Mn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Mn(l):""}function Fa(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(we(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Mn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function Fr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||qa.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function _u(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&Ed(i,m,u)}else for(var v in s)s.hasOwnProperty(v)&&Ed(i,v,s[v])}function bu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(i){return Mm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var es=null;function qr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,ns=null;function wu(i){var s=at(i);if(s&&(i=s.stateNode)){var l=i[ve]||null;e:switch(i=s.stateNode,s.type){case"input":if(Tr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[ve]||null;if(!m)throw Error(r(90));Tr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&vu(u)}break e;case"textarea":Dt(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ji(i,!!l.multiple,s,!1)}}}var Ri=!1;function Td(i,s,l){if(Ri)return i(s,l);Ri=!0;try{var u=i(s);return u}finally{if(Ri=!1,(ts!==null||ns!==null)&&(vf(),ts&&(s=ts,i=ns,ns=ts=null,wu(s),i)))for(s=0;s<i.length;s++)wu(i[s])}}function Ha(i,s){var l=i.stateNode;if(l===null)return null;var u=l[ve]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(si)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Hr=!1}var Ci=null,Ds=null,rs=null;function xu(){if(rs)return rs;var i,s=Ds,l=s.length,u,m="value"in Ci?Ci.value:Ci.textContent,v=m.length;for(i=0;i<l&&s[i]===m[i];i++);var A=l-i;for(u=1;u<=A&&s[l-u]===m[v-u];u++);return rs=m.slice(i,1<u?1-u:void 0)}function Ii(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function Eu(){return!1}function xn(i){function s(l,u,m,v,A){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ni:Eu,this.isPropagationStopped=Eu,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=xn(Rt),$a=g({},Rt,{view:0,detail:0}),Sd=xn($a),qo,Ho,Oi,Qa=g({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(qo=i.screenX-Oi.screenX,Ho=i.screenY-Oi.screenY):Ho=qo=0,Oi=i),qo)},movementY:function(i){return"movementY"in i?i.movementY:Ho}}),Gr=xn(Qa),Ad=g({},Qa,{dataTransfer:0}),Dm=xn(Ad),Ka=g({},$a,{relatedTarget:0}),Go=xn(Ka),Tu=g({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=xn(Tu),Rd=g({},Rt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qo=xn(Rd),Pm=g({},Rt,{data:0}),Su=xn(Pm),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Id[i])?!!s[i]:!1}function Xa(){return Au}var Nd=g({},$a,{key:function(i){if(i.key){var s=Ya[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ii(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(i){return i.type==="keypress"?Ii(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ii(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ko=xn(Nd),Od=g({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=xn(Od),is=g({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Md=xn(is),Dd=g({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pd=xn(Dd),kd=g({},Qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yo=xn(kd),rr=g({},Rt,{newState:0,oldState:0}),jd=xn(rr),Ld=[9,13,27,32],Mi=si&&"CompositionEvent"in window,f=null;si&&"documentMode"in document&&(f=document.documentMode);var b=si&&"TextEvent"in window&&!f,T=si&&(!Mi||f&&8<f&&11>=f),L=" ",Z=!1;function ie(i,s){switch(i){case"keyup":return Ld.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vt=!1;function pn(i,s){switch(i){case"compositionend":return be(s);case"keypress":return s.which!==32?null:(Z=!0,L);case"textInput":return i=s.data,i===L&&Z?null:i;default:return null}}function _t(i,s){if(vt)return i==="compositionend"||!Mi&&ie(i,s)?(i=xu(),rs=Ds=Ci=null,vt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!En[i.type]:s==="textarea"}function ss(i,s,l,u){ts?ns?ns.push(u):ns=[u]:ts=u,s=Tf(s,"onChange"),0<s.length&&(l=new Fo("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var Dn=null,Di=null;function Cu(i){ow(i,0)}function Vd(i){var s=At(i);if(vu(s))return i}function C0(i,s){if(i==="change")return s}var I0=!1;if(si){var km;if(si){var jm="oninput"in document;if(!jm){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),jm=typeof N0.oninput=="function"}km=jm}else km=!1;I0=km&&(!document.documentMode||9<document.documentMode)}function O0(){Dn&&(Dn.detachEvent("onpropertychange",M0),Di=Dn=null)}function M0(i){if(i.propertyName==="value"&&Vd(Di)){var s=[];ss(s,Di,i,qr(i)),Td(Cu,s)}}function E2(i,s,l){i==="focusin"?(O0(),Dn=s,Di=l,Dn.attachEvent("onpropertychange",M0)):i==="focusout"&&O0()}function T2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vd(Di)}function S2(i,s){if(i==="click")return Vd(s)}function A2(i,s){if(i==="input"||i==="change")return Vd(s)}function R2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Sr=typeof Object.is=="function"?Object.is:R2;function Iu(i,s){if(Sr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Ht.call(s,m)||!Sr(i[m],s[m]))return!1}return!0}function D0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P0(i,s){var l=D0(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=D0(l)}}function k0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?k0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function j0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ua(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ua(i.document)}return s}function Lm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var C2=si&&"documentMode"in document&&11>=document.documentMode,Xo=null,Vm=null,Nu=null,zm=!1;function L0(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zm||Xo==null||Xo!==Ua(u)||(u=Xo,"selectionStart"in u&&Lm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nu&&Iu(Nu,u)||(Nu=u,u=Tf(Vm,"onSelect"),0<u.length&&(s=new Fo("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Xo)))}function Wa(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Wo={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Um={},V0={};si&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Za(i){if(Um[i])return Um[i];if(!Wo[i])return i;var s=Wo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in V0)return Um[i]=s[l];return i}var z0=Za("animationend"),U0=Za("animationiteration"),B0=Za("animationstart"),I2=Za("transitionrun"),N2=Za("transitionstart"),O2=Za("transitioncancel"),F0=Za("transitionend"),q0=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function ai(i,s){q0.set(i,s),mn(s,[i])}var H0=new WeakMap;function $r(i,s){if(typeof i=="object"&&i!==null){var l=H0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Zi(s)},H0.set(i,s),s)}return{value:i,source:s,stack:Zi(s)}}var Qr=[],Zo=0,Fm=0;function zd(){for(var i=Zo,s=Fm=Zo=0;s<i;){var l=Qr[s];Qr[s++]=null;var u=Qr[s];Qr[s++]=null;var m=Qr[s];Qr[s++]=null;var v=Qr[s];if(Qr[s++]=null,u!==null&&m!==null){var A=u.pending;A===null?m.next=m:(m.next=A.next,A.next=m),u.pending=m}v!==0&&G0(l,m,v)}}function Ud(i,s,l,u){Qr[Zo++]=i,Qr[Zo++]=s,Qr[Zo++]=l,Qr[Zo++]=u,Fm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function qm(i,s,l,u){return Ud(i,s,l,u),Bd(i)}function Jo(i,s){return Ud(i,null,null,s),Bd(i)}function G0(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,v=i.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&s!==null&&(m=31-$t(l),i=v.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=l|536870912),v):null}function Bd(i){if(50<tc)throw tc=0,Yp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var el={};function M2(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(i,s,l,u){return new M2(i,s,l,u)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,s){var l=i.alternate;return l===null?(l=Ar(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function $0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Fd(i,s,l,u,m,v){var A=0;if(u=i,typeof i=="function")Hm(i)&&(A=1);else if(typeof i=="string")A=PR(i,l,Se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Ar(31,l,s,m),i.elementType=N,i.lanes=v,i;case S:return Ja(l.children,m,v,s);case I:A=8,m|=24;break;case M:return i=Ar(12,l,s,m|2),i.elementType=M,i.lanes=v,i;case k:return i=Ar(13,l,s,m),i.elementType=k,i.lanes=v,i;case P:return i=Ar(19,l,s,m),i.elementType=P,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case C:A=10;break e;case E:A=9;break e;case U:A=11;break e;case V:A=14;break e;case O:A=16,u=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Ar(A,l,s,m),s.elementType=i,s.type=u,s.lanes=v,s}function Ja(i,s,l,u){return i=Ar(7,i,u,s),i.lanes=l,i}function Gm(i,s,l){return i=Ar(6,i,null,s),i.lanes=l,i}function $m(i,s,l){return s=Ar(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var tl=[],nl=0,qd=null,Hd=0,Kr=[],Yr=0,eo=null,os=1,ls="";function to(i,s){tl[nl++]=Hd,tl[nl++]=qd,qd=i,Hd=s}function Q0(i,s,l){Kr[Yr++]=os,Kr[Yr++]=ls,Kr[Yr++]=eo,eo=i;var u=os;i=ls;var m=32-$t(u)-1;u&=~(1<<m),l+=1;var v=32-$t(s)+m;if(30<v){var A=m-m%5;v=(u&(1<<A)-1).toString(32),u>>=A,m-=A,os=1<<32-$t(s)+m|l<<m|u,ls=v+i}else os=1<<v|l<<m|u,ls=i}function Qm(i){i.return!==null&&(to(i,1),Q0(i,1,0))}function Km(i){for(;i===qd;)qd=tl[--nl],tl[nl]=null,Hd=tl[--nl],tl[nl]=null;for(;i===eo;)eo=Kr[--Yr],Kr[Yr]=null,ls=Kr[--Yr],Kr[Yr]=null,os=Kr[--Yr],Kr[Yr]=null}var ir=null,Wt=null,St=!1,no=null,Pi=!1,Ym=Error(r(519));function ro(i){var s=Error(r(418,""));throw Du($r(s,i)),Ym}function K0(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[de]=i,s[ve]=u,l){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(l=0;l<rc.length;l++)lt(rc[l],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":lt("invalid",s),Ba(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Uo(s);break;case"select":lt("invalid",s);break;case"textarea":lt("invalid",s),Fa(s,u.value,u.defaultValue,u.children),Uo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||dw(s.textContent,l)?(u.popover!=null&&(lt("beforetoggle",s),lt("toggle",s)),u.onScroll!=null&&lt("scroll",s),u.onScrollEnd!=null&&lt("scrollend",s),u.onClick!=null&&(s.onclick=Sf),s=!0):s=!1,s||ro(i)}function Y0(i){for(ir=i.return;ir;)switch(ir.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:ir=ir.return}}function Ou(i){if(i!==ir)return!1;if(!St)return Y0(i),St=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||dg(i.type,i.memoizedProps)),l=!l),l&&Wt&&ro(i),Y0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Wt=li(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Wt=null}}else s===27?(s=Wt,Ys(i.type)?(i=pg,pg=null,Wt=i):Wt=s):Wt=ir?li(i.stateNode.nextSibling):null;return!0}function Mu(){Wt=ir=null,St=!1}function X0(){var i=no;return i!==null&&(pr===null?pr=i:pr.push.apply(pr,i),no=null),i}function Du(i){no===null?no=[i]:no.push(i)}var Xm=se(null),io=null,us=null;function Ps(i,s,l){me(Xm,s._currentValue),s._currentValue=l}function cs(i){i._currentValue=Xm.current,ge(Xm)}function Wm(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Zm(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var A=m.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=m;for(var G=0;G<s.length;G++)if(D.context===s[G]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),Wm(v.return,l,i),u||(A=null);break e}v=D.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),Wm(A,l,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Pu(i,s,l,u){i=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=m.type;Sr(m.pendingProps.value,A.value)||(i!==null?i.push(D):i=[D])}}else if(m===pe.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(uc):i=[uc])}m=m.return}i!==null&&Zm(s,i,l,u),s.flags|=262144}function Gd(i){for(i=i.firstContext;i!==null;){if(!Sr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function so(i){io=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qn(i){return W0(io,i)}function $d(i,s){return io===null&&so(i),W0(i,s)}function W0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},us===null){if(i===null)throw Error(r(308));us=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else us=us.next=s;return l}var D2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},P2=n.unstable_scheduleCallback,k2=n.unstable_NormalPriority,yn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new D2,data:new Map,refCount:0}}function ku(i){i.refCount--,i.refCount===0&&P2(k2,function(){i.controller.abort()})}var ju=null,ep=0,rl=0,il=null;function j2(i,s){if(ju===null){var l=ju=[];ep=0,rl=ng(),il={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ep++,s.then(Z0,Z0),s}function Z0(){if(--ep===0&&ju!==null){il!==null&&(il.status="fulfilled");var i=ju;ju=null,rl=0,il=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function L2(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var J0=Q.S;Q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&j2(i,s),J0!==null&&J0(i,s)};var ao=se(null);function tp(){var i=ao.current;return i!==null?i:zt.pooledCache}function Qd(i,s){s===null?me(ao,ao.current):me(ao,s.pool)}function e_(){var i=tp();return i===null?null:{parent:yn._currentValue,pool:i}}var Lu=Error(r(460)),t_=Error(r(474)),Kd=Error(r(542)),np={then:function(){}};function n_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yd(){}function r_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Yd,Yd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s_(i),i;default:if(typeof s.status=="string")s.then(Yd,Yd);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s_(i),i}throw Vu=s,Lu}}var Vu=null;function i_(){if(Vu===null)throw Error(r(459));var i=Vu;return Vu=null,i}function s_(i){if(i===Lu||i===Kd)throw Error(r(483))}var ks=!1;function rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ls(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ot&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Bd(i),G0(i,null,l),s}return Ud(i,u,s,l),Bd(i)}function zu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,zr(i,l)}}function sp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?m=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ap=!1;function Uu(){if(ap){var i=il;if(i!==null)throw i}}function Bu(i,s,l,u){ap=!1;var m=i.updateQueue;ks=!1;var v=m.firstBaseUpdate,A=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var G=D,te=G.next;G.next=null,A===null?v=te:A.next=te,A=G;var le=i.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==A&&(D===null?le.firstBaseUpdate=te:D.next=te,le.lastBaseUpdate=G))}if(v!==null){var fe=m.baseState;A=0,le=te=G=null,D=v;do{var ne=D.lane&-536870913,re=ne!==D.lane;if(re?(bt&ne)===ne:(u&ne)===ne){ne!==0&&ne===rl&&(ap=!0),le!==null&&(le=le.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var $e=i,Be=D;ne=s;var jt=l;switch(Be.tag){case 1:if($e=Be.payload,typeof $e=="function"){fe=$e.call(jt,fe,ne);break e}fe=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Be.payload,ne=typeof $e=="function"?$e.call(jt,fe,ne):$e,ne==null)break e;fe=g({},fe,ne);break e;case 2:ks=!0}}ne=D.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=m.callbacks,re===null?m.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(te=le=re,G=fe):le=le.next=re,A|=ne;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;re=D,D=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);le===null&&(G=fe),m.baseState=G,m.firstBaseUpdate=te,m.lastBaseUpdate=le,v===null&&(m.shared.lanes=0),Gs|=A,i.lanes=A,i.memoizedState=fe}}function a_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function o_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)a_(l[i],s)}var sl=se(null),Xd=se(0);function l_(i,s){i=ys,me(Xd,i),me(sl,s),ys=i|s.baseLanes}function op(){me(Xd,ys),me(sl,sl.current)}function lp(){ys=Xd.current,ge(sl),ge(Xd)}var Vs=0,tt=null,Pt=null,ln=null,Wd=!1,al=!1,oo=!1,Zd=0,Fu=0,ol=null,V2=0;function en(){throw Error(r(321))}function up(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Sr(i[l],s[l]))return!1;return!0}function cp(i,s,l,u,m,v){return Vs=v,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=i===null||i.memoizedState===null?G_:$_,oo=!1,v=l(u,m),oo=!1,al&&(v=c_(s,l,u,m)),u_(i),v}function u_(i){Q.H=sf;var s=Pt!==null&&Pt.next!==null;if(Vs=0,ln=Pt=tt=null,Wd=!1,Fu=0,ol=null,s)throw Error(r(300));i===null||Tn||(i=i.dependencies,i!==null&&Gd(i)&&(Tn=!0))}function c_(i,s,l,u){tt=i;var m=0;do{if(al&&(ol=null),Fu=0,al=!1,25<=m)throw Error(r(301));if(m+=1,ln=Pt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Q.H=G2,v=s(l,u)}while(al);return v}function z2(){var i=Q.H,s=i.useState()[0];return s=typeof s.then=="function"?qu(s):s,i=i.useState()[0],(Pt!==null?Pt.memoizedState:null)!==i&&(tt.flags|=1024),s}function dp(){var i=Zd!==0;return Zd=0,i}function fp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function hp(i){if(Wd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wd=!1}Vs=0,ln=Pt=tt=null,al=!1,Fu=Zd=0,ol=null}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?tt.memoizedState=ln=i:ln=ln.next=i,ln}function un(){if(Pt===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var s=ln===null?tt.memoizedState:ln.next;if(s!==null)ln=s,Pt=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},ln===null?tt.memoizedState=ln=i:ln=ln.next=i}return ln}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(i){var s=Fu;return Fu+=1,ol===null&&(ol=[]),i=r_(ol,i,s),s=tt,(ln===null?s.memoizedState:ln.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?G_:$_),i}function Jd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qu(i);if(i.$$typeof===C)return qn(i)}throw Error(r(438,String(i)))}function pp(i){var s=null,l=tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=mp(),tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=j;return s.index++,l}function ds(i,s){return typeof s=="function"?s(i):s}function ef(i){var s=un();return gp(s,Pt,i)}function gp(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,v=u.pending;if(v!==null){if(m!==null){var A=m.next;m.next=v.next,v.next=A}s.baseQueue=m=v,u.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{s=m.next;var D=A=null,G=null,te=s,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(bt&fe)===fe:(Vs&fe)===fe){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===rl&&(le=!0);else if((Vs&ne)===ne){te=te.next,ne===rl&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=fe,A=v):G=G.next=fe,tt.lanes|=ne,Gs|=ne;fe=te.action,oo&&l(v,fe),v=te.hasEagerState?te.eagerState:l(v,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=ne,A=v):G=G.next=ne,tt.lanes|=fe,Gs|=fe;te=te.next}while(te!==null&&te!==s);if(G===null?A=v:G.next=D,!Sr(v,i.memoizedState)&&(Tn=!0,le&&(l=il,l!==null)))throw l;i.memoizedState=v,i.baseState=A,i.baseQueue=G,u.lastRenderedState=v}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function yp(i){var s=un(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do v=i(v,A.action),A=A.next;while(A!==m);Sr(v,s.memoizedState)||(Tn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,u]}function d_(i,s,l){var u=tt,m=un(),v=St;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!Sr((Pt||m).memoizedState,l);A&&(m.memoizedState=l,Tn=!0),m=m.queue;var D=m_.bind(null,u,m,i);if(Hu(2048,8,D,[i]),m.getSnapshot!==s||A||ln!==null&&ln.memoizedState.tag&1){if(u.flags|=2048,ll(9,tf(),h_.bind(null,u,m,l,s),null),zt===null)throw Error(r(349));v||(Vs&124)!==0||f_(u,s,l)}return l}function f_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s=mp(),tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function h_(i,s,l,u){s.value=l,s.getSnapshot=u,p_(s)&&g_(i)}function m_(i,s,l){return l(function(){p_(s)&&g_(i)})}function p_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Sr(i,l)}catch{return!0}}function g_(i){var s=Jo(i,2);s!==null&&Or(s,i,2)}function vp(i){var s=hr();if(typeof i=="function"){var l=i;if(i=l(),oo){wn(!0);try{l()}finally{wn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},s}function y_(i,s,l,u){return i.baseState=l,gp(i,Pt,typeof u=="function"?u:ds)}function U2(i,s,l,u,m){if(rf(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};Q.T!==null?l(!0):v.isTransition=!1,u(v),l=s.pending,l===null?(v.next=s.pending=v,v_(s,v)):(v.next=l.next,s.pending=l.next=v)}}function v_(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var v=Q.T,A={};Q.T=A;try{var D=l(m,u),G=Q.S;G!==null&&G(A,D),__(i,s,D)}catch(te){_p(i,s,te)}finally{Q.T=v}}else try{v=l(m,u),__(i,s,v)}catch(te){_p(i,s,te)}}function __(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){b_(i,s,u)},function(u){return _p(i,s,u)}):b_(i,s,l)}function b_(i,s,l){s.status="fulfilled",s.value=l,w_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,v_(i,l)))}function _p(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,w_(s),s=s.next;while(s!==u)}i.action=null}function w_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function x_(i,s){return s}function E_(i,s){if(St){var l=zt.formState;if(l!==null){e:{var u=tt;if(St){if(Wt){t:{for(var m=Wt,v=Pi;m.nodeType!==8;){if(!v){m=null;break t}if(m=li(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Wt=li(m.nextSibling),u=m.data==="F!";break e}}ro(u)}u=!1}u&&(s=l[0])}}return l=hr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:s},l.queue=u,l=F_.bind(null,tt,u),u.dispatch=l,u=vp(!1),v=Tp.bind(null,tt,!1,u.queue),u=hr(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=U2.bind(null,tt,m,v,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function T_(i){var s=un();return S_(s,Pt,i)}function S_(i,s,l){if(s=gp(i,s,x_)[0],i=ef(ds)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=qu(s)}catch(A){throw A===Lu?Kd:A}else u=s;s=un();var m=s.queue,v=m.dispatch;return l!==s.memoizedState&&(tt.flags|=2048,ll(9,tf(),B2.bind(null,m,l),null)),[u,v,i]}function B2(i,s){i.action=s}function A_(i){var s=un(),l=Pt;if(l!==null)return S_(s,l,i);un(),s=s.memoizedState,l=un();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function ll(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=tt.updateQueue,s===null&&(s=mp(),tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function tf(){return{destroy:void 0,resource:void 0}}function R_(){return un().memoizedState}function nf(i,s,l,u){var m=hr();u=u===void 0?null:u,tt.flags|=i,m.memoizedState=ll(1|s,tf(),l,u)}function Hu(i,s,l,u){var m=un();u=u===void 0?null:u;var v=m.memoizedState.inst;Pt!==null&&u!==null&&up(u,Pt.memoizedState.deps)?m.memoizedState=ll(s,v,l,u):(tt.flags|=i,m.memoizedState=ll(1|s,v,l,u))}function C_(i,s){nf(8390656,8,i,s)}function I_(i,s){Hu(2048,8,i,s)}function N_(i,s){return Hu(4,2,i,s)}function O_(i,s){return Hu(4,4,i,s)}function M_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function D_(i,s,l){l=l!=null?l.concat([i]):null,Hu(4,4,M_.bind(null,s,i),l)}function bp(){}function P_(i,s){var l=un();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&up(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function k_(i,s){var l=un();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&up(s,u[1]))return u[0];if(u=i(),oo){wn(!0);try{i()}finally{wn(!1)}}return l.memoizedState=[u,s],u}function wp(i,s,l){return l===void 0||(Vs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=Vb(),tt.lanes|=i,Gs|=i,l)}function j_(i,s,l,u){return Sr(l,s)?l:sl.current!==null?(i=wp(i,l,u),Sr(i,s)||(Tn=!0),i):(Vs&42)===0?(Tn=!0,i.memoizedState=l):(i=Vb(),tt.lanes|=i,Gs|=i,s)}function L_(i,s,l,u,m){var v=oe.p;oe.p=v!==0&&8>v?v:8;var A=Q.T,D={};Q.T=D,Tp(i,!1,s,l);try{var G=m(),te=Q.S;if(te!==null&&te(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=L2(G,u);Gu(i,s,le,Nr(i))}else Gu(i,s,u,Nr(i))}catch(fe){Gu(i,s,{then:function(){},status:"rejected",reason:fe},Nr())}finally{oe.p=v,Q.T=A}}function F2(){}function xp(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=V_(i).queue;L_(i,m,s,ae,l===null?F2:function(){return z_(i),l(u)})}function V_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ae},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function z_(i){var s=V_(i).next.queue;Gu(i,s,{},Nr())}function Ep(){return qn(uc)}function U_(){return un().memoizedState}function B_(){return un().memoizedState}function q2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Nr();i=js(l);var u=Ls(s,i,l);u!==null&&(Or(u,s,l),zu(u,s,l)),s={cache:Jm()},i.payload=s;return}s=s.return}}function H2(i,s,l){var u=Nr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rf(i)?q_(s,l):(l=qm(i,s,l,u),l!==null&&(Or(l,i,u),H_(l,s,u)))}function F_(i,s,l){var u=Nr();Gu(i,s,l,u)}function Gu(i,s,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rf(i))q_(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,D=v(A,l);if(m.hasEagerState=!0,m.eagerState=D,Sr(D,A))return Ud(i,s,m,0),zt===null&&zd(),!1}catch{}finally{}if(l=qm(i,s,m,u),l!==null)return Or(l,i,u),H_(l,s,u),!0}return!1}function Tp(i,s,l,u){if(u={lane:2,revertLane:ng(),action:u,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(s)throw Error(r(479))}else s=qm(i,l,u,2),s!==null&&Or(s,i,2)}function rf(i){var s=i.alternate;return i===tt||s!==null&&s===tt}function q_(i,s){al=Wd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function H_(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,zr(i,l)}}var sf={readContext:qn,use:Jd,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},G_={readContext:qn,use:Jd,useCallback:function(i,s){return hr().memoizedState=[i,s===void 0?null:s],i},useContext:qn,useEffect:C_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,nf(4194308,4,M_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return nf(4194308,4,i,s)},useInsertionEffect:function(i,s){nf(4,2,i,s)},useMemo:function(i,s){var l=hr();s=s===void 0?null:s;var u=i();if(oo){wn(!0);try{i()}finally{wn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=hr();if(l!==void 0){var m=l(s);if(oo){wn(!0);try{l(s)}finally{wn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=H2.bind(null,tt,i),[u.memoizedState,i]},useRef:function(i){var s=hr();return i={current:i},s.memoizedState=i},useState:function(i){i=vp(i);var s=i.queue,l=F_.bind(null,tt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:bp,useDeferredValue:function(i,s){var l=hr();return wp(l,i,s)},useTransition:function(){var i=vp(!1);return i=L_.bind(null,tt,i.queue,!0,!1),hr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=tt,m=hr();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),zt===null)throw Error(r(349));(bt&124)!==0||f_(u,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,C_(m_.bind(null,u,v,i),[i]),u.flags|=2048,ll(9,tf(),h_.bind(null,u,v,l,s),null),l},useId:function(){var i=hr(),s=zt.identifierPrefix;if(St){var l=ls,u=os;l=(u&~(1<<32-$t(u)-1)).toString(32)+l,s=""+s+"R"+l,l=Zd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=V2++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Ep,useFormState:E_,useActionState:E_,useOptimistic:function(i){var s=hr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Tp.bind(null,tt,!0,l),l.dispatch=s,[i,s]},useMemoCache:pp,useCacheRefresh:function(){return hr().memoizedState=q2.bind(null,tt)}},$_={readContext:qn,use:Jd,useCallback:P_,useContext:qn,useEffect:I_,useImperativeHandle:D_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:ef,useRef:R_,useState:function(){return ef(ds)},useDebugValue:bp,useDeferredValue:function(i,s){var l=un();return j_(l,Pt.memoizedState,i,s)},useTransition:function(){var i=ef(ds)[0],s=un().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:d_,useId:U_,useHostTransitionStatus:Ep,useFormState:T_,useActionState:T_,useOptimistic:function(i,s){var l=un();return y_(l,Pt,i,s)},useMemoCache:pp,useCacheRefresh:B_},G2={readContext:qn,use:Jd,useCallback:P_,useContext:qn,useEffect:I_,useImperativeHandle:D_,useInsertionEffect:N_,useLayoutEffect:O_,useMemo:k_,useReducer:yp,useRef:R_,useState:function(){return yp(ds)},useDebugValue:bp,useDeferredValue:function(i,s){var l=un();return Pt===null?wp(l,i,s):j_(l,Pt.memoizedState,i,s)},useTransition:function(){var i=yp(ds)[0],s=un().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:d_,useId:U_,useHostTransitionStatus:Ep,useFormState:A_,useActionState:A_,useOptimistic:function(i,s){var l=un();return Pt!==null?y_(l,Pt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:pp,useCacheRefresh:B_},ul=null,$u=0;function af(i){var s=$u;return $u+=1,ul===null&&(ul=[]),r_(ul,i,s)}function Qu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function of(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Q_(i){var s=i._init;return s(i._payload)}function K_(i){function s(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function m(X,K){return X=as(X,K),X.index=0,X.sibling=null,X}function v(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function A(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,J,ce){return K===null||K.tag!==6?(K=Gm(J,X.mode,ce),K.return=X,K):(K=m(K,J),K.return=X,K)}function G(X,K,J,ce){var Ie=J.type;return Ie===S?le(X,K,J.props.children,ce,J.key):K!==null&&(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&Q_(Ie)===K.type)?(K=m(K,J.props),Qu(K,J),K.return=X,K):(K=Fd(J.type,J.key,J.props,null,X.mode,ce),Qu(K,J),K.return=X,K)}function te(X,K,J,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=$m(J,X.mode,ce),K.return=X,K):(K=m(K,J.children||[]),K.return=X,K)}function le(X,K,J,ce,Ie){return K===null||K.tag!==7?(K=Ja(J,X.mode,ce,Ie),K.return=X,K):(K=m(K,J),K.return=X,K)}function fe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Gm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return J=Fd(K.type,K.key,K.props,null,X.mode,J),Qu(J,K),J.return=X,J;case x:return K=$m(K,X.mode,J),K.return=X,K;case O:var ce=K._init;return K=ce(K._payload),fe(X,K,J)}if(we(K)||H(K))return K=Ja(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return fe(X,af(K),J);if(K.$$typeof===C)return fe(X,$d(X,K),J);of(X,K)}return null}function ne(X,K,J,ce){var Ie=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ie!==null?null:D(X,K,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Ie?G(X,K,J,ce):null;case x:return J.key===Ie?te(X,K,J,ce):null;case O:return Ie=J._init,J=Ie(J._payload),ne(X,K,J,ce)}if(we(J)||H(J))return Ie!==null?null:le(X,K,J,ce,null);if(typeof J.then=="function")return ne(X,K,af(J),ce);if(J.$$typeof===C)return ne(X,K,$d(X,J),ce);of(X,J)}return null}function re(X,K,J,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(J)||null,D(K,X,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return X=X.get(ce.key===null?J:ce.key)||null,G(K,X,ce,Ie);case x:return X=X.get(ce.key===null?J:ce.key)||null,te(K,X,ce,Ie);case O:var it=ce._init;return ce=it(ce._payload),re(X,K,J,ce,Ie)}if(we(ce)||H(ce))return X=X.get(J)||null,le(K,X,ce,Ie,null);if(typeof ce.then=="function")return re(X,K,J,af(ce),Ie);if(ce.$$typeof===C)return re(X,K,J,$d(K,ce),Ie);of(K,ce)}return null}function $e(X,K,J,ce){for(var Ie=null,it=null,je=K,qe=K=0,An=null;je!==null&&qe<J.length;qe++){je.index>qe?(An=je,je=null):An=je.sibling;var Tt=ne(X,je,J[qe],ce);if(Tt===null){je===null&&(je=An);break}i&&je&&Tt.alternate===null&&s(X,je),K=v(Tt,K,qe),it===null?Ie=Tt:it.sibling=Tt,it=Tt,je=An}if(qe===J.length)return l(X,je),St&&to(X,qe),Ie;if(je===null){for(;qe<J.length;qe++)je=fe(X,J[qe],ce),je!==null&&(K=v(je,K,qe),it===null?Ie=je:it.sibling=je,it=je);return St&&to(X,qe),Ie}for(je=u(je);qe<J.length;qe++)An=re(je,X,qe,J[qe],ce),An!==null&&(i&&An.alternate!==null&&je.delete(An.key===null?qe:An.key),K=v(An,K,qe),it===null?Ie=An:it.sibling=An,it=An);return i&&je.forEach(function(ea){return s(X,ea)}),St&&to(X,qe),Ie}function Be(X,K,J,ce){if(J==null)throw Error(r(151));for(var Ie=null,it=null,je=K,qe=K=0,An=null,Tt=J.next();je!==null&&!Tt.done;qe++,Tt=J.next()){je.index>qe?(An=je,je=null):An=je.sibling;var ea=ne(X,je,Tt.value,ce);if(ea===null){je===null&&(je=An);break}i&&je&&ea.alternate===null&&s(X,je),K=v(ea,K,qe),it===null?Ie=ea:it.sibling=ea,it=ea,je=An}if(Tt.done)return l(X,je),St&&to(X,qe),Ie;if(je===null){for(;!Tt.done;qe++,Tt=J.next())Tt=fe(X,Tt.value,ce),Tt!==null&&(K=v(Tt,K,qe),it===null?Ie=Tt:it.sibling=Tt,it=Tt);return St&&to(X,qe),Ie}for(je=u(je);!Tt.done;qe++,Tt=J.next())Tt=re(je,X,qe,Tt.value,ce),Tt!==null&&(i&&Tt.alternate!==null&&je.delete(Tt.key===null?qe:Tt.key),K=v(Tt,K,qe),it===null?Ie=Tt:it.sibling=Tt,it=Tt);return i&&je.forEach(function($R){return s(X,$R)}),St&&to(X,qe),Ie}function jt(X,K,J,ce){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Ie=J.key;K!==null;){if(K.key===Ie){if(Ie=J.type,Ie===S){if(K.tag===7){l(X,K.sibling),ce=m(K,J.props.children),ce.return=X,X=ce;break e}}else if(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&Q_(Ie)===K.type){l(X,K.sibling),ce=m(K,J.props),Qu(ce,J),ce.return=X,X=ce;break e}l(X,K);break}else s(X,K);K=K.sibling}J.type===S?(ce=Ja(J.props.children,X.mode,ce,J.key),ce.return=X,X=ce):(ce=Fd(J.type,J.key,J.props,null,X.mode,ce),Qu(ce,J),ce.return=X,X=ce)}return A(X);case x:e:{for(Ie=J.key;K!==null;){if(K.key===Ie)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),ce=m(K,J.children||[]),ce.return=X,X=ce;break e}else{l(X,K);break}else s(X,K);K=K.sibling}ce=$m(J,X.mode,ce),ce.return=X,X=ce}return A(X);case O:return Ie=J._init,J=Ie(J._payload),jt(X,K,J,ce)}if(we(J))return $e(X,K,J,ce);if(H(J)){if(Ie=H(J),typeof Ie!="function")throw Error(r(150));return J=Ie.call(J),Be(X,K,J,ce)}if(typeof J.then=="function")return jt(X,K,af(J),ce);if(J.$$typeof===C)return jt(X,K,$d(X,J),ce);of(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),ce=m(K,J),ce.return=X,X=ce):(l(X,K),ce=Gm(J,X.mode,ce),ce.return=X,X=ce),A(X)):l(X,K)}return function(X,K,J,ce){try{$u=0;var Ie=jt(X,K,J,ce);return ul=null,Ie}catch(je){if(je===Lu||je===Kd)throw je;var it=Ar(29,je,null,X.mode);return it.lanes=ce,it.return=X,it}finally{}}}var cl=K_(!0),Y_=K_(!1),Xr=se(null),ki=null;function zs(i){var s=i.alternate;me(vn,vn.current&1),me(Xr,i),ki===null&&(s===null||sl.current!==null||s.memoizedState!==null)&&(ki=i)}function X_(i){if(i.tag===22){if(me(vn,vn.current),me(Xr,i),ki===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ki=i)}}else Us()}function Us(){me(vn,vn.current),me(Xr,Xr.current)}function fs(i){ge(Xr),ki===i&&(ki=null),ge(vn)}var vn=se(0);function lf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||mg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Sp(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ap={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Nr(),m=js(u);m.payload=s,l!=null&&(m.callback=l),s=Ls(i,m,u),s!==null&&(Or(s,i,u),zu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Nr(),m=js(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Ls(i,m,u),s!==null&&(Or(s,i,u),zu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Nr(),u=js(l);u.tag=2,s!=null&&(u.callback=s),s=Ls(i,u,l),s!==null&&(Or(s,i,l),zu(s,i,l))}};function W_(i,s,l,u,m,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,A):s.prototype&&s.prototype.isPureReactComponent?!Iu(l,u)||!Iu(m,v):!0}function Z_(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Ap.enqueueReplaceState(s,s.state,null)}function lo(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var uf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function J_(i){uf(i)}function eb(i){console.error(i)}function tb(i){uf(i)}function cf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function nb(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rp(i,s,l){return l=js(l),l.tag=3,l.payload={element:null},l.callback=function(){cf(i,s)},l}function rb(i){return i=js(i),i.tag=3,i}function ib(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;i.payload=function(){return m(v)},i.callback=function(){nb(s,l,u)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){nb(s,l,u),typeof m!="function"&&($s===null?$s=new Set([this]):$s.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})})}function $2(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Pu(s,l,m,!0),l=Xr.current,l!==null){switch(l.tag){case 13:return ki===null?Wp():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===np?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Jp(i,u,m)),!1;case 22:return l.flags|=65536,u===np?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Jp(i,u,m)),!1}throw Error(r(435,l.tag))}return Jp(i,u,m),Wp(),!1}if(St)return s=Xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Ym&&(i=Error(r(422),{cause:u}),Du($r(i,l)))):(u!==Ym&&(s=Error(r(423),{cause:u}),Du($r(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=$r(u,l),m=Rp(i.stateNode,u,m),sp(i,m),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:u});if(v=$r(v,l),ec===null?ec=[v]:ec.push(v),Zt!==4&&(Zt=2),s===null)return!0;u=$r(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Rp(l.stateNode,u,i),sp(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v))))return l.flags|=65536,m&=-m,l.lanes|=m,m=rb(m),ib(m,i,l,u),sp(l,m),!1}l=l.return}while(l!==null);return!1}var sb=Error(r(461)),Tn=!1;function Pn(i,s,l,u){s.child=i===null?Y_(s,null,l,u):cl(s,i.child,l,u)}function ab(i,s,l,u,m){l=l.render;var v=s.ref;if("ref"in u){var A={};for(var D in u)D!=="ref"&&(A[D]=u[D])}else A=u;return so(s),u=cp(i,s,l,A,v,m),D=dp(),i!==null&&!Tn?(fp(i,s,m),hs(i,s,m)):(St&&D&&Qm(s),s.flags|=1,Pn(i,s,u,m),s.child)}function ob(i,s,l,u,m){if(i===null){var v=l.type;return typeof v=="function"&&!Hm(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,lb(i,s,v,u,m)):(i=Fd(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!kp(i,m)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:Iu,l(A,u)&&i.ref===s.ref)return hs(i,s,m)}return s.flags|=1,i=as(v,u),i.ref=s.ref,i.return=s,s.child=i}function lb(i,s,l,u,m){if(i!==null){var v=i.memoizedProps;if(Iu(v,u)&&i.ref===s.ref)if(Tn=!1,s.pendingProps=u=v,kp(i,m))(i.flags&131072)!==0&&(Tn=!0);else return s.lanes=i.lanes,hs(i,s,m)}return Cp(i,s,l,u,m)}function ub(i,s,l){var u=s.pendingProps,m=u.children,v=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|l:l,i!==null){for(m=s.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return cb(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qd(s,v!==null?v.cachePool:null),v!==null?l_(s,v):op(),X_(s);else return s.lanes=s.childLanes=536870912,cb(i,s,v!==null?v.baseLanes|l:l,l)}else v!==null?(Qd(s,v.cachePool),l_(s,v),Us(),s.memoizedState=null):(i!==null&&Qd(s,null),op(),Us());return Pn(i,s,m,l),s.child}function cb(i,s,l,u){var m=tp();return m=m===null?null:{parent:yn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Qd(s,null),op(),X_(s),i!==null&&Pu(i,s,u,!0),null}function df(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Cp(i,s,l,u,m){return so(s),l=cp(i,s,l,u,void 0,m),u=dp(),i!==null&&!Tn?(fp(i,s,m),hs(i,s,m)):(St&&u&&Qm(s),s.flags|=1,Pn(i,s,l,m),s.child)}function db(i,s,l,u,m,v){return so(s),s.updateQueue=null,l=c_(s,u,l,m),u_(i),u=dp(),i!==null&&!Tn?(fp(i,s,v),hs(i,s,v)):(St&&u&&Qm(s),s.flags|=1,Pn(i,s,l,v),s.child)}function fb(i,s,l,u,m){if(so(s),s.stateNode===null){var v=el,A=l.contextType;typeof A=="object"&&A!==null&&(v=qn(A)),v=new l(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ap,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},rp(s),A=l.contextType,v.context=typeof A=="object"&&A!==null?qn(A):el,v.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Sp(s,l,A,u),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Ap.enqueueReplaceState(v,v.state,null),Bu(s,u,v,m),Uu(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var D=s.memoizedProps,G=lo(l,D);v.props=G;var te=v.context,le=l.contextType;A=el,typeof le=="object"&&le!==null&&(A=qn(le));var fe=l.getDerivedStateFromProps;le=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||te!==A)&&Z_(s,v,u,A),ks=!1;var ne=s.memoizedState;v.state=ne,Bu(s,u,v,m),Uu(),te=s.memoizedState,D||ne!==te||ks?(typeof fe=="function"&&(Sp(s,l,fe,u),te=s.memoizedState),(G=ks||W_(s,l,G,u,ne,te,A))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=te),v.props=u,v.state=te,v.context=A,u=G):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,ip(i,s),A=s.memoizedProps,le=lo(l,A),v.props=le,fe=s.pendingProps,ne=v.context,te=l.contextType,G=el,typeof te=="object"&&te!==null&&(G=qn(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==fe||ne!==G)&&Z_(s,v,u,G),ks=!1,ne=s.memoizedState,v.state=ne,Bu(s,u,v,m),Uu();var re=s.memoizedState;A!==fe||ne!==re||ks||i!==null&&i.dependencies!==null&&Gd(i.dependencies)?(typeof D=="function"&&(Sp(s,l,D,u),re=s.memoizedState),(le=ks||W_(s,l,le,u,ne,re,G)||i!==null&&i.dependencies!==null&&Gd(i.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,re,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,re,G)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),v.props=u,v.state=re,v.context=G,u=le):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,df(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=cl(s,i.child,null,m),s.child=cl(s,null,l,m)):Pn(i,s,l,m),s.memoizedState=v.state,i=s.child):i=hs(i,s,m),i}function hb(i,s,l,u){return Mu(),s.flags|=256,Pn(i,s,l,u),s.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(i){return{baseLanes:i,cachePool:e_()}}function Op(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Wr),i}function mb(i,s,l){var u=s.pendingProps,m=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(St){if(m?zs(s):Us(),St){var D=Wt,G;if(G=D){e:{for(G=D,D=Pi;G.nodeType!==8;){if(!D){D=null;break e}if(G=li(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(s.memoizedState={dehydrated:D,treeContext:eo!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=D,G.return=s,s.child=G,ir=s,Wt=null,G=!0):G=!1}G||ro(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return mg(D)?s.lanes=32:s.lanes=536870912,null;fs(s)}return D=u.children,u=u.fallback,m?(Us(),m=s.mode,D=ff({mode:"hidden",children:D},m),u=Ja(u,m,l,null),D.return=s,u.return=s,D.sibling=u,s.child=D,m=s.child,m.memoizedState=Np(l),m.childLanes=Op(i,A,l),s.memoizedState=Ip,u):(zs(s),Mp(s,D))}if(G=i.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(v)s.flags&256?(zs(s),s.flags&=-257,s=Dp(i,s,l)):s.memoizedState!==null?(Us(),s.child=i.child,s.flags|=128,s=null):(Us(),m=u.fallback,D=s.mode,u=ff({mode:"visible",children:u.children},D),m=Ja(m,D,l,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,cl(s,i.child,null,l),u=s.child,u.memoizedState=Np(l),u.childLanes=Op(i,A,l),s.memoizedState=Ip,s=m);else if(zs(s),mg(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var te=A.dgst;A=te,u=Error(r(419)),u.stack="",u.digest=A,Du({value:u,source:null,stack:null}),s=Dp(i,s,l)}else if(Tn||Pu(i,s,l,!1),A=(l&i.childLanes)!==0,Tn||A){if(A=zt,A!==null&&(u=l&-l,u=(u&42)!==0?1:wr(u),u=(u&(A.suspendedLanes|l))!==0?0:u,u!==0&&u!==G.retryLane))throw G.retryLane=u,Jo(i,u),Or(A,i,u),sb;D.data==="$?"||Wp(),s=Dp(i,s,l)}else D.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=G.treeContext,Wt=li(D.nextSibling),ir=s,St=!0,no=null,Pi=!1,i!==null&&(Kr[Yr++]=os,Kr[Yr++]=ls,Kr[Yr++]=eo,os=i.id,ls=i.overflow,eo=s),s=Mp(s,u.children),s.flags|=4096);return s}return m?(Us(),m=u.fallback,D=s.mode,G=i.child,te=G.sibling,u=as(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,te!==null?m=as(te,m):(m=Ja(m,D,l,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,D=i.child.memoizedState,D===null?D=Np(l):(G=D.cachePool,G!==null?(te=yn._currentValue,G=G.parent!==te?{parent:te,pool:te}:G):G=e_(),D={baseLanes:D.baseLanes|l,cachePool:G}),m.memoizedState=D,m.childLanes=Op(i,A,l),s.memoizedState=Ip,u):(zs(s),l=i.child,i=l.sibling,l=as(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function Mp(i,s){return s=ff({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ff(i,s){return i=Ar(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dp(i,s,l){return cl(s,i.child,null,l),i=Mp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function pb(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Wm(i.return,s,l)}function Pp(i,s,l,u,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=m)}function gb(i,s,l){var u=s.pendingProps,m=u.revealOrder,v=u.tail;if(Pn(i,s,u.children,l),u=vn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pb(i,l,s);else if(i.tag===19)pb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(me(vn,u),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&lf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Pp(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&lf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Pp(s,!0,l,null,v);break;case"together":Pp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hs(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Gs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Pu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=as(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=as(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function kp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Gd(i)))}function Q2(i,s,l){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),Ps(s,yn,i.memoizedState.cache),Mu();break;case 27:case 5:Ze(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(zs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?mb(i,s,l):(zs(s),i=hs(i,s,l),i!==null?i.sibling:null);zs(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Pu(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return gb(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(vn,vn.current),u)break;return null;case 22:case 23:return s.lanes=0,ub(i,s,l);case 24:Ps(s,yn,i.memoizedState.cache)}return hs(i,s,l)}function yb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Tn=!0;else{if(!kp(i,l)&&(s.flags&128)===0)return Tn=!1,Q2(i,s,l);Tn=(i.flags&131072)!==0}else Tn=!1,St&&(s.flags&1048576)!==0&&Q0(s,Hd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Hm(u)?(i=lo(u,i),s.tag=1,s=fb(null,s,u,i,l)):(s.tag=0,s=Cp(null,s,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===U){s.tag=11,s=ab(null,s,u,i,l);break e}else if(m===V){s.tag=14,s=ob(null,s,u,i,l);break e}}throw s=ye(u)||u,Error(r(306,s,""))}}return s;case 0:return Cp(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=lo(u,s.pendingProps),fb(i,s,u,m,l);case 3:e:{if(Te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;m=v.element,ip(i,s),Bu(s,u,null,l);var A=s.memoizedState;if(u=A.cache,Ps(s,yn,u),u!==v.cache&&Zm(s,[yn],l,!0),Uu(),u=A.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=hb(i,s,u,l);break e}else if(u!==m){m=$r(Error(r(424)),s),Du(m),s=hb(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Wt=li(i.firstChild),ir=s,St=!0,no=null,Pi=!0,l=Y_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mu(),u===m){s=hs(i,s,l);break e}Pn(i,s,u,l)}s=s.child}return s;case 26:return df(i,s),i===null?(l=ww(s.type,null,s.pendingProps,null))?s.memoizedState=l:St||(l=s.type,i=s.pendingProps,u=Af(Ee.current).createElement(l),u[de]=s,u[ve]=i,jn(u,l,i),ht(u),s.stateNode=u):s.memoizedState=ww(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ze(s),i===null&&St&&(u=s.stateNode=vw(s.type,s.pendingProps,Ee.current),ir=s,Pi=!0,m=Wt,Ys(s.type)?(pg=m,Wt=li(u.firstChild)):Wt=m),Pn(i,s,s.pendingProps.children,l),df(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&St&&((m=u=Wt)&&(u=wR(u,s.type,s.pendingProps,Pi),u!==null?(s.stateNode=u,ir=s,Wt=li(u.firstChild),Pi=!1,m=!0):m=!1),m||ro(s)),Ze(s),m=s.type,v=s.pendingProps,A=i!==null?i.memoizedProps:null,u=v.children,dg(m,v)?u=null:A!==null&&dg(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=cp(i,s,z2,null,null,l),uc._currentValue=m),df(i,s),Pn(i,s,u,l),s.child;case 6:return i===null&&St&&((i=l=Wt)&&(l=xR(l,s.pendingProps,Pi),l!==null?(s.stateNode=l,ir=s,Wt=null,i=!0):i=!1),i||ro(s)),null;case 13:return mb(i,s,l);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=cl(s,null,u,l):Pn(i,s,u,l),s.child;case 11:return ab(i,s,s.type,s.pendingProps,l);case 7:return Pn(i,s,s.pendingProps,l),s.child;case 8:return Pn(i,s,s.pendingProps.children,l),s.child;case 12:return Pn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ps(s,s.type,u.value),Pn(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,so(s),m=qn(m),u=u(m),s.flags|=1,Pn(i,s,u,l),s.child;case 14:return ob(i,s,s.type,s.pendingProps,l);case 15:return lb(i,s,s.type,s.pendingProps,l);case 19:return gb(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=ff(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=as(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ub(i,s,l);case 24:return so(s),u=qn(yn),i===null?(m=tp(),m===null&&(m=zt,v=Jm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=l),m=v),s.memoizedState={parent:u,cache:m},rp(s),Ps(s,yn,m)):((i.lanes&l)!==0&&(ip(i,s),Bu(s,null,null,l),Uu()),m=i.memoizedState,v=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ps(s,yn,u)):(u=v.cache,Ps(s,yn,u),u!==m.cache&&Zm(s,[yn],l,!0))),Pn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ms(i){i.flags|=4}function vb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Aw(s)){if(s=Xr.current,s!==null&&((bt&4194048)===bt?ki!==null:(bt&62914560)!==bt&&(bt&536870912)===0||s!==ki))throw Vu=np,t_;i.flags|=8192}}function hf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?er():536870912,i.lanes|=s,ml|=s)}function Ku(i,s){if(!St)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Kt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function K2(i,s,l){var u=s.pendingProps;switch(Km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return Kt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),cs(yn),st(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ou(s)?ms(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,X0())),Kt(s),null;case 26:return l=s.memoizedState,i===null?(ms(s),l!==null?(Kt(s),vb(s,l)):(Kt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(ms(s),Kt(s),vb(s,l)):(Kt(s),s.flags&=-16777217):(i.memoizedProps!==u&&ms(s),Kt(s),s.flags&=-16777217),null;case 27:Nt(s),l=Ee.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ms(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Kt(s),null}i=Se.current,Ou(s)?K0(s):(i=vw(m,u,l),s.stateNode=i,ms(s))}return Kt(s),null;case 5:if(Nt(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ms(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Kt(s),null}if(i=Se.current,Ou(s))K0(s);else{switch(m=Af(Ee.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[de]=s,i[ve]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(jn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ms(s)}}return Kt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ms(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ee.current,Ou(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=ir,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[de]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dw(i.nodeValue,l)),i||ro(s)}else i=Af(i).createTextNode(u),i[de]=s,s.stateNode=i}return Kt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ou(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[de]=s}else Mu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),m=!1}else m=X0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(fs(s),s):(fs(s),null)}if(fs(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==m&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),hf(s,s.updateQueue),Kt(s),null;case 4:return st(),i===null&&ag(s.stateNode.containerInfo),Kt(s),null;case 10:return cs(s.type),Kt(s),null;case 19:if(ge(vn),m=s.memoizedState,m===null)return Kt(s),null;if(u=(s.flags&128)!==0,v=m.rendering,v===null)if(u)Ku(m,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=lf(i),v!==null){for(s.flags|=128,Ku(m,!1),i=v.updateQueue,s.updateQueue=i,hf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)$0(l,i),l=l.sibling;return me(vn,vn.current&1|2),s.child}i=i.sibling}m.tail!==null&&Xt()>gf&&(s.flags|=128,u=!0,Ku(m,!1),s.lanes=4194304)}else{if(!u)if(i=lf(v),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,hf(s,i),Ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!St)return Kt(s),null}else 2*Xt()-m.renderingStartTime>gf&&l!==536870912&&(s.flags|=128,u=!0,Ku(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(i=m.last,i!==null?i.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Xt(),s.sibling=null,i=vn.current,me(vn,u?i&1|2:i&1),s):(Kt(s),null);case 22:case 23:return fs(s),lp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),l=s.updateQueue,l!==null&&hf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ge(ao),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),cs(yn),Kt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Y2(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return cs(yn),st(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Nt(s),null;case 13:if(fs(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Mu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ge(vn),null;case 4:return st(),null;case 10:return cs(s.type),null;case 22:case 23:return fs(s),lp(),i!==null&&ge(ao),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return cs(yn),null;case 25:return null;default:return null}}function _b(i,s){switch(Km(s),s.tag){case 3:cs(yn),st();break;case 26:case 27:case 5:Nt(s);break;case 4:st();break;case 13:fs(s);break;case 19:ge(vn);break;case 10:cs(s.type);break;case 22:case 23:fs(s),lp(),i!==null&&ge(ao);break;case 24:cs(yn)}}function Yu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var v=l.create,A=l.inst;u=v(),A.destroy=u}l=l.next}while(l!==m)}}catch(D){Vt(s,s.return,D)}}function Bs(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){var A=u.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,m=s;var G=l,te=D;try{te()}catch(le){Vt(m,G,le)}}}u=u.next}while(u!==v)}}catch(le){Vt(s,s.return,le)}}function bb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{o_(s,l)}catch(u){Vt(i,i.return,u)}}}function wb(i,s,l){l.props=lo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Vt(i,s,u)}}function Xu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){Vt(i,s,m)}}function ji(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Vt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Vt(i,s,m)}else l.current=null}function xb(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Vt(i,i.return,m)}}function jp(i,s,l){try{var u=i.stateNode;gR(u,i.type,l,s),u[ve]=s}catch(m){Vt(i,i.return,m)}}function Eb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function Lp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Sf));else if(u!==4&&(u===27&&Ys(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Vp(i,s,l),i=i.sibling;i!==null;)Vp(i,s,l),i=i.sibling}function mf(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&Ys(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(mf(i,s,l),i=i.sibling;i!==null;)mf(i,s,l),i=i.sibling}function Tb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);jn(s,u,l),s[de]=i,s[ve]=l}catch(v){Vt(i,i.return,v)}}var ps=!1,tn=!1,zp=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function X2(i,s){if(i=i.containerInfo,ug=Mf,i=j0(i),Lm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,D=-1,G=-1,te=0,le=0,fe=i,ne=null;t:for(;;){for(var re;fe!==l||m!==0&&fe.nodeType!==3||(D=A+m),fe!==v||u!==0&&fe.nodeType!==3||(G=A+u),fe.nodeType===3&&(A+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===i)break t;if(ne===l&&++te===m&&(D=A),ne===v&&++le===u&&(G=A),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}l=D===-1||G===-1?null:{start:D,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(cg={focusedElem:i,selectionRange:l},Mf=!1,Sn=s;Sn!==null;)if(s=Sn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Sn=i;else for(;Sn!==null;){switch(s=Sn,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,m=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var $e=lo(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate($e,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)hg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Sn=i;break}Sn=s.return}}function Ab(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Fs(i,l),u&4&&Yu(5,l);break;case 1:if(Fs(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){Vt(l,l.return,A)}else{var m=lo(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Vt(l,l.return,A)}}u&64&&bb(l),u&512&&Xu(l,l.return);break;case 3:if(Fs(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{o_(i,s)}catch(A){Vt(l,l.return,A)}}break;case 27:s===null&&u&4&&Tb(l);case 26:case 5:Fs(i,l),s===null&&u&4&&xb(l),u&512&&Xu(l,l.return);break;case 12:Fs(i,l);break;case 13:Fs(i,l),u&4&&Ib(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=sR.bind(null,l),ER(i,l))));break;case 22:if(u=l.memoizedState!==null||ps,!u){s=s!==null&&s.memoizedState!==null||tn,m=ps;var v=tn;ps=u,(tn=s)&&!v?qs(i,l,(l.subtreeFlags&8772)!==0):Fs(i,l),ps=m,tn=v}break;case 30:break;default:Fs(i,l)}}function Rb(i){var s=i.alternate;s!==null&&(i.alternate=null,Rb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Pe(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,mr=!1;function gs(i,s,l){for(l=l.child;l!==null;)Cb(i,s,l),l=l.sibling}function Cb(i,s,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(yt,l)}catch{}switch(l.tag){case 26:tn||ji(l,s),gs(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||ji(l,s);var u=Gt,m=mr;Ys(l.type)&&(Gt=l.stateNode,mr=!1),gs(i,s,l),sc(l.stateNode),Gt=u,mr=m;break;case 5:tn||ji(l,s);case 6:if(u=Gt,m=mr,Gt=null,gs(i,s,l),Gt=u,mr=m,Gt!==null)if(mr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(v){Vt(l,s,v)}else try{Gt.removeChild(l.stateNode)}catch(v){Vt(l,s,v)}break;case 18:Gt!==null&&(mr?(i=Gt,gw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),hc(i)):gw(Gt,l.stateNode));break;case 4:u=Gt,m=mr,Gt=l.stateNode.containerInfo,mr=!0,gs(i,s,l),Gt=u,mr=m;break;case 0:case 11:case 14:case 15:tn||Bs(2,l,s),tn||Bs(4,l,s),gs(i,s,l);break;case 1:tn||(ji(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&wb(l,s,u)),gs(i,s,l);break;case 21:gs(i,s,l);break;case 22:tn=(u=tn)||l.memoizedState!==null,gs(i,s,l),tn=u;break;default:gs(i,s,l)}}function Ib(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hc(i)}catch(l){Vt(s,s.return,l)}}function W2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Sb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Sb),s;default:throw Error(r(435,i.tag))}}function Up(i,s){var l=W2(i);s.forEach(function(u){var m=aR.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function Rr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],v=i,A=s,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(Ys(D.type)){Gt=D.stateNode,mr=!1;break e}break;case 5:Gt=D.stateNode,mr=!1;break e;case 3:case 4:Gt=D.stateNode.containerInfo,mr=!0;break e}D=D.return}if(Gt===null)throw Error(r(160));Cb(v,A,m),Gt=null,mr=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Nb(s,i),s=s.sibling}var oi=null;function Nb(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(s,i),Cr(i),u&4&&(Bs(3,i,i.return),Yu(3,i),Bs(5,i,i.return));break;case 1:Rr(s,i),Cr(i),u&512&&(tn||l===null||ji(l,l.return)),u&64&&ps&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=oi;if(Rr(s,i),Cr(i),u&512&&(tn||l===null||ji(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ue]||v[de]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(u),m.head.insertBefore(v,m.querySelector("head > title"))),jn(v,u,l),v[de]=i,ht(v),u=v;break e;case"link":var A=Tw("link","href",m).get(u+(l.href||""));if(A){for(var D=0;D<A.length;D++)if(v=A[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(D,1);break t}}v=m.createElement(u),jn(v,u,l),m.head.appendChild(v);break;case"meta":if(A=Tw("meta","content",m).get(u+(l.content||""))){for(D=0;D<A.length;D++)if(v=A[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(D,1);break t}}v=m.createElement(u),jn(v,u,l),m.head.appendChild(v);break;default:throw Error(r(468,u))}v[de]=i,ht(v),u=v}i.stateNode=u}else Sw(m,i.type,i.stateNode);else i.stateNode=Ew(m,u,i.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Sw(m,i.type,i.stateNode):Ew(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&jp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Rr(s,i),Cr(i),u&512&&(tn||l===null||ji(l,l.return)),l!==null&&u&4&&jp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Rr(s,i),Cr(i),u&512&&(tn||l===null||ji(l,l.return)),i.flags&32){m=i.stateNode;try{Fr(m,"")}catch(re){Vt(i,i.return,re)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,jp(i,m,l!==null?l.memoizedProps:m)),u&1024&&(zp=!0);break;case 6:if(Rr(s,i),Cr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(re){Vt(i,i.return,re)}}break;case 3:if(If=null,m=oi,oi=Rf(s.containerInfo),Rr(s,i),oi=m,Cr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{hc(s.containerInfo)}catch(re){Vt(i,i.return,re)}zp&&(zp=!1,Ob(i));break;case 4:u=oi,oi=Rf(i.stateNode.containerInfo),Rr(s,i),Cr(i),oi=u;break;case 12:Rr(s,i),Cr(i);break;case 13:Rr(s,i),Cr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($p=Xt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Up(i,u)));break;case 22:m=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=ps,le=tn;if(ps=te||m,tn=le||G,Rr(s,i),tn=le,ps=te,Cr(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||G||ps||tn||uo(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){G=l=s;try{if(v=G.stateNode,m)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=G.stateNode;var fe=G.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt(G,G.return,re)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(re){Vt(G,G.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Up(i,l))));break;case 19:Rr(s,i),Cr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Up(i,u)));break;case 30:break;case 21:break;default:Rr(s,i),Cr(i)}}function Cr(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Eb(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,v=Lp(i);mf(i,v,m);break;case 5:var A=l.stateNode;l.flags&32&&(Fr(A,""),l.flags&=-33);var D=Lp(i);mf(i,D,A);break;case 3:case 4:var G=l.stateNode.containerInfo,te=Lp(i);Vp(i,te,G);break;default:throw Error(r(161))}}catch(le){Vt(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ob(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ob(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Fs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ab(i,s.alternate,s),s=s.sibling}function uo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Bs(4,s,s.return),uo(s);break;case 1:ji(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&wb(s,s.return,l),uo(s);break;case 27:sc(s.stateNode);case 26:case 5:ji(s,s.return),uo(s);break;case 22:s.memoizedState===null&&uo(s);break;case 30:uo(s);break;default:uo(s)}i=i.sibling}}function qs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:qs(m,v,l),Yu(4,v);break;case 1:if(qs(m,v,l),u=v,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){Vt(u,u.return,te)}if(u=v,m=u.updateQueue,m!==null){var D=u.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)a_(G[m],D)}catch(te){Vt(u,u.return,te)}}l&&A&64&&bb(v),Xu(v,v.return);break;case 27:Tb(v);case 26:case 5:qs(m,v,l),l&&u===null&&A&4&&xb(v),Xu(v,v.return);break;case 12:qs(m,v,l);break;case 13:qs(m,v,l),l&&A&4&&Ib(m,v);break;case 22:v.memoizedState===null&&qs(m,v,l),Xu(v,v.return);break;case 30:break;default:qs(m,v,l)}s=s.sibling}}function Bp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ku(l))}function Fp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ku(i))}function Li(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mb(i,s,l,u),s=s.sibling}function Mb(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Li(i,s,l,u),m&2048&&Yu(9,s);break;case 1:Li(i,s,l,u);break;case 3:Li(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ku(i)));break;case 12:if(m&2048){Li(i,s,l,u),i=s.stateNode;try{var v=s.memoizedProps,A=v.id,D=v.onPostCommit;typeof D=="function"&&D(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Vt(s,s.return,G)}}else Li(i,s,l,u);break;case 13:Li(i,s,l,u);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?Li(i,s,l,u):Wu(i,s):v._visibility&2?Li(i,s,l,u):(v._visibility|=2,dl(i,s,l,u,(s.subtreeFlags&10256)!==0)),m&2048&&Bp(A,s);break;case 24:Li(i,s,l,u),m&2048&&Fp(s.alternate,s);break;default:Li(i,s,l,u)}}function dl(i,s,l,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,A=s,D=l,G=u,te=A.flags;switch(A.tag){case 0:case 11:case 15:dl(v,A,D,G,m),Yu(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?dl(v,A,D,G,m):Wu(v,A):(le._visibility|=2,dl(v,A,D,G,m)),m&&te&2048&&Bp(A.alternate,A);break;case 24:dl(v,A,D,G,m),m&&te&2048&&Fp(A.alternate,A);break;default:dl(v,A,D,G,m)}s=s.sibling}}function Wu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:Wu(l,u),m&2048&&Bp(u.alternate,u);break;case 24:Wu(l,u),m&2048&&Fp(u.alternate,u);break;default:Wu(l,u)}s=s.sibling}}var Zu=8192;function fl(i){if(i.subtreeFlags&Zu)for(i=i.child;i!==null;)Db(i),i=i.sibling}function Db(i){switch(i.tag){case 26:fl(i),i.flags&Zu&&i.memoizedState!==null&&jR(oi,i.memoizedState,i.memoizedProps);break;case 5:fl(i);break;case 3:case 4:var s=oi;oi=Rf(i.stateNode.containerInfo),fl(i),oi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Zu,Zu=16777216,fl(i),Zu=s):fl(i));break;default:fl(i)}}function Pb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ju(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Sn=u,jb(u,i)}Pb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kb(i),i=i.sibling}function kb(i){switch(i.tag){case 0:case 11:case 15:Ju(i),i.flags&2048&&Bs(9,i,i.return);break;case 3:Ju(i);break;case 12:Ju(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,pf(i)):Ju(i);break;default:Ju(i)}}function pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Sn=u,jb(u,i)}Pb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Bs(8,s,s.return),pf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,pf(s));break;default:pf(s)}i=i.sibling}}function jb(i,s){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Bs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ku(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Sn=u;else e:for(l=i;Sn!==null;){u=Sn;var m=u.sibling,v=u.return;if(Rb(u),u===l){Sn=null;break e}if(m!==null){m.return=v,Sn=m;break e}Sn=v}}}var Z2={getCacheForType:function(i){var s=qn(yn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},J2=typeof WeakMap=="function"?WeakMap:Map,Ot=0,zt=null,ot=null,bt=0,Mt=0,Ir=null,Hs=!1,hl=!1,qp=!1,ys=0,Zt=0,Gs=0,co=0,Hp=0,Wr=0,ml=0,ec=null,pr=null,Gp=!1,$p=0,gf=1/0,yf=null,$s=null,kn=0,Qs=null,pl=null,gl=0,Qp=0,Kp=null,Lb=null,tc=0,Yp=null;function Nr(){if((Ot&2)!==0&&bt!==0)return bt&-bt;if(Q.T!==null){var i=rl;return i!==0?i:ng()}return $()}function Vb(){Wr===0&&(Wr=(bt&536870912)===0||St?sn():536870912);var i=Xr.current;return i!==null&&(i.flags|=32),Wr}function Or(i,s,l){(i===zt&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)&&(yl(i,0),Ks(i,bt,Wr,!1)),Bn(i,l),((Ot&2)===0||i!==zt)&&(i===zt&&((Ot&2)===0&&(co|=l),Zt===4&&Ks(i,bt,Wr,!1)),Vi(i))}function zb(i,s,l){if((Ot&6)!==0)throw Error(r(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||ft(i,s),m=u?nR(i,s):Zp(i,s,!0),v=u;do{if(m===0){hl&&!u&&Ks(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!eR(l)){m=Zp(i,s,!1),v=!1;continue}if(m===2){if(v=s,i.errorRecoveryDisabledLanes&v)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var D=i;m=ec;var G=D.current.memoizedState.isDehydrated;if(G&&(yl(D,A).flags|=256),A=Zp(D,A,!1),A!==2){if(qp&&!G){D.errorRecoveryDisabledLanes|=v,co|=v,m=4;break e}v=pr,pr=m,v!==null&&(pr===null?pr=v:pr.push.apply(pr,v))}m=A}if(v=!1,m!==2)continue}}if(m===1){yl(i,0),Ks(i,s,0,!0);break}e:{switch(u=i,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ks(u,s,Wr,!Hs);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=$p+300-Xt(),10<m)){if(Ks(u,s,Wr,!Hs),Je(u,0,!0)!==0)break e;u.timeoutHandle=mw(Ub.bind(null,u,l,pr,yf,Gp,s,Wr,co,ml,Hs,v,2,-0,0),m);break e}Ub(u,l,pr,yf,Gp,s,Wr,co,ml,Hs,v,0,-0,0)}}break}while(!0);Vi(i)}function Ub(i,s,l,u,m,v,A,D,G,te,le,fe,ne,re){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(lc={stylesheets:null,count:0,unsuspend:kR},Db(s),fe=LR(),fe!==null)){i.cancelPendingCommit=fe(Qb.bind(null,i,s,v,l,u,m,A,D,G,le,1,ne,re)),Ks(i,v,A,!te);return}Qb(i,s,v,l,u,m,A,D,G)}function eR(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],v=m.getSnapshot;m=m.value;try{if(!Sr(v(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(i,s,l,u){s&=~Hp,s&=~co,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var v=31-$t(m),A=1<<v;u[v]=-1,m&=~A}l!==0&&Qt(i,l,s)}function vf(){return(Ot&6)===0?(nc(0),!1):!0}function Xp(){if(ot!==null){if(Mt===0)var i=ot.return;else i=ot,us=io=null,hp(i),ul=null,$u=0,i=ot;for(;i!==null;)_b(i.alternate,i),i=i.return;ot=null}}function yl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,vR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Xp(),zt=i,ot=l=as(i.current,null),bt=s,Mt=0,Ir=null,Hs=!1,hl=ft(i,s),qp=!1,ml=Wr=Hp=co=Gs=Zt=0,pr=ec=null,Gp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-$t(u),v=1<<m;s|=i[m],u&=~v}return ys=s,zd(),l}function Bb(i,s){tt=null,Q.H=sf,s===Lu||s===Kd?(s=i_(),Mt=3):s===t_?(s=i_(),Mt=4):Mt=s===sb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ir=s,ot===null&&(Zt=1,cf(i,$r(s,i.current)))}function Fb(){var i=Q.H;return Q.H=sf,i===null?sf:i}function qb(){var i=Q.A;return Q.A=Z2,i}function Wp(){Zt=4,Hs||(bt&4194048)!==bt&&Xr.current!==null||(hl=!0),(Gs&134217727)===0&&(co&134217727)===0||zt===null||Ks(zt,bt,Wr,!1)}function Zp(i,s,l){var u=Ot;Ot|=2;var m=Fb(),v=qb();(zt!==i||bt!==s)&&(yf=null,yl(i,s)),s=!1;var A=Zt;e:do try{if(Mt!==0&&ot!==null){var D=ot,G=Ir;switch(Mt){case 8:Xp(),A=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(s=!0);var te=Mt;if(Mt=0,Ir=null,vl(i,D,G,te),l&&hl){A=0;break e}break;default:te=Mt,Mt=0,Ir=null,vl(i,D,G,te)}}tR(),A=Zt;break}catch(le){Bb(i,le)}while(!0);return s&&i.shellSuspendCounter++,us=io=null,Ot=u,Q.H=m,Q.A=v,ot===null&&(zt=null,bt=0,zd()),A}function tR(){for(;ot!==null;)Hb(ot)}function nR(i,s){var l=Ot;Ot|=2;var u=Fb(),m=qb();zt!==i||bt!==s?(yf=null,gf=Xt()+500,yl(i,s)):hl=ft(i,s);e:do try{if(Mt!==0&&ot!==null){s=ot;var v=Ir;t:switch(Mt){case 1:Mt=0,Ir=null,vl(i,s,v,1);break;case 2:case 9:if(n_(v)){Mt=0,Ir=null,Gb(s);break}s=function(){Mt!==2&&Mt!==9||zt!==i||(Mt=7),Vi(i)},v.then(s,s);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:n_(v)?(Mt=0,Ir=null,Gb(s)):(Mt=0,Ir=null,vl(i,s,v,7));break;case 5:var A=null;switch(ot.tag){case 26:A=ot.memoizedState;case 5:case 27:var D=ot;if(!A||Aw(A)){Mt=0,Ir=null;var G=D.sibling;if(G!==null)ot=G;else{var te=D.return;te!==null?(ot=te,_f(te)):ot=null}break t}}Mt=0,Ir=null,vl(i,s,v,5);break;case 6:Mt=0,Ir=null,vl(i,s,v,6);break;case 8:Xp(),Zt=6;break e;default:throw Error(r(462))}}rR();break}catch(le){Bb(i,le)}while(!0);return us=io=null,Q.H=u,Q.A=m,Ot=l,ot!==null?0:(zt=null,bt=0,zd(),Zt)}function rR(){for(;ot!==null&&!cr();)Hb(ot)}function Hb(i){var s=yb(i.alternate,i,ys);i.memoizedProps=i.pendingProps,s===null?_f(i):ot=s}function Gb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=db(l,s,s.pendingProps,s.type,void 0,bt);break;case 11:s=db(l,s,s.pendingProps,s.type.render,s.ref,bt);break;case 5:hp(s);default:_b(l,s),s=ot=$0(s,ys),s=yb(l,s,ys)}i.memoizedProps=i.pendingProps,s===null?_f(i):ot=s}function vl(i,s,l,u){us=io=null,hp(s),ul=null,$u=0;var m=s.return;try{if($2(i,m,s,l,bt)){Zt=1,cf(i,$r(l,i.current)),ot=null;return}}catch(v){if(m!==null)throw ot=m,v;Zt=1,cf(i,$r(l,i.current)),ot=null;return}s.flags&32768?(St||u===1?i=!0:hl||(bt&536870912)!==0?i=!1:(Hs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xr.current,u!==null&&u.tag===13&&(u.flags|=16384))),$b(s,i)):_f(s)}function _f(i){var s=i;do{if((s.flags&32768)!==0){$b(s,Hs);return}i=s.return;var l=K2(s.alternate,s,ys);if(l!==null){ot=l;return}if(s=s.sibling,s!==null){ot=s;return}ot=s=i}while(s!==null);Zt===0&&(Zt=5)}function $b(i,s){do{var l=Y2(i.alternate,i);if(l!==null){l.flags&=32767,ot=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ot=i;return}ot=i=l}while(i!==null);Zt=6,ot=null}function Qb(i,s,l,u,m,v,A,D,G){i.cancelPendingCommit=null;do bf();while(kn!==0);if((Ot&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Fm,Nn(i,l,v,A,D,G),i===zt&&(ot=zt=null,bt=0),pl=s,Qs=i,gl=l,Qp=v,Kp=m,Lb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oR(ri,function(){return Zb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,m=oe.p,oe.p=2,A=Ot,Ot|=4;try{X2(i,s,l)}finally{Ot=A,oe.p=m,Q.T=u}}kn=1,Kb(),Yb(),Xb()}}function Kb(){if(kn===1){kn=0;var i=Qs,s=pl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=oe.p;oe.p=2;var m=Ot;Ot|=4;try{Nb(s,i);var v=cg,A=j0(i.containerInfo),D=v.focusedElem,G=v.selectionRange;if(A!==D&&D&&D.ownerDocument&&k0(D.ownerDocument.documentElement,D)){if(G!==null&&Lm(D)){var te=G.start,le=G.end;if(le===void 0&&(le=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(le,D.value.length);else{var fe=D.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),$e=D.textContent.length,Be=Math.min(G.start,$e),jt=G.end===void 0?Be:Math.min(G.end,$e);!re.extend&&Be>jt&&(A=jt,jt=Be,Be=A);var X=P0(D,Be),K=P0(D,jt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Be>jt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(fe=[],re=D;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var ce=fe[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Mf=!!ug,cg=ug=null}finally{Ot=m,oe.p=u,Q.T=l}}i.current=s,kn=2}}function Yb(){if(kn===2){kn=0;var i=Qs,s=pl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=oe.p;oe.p=2;var m=Ot;Ot|=4;try{Ab(i,s.alternate,s)}finally{Ot=m,oe.p=u,Q.T=l}}kn=3}}function Xb(){if(kn===4||kn===3){kn=0,Wn();var i=Qs,s=pl,l=gl,u=Lb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,pl=Qs=null,Wb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&($s=null),Ti(l),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,m=oe.p,oe.p=2,Q.T=null;try{for(var v=i.onRecoverableError,A=0;A<u.length;A++){var D=u[A];v(D.value,{componentStack:D.stack})}}finally{Q.T=s,oe.p=m}}(gl&3)!==0&&bf(),Vi(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Yp?tc++:(tc=0,Yp=i):tc=0,nc(0)}}function Wb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ku(s)))}function bf(i){return Kb(),Yb(),Xb(),Zb()}function Zb(){if(kn!==5)return!1;var i=Qs,s=Qp;Qp=0;var l=Ti(gl),u=Q.T,m=oe.p;try{oe.p=32>l?32:l,Q.T=null,l=Kp,Kp=null;var v=Qs,A=gl;if(kn=0,pl=Qs=null,gl=0,(Ot&6)!==0)throw Error(r(331));var D=Ot;if(Ot|=4,kb(v.current),Mb(v,v.current,A,l),Ot=D,nc(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(yt,v)}catch{}return!0}finally{oe.p=m,Q.T=u,Wb(i,s)}}function Jb(i,s,l){s=$r(l,s),s=Rp(i.stateNode,s,2),i=Ls(i,s,2),i!==null&&(Bn(i,2),Vi(i))}function Vt(i,s,l){if(i.tag===3)Jb(i,i,l);else for(;s!==null;){if(s.tag===3){Jb(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($s===null||!$s.has(u))){i=$r(l,i),l=rb(2),u=Ls(s,l,2),u!==null&&(ib(l,u,s,i),Bn(u,2),Vi(u));break}}s=s.return}}function Jp(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new J2;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(qp=!0,m.add(l),i=iR.bind(null,i,s,l),s.then(i,i))}function iR(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(bt&l)===l&&(Zt===4||Zt===3&&(bt&62914560)===bt&&300>Xt()-$p?(Ot&2)===0&&yl(i,0):Hp|=l,ml===bt&&(ml=0)),Vi(i)}function ew(i,s){s===0&&(s=er()),i=Jo(i,s),i!==null&&(Bn(i,s),Vi(i))}function sR(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),ew(i,l)}function aR(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),ew(i,l)}function oR(i,s){return hn(i,s)}var wf=null,_l=null,eg=!1,xf=!1,tg=!1,fo=0;function Vi(i){i!==_l&&i.next===null&&(_l===null?wf=_l=i:_l=_l.next=i),xf=!0,eg||(eg=!0,uR())}function nc(i,s){if(!tg&&xf){tg=!0;do for(var l=!1,u=wf;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var v=0;else{var A=u.suspendedLanes,D=u.pingedLanes;v=(1<<31-$t(42|i)+1)-1,v&=m&~(A&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,iw(u,v))}else v=bt,v=Je(u,u===zt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||ft(u,v)||(l=!0,iw(u,v));u=u.next}while(l);tg=!1}}function lR(){tw()}function tw(){xf=eg=!1;var i=0;fo!==0&&(yR()&&(i=fo),fo=0);for(var s=Xt(),l=null,u=wf;u!==null;){var m=u.next,v=nw(u,s);v===0?(u.next=null,l===null?wf=m:l.next=m,m===null&&(_l=l)):(l=u,(i!==0||(v&3)!==0)&&(xf=!0)),u=m}nc(i)}function nw(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var A=31-$t(v),D=1<<A,G=m[A];G===-1?((D&l)===0||(D&u)!==0)&&(m[A]=qt(D,s)):G<=s&&(i.expiredLanes|=D),v&=~D}if(s=zt,l=bt,l=Je(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Mt===2||Mt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ft(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ft(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&Ft(u),Ti(l)){case 2:case 8:l=xi;break;case 32:l=ri;break;case 268435456:l=Jn;break;default:l=ri}return u=rw.bind(null,i),l=hn(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&Ft(u),i.callbackPriority=2,i.callbackNode=null,2}function rw(i,s){if(kn!==0&&kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(bf()&&i.callbackNode!==l)return null;var u=bt;return u=Je(i,i===zt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(zb(i,u,s),nw(i,Xt()),i.callbackNode!=null&&i.callbackNode===l?rw.bind(null,i):null)}function iw(i,s){if(bf())return null;zb(i,s,!0)}function uR(){_R(function(){(Ot&6)!==0?hn(wi,lR):tw()})}function ng(){return fo===0&&(fo=sn()),fo}function sw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Bo(""+i)}function aw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function cR(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var v=sw((m[ve]||null).action),A=u.submitter;A&&(s=(s=A[ve]||null)?sw(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var D=new Fo("action","action",null,u,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fo!==0){var G=A?aw(m,A):new FormData(m);xp(l,{pending:!0,data:G,method:m.method,action:v},null,G)}}else typeof v=="function"&&(D.preventDefault(),G=A?aw(m,A):new FormData(m),xp(l,{pending:!0,data:G,method:m.method,action:v},v,G))},currentTarget:m}]})}}for(var rg=0;rg<Bm.length;rg++){var ig=Bm[rg],dR=ig.toLowerCase(),fR=ig[0].toUpperCase()+ig.slice(1);ai(dR,"on"+fR)}ai(z0,"onAnimationEnd"),ai(U0,"onAnimationIteration"),ai(B0,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(I2,"onTransitionRun"),ai(N2,"onTransitionStart"),ai(O2,"onTransitionCancel"),ai(F0,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function ow(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var A=u.length-1;0<=A;A--){var D=u[A],G=D.instance,te=D.currentTarget;if(D=D.listener,G!==v&&m.isPropagationStopped())break e;v=D,m.currentTarget=te;try{v(m)}catch(le){uf(le)}m.currentTarget=null,v=G}else for(A=0;A<u.length;A++){if(D=u[A],G=D.instance,te=D.currentTarget,D=D.listener,G!==v&&m.isPropagationStopped())break e;v=D,m.currentTarget=te;try{v(m)}catch(le){uf(le)}m.currentTarget=null,v=G}}}}function lt(i,s){var l=s[ze];l===void 0&&(l=s[ze]=new Set);var u=i+"__bubble";l.has(u)||(lw(s,i,2,!1),l.add(u))}function sg(i,s,l){var u=0;s&&(u|=4),lw(l,i,u,s)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function ag(i){if(!i[Ef]){i[Ef]=!0,rt.forEach(function(l){l!=="selectionchange"&&(hR.has(l)||sg(l,!1,i),sg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ef]||(s[Ef]=!0,sg("selectionchange",!1,s))}}function lw(i,s,l,u){switch(Mw(s)){case 2:var m=UR;break;case 8:m=BR;break;default:m=bg}l=m.bind(null,s,l,i),m=void 0,!Hr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function og(i,s,l,u,m){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var D=u.stateNode.containerInfo;if(D===m)break;if(A===4)for(A=u.return;A!==null;){var G=A.tag;if((G===3||G===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;D!==null;){if(A=Fe(D),A===null)return;if(G=A.tag,G===5||G===6||G===26||G===27){u=v=A;continue e}D=D.parentNode}}u=u.return}Td(function(){var te=v,le=qr(l),fe=[];e:{var ne=q0.get(i);if(ne!==void 0){var re=Fo,$e=i;switch(i){case"keypress":if(Ii(l)===0)break e;case"keydown":case"keyup":re=Ko;break;case"focusin":$e="focus",re=Go;break;case"focusout":$e="blur",re=Go;break;case"beforeblur":case"afterblur":re=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Md;break;case z0:case U0:case B0:re=$o;break;case F0:re=Pd;break;case"scroll":case"scrollend":re=Sd;break;case"wheel":re=Yo;break;case"copy":case"cut":case"paste":re=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ru;break;case"toggle":case"beforetoggle":re=jd}var Be=(s&4)!==0,jt=!Be&&(i==="scroll"||i==="scrollend"),X=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var K=te,J;K!==null;){var ce=K;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||X===null||(ce=Ha(K,X),ce!=null&&Be.push(ic(K,ce,J))),jt)break;K=K.return}0<Be.length&&(ne=new re(ne,$e,null,l,le),fe.push({event:ne,listeners:Be}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==es&&($e=l.relatedTarget||l.fromElement)&&(Fe($e)||$e[Re]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?($e=l.relatedTarget||l.toElement,re=te,$e=$e?Fe($e):null,$e!==null&&(jt=o($e),Be=$e.tag,$e!==jt||Be!==5&&Be!==27&&Be!==6)&&($e=null)):(re=null,$e=te),re!==$e)){if(Be=Gr,ce="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Be=Ru,ce="onPointerLeave",X="onPointerEnter",K="pointer"),jt=re==null?ne:At(re),J=$e==null?ne:At($e),ne=new Be(ce,K+"leave",re,l,le),ne.target=jt,ne.relatedTarget=J,ce=null,Fe(le)===te&&(Be=new Be(X,K+"enter",$e,l,le),Be.target=J,Be.relatedTarget=jt,ce=Be),jt=ce,re&&$e)t:{for(Be=re,X=$e,K=0,J=Be;J;J=bl(J))K++;for(J=0,ce=X;ce;ce=bl(ce))J++;for(;0<K-J;)Be=bl(Be),K--;for(;0<J-K;)X=bl(X),J--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=bl(Be),X=bl(X)}Be=null}else Be=null;re!==null&&uw(fe,ne,re,Be,!1),$e!==null&&jt!==null&&uw(fe,jt,$e,Be,!0)}}e:{if(ne=te?At(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ie=C0;else if(gn(ne))if(I0)Ie=A2;else{Ie=T2;var it=E2}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&bu(te.elementType)&&(Ie=C0):Ie=S2;if(Ie&&(Ie=Ie(i,te))){ss(fe,Ie,l,le);break e}it&&it(i,ne,te),i==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Ms(ne,"number",ne.value)}switch(it=te?At(te):window,i){case"focusin":(gn(it)||it.contentEditable==="true")&&(Xo=it,Vm=te,Nu=null);break;case"focusout":Nu=Vm=Xo=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,L0(fe,l,le);break;case"selectionchange":if(C2)break;case"keydown":case"keyup":L0(fe,l,le)}var je;if(Mi)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else vt?ie(i,l)&&(qe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(T&&l.locale!=="ko"&&(vt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&vt&&(je=xu()):(Ci=le,Ds="value"in Ci?Ci.value:Ci.textContent,vt=!0)),it=Tf(te,qe),0<it.length&&(qe=new Su(qe,i,null,l,le),fe.push({event:qe,listeners:it}),je?qe.data=je:(je=be(l),je!==null&&(qe.data=je)))),(je=b?pn(i,l):_t(i,l))&&(qe=Tf(te,"onBeforeInput"),0<qe.length&&(it=new Su("onBeforeInput","beforeinput",null,l,le),fe.push({event:it,listeners:qe}),it.data=je)),cR(fe,i,te,l,le)}ow(fe,s)})}function ic(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Tf(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Ha(i,l),m!=null&&u.unshift(ic(i,m,v)),m=Ha(i,s),m!=null&&u.push(ic(i,m,v))),i.tag===3)return u;i=i.return}return[]}function bl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uw(i,s,l,u,m){for(var v=s._reactName,A=[];l!==null&&l!==u;){var D=l,G=D.alternate,te=D.stateNode;if(D=D.tag,G!==null&&G===u)break;D!==5&&D!==26&&D!==27||te===null||(G=te,m?(te=Ha(l,v),te!=null&&A.unshift(ic(l,te,G))):m||(te=Ha(l,v),te!=null&&A.push(ic(l,te,G)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var mR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function cw(i){return(typeof i=="string"?i:""+i).replace(mR,`
`).replace(pR,"")}function dw(i,s){return s=cw(s),cw(i)===s}function Sf(){}function kt(i,s,l,u,m,v){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fr(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fr(i,""+u);break;case"className":nr(i,"class",u);break;case"tabIndex":nr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(i,l,u);break;case"style":_u(i,u,v);break;case"data":if(s!=="object"){nr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Bo(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&kt(i,s,"name",m.name,m,null),kt(i,s,"formEncType",m.formEncType,m,null),kt(i,s,"formMethod",m.formMethod,m,null),kt(i,s,"formTarget",m.formTarget,m,null)):(kt(i,s,"encType",m.encType,m,null),kt(i,s,"method",m.method,m,null),kt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Bo(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Sf);break;case"onScroll":u!=null&&lt("scroll",i);break;case"onScrollEnd":u!=null&&lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Bo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":lt("beforetoggle",i),lt("toggle",i),Fn(i,"popover",u);break;case"xlinkActuate":Ke(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ke(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ke(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ke(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ke(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ke(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fn(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Om.get(l)||l,Fn(i,l,u))}}function lg(i,s,l,u,m,v){switch(l){case"style":_u(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Fr(i,u):(typeof u=="number"||typeof u=="bigint")&&Fr(i,""+u);break;case"onScroll":u!=null&&lt("scroll",i);break;case"onScrollEnd":u!=null&&lt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),v=i[ve]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,m),typeof u=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Fn(i,l,u)}}}function jn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",i),lt("load",i);var u=!1,m=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:kt(i,s,v,A,l,null)}}m&&kt(i,s,"srcSet",l.srcSet,l,null),u&&kt(i,s,"src",l.src,l,null);return;case"input":lt("invalid",i);var D=v=A=m=null,G=null,te=null;for(u in l)if(l.hasOwnProperty(u)){var le=l[u];if(le!=null)switch(u){case"name":m=le;break;case"type":A=le;break;case"checked":G=le;break;case"defaultChecked":te=le;break;case"value":v=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:kt(i,s,u,le,l,null)}}Ba(i,v,D,G,te,A,m,!1),Uo(i);return;case"select":lt("invalid",i),u=A=v=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":v=D;break;case"defaultValue":A=D;break;case"multiple":u=D;default:kt(i,s,m,D,l,null)}s=v,l=A,i.multiple=!!u,s!=null?Ji(i,!!u,s,!1):l!=null&&Ji(i,!!u,l,!0);return;case"textarea":lt("invalid",i),v=m=u=null;for(A in l)if(l.hasOwnProperty(A)&&(D=l[A],D!=null))switch(A){case"value":u=D;break;case"defaultValue":m=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:kt(i,s,A,D,l,null)}Fa(i,u,m,v),Uo(i);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:kt(i,s,G,u,l,null)}return;case"dialog":lt("beforetoggle",i),lt("toggle",i),lt("cancel",i),lt("close",i);break;case"iframe":case"object":lt("load",i);break;case"video":case"audio":for(u=0;u<rc.length;u++)lt(rc[u],i);break;case"image":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"embed":case"source":case"link":lt("error",i),lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(u=l[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:kt(i,s,te,u,l,null)}return;default:if(bu(s)){for(le in l)l.hasOwnProperty(le)&&(u=l[le],u!==void 0&&lg(i,s,le,u,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(u=l[D],u!=null&&kt(i,s,D,u,l,null))}function gR(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,A=null,D=null,G=null,te=null,le=null;for(re in l){var fe=l[re];if(l.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=fe;default:u.hasOwnProperty(re)||kt(i,s,re,null,u,fe)}}for(var ne in u){var re=u[ne];if(fe=l[ne],u.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":v=re;break;case"name":m=re;break;case"checked":te=re;break;case"defaultChecked":le=re;break;case"value":A=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==fe&&kt(i,s,ne,re,u,fe)}}Tr(i,A,D,G,te,le,v,m);return;case"select":re=A=D=ne=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":re=G;default:u.hasOwnProperty(v)||kt(i,s,v,null,u,G)}for(m in u)if(v=u[m],G=l[m],u.hasOwnProperty(m)&&(v!=null||G!=null))switch(m){case"value":ne=v;break;case"defaultValue":D=v;break;case"multiple":A=v;default:v!==G&&kt(i,s,m,v,u,G)}s=D,l=A,u=re,ne!=null?Ji(i,!!l,ne,!1):!!u!=!!l&&(s!=null?Ji(i,!!l,s,!0):Ji(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!u.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:kt(i,s,D,null,u,m)}for(A in u)if(m=u[A],v=l[A],u.hasOwnProperty(A)&&(m!=null||v!=null))switch(A){case"value":ne=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&kt(i,s,A,m,u,v)}Dt(i,ne,re);return;case"option":for(var $e in l)if(ne=l[$e],l.hasOwnProperty($e)&&ne!=null&&!u.hasOwnProperty($e))switch($e){case"selected":i.selected=!1;break;default:kt(i,s,$e,null,u,ne)}for(G in u)if(ne=u[G],re=l[G],u.hasOwnProperty(G)&&ne!==re&&(ne!=null||re!=null))switch(G){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:kt(i,s,G,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!u.hasOwnProperty(Be)&&kt(i,s,Be,null,u,ne);for(te in u)if(ne=u[te],re=l[te],u.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:kt(i,s,te,ne,u,re)}return;default:if(bu(s)){for(var jt in l)ne=l[jt],l.hasOwnProperty(jt)&&ne!==void 0&&!u.hasOwnProperty(jt)&&lg(i,s,jt,void 0,u,ne);for(le in u)ne=u[le],re=l[le],!u.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||lg(i,s,le,ne,u,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!u.hasOwnProperty(X)&&kt(i,s,X,null,u,ne);for(fe in u)ne=u[fe],re=l[fe],!u.hasOwnProperty(fe)||ne===re||ne==null&&re==null||kt(i,s,fe,ne,u,re)}var ug=null,cg=null;function Af(i){return i.nodeType===9?i:i.ownerDocument}function fw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function dg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fg=null;function yR(){var i=window.event;return i&&i.type==="popstate"?i===fg?!1:(fg=i,!0):(fg=null,!1)}var mw=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(i){return pw.resolve(null).then(i).catch(bR)}:mw;function bR(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function gw(i,s){var l=s,u=0,m=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<u&&8>u){l=u;var A=i.ownerDocument;if(l&1&&sc(A.documentElement),l&2&&sc(A.body),l&4)for(l=A.head,sc(l),A=l.firstChild;A;){var D=A.nextSibling,G=A.nodeName;A[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=D}}if(m===0){i.removeChild(v),hc(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=v}while(l);hc(s)}function hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hg(l),Pe(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function wR(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ue])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function xR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=li(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function ER(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var pg=null;function yw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function vw(i,s,l){switch(s=Af(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Pe(i)}var Zr=new Map,_w=new Set;function Rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vs=oe.d;oe.d={f:TR,r:SR,D:AR,C:RR,L:CR,m:IR,X:OR,S:NR,M:MR};function TR(){var i=vs.f(),s=vf();return i||s}function SR(i){var s=at(i);s!==null&&s.tag===5&&s.type==="form"?z_(s):vs.r(i)}var wl=typeof document>"u"?null:document;function bw(i,s,l){var u=wl;if(u&&typeof s=="string"&&s){var m=on(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),_w.has(m)||(_w.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),jn(s,"link",i),ht(s),u.head.appendChild(s)))}}function AR(i){vs.D(i),bw("dns-prefetch",i,null)}function RR(i,s){vs.C(i,s),bw("preconnect",i,s)}function CR(i,s,l){vs.L(i,s,l);var u=wl;if(u&&i&&s){var m='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+on(l.imageSizes)+'"]')):m+='[href="'+on(i)+'"]';var v=m;switch(s){case"style":v=xl(i);break;case"script":v=El(i)}Zr.has(v)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Zr.set(v,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(ac(v))||s==="script"&&u.querySelector(oc(v))||(s=u.createElement("link"),jn(s,"link",i),ht(s),u.head.appendChild(s)))}}function IR(i,s){vs.m(i,s);var l=wl;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+on(u)+'"][href="'+on(i)+'"]',v=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=El(i)}if(!Zr.has(v)&&(i=g({rel:"modulepreload",href:i},s),Zr.set(v,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(oc(v)))return}u=l.createElement("link"),jn(u,"link",i),ht(u),l.head.appendChild(u)}}}function NR(i,s,l){vs.S(i,s,l);var u=wl;if(u&&i){var m=Et(u).hoistableStyles,v=xl(i);s=s||"default";var A=m.get(v);if(!A){var D={loading:0,preload:null};if(A=u.querySelector(ac(v)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Zr.get(v))&&gg(i,l);var G=A=u.createElement("link");ht(G),jn(G,"link",i),G._p=new Promise(function(te,le){G.onload=te,G.onerror=le}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Cf(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:D},m.set(v,A)}}}function OR(i,s){vs.X(i,s);var l=wl;if(l&&i){var u=Et(l).hoistableScripts,m=El(i),v=u.get(m);v||(v=l.querySelector(oc(m)),v||(i=g({src:i,async:!0},s),(s=Zr.get(m))&&yg(i,s),v=l.createElement("script"),ht(v),jn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function MR(i,s){vs.M(i,s);var l=wl;if(l&&i){var u=Et(l).hoistableScripts,m=El(i),v=u.get(m);v||(v=l.querySelector(oc(m)),v||(i=g({src:i,async:!0,type:"module"},s),(s=Zr.get(m))&&yg(i,s),v=l.createElement("script"),ht(v),jn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function ww(i,s,l,u){var m=(m=Ee.current)?Rf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=xl(l.href),l=Et(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=xl(l.href);var v=Et(m).hoistableStyles,A=v.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,A),(v=m.querySelector(ac(i)))&&!v._p&&(A.instance=v,A.state.loading=5),Zr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zr.set(i,l),v||DR(m,i,l,A.state))),s&&u===null)throw Error(r(528,""));return A}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=El(l),l=Et(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function xl(i){return'href="'+on(i)+'"'}function ac(i){return'link[rel="stylesheet"]['+i+"]"}function xw(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function DR(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),jn(s,"link",l),ht(s),i.head.appendChild(s))}function El(i){return'[src="'+on(i)+'"]'}function oc(i){return"script[async]"+i}function Ew(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+on(l.href)+'"]');if(u)return s.instance=u,ht(u),u;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ht(u),jn(u,"style",m),Cf(u,l.precedence,i),s.instance=u;case"stylesheet":m=xl(l.href);var v=i.querySelector(ac(m));if(v)return s.state.loading|=4,s.instance=v,ht(v),v;u=xw(l),(m=Zr.get(m))&&gg(u,m),v=(i.ownerDocument||i).createElement("link"),ht(v);var A=v;return A._p=new Promise(function(D,G){A.onload=D,A.onerror=G}),jn(v,"link",u),s.state.loading|=4,Cf(v,l.precedence,i),s.instance=v;case"script":return v=El(l.src),(m=i.querySelector(oc(v)))?(s.instance=m,ht(m),m):(u=l,(m=Zr.get(v))&&(u=g({},l),yg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),ht(m),jn(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Cf(u,l.precedence,i));return s.instance}function Cf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,v=m,A=0;A<u.length;A++){var D=u[A];if(D.dataset.precedence===s)v=D;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function gg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var If=null;function Tw(i,s,l){if(If===null){var u=new Map,m=If=new Map;m.set(l,u)}else m=If,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var v=l[m];if(!(v[Ue]||v[de]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=i+A;var D=u.get(A);D?D.push(v):u.set(A,[v])}}return u}function Sw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function PR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Aw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var lc=null;function kR(){}function jR(i,s,l){if(lc===null)throw Error(r(475));var u=lc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=xl(l.href),v=i.querySelector(ac(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Nf.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=v,ht(v);return}v=i.ownerDocument||i,l=xw(l),(m=Zr.get(m))&&gg(l,m),v=v.createElement("link"),ht(v);var A=v;A._p=new Promise(function(D,G){A.onload=D,A.onerror=G}),jn(v,"link",l),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Nf.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function LR(){if(lc===null)throw Error(r(475));var i=lc;return i.stylesheets&&i.count===0&&vg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&vg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Of=null;function vg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Of=new Map,s.forEach(VR,i),Of=null,Nf.call(i))}function VR(i,s){if(!(s.state.loading&4)){var l=Of.get(i);if(l)var u=l.get(null);else{l=new Map,Of.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var A=m[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),u=A)}u&&l.set(null,u)}m=s.instance,A=m.getAttribute("data-precedence"),v=l.get(A)||u,v===u&&l.set(null,m),l.set(A,m),this.count++,u=Nf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var uc={$$typeof:C,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function zR(i,s,l,u,m,v,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Rw(i,s,l,u,m,v,A,D,G,te,le,fe){return i=new zR(i,s,l,A,D,G,te,fe),s=1,v===!0&&(s|=24),v=Ar(3,null,null,s),i.current=v,v.stateNode=i,s=Jm(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:s},rp(v),i}function Cw(i){return i?(i=el,i):el}function Iw(i,s,l,u,m,v){m=Cw(m),u.context===null?u.context=m:u.pendingContext=m,u=js(s),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Ls(i,u,s),l!==null&&(Or(l,i,s),zu(l,i,s))}function Nw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function _g(i,s){Nw(i,s),(i=i.alternate)&&Nw(i,s)}function Ow(i){if(i.tag===13){var s=Jo(i,67108864);s!==null&&Or(s,i,67108864),_g(i,67108864)}}var Mf=!0;function UR(i,s,l,u){var m=Q.T;Q.T=null;var v=oe.p;try{oe.p=2,bg(i,s,l,u)}finally{oe.p=v,Q.T=m}}function BR(i,s,l,u){var m=Q.T;Q.T=null;var v=oe.p;try{oe.p=8,bg(i,s,l,u)}finally{oe.p=v,Q.T=m}}function bg(i,s,l,u){if(Mf){var m=wg(u);if(m===null)og(i,s,u,Df,l),Dw(i,u);else if(qR(m,i,s,l,u))u.stopPropagation();else if(Dw(i,u),s&4&&-1<FR.indexOf(i)){for(;m!==null;){var v=at(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Oe(v.pendingLanes);if(A!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var G=1<<31-$t(A);D.entanglements[1]|=G,A&=~G}Vi(v),(Ot&6)===0&&(gf=Xt()+500,nc(0))}}break;case 13:D=Jo(v,2),D!==null&&Or(D,v,2),vf(),_g(v,2)}if(v=wg(u),v===null&&og(i,s,u,Df,l),v===m)break;m=v}m!==null&&u.stopPropagation()}else og(i,s,u,null,l)}}function wg(i){return i=qr(i),xg(i)}var Df=null;function xg(i){if(Df=null,i=Fe(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Df=i,null}function Mw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case wi:return 2;case xi:return 8;case ri:case Zn:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Eg=!1,Xs=null,Ws=null,Zs=null,cc=new Map,dc=new Map,Js=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dw(i,s){switch(i){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(i,s,l,u,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},s!==null&&(s=at(s),s!==null&&Ow(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function qR(i,s,l,u,m){switch(s){case"focusin":return Xs=fc(Xs,i,s,l,u,m),!0;case"dragenter":return Ws=fc(Ws,i,s,l,u,m),!0;case"mouseover":return Zs=fc(Zs,i,s,l,u,m),!0;case"pointerover":var v=m.pointerId;return cc.set(v,fc(cc.get(v)||null,i,s,l,u,m)),!0;case"gotpointercapture":return v=m.pointerId,dc.set(v,fc(dc.get(v)||null,i,s,l,u,m)),!0}return!1}function Pw(i){var s=Fe(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,W(i.priority,function(){if(l.tag===13){var u=Nr();u=wr(u);var m=Jo(l,u);m!==null&&Or(m,l,u),_g(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=wg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);es=u,l.target.dispatchEvent(u),es=null}else return s=at(l),s!==null&&Ow(s),i.blockedOn=l,!1;s.shift()}return!0}function kw(i,s,l){Pf(i)&&l.delete(s)}function HR(){Eg=!1,Xs!==null&&Pf(Xs)&&(Xs=null),Ws!==null&&Pf(Ws)&&(Ws=null),Zs!==null&&Pf(Zs)&&(Zs=null),cc.forEach(kw),dc.forEach(kw)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,Eg||(Eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HR)))}var jf=null;function jw(i){jf!==i&&(jf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jf===i&&(jf=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(xg(u||l)===null)continue;break}var v=at(l);v!==null&&(i.splice(s,3),s-=3,xp(v,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function hc(i){function s(G){return kf(G,i)}Xs!==null&&kf(Xs,i),Ws!==null&&kf(Ws,i),Zs!==null&&kf(Zs,i),cc.forEach(s),dc.forEach(s);for(var l=0;l<Js.length;l++){var u=Js[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Js.length&&(l=Js[0],l.blockedOn===null);)Pw(l),l.blockedOn===null&&Js.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],v=l[u+1],A=m[ve]||null;if(typeof v=="function")A||jw(l);else if(A){var D=null;if(v&&v.hasAttribute("formAction")){if(m=v,A=v[ve]||null)D=A.formAction;else if(xg(m)!==null)continue}else D=A.action;typeof D=="function"?l[u+1]=D:(l.splice(u,3),u-=3),jw(l)}}}function Tg(i){this._internalRoot=i}Lf.prototype.render=Tg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Nr();Iw(l,u,i,s,null,null)},Lf.prototype.unmount=Tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Iw(i.current,2,null,i,null,null),vf(),s[Re]=null}};function Lf(i){this._internalRoot=i}Lf.prototype.unstable_scheduleHydration=function(i){if(i){var s=$();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Js.length&&s!==0&&s<Js[l].priority;l++);Js.splice(l,0,i),l===0&&Pw(i)}};var Lw=e.version;if(Lw!=="19.1.0")throw Error(r(527,Lw,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var GR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{yt=Vf.inject(GR),We=Vf}catch{}}return pc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",m=J_,v=eb,A=tb,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=Rw(i,1,!1,null,null,l,u,m,v,A,D,null),i[Re]=s.current,ag(i),new Tg(s)},pc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,m="",v=J_,A=eb,D=tb,G=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),s=Rw(i,1,!0,s,l??null,u,m,v,A,D,G,te),s.context=Cw(null),l=s.current,u=Nr(),u=wr(u),m=js(u),m.callback=null,Ls(l,m,u),l=u,s.current.lanes=l,Bn(s,l),Vi(s),i[Re]=s.current,ag(i),new Lf(s)},pc.version="19.1.0",pc}var Kw;function eC(){if(Kw)return Cg.exports;Kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cg.exports=JR(),Cg.exports}var tC=eC(),gc={},Yw;function nC(){if(Yw)return gc;Yw=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.parse=c,gc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,x){const S=new o,I=w.length;if(I<2)return S;const M=(x==null?void 0:x.decode)||g;let R=0;do{const E=w.indexOf("=",R);if(E===-1)break;const C=w.indexOf(";",R),U=C===-1?I:C;if(E>U){R=w.lastIndexOf(";",E-1)+1;continue}const k=d(w,R,E),P=h(w,E,k),V=w.slice(k,P);if(S[V]===void 0){let O=d(w,E+1,U),N=h(w,U,O);const j=M(w.slice(O,N));S[V]=j}R=U+1}while(R<I);return S}function d(w,x,S){do{const I=w.charCodeAt(x);if(I!==32&&I!==9)return x}while(++x<S);return S}function h(w,x,S){for(;x>S;){const I=w.charCodeAt(--x);if(I!==32&&I!==9)return x+1}return S}function p(w,x,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=I(x);if(!e.test(M))throw new TypeError(`argument val is invalid: ${x}`);let R=w+"="+M;if(!S)return R;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);R+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);R+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);R+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);R+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(R+="; HttpOnly"),S.secure&&(R+="; Secure"),S.partitioned&&(R+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return R}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return a.call(w)==="[object Date]"}return gc}nC();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jT=n=>{throw TypeError(n)},rC=(n,e,t)=>e.has(n)||jT("Cannot "+t),Mg=(n,e,t)=>(rC(n,e,"read from private field"),t?t.call(n):e.get(n)),iC=(n,e,t)=>e.has(n)?jT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Xw="popstate";function sC(n={}){function e(r,a){let{pathname:o,search:c,hash:d}=r.location;return zc("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ra(a)}return oC(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function Ww(n,e){return{usr:n.state,key:n.key,idx:e}}function zc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:t,key:e&&e.key||r||aC()}}function Ra({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function oC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function _(){d="POP";let M=g(),R=M==null?null:M-p;p=M,h&&h({action:d,location:I.location,delta:R})}function w(M,R){d="PUSH";let E=zc(I.location,M,R);p=g()+1;let C=Ww(E,p),U=I.createHref(E);try{c.pushState(C,"",U)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(U)}o&&h&&h({action:d,location:I.location,delta:1})}function x(M,R){d="REPLACE";let E=zc(I.location,M,R);p=g();let C=Ww(E,p),U=I.createHref(E);c.replaceState(C,"",U),o&&h&&h({action:d,location:I.location,delta:0})}function S(M){let R=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof M=="string"?M:Ra(M);return E=E.replace(/ $/,"%20"),ut(R,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,R)}let I={get action(){return d},get location(){return n(a,c)},listen(M){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Xw,_),h=M,()=>{a.removeEventListener(Xw,_),h=null}},createHref(M){return e(a,M)},createURL:S,encodeLocation(M){let R=S(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:x,go(M){return c.go(M)}};return I}var xc,Zw=class{constructor(n){if(iC(this,xc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Mg(this,xc).has(n))return Mg(this,xc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Mg(this,xc).set(n,e)}};xc=new WeakMap;var lC=new Set(["lazy","caseSensitive","path","id","index","children"]);function uC(n){return lC.has(n)}var cC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function dC(n){return cC.has(n)}function fC(n){return n.index===!0}function yh(n,e,t=[],r={}){return n.map((a,o)=>{let c=[...t,String(o)],d=typeof a.id=="string"?a.id:c.join("-");if(ut(a.index!==!0||!a.children,"Cannot specify children on an index route"),ut(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),fC(a)){let h={...a,...e(a),id:d};return r[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return r[d]=h,a.children&&(h.children=yh(a.children,e,c,r)),h}})}function ia(n,e,t="/"){return nh(n,e,t,!1)}function nh(n,e,t,r){let a=typeof e=="string"?Pa(e):e,o=ni(a.pathname||"/",t);if(o==null)return null;let c=LT(n);mC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=SC(o);d=EC(c[h],p,r)}return d}function hC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function LT(n,e=[],t=[],r=""){let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(ut(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=qi([r,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),LT(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:wC(p,o.index),routesMeta:g})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of VT(o.path))a(o,c,h)}),e}function VT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=VT(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function mC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pC=/^:[\w-]+$/,gC=3,yC=2,vC=1,_C=10,bC=-2,Jw=n=>n==="*";function wC(n,e){let t=n.split("/"),r=t.length;return t.some(Jw)&&(r+=bC),e&&(r+=yC),t.filter(a=>!Jw(a)).reduce((a,o)=>a+(pC.test(o)?gC:o===""?vC:_C),r)}function xC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function EC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=vh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:qi([o,_.pathname]),pathnameBase:CC(qi([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=qi([o,_.pathnameBase]))}return c}function vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=TC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let S=d[w]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=d[w];return _&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function TC(n,e=!1,t=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function SC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Pa(n):n;return{pathname:t?t.startsWith("/")?t:RC(t,e):e,search:IC(r),hash:NC(a)}}function RC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dv(n){let e=zT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function fv(n,e,t,r=!1){let a;typeof n=="string"?a=Pa(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),Dg("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Dg("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Dg("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let h=AC(a,d),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var qi=n=>n.join("/").replace(/\/\/+/g,"/"),CC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_h=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Uc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var UT=["POST","PUT","PATCH","DELETE"],OC=new Set(UT),MC=["GET",...UT],DC=new Set(MC),PC=new Set([301,302,303,307,308]),kC=new Set([307,308]),Pg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),BT="remix-router-transitions",FT=Symbol("ResetLoaderData");function VC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||LC,o={},c=yh(n.routes,a,void 0,o),d,h=n.basename||"/",p=n.dataStrategy||qC,g={unstable_middleware:!1,...n.future},_=null,w=new Set,x=null,S=null,I=null,M=n.hydrationData!=null,R=ia(c,n.history.location,h),E=!1,C=null;if(R==null&&!n.patchRoutesOnNavigation){let $=ei(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=dx(c);R=W,C={[ee.id]:$}}R&&!n.hydrationData&&Qt(R,c,n.history.location.pathname).active&&(R=null);let U;if(R)if(R.some($=>$.route.lazy))U=!1;else if(!R.some($=>$.route.loader))U=!0;else{let $=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=R.findIndex(de=>W[de.route.id]!==void 0);U=R.slice(0,ee+1).every(de=>!hy(de.route,$,W))}else U=R.every(ee=>!hy(ee.route,$,W))}else{U=!1,R=[];let $=Qt(null,c,n.history.location.pathname);$.active&&$.matches&&(E=!0,R=$.matches)}let k,P={historyAction:n.history.action,location:n.history.location,matches:R,initialized:U,navigation:Pg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||C,fetchers:new Map,blockers:new Map},V="POP",O=!1,N,j=!1,B=new Map,H=null,z=!1,ye=!1,we=new Set,Q=new Map,oe=0,ae=-1,_e=new Map,F=new Set,se=new Map,ge=new Map,me=new Set,Se=new Map,Ve,Ee=null;function pe(){if(_=n.history.listen(({action:$,location:W,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}rn(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=qt({currentLocation:P.location,nextLocation:W,historyAction:$});if(de&&ee!=null){let ve=new Promise(Re=>{Ve=Re});n.history.go(ee*-1),ft(de,{state:"blocked",location:W,proceed(){ft(de,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ve.then(()=>n.history.go(ee))},reset(){let Re=new Map(P.blockers);Re.set(de,yc),Ze({blockers:Re})}});return}return Ft($,W)}),t){eI(e,B);let $=()=>tI(e,B);e.addEventListener("pagehide",$),H=()=>e.removeEventListener("pagehide",$)}return P.initialized||Ft("POP",P.location,{initialHydration:!0}),k}function Te(){_&&_(),H&&H(),w.clear(),N&&N.abort(),P.fetchers.forEach(($,W)=>$t(W)),P.blockers.forEach(($,W)=>Je(W))}function st($){return w.add($),()=>w.delete($)}function Ze($,W={}){P={...P,...$};let ee=[],de=[];P.fetchers.forEach((ve,Re)=>{ve.state==="idle"&&(me.has(Re)?ee.push(Re):de.push(Re))}),me.forEach(ve=>{!P.fetchers.has(ve)&&!Q.has(ve)&&ee.push(ve)}),[...w].forEach(ve=>ve(P,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(ve=>$t(ve)),de.forEach(ve=>P.fetchers.delete(ve))}function Nt($,W,{flushSync:ee}={}){var ke,Ue;let de=P.actionData!=null&&P.navigation.formMethod!=null&&Pr(P.navigation.formMethod)&&P.navigation.state==="loading"&&((ke=$.state)==null?void 0:ke._isRedirect)!==!0,ve;W.actionData?Object.keys(W.actionData).length>0?ve=W.actionData:ve=null:de?ve=P.actionData:ve=null;let Re=W.loaderData?ux(P.loaderData,W.loaderData,W.matches||[],W.errors):P.loaderData,ze=P.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((Pe,Fe)=>ze.set(Fe,yc)));let Ce=O===!0||P.navigation.formMethod!=null&&Pr(P.navigation.formMethod)&&((Ue=$.state)==null?void 0:Ue._isRedirect)!==!0;d&&(c=d,d=void 0),z||V==="POP"||(V==="PUSH"?n.history.push($,$.state):V==="REPLACE"&&n.history.replace($,$.state));let De;if(V==="POP"){let Pe=B.get(P.location.pathname);Pe&&Pe.has($.pathname)?De={currentLocation:P.location,nextLocation:$}:B.has($.pathname)&&(De={currentLocation:$,nextLocation:P.location})}else if(j){let Pe=B.get(P.location.pathname);Pe?Pe.add($.pathname):(Pe=new Set([$.pathname]),B.set(P.location.pathname,Pe)),De={currentLocation:P.location,nextLocation:$}}Ze({...W,actionData:ve,loaderData:Re,historyAction:V,location:$,initialized:!0,navigation:Pg,revalidation:"idle",restoreScrollPosition:Nn($,W.matches||P.matches),preventScrollReset:Ce,blockers:ze},{viewTransitionOpts:De,flushSync:ee===!0}),V="POP",O=!1,j=!1,z=!1,ye=!1,Ee==null||Ee.resolve(),Ee=null}async function Ht($,W){if(typeof $=="number"){n.history.go($);return}let ee=fy(P.location,P.matches,h,$,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:de,submission:ve,error:Re}=ex(!1,ee,W),ze=P.location,Ce=zc(P.location,de,W&&W.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let De=W&&W.replace!=null?W.replace:void 0,ke="PUSH";De===!0?ke="REPLACE":De===!1||ve!=null&&Pr(ve.formMethod)&&ve.formAction===P.location.pathname+P.location.search&&(ke="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Pe=(W&&W.flushSync)===!0,Fe=qt({currentLocation:ze,nextLocation:Ce,historyAction:ke});if(Fe){ft(Fe,{state:"blocked",location:Ce,proceed(){ft(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),Ht($,W)},reset(){let at=new Map(P.blockers);at.set(Fe,yc),Ze({blockers:at})}});return}await Ft(ke,Ce,{submission:ve,pendingError:Re,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Pe})}function hn(){Ee||(Ee=nI()),ii(),Ze({revalidation:"loading"});let $=Ee.promise;return P.navigation.state==="submitting"?$:P.navigation.state==="idle"?(Ft(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),$):(Ft(V||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:j===!0}),$)}async function Ft($,W,ee){N&&N.abort(),N=null,V=$,z=(ee&&ee.startUninterruptedRevalidation)===!0,Bn(P.location,P.matches),O=(ee&&ee.preventScrollReset)===!0,j=(ee&&ee.enableViewTransition)===!0;let de=d||c,ve=ee&&ee.overrideNavigation,Re=ee!=null&&ee.initialHydration&&P.matches&&P.matches.length>0&&!E?P.matches:ia(de,W,h),ze=(ee&&ee.flushSync)===!0;if(Re&&P.initialized&&!ye&&YC(P.location,W)&&!(ee&&ee.submission&&Pr(ee.submission.formMethod))){Nt(W,{matches:Re},{flushSync:ze});return}let Ce=Qt(Re,de,W.pathname);if(Ce.active&&Ce.matches&&(Re=Ce.matches),!Re){let{error:Et,notFoundMatches:ht,route:rt}=sn(W.pathname);Nt(W,{matches:ht,loaderData:{},errors:{[rt.id]:Et}},{flushSync:ze});return}N=new AbortController;let De=Tl(n.history,W,N.signal,ee&&ee.submission),ke=new Zw(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(ee&&ee.pendingError)Ue=[mo(Re).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Pr(ee.submission.formMethod)){let Et=await cr(De,W,ee.submission,Re,ke,Ce.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ze});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[ht,rt]=Et.pendingActionResult;if(Dr(rt)&&Uc(rt.error)&&rt.error.status===404){N=null,Nt(W,{matches:Et.matches,loaderData:{},errors:{[ht]:rt.error}});return}}Re=Et.matches||Re,Ue=Et.pendingActionResult,ve=kg(W,ee.submission),ze=!1,Ce.active=!1,De=Tl(n.history,De.url,De.signal)}let{shortCircuited:Pe,matches:Fe,loaderData:at,errors:At}=await Wn(De,W,Re,ke,Ce.active,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ze,Ue);Pe||(N=null,Nt(W,{matches:Fe||Re,...cx(Ue),loaderData:at,errors:At}))}async function cr($,W,ee,de,ve,Re,ze,Ce={}){ii();let De=ZC(W,ee);if(Ze({navigation:De},{flushSync:Ce.flushSync===!0}),Re){let Pe=await zr(de,W.pathname,$.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let Fe=mo(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,pendingActionResult:[Fe,{type:"error",error:Pe.error}]}}else if(Pe.matches)de=Pe.matches;else{let{notFoundMatches:Fe,error:at,route:At}=sn(W.pathname);return{matches:Fe,pendingActionResult:[At.id,{type:"error",error:at}]}}}let ke,Ue=Ec(de,W);if(!Ue.route.action&&!Ue.route.lazy)ke={type:"error",error:ei(405,{method:$.method,pathname:W.pathname,routeId:Ue.route.id})};else{let Pe=Dl(a,o,$,de,Ue,ze?[]:r,ve),Fe=await Jn($,Pe,ve,null);if(ke=Fe[Ue.route.id],!ke){for(let at of de)if(Fe[at.route.id]){ke=Fe[at.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(po(ke)){let Pe;return Ce&&Ce.replace!=null?Pe=Ce.replace:Pe=ax(ke.response.headers.get("Location"),new URL($.url),h)===P.location.pathname+P.location.search,await Zn($,ke,!0,{submission:ee,replace:Pe}),{shortCircuited:!0}}if(Dr(ke)){let Pe=mo(de,Ue.route.id);return(Ce&&Ce.replace)!==!0&&(V="PUSH"),{matches:de,pendingActionResult:[Pe.route.id,ke,Ue.route.id]}}return{matches:de,pendingActionResult:[Ue.route.id,ke]}}async function Wn($,W,ee,de,ve,Re,ze,Ce,De,ke,Ue,Pe){let Fe=Re||kg(W,ze),at=ze||Ce||hx(Fe),At=!z&&!ke;if(ve){if(At){let an=Xt(Pe);Ze({navigation:Fe,...an!==void 0?{actionData:an}:{}},{flushSync:Ue})}let Ke=await zr(ee,W.pathname,$.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let an=mo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[an]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:an,notFoundMatches:Er,route:fr}=sn(W.pathname);return{matches:Er,loaderData:{},errors:{[fr.id]:an}}}}let Et=d||c,{dsMatches:ht,revalidatingFetchers:rt}=tx($,de,a,o,n.history,P,ee,at,W,ke?[]:r,ke===!0,ye,we,me,se,F,Et,h,Pe);if(ae=++oe,!n.dataStrategy&&!ht.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=Vr();return Nt(W,{matches:ee,loaderData:{},errors:Pe&&Dr(Pe[1])?{[Pe[0]]:Pe[1].error}:null,...cx(Pe),...Ke?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(At){let Ke={};if(!ve){Ke.navigation=Fe;let an=Xt(Pe);an!==void 0&&(Ke.actionData=an)}rt.length>0&&(Ke.fetchers=bi(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{dr(Ke.key),Ke.controller&&Q.set(Ke.key,Ke.controller)});let Ur=()=>rt.forEach(Ke=>dr(Ke.key));N&&N.signal.addEventListener("abort",Ur);let{loaderResults:mn,fetcherResults:tr}=await Ei(ht,rt,$,de);if($.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ur),rt.forEach(Ke=>Q.delete(Ke.key));let On=Uf(mn);if(On)return await Zn($,On.result,!0,{replace:De}),{shortCircuited:!0};if(On=Uf(tr),On)return F.add(On.key),await Zn($,On.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Si,errors:xr}=lx(P,ee,mn,Pe,rt,tr);ke&&P.errors&&(xr={...P.errors,...xr});let Os=Vr(),Fn=Me(ae),nr=Os||Fn||rt.length>0;return{matches:ee,loaderData:Si,errors:xr,...nr?{fetchers:new Map(P.fetchers)}:{}}}function Xt($){if($&&!Dr($[1]))return{[$[0]]:$[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function bi($){return $.forEach(W=>{let ee=P.fetchers.get(W.key),de=vc(void 0,ee?ee.data:void 0);P.fetchers.set(W.key,de)}),new Map(P.fetchers)}async function wi($,W,ee,de){dr($);let ve=(de&&de.flushSync)===!0,Re=d||c,ze=fy(P.location,P.matches,h,ee,W,de==null?void 0:de.relative),Ce=ia(Re,ze,h),De=Qt(Ce,Re,ze);if(De.active&&De.matches&&(Ce=De.matches),!Ce){We($,W,ei(404,{pathname:ze}),{flushSync:ve});return}let{path:ke,submission:Ue,error:Pe}=ex(!0,ze,de);if(Pe){We($,W,Pe,{flushSync:ve});return}let Fe=Ec(Ce,ke),at=new Zw(n.unstable_getContext?await n.unstable_getContext():void 0),At=(de&&de.preventScrollReset)===!0;if(Ue&&Pr(Ue.formMethod)){await xi($,W,ke,Fe,Ce,at,De.active,ve,At,Ue);return}se.set($,{routeId:W,path:ke}),await ri($,W,ke,Fe,Ce,at,De.active,ve,At,Ue)}async function xi($,W,ee,de,ve,Re,ze,Ce,De,ke){ii(),se.delete($);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Br=ei(405,{method:ke.formMethod,pathname:ee,routeId:W});return We($,W,Br,{flushSync:Ce}),!0}return!1}if(!ze&&Ue(de))return;let Pe=P.fetchers.get($);yt($,JC(ke,Pe),{flushSync:Ce});let Fe=new AbortController,at=Tl(n.history,ee,Fe.signal,ke);if(ze){let Lt=await zr(ve,ee,at.signal,$);if(Lt.type==="aborted")return;if(Lt.type==="error"){We($,W,Lt.error,{flushSync:Ce});return}else if(Lt.matches){if(ve=Lt.matches,de=Ec(ve,ee),Ue(de))return}else{We($,W,ei(404,{pathname:ee}),{flushSync:Ce});return}}Q.set($,Fe);let At=oe,Et=Dl(a,o,at,ve,de,r,Re),rt=(await Jn(at,Et,Re,$))[de.route.id];if(at.signal.aborted){Q.get($)===Fe&&Q.delete($);return}if(me.has($)){if(po(rt)||Dr(rt)){yt($,na(void 0));return}}else{if(po(rt))if(Q.delete($),ae>At){yt($,na(void 0));return}else return F.add($),yt($,vc(ke)),Zn(at,rt,!1,{fetcherSubmission:ke,preventScrollReset:De});if(Dr(rt)){We($,W,rt.error);return}}let Ur=P.navigation.location||P.location,mn=Tl(n.history,Ur,Fe.signal),tr=d||c,On=P.navigation.state!=="idle"?ia(tr,P.navigation.location,h):P.matches;ut(On,"Didn't find any matches after fetcher action");let Si=++oe;_e.set($,Si);let xr=vc(ke,rt.data);P.fetchers.set($,xr);let{dsMatches:Os,revalidatingFetchers:Fn}=tx(mn,Re,a,o,n.history,P,On,ke,Ur,r,!1,ye,we,me,se,F,tr,h,[de.route.id,rt]);Fn.filter(Lt=>Lt.key!==$).forEach(Lt=>{let Br=Lt.key,Zi=P.fetchers.get(Br),Mn=vc(void 0,Zi?Zi.data:void 0);P.fetchers.set(Br,Mn),dr(Br),Lt.controller&&Q.set(Br,Lt.controller)}),Ze({fetchers:new Map(P.fetchers)});let nr=()=>Fn.forEach(Lt=>dr(Lt.key));Fe.signal.addEventListener("abort",nr);let{loaderResults:Ke,fetcherResults:an}=await Ei(Os,Fn,mn,Re);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",nr),_e.delete($),Q.delete($),Fn.forEach(Lt=>Q.delete(Lt.key));let Er=Uf(Ke);if(Er)return Zn(mn,Er.result,!1,{preventScrollReset:De});if(Er=Uf(an),Er)return F.add(Er.key),Zn(mn,Er.result,!1,{preventScrollReset:De});let{loaderData:fr,errors:Ai}=lx(P,On,Ke,void 0,Fn,an);if(P.fetchers.has($)){let Lt=na(rt.data);P.fetchers.set($,Lt)}Me(Si),P.navigation.state==="loading"&&Si>ae?(ut(V,"Expected pending action"),N&&N.abort(),Nt(P.navigation.location,{matches:On,loaderData:fr,errors:Ai,fetchers:new Map(P.fetchers)})):(Ze({errors:Ai,loaderData:ux(P.loaderData,fr,On,Ai),fetchers:new Map(P.fetchers)}),ye=!1)}async function ri($,W,ee,de,ve,Re,ze,Ce,De,ke){let Ue=P.fetchers.get($);yt($,vc(ke,Ue?Ue.data:void 0),{flushSync:Ce});let Pe=new AbortController,Fe=Tl(n.history,ee,Pe.signal);if(ze){let rt=await zr(ve,ee,Fe.signal,$);if(rt.type==="aborted")return;if(rt.type==="error"){We($,W,rt.error,{flushSync:Ce});return}else if(rt.matches)ve=rt.matches,de=Ec(ve,ee);else{We($,W,ei(404,{pathname:ee}),{flushSync:Ce});return}}Q.set($,Pe);let at=oe,At=Dl(a,o,Fe,ve,de,r,Re),ht=(await Jn(Fe,At,Re,$))[de.route.id];if(Q.get($)===Pe&&Q.delete($),!Fe.signal.aborted){if(me.has($)){yt($,na(void 0));return}if(po(ht))if(ae>at){yt($,na(void 0));return}else{F.add($),await Zn(Fe,ht,!1,{preventScrollReset:De});return}if(Dr(ht)){We($,W,ht.error);return}yt($,na(ht.data))}}async function Zn($,W,ee,{submission:de,fetcherSubmission:ve,preventScrollReset:Re,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Ce=W.response.headers.get("Location");ut(Ce,"Expected a Location header on the redirect Response"),Ce=ax(Ce,new URL($.url),h);let De=zc(P.location,Ce,{_isRedirect:!0});if(t){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(hv.test(Ce)){const Et=n.history.createURL(Ce);At=Et.origin!==e.location.origin||ni(Et.pathname,h)==null}if(At){ze?e.location.replace(Ce):e.location.assign(Ce);return}}N=null;let ke=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:Pe,formEncType:Fe}=P.navigation;!de&&!ve&&Ue&&Pe&&Fe&&(de=hx(P.navigation));let at=de||ve;if(kC.has(W.response.status)&&at&&Pr(at.formMethod))await Ft(ke,De,{submission:{...at,formAction:Ce},preventScrollReset:Re||O,enableViewTransition:ee?j:void 0});else{let At=kg(De,de);await Ft(ke,De,{overrideNavigation:At,fetcherSubmission:ve,preventScrollReset:Re||O,enableViewTransition:ee?j:void 0})}}async function Jn($,W,ee,de){let ve,Re={};try{ve=await HC(p,$,W,de,ee,!1)}catch(ze){return W.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Re[Ce.route.id]={type:"error",error:ze}}),Re}for(let[ze,Ce]of Object.entries(ve))if(XC(Ce)){let De=Ce.result;Re[ze]={type:"redirect",response:QC(De,$,ze,W,h)}}else Re[ze]=await $C(Ce);return Re}async function Ei($,W,ee,de){let ve=Jn(ee,$,de,null),Re=Promise.all(W.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let Ue=(await Jn(De.request,De.matches,de,De.key))[De.match.route.id];return{[De.key]:Ue}}else return Promise.resolve({[De.key]:{type:"error",error:ei(404,{pathname:De.path})}})})),ze=await ve,Ce=(await Re).reduce((De,ke)=>Object.assign(De,ke),{});return{loaderResults:ze,fetcherResults:Ce}}function ii(){ye=!0,se.forEach(($,W)=>{Q.has(W)&&we.add(W),dr(W)})}function yt($,W,ee={}){P.fetchers.set($,W),Ze({fetchers:new Map(P.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We($,W,ee,de={}){let ve=mo(P.matches,W);$t($),Ze({errors:{[ve.route.id]:ee},fetchers:new Map(P.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function wn($){return ge.set($,(ge.get($)||0)+1),me.has($)&&me.delete($),P.fetchers.get($)||jC}function $t($){let W=P.fetchers.get($);Q.has($)&&!(W&&W.state==="loading"&&_e.has($))&&dr($),se.delete($),_e.delete($),F.delete($),me.delete($),we.delete($),P.fetchers.delete($)}function Wi($){let W=(ge.get($)||0)-1;W<=0?(ge.delete($),me.add($)):ge.set($,W),Ze({fetchers:new Map(P.fetchers)})}function dr($){let W=Q.get($);W&&(W.abort(),Q.delete($))}function Lr($){for(let W of $){let ee=wn(W),de=na(ee.data);P.fetchers.set(W,de)}}function Vr(){let $=[],W=!1;for(let ee of F){let de=P.fetchers.get(ee);ut(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(F.delete(ee),$.push(ee),W=!0)}return Lr($),W}function Me($){let W=[];for(let[ee,de]of _e)if(de<$){let ve=P.fetchers.get(ee);ut(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(dr(ee),_e.delete(ee),W.push(ee))}return Lr(W),W.length>0}function Oe($,W){let ee=P.blockers.get($)||yc;return Se.get($)!==W&&Se.set($,W),ee}function Je($){P.blockers.delete($),Se.delete($)}function ft($,W){let ee=P.blockers.get($)||yc;ut(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let de=new Map(P.blockers);de.set($,W),Ze({blockers:de})}function qt({currentLocation:$,nextLocation:W,historyAction:ee}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let de=Array.from(Se.entries()),[ve,Re]=de[de.length-1],ze=P.blockers.get(ve);if(!(ze&&ze.state==="proceeding")&&Re({currentLocation:$,nextLocation:W,historyAction:ee}))return ve}function sn($){let W=ei(404,{pathname:$}),ee=d||c,{matches:de,route:ve}=dx(ee);return{notFoundMatches:de,route:ve,error:W}}function er($,W,ee){if(x=$,I=W,S=ee||null,!M&&P.navigation===Pg){M=!0;let de=Nn(P.location,P.matches);de!=null&&Ze({restoreScrollPosition:de})}return()=>{x=null,I=null,S=null}}function In($,W){return S&&S($,W.map(de=>hC(de,P.loaderData)))||$.key}function Bn($,W){if(x&&I){let ee=In($,W);x[ee]=I()}}function Nn($,W){if(x){let ee=In($,W),de=x[ee];if(typeof de=="number")return de}return null}function Qt($,W,ee){if(n.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:nh(W,ee,h,!0)}}else return{active:!0,matches:nh(W,ee,h,!0)||[]};return{active:!1,matches:null}}async function zr($,W,ee,de){if(!n.patchRoutesOnNavigation)return{type:"success",matches:$};let ve=$;for(;;){let Re=d==null,ze=d||c,Ce=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:ve,fetcherKey:de,patch:(Ue,Pe)=>{ee.aborted||nx(Ue,Pe,ze,Ce,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:ve}}finally{Re&&!ee.aborted&&(c=[...c])}if(ee.aborted)return{type:"aborted"};let De=ia(ze,W,h);if(De)return{type:"success",matches:De};let ke=nh(ze,W,h,!0);if(!ke||ve.length===ke.length&&ve.every((Ue,Pe)=>Ue.route.id===ke[Pe].route.id))return{type:"success",matches:null};ve=ke}}function wr($){o={},d=yh($,a,void 0,o)}function Ti($,W){let ee=d==null;nx($,W,d||c,o,a),ee&&(c=[...c],Ze({}))}return k={get basename(){return h},get future(){return g},get state(){return P},get routes(){return c},get window(){return e},initialize:pe,subscribe:st,enableScrollRestoration:er,navigate:Ht,fetch:wi,revalidate:hn,createHref:$=>n.history.createHref($),encodeLocation:$=>n.history.encodeLocation($),getFetcher:wn,deleteFetcher:Wi,dispose:Te,getBlocker:Oe,deleteBlocker:Je,patchRoutes:Ti,_internalFetchControllers:Q,_internalSetRoutes:wr},k}function zC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function fy(n,e,t,r,a,o){let c,d;if(a){c=[];for(let p of e)if(c.push(p),p.route.id===a){d=p;break}}else c=e,d=e[e.length-1];let h=fv(r||".",dv(c),ni(n.pathname,t)||n.pathname,o==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&d){let p=mv(h.search);if(d.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(h.search),_=g.getAll("index");g.delete("index"),_.filter(x=>x).forEach(x=>g.append("index",x));let w=g.toString();h.search=w?`?${w}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:qi([t,h.pathname])),Ra(h)}function ex(n,e,t){if(!t||!zC(t))return{path:e};if(t.formMethod&&!WC(t.formMethod))return{path:e,error:ei(405,{method:t.formMethod})};let r=()=>({path:e,error:ei(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),c=KT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Pr(o))return r();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[x,S])=>`${w}${x}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!Pr(o))return r();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}ut(typeof FormData=="function","FormData is not available in this environment");let d,h;if(t.formData)d=py(t.formData),h=t.formData;else if(t.body instanceof FormData)d=py(t.body),h=t.body;else if(t.body instanceof URLSearchParams)d=t.body,h=ox(d);else if(t.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(t.body),h=ox(d)}catch{return r()}let p={formMethod:o,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Pr(p.formMethod))return{path:e,submission:p};let g=Pa(e);return n&&g.search&&mv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Ra(g),submission:p}}function tx(n,e,t,r,a,o,c,d,h,p,g,_,w,x,S,I,M,R,E){var H;let C=E?Dr(E[1])?E[1].error:E[1].data:void 0,U=a.createURL(o.location),k=a.createURL(h),P;if(g&&o.errors){let z=Object.keys(o.errors)[0];P=c.findIndex(ye=>ye.route.id===z)}else if(E&&Dr(E[1])){let z=E[0];P=c.findIndex(ye=>ye.route.id===z)-1}let V=E?E[1].statusCode:void 0,O=V&&V>=400,N={currentUrl:U,currentParams:((H=o.matches[0])==null?void 0:H.params)||{},nextUrl:k,nextParams:c[0].params,...d,actionResult:C,actionStatus:V},j=c.map((z,ye)=>{let{route:we}=z,Q=null;if(P!=null&&ye>P?Q=!1:we.lazy?Q=!0:we.loader==null?Q=!1:g?Q=hy(we,o.loaderData,o.errors):UC(o.loaderData,o.matches[ye],z)&&(Q=!0),Q!==null)return my(t,r,n,z,p,e,Q);let oe=O?!1:_||U.pathname+U.search===k.pathname+k.search||U.search!==k.search||BC(o.matches[ye],z),ae={...N,defaultShouldRevalidate:oe},_e=bh(z,ae);return my(t,r,n,z,p,e,_e,ae)}),B=[];return S.forEach((z,ye)=>{if(g||!c.some(se=>se.route.id===z.routeId)||x.has(ye))return;let we=ia(M,z.path,R);if(!we){B.push({key:ye,routeId:z.routeId,path:z.path,matches:null,match:null,request:null,controller:null});return}if(I.has(ye))return;let Q=o.fetchers.get(ye),oe=Ec(we,z.path),ae=new AbortController,_e=Tl(a,z.path,ae.signal),F=null;if(w.has(ye))w.delete(ye),F=Dl(t,r,_e,we,oe,p,e);else if(Q&&Q.state!=="idle"&&Q.data===void 0)_&&(F=Dl(t,r,_e,we,oe,p,e));else{let se={...N,defaultShouldRevalidate:O?!1:_};bh(oe,se)&&(F=Dl(t,r,_e,we,oe,p,e,se))}F&&B.push({key:ye,routeId:z.routeId,path:z.path,matches:F,match:oe,request:_e,controller:ae})}),{dsMatches:j,revalidatingFetchers:B}}function hy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function UC(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function BC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function bh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function nx(n,e,t,r,a){let o;if(n){let h=r[n];ut(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let c=e.filter(h=>!o.some(p=>qT(h,p))),d=yh(c,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function qT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>qT(t,o))}):!1}var rx=new WeakMap,HT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ut(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let c=rx.get(a);c||(c={},rx.set(a,c));let d=c[n];if(d)return d;let h=(async()=>{let p=uC(n),_=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)rn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(_)rn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(a,{[n]:w}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return c[n]=h,h},ix=new WeakMap;function FC(n,e,t,r,a){let o=t[n.id];if(ut(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=ix.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let _=(async()=>{ut(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),x={};for(let S in w){let I=w[S];if(I===void 0)continue;let M=dC(S),E=o[S]!==void 0&&S!=="hasErrorBoundary";M?rn(!M,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?rn(!E,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):x[S]=I}Object.assign(o,x),Object.assign(o,{...r(o),lazy:void 0})})();return ix.set(o,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(n.lazy),d=[],h;for(let g of c){if(a&&a.includes(g))continue;let _=HT({key:g,route:n,manifest:t,mapRouteProperties:r});_&&(d.push(_),g===e&&(h=_))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:h}}async function sx(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function qC(n){return n.matches.some(e=>e.route.unstable_middleware)?GT(n,!1,()=>sx(n),(e,t)=>({[t]:{type:"error",result:e}})):sx(n)}async function GT(n,e,t,r){let{matches:a,request:o,params:c,context:d}=n,h={handlerResult:void 0};try{let p=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(w=>[_.route.id,w]):[]),g=await $T({request:o,params:c,context:d},p,e,h,t);return e?g:h.handlerResult}catch(p){if(!h.middlewareError)throw p;let g=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}}async function $T(n,e,t,r,a,o=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[o];if(!d)return r.handlerResult=await a(),r.handlerResult;let[h,p]=d,g=!1,_,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await $T(n,e,t,r,a,o+1)};try{let x=await p({request:n.request,params:n.params,context:n.context},w);return g?x===void 0?_:x:w()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:h,error:x}):r.middlewareError={routeId:h,error:x},x}}function QT(n,e,t,r,a){let o=HT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),c=FC(r.route,Pr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function my(n,e,t,r,a,o,c,d=null){let h=!1,p=QT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?bh(r,{...d,defaultShouldRevalidate:g}):bh(r,d):c},resolve(g){return h||c||g&&t.method==="GET"&&(r.route.lazy||r.route.loader)?GC({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Dl(n,e,t,r,a,o,c,d=null){return r.map(h=>h.route.id!==a.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:QT(n,e,t,h,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:my(n,e,t,h,o,c,!0,d))}async function HC(n,e,t,r,a,o){t.some(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware}));let c={request:e,params:t[0].params,context:a,matches:t},h=await n({...c,fetcherKey:r,unstable_runClientMiddleware:p=>{let g=c;return GT(g,!1,()=>p({...g,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,w)=>({[w]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(p=>{var g,_;return[(g=p._lazyPromises)==null?void 0:g.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return h}async function GC({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let c,d,h=Pr(n.method),p=h?"action":"loader",g=_=>{let w,x=new Promise((M,R)=>w=R);d=()=>w(),n.signal.addEventListener("abort",d);let S=M=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:o},...M!==void 0?[M]:[]),I=(async()=>{try{return{type:"data",result:await(a?a(R=>S(R)):S())}}catch(M){return{type:"error",result:M}}})();return Promise.race([I,x])};try{let _=h?e.route.action:e.route.loader;if(t||r)if(_){let w,[x]=await Promise.all([g(_).catch(S=>{w=S}),t,r]);if(w!==void 0)throw w;c=x}else{await t;let w=h?e.route.action:e.route.loader;if(w)[c]=await Promise.all([g(w),r]);else if(p==="action"){let x=new URL(n.url),S=x.pathname+x.search;throw ei(405,{method:n.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await g(_);else{let w=new URL(n.url),x=w.pathname+w.search;throw ei(404,{pathname:x})}}catch(_){return{type:"error",result:_}}finally{d&&n.signal.removeEventListener("abort",d)}return c}async function $C(n){var r,a,o,c,d,h;let{result:e,type:t}=n;if(YT(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new _h(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?fx(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Uc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Uc(e)?e.status:void 0}:fx(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function QC(n,e,t,r,a){let o=n.headers.get("Location");if(ut(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!hv.test(o)){let c=r.slice(0,r.findIndex(d=>d.route.id===t)+1);o=fy(new URL(e.url),c,a,o),n.headers.set("Location",o)}return n}function ax(n,e,t){if(hv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ni(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Tl(n,e,t,r){let a=n.createURL(KT(e)).toString(),o={signal:t};if(r&&Pr(r.formMethod)){let{formMethod:c,formEncType:d}=r;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=py(r.formData):o.body=r.formData}return new Request(a,o)}function py(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function ox(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function KC(n,e,t,r=!1,a=!1){let o={},c=null,d,h=!1,p={},g=t&&Dr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let w=_.route.id,x=e[w];if(ut(!po(x),"Cannot handle redirect results in processLoaderData"),Dr(x)){let S=x.error;if(g!==void 0&&(S=g,g=void 0),c=c||{},a)c[w]=S;else{let I=mo(n,w);c[I.route.id]==null&&(c[I.route.id]=S)}r||(o[w]=FT),h||(h=!0,d=Uc(x.error)?x.error.status:500),x.headers&&(p[w]=x.headers)}else o[w]=x.data,x.statusCode&&x.statusCode!==200&&!h&&(d=x.statusCode),x.headers&&(p[w]=x.headers)}),g!==void 0&&t&&(c={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:p}}function lx(n,e,t,r,a,o){let{loaderData:c,errors:d}=KC(e,t,r);return a.filter(h=>!h.matches||h.matches.some(p=>p.shouldLoad)).forEach(h=>{let{key:p,match:g,controller:_}=h,w=o[p];if(ut(w,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Dr(w)){let x=mo(n.matches,g==null?void 0:g.route.id);d&&d[x.route.id]||(d={...d,[x.route.id]:w.error}),n.fetchers.delete(p)}else if(po(w))ut(!1,"Unhandled fetcher revalidation redirect");else{let x=na(w.data);n.fetchers.set(p,x)}}),{loaderData:c,errors:d}}function ux(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==FT).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of t){let c=o.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&o.route.loader&&(a[c]=n[c]),r&&r.hasOwnProperty(c))break}return a}function cx(n){return n?Dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function mo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function dx(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ei(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new _h(n||500,c,new Error(d),!0)}function Uf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(po(a))return{key:r,result:a}}}function KT(n){let e=typeof n=="string"?Pa(n):n;return Ra({...e,hash:""})}function YC(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function XC(n){return YT(n.result)&&PC.has(n.result.status)}function Dr(n){return n.type==="error"}function po(n){return(n&&n.type)==="redirect"}function fx(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function YT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WC(n){return DC.has(n.toUpperCase())}function Pr(n){return OC.has(n.toUpperCase())}function mv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ec(n,e){let t=typeof e=="string"?Pa(e).search:e.search;if(n[n.length-1].route.index&&mv(t||""))return n[n.length-1];let r=zT(n);return r[r.length-1]}function hx(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:c}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:c,text:void 0}}}function kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZC(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function JC(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function na(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function eI(n,e){try{let t=n.sessionStorage.getItem(BT);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function tI(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(BT,JSON.stringify(t))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function nI(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Po=q.createContext(null);Po.displayName="DataRouter";var ad=q.createContext(null);ad.displayName="DataRouterState";var pv=q.createContext({isTransitioning:!1});pv.displayName="ViewTransition";var XT=q.createContext(new Map);XT.displayName="Fetchers";var rI=q.createContext(null);rI.displayName="Await";var Xi=q.createContext(null);Xi.displayName="Navigation";var Wh=q.createContext(null);Wh.displayName="Location";var _i=q.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var gv=q.createContext(null);gv.displayName="RouteError";function iI(n,{relative:e}={}){ut(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xi),{hash:a,pathname:o,search:c}=ld(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:qi([t,o])),r.createHref({pathname:d,search:c,hash:a})}function od(){return q.useContext(Wh)!=null}function ka(){return ut(od(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Wh).location}var WT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZT(n){q.useContext(Xi).static||q.useLayoutEffect(n)}function JT(){let{isDataRoute:n}=q.useContext(_i);return n?_I():sI()}function sI(){ut(od(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Po),{basename:e,navigator:t}=q.useContext(Xi),{matches:r}=q.useContext(_i),{pathname:a}=ka(),o=JSON.stringify(dv(r)),c=q.useRef(!1);return ZT(()=>{c.current=!0}),q.useCallback((h,p={})=>{if(rn(c.current,WT),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=fv(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,n])}var aI=q.createContext(null);function oI(n){let e=q.useContext(_i).outlet;return e&&q.createElement(aI.Provider,{value:n},e)}function yv(){let{matches:n}=q.useContext(_i),e=n[n.length-1];return e?e.params:{}}function ld(n,{relative:e}={}){let{matches:t}=q.useContext(_i),{pathname:r}=ka(),a=JSON.stringify(dv(t));return q.useMemo(()=>fv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function lI(n,e,t,r){ut(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Xi),{matches:c}=q.useContext(_i),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",_=d&&d.route;{let E=_&&_.path||"";e1(p,!_||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let w=ka(),x;x=w;let S=x.pathname||"/",I=S;if(g!=="/"){let E=g.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let M=!o&&t&&t.matches&&t.matches.length>0?t.matches:ia(n,{pathname:I});return rn(_||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),rn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),hI(M&&M.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:qi([g,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:qi([g,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,t,r)}function uI(){let n=vI(),e=Uc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,c)}var cI=q.createElement(uI,null),dI=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(_i.Provider,{value:this.props.routeContext},q.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:n,match:e,children:t}){let r=q.useContext(Po);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(_i.Provider,{value:n},t)}function hI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ut(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:_}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let _,w=!1,x=null,S=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||cI,c&&(d<0&&g===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===g&&(w=!0,S=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,g+1)),M=()=>{let R;return _?R=x:w?R=S:p.route.Component?R=q.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=h,q.createElement(fI,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?q.createElement(dI,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:M(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):M()},null)}function vv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let e=q.useContext(Po);return ut(e,vv(n)),e}function pI(n){let e=q.useContext(ad);return ut(e,vv(n)),e}function gI(n){let e=q.useContext(_i);return ut(e,vv(n)),e}function _v(n){let e=gI(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function yI(){return _v("useRouteId")}function vI(){var r;let n=q.useContext(gv),e=pI("useRouteError"),t=_v("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _I(){let{router:n}=mI("useNavigate"),e=_v("useNavigate"),t=q.useRef(!1);return ZT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{rn(t.current,WT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var mx={};function e1(n,e,t){!e&&!mx[n]&&(mx[n]=!0,rn(!1,t))}var px={};function gx(n,e){!n&&!px[e]&&(px[e]=!0,console.warn(e))}function bI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var wI=["HydrateFallback","hydrateFallbackElement"],xI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function EI({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[c,d]=q.useState({isTransitioning:!1}),[h,p]=q.useState(),[g,_]=q.useState(),[w,x]=q.useState(),S=q.useRef(new Map),I=q.useCallback((C,{deletedFetchers:U,flushSync:k,viewTransitionOpts:P})=>{C.fetchers.forEach((O,N)=>{O.data!==void 0&&S.current.set(N,O.data)}),U.forEach(O=>S.current.delete(O)),gx(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(gx(P==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!V){e&&k?e(()=>r(C)):q.startTransition(()=>r(C));return}if(e&&k){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let O=n.window.document.startViewTransition(()=>{e(()=>r(C))});O.finished.finally(()=>{e(()=>{p(void 0),_(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>_(O));return}g?(h&&h.resolve(),g.skipTransition(),x({state:C,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(o(C),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,e,g,h]);q.useLayoutEffect(()=>n.subscribe(I),[n,I]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new xI)},[c]),q.useEffect(()=>{if(h&&a&&n.window){let C=a,U=h.promise,k=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(C)),await U});k.finished.finally(()=>{p(void 0),_(void 0),o(void 0),d({isTransitioning:!1})}),_(k)}},[a,h,n.window]),q.useEffect(()=>{h&&a&&t.location.key===a.location.key&&h.resolve()},[h,g,t.location,a]),q.useEffect(()=>{!c.isTransitioning&&w&&(o(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[c.isTransitioning,w]);let M=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,U,k)=>n.navigate(C,{state:U,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(C,U,k)=>n.navigate(C,{replace:!0,state:U,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),R=n.basename||"/",E=q.useMemo(()=>({router:n,navigator:M,static:!1,basename:R}),[n,M,R]);return q.createElement(q.Fragment,null,q.createElement(Po.Provider,{value:E},q.createElement(ad.Provider,{value:t},q.createElement(XT.Provider,{value:S.current},q.createElement(pv.Provider,{value:c},q.createElement(RI,{basename:R,location:t.location,navigationType:t.historyAction,navigator:M},q.createElement(TI,{routes:n.routes,future:n.future,state:t})))))),null)}var TI=q.memo(SI);function SI({routes:n,future:e,state:t}){return lI(n,void 0,t,e)}function AI(n){return oI(n.context)}function RI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ut(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Pa(t));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:w="default"}=t,x=q.useMemo(()=>{let S=ni(h,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:_,key:w},navigationType:r}},[c,h,p,g,_,w,r]);return rn(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:q.createElement(Xi.Provider,{value:d},q.createElement(Wh.Provider,{children:e,value:x}))}var rh="get",ih="application/x-www-form-urlencoded";function Zh(n){return n!=null&&typeof n.tagName=="string"}function CI(n){return Zh(n)&&n.tagName.toLowerCase()==="button"}function II(n){return Zh(n)&&n.tagName.toLowerCase()==="form"}function NI(n){return Zh(n)&&n.tagName.toLowerCase()==="input"}function OI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MI(n,e){return n.button===0&&(!e||e==="_self")&&!OI(n)}function gy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function DI(n,e){let t=gy(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Bf=null;function PI(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(n){return n!=null&&!kI.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):n}function jI(n,e){let t,r,a,o,c;if(II(n)){let d=n.getAttribute("action");r=d?ni(d,e):null,t=n.getAttribute("method")||rh,a=jg(n.getAttribute("enctype"))||ih,o=new FormData(n)}else if(CI(n)||NI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(r=h?ni(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||rh,a=jg(n.getAttribute("formenctype"))||jg(d.getAttribute("enctype"))||ih,o=new FormData(d,n),!PI()){let{name:p,type:g,value:_}=n;if(g==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,_)}}else{if(Zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,r=null,a=ih,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}function bv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zI(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await LI(o,t);return c.links?c.links():[]}return[]}));return qI(r.flat(1).filter(VI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yx(n,e,t,r,a,o){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var _;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function UI(n,e,{includeHydrateFallback:t}={}){return BI(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function BI(n){return[...new Set(n)]}function FI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qI(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(FI(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var HI=new Set([100,101,204,205]);function GI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ni(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function t1(){let n=q.useContext(Po);return bv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $I(){let n=q.useContext(ad);return bv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wv=q.createContext(void 0);wv.displayName="FrameworkContext";function n1(){let n=q.useContext(wv);return bv(n,"You must render this element inside a <HydratedRouter> element"),n}function QI(n,e){let t=q.useContext(wv),[r,a]=q.useState(!1),[o,c]=q.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=R=>{R.forEach(E=>{c(E.isIntersecting)})},M=new IntersectionObserver(I,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[n]),q.useEffect(()=>{if(r){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[r]);let x=()=>{a(!0)},S=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:_c(d,x),onBlur:_c(h,S),onMouseEnter:_c(p,x),onMouseLeave:_c(g,S),onTouchStart:_c(_,x)}]:[!1,w,{}]}function _c(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KI({page:n,...e}){let{router:t}=t1(),r=q.useMemo(()=>ia(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(XI,{page:n,matches:r,...e}):null}function YI(n){let{manifest:e,routeModules:t}=n1(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return zI(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function XI({page:n,matches:e,...t}){let r=ka(),{manifest:a,routeModules:o}=n1(),{basename:c}=t1(),{loaderData:d,matches:h}=$I(),p=q.useMemo(()=>yx(n,e,h,a,r,"data"),[n,e,h,a,r]),g=q.useMemo(()=>yx(n,e,h,a,r,"assets"),[n,e,h,a,r]),_=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,I=!1;if(e.forEach(R=>{var C;let E=a.routes[R.route.id];!E||!E.hasLoader||(!p.some(U=>U.route.id===R.route.id)&&R.route.id in d&&((C=o[R.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?I=!0:S.add(R.route.id))}),S.size===0)return[];let M=GI(n,c);return I&&S.size>0&&M.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[c,d,r,a,p,e,n,o]),w=q.useMemo(()=>UI(g,a),[g,a]),x=YI(g);return q.createElement(q.Fragment,null,_.map(S=>q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),w.map(S=>q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:I})=>q.createElement("link",{key:S,...I})))}function WI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r1&&(window.__reactRouterVersion="7.5.3")}catch{}function ZI(n,e){return VC({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:sC({window:e==null?void 0:e.window}),hydrationData:JI(),routes:n,mapRouteProperties:bI,hydrationRouteProperties:wI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function JI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:eN(n.errors)}),n}function eN(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new _h(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let c=new o(a.message);c.stack="",t[r]=c}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:_,...w},x){let{basename:S}=q.useContext(Xi),I=typeof p=="string"&&i1.test(p),M,R=!1;if(typeof p=="string"&&I&&(M=p,r1))try{let N=new URL(window.location.href),j=p.startsWith("//")?new URL(N.protocol+p):new URL(p),B=ni(j.pathname,S);j.origin===N.origin&&B!=null?p=B+j.search+j.hash:R=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=iI(p,{relative:a}),[C,U,k]=QI(r,w),P=iN(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:_});function V(N){e&&e(N),N.defaultPrevented||P(N)}let O=q.createElement("a",{...w,...k,href:M||E,onClick:R||o?e:V,ref:WI(x,U),target:h,"data-discover":!I&&t==="render"?"true":void 0});return C&&!I?q.createElement(q.Fragment,null,O,q.createElement(KI,{page:E})):O});gt.displayName="Link";var tN=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...p},g){let _=ld(c,{relative:p.relative}),w=ka(),x=q.useContext(ad),{navigator:S,basename:I}=q.useContext(Xi),M=x!=null&&cN(_)&&d===!0,R=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,E=w.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(E=E.toLowerCase(),C=C?C.toLowerCase():null,R=R.toLowerCase()),C&&I&&(C=ni(C,I)||C);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let k=E===R||!a&&E.startsWith(R)&&E.charAt(U)==="/",P=C!=null&&(C===R||!a&&C.startsWith(R)&&C.charAt(R.length)==="/"),V={isActive:k,isPending:P,isTransitioning:M},O=k?e:void 0,N;typeof r=="function"?N=r(V):N=[r,k?"active":null,P?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(V):o;return q.createElement(gt,{...p,"aria-current":O,className:N,ref:g,style:j,to:c,viewTransition:d},typeof h=="function"?h(V):h)});tN.displayName="NavLink";var nN=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=rh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...w},x)=>{let S=lN(),I=uN(d,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&i1.test(d),E=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let U=C.nativeEvent.submitter,k=(U==null?void 0:U.getAttribute("formmethod"))||c;S(U||C.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:_})};return q.createElement("form",{ref:x,method:M,action:I,onSubmit:r?h:E,...w,"data-discover":!R&&n==="render"?"true":void 0})});nN.displayName="Form";function rN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(n){let e=q.useContext(Po);return ut(e,rN(n)),e}function iN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=JT(),h=ka(),p=ld(n,{relative:o});return q.useCallback(g=>{if(MI(g,e)){g.preventDefault();let _=t!==void 0?t:Ra(h)===Ra(p);d(n,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,p,t,r,e,n,a,o,c])}function sN(n){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(gy(n)),t=q.useRef(!1),r=ka(),a=q.useMemo(()=>DI(r.search,t.current?null:e.current),[r.search]),o=JT(),c=q.useCallback((d,h)=>{const p=gy(typeof d=="function"?d(a):d);t.current=!0,o("?"+p,h)},[o,a]);return[a,c]}var aN=0,oN=()=>`__${String(++aN)}__`;function lN(){let{router:n}=s1("useSubmit"),{basename:e}=q.useContext(Xi),t=yI();return q.useCallback(async(r,a={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=jI(r,e);if(a.navigate===!1){let g=a.fetcherKey||oN();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function uN(n,{relative:e}={}){let{basename:t}=q.useContext(Xi),r=q.useContext(_i);ut(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...ld(n||".",{relative:e})},c=ka();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qi([t,o.pathname])),Ra(o)}function cN(n,e={}){let t=q.useContext(pv);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=s1("useViewTransitionState"),a=ld(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ni(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ni(t.nextLocation.pathname,r)||t.nextLocation.pathname;return vh(a.pathname,c)!=null||vh(a.pathname,o)!=null}new TextEncoder;[...HI];var dN=kT();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fN(n){return q.createElement(EI,{flushSync:dN.flushSync,...n})}var Ff={},vx;function hN(){if(vx)return Ff;vx=1;function n(o){if(typeof window>"u")return;const c=document.createElement("style");return c.setAttribute("type","text/css"),c.innerHTML=o,document.head.appendChild(c),o}Object.defineProperty(Ff,"__esModule",{value:!0});var e=Xh();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:c={},className:d="",autoFill:h=!1,play:p=!0,pauseOnHover:g=!1,pauseOnClick:_=!1,direction:w="left",speed:x=50,delay:S=0,loop:I=0,gradient:M=!1,gradientColor:R="white",gradientWidth:E=200,onFinish:C,onCycleComplete:U,onMount:k,children:P},V){const[O,N]=e.useState(0),[j,B]=e.useState(0),[H,z]=e.useState(1),[ye,we]=e.useState(!1),Q=e.useRef(null),oe=V||Q,ae=e.useRef(null),_e=e.useCallback(()=>{if(ae.current&&oe.current){const Ee=oe.current.getBoundingClientRect(),pe=ae.current.getBoundingClientRect();let Te=Ee.width,st=pe.width;(w==="up"||w==="down")&&(Te=Ee.height,st=pe.height),z(h&&Te&&st&&st<Te?Math.ceil(Te/st):1),N(Te),B(st)}},[h,oe,w]);e.useEffect(()=>{if(ye&&(_e(),ae.current&&oe.current)){const Ee=new ResizeObserver(()=>_e());return Ee.observe(oe.current),Ee.observe(ae.current),()=>{Ee&&Ee.disconnect()}}},[_e,oe,ye]),e.useEffect(()=>{_e()},[_e,P]),e.useEffect(()=>{we(!0)},[]),e.useEffect(()=>{typeof k=="function"&&k()},[]);const F=e.useMemo(()=>h?j*H/x:j<O?O/x:j/x,[h,O,j,H,x]),se=e.useMemo(()=>Object.assign(Object.assign({},c),{"--pause-on-hover":!p||g?"paused":"running","--pause-on-click":!p||g&&!_||_?"paused":"running","--width":w==="up"||w==="down"?"100vh":"100%","--transform":w==="up"?"rotate(-90deg)":w==="down"?"rotate(90deg)":"none"}),[c,p,g,_,w]),ge=e.useMemo(()=>({"--gradient-color":R,"--gradient-width":typeof E=="number"?`${E}px`:E}),[R,E]),me=e.useMemo(()=>({"--play":p?"running":"paused","--direction":w==="left"?"normal":"reverse","--duration":`${F}s`,"--delay":`${S}s`,"--iteration-count":I?`${I}`:"infinite","--min-width":h?"auto":"100%"}),[p,w,F,S,I,h]),Se=e.useMemo(()=>({"--transform":w==="up"?"rotate(90deg)":w==="down"?"rotate(-90deg)":"none"}),[w]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((pe,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(P,st=>r.default.createElement("div",{style:Se,className:"rfm-child"},st)))),[Se,P]);return ye?r.default.createElement("div",{ref:oe,style:se,className:"rfm-marquee-container "+d},M&&r.default.createElement("div",{style:ge,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:me,onAnimationIteration:U,onAnimationEnd:C},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(P,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(H-1)),r.default.createElement("div",{className:"rfm-marquee",style:me},Ve(H))):null});return Ff.default=a,Ff}var mN=hN();const a1=PT(mN);var o1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_x=Ut.createContext&&Ut.createContext(o1),pN=["attr","size","title"];function gN(n,e){if(n==null)return{};var t=yN(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function yN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wh.apply(this,arguments)}function bx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(t),!0).forEach(function(r){vN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vN(n,e,t){return e=_N(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _N(n){var e=bN(n,"string");return typeof e=="symbol"?e:e+""}function bN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function l1(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,xh({key:t},e.attr),l1(e.child)))}function ud(n){return e=>Ut.createElement(wN,wh({attr:xh({},n.attr)},e),l1(n.child))}function wN(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=gN(n,pN),d=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ut.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:xh(xh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return _x!==void 0?Ut.createElement(_x.Consumer,null,t=>e(t)):e(o1)}function xN(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function EN(n){return ud({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function wx(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function TN(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const SN=()=>{};var xx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},AN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,g=o>>2,_=(o&3)<<4|d>>4;let w=(d&15)<<2|p>>6,x=p&63;h||(x=64,c||(w=64)),r.push(t[g],t[_],t[w],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(u1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):AN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||_==null)throw new RN;const w=o<<2|d>>4;if(r.push(w),p!==64){const x=d<<4&240|p>>2;if(r.push(x),_!==64){const S=p<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CN=function(n){const e=u1(n);return c1.encodeByteArray(e,!0)},Eh=function(n){return CN(n).replace(/\./g,"")},d1=function(n){try{return c1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=()=>IN().__FIREBASE_DEFAULTS__,ON=()=>{if(typeof process>"u"||typeof xx>"u")return;const n=xx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&d1(n[1]);return e&&JSON.parse(e)},Jh=()=>{try{return SN()||NN()||ON()||MN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f1=n=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DN=n=>{const e=f1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},h1=()=>{var n;return(n=Jh())===null||n===void 0?void 0:n.config},m1=n=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function LN(){var n;const e=(n=Jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BN(){const n=Xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FN(){return!LN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qN(){try{return typeof indexedDB=="object"}catch{return!1}}function HN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="FirebaseError";class Ns extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=GN,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?$N(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ns(a,d,r)}}function $N(n,e){return n.replace(QN,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const QN=/\{\$([^}]+)}/g;function KN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ao(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Ex(o)&&Ex(c)){if(!Ao(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Ex(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Sc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YN(n,e){const t=new XN(n,e);return t.subscribe.bind(t)}class XN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");WN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Lg),a.error===void 0&&(a.error=Lg),a.complete===void 0&&(a.complete=Lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JN(n){return n===ho?void 0:n}function eO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const nO={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},rO=ct.INFO,iO={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},sO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=iO[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=rO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const aO=(n,e)=>e.some(t=>n instanceof t);let Tx,Sx;function oO(){return Tx||(Tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,yy=new WeakMap,g1=new WeakMap,Vg=new WeakMap,Ev=new WeakMap;function uO(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(wa(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&p1.set(t,n)}).catch(()=>{}),Ev.set(e,n),e}function cO(n){if(yy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});yy.set(n,e)}let vy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||g1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dO(n){vy=n(vy)}function fO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(zg(this),e,...t);return g1.set(r,e.sort?e.sort():[e]),wa(r)}:lO().includes(n)?function(...e){return n.apply(zg(this),e),wa(p1.get(this))}:function(...e){return wa(n.apply(zg(this),e))}}function hO(n){return typeof n=="function"?fO(n):(n instanceof IDBTransaction&&cO(n),aO(n,oO())?new Proxy(n,vy):n)}function wa(n){if(n instanceof IDBRequest)return uO(n);if(Vg.has(n))return Vg.get(n);const e=hO(n);return e!==n&&(Vg.set(n,e),Ev.set(e,n)),e}const zg=n=>Ev.get(n);function mO(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=wa(c);return r&&c.addEventListener("upgradeneeded",h=>{r(wa(c.result),h.oldVersion,h.newVersion,wa(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const pO=["get","getKey","getAll","getAllKeys","count"],gO=["put","add","delete","clear"],Ug=new Map;function Ax(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=gO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||pO.includes(t)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&h.done]))[0]};return Ug.set(e,o),o}dO(n=>({...n,get:(e,t,r)=>Ax(e,t)||n.get(e,t,r),has:(e,t)=>!!Ax(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",Rx="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new xv("@firebase/app"),_O="@firebase/app-compat",bO="@firebase/analytics-compat",wO="@firebase/analytics",xO="@firebase/app-check-compat",EO="@firebase/app-check",TO="@firebase/auth",SO="@firebase/auth-compat",AO="@firebase/database",RO="@firebase/data-connect",CO="@firebase/database-compat",IO="@firebase/functions",NO="@firebase/functions-compat",OO="@firebase/installations",MO="@firebase/installations-compat",DO="@firebase/messaging",PO="@firebase/messaging-compat",kO="@firebase/performance",jO="@firebase/performance-compat",LO="@firebase/remote-config",VO="@firebase/remote-config-compat",zO="@firebase/storage",UO="@firebase/storage-compat",BO="@firebase/firestore",FO="@firebase/vertexai",qO="@firebase/firestore-compat",HO="firebase",GO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",$O={[_y]:"fire-core",[_O]:"fire-core-compat",[wO]:"fire-analytics",[bO]:"fire-analytics-compat",[EO]:"fire-app-check",[xO]:"fire-app-check-compat",[TO]:"fire-auth",[SO]:"fire-auth-compat",[AO]:"fire-rtdb",[RO]:"fire-data-connect",[CO]:"fire-rtdb-compat",[IO]:"fire-fn",[NO]:"fire-fn-compat",[OO]:"fire-iid",[MO]:"fire-iid-compat",[DO]:"fire-fcm",[PO]:"fire-fcm-compat",[kO]:"fire-perf",[jO]:"fire-perf-compat",[LO]:"fire-rc",[VO]:"fire-rc-compat",[zO]:"fire-gcs",[UO]:"fire-gcs-compat",[BO]:"fire-fst",[qO]:"fire-fst-compat",[FO]:"fire-vertex","fire-js":"fire-js",[HO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,QO=new Map,wy=new Map;function Cx(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eu(n){const e=n.name;if(wy.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(const t of Th.values())Cx(t,n);for(const t of QO.values())Cx(t,n);return!0}function Tv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new cd("app","Firebase",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=GO;function y1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw xa.create("bad-app-name",{appName:String(a)});if(t||(t=h1()),!t)throw xa.create("no-options");const o=Th.get(a);if(o){if(Ao(t,o.options)&&Ao(r,o.config))return o;throw xa.create("duplicate-app",{appName:a})}const c=new tO(a);for(const h of wy.values())c.addComponent(h);const d=new YO(t,r,c);return Th.set(a,d),d}function v1(n=by){const e=Th.get(n);if(!e&&n===by&&h1())return y1();if(!e)throw xa.create("no-app",{appName:n});return e}function Ea(n,e,t){var r;let a=(r=$O[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(d.join(" "));return}eu(new Ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebase-heartbeat-database",WO=1,Bc="firebase-heartbeat-store";let Bg=null;function _1(){return Bg||(Bg=mO(XO,WO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xa.create("idb-open",{originalErrorMessage:n.message})})),Bg}async function ZO(n){try{const t=(await _1()).transaction(Bc),r=await t.objectStore(Bc).get(b1(n));return await t.done,r}catch(e){if(e instanceof Ns)Ss.warn(e.message);else{const t=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(t.message)}}}async function Ix(n,e){try{const r=(await _1()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,b1(n)),await r.done}catch(t){if(t instanceof Ns)Ss.warn(t.message);else{const r=xa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ss.warn(r.message)}}}function b1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1024,eM=30;class tM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Nx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>eM){const c=iM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nx(),{heartbeatsToSend:r,unsentEntries:a}=nM(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ss.warn(t),""}}}function Nx(){return new Date().toISOString().substring(0,10)}function nM(n,e=JO){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Ox(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Ox(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qN()?HN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ox(n){return Eh(JSON.stringify({version:2,heartbeats:n})).length}function iM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(n){eu(new Ro("platform-logger",e=>new yO(e),"PRIVATE")),eu(new Ro("heartbeat",e=>new tM(e),"PRIVATE")),Ea(_y,Rx,n),Ea(_y,Rx,"esm2017"),Ea("fire-js","")}sM("");var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,w1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,O){function N(){}N.prototype=O.prototype,V.D=O.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(j,B,H){for(var z=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)z[ye-2]=arguments[ye];return O.prototype[B].apply(j,z)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,O,N){N||(N=0);var j=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)j[B]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(B=0;16>B;++B)j[B]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=V.g[0],N=V.g[1],B=V.g[2];var H=V.g[3],z=O+(H^N&(B^H))+j[0]+3614090360&4294967295;O=N+(z<<7&4294967295|z>>>25),z=H+(B^O&(N^B))+j[1]+3905402710&4294967295,H=O+(z<<12&4294967295|z>>>20),z=B+(N^H&(O^N))+j[2]+606105819&4294967295,B=H+(z<<17&4294967295|z>>>15),z=N+(O^B&(H^O))+j[3]+3250441966&4294967295,N=B+(z<<22&4294967295|z>>>10),z=O+(H^N&(B^H))+j[4]+4118548399&4294967295,O=N+(z<<7&4294967295|z>>>25),z=H+(B^O&(N^B))+j[5]+1200080426&4294967295,H=O+(z<<12&4294967295|z>>>20),z=B+(N^H&(O^N))+j[6]+2821735955&4294967295,B=H+(z<<17&4294967295|z>>>15),z=N+(O^B&(H^O))+j[7]+4249261313&4294967295,N=B+(z<<22&4294967295|z>>>10),z=O+(H^N&(B^H))+j[8]+1770035416&4294967295,O=N+(z<<7&4294967295|z>>>25),z=H+(B^O&(N^B))+j[9]+2336552879&4294967295,H=O+(z<<12&4294967295|z>>>20),z=B+(N^H&(O^N))+j[10]+4294925233&4294967295,B=H+(z<<17&4294967295|z>>>15),z=N+(O^B&(H^O))+j[11]+2304563134&4294967295,N=B+(z<<22&4294967295|z>>>10),z=O+(H^N&(B^H))+j[12]+1804603682&4294967295,O=N+(z<<7&4294967295|z>>>25),z=H+(B^O&(N^B))+j[13]+4254626195&4294967295,H=O+(z<<12&4294967295|z>>>20),z=B+(N^H&(O^N))+j[14]+2792965006&4294967295,B=H+(z<<17&4294967295|z>>>15),z=N+(O^B&(H^O))+j[15]+1236535329&4294967295,N=B+(z<<22&4294967295|z>>>10),z=O+(B^H&(N^B))+j[1]+4129170786&4294967295,O=N+(z<<5&4294967295|z>>>27),z=H+(N^B&(O^N))+j[6]+3225465664&4294967295,H=O+(z<<9&4294967295|z>>>23),z=B+(O^N&(H^O))+j[11]+643717713&4294967295,B=H+(z<<14&4294967295|z>>>18),z=N+(H^O&(B^H))+j[0]+3921069994&4294967295,N=B+(z<<20&4294967295|z>>>12),z=O+(B^H&(N^B))+j[5]+3593408605&4294967295,O=N+(z<<5&4294967295|z>>>27),z=H+(N^B&(O^N))+j[10]+38016083&4294967295,H=O+(z<<9&4294967295|z>>>23),z=B+(O^N&(H^O))+j[15]+3634488961&4294967295,B=H+(z<<14&4294967295|z>>>18),z=N+(H^O&(B^H))+j[4]+3889429448&4294967295,N=B+(z<<20&4294967295|z>>>12),z=O+(B^H&(N^B))+j[9]+568446438&4294967295,O=N+(z<<5&4294967295|z>>>27),z=H+(N^B&(O^N))+j[14]+3275163606&4294967295,H=O+(z<<9&4294967295|z>>>23),z=B+(O^N&(H^O))+j[3]+4107603335&4294967295,B=H+(z<<14&4294967295|z>>>18),z=N+(H^O&(B^H))+j[8]+1163531501&4294967295,N=B+(z<<20&4294967295|z>>>12),z=O+(B^H&(N^B))+j[13]+2850285829&4294967295,O=N+(z<<5&4294967295|z>>>27),z=H+(N^B&(O^N))+j[2]+4243563512&4294967295,H=O+(z<<9&4294967295|z>>>23),z=B+(O^N&(H^O))+j[7]+1735328473&4294967295,B=H+(z<<14&4294967295|z>>>18),z=N+(H^O&(B^H))+j[12]+2368359562&4294967295,N=B+(z<<20&4294967295|z>>>12),z=O+(N^B^H)+j[5]+4294588738&4294967295,O=N+(z<<4&4294967295|z>>>28),z=H+(O^N^B)+j[8]+2272392833&4294967295,H=O+(z<<11&4294967295|z>>>21),z=B+(H^O^N)+j[11]+1839030562&4294967295,B=H+(z<<16&4294967295|z>>>16),z=N+(B^H^O)+j[14]+4259657740&4294967295,N=B+(z<<23&4294967295|z>>>9),z=O+(N^B^H)+j[1]+2763975236&4294967295,O=N+(z<<4&4294967295|z>>>28),z=H+(O^N^B)+j[4]+1272893353&4294967295,H=O+(z<<11&4294967295|z>>>21),z=B+(H^O^N)+j[7]+4139469664&4294967295,B=H+(z<<16&4294967295|z>>>16),z=N+(B^H^O)+j[10]+3200236656&4294967295,N=B+(z<<23&4294967295|z>>>9),z=O+(N^B^H)+j[13]+681279174&4294967295,O=N+(z<<4&4294967295|z>>>28),z=H+(O^N^B)+j[0]+3936430074&4294967295,H=O+(z<<11&4294967295|z>>>21),z=B+(H^O^N)+j[3]+3572445317&4294967295,B=H+(z<<16&4294967295|z>>>16),z=N+(B^H^O)+j[6]+76029189&4294967295,N=B+(z<<23&4294967295|z>>>9),z=O+(N^B^H)+j[9]+3654602809&4294967295,O=N+(z<<4&4294967295|z>>>28),z=H+(O^N^B)+j[12]+3873151461&4294967295,H=O+(z<<11&4294967295|z>>>21),z=B+(H^O^N)+j[15]+530742520&4294967295,B=H+(z<<16&4294967295|z>>>16),z=N+(B^H^O)+j[2]+3299628645&4294967295,N=B+(z<<23&4294967295|z>>>9),z=O+(B^(N|~H))+j[0]+4096336452&4294967295,O=N+(z<<6&4294967295|z>>>26),z=H+(N^(O|~B))+j[7]+1126891415&4294967295,H=O+(z<<10&4294967295|z>>>22),z=B+(O^(H|~N))+j[14]+2878612391&4294967295,B=H+(z<<15&4294967295|z>>>17),z=N+(H^(B|~O))+j[5]+4237533241&4294967295,N=B+(z<<21&4294967295|z>>>11),z=O+(B^(N|~H))+j[12]+1700485571&4294967295,O=N+(z<<6&4294967295|z>>>26),z=H+(N^(O|~B))+j[3]+2399980690&4294967295,H=O+(z<<10&4294967295|z>>>22),z=B+(O^(H|~N))+j[10]+4293915773&4294967295,B=H+(z<<15&4294967295|z>>>17),z=N+(H^(B|~O))+j[1]+2240044497&4294967295,N=B+(z<<21&4294967295|z>>>11),z=O+(B^(N|~H))+j[8]+1873313359&4294967295,O=N+(z<<6&4294967295|z>>>26),z=H+(N^(O|~B))+j[15]+4264355552&4294967295,H=O+(z<<10&4294967295|z>>>22),z=B+(O^(H|~N))+j[6]+2734768916&4294967295,B=H+(z<<15&4294967295|z>>>17),z=N+(H^(B|~O))+j[13]+1309151649&4294967295,N=B+(z<<21&4294967295|z>>>11),z=O+(B^(N|~H))+j[4]+4149444226&4294967295,O=N+(z<<6&4294967295|z>>>26),z=H+(N^(O|~B))+j[11]+3174756917&4294967295,H=O+(z<<10&4294967295|z>>>22),z=B+(O^(H|~N))+j[2]+718787259&4294967295,B=H+(z<<15&4294967295|z>>>17),z=N+(H^(B|~O))+j[9]+3951481745&4294967295,V.g[0]=V.g[0]+O&4294967295,V.g[1]=V.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+H&4294967295}r.prototype.u=function(V,O){O===void 0&&(O=V.length);for(var N=O-this.blockSize,j=this.B,B=this.h,H=0;H<O;){if(B==0)for(;H<=N;)a(this,V,H),H+=this.blockSize;if(typeof V=="string"){for(;H<O;)if(j[B++]=V.charCodeAt(H++),B==this.blockSize){a(this,j),B=0;break}}else for(;H<O;)if(j[B++]=V[H++],B==this.blockSize){a(this,j),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var O=1;O<V.length-8;++O)V[O]=0;var N=8*this.o;for(O=V.length-8;O<V.length;++O)V[O]=N&255,N/=256;for(this.u(V),V=Array(16),O=N=0;4>O;++O)for(var j=0;32>j;j+=8)V[N++]=this.g[O]>>>j&255;return V};function o(V,O){var N=d;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=O(V)}function c(V,O){this.h=O;for(var N=[],j=!0,B=V.length-1;0<=B;B--){var H=V[B]|0;j&&H==O||(N[B]=H,j=!1)}this.g=N}var d={};function h(V){return-128<=V&&128>V?o(V,function(O){return new c([O|0],0>O?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return M(p(-V));for(var O=[],N=1,j=0;V>=N;j++)O[j]=V/N|0,N*=4294967296;return new c(O,0)}function g(V,O){if(V.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V.charAt(0)=="-")return M(g(V.substring(1),O));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(O,8)),j=_,B=0;B<V.length;B+=8){var H=Math.min(8,V.length-B),z=parseInt(V.substring(B,B+H),O);8>H?(H=p(Math.pow(O,H)),j=j.j(H).add(p(z))):(j=j.j(N),j=j.add(p(z)))}return j}var _=h(0),w=h(1),x=h(16777216);n=c.prototype,n.m=function(){if(I(this))return-M(this).m();for(var V=0,O=1,N=0;N<this.g.length;N++){var j=this.i(N);V+=(0<=j?j:4294967296+j)*O,O*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(I(this))return"-"+M(this).toString(V);for(var O=p(Math.pow(V,6)),N=this,j="";;){var B=U(N,O).g;N=R(N,B.j(O));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=B,S(N))return H+j;for(;6>H.length;)H="0"+H;j=H+j}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var O=0;O<V.g.length;O++)if(V.g[O]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=R(this,V),I(V)?-1:S(V)?0:1};function M(V){for(var O=V.g.length,N=[],j=0;j<O;j++)N[j]=~V.g[j];return new c(N,~V.h).add(w)}n.abs=function(){return I(this)?M(this):this},n.add=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],j=0,B=0;B<=O;B++){var H=j+(this.i(B)&65535)+(V.i(B)&65535),z=(H>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);j=z>>>16,H&=65535,z&=65535,N[B]=z<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function R(V,O){return V.add(M(O))}n.j=function(V){if(S(this)||S(V))return _;if(I(this))return I(V)?M(this).j(M(V)):M(M(this).j(V));if(I(V))return M(this.j(M(V)));if(0>this.l(x)&&0>V.l(x))return p(this.m()*V.m());for(var O=this.g.length+V.g.length,N=[],j=0;j<2*O;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(var B=0;B<V.g.length;B++){var H=this.i(j)>>>16,z=this.i(j)&65535,ye=V.i(B)>>>16,we=V.i(B)&65535;N[2*j+2*B]+=z*we,E(N,2*j+2*B),N[2*j+2*B+1]+=H*we,E(N,2*j+2*B+1),N[2*j+2*B+1]+=z*ye,E(N,2*j+2*B+1),N[2*j+2*B+2]+=H*ye,E(N,2*j+2*B+2)}for(j=0;j<O;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=O;j<2*O;j++)N[j]=0;return new c(N,0)};function E(V,O){for(;(V[O]&65535)!=V[O];)V[O+1]+=V[O]>>>16,V[O]&=65535,O++}function C(V,O){this.g=V,this.h=O}function U(V,O){if(S(O))throw Error("division by zero");if(S(V))return new C(_,_);if(I(V))return O=U(M(V),O),new C(M(O.g),M(O.h));if(I(O))return O=U(V,M(O)),new C(M(O.g),O.h);if(30<V.g.length){if(I(V)||I(O))throw Error("slowDivide_ only works with positive integers.");for(var N=w,j=O;0>=j.l(V);)N=k(N),j=k(j);var B=P(N,1),H=P(j,1);for(j=P(j,2),N=P(N,2);!S(j);){var z=H.add(j);0>=z.l(V)&&(B=B.add(N),H=z),j=P(j,1),N=P(N,1)}return O=R(V,B.j(O)),new C(B,O)}for(B=_;0<=V.l(O);){for(N=Math.max(1,Math.floor(V.m()/O.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),H=p(N),z=H.j(O);I(z)||0<z.l(V);)N-=j,H=p(N),z=H.j(O);S(H)&&(H=w),B=B.add(H),V=R(V,z)}return new C(B,V)}n.A=function(V){return U(this,V).h},n.and=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],j=0;j<O;j++)N[j]=this.i(j)&V.i(j);return new c(N,this.h&V.h)},n.or=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],j=0;j<O;j++)N[j]=this.i(j)|V.i(j);return new c(N,this.h|V.h)},n.xor=function(V){for(var O=Math.max(this.g.length,V.g.length),N=[],j=0;j<O;j++)N[j]=this.i(j)^V.i(j);return new c(N,this.h^V.h)};function k(V){for(var O=V.g.length+1,N=[],j=0;j<O;j++)N[j]=V.i(j)<<1|V.i(j-1)>>>31;return new c(N,V.h)}function P(V,O){var N=O>>5;O%=32;for(var j=V.g.length-N,B=[],H=0;H<j;H++)B[H]=0<O?V.i(H+N)>>>O|V.i(H+N+1)<<32-O:V.i(H+N);return new c(B,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,Ta=c}).apply(typeof Mx<"u"?Mx:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x1,Ac,E1,sh,xy,T1,S1,A1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(f,b){if(b)e:{var T=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var Z=f[L];if(!(Z in T))break e;T=T[Z]}f=f[f.length-1],L=T[f],b=b(L),b!=L&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function o(f,b){f instanceof String&&(f+="");var T=0,L=!1,Z={next:function(){if(!L&&T<f.length){var ie=T++;return{value:b(ie,f[ie]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(f){return f||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,T){return f.call.apply(f.bind,arguments)}function _(f,b,T){if(!f)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,L),f.apply(b,Z)}}return function(){return f.apply(b,arguments)}}function w(f,b,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function x(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var L=T.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function S(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(L,Z,ie){for(var be=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)be[vt-2]=arguments[vt];return b.prototype[Z].apply(L,be)}}function I(f){const b=f.length;if(0<b){const T=Array(b);for(let L=0;L<b;L++)T[L]=f[L];return T}return[]}function M(f,b){for(let T=1;T<arguments.length;T++){const L=arguments[T];if(h(L)){const Z=f.length||0,ie=L.length||0;f.length=Z+ie;for(let be=0;be<ie;be++)f[Z+be]=L[be]}else f.push(L)}}class R{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function E(f){return/^[\s\xa0]*$/.test(f)}function C(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function U(f){return U[" "](f),f}U[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function P(f,b,T){for(const L in f)b.call(T,f[L],L,f)}function V(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function O(f){const b={};for(const T in f)b[T]=f[T];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,b){let T,L;for(let Z=1;Z<arguments.length;Z++){L=arguments[Z];for(T in L)f[T]=L[T];for(let ie=0;ie<N.length;ie++)T=N[ie],Object.prototype.hasOwnProperty.call(L,T)&&(f[T]=L[T])}}function B(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function H(f){d.setTimeout(()=>{throw f},0)}function z(){var f=_e;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ye{constructor(){this.h=this.g=null}add(b,T){const L=we.get();L.set(b,T),this.h?this.h.next=L:this.g=L,this.h=L}}var we=new R(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,_e=new ye,F=()=>{const f=d.Promise.resolve(void 0);oe=()=>{f.then(se)}};var se=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(T){H(T)}var b=we;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}ae=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};d.addEventListener("test",T,b),d.removeEventListener("test",T,b)}catch{}return f}();function Ve(f,b){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(k){e:{try{U(b.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}S(Ve,me);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function st(f,b,T,L,Z){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!L,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Nt(f){this.src=f,this.g={},this.h=0}Nt.prototype.add=function(f,b,T,L,Z){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var be=hn(f,b,L,Z);return-1<be?(b=f[be],T||(b.fa=!1)):(b=new st(b,this.src,ie,!!L,Z),b.fa=T,f.push(b)),b};function Ht(f,b){var T=b.type;if(T in f.g){var L=f.g[T],Z=Array.prototype.indexOf.call(L,b,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(L,Z,1),ie&&(Ze(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function hn(f,b,T,L){for(var Z=0;Z<f.length;++Z){var ie=f[Z];if(!ie.da&&ie.listener==b&&ie.capture==!!T&&ie.ha==L)return Z}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),cr={};function Wn(f,b,T,L,Z){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Wn(f,b[ie],T,L,Z);return null}return T=ii(T),f&&f[pe]?f.K(b,T,p(L)?!!L.capture:!1,Z):Xt(f,b,T,!1,L,Z)}function Xt(f,b,T,L,Z,ie){if(!b)throw Error("Invalid event type");var be=p(Z)?!!Z.capture:!!Z,vt=Jn(f);if(vt||(f[Ft]=vt=new Nt(f)),T=vt.add(b,T,L,be,ie),T.proxy)return T;if(L=bi(),T.proxy=L,L.src=f,L.listener=T,f.addEventListener)Se||(Z=be),Z===void 0&&(Z=!1),f.addEventListener(b.toString(),L,Z);else if(f.attachEvent)f.attachEvent(ri(b.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return T}function bi(){function f(T){return b.call(f.src,f.listener,T)}const b=Zn;return f}function wi(f,b,T,L,Z){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)wi(f,b[ie],T,L,Z);else L=p(L)?!!L.capture:!!L,T=ii(T),f&&f[pe]?(f=f.i,b=String(b).toString(),b in f.g&&(ie=f.g[b],T=hn(ie,T,L,Z),-1<T&&(Ze(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete f.g[b],f.h--)))):f&&(f=Jn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=hn(b,T,L,Z)),(T=-1<f?b[f]:null)&&xi(T))}function xi(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[pe])Ht(b.i,f);else{var T=f.type,L=f.proxy;b.removeEventListener?b.removeEventListener(T,L,f.capture):b.detachEvent?b.detachEvent(ri(T),L):b.addListener&&b.removeListener&&b.removeListener(L),(T=Jn(b))?(Ht(T,f),T.h==0&&(T.src=null,b[Ft]=null)):Ze(f)}}}function ri(f){return f in cr?cr[f]:cr[f]="on"+f}function Zn(f,b){if(f.da)f=!0;else{b=new Ve(b,this);var T=f.listener,L=f.ha||f.src;f.fa&&xi(f),f=T.call(L,b)}return f}function Jn(f){return f=f[Ft],f instanceof Nt?f:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(f){return typeof f=="function"?f:(f[Ei]||(f[Ei]=function(b){return f.handleEvent(b)}),f[Ei])}function yt(){ge.call(this),this.i=new Nt(this),this.M=this,this.F=null}S(yt,ge),yt.prototype[pe]=!0,yt.prototype.removeEventListener=function(f,b,T,L){wi(this,f,b,T,L)};function We(f,b){var T,L=f.F;if(L)for(T=[];L;L=L.F)T.push(L);if(f=f.M,L=b.type||b,typeof b=="string")b=new me(b,f);else if(b instanceof me)b.target=b.target||f;else{var Z=b;b=new me(L,f),j(b,Z)}if(Z=!0,T)for(var ie=T.length-1;0<=ie;ie--){var be=b.g=T[ie];Z=wn(be,L,!0,b)&&Z}if(be=b.g=f,Z=wn(be,L,!0,b)&&Z,Z=wn(be,L,!1,b)&&Z,T)for(ie=0;ie<T.length;ie++)be=b.g=T[ie],Z=wn(be,L,!1,b)&&Z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],L=0;L<T.length;L++)Ze(T[L]);delete f.g[b],f.h--}}this.F=null},yt.prototype.K=function(f,b,T,L){return this.i.add(String(f),b,!1,T,L)},yt.prototype.L=function(f,b,T,L){return this.i.add(String(f),b,!0,T,L)};function wn(f,b,T,L){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var Z=!0,ie=0;ie<b.length;++ie){var be=b[ie];if(be&&!be.da&&be.capture==T){var vt=be.listener,pn=be.ha||be.src;be.fa&&Ht(f.i,be),Z=vt.call(pn,L)!==!1&&Z}}return Z&&!L.defaultPrevented}function $t(f,b,T){if(typeof f=="function")T&&(f=w(f,T));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function Wi(f){f.g=$t(()=>{f.g=null,f.i&&(f.i=!1,Wi(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class dr extends ge{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(f){ge.call(this),this.h=f,this.g={}}S(Lr,ge);var Vr=[];function Me(f){P(f.g,function(b,T){this.g.hasOwnProperty(T)&&xi(b)},f),f.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Me(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,Je=d.JSON.parse,ft=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function qt(){}qt.prototype.h=null;function sn(f){return f.h||(f.h=f.i())}function er(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){me.call(this,"d")}S(Bn,me);function Nn(){me.call(this,"c")}S(Nn,me);var Qt={},zr=null;function wr(){return zr=zr||new yt}Qt.La="serverreachability";function Ti(f){me.call(this,Qt.La,f)}S(Ti,me);function $(f){const b=wr();We(b,new Ti(b))}Qt.STAT_EVENT="statevent";function W(f,b){me.call(this,Qt.STAT_EVENT,f),this.stat=b}S(W,me);function ee(f){const b=wr();We(b,new W(b,f))}Qt.Ma="timingevent";function de(f,b){me.call(this,Qt.Ma,f),this.size=b}S(de,me);function ve(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function ze(f,b,T,L,Z,ie){f.info(function(){if(f.g)if(ie)for(var be="",vt=ie.split("&"),pn=0;pn<vt.length;pn++){var _t=vt[pn].split("=");if(1<_t.length){var En=_t[0];_t=_t[1];var gn=En.split("_");be=2<=gn.length&&gn[1]=="type"?be+(En+"="+_t+"&"):be+(En+"=redacted&")}}else be=null;else be=ie;return"XMLHTTP REQ ("+L+") [attempt "+Z+"]: "+b+`
`+T+`
`+be})}function Ce(f,b,T,L,Z,ie,be){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Z+"]: "+b+`
`+T+`
`+ie+" "+be})}function De(f,b,T,L){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ue(f,T)+(L?" "+L:"")})}function ke(f,b){f.info(function(){return"TIMEOUT: "+b})}Re.prototype.info=function(){};function Ue(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var L=T[f];if(!(2>L.length)){var Z=L[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var be=1;be<Z.length;be++)Z[be]=""}}}}return Oe(T)}catch{return b}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function At(){}S(At,qt),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},at=new At;function Et(f,b,T,L){this.j=f,this.i=b,this.l=T,this.R=L||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var rt={},Ur={};function mn(f,b,T){f.L=1,f.v=Fa(Tr(b)),f.m=T,f.P=!0,tr(f,null)}function tr(f,b){f.F=Date.now(),xr(f),f.A=Tr(f.v);var T=f.A,L=f.R;Array.isArray(L)||(L=[String(L)]),wu(T.i,"t",L),f.C=0,T=f.j.J,f.h=new ht,f.g=Pd(f.j,T?b:null,!f.m),0<f.O&&(f.M=new dr(w(f.Y,f,f.g),f.O)),b=f.U,T=f.g,L=f.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Vr[0]=Z.toString()),Z=Vr);for(var ie=0;ie<Z.length;ie++){var be=Wn(T,Z[ie],L||b.handleEvent,!1,b.h||b);if(!be)break;b.g[be.key]=be}b=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),$(),ze(f.i,f.u,f.A,f.l,f.R,f.m)}Et.prototype.ca=function(f){f=f.target;const b=this.M;b&&Gr(f)==3?b.j():this.Y(f)},Et.prototype.Y=function(f){try{if(f==this.g)e:{const gn=Gr(this.g);var b=this.g.Ba();const ss=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Ad(this.g)))){this.J||gn!=4||b==7||(b==8||0>=ss?$(3):$(2)),Fn(this);var T=this.g.Z();this.X=T;t:if(On(this)){var L=Ad(this.g);f="";var Z=L.length,ie=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),nr(this);var be="";break t}this.h.i=new d.TextDecoder}for(b=0;b<Z;b++)this.h.h=!0,f+=this.h.i.decode(L[b],{stream:!(ie&&b==Z-1)});L.length=0,this.h.g+=f,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=T==200,Ce(this.i,this.u,this.A,this.l,this.R,gn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,pn=this.g;if((vt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(vt)){var _t=vt;break t}}_t=null}if(T=_t)De(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,T);else{this.o=!1,this.s=3,ee(12),Ke(this),nr(this);break e}}if(this.P){T=!0;let Dn;for(;!this.J&&this.C<be.length;)if(Dn=Si(this,be),Dn==Ur){gn==4&&(this.s=4,ee(14),T=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==rt){this.s=4,ee(15),De(this.i,this.l,be,"[Invalid Chunk]"),T=!1;break}else De(this.i,this.l,Dn,null),an(this,Dn);if(On(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||be.length!=0||this.h.h||(this.s=1,ee(16),T=!1),this.o=this.o&&T,!T)De(this.i,this.l,be,"[Invalid Chunked Response]"),Ke(this),nr(this);else if(0<be.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Xa(En),En.M=!0,ee(11))}}else De(this.i,this.l,be,null),an(this,be);gn==4&&Ke(this),this.o&&!this.J&&(gn==4?Od(this.j,this):(this.o=!1,xr(this)))}else Dm(this.g),T==400&&0<be.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ke(this),nr(this)}}}catch{}finally{}};function On(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Si(f,b){var T=f.C,L=b.indexOf(`
`,T);return L==-1?Ur:(T=Number(b.substring(T,L)),isNaN(T)?rt:(L+=1,L+T>b.length?Ur:(b=b.slice(L,L+T),f.C=L+T,b)))}Et.prototype.cancel=function(){this.J=!0,Ke(this)};function xr(f){f.S=Date.now()+f.I,Os(f,f.I)}function Os(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ve(w(f.ba,f),b)}function Fn(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Et.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ke(this.i,this.A),this.L!=2&&($(),ee(17)),Ke(this),this.s=2,nr(this)):Os(this,this.S-f)};function nr(f){f.j.G==0||f.J||Od(f.j,f)}function Ke(f){Fn(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Me(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function an(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||Br(T.h,f))){if(!f.K&&Br(T.h,f)&&T.G==3){try{var L=T.Da.g.parse(b)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Z=L;if(Z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ko(T),$o(T);else break e;Au(T),ee(18)}}else T.za=Z[1],0<T.za-T.T&&37500>Z[2]&&T.F&&T.v==0&&!T.C&&(T.C=ve(w(T.Za,T),6e3));if(1>=Lt(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else is(T,11)}else if((f.K||T.g==f)&&Ko(T),!E(b))for(Z=T.Da.g.parse(b),b=0;b<Z.length;b++){let _t=Z[b];if(T.T=_t[0],_t=_t[1],T.G==2)if(_t[0]=="c"){T.K=_t[1],T.ia=_t[2];const En=_t[3];En!=null&&(T.la=En,T.j.info("VER="+T.la));const gn=_t[4];gn!=null&&(T.Aa=gn,T.j.info("SVER="+T.Aa));const ss=_t[5];ss!=null&&typeof ss=="number"&&0<ss&&(L=1.5*ss,T.L=L,T.j.info("backChannelRequestTimeoutMs_="+L)),L=T;const Dn=f.g;if(Dn){const Di=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var ie=L.h;ie.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Zi(ie,ie.h),ie.h=null))}if(L.D){const Cu=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(L.ya=Cu,Dt(L.I,L.D,Cu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),L=T;var be=f;if(L.qa=Dd(L,L.J?L.ia:null,L.W),be.K){Mn(L.h,be);var vt=be,pn=L.L;pn&&(vt.I=pn),vt.B&&(Fn(vt),xr(vt)),L.g=be}else Id(L);0<T.i.length&&Qo(T)}else _t[0]!="stop"&&_t[0]!="close"||is(T,7);else T.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?is(T,7):Tu(T):_t[0]!="noop"&&T.l&&T.l.ta(_t),T.v=0)}}$(4)}catch{}}var Er=class{constructor(f,b){this.g=f,this.map=b}};function fr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ai(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Lt(f){return f.h?1:f.g?f.g.size:0}function Br(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Zi(f,b){f.g?f.g.add(b):f.h=b}function Mn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}fr.prototype.cancel=function(){if(this.i=yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function yu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return I(f.i)}function Im(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],T=f.length,L=0;L<T;L++)b.push(f[L]);return b}b=[],T=0;for(L in f)b[T++]=f[L];return b}function Uo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const L in f)b[T++]=L;return b}}}function vu(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=Uo(f),L=Im(f),Z=L.length,ie=0;ie<Z;ie++)b.call(void 0,L[ie],T&&T[ie],f)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nm(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var L=f[T].indexOf("="),Z=null;if(0<=L){var ie=f[T].substring(0,L);Z=f[T].substring(L+1)}else ie=f[T];b(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof on){this.h=f.h,Ba(this,f.j),this.o=f.o,this.g=f.g,Ms(this,f.s),this.l=f.l;var b=f.i,T=new es;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),Ji(this,T),this.m=f.m}else f&&(b=String(f).match(Ua))?(this.h=!1,Ba(this,b[1]||"",!0),this.o=Fr(b[2]||""),this.g=Fr(b[3]||"",!0),Ms(this,b[4]),this.l=Fr(b[5]||"",!0),Ji(this,b[6]||"",!0),this.m=Fr(b[7]||"")):(this.h=!1,this.i=new es(null,this.h))}on.prototype.toString=function(){var f=[],b=this.j;b&&f.push(qa(b,_u,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(qa(b,_u,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(qa(T,T.charAt(0)=="/"?Om:bu,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",qa(T,Bo)),f.join("")};function Tr(f){return new on(f)}function Ba(f,b,T){f.j=T?Fr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ms(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Ji(f,b,T){b instanceof es?(f.i=b,Td(f.i,f.h)):(T||(b=qa(b,Mm)),f.i=new es(b,f.h))}function Dt(f,b,T){f.i.set(b,T)}function Fa(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qa(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Ed),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ed(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _u=/[#\/\?@]/g,bu=/[#\?:]/g,Om=/[#\?]/g,Mm=/[#\?@]/g,Bo=/#/g;function es(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function qr(f){f.g||(f.g=new Map,f.h=0,f.i&&Nm(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=es.prototype,n.add=function(f,b){qr(this),this.i=null,f=Ri(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function ts(f,b){qr(f),b=Ri(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function ns(f,b){return qr(f),b=Ri(f,b),f.g.has(b)}n.forEach=function(f,b){qr(this),this.g.forEach(function(T,L){T.forEach(function(Z){f.call(b,Z,L,this)},this)},this)},n.na=function(){qr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let L=0;L<b.length;L++){const Z=f[L];for(let ie=0;ie<Z.length;ie++)T.push(b[L])}return T},n.V=function(f){qr(this);let b=[];if(typeof f=="string")ns(this,f)&&(b=b.concat(this.g.get(Ri(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},n.set=function(f,b){return qr(this),this.i=null,f=Ri(this,f),ns(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},n.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function wu(f,b,T){ts(f,b),0<T.length&&(f.i=null,f.g.set(Ri(f,b),I(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var L=b[T];const ie=encodeURIComponent(String(L)),be=this.V(L);for(L=0;L<be.length;L++){var Z=ie;be[L]!==""&&(Z+="="+encodeURIComponent(String(be[L]))),f.push(Z)}}return this.i=f.join("&")};function Ri(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Td(f,b){b&&!f.j&&(qr(f),f.i=null,f.g.forEach(function(T,L){var Z=L.toLowerCase();L!=Z&&(ts(this,L),wu(this,Z,T))},f)),f.j=b}function Ha(f,b){const T=new Re;if(d.Image){const L=new Image;L.onload=x(Hr,T,"TestLoadImage: loaded",!0,b,L),L.onerror=x(Hr,T,"TestLoadImage: error",!1,b,L),L.onabort=x(Hr,T,"TestLoadImage: abort",!1,b,L),L.ontimeout=x(Hr,T,"TestLoadImage: timeout",!1,b,L),d.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else b(!1)}function si(f,b){const T=new Re,L=new AbortController,Z=setTimeout(()=>{L.abort(),Hr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:L.signal}).then(ie=>{clearTimeout(Z),ie.ok?Hr(T,"TestPingServer: ok",!0,b):Hr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Z),Hr(T,"TestPingServer: error",!1,b)})}function Hr(f,b,T,L,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),L(T)}catch{}}function Ga(){this.g=new ft}function Ci(f,b,T){const L=T||"";try{vu(f,function(Z,ie){let be=Z;p(Z)&&(be=Oe(Z)),b.push(L+ie+"="+encodeURIComponent(be))})}catch(Z){throw b.push(L+"type="+encodeURIComponent("_badmap")),Z}}function Ds(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Ds,qt),Ds.prototype.g=function(){return new rs(this.l,this.j)},Ds.prototype.i=function(f){return function(){return f}}({});function rs(f,b){yt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(rs,yt),n=rs.prototype,n.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Ni(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function xu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Ii(this):Ni(this),this.readyState==3&&xu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ii(this))},n.Qa=function(f){this.g&&(this.response=f,Ii(this))},n.ga=function(){this.g&&Ii(this)};function Ii(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ni(f)}n.setRequestHeader=function(f,b){this.u.append(f,b)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Ni(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Eu(f){let b="";return P(f,function(T,L){b+=L,b+=":",b+=T,b+=`\r
`}),b}function xn(f,b,T){e:{for(L in T){var L=!1;break e}L=!0}L||(T=Eu(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Dt(f,b,T))}function Rt(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Rt,yt);var Fo=/^https?$/i,$a=["POST","PUT"];n=Rt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,b,T,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?sn(this.o):sn(at),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ie){Sd(this,ie);return}if(f=T||"",T=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Z in L)T.set(Z,L[Z]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())T.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,b,void 0))||L||Z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,be]of T)this.g.setRequestHeader(ie,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Sd(this,ie)}};function Sd(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,qo(f),Oi(f)}function qo(f){f.A||(f.A=!0,We(f,"complete"),We(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,We(this,"complete"),We(this,"abort"),Oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},n.bb=function(){Ho(this)};function Ho(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Gr(f)!=4||f.Z()!=2)){if(f.u&&Gr(f)==4)$t(f.Ea,0,f);else if(We(f,"readystatechange"),Gr(f)==4){f.h=!1;try{const be=f.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var L;if(L=be===0){var Z=String(f.D).match(Ua)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),L=!Fo.test(Z?Z.toLowerCase():"")}T=L}if(T)We(f,"complete"),We(f,"success");else{f.m=6;try{var ie=2<Gr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",qo(f)}}finally{Oi(f)}}}}function Oi(f,b){if(f.g){Qa(f);const T=f.g,L=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||We(f,"ready");try{T.onreadystatechange=L}catch{}}}function Qa(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Gr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Je(b)}};function Ad(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(f){const b={};f=(f.g&&2<=Gr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(E(f[L]))continue;var T=B(f[L]);const Z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=b[Z]||[];b[Z]=ie,ie.push(T)}V(b,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function Go(f){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,f),this.cb=Ka("retryDelaySeedMs",1e4,f),this.Wa=Ka("forwardChannelMaxRetries",2,f),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(f&&f.concurrentRequestLimit),this.Da=new Ga,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(f,b,T,L){ee(0),this.W=f,this.H=b||{},T&&L!==void 0&&(this.H.OSID=T,this.H.OAID=L),this.F=this.X,this.I=Dd(this,null,this.W),Qo(this)};function Tu(f){if(Rd(f),f.G==3){var b=f.U++,T=Tr(f.I);if(Dt(T,"SID",f.K),Dt(T,"RID",b),Dt(T,"TYPE","terminate"),Ya(f,T),b=new Et(f,f.j,b),b.L=2,b.v=Fa(Tr(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=b.v,T=!0),T||(b.g=Pd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),xr(b)}Md(f)}function $o(f){f.g&&(Xa(f),f.g.cancel(),f.g=null)}function Rd(f){$o(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ko(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Qo(f){if(!Ai(f.h)&&!f.s){f.s=!0;var b=f.Ga;oe||F(),ae||(oe(),ae=!0),_e.add(b,f),f.B=0}}function Pm(f,b){return Lt(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ve(w(f.Ga,f,b),Ru(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Z=new Et(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=O(ie),j(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var L=this.i[T];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(b+=L,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Cd(this,Z,b),T=Tr(this.I),Dt(T,"RID",f),Dt(T,"CVER",22),this.D&&Dt(T,"X-HTTP-Session-Id",this.D),Ya(this,T),ie&&(this.O?b="headers="+encodeURIComponent(String(Eu(ie)))+"&"+b:this.m&&xn(T,this.m,ie)),Zi(this.h,Z),this.Ua&&Dt(T,"TYPE","init"),this.P?(Dt(T,"$req",b),Dt(T,"SID","null"),Z.T=!0,mn(Z,T,null)):mn(Z,T,b),this.G=2}}else this.G==3&&(f?Su(this,f):this.i.length==0||Ai(this.h)||Su(this))};function Su(f,b){var T;b?T=b.l:T=f.U++;const L=Tr(f.I);Dt(L,"SID",f.K),Dt(L,"RID",T),Dt(L,"AID",f.T),Ya(f,L),f.m&&f.o&&xn(L,f.m,f.o),T=new Et(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Cd(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Zi(f.h,T),mn(T,L,b)}function Ya(f,b){f.H&&P(f.H,function(T,L){Dt(b,L,T)}),f.l&&vu({},function(T,L){Dt(b,L,T)})}function Cd(f,b,T){T=Math.min(f.i.length,T);var L=f.l?w(f.l.Na,f.l,f):null;e:{var Z=f.i;let ie=-1;for(;;){const be=["count="+T];ie==-1?0<T?(ie=Z[0].g,be.push("ofs="+ie)):ie=0:be.push("ofs="+ie);let vt=!0;for(let pn=0;pn<T;pn++){let _t=Z[pn].g;const En=Z[pn].map;if(_t-=ie,0>_t)ie=Math.max(0,Z[pn].g-100),vt=!1;else try{Ci(En,be,"req"+_t+"_")}catch{L&&L(En)}}if(vt){L=be.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,L}function Id(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;oe||F(),ae||(oe(),ae=!0),_e.add(b,f),f.v=0}}function Au(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ve(w(f.Fa,f),Ru(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ve(w(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),$o(this),Nd(this))};function Xa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Nd(f){f.g=new Et(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Tr(f.qa);Dt(b,"RID","rpc"),Dt(b,"SID",f.K),Dt(b,"AID",f.T),Dt(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(b,"TO",f.ja),Dt(b,"TYPE","xmlhttp"),Ya(f,b),f.m&&f.o&&xn(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Fa(Tr(b)),T.m=null,T.P=!0,tr(T,f)}n.Za=function(){this.C!=null&&(this.C=null,$o(this),Au(this),ee(19))};function Ko(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Od(f,b){var T=null;if(f.g==b){Ko(f),Xa(f),f.g=null;var L=2}else if(Br(f.h,b))T=b.D,Mn(f.h,b),L=1;else return;if(f.G!=0){if(b.o)if(L==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var Z=f.B;L=wr(),We(L,new de(L,T)),Qo(f)}else Id(f);else if(Z=b.s,Z==3||Z==0&&0<b.X||!(L==1&&Pm(f,b)||L==2&&Au(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),Z){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function Ru(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function is(f,b){if(f.j.info("Error code "+b),b==2){var T=w(f.fb,f),L=f.Xa;const Z=!L;L=new on(L||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ba(L,"https"),Fa(L),Z?Ha(L.toString(),T):si(L.toString(),T)}else ee(2);f.G=0,f.l&&f.l.sa(b),Md(f),Rd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Md(f){if(f.G=0,f.ka=[],f.l){const b=yu(f.h);(b.length!=0||f.i.length!=0)&&(M(f.ka,b),M(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Dd(f,b,T){var L=T instanceof on?Tr(T):new on(T);if(L.g!="")b&&(L.g=b+"."+L.g),Ms(L,L.s);else{var Z=d.location;L=Z.protocol,b=b?b+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new on(null);L&&Ba(ie,L),b&&(ie.g=b),Z&&Ms(ie,Z),T&&(ie.l=T),L=ie}return T=f.D,b=f.ya,T&&b&&Dt(L,T,b),Dt(L,"VER",f.la),Ya(f,L),L}function Pd(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Rt(new Ds({eb:T})):new Rt(f.pa),b.Ha(f.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}n=kd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Yo(){}Yo.prototype.g=function(f,b){return new rr(f,b)};function rr(f,b){yt.call(this),this.g=new Go(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!E(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!E(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Mi(this)}S(rr,yt),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Tu(this.g)},rr.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Oe(f),f=T);b.i.push(new Er(b.Ya++,f)),b.G==3&&Qo(b)},rr.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,rr.aa.N.call(this)};function jd(f){Bn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}S(jd,Bn);function Ld(){Nn.call(this),this.status=1}S(Ld,Nn);function Mi(f){this.g=f}S(Mi,kd),Mi.prototype.ua=function(){We(this.g,"a")},Mi.prototype.ta=function(f){We(this.g,new jd(f))},Mi.prototype.sa=function(f){We(this.g,new Ld)},Mi.prototype.ra=function(){We(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,A1=function(){return new Yo},S1=function(){return wr()},T1=Qt,xy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,sh=Pe,Fe.COMPLETE="complete",E1=Fe,er.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ac=er,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,x1=Rt}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const Dx="@firebase/firestore",Px="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new xv("@firebase/firestore");function Sl(){return Co.logLevel}function Ae(n,...e){if(Co.logLevel<=ct.DEBUG){const t=e.map(Sv);Co.debug(`Firestore (${du}): ${n}`,...t)}}function As(n,...e){if(Co.logLevel<=ct.ERROR){const t=e.map(Sv);Co.error(`Firestore (${du}): ${n}`,...t)}}function tu(n,...e){if(Co.logLevel<=ct.WARN){const t=e.map(Sv);Co.warn(`Firestore (${du}): ${n}`,...t)}}function Sv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,R1(n,r,t)}function R1(n,e,t){let r=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw As(r),new Error(r)}function It(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||R1(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qn.UNAUTHENTICATED))}shutdown(){}}class oM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lM{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ts,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ts)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new C1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class uM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new uM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=fM(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function Ey(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=I1(),c=hM(o.encode(jx(n,t)),o.encode(jx(e,t)));return c!==0?c:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function jx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function hM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function nu(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=-62135596800,Vx=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Vx);return new _n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Lx)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Lx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new _n(0,0))}static max(){return new Ye(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="__name__";class zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zi.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=zi.isNumericId(e),a=zi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zi.extractNumericId(e).compare(zi.extractNumericId(t)):Ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class Bt extends zi{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const mM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends zi{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return mM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zx}static keyField(){return new zn([zx])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function pM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new _n(t+1,0):new _n(t,r));return new Ca(a,Le.empty(),e)}function gM(n){return new Ca(n.readTime,n.key,Fc)}class Ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ca(Ye.min(),Le.empty(),Fc)}static max(){return new Ca(Ye.max(),Le.empty(),Fc)}}function yM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==vM)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let a=0,o=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++o,c&&o===a&&t()},h=>r(h))}),c=!0,o===a&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(a=>a?he.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new he((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{c[p]=g,++d,d===o&&r(c)},g=>a(g))}})}static doWhile(e,t){return new he((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function bM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}em.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function tm(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function wM(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="";function xM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ux(e)),e=EM(n.get(t),e);return Ux(e)}function EM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case O1:t+="";break;default:t+=o}}return t}function Ux(n){return n+O1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ja(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function M1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Ln.RED,this.left=a??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Ln(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fx(this.data.getIterator())}getIteratorFrom(e){return new Fx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class Fx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new jr([])}unionWith(e){let t=new bn(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new D1("Invalid base64 string: "+o):o}}(e);return new Un(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const TM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=TM.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Na(n){return typeof n=="string"?Un.fromBase64String(n):Un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="server_timestamp",k1="__type__",j1="__previous_value__",L1="__local_write_time__";function nm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[k1])===null||t===void 0?void 0:t.stringValue)===P1}function rm(n){const e=n.mapValue.fields[j1];return nm(e)?rm(e):e}function qc(n){const e=Ia(n.mapValue.fields[L1].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,t,r,a,o,c,d,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}const Ah="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__type__",AM="__max__",Gf={mapValue:{}},z1="__vector__",Rh="value";function Oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nm(n)?4:CM(n)?9007199254740991:RM(n)?10:11:Ge(28295,{value:n})}function Yi(n,e){if(n===e)return!0;const t=Oa(n);if(t!==Oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ia(a.timestampValue),d=Ia(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Na(a.bytesValue).isEqual(Na(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return nn(a.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return nn(a.integerValue)===nn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=nn(a.doubleValue),d=nn(o.doubleValue);return c===d?Sh(c)===Sh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(Bx(c)!==Bx(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Yi(c[h],d[h])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function ru(n,e){if(n===e)return 0;const t=Oa(n),r=Oa(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=nn(o.integerValue||o.doubleValue),h=nn(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return qx(n.timestampValue,e.timestampValue);case 4:return qx(qc(n),qc(e));case 5:return Ey(n.stringValue,e.stringValue);case 6:return function(o,c){const d=Na(o),h=Na(c);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=nt(d[p],h[p]);if(g!==0)return g}return nt(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=nt(nn(o.latitude),nn(c.latitude));return d!==0?d:nt(nn(o.longitude),nn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Hx(n.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,p,g;const _=o.fields||{},w=c.fields||{},x=(d=_[Rh])===null||d===void 0?void 0:d.arrayValue,S=(h=w[Rh])===null||h===void 0?void 0:h.arrayValue,I=nt(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:Hx(x,S)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===Gf.mapValue&&c===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const w=Ey(h[_],g[_]);if(w!==0)return w;const x=ru(d[h[_]],p[g[_]]);if(x!==0)return x}return nt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function qx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Ia(n),r=Ia(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function Hx(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=ru(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function iu(n){return Ty(n)}function Ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Na(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Ty(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Ty(t.fields[c])}`;return a+"}"}(n.mapValue):Ge(61005,{value:n})}function ah(n){switch(Oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rm(n);return e?16+ah(e):16;case 5:return 2*n.stringValue.length;case 6:return Na(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+ah(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return ja(r.fields,(o,c)=>{a+=o.length+ah(c)}),a}(n.mapValue);default:throw Ge(13486,{value:n})}}function Ch(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sy(n){return!!n&&"integerValue"in n}function Rv(n){return!!n&&"arrayValue"in n}function Gx(n){return!!n&&"nullValue"in n}function $x(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oh(n){return!!n&&"mapValue"in n}function RM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[V1])===null||t===void 0?void 0:t.stringValue)===z1}function Pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ja(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(t)}setAll(e){let t=zn.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Pc(c):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];oh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ja(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new _r(Pc(this.value))}}function U1(n){const e=[];return ja(n.fields,(t,r)=>{const a=new zn([t]);if(oh(r)){const o=U1(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,r,a,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kn(e,0,Ye.min(),Ye.min(),Ye.min(),_r.empty(),0)}static newFoundDocument(e,t,r,a){return new Kn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Kn(e,2,t,Ye.min(),Ye.min(),_r.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Ye.min(),Ye.min(),_r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.position=e,this.inclusive=t}}function Qx(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),t.key):r=ru(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function IM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class dn extends B1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OM(e,t,r):t==="array-contains"?new PM(e,r):t==="in"?new kM(e,r):t==="not-in"?new jM(e,r):t==="array-contains-any"?new LM(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new MM(e,r):new DM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ru(t,this.value)):t!==null&&Oa(this.value)===Oa(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends B1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new yi(e,t)}matches(e){return F1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function F1(n){return n.op==="and"}function q1(n){return NM(n)&&F1(n)}function NM(n){for(const e of n.filters)if(e instanceof yi)return!1;return!0}function Ay(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(q1(n))return n.filters.map(e=>Ay(e)).join(",");{const e=n.filters.map(t=>Ay(t)).join(",");return`${n.op}(${e})`}}function H1(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&Yi(r.value,a.value)}(n,e):n instanceof yi?function(r,a){return a instanceof yi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,d)=>o&&H1(c,a.filters[d]),!0):!1}(n,e):void Ge(19439)}function G1(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof yi?function(t){return t.op.toString()+" {"+t.getFilters().map(G1).join(" ,")+"}"}(n):"Filter"}class OM extends dn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class MM extends dn{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DM extends dn{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class PM extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rv(t)&&Gc(t.arrayValue,this.value)}}class kM extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class jM extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class LM extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function Yx(n,e=null,t=[],r=[],a=null,o=null,c=null){return new VM(n,e,t,r,a,o,c)}function Cv(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ay(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iu(r)).join(",")),e.Ie=t}return e.Ie}function Iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kx(n.startAt,e.startAt)&&Kx(n.endAt,e.endAt)}function Ry(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zM(n,e,t,r,a,o,c,d){return new ko(n,e,t,r,a,o,c,d)}function im(n){return new ko(n)}function Xx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nv(n){return n.collectionGroup!==null}function Pl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bn(zn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $c(o,r))}),t.has(zn.keyField().canonicalString())||e.Ee.push(new $c(zn.keyField(),r))}return e.Ee}function Hi(n){const e=Xe(n);return e.de||(e.de=UM(e,Pl(n))),e.de}function UM(n,e){if(n.limitType==="F")return Yx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new $c(a.field,o)});const t=n.endAt?new su(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new su(n.startAt.position,n.startAt.inclusive):null;return Yx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cy(n,e){const t=n.filters.concat([e]);return new ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ih(n,e,t){return new ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sm(n,e){return Iv(Hi(n),Hi(e))&&n.limitType===e.limitType}function Q1(n){return`${Cv(Hi(n))}|lt:${n.limitType}`}function Al(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>G1(a)).join(", ")}]`),tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>iu(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>iu(a)).join(",")),`Target(${r})`}(Hi(n))}; limitType=${n.limitType})`}function am(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Pl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,d,h){const p=Qx(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,Pl(r),a)||r.endAt&&!function(c,d,h){const p=Qx(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,Pl(r),a))}(n,e)}function BM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K1(n){return(e,t)=>{let r=!1;for(const a of Pl(n)){const o=FM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function FM(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?ru(h,p):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Yt(Le.comparator);function Rs(){return qM}const Y1=new Yt(Le.comparator);function Rc(...n){let e=Y1;for(const t of n)e=e.insert(t.key,t);return e}function X1(n){let e=Y1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return kc()}function W1(){return kc()}function kc(){return new jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const HM=new Yt(Le.comparator),GM=new bn(Le.comparator);function dt(...n){let e=GM;for(const t of n)e=e.add(t);return e}const $M=new bn(nt);function QM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function Z1(n){return{integerValue:""+n}}function KM(n,e){return wM(e)?Z1(e):Ov(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function YM(n,e,t){return n instanceof Qc?function(a,o){const c={fields:{[k1]:{stringValue:P1},[L1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&nm(o)&&(o=rm(o)),o&&(c.fields[j1]=o),{mapValue:c}}(t,e):n instanceof Kc?eS(n,e):n instanceof Yc?tS(n,e):function(a,o){const c=J1(a,o),d=Wx(c)+Wx(a.Re);return Sy(c)&&Sy(a.Re)?Z1(d):Ov(a.serializer,d)}(n,e)}function XM(n,e,t){return n instanceof Kc?eS(n,e):n instanceof Yc?tS(n,e):t}function J1(n,e){return n instanceof Nh?function(r){return Sy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Qc extends om{}class Kc extends om{constructor(e){super(),this.elements=e}}function eS(n,e){const t=nS(e);for(const r of n.elements)t.some(a=>Yi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Yc extends om{constructor(e){super(),this.elements=e}}function tS(n,e){let t=nS(e);for(const r of n.elements)t=t.filter(a=>!Yi(a,r));return{arrayValue:{values:t}}}class Nh extends om{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Wx(n){return nn(n.integerValue||n.doubleValue)}function nS(n){return Rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.field=e,this.transform=t}}function ZM(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Kc&&a instanceof Kc||r instanceof Yc&&a instanceof Yc?nu(r.elements,a.elements,Yi):r instanceof Nh&&a instanceof Nh?Yi(r.Re,a.Re):r instanceof Qc&&a instanceof Qc}(n.transform,e.transform)}class JM{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let lm=class{};function rS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mv(n.key,ti.none()):new fd(n.key,n.data,ti.none());{const t=n.data,r=_r.empty();let a=new bn(zn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new La(n.key,r,new jr(a.toArray()),ti.none())}}function eD(n,e,t){n instanceof fd?function(a,o,c){const d=a.value.clone(),h=Jx(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof La?function(a,o,c){if(!lh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=Jx(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(iS(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function jc(n,e,t,r){return n instanceof fd?function(o,c,d,h){if(!lh(o.precondition,c))return d;const p=o.value.clone(),g=eE(o.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(o,c,d,h){if(!lh(o.precondition,c))return d;const p=eE(o.fieldTransforms,h,c),g=c.data;return g.setAll(iS(o)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,c,d){return lh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function tD(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=J1(r.transform,a||null);o!=null&&(t===null&&(t=_r.empty()),t.set(r.field,o))}return t||null}function Zx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&nu(r,a,(o,c)=>ZM(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fd extends lm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class La extends lm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Jx(n,e,t){const r=new Map;It(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,XM(c,d,t[a]))}return r}function eE(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,YM(o,c,e))}return r}class Mv extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&eD(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W1();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const h=rS(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dt())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>Zx(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>Zx(t,r))}}class Dv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){It(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return HM}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Dv(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,wt;function aD(n){switch(n){case ue.OK:return Ge(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function sS(n){if(n===void 0)return As("GRPC error has no .code"),ue.UNKNOWN;switch(n){case cn.OK:return ue.OK;case cn.CANCELLED:return ue.CANCELLED;case cn.UNKNOWN:return ue.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ue.INTERNAL;case cn.UNAVAILABLE:return ue.UNAVAILABLE;case cn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case cn.NOT_FOUND:return ue.NOT_FOUND;case cn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case cn.ABORTED:return ue.ABORTED;case cn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case cn.DATA_LOSS:return ue.DATA_LOSS;default:return Ge(39323,{code:n})}}(wt=cn||(cn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Ta([4294967295,4294967295],0);function tE(n){const e=I1().encode(n),t=new w1;return t.update(e),new Uint8Array(t.digest())}function nE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ta([t,r],0),new Ta([a,o],0)]}class Pv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cc(`Invalid padding: ${t}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ta.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Ta.fromNumber(r)));return a.compare(oD)===1&&(a=new Ta([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=tE(e),[r,a]=nE(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Pv(o,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=tE(e),[r,a]=nE(t);for(let o=0;o<this.hashCount;o++){const c=this.we(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new um(Ye.min(),a,new Yt(nt),Rs(),dt())}}class hd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hd(r,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class aS{constructor(e,t){this.targetId=e,this.Ce=t}}class oS{constructor(e,t,r=Un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class rE{constructor(){this.Fe=0,this.Me=iE(),this.xe=Un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),t=dt(),r=dt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:o})}}),new hd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=iE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,It(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lD{constructor(e){this.ze=e,this.je=new Map,this.He=Rs(),this.Je=$f(),this.Ye=$f(),this.Ze=new Yt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Ry(o))if(r===0){const c=new Le(o.path);this.tt(t,c,Kn.newNoDocument(c,Ye.min()))}else It(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const d=this.ct(e),h=d?this.lt(d,e,c):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=Na(r).toUint8Array()}catch(h){if(h instanceof D1)return tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Pv(c,a,o)}catch(h){return tu(h instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&Ry(d.target)){const h=new Le(d.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,Kn.newNoDocument(h,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new um(e,t,this.Ze,this.He,r);return this.He=Rs(),this.Je=$f(),this.Ye=$f(),this.Ze=new Yt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new rE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new bn(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new bn(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function $f(){return new Yt(Le.comparator)}function iE(){return new Yt(Le.comparator)}const uD={asc:"ASCENDING",desc:"DESCENDING"},cD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dD={and:"AND",or:"OR"};class fD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iy(n,e){return n.useProto3Json||tm(e)?e:{value:e}}function Oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hD(n,e){return Oh(n,e.toTimestamp())}function Gi(n){return It(!!n,49232),Ye.fromTimestamp(function(t){const r=Ia(t);return new _n(r.seconds,r.nanos)}(n))}function kv(n,e){return Ny(n,e).canonicalString()}function Ny(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uS(n){const e=Bt.fromString(n);return It(mS(e),10190,{key:e.toString()}),e}function Oy(n,e){return kv(n.databaseId,e.path)}function Fg(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(dS(t))}function cS(n,e){return kv(n.databaseId,e)}function mD(n){const e=uS(n);return e.length===4?Bt.emptyPath():dS(e)}function My(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dS(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sE(n,e,t){return{name:Oy(n,e),fields:t.value.mapValue.fields}}function pD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ge(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(It(g===void 0||typeof g=="string",58123),Un.fromBase64String(g||"")):(It(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Un.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?ue.UNKNOWN:sS(p.code);return new xe(g,p.message||"")}(c);t=new oS(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fg(n,r.document.name),o=Gi(r.document.updateTime),c=r.document.createTime?Gi(r.document.createTime):Ye.min(),d=new _r({mapValue:{fields:r.document.fields}}),h=Kn.newFoundDocument(a,o,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new uh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fg(n,r.document),o=r.readTime?Gi(r.readTime):Ye.min(),c=Kn.newNoDocument(a,o),d=r.removedTargetIds||[];t=new uh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fg(n,r.document),o=r.removedTargetIds||[];t=new uh([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new sD(a,o),d=r.targetId;t=new aS(d,c)}}return t}function gD(n,e){let t;if(e instanceof fd)t={update:sE(n,e.key,e.value)};else if(e instanceof Mv)t={delete:Oy(n,e.key)};else if(e instanceof La)t={update:sE(n,e.key,e.data),updateMask:SD(e.fieldMask)};else{if(!(e instanceof nD))return Ge(16599,{ft:e.type});t={verify:Oy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Qc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ge(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:hD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(n,e.precondition)),t}function yD(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?Gi(a.updateTime):Gi(o);return c.isEqual(Ye.min())&&(c=Gi(o)),new JM(c,a.transformResults||[])}(t,e))):[]}function vD(n,e){return{documents:[cS(n,e.path)]}}function _D(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cS(n,a);const o=function(p){if(p.length!==0)return hS(yi.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:Rl(w.field),direction:xD(w.dir)}}(g))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Iy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function bD(n){let e=mD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){It(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const w=fS(_);return w instanceof yi&&q1(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(w=>function(S){return new $c(Cl(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,tm(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(_){const w=!!_.before,x=_.values||[];return new su(x,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,x=_.values||[];return new su(x,w)}(t.endAt)),zM(e,a,c,o,d,"F",h,p)}function wD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(t.unaryFilter.field);return dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Cl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yi.create(t.compositeFilter.filters.map(r=>fS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function xD(n){return uD[n]}function ED(n){return cD[n]}function TD(n){return dD[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Cl(n){return zn.fromServerFormat(n.fieldPath)}function hS(n){return n instanceof dn?function(t){if(t.op==="=="){if($x(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(Gx(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($x(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(Gx(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:ED(t.op),value:t.value}}}(n):n instanceof yi?function(t){const r=t.getFilters().map(a=>hS(a));return r.length===1?r[0]:{compositeFilter:{op:TD(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function SD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t,r,a,o=Ye.min(),c=Ye.min(),d=Un.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.wt=e}}function RD(n){const e=bD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.yn=new ID}addToCollectionParentIndex(e,t){return this.yn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Ca.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class ID{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new bn(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new bn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(pS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new au(0)}static ir(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",ND=1048576;function lE([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class OD{constructor(e){this.cr=e,this.buffer=new bn(lE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(oE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hu(t)?Ae(oE,"Ignoring IndexedDB error during garbage collection: ",t):await fu(t)}await this.Ir(3e5)})}}class DD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(em.le);const r=new OD(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,c,d,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Sl()<=ct.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function PD(n,e){return new DD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&jc(r.mutation,a,jr.empty(),_n.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dt()){const a=go();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let c=Rc();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let o=Rs();const c=kc(),d=function(){return kc()}();return t.forEach((h,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof La)?o=o.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),jc(g.mutation,p,g.mutation.getFieldMask(),_n.now())):c.set(p.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>c.set(p,g)),t.forEach((p,g)=>{var _;return d.set(p,new jD(g,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const r=kc();let a=new Yt((c,d)=>c-d),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||jr.empty();g=d.applyToLocalView(p,g),r.set(h,g);const _=(a.get(d.batchId)||dt()).add(h);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,_=W1();g.forEach(w=>{if(!o.has(w)){const x=rS(t.get(w),r.get(w));x!==null&&_.set(w,x),o=o.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return he.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):he.resolve(go());let d=Fc,h=o;return c.next(p=>he.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,dt())).next(g=>({batchId:d,changes:X1(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Rc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Rc();return this.indexManager.getCollectionParents(e,o).next(d=>he.forEach(d,h=>{const p=function(_,w){return new ko(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((_,w)=>{c=c.insert(_,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(c=>{o.forEach((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Kn.newInvalidDocument(g)))});let d=Rc();return c.forEach((h,p)=>{const g=o.get(h);g!==void 0&&jc(g.mutation,p,jr.empty(),_n.now()),am(t,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return he.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:RD(a.bundledQuery),readTime:Gi(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.overlays=new Yt(Le.comparator),this.Or=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=go();return he.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const a=go(),o=t.length+1,c=new Le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Yt((p,g)=>p-g);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=go(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=go(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=a)););return he.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new iD(t,r));let o=this.Or.get(t);o===void 0&&(o=dt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Nr=new bn(Rn.Br),this.Lr=new bn(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=dt();return this.Lr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new bn(Rn.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rD(o,t,r,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Rn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Av:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],c=>{const d=this.jr(c.Gr);o.push(d)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(nt);return t.forEach(a=>{const o=new Rn(a,0),c=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],d=>{r=r.add(d.Gr)})}),he.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const c=new Rn(new Le(o),0);let d=new bn(nt);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.Gr)),!0)},c),he.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){It(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return he.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Zr=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Rs();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Kn.newInvalidDocument(a))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Rs();const c=t.path,d=new Le(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||yM(gM(g),r)<=0||(a.has(g.key)||am(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}Xr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qD(this)}getSize(e){return he.resolve(this.size)}}class qD extends kD{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.ei=new jo(t=>Cv(t),Iv),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new jv,this.targetCount=0,this.ri=au.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),he.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new au(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.ar(t),he.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),he.waitFor(o).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.ii={},this.overlays={},this.si=new em(0),this.oi=!1,this.oi=!0,this._i=new UD,this.referenceDelegate=e(this),this.ai=new HD(this),this.indexManager=new CD,this.remoteDocumentCache=function(a){return new FD(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new AD(t),this.ci=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new BD(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new GD(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return he.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class GD extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ti=new jv,this.Ii=null}static Ei(e){return new Lv(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return he.or([()=>he.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.Ri=new jo(r=>xM(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=PD(this,t)}static Ei(e,t){return new Mh(e,t)}li(){}hi(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return he.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?he.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(r++,o.removeEntry(c,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ah(e.data.value)),t}gr(e,t,r){return he.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return he.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=dt(),a=dt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Vv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return FN()?8:bM(Xn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new $D;return this.fs(e,t,c).next(d=>{if(o.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Sl()<=ct.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(Sl()<=ct.DEBUG&&Ae("QueryEngine","Query:",Al(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Sl()<=ct.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):he.resolve())}Rs(e,t){if(Xx(t))return he.resolve(null);let r=Hi(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ih(t,null,"F"),r=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=dt(...o);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,d);return this.ys(t,p,c,h.readTime)?this.Rs(e,Ih(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,a){return Xx(t)||a.isEqual(Ye.min())?he.resolve(null):this.As.getDocuments(e,r).next(o=>{const c=this.ps(t,o);return this.ys(t,c,r,a)?he.resolve(null):(Sl()<=ct.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Al(t)),this.ws(e,c,t,pM(a,Fc)).next(d=>d))})}ps(e,t){let r=new bn(K1(e));return t.forEach((a,o)=>{am(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Sl()<=ct.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Al(t)),this.As.getDocumentsMatchingQuery(e,t,Ca.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LocalStore",KD=3e8;class YD{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Yt(nt),this.Ds=new jo(o=>Cv(o),Iv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function XD(n,e,t,r){return new YD(n,e,t,r)}async function yS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=dt();for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:d}))})})}function WD(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,g){const _=p.batch,w=_.keys();let x=he.resolve();return w.forEach(S=>{x=x.next(()=>g.getEntry(h,S)).next(I=>{const M=p.docVersions.get(S);It(M!==null,48541),I.version.compareTo(M)<0&&(_.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),g.addEntry(I)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=dt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function vS(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function ZD(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((g,_)=>{const w=a.get(_);if(!w)return;d.push(t.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,_)));let x=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(Un.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),a=a.insert(_,x),function(I,M,R){return I.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=KD?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(w,x,g)&&d.push(t.ai.updateTargetData(o,x))});let h=Rs(),p=dt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),d.push(JD(o,c,e.documentUpdates).next(g=>{h=g.xs,p=g.Os})),!r.isEqual(Ye.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(g)}return he.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=a,o))}function JD(n,e,t){let r=dt(),a=dt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Rs();return t.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Ye.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ae(zv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{xs:c,Os:a}})}function eP(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Av),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tP(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,he.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new ya(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Dy(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!hu(c))throw c;Ae(zv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function uE(n,e,t){const r=Xe(n);let a=Ye.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,g){const _=Xe(h),w=_.Ds.get(g);return w!==void 0?he.resolve(_.Ss.get(w)):_.ai.getTargetData(p,g)}(r,c,Hi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Ye.min(),t?o:dt())).next(d=>(nP(r,BM(e),d),{documents:d,Ns:o})))}function nP(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class cE{constructor(){this.activeTargetIds=QM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rP{constructor(){this.So=new cE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new cE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class fE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(dE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function Py(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="RestConnection",sP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aP{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const c=Py(),d=this.$o(e,t.toUriEncodedString());Ae(qg,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,a,o),this.Ko(e,d,h,r).then(p=>(Ae(qg,`Received RPC '${e}' ${c}: `,p),p),p=>{throw tu(qg,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Wo(e,t,r,a,o,c){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=sP[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class lP extends aP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=Py();return new Promise((c,d)=>{const h=new x1;h.setWithCredentials(!0),h.listenOnce(E1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case sh.NO_ERROR:const g=h.getResponseJson();Ae(Gn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case sh.TIMEOUT:Ae(Gn,`RPC '${e}' ${o} timed out`),d(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const _=h.getStatus();if(Ae(Gn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const S=function(M){const R=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(R)>=0?R:ue.UNKNOWN}(x.status);d(new xe(S,x.message))}else d(new xe(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ae(Gn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae(Gn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",p,r,15)})}a_(e,t,r){const a=Py(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=A1(),d=S1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Ae(Gn,`Creating RPC '${e}' stream ${a}: ${g}`,h);const _=c.createWebChannel(g,h);let w=!1,x=!1;const S=new oP({Go:M=>{x?Ae(Gn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(Ae(Gn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),Ae(Gn,`RPC '${e}' stream ${a} sending:`,M),_.send(M))},zo:()=>_.close()}),I=(M,R,E)=>{M.listen(R,C=>{try{E(C)}catch(U){setTimeout(()=>{throw U},0)}})};return I(_,Ac.EventType.OPEN,()=>{x||(Ae(Gn,`RPC '${e}' stream ${a} transport opened.`),S.t_())}),I(_,Ac.EventType.CLOSE,()=>{x||(x=!0,Ae(Gn,`RPC '${e}' stream ${a} transport closed`),S.r_())}),I(_,Ac.EventType.ERROR,M=>{x||(x=!0,tu(Gn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.r_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))}),I(_,Ac.EventType.MESSAGE,M=>{var R;if(!x){const E=M.data[0];It(!!E,16349);const C=E,U=(C==null?void 0:C.error)||((R=C[0])===null||R===void 0?void 0:R.error);if(U){Ae(Gn,`RPC '${e}' stream ${a} received error:`,U);const k=U.status;let P=function(N){const j=cn[N];if(j!==void 0)return sS(j)}(k),V=U.message;P===void 0&&(P=ue.INTERNAL,V="Unknown error status: "+k+" with message "+U.message),x=!0,S.r_(new xe(P,V)),_.close()}else Ae(Gn,`RPC '${e}' stream ${a} received:`,E),S.i_(E)}}),I(d,T1.STAT_EVENT,M=>{M.stat===xy.PROXY?Ae(Gn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===xy.NOPROXY&&Ae(Gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){return new fD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class bS{constructor(e,t,r,a,o,c,d,h){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _S(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(As(t.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ae(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uP extends bS{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=pD(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ye.min():c.readTime?Gi(c.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=My(this.serializer),t.addTarget=function(o,c){let d;const h=c.target;if(d=Ry(h)?{documents:vD(o,h)}:{query:_D(o,h).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=lS(o,c.resumeToken);const p=Iy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ye.min())>0){d.readTime=Oh(o,c.snapshotVersion.toTimestamp());const p=Iy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=wD(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=My(this.serializer),t.removeTarget=e,this.F_(t)}}class cP extends bS{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=yD(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=My(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gD(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{}class fP extends dP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(e,Ny(t,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Ny(t,r),a,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(ue.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class hP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(As(t),this.ea=!1):Ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class mP{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{r.enqueueAndForget(async()=>{Lo(this)&&(Ae(Io,"Restarting streams for network reachability change."),await async function(h){const p=Xe(h);p.aa.add(4),await md(p),p.la.set("Unknown"),p.aa.delete(4),await dm(p)}(this))})}),this.la=new hP(r,a)}}async function dm(n){if(Lo(n))for(const e of n.ua)await e(!0)}async function md(n){for(const e of n.ua)await e(!1)}function wS(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),qv(t)?Fv(t):mu(t).b_()&&Bv(t,e))}function Uv(n,e){const t=Xe(n),r=mu(t);t._a.delete(e),r.b_()&&xS(t,e),t._a.size===0&&(r.b_()?r.v_():Lo(t)&&t.la.set("Unknown"))}function Bv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mu(n).U_(e)}function xS(n,e){n.ha.Ke(e),mu(n).K_(e)}function Fv(n){n.ha=new lD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),mu(n).start(),n.la.ta()}function qv(n){return Lo(n)&&!mu(n).w_()&&n._a.size>0}function Lo(n){return Xe(n).aa.size===0}function ES(n){n.ha=void 0}async function pP(n){n.la.set("Online")}async function gP(n){n._a.forEach((e,t)=>{Bv(n,e)})}async function yP(n,e){ES(n),qv(n)?(n.la.ia(e),Fv(n)):n.la.set("Unknown")}async function vP(n,e,t){if(n.la.set("Online"),e instanceof oS&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const d of o.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(r){Ae(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(n,r)}else if(e instanceof uh?n.ha.Xe(e):e instanceof aS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await vS(n.localStore);t.compareTo(r)>=0&&await function(o,c){const d=o.ha.It(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o._a.get(p);g&&o._a.set(p,g.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const g=o._a.get(h);if(!g)return;o._a.set(h,g.withResumeToken(Un.EMPTY_BYTE_STRING,g.snapshotVersion)),xS(o,h);const _=new ya(g.target,h,p,g.sequenceNumber);Bv(o,_)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ae(Io,"Failed to raise snapshot:",r),await Dh(n,r)}}async function Dh(n,e,t){if(!hu(e))throw e;n.aa.add(1),await md(n),n.la.set("Offline"),t||(t=()=>vS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Io,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await dm(n)})}function TS(n,e){return e().catch(t=>Dh(n,t,e))}async function fm(n){const e=Xe(n),t=Ma(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Av;for(;_P(e);)try{const a=await eP(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,bP(e,a)}catch(a){await Dh(e,a)}SS(e)&&AS(e)}function _P(n){return Lo(n)&&n.oa.length<10}function bP(n,e){n.oa.push(e);const t=Ma(n);t.b_()&&t.W_&&t.G_(e.mutations)}function SS(n){return Lo(n)&&!Ma(n).w_()&&n.oa.length>0}function AS(n){Ma(n).start()}async function wP(n){Ma(n).H_()}async function xP(n){const e=Ma(n);for(const t of n.oa)e.G_(t.mutations)}async function EP(n,e,t){const r=n.oa.shift(),a=Dv.from(r,e,t);await TS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await fm(n)}async function TP(n,e){e&&Ma(n).W_&&await async function(r,a){if(function(c){return aD(c)&&c!==ue.ABORTED}(a.code)){const o=r.oa.shift();Ma(r).D_(),await TS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await fm(r)}}(n,e),SS(n)&&AS(n)}async function mE(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Io,"RemoteStore received new credentials");const r=Lo(t);t.aa.add(3),await md(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await dm(t)}async function SP(n,e){const t=Xe(n);e?(t.aa.delete(2),await dm(t)):e||(t.aa.add(2),await md(t),t.la.set("Unknown"))}function mu(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new uP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:pP.bind(null,n),Jo:gP.bind(null,n),Zo:yP.bind(null,n),Q_:vP.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),qv(n)?Fv(n):n.la.set("Unknown")):(await n.Pa.stop(),ES(n))})),n.Pa}function Ma(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new cP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:wP.bind(null,n),Zo:TP.bind(null,n),z_:xP.bind(null,n),j_:EP.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await fm(n)):(await n.Ta.stop(),n.oa.length>0&&(Ae(Io,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,d=new Hv(e,t,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(n,e){if(As("AsyncQueue",`${e}: ${n}`),hu(n))return new xe(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Ia=new Yt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,a,o,c,d,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ou(e,t,kl.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class RP{constructor(){this.queries=gE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=gE(),o.forEach((c,d)=>{for(const h of d.Ra)h.onError(r)})})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function gE(){return new jo(n=>Q1(n),sm)}async function $v(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new AP,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Gv(c,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Kv(t)}async function Qv(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Ra.indexOf(e);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CP(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Ra)d.pa(a)&&(r=!0);c.Aa=a}}r&&Kv(t)}function IP(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Kv(n){n.fa.forEach(e=>{e.next()})}var ky,yE;(yE=ky||(ky={})).ya="default",yE.Cache="cache";class Yv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class NP{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dt(),this.mutatedKeys=dt(),this.Ua=K1(e),this.Ka=new kl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new pE,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,_)=>{const w=a.get(g),x=am(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),I=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;w&&x?w.data.isEqual(x.data)?S!==I&&(r.track({type:3,doc:x}),M=!0):this.ja(w,x)||(r.track({type:2,doc:x}),M=!0,(h&&this.Ua(x,h)>0||p&&this.Ua(x,p)<0)&&(d=!0)):!w&&x?(r.track({type:0,doc:x}),M=!0):w&&!x&&(r.track({type:1,doc:w}),M=!0,(h||p)&&(d=!0)),M&&(x?(c=c.add(x),o=I?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:c,za:r,ys:d,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((g,_)=>function(x,S){const I=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:M})}};return I(x)-I(S)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(r),a=a!=null&&a;const d=t&&!a?this.Ja():[],h=this.$a.size===0&&this.current&&!a?1:0,p=h!==this.Qa;return this.Qa=h,c.length!==0||p?{snapshot:new ou(this.query,e.Ka,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new pE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new CS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new RS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ou.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xv="SyncEngine";class OP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MP{constructor(e){this.key=e,this.tu=!1}}class DP{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new jo(d=>Q1(d),sm),this.iu=new Map,this.su=new Set,this.ou=new Yt(Le.comparator),this._u=new Map,this.au=new jv,this.uu={},this.cu=new Map,this.lu=au.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function PP(n,e,t=!0){const r=PS(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await IS(r,e,t,!0),a}async function kP(n,e){const t=PS(n);await IS(t,e,!0,!1)}async function IS(n,e,t,r){const a=await tP(n.localStore,Hi(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await jP(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&wS(n.remoteStore,a),d}async function jP(n,e,t,r,a){n.Pu=(_,w,x)=>async function(I,M,R,E){let C=M.view.Ga(R);C.ys&&(C=await uE(I.localStore,M.query,!1).then(({documents:V})=>M.view.Ga(V,C)));const U=E&&E.targetChanges.get(M.targetId),k=E&&E.targetMismatches.get(M.targetId)!=null,P=M.view.applyChanges(C,I.isPrimaryClient,U,k);return _E(I,M.targetId,P.Ya),P.snapshot}(n,_,w,x);const o=await uE(n.localStore,e,!0),c=new NP(e,o.Ns),d=c.Ga(o.documents),h=hd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,h);_E(n,t,p.Ya);const g=new OP(e,t,c);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function LP(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(c=>!sm(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Dy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Uv(r.remoteStore,a.targetId),jy(r,a.targetId)}).catch(fu)):(jy(r,a.targetId),await Dy(r.localStore,a.targetId,!0))}async function VP(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Uv(t.remoteStore,r.targetId))}async function zP(n,e,t){const r=$P(n);try{const a=await function(c,d){const h=Xe(c),p=_n.now(),g=d.reduce((x,S)=>x.add(S.key),dt());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Rs(),I=dt();return h.Cs.getEntries(x,g).next(M=>{S=M,S.forEach((R,E)=>{E.isValidDocument()||(I=I.add(R))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,S)).next(M=>{_=M;const R=[];for(const E of d){const C=tD(E,_.get(E.key).overlayedDocument);C!=null&&R.push(new La(E.key,C,U1(C.value.mapValue),ti.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,R,d)}).next(M=>{w=M;const R=M.applyToLocalDocumentSet(_,I);return h.documentOverlayCache.saveOverlays(x,M.batchId,R)})}).then(()=>({batchId:w.batchId,changes:X1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,h){let p=c.uu[c.currentUser.toKey()];p||(p=new Yt(nt)),p=p.insert(d,h),c.uu[c.currentUser.toKey()]=p}(r,a.batchId,t),await pd(r,a.changes),await fm(r.remoteStore)}catch(a){const o=Gv(a,"Failed to persist write");t.reject(o)}}async function NS(n,e){const t=Xe(n);try{const r=await ZD(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t._u.get(o);c&&(It(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?It(c.tu,14607):a.removedDocuments.size>0&&(It(c.tu,42227),c.tu=!1))}),await pd(t,r,e)}catch(r){await fu(r)}}function vE(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const h=Xe(c);h.onlineState=d;let p=!1;h.queries.forEach((g,_)=>{for(const w of _.Ra)w.ga(d)&&(p=!0)}),p&&Kv(h)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UP(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let c=new Yt(Le.comparator);c=c.insert(o,Kn.newNoDocument(o,Ye.min()));const d=dt().add(o),h=new um(Ye.min(),new Map,new Yt(nt),c,d);await NS(r,h),r.ou=r.ou.remove(o),r._u.delete(e),Wv(r)}else await Dy(r.localStore,e,!1).then(()=>jy(r,e,t)).catch(fu)}async function BP(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await WD(t.localStore,e);MS(t,r,null),OS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pd(t,a)}catch(a){await fu(a)}}async function FP(n,e,t){const r=Xe(n);try{const a=await function(c,d){const h=Xe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next(_=>(It(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);MS(r,e,t),OS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pd(r,a)}catch(a){await fu(a)}}function OS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function MS(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||DS(n,r)})}function DS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Uv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Wv(n))}function _E(n,e,t){for(const r of t)r instanceof RS?(n.au.addReference(r.key,e),qP(n,r)):r instanceof CS?(Ae(Xv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||DS(n,r.key)):Ge(19791,{Iu:r})}function qP(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ae(Xv,"New document in limbo: "+t),n.su.add(r),Wv(n))}function Wv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new MP(t)),n.ou=n.ou.insert(t,r),wS(n.remoteStore,new ya(Hi(im(t.path)),r,"TargetPurposeLimboResolution",em.le))}}async function pd(n,e,t){const r=Xe(n),a=[],o=[],c=[];r.ru.isEmpty()||(r.ru.forEach((d,h)=>{c.push(r.Pu(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Vv.Ps(h.targetId,p);o.push(_)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(h,p){const g=Xe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>he.forEach(p,w=>he.forEach(w.ls,x=>g.persistence.referenceDelegate.addReference(_,w.targetId,x)).next(()=>he.forEach(w.hs,x=>g.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))}catch(_){if(!hu(_))throw _;Ae(zv,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const x=g.Ss.get(w),S=x.snapshotVersion,I=x.withLastLimboFreeSnapshotVersion(S);g.Ss=g.Ss.insert(w,I)}}}(r.localStore,o))}async function HP(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ae(Xv,"User change. New user:",e.toKey());const r=await yS(t.localStore,e);t.currentUser=e,function(o,c){o.cu.forEach(d=>{d.forEach(h=>{h.reject(new xe(ue.CANCELLED,c))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(t,r.Ms)}}function GP(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return dt().add(r.key);{let a=dt();const o=t.iu.get(e);if(!o)return a;for(const c of o){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function PS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UP.bind(null,e),e.nu.Q_=CP.bind(null,e.eventManager),e.nu.Tu=IP.bind(null,e.eventManager),e}function $P(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FP.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return XD(this.persistence,new QD,e.initialUser,this.serializer)}Ru(e){return new gS(Lv.Ei,this.serializer)}Au(e){return new rP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class QP extends Ph{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){It(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MD(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new gS(r=>Mh.Ei(r,t),this.serializer)}}class Ly{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HP.bind(null,this.syncEngine),await SP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RP}()}createDatastore(e){const t=cm(e.databaseInfo.databaseId),r=function(o){return new lP(o)}(e.databaseInfo);return function(o,c,d,h){return new fP(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,c,d){return new mP(r,a,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>vE(this.syncEngine,t,0),function(){return fE.C()?new fE:new iP}())}createSyncEngine(e,t){return function(a,o,c,d,h,p,g){const _=new DP(a,o,c,d,h,p);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ae(Io,"RemoteStore shutting down."),o.aa.add(5),await md(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class KP{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Qn.UNAUTHENTICATED,this.clientId=N1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{Ae(Da,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ae(Da,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(Da,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await yS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function bE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await YP(n);Ae(Da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>mE(e.remoteStore,a)),n._onlineComponents=e}async function YP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(Da,"Using user provided OfflineComponentProvider");try{await Gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;tu("Error using user provided cache. Falling back to memory cache: "+t),await Gg(n,new Ph)}}else Ae(Da,"Using default OfflineComponentProvider"),await Gg(n,new QP(void 0));return n._offlineComponents}async function kS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(Da,"Using user provided OnlineComponentProvider"),await bE(n,n._uninitializedComponentsProvider._online)):(Ae(Da,"Using default OnlineComponentProvider"),await bE(n,new Ly))),n._onlineComponents}function XP(n){return kS(n).then(e=>e.syncEngine)}async function kh(n){const e=await kS(n),t=e.eventManager;return t.onListen=PP.bind(null,e.syncEngine),t.onUnlisten=LP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VP.bind(null,e.syncEngine),t}function WP(n,e,t={}){const r=new Ts;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new Zv({next:w=>{g.yu(),c.enqueueAndForget(()=>Qv(o,_));const x=w.docs.has(d);!x&&w.fromCache?p.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&h&&h.source==="server"?p.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new Yv(im(d.path),g,{includeMetadataChanges:!0,Fa:!0});return $v(o,_)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}function ZP(n,e,t={}){const r=new Ts;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,h,p){const g=new Zv({next:w=>{g.yu(),c.enqueueAndForget(()=>Qv(o,_)),w.fromCache&&h.source==="server"?p.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new Yv(d,g,{includeMetadataChanges:!0,Fa:!0});return $v(o,_)}(await kh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,e,t){if(!t)throw new xe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JP(n,e,t,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xE(n){if(!Le.isDocumentKey(n))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EE(n){if(Le.isDocumentKey(n))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hm(n);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firestore.googleapis.com",TE=!0;class SE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=TE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ND)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aM;switch(r.type){case"firstParty":return new cM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=wE.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),wE.delete(t),r.terminate())}(this),Promise.resolve()}}function e4(n,e,t,r={}){var a;const o=(n=br(n,mm))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==VS&&o.host!==d&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:r});if(!Ao(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Qn.MOCK_USER;else{p=kN(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qn(_)}n._authCredentials=new oM(new C1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va=class zS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zS(this.firestore,e,this._query)}};class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Sa extends Va{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Le(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function pi(n,e,...t){if(n=fn(n),LS("collection","path",e),n instanceof mm){const r=Bt.fromString(e,...t);return EE(r),new Sa(n,null,r)}{if(!(n instanceof Yn||n instanceof Sa))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return EE(r),new Sa(n.firestore,null,r)}}function Xc(n,e,...t){if(n=fn(n),arguments.length===1&&(e=N1.newId()),LS("doc","path",e),n instanceof mm){const r=Bt.fromString(e,...t);return xE(r),new Yn(n,null,new Le(r))}{if(!(n instanceof Yn||n instanceof Sa))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return xE(r),new Yn(n.firestore,n instanceof Sa?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _S(this,"async_queue_retry"),this.ju=()=>{const r=Hg();r&&Ae(AE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ts;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!hu(e))throw e;Ae(AE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,As("INTERNAL UNHANDLED ERROR: ",CE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Hv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:CE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function CE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Cs extends mm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new RE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function t4(n,e){const t=typeof n=="object"?n:v1(),r=typeof n=="string"?n:Ah,a=Tv(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=DN("firestore");o&&e4(a,...o)}return a}function pm(n){if(n._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||n4(n),n._firestoreClient}function n4(n){var e,t,r;const a=n._freezeSettings(),o=function(d,h,p,g){return new SM(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new KP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(Un.fromBase64String(e))}catch(t){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lu(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class i4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}class US{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:n})}}class t0{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(BS(this.oc)&&r4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class s4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cm(e)}dc(e,t,r,a=!1){return new t0({oc:e,methodName:t,Ec:r,path:zn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(n){const e=n._freezeSettings(),t=cm(n._databaseId);return new s4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FS(n,e,t,r,a,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,e,t,a);r0("Data must be an object, but it was:",c,r);const d=HS(r,c);let h,p;if(o.merge)h=new jr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const w=Vy(e,_,t);if(!c.contains(w))throw new xe(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$S(g,w)||g.push(w)}h=new jr(g),p=c.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=c.fieldTransforms;return new i4(new _r(d),h,p)}class vm extends ym{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class n0 extends ym{_toFieldTransform(e){return new WM(e.path,new Qc)}isEqual(e){return e instanceof n0}}function a4(n,e,t,r){const a=n.dc(1,e,t);r0("Data must be an object, but it was:",a,r);const o=[],c=_r.empty();ja(r,(h,p)=>{const g=i0(e,h,t);p=fn(p);const _=a.hc(g);if(p instanceof vm)o.push(g);else{const w=yd(p,_);w!=null&&(o.push(g),c.set(g,w))}});const d=new jr(o);return new US(c,d,a.fieldTransforms)}function o4(n,e,t,r,a,o){const c=n.dc(1,e,t),d=[Vy(e,r,t)],h=[a];if(o.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)d.push(Vy(e,o[w])),h.push(o[w+1]);const p=[],g=_r.empty();for(let w=d.length-1;w>=0;--w)if(!$S(p,d[w])){const x=d[w];let S=h[w];S=fn(S);const I=c.hc(x);if(S instanceof vm)p.push(x);else{const M=yd(S,I);M!=null&&(p.push(x),g.set(x,M))}}const _=new jr(p);return new US(g,_,c.fieldTransforms)}function qS(n,e,t,r=!1){return yd(t,n.dc(r?4:3,e))}function yd(n,e){if(GS(n=fn(n)))return r0("Unsupported field value:",e,n),HS(n,e);if(n instanceof ym)return function(r,a){if(!BS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const d of r){let h=yd(d,a.Pc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_n.fromDate(r);return{timestampValue:Oh(a.serializer,o)}}if(r instanceof _n){const o=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(a.serializer,o)}}if(r instanceof Jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:lS(a.serializer,r._byteString)};if(r instanceof Yn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof e0)return function(c,d){return{mapValue:{fields:{[V1]:{stringValue:z1},[Rh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Tc("VectorValues must only contain numeric values.");return Ov(d.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${hm(r)}`)}(n,e)}function HS(n,e){const t={};return M1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(n,(r,a)=>{const o=yd(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof Jv||n instanceof lu||n instanceof Yn||n instanceof ym||n instanceof e0)}function r0(n,e,t){if(!GS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=hm(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Vy(n,e,t){if((e=fn(e))instanceof gm)return e._internalPath;if(typeof e=="string")return i0(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const l4=new RegExp("[~\\*/\\[\\]]");function i0(n,e,t){if(e.search(l4)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gm(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new xe(ue.INVALID_ARGUMENT,d+n+h)}function $S(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class u4 extends s0{data(){return super.data()}}function _m(n,e){return typeof e=="string"?i0(n,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}class bm extends a0{}function No(n,e,...t){let r=[];e instanceof a0&&r.push(e),r=r.concat(t),function(o){const c=o.filter(h=>h instanceof o0).length,d=o.filter(h=>h instanceof wm).length;if(c>1||c>0&&d>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class wm extends bm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=this._parse(e);return YS(e._query,t),new Va(e.firestore,e.converter,Cy(e._query,t))}_parse(e){const t=gd(e.firestore);return function(o,c,d,h,p,g,_){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){OE(_,g);const S=[];for(const I of _)S.push(NE(h,o,I));w={arrayValue:{values:S}}}else w=NE(h,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||OE(_,g),w=qS(d,c,_,g==="in"||g==="not-in");return dn.create(p,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function va(n,e,t){const r=e,a=_m("where",n);return wm._create(a,r,t)}class o0 extends a0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)YS(c,h),c=Cy(c,h)}(e._query,t),new Va(e.firestore,e.converter,Cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l0 extends bm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new l0(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $c(o,c)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new ko(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function c4(n,e="asc"){const t=e,r=_m("orderBy",n);return l0._create(r,t)}class u0 extends bm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new u0(e,t,r)}_apply(e){return new Va(e.firestore,e.converter,Ih(e._query,this._limit,this._limitType))}}function Lh(n){return u0._create("limit",n,"F")}class c0 extends bm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new c0(e,t,r)}_apply(e){const t=d4(e,this.type,this._docOrFields,this._inclusive);return new Va(e.firestore,e.converter,function(a,o){return new ko(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function KS(...n){return c0._create("startAfter",n,!1)}function d4(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof s0)return function(o,c,d,h,p){if(!h)throw new xe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const _ of Pl(o))if(_.field.isKeyField())g.push(Ch(c,h.key));else{const w=h.data.field(_.field);if(nm(w))throw new xe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const x=_.field.canonicalString();throw new xe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}g.push(w)}return new su(g,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=gd(n.firestore);return function(c,d,h,p,g,_){const w=c.explicitOrderBy;if(g.length>w.length)throw new xe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let S=0;S<g.length;S++){const I=g[S];if(w[S].field.isKeyField()){if(typeof I!="string")throw new xe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof I}`);if(!Nv(c)&&I.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${I}' contains a slash.`);const M=c.path.child(Bt.fromString(I));if(!Le.isDocumentKey(M))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const R=new Le(M);x.push(Ch(d,R))}else{const M=qS(h,p,I);x.push(M)}}return new su(x,_)}(n._query,n.firestore._databaseId,a,e,t,r)}}function NE(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nv(e)&&t.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ch(n,new Le(r))}if(t instanceof Yn)return Ch(n,t._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(t)}.`)}function OE(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(n,e){const t=function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f4{convertValue(e,t="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ja(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>nn(c.doubleValue));return new e0(o)}convertGeoPoint(e){return new Jv(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Ia(e);return new _n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);It(mS(r),9688,{name:e});const a=new Hc(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||As(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WS extends s0{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ch extends WS{data(e={}){return super.data(e)}}class ZS{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ch(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const h=new ch(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new ch(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ic(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:h4(d.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){n=br(n,Yn);const e=br(n.firestore,Cs);return WP(pm(e),n._key).then(t=>eA(e,n,t))}class d0 extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function Vo(n){n=br(n,Va);const e=br(n.firestore,Cs),t=pm(e),r=new d0(e);return QS(n._query),ZP(t,n._query).then(a=>new ZS(e,r,n,a))}function JS(n,e,t){n=br(n,Yn);const r=br(n.firestore,Cs),a=XS(n.converter,e,t);return xm(r,[FS(gd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ti.none())])}function p4(n,e,t,...r){n=br(n,Yn);const a=br(n.firestore,Cs),o=gd(a);let c;return c=typeof(e=fn(e))=="string"||e instanceof gm?o4(o,"updateDoc",n._key,e,t,r):a4(o,"updateDoc",n._key,e),xm(a,[c.toMutation(n._key,ti.exists(!0))])}function g4(n){return xm(br(n.firestore,Cs),[new Mv(n._key,ti.none())])}function y4(n,e){const t=br(n.firestore,Cs),r=Xc(n),a=XS(n.converter,e);return xm(t,[FS(gd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}function v4(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||IE(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(IE(e[c])){const _=e[c];e[c]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let h,p,g;if(n instanceof Yn)p=br(n.firestore,Cs),g=im(n._key.path),h={next:_=>{e[c]&&e[c](eA(p,n,_))},error:e[c+1],complete:e[c+2]};else{const _=br(n,Va);p=br(_.firestore,Cs),g=_._query;const w=new d0(p);h={next:x=>{e[c]&&e[c](new ZS(p,w,_,x))},error:e[c+1],complete:e[c+2]},QS(n._query)}return function(w,x,S,I){const M=new Zv(I),R=new Yv(x,M,S);return w.asyncQueue.enqueueAndForget(async()=>$v(await kh(w),R)),()=>{M.yu(),w.asyncQueue.enqueueAndForget(async()=>Qv(await kh(w),R))}}(pm(p),g,d,h)}function xm(n,e){return function(r,a){const o=new Ts;return r.asyncQueue.enqueueAndForget(async()=>zP(await XP(r),a,o)),o.promise}(pm(n),e)}function eA(n,e,t){const r=t.docs.get(e._key),a=new d0(n);return new WS(n,a,e._key,r,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}function _4(){return new n0("serverTimestamp")}(function(e,t=!0){(function(a){du=a})(cu),eu(new Ro("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Cs(new lM(r.getProvider("auth-internal")),new dM(c,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(p.options.projectId,g)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ea(Dx,Px,e),Ea(Dx,Px,"esm2017")})();var b4="firebase",w4="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(b4,w4,"app");function f0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x4=tA,nA=new cd("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new xv("@firebase/auth");function E4(n,...e){Vh.logLevel<=ct.WARN&&Vh.warn(`Auth (${cu}): ${n}`,...e)}function dh(n,...e){Vh.logLevel<=ct.ERROR&&Vh.error(`Auth (${cu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(n,...e){throw h0(n,...e)}function $i(n,...e){return h0(n,...e)}function rA(n,e,t){const r=Object.assign(Object.assign({},x4()),{[e]:t});return new cd("auth","Firebase",r).create(e,{appName:n.name})}function Aa(n){return rA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nA.create(n,...e)}function He(n,e,...t){if(!n)throw h0(e,...t)}function xs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dh(e),new Error(e)}function Is(n,e){n||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function T4(){return ME()==="http:"||ME()==="https:"}function ME(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||zN()||"connection"in navigator)?navigator.onLine:!0}function A4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Is(t>e,"Short delay should be less than long delay!"),this.isMobile=jN()||UN()}get(){return S4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e){Is(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I4=new vd(3e4,6e4);function zo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function za(n,e,t,r,a={}){return sA(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=dd(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return VN()||(p.referrerPolicy="no-referrer"),iA.fetch()(await aA(n,n.config.apiHost,t,d),p)})}async function sA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},R4),e);try{const a=new O4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Kf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Kf(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Kf(n,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw rA(n,g,p);vi(n,g)}}catch(a){if(a instanceof Ns)throw a;vi(n,"network-request-failed",{message:String(a)})}}async function Em(n,e,t,r,a={}){const o=await za(n,e,t,r,a);return"mfaPendingCredential"in o&&vi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function aA(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?m0(n.config,a):`${n.config.apiScheme}://${a}`;return C4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function N4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),I4.get())})}}function Kf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=$i(n,e,r);return a.customData._tokenResponse=t,a}function DE(n){return n!==void 0&&n.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return N4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D4(n,e){return za(n,"GET","/v2/recaptchaConfig",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(n,e){return za(n,"POST","/v1/accounts:delete",e)}async function zh(n,e){return za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k4(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=p0(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Lc($g(a.auth_time)),issuedAtTime:Lc($g(a.iat)),expirationTime:Lc($g(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $g(n){return Number(n)*1e3}function p0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const a=d1(t);return a?JSON.parse(a):(dh("Failed to decode base64 JWT payload"),null)}catch(a){return dh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function PE(n){const e=p0(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ns&&j4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function j4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Wc(n,zh(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oA(o.providerUserInfo):[],d=z4(n.providerData,c),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),g=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Uy(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function V4(n){const e=fn(n);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z4(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function oA(n){return n.map(e=>{var{providerId:t}=e,r=f0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n,e){const t=await sA(n,{},async()=>{const r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await aA(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",iA.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B4(n,e){return za(n,"POST","/v2/accounts:revokeToken",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await U4(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new jl;return r&&(He(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=f0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return k4(this,e)}reload(){return V4(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Wc(this,P4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,c,d,h,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,R=(p=t.createdAt)!==null&&p!==void 0?p:void 0,E=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:C,emailVerified:U,isAnonymous:k,providerData:P,stsTokenManager:V}=t;He(C&&V,e,"internal-error");const O=jl.fromJSON(this.name,V);He(typeof C=="string",e,"internal-error"),ta(_,e.name),ta(w,e.name),He(typeof U=="boolean",e,"internal-error"),He(typeof k=="boolean",e,"internal-error"),ta(x,e.name),ta(S,e.name),ta(I,e.name),ta(M,e.name),ta(R,e.name),ta(E,e.name);const N=new hi({uid:C,auth:e,email:w,emailVerified:U,displayName:_,isAnonymous:k,photoURL:S,phoneNumber:x,tenantId:I,stsTokenManager:O,createdAt:R,lastLoginAt:E});return P&&Array.isArray(P)&&(N.providerData=P.map(j=>Object.assign({},j))),M&&(N._redirectEventId=M),N}static async _fromIdTokenResponse(e,t,r=!1){const a=new jl;a.updateFromServerResponse(t);const o=new hi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Uh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?oA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new jl;d.updateFromIdToken(r);const h=new hi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function Es(n){Is(n instanceof Function,"Expected a class definition");let e=kE.get(n);return e?(Is(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lA.type="NONE";const jE=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ll{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=fh(this.userKey,a.apiKey,o),this.fullPersistenceKey=fh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?hi._fromGetAccountInfoResponse(this.auth,t,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ll(Es(jE),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Es(jE);const c=fh(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(c);if(g){let _;if(typeof g=="string"){const w=await zh(e,{idToken:g}).catch(()=>{});if(!w)break;_=await hi._fromGetAccountInfoResponse(e,w,g)}else _=hi._fromJSON(e,g);p!==o&&(d=_),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ll(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mA(e))return"Blackberry";if(pA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||dA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uA(n=Xn()){return/firefox\//i.test(n)}function cA(n=Xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dA(n=Xn()){return/crios\//i.test(n)}function fA(n=Xn()){return/iemobile/i.test(n)}function hA(n=Xn()){return/android/i.test(n)}function mA(n=Xn()){return/blackberry/i.test(n)}function pA(n=Xn()){return/webos/i.test(n)}function g0(n=Xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F4(n=Xn()){var e;return g0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q4(){return BN()&&document.documentMode===10}function gA(n=Xn()){return g0(n)||hA(n)||pA(n)||mA(n)||/windows phone/i.test(n)||fA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n,e=[]){let t;switch(n){case"Browser":t=LE(Xn());break;case"Worker":t=`${LE(Xn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n,e={}){return za(n,"GET","/v2/passwordPolicy",zo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=6;class Q4{constructor(e){var t,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new H4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Es(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Aa(this));const t=e?fn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G4(this),t=new Q4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await B4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Es(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Es(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&E4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pu(n){return fn(n)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y4(n){Tm=n}function vA(n){return Tm.loadJS(n)}function X4(){return Tm.recaptchaEnterpriseScript}function W4(){return Tm.gapiScript}function Z4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class J4{constructor(){this.enterprise=new e3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class e3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const t3="recaptcha-enterprise",_A="NO_RECAPTCHA";class n3{constructor(e){this.type=t3,this.auth=pu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{D4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new M4(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{d(h)})})}function a(o,c,d){const h=window.grecaptcha;DE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(_A)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J4().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&DE(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=X4();h.length!==0&&(h+=d),vA(h).then(()=>{a(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function zE(n,e,t,r=!1,a=!1){const o=new n3(n);let c;if(a)c=_A;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function UE(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await zE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await zE(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n,e){const t=Tv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ao(o,e??{}))return a;vi(a,"already-initialized")}return t.initialize({options:e})}function i3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Es);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function s3(n,e,t){const r=pu(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=bA(e),{host:c,port:d}=a3(e),h=d===null?"":`:${d}`,p={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ao(p,r.config.emulator)&&Ao(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,o3()}function bA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a3(n){const e=bA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:BE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:BE(c)}}}function BE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function o3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,t){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function l3(n,e){return za(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(n,e){return Em(n,"POST","/v1/accounts:signInWithPassword",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))}async function d3(n,e){return Em(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends y0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,t,"signInWithPassword",u3);case"emailLink":return c3(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(e,r,"signUpPassword",l3);case"emailLink":return d3(e,{idToken:t,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e){return Em(n,"POST","/v1/accounts:signInWithIdp",zo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="http://localhost";class Oo extends y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=f0(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Oo(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vl(e,t)}buildRequest(){const e={requestUri:f3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m3(n){const e=Tc(Sc(n)).link,t=e?Tc(Sc(e)).deep_link_id:null,r=Tc(Sc(n)).deep_link_id;return(r?Tc(Sc(r)).link:null)||r||t||e||n}class v0{constructor(e){var t,r,a,o,c,d;const h=Tc(Sc(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=h3((a=h.mode)!==null&&a!==void 0?a:null);He(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=m3(e);try{return new v0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.providerId=gu.PROVIDER_ID}static credential(e,t){return Zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=v0.parseLink(t);return He(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}gu.PROVIDER_ID="password";gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends wA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends _d{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return aa.credential(t,r)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends _d{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends _d{constructor(){super("twitter.com")}static credential(e,t){return Oo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return la.credential(t,r)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await hi._fromIdTokenResponse(e,r,a),c=FE(r);return new uu({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=FE(r);return new uu({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Ns{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Bh(e,t,r,a)}}function xA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(n,o,e,r):o})}async function p3(n,e,t=!1){const r=await Wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(n,e,t=!1){const{auth:r}=n;if(fi(r.app))return Promise.reject(Aa(r));const a="reauthenticate";try{const o=await Wc(n,xA(r,a,e,n),t);He(o.idToken,r,"internal-error");const c=p0(o.idToken);He(c,r,"internal-error");const{sub:d}=c;return He(n.uid===d,r,"user-mismatch"),uu._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e,t=!1){if(fi(n.app))return Promise.reject(Aa(n));const r="signIn",a=await xA(n,r,e),o=await uu._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function y3(n,e){return EA(pu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(n){const e=pu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _3(n,e,t){return fi(n.app)?Promise.reject(Aa(n)):y3(fn(n),gu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v3(n),r})}function b3(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function w3(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function x3(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function E3(n){return fn(n).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1e3,S3=10;class SA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);q4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,S3):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const A3=SA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AA.type="SESSION";const RA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,o)),h=await R3(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=_0("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(w.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function I3(n){Qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function N3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function M3(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebaseLocalStorageDb",D3=1,qh="firebaseLocalStorage",NA="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Am(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function P3(){const n=indexedDB.deleteDatabase(IA);return new bd(n).toPromise()}function By(){const n=indexedDB.open(IA,D3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qh,{keyPath:NA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await P3(),e(await By()))})})}async function qE(n,e,t){const r=Am(n,!0).put({[NA]:e,value:t});return new bd(r).toPromise()}async function k3(n,e){const t=Am(n,!1).get(e),r=await new bd(t).toPromise();return r===void 0?null:r.value}function HE(n,e){const t=Am(n,!0).delete(e);return new bd(t).toPromise()}const j3=800,L3=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await By(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>L3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sm._getInstance(M3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await N3(),!this.activeServiceWorker)return;this.sender=new C3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await By();return await qE(e,Fh,"1"),await HE(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>k3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Am(a,!1).getAll();return new bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const V3=OA;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n,e){return e?Es(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function U3(n){return EA(n.auth,new b0(n),n.bypassAuthState)}function B3(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),g3(t,new b0(n),n.bypassAuthState)}async function F3(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),p3(t,new b0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return B3;default:vi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new vd(2e3,1e4);class Nl extends MA{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=_0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q3.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="pendingRedirect",hh=new Map;class G3 extends MA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await $3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(n,e){const t=Y3(e),r=K3(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function Q3(n,e){hh.set(n._key(),e)}function K3(n){return Es(n._redirectPersistence)}function Y3(n){return fh(H3,n.config.apiKey,n.name)}async function X3(n,e,t=!1){if(fi(n.app))return Promise.reject(Aa(n));const r=pu(n),a=z3(r,e),c=await new G3(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=10*60*1e3;class Z3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($i(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W3&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e={}){return za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nk=/^https?/;async function rk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ek(n);for(const t of e)try{if(ik(t))return}catch{}vi(n,"unauthorized-domain")}function ik(n){const e=zy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!nk.test(t))return!1;if(tk.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new vd(3e4,6e4);function $E(){const n=Qi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ak(n){return new Promise((e,t)=>{var r,a,o;function c(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t($i(n,"network-request-failed"))},timeout:sk.get()})}if(!((a=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Qi().gapi)===null||o===void 0)&&o.load)c();else{const d=Z4("iframefcb");return Qi()[d]=()=>{gapi.load?c():t($i(n,"network-request-failed"))},vA(`${W4()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw mh=null,e})}let mh=null;function ok(n){return mh=mh||ak(n),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new vd(5e3,15e3),uk="__/auth/iframe",ck="emulator/auth/iframe",dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hk(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?m0(e,ck):`https://${n.config.authDomain}/${uk}`,r={apiKey:e.apiKey,appName:n.name,v:cu},a=fk.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dd(r).slice(1)}`}async function mk(n){const e=await ok(n),t=Qi().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:hk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dk,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=$i(n,"network-request-failed"),d=Qi().setTimeout(()=>{o(c)},lk.get());function h(){Qi().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gk=500,yk=600,vk="_blank",_k="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bk(n,e,t,r=gk,a=yk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},pk),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Xn().toLowerCase();t&&(d=dA(p)?vk:t),uA(p)&&(e=e||_k,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[x,S])=>`${w}${x}=${S},`,"");if(F4(p)&&d!=="_self")return wk(e||"",d),new QE(null);const _=window.open(e||"",d,g);He(_,n,"popup-blocked");try{_.focus()}catch{}return new QE(_)}function wk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="__/auth/handler",Ek="emulator/auth/handler",Tk=encodeURIComponent("fac");async function KE(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:cu,eventId:a};if(e instanceof wA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",KN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof _d){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),p=h?`#${Tk}=${encodeURIComponent(h)}`:"";return`${Sk(n)}?${dd(d).slice(1)}${p}`}function Sk({config:n}){return n.emulator?m0(n,Ek):`https://${n.authDomain}/${xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class Ak{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RA,this._completeRedirectFn=X3,this._overrideRedirectResult=Q3}async _openPopup(e,t,r,a){var o;Is((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await KE(e,t,r,zy(),a);return bk(e,c,_0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await KE(e,t,r,zy(),a);return I3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await mk(e),r=new Z3(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qg,{type:Qg},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Qg];c!==void 0&&t(!!c),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gA()||cA()||g0()}}const Rk=Ak;var YE="@firebase/auth",XE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nk(n){eu(new Ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(n)},p=new K4(r,a,o,h);return i3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),eu(new Ro("auth-internal",e=>{const t=pu(e.getProvider("auth").getImmediate());return(r=>new Ck(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(YE,XE,Ik(n)),Ea(YE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=5*60,Mk=m1("authIdTokenMaxAge")||Ok;let WE=null;const Dk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Mk)return;const a=t==null?void 0:t.token;WE!==a&&(WE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Pk(n=v1()){const e=Tv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=r3(n,{popupRedirectResolver:Rk,persistence:[V3,A3,RA]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=Dk(o.toString());w3(t,c,()=>c(t.currentUser)),b3(t,d=>c(d))}}const a=f1("auth");return a&&s3(t,`http://${a}`),t}function kk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Y4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=$i("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",kk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nk("Browser");const jk={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},Lk=y1(jk),Kg=Pk(),or=t4(Lk),Vk=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Vo(pi(or,"headline")),a=[];r.forEach(o=>{const c=o.data();c.news&&a.push(c.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),y.jsxs("div",{className:"w-[100%] md:w-[75%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[y.jsx("div",{className:"shrink-0 whitespace-nowrap text-[14px]",children:y.jsx("a",{href:"tel:+8801712345678",children:" +880 1712 345 678"})}),y.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:y.jsx(a1,{children:n.map((t,r)=>y.jsx("span",{className:"mx-4",children:t},r))})}),y.jsxs("div",{className:"flex flex-row gap-1 md:gap-2 shrink-0",children:[y.jsx("a",{href:"",children:y.jsx(xN,{})}),y.jsx("a",{href:"",children:y.jsx(TN,{})}),y.jsx("a",{href:"",children:y.jsx(EN,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),ZE=n=>{const e=Uk(n);return e.charAt(0).toUpperCase()+e.slice(1)},PA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Bk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>q.createElement("svg",{ref:h,...Fk,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PA("lucide",a),...!o&&!Bk(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>q.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(qk,{ref:o,iconNode:e,className:PA(`lucide-${zk(ZE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=ZE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gk=lr("chevron-down",Hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qk=lr("chevron-up",$k);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yg=lr("clock",Kk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Xk=lr("facebook",Yk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Zk=lr("house",Wk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ej=lr("instagram",Jk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],nj=lr("list",tj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ij=lr("mail",rj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aj=lr("map-pin",sj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],lj=lr("menu",oj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],kA=lr("phone",uj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xg=lr("search",cj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wg=lr("shopping-cart",dj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],hj=lr("twitter",fj);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pj=lr("x",mj),Fy="/assets/Untitled%20design%20(1)-d8yNnjIf.png",gj=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[c,d]=q.useState([]),[h,p]=q.useState(!0),[g,_]=q.useState(0);q.useEffect(()=>{(async()=>{try{const S=No(pi(or,"menu-categories"),c4("order")),I=await Vo(S),M=[];I.forEach(R=>{M.push({id:R.id,...R.data()})}),d(M),p(!1)}catch(S){console.error("Error fetching menu items:",S),p(!1)}})()},[]),q.useEffect(()=>{const x=()=>{const I=(JSON.parse(localStorage.getItem("cart"))||[]).reduce((M,R)=>M+R.quantity,0);_(I)};return x(),window.addEventListener("storage",x),window.addEventListener("cartUpdated",x),()=>{window.removeEventListener("storage",x),window.removeEventListener("cartUpdated",x)}},[]);const w=x=>{o(S=>S===x?null:x)};return h?y.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[y.jsxs("div",{className:"flex space-x-6 items-center",children:[y.jsx(gt,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),c.map(x=>x.type==="dropdown"?y.jsxs("div",{className:"group relative",children:[y.jsx(gt,{to:`/category/${x.id}`,className:"text-gray-700 hover:text-black capitalize",children:x.id}),y.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:x.items.map(S=>y.jsx(gt,{to:`${S.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:S.name},S.path))})]},x.id):y.jsx(gt,{to:x.path,className:"text-gray-700 hover:text-black capitalize",children:x.id},x.id))]}),y.jsx("div",{className:"flex justify-center items-center z-50",children:y.jsx(gt,{to:"/",children:y.jsx("img",{src:Fy,alt:"Brand Logo",className:"h-[190px] w-auto"})})}),y.jsxs("div",{className:"flex space-x-6 items-center",children:[y.jsxs("div",{className:"group relative",children:[y.jsx(gt,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),y.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:c.filter(x=>x.type==="dropdown").map(x=>y.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[y.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:x.id}),y.jsx("div",{className:"space-y-1",children:x.items.map(S=>y.jsx(gt,{to:`${S.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:S.name},S.path))})]},x.id))})]}),y.jsx(gt,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),y.jsxs(gt,{to:"/cart",className:"text-gray-700 hover:text-black relative",children:[y.jsx(Wg,{size:20}),g>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),y.jsxs("div",{className:"relative flex items-center",children:[y.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:y.jsx(Xg,{size:20})}),t&&y.jsx("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded",children:y.jsx("input",{type:"text",placeholder:"Search...",className:"px-2 py-1 border border-gray-300 rounded w-48 focus:outline-none"})})]})]})]}),y.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[y.jsx("div",{className:"flex items-center",children:y.jsx("button",{onClick:()=>e(!n),children:n?y.jsx(pj,{size:24}):y.jsx(lj,{size:24})})}),y.jsx("div",{className:"flex justify-center items-center z-50",children:y.jsx(gt,{to:"/",children:y.jsx("img",{src:Fy,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),y.jsx("div",{className:"flex items-center",children:y.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:y.jsx(Xg,{size:24})})})]})]}),n&&y.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[y.jsx(gt,{to:"/",className:"block font-semibold",children:"Home"}),c.map(x=>x.type==="dropdown"?y.jsxs("div",{children:[y.jsxs("button",{onClick:()=>w(x.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[x.id,a===x.id?y.jsx(Qk,{size:18}):y.jsx(Gk,{size:18})]}),a===x.id&&y.jsx("div",{className:"ml-4 mt-2 space-y-1",children:x.items.map(S=>y.jsx(gt,{to:`${S.path}`,className:"block capitalize",children:S.name},S.path))})]},x.id):y.jsx(gt,{to:x.path,className:"block font-semibold capitalize",children:x.id},x.id)),y.jsx(gt,{to:"/orders",className:"block font-semibold",children:"Orders"}),y.jsxs(gt,{to:"/cart",className:"flex items-center space-x-2 relative",children:[y.jsx(Wg,{size:20}),y.jsx("span",{children:"Cart"}),g>0&&y.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]}),y.jsxs("div",{children:[y.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 text-gray-700",children:[y.jsx(Xg,{size:20}),y.jsx("span",{children:"Search"})]}),t&&y.jsx("div",{className:"mt-2",children:y.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none"})})]})]})]}),y.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:y.jsxs("div",{className:"flex justify-around items-center h-16",children:[y.jsxs(gt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[y.jsx(Zk,{size:20}),y.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),y.jsxs(gt,{to:"/all-categories",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[y.jsx(nj,{size:20}),y.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),y.jsxs(gt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[y.jsx(Wg,{size:20}),y.jsx("span",{className:"text-xs mt-1",children:"Cart"}),g>0&&y.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g})]}),y.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[y.jsx(kA,{size:20}),y.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})})]})},yj=()=>y.jsx("div",{children:y.jsx("div",{children:y.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:y.jsx(a1,{children:"hnbkjbndsfh;kln"})})})});var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function vr(){}function vj(n,e){return typeof n=="function"?n(e):n}function qy(n){return typeof n=="number"&&n>=0&&n!==1/0}function jA(n,e){return Math.max(n+(e||0)-Date.now(),0)}function zl(n,e){return typeof n=="function"?n(e):n}function di(n,e){return typeof n=="function"?n(e):n}function JE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:d}=n;if(c){if(r){if(e.queryHash!==w0(c,e.options))return!1}else if(!ed(e.queryKey,c))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||o&&!o(e))}function eT(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Jc(e.options.mutationKey)!==Jc(o))return!1}else if(!ed(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function w0(n,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(n)}function Jc(n){return JSON.stringify(n,(e,t)=>Gy(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function ed(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ed(n[t],e[t])):!1}function LA(n,e){if(n===e)return n;const t=tT(n)&&tT(e);if(t||Gy(n)&&Gy(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),c=o.length,d=t?[]:{};let h=0;for(let p=0;p<c;p++){const g=t?p:o[p];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=LA(n[g],e[g]),d[g]===n[g]&&n[g]!==void 0&&h++)}return a===c&&h===a?n:d}return e}function Hy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function tT(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Gy(n){if(!nT(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!nT(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function nT(n){return Object.prototype.toString.call(n)==="[object Object]"}function _j(n){return new Promise(e=>{setTimeout(e,n)})}function $y(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?LA(n,e):e}function bj(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function wj(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var x0=Symbol();function VA(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===x0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function xj(n,e){return typeof n=="function"?n(...e):!!n}var yo,ua,Bl,ST,Ej=(ST=class extends wd{constructor(){super();Qe(this,yo);Qe(this,ua);Qe(this,Bl);Ne(this,Bl,e=>{if(!Mo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,ua)||this.setEventListener(Y(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ua))==null||e.call(this),Ne(this,ua,void 0))}setEventListener(e){var t;Ne(this,Bl,e),(t=Y(this,ua))==null||t.call(this),Ne(this,ua,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,yo)!==e&&(Ne(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,yo)=="boolean"?Y(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,ua=new WeakMap,Bl=new WeakMap,ST),E0=new Ej,Fl,ca,ql,AT,Tj=(AT=class extends wd{constructor(){super();Qe(this,Fl,!0);Qe(this,ca);Qe(this,ql);Ne(this,ql,e=>{if(!Mo&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,ca)||this.setEventListener(Y(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ca))==null||e.call(this),Ne(this,ca,void 0))}setEventListener(e){var t;Ne(this,ql,e),(t=Y(this,ca))==null||t.call(this),Ne(this,ca,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Fl)!==e&&(Ne(this,Fl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Fl)}},Fl=new WeakMap,ca=new WeakMap,ql=new WeakMap,AT),Hh=new Tj;function Qy(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Sj(n){return Math.min(1e3*2**n,3e4)}function zA(n){return(n??"online")==="online"?Hh.isOnline():!0}var UA=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Zg(n){return n instanceof UA}function BA(n){let e=!1,t=0,r=!1,a;const o=Qy(),c=I=>{var M;r||(w(new UA(I)),(M=n.abort)==null||M.call(n))},d=()=>{e=!0},h=()=>{e=!1},p=()=>E0.isFocused()&&(n.networkMode==="always"||Hh.isOnline())&&n.canRun(),g=()=>zA(n.networkMode)&&n.canRun(),_=I=>{var M;r||(r=!0,(M=n.onSuccess)==null||M.call(n,I),a==null||a(),o.resolve(I))},w=I=>{var M;r||(r=!0,(M=n.onError)==null||M.call(n,I),a==null||a(),o.reject(I))},x=()=>new Promise(I=>{var M;a=R=>{(r||p())&&I(R)},(M=n.onPause)==null||M.call(n)}).then(()=>{var I;a=void 0,r||(I=n.onContinue)==null||I.call(n)}),S=()=>{if(r)return;let I;const M=t===0?n.initialPromise:void 0;try{I=M??n.fn()}catch(R){I=Promise.reject(R)}Promise.resolve(I).then(_).catch(R=>{var P;if(r)return;const E=n.retry??(Mo?0:3),C=n.retryDelay??Sj,U=typeof C=="function"?C(t,R):C,k=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,R);if(e||!k){w(R);return}t++,(P=n.onFail)==null||P.call(n,t,R),_j(U).then(()=>p()?void 0:x()).then(()=>{e?w(R):S()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?S():x().then(S),o)}}var Aj=n=>setTimeout(n,0);function Rj(){let n=[],e=0,t=d=>{d()},r=d=>{d()},a=Aj;const o=d=>{e?n.push(d):a(()=>{t(d)})},c=()=>{const d=n;n=[],d.length&&a(()=>{r(()=>{d.forEach(h=>{t(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},batchCalls:d=>(...h)=>{o(()=>{d(...h)})},schedule:o,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{a=d}}}var Vn=Rj(),vo,RT,FA=(RT=class{constructor(){Qe(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qy(this.gcTime)&&Ne(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Mo?1/0:5*60*1e3))}clearGcTimeout(){Y(this,vo)&&(clearTimeout(Y(this,vo)),Ne(this,vo,void 0))}},vo=new WeakMap,RT),Hl,Gl,Jr,_o,$n,nd,bo,ui,_s,CT,Cj=(CT=class extends FA{constructor(e){super();Qe(this,ui);Qe(this,Hl);Qe(this,Gl);Qe(this,Jr);Qe(this,_o);Qe(this,$n);Qe(this,nd);Qe(this,bo);Ne(this,bo,!1),Ne(this,nd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ne(this,_o,e.client),Ne(this,Jr,Y(this,_o).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ne(this,Hl,Ij(this.options)),this.state=e.state??Y(this,Hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,$n))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,nd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Jr).remove(this)}setData(e,t){const r=$y(this.state.data,e,this.options);return mt(this,ui,_s).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){mt(this,ui,_s).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,$n))==null?void 0:r.promise;return(a=Y(this,$n))==null||a.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Hl))}isActive(){return this.observers.some(e=>di(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===x0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!jA(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,$n))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,$n))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Jr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,$n)&&(Y(this,bo)?Y(this,$n).cancel({revert:!0}):Y(this,$n).cancelRetry()),this.scheduleGc()),Y(this,Jr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,ui,_s).call(this,{type:"invalidate"})}fetch(e,t){var h,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,$n))return Y(this,$n).continueRetry(),Y(this,$n).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ne(this,bo,!0),r.signal)})},o=()=>{const _=VA(this.options,t),w={client:Y(this,_o),queryKey:this.queryKey,meta:this.meta};return a(w),Ne(this,bo,!1),this.options.persister?this.options.persister(_,w,this):_(w)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,_o),state:this.state,fetchFn:o};a(c),(h=this.options.behavior)==null||h.onFetch(c,this),Ne(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&mt(this,ui,_s).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const d=_=>{var w,x,S,I;Zg(_)&&_.silent||mt(this,ui,_s).call(this,{type:"error",error:_}),Zg(_)||((x=(w=Y(this,Jr).config).onError)==null||x.call(w,_,this),(I=(S=Y(this,Jr).config).onSettled)==null||I.call(S,this.state.data,_,this)),this.scheduleGc()};return Ne(this,$n,BA({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:_=>{var w,x,S,I;if(_===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(M){d(M);return}(x=(w=Y(this,Jr).config).onSuccess)==null||x.call(w,_,this),(I=(S=Y(this,Jr).config).onSettled)==null||I.call(S,_,this.state.error,this),this.scheduleGc()},onError:d,onFail:(_,w)=>{mt(this,ui,_s).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{mt(this,ui,_s).call(this,{type:"pause"})},onContinue:()=>{mt(this,ui,_s).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),Y(this,$n).start()}},Hl=new WeakMap,Gl=new WeakMap,Jr=new WeakMap,_o=new WeakMap,$n=new WeakMap,nd=new WeakMap,bo=new WeakMap,ui=new WeakSet,_s=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qA(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Zg(a)&&a.revert&&Y(this,Gl)?{...Y(this,Gl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,Jr).notify({query:this,type:"updated",action:e})})},CT);function qA(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zA(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Ij(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ui,IT,Nj=(IT=class extends wd{constructor(e={}){super();Qe(this,Ui);this.config=e,Ne(this,Ui,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??w0(a,t);let c=this.get(o);return c||(c=new Cj({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){Y(this,Ui).has(e.queryHash)||(Y(this,Ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Ui).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Ui).get(e)}getAll(){return[...Y(this,Ui).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>JE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>JE(e,r)):t}notify(e){Vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ui=new WeakMap,IT),Bi,sr,wo,Fi,ra,NT,Oj=(NT=class extends FA{constructor(e){super();Qe(this,Fi);Qe(this,Bi);Qe(this,sr);Qe(this,wo);this.mutationId=e.mutationId,Ne(this,sr,e.mutationCache),Ne(this,Bi,[]),this.state=e.state||Mj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Bi).includes(e)||(Y(this,Bi).push(e),this.clearGcTimeout(),Y(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ne(this,Bi,Y(this,Bi).filter(t=>t!==e)),this.scheduleGc(),Y(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Bi).length||(this.state.status==="pending"?this.scheduleGc():Y(this,sr).remove(this))}continue(){var e;return((e=Y(this,wo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,d,h,p,g,_,w,x,S,I,M,R,E,C,U,k,P,V,O;const t=()=>{mt(this,Fi,ra).call(this,{type:"continue"})};Ne(this,wo,BA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{mt(this,Fi,ra).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{mt(this,Fi,ra).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,sr).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,wo).canStart();try{if(r)t();else{mt(this,Fi,ra).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=Y(this,sr).config).onMutate)==null?void 0:c.call(o,e,this));const j=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,e));j!==this.state.context&&mt(this,Fi,ra).call(this,{type:"pending",context:j,variables:e,isPaused:a})}const N=await Y(this,wo).start();return await((g=(p=Y(this,sr).config).onSuccess)==null?void 0:g.call(p,N,e,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,N,e,this.state.context)),await((S=(x=Y(this,sr).config).onSettled)==null?void 0:S.call(x,N,null,this.state.variables,this.state.context,this)),await((M=(I=this.options).onSettled)==null?void 0:M.call(I,N,null,e,this.state.context)),mt(this,Fi,ra).call(this,{type:"success",data:N}),N}catch(N){try{throw await((E=(R=Y(this,sr).config).onError)==null?void 0:E.call(R,N,e,this.state.context,this)),await((U=(C=this.options).onError)==null?void 0:U.call(C,N,e,this.state.context)),await((P=(k=Y(this,sr).config).onSettled)==null?void 0:P.call(k,void 0,N,this.state.variables,this.state.context,this)),await((O=(V=this.options).onSettled)==null?void 0:O.call(V,void 0,N,e,this.state.context)),N}finally{mt(this,Fi,ra).call(this,{type:"error",error:N})}}finally{Y(this,sr).runNext(this)}}},Bi=new WeakMap,sr=new WeakMap,wo=new WeakMap,Fi=new WeakSet,ra=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Vn.batch(()=>{Y(this,Bi).forEach(r=>{r.onMutationUpdate(e)}),Y(this,sr).notify({mutation:this,type:"updated",action:e})})},NT);function Mj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ws,ci,rd,OT,Dj=(OT=class extends wd{constructor(e={}){super();Qe(this,ws);Qe(this,ci);Qe(this,rd);this.config=e,Ne(this,ws,new Set),Ne(this,ci,new Map),Ne(this,rd,0)}build(e,t,r){const a=new Oj({mutationCache:this,mutationId:++zf(this,rd)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,ws).add(e);const t=Yf(e);if(typeof t=="string"){const r=Y(this,ci).get(t);r?r.push(e):Y(this,ci).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,ws).delete(e)){const t=Yf(e);if(typeof t=="string"){const r=Y(this,ci).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ci).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Yf(e);if(typeof t=="string"){const r=Y(this,ci).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=Yf(e);if(typeof t=="string"){const a=(r=Y(this,ci).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vn.batch(()=>{Y(this,ws).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,ws).clear(),Y(this,ci).clear()})}getAll(){return Array.from(Y(this,ws))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>eT(t,r))}findAll(e={}){return this.getAll().filter(t=>eT(e,t))}notify(e){Vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},ws=new WeakMap,ci=new WeakMap,rd=new WeakMap,OT);function Yf(n){var e;return(e=n.options.scope)==null?void 0:e.id}function Gh(n){return{onFetch:(e,t)=>{var g,_,w,x,S;const r=e.options,a=(w=(_=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],c=((S=e.state.data)==null?void 0:S.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const p=async()=>{let I=!1;const M=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?I=!0:e.signal.addEventListener("abort",()=>{I=!0}),e.signal)})},R=VA(e.options,e.fetchOptions),E=async(C,U,k)=>{if(I)return Promise.reject();if(U==null&&C.pages.length)return Promise.resolve(C);const P={client:e.client,queryKey:e.queryKey,pageParam:U,direction:k?"backward":"forward",meta:e.options.meta};M(P);const V=await R(P),{maxPages:O}=e.options,N=k?wj:bj;return{pages:N(C.pages,V,O),pageParams:N(C.pageParams,U,O)}};if(a&&o.length){const C=a==="backward",U=C?HA:Ky,k={pages:o,pageParams:c},P=U(r,k);d=await E(k,P,C)}else{const C=n??o.length;do{const U=h===0?c[0]??r.initialPageParam:Ky(r,d);if(h>0&&U==null)break;d=await E(d,U),h++}while(h<C)}return d};e.options.persister?e.fetchFn=()=>{var I,M;return(M=(I=e.options).persister)==null?void 0:M.call(I,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function Ky(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function HA(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function Pj(n,e){return e?Ky(n,e)!=null:!1}function kj(n,e){return!e||!n.getPreviousPageParam?!1:HA(n,e)!=null}var Jt,da,fa,$l,Ql,ha,Kl,Yl,MT,jj=(MT=class{constructor(n={}){Qe(this,Jt);Qe(this,da);Qe(this,fa);Qe(this,$l);Qe(this,Ql);Qe(this,ha);Qe(this,Kl);Qe(this,Yl);Ne(this,Jt,n.queryCache||new Nj),Ne(this,da,n.mutationCache||new Dj),Ne(this,fa,n.defaultOptions||{}),Ne(this,$l,new Map),Ne(this,Ql,new Map),Ne(this,ha,0)}mount(){zf(this,ha)._++,Y(this,ha)===1&&(Ne(this,Kl,E0.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onFocus())})),Ne(this,Yl,Hh.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onOnline())})))}unmount(){var n,e;zf(this,ha)._--,Y(this,ha)===0&&((n=Y(this,Kl))==null||n.call(this),Ne(this,Kl,void 0),(e=Y(this,Yl))==null||e.call(this),Ne(this,Yl,void 0))}isFetching(n){return Y(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,da).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(zl(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Jt).get(r.queryHash),o=a==null?void 0:a.state.data,c=vj(e,o);if(c!==void 0)return Y(this,Jt).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return Vn.batch(()=>Y(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Jt);Vn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Jt);return Vn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Vn.batch(()=>Y(this,Jt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return Vn.batch(()=>(Y(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Vn.batch(()=>Y(this,Jt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Jt).build(this,e);return t.isStaleByTime(zl(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=Gh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=Gh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Hh.isOnline()?Y(this,da).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Jt)}getMutationCache(){return Y(this,da)}getDefaultOptions(){return Y(this,fa)}setDefaultOptions(n){Ne(this,fa,n)}setQueryDefaults(n,e){Y(this,$l).set(Jc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,$l).values()],t={};return e.forEach(r=>{ed(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Ql).set(Jc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Ql).values()],t={};return e.forEach(r=>{ed(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,fa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=w0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===x0&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,fa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Jt).clear(),Y(this,da).clear()}},Jt=new WeakMap,da=new WeakMap,fa=new WeakMap,$l=new WeakMap,Ql=new WeakMap,ha=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,MT),gr,pt,id,ar,xo,Xl,ma,pa,sd,Wl,Zl,Eo,To,ga,Jl,Ct,Nc,Yy,Xy,Wy,Zy,Jy,ev,tv,$A,DT,GA=(DT=class extends wd{constructor(e,t){super();Qe(this,Ct);Qe(this,gr);Qe(this,pt);Qe(this,id);Qe(this,ar);Qe(this,xo);Qe(this,Xl);Qe(this,ma);Qe(this,pa);Qe(this,sd);Qe(this,Wl);Qe(this,Zl);Qe(this,Eo);Qe(this,To);Qe(this,ga);Qe(this,Jl,new Set);this.options=t,Ne(this,gr,e),Ne(this,pa,null),Ne(this,ma,Qy()),this.options.experimental_prefetchInRender||Y(this,ma).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,pt).addObserver(this),rT(Y(this,pt),this.options)?mt(this,Ct,Nc).call(this):this.updateResult(),mt(this,Ct,Zy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nv(Y(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nv(Y(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Ct,Jy).call(this),mt(this,Ct,ev).call(this),Y(this,pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,pt);if(this.options=Y(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof di(this.options.enabled,Y(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Ct,tv).call(this),Y(this,pt).setOptions(this.options),t._defaulted&&!Hy(this.options,t)&&Y(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,pt),observer:this});const a=this.hasListeners();a&&iT(Y(this,pt),r,this.options,t)&&mt(this,Ct,Nc).call(this),this.updateResult(),a&&(Y(this,pt)!==r||di(this.options.enabled,Y(this,pt))!==di(t.enabled,Y(this,pt))||zl(this.options.staleTime,Y(this,pt))!==zl(t.staleTime,Y(this,pt)))&&mt(this,Ct,Yy).call(this);const o=mt(this,Ct,Xy).call(this);a&&(Y(this,pt)!==r||di(this.options.enabled,Y(this,pt))!==di(t.enabled,Y(this,pt))||o!==Y(this,ga))&&mt(this,Ct,Wy).call(this,o)}getOptimisticResult(e){const t=Y(this,gr).getQueryCache().build(Y(this,gr),e),r=this.createResult(t,e);return Vj(this,r)&&(Ne(this,ar,r),Ne(this,Xl,this.options),Ne(this,xo,Y(this,pt).state)),r}getCurrentResult(){return Y(this,ar)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,Jl).add(e)}getCurrentQuery(){return Y(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,gr).defaultQueryOptions(e),r=Y(this,gr).getQueryCache().build(Y(this,gr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return mt(this,Ct,Nc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,ar)))}createResult(e,t){var N;const r=Y(this,pt),a=this.options,o=Y(this,ar),c=Y(this,xo),d=Y(this,Xl),p=e!==r?e.state:Y(this,id),{state:g}=e;let _={...g},w=!1,x;if(t._optimisticResults){const j=this.hasListeners(),B=!j&&rT(e,t),H=j&&iT(e,r,t,a);(B||H)&&(_={..._,...qA(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:S,errorUpdatedAt:I,status:M}=_;x=_.data;let R=!1;if(t.placeholderData!==void 0&&x===void 0&&M==="pending"){let j;o!=null&&o.isPlaceholderData&&t.placeholderData===(d==null?void 0:d.placeholderData)?(j=o.data,R=!0):j=typeof t.placeholderData=="function"?t.placeholderData((N=Y(this,Zl))==null?void 0:N.state.data,Y(this,Zl)):t.placeholderData,j!==void 0&&(M="success",x=$y(o==null?void 0:o.data,j,t),w=!0)}if(t.select&&x!==void 0&&!R)if(o&&x===(c==null?void 0:c.data)&&t.select===Y(this,sd))x=Y(this,Wl);else try{Ne(this,sd,t.select),x=t.select(x),x=$y(o==null?void 0:o.data,x,t),Ne(this,Wl,x),Ne(this,pa,null)}catch(j){Ne(this,pa,j)}Y(this,pa)&&(S=Y(this,pa),x=Y(this,Wl),I=Date.now(),M="error");const E=_.fetchStatus==="fetching",C=M==="pending",U=M==="error",k=C&&E,P=x!==void 0,O={status:M,fetchStatus:_.fetchStatus,isPending:C,isSuccess:M==="success",isError:U,isInitialLoading:k,isLoading:k,data:x,dataUpdatedAt:_.dataUpdatedAt,error:S,errorUpdatedAt:I,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>p.dataUpdateCount||_.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!C,isLoadingError:U&&!P,isPaused:_.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:U&&P,isStale:T0(e,t),refetch:this.refetch,promise:Y(this,ma)};if(this.options.experimental_prefetchInRender){const j=z=>{O.status==="error"?z.reject(O.error):O.data!==void 0&&z.resolve(O.data)},B=()=>{const z=Ne(this,ma,O.promise=Qy());j(z)},H=Y(this,ma);switch(H.status){case"pending":e.queryHash===r.queryHash&&j(H);break;case"fulfilled":(O.status==="error"||O.data!==H.value)&&B();break;case"rejected":(O.status!=="error"||O.error!==H.reason)&&B();break}}return O}updateResult(){const e=Y(this,ar),t=this.createResult(Y(this,pt),this.options);if(Ne(this,xo,Y(this,pt).state),Ne(this,Xl,this.options),Y(this,xo).data!==void 0&&Ne(this,Zl,Y(this,pt)),Hy(t,e))return;Ne(this,ar,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,Jl).size)return!0;const c=new Set(o??Y(this,Jl));return this.options.throwOnError&&c.add("error"),Object.keys(Y(this,ar)).some(d=>{const h=d;return Y(this,ar)[h]!==e[h]&&c.has(h)})};mt(this,Ct,$A).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Ct,Zy).call(this)}},gr=new WeakMap,pt=new WeakMap,id=new WeakMap,ar=new WeakMap,xo=new WeakMap,Xl=new WeakMap,ma=new WeakMap,pa=new WeakMap,sd=new WeakMap,Wl=new WeakMap,Zl=new WeakMap,Eo=new WeakMap,To=new WeakMap,ga=new WeakMap,Jl=new WeakMap,Ct=new WeakSet,Nc=function(e){mt(this,Ct,tv).call(this);let t=Y(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},Yy=function(){mt(this,Ct,Jy).call(this);const e=zl(this.options.staleTime,Y(this,pt));if(Mo||Y(this,ar).isStale||!qy(e))return;const r=jA(Y(this,ar).dataUpdatedAt,e)+1;Ne(this,Eo,setTimeout(()=>{Y(this,ar).isStale||this.updateResult()},r))},Xy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,pt)):this.options.refetchInterval)??!1},Wy=function(e){mt(this,Ct,ev).call(this),Ne(this,ga,e),!(Mo||di(this.options.enabled,Y(this,pt))===!1||!qy(Y(this,ga))||Y(this,ga)===0)&&Ne(this,To,setInterval(()=>{(this.options.refetchIntervalInBackground||E0.isFocused())&&mt(this,Ct,Nc).call(this)},Y(this,ga)))},Zy=function(){mt(this,Ct,Yy).call(this),mt(this,Ct,Wy).call(this,mt(this,Ct,Xy).call(this))},Jy=function(){Y(this,Eo)&&(clearTimeout(Y(this,Eo)),Ne(this,Eo,void 0))},ev=function(){Y(this,To)&&(clearInterval(Y(this,To)),Ne(this,To,void 0))},tv=function(){const e=Y(this,gr).getQueryCache().build(Y(this,gr),this.options);if(e===Y(this,pt))return;const t=Y(this,pt);Ne(this,pt,e),Ne(this,id,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},$A=function(e){Vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,ar))}),Y(this,gr).getQueryCache().notify({query:Y(this,pt),type:"observerResultsUpdated"})})},DT);function Lj(n,e){return di(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function rT(n,e){return Lj(n,e)||n.state.data!==void 0&&nv(n,e,e.refetchOnMount)}function nv(n,e,t){if(di(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&T0(n,e)}return!1}function iT(n,e,t,r){return(n!==e||di(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&T0(n,t)}function T0(n,e){return di(e.enabled,n)!==!1&&n.isStaleByTime(zl(e.staleTime,n))}function Vj(n,e){return!Hy(n.getCurrentResult(),e)}var zj=class extends GA{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:Gh()})}getOptimisticResult(n){return n.behavior=Gh(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var S,I;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:c,isRefetchError:d}=r,h=(I=(S=t.fetchMeta)==null?void 0:S.fetchMore)==null?void 0:I.direction,p=c&&h==="forward",g=a&&h==="forward",_=c&&h==="backward",w=a&&h==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Pj(e,t.data),hasPreviousPage:kj(e,t.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:_,isFetchingPreviousPage:w,isRefetchError:d&&!p&&!_,isRefetching:o&&!g&&!w}}},QA=q.createContext(void 0),Uj=n=>{const e=q.useContext(QA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bj=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),y.jsx(QA.Provider,{value:n,children:e})),KA=q.createContext(!1),Fj=()=>q.useContext(KA);KA.Provider;function qj(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Hj=q.createContext(qj()),Gj=()=>q.useContext(Hj),$j=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Qj=n=>{q.useEffect(()=>{n.clearReset()},[n])},Kj=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||xj(t,[n.error,r])),Yj=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Xj=(n,e)=>n.isLoading&&n.isFetching&&!e,Wj=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,sT=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function YA(n,e,t){var _,w,x,S,I;const r=Uj(),a=Fj(),o=Gj(),c=r.defaultQueryOptions(n);(w=(_=r.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||w.call(_,c),c._optimisticResults=a?"isRestoring":"optimistic",Yj(c),$j(c,o),Qj(o);const d=!r.getQueryCache().get(c.queryHash),[h]=q.useState(()=>new e(r,c)),p=h.getOptimisticResult(c),g=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(M=>{const R=g?h.subscribe(Vn.batchCalls(M)):vr;return h.updateResult(),R},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),q.useEffect(()=>{h.setOptions(c)},[c,h]),Wj(c,p))throw sT(c,h,o);if(Kj({result:p,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((S=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||S.call(x,c,p),c.experimental_prefetchInRender&&!Mo&&Xj(p,a)){const M=d?sT(c,h,o):(I=r.getQueryCache().get(c.queryHash))==null?void 0:I.promise;M==null||M.catch(vr).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?p:h.trackResult(p)}function Zj(n,e){return YA(n,GA)}function XA(n,e){return YA(n,zj)}const WA=()=>{const n=new Date().getFullYear();return y.jsxs("footer",{className:"bg-gray-100 text-gray-700 play-regular border-t border-gray-200 w-full",children:[y.jsx("div",{className:"w-full bg-white py-6 flex justify-center border-b border-gray-200",children:y.jsx(gt,{to:"/",className:"flex justify-center",children:y.jsx("img",{src:Fy,alt:"Brand Logo",className:"h-[120px] w-auto md:h-[150px]"})})}),y.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About Us"}),y.jsx("p",{className:"text-sm",children:"We are dedicated to providing the best products and services to our customers with quality and care."}),y.jsxs("div",{className:"flex space-x-4",children:[y.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:y.jsx(Xk,{size:20})}),y.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:y.jsx(ej,{size:20})}),y.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900",children:y.jsx(hj,{size:20})})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Links"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx(gt,{to:"/",className:"hover:text-gray-900 transition-colors",children:"Home"})}),y.jsx("li",{children:y.jsx(gt,{to:"/about",className:"hover:text-gray-900 transition-colors",children:"About Us"})}),y.jsx("li",{children:y.jsx(gt,{to:"/products",className:"hover:text-gray-900 transition-colors",children:"Products"})}),y.jsx("li",{children:y.jsx(gt,{to:"/contact",className:"hover:text-gray-900 transition-colors",children:"Contact"})}),y.jsx("li",{children:y.jsx(gt,{to:"/privacy-policy",className:"hover:text-gray-900 transition-colors",children:"Privacy Policy"})})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Us"}),y.jsxs("div",{className:"space-y-3 text-sm",children:[y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx(aj,{size:18,className:"mt-0.5 flex-shrink-0"}),y.jsx("span",{children:"123 Street Name, City, Country"})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(ij,{size:18}),y.jsx("a",{href:"mailto:info@example.com",className:"hover:text-gray-900",children:"info@example.com"})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(kA,{size:18}),y.jsx("a",{href:"tel:+1234567890",className:"hover:text-gray-900",children:"+1 234 567 890"})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Opening Hours"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Yg,{size:18}),y.jsx("span",{children:"Monday - Friday: 9am - 8pm"})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Yg,{size:18}),y.jsx("span",{children:"Saturday: 10am - 6pm"})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Yg,{size:18}),y.jsx("span",{children:"Sunday: Closed"})]})]})]})]}),y.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subscribe to Our Newsletter"}),y.jsxs("div",{className:"max-w-md mx-auto flex",children:[y.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-grow px-4 py-2 border border-gray-300 rounded-l focus:outline-none focus:ring-1 focus:ring-gray-400"}),y.jsx("button",{className:"bg-gray-800 text-white px-4 py-2 rounded-r hover:bg-gray-700 transition-colors",children:"Subscribe"})]})]})}),y.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-sm",children:y.jsxs("p",{children:[" ",n," Your Company Name. All rights reserved."]})})]})})]})},Jj=new jj;function eL(){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto px-[1px] ",children:y.jsxs(Bj,{client:Jj,children:[y.jsx(Vk,{}),y.jsx(yj,{}),y.jsx(gj,{}),y.jsx(AI,{}),y.jsx(WA,{})]})})})}const ZA=()=>{const[t,r]=sN(),a=Number(t.get("page"))||1,[o,c]=q.useState(!1),d=q.useRef(null),{data:h=[],isLoading:p}=Zj({queryKey:["allProducts"],queryFn:async()=>{const I=await Vo(pi(or,"products")),M=[];I.forEach(E=>{const C=E.data();C.available&&C.stock>0&&M.push({id:E.id,...C})});const R=[...M];for(let E=R.length-1;E>0;E--){const C=Math.floor(Math.random()*(E+1));[R[E],R[C]]=[R[C],R[E]]}return R},staleTime:1/0,cacheTime:24*60*60*1e3}),g=h.slice(0,3+(a-1)*2),_=I=>{var E;const M=JSON.parse(localStorage.getItem("cart"))||[],R=M.find(C=>C.id===I.id);R?R.quantity+=1:M.push({id:I.id,name:I.name,price:I.discount?(I.price-I.price*(I.discount/100)).toFixed(2):I.price,image:I.mainImage||((E=I.images)==null?void 0:E[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(M)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},w=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:_(I)},x=I=>{I.colorVariants&&I.colorVariants.length>0?window.location.href=`/product/${I.id}`:(_(I),window.location.href="/cart")},S=async()=>{const I=window.scrollY||document.documentElement.scrollTop;c(!0),await new Promise(M=>setTimeout(M,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,I),c(!1)},0)};return p?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):y.jsxs("div",{className:"",ref:d,children:[y.jsx("h2",{className:"text-lg font-semibold mb-4 mt-2",children:"All Products/"}),g.length===0?y.jsx("p",{className:"text-center py-8",children:"No products found."}):y.jsxs(y.Fragment,{children:[y.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:g.map(I=>{var P;const M=I.discount&&I.discount>0,R=I.colorVariants&&I.colorVariants.length>0,C=window.innerWidth<768?17:25,U=I.name.length>C,k=U?`${I.name.substring(0,C)}...`:I.name;return y.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[y.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[y.jsxs(gt,{to:`/product/${I.id}`,className:"relative block",children:[y.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:y.jsx("img",{src:I.mainImage||((P=I.images)==null?void 0:P[0])||"/placeholder-product.jpg",alt:I.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),M&&y.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[I.discount,"%"]})]}),y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[k,U&&y.jsx(gt,{to:`/product/${I.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),y.jsx("div",{className:"md:mt-auto",children:y.jsxs("div",{className:"flex flex-col md:space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["",I.discount?(I.price-I.price*(I.discount/100)).toFixed(2):I.price]}),I.regularPrice&&y.jsx("div",{className:"text-xs text-gray-500",children:y.jsxs("del",{children:["",I.regularPrice]})})]}),I.productType&&y.jsxs("div",{className:"text-xs text-red-400",children:["(",I.productType,")"]})]})})]}),y.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[y.jsx("button",{onClick:()=>w(I),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:R?"Options":"Add to Cart"}),y.jsx("button",{onClick:()=>x(I),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsx("span",{className:`font-medium ${I.stock>0?"text-green-600":"text-red-500"}`,children:I.stock>0?"In Stock":"Out of Stock"}),I.stock>0&&y.jsxs("span",{className:"text-gray-500 text-[11px]",children:[I.stock," units"]})]})]})]},I.id)})}),h.length>g.length&&y.jsx("div",{className:"flex justify-center mt-6 mb-10",children:y.jsx("button",{onClick:S,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function aT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function S0(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:aT(e[r])&&aT(n[r])&&Object.keys(e[r]).length>0&&S0(n[r],e[r])})}const JA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gi(){const n=typeof document<"u"?document:{};return S0(n,JA),n}const tL={document:JA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ur(){const n=typeof window<"u"?window:{};return S0(n,tL),n}function nL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function rL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function rv(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function So(){return Date.now()}function iL(n){const e=ur();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function sL(n,e){e===void 0&&(e="x");const t=ur();let r,a,o;const c=iL(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Oc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function aL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function kr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!aL(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,c=a.length;o<c;o+=1){const d=a[o],h=Object.getOwnPropertyDescriptor(r,d);h!==void 0&&h.enumerable&&(Oc(n[d])&&Oc(r[d])?r[d].__swiper__?n[d]=r[d]:kr(n[d],r[d]):!Oc(n[d])&&Oc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:kr(n[d],r[d])):n[d]=r[d])}}}return n}function Xf(n,e,t){n.style.setProperty(e,t)}function e2(n){let{swiper:e,targetPosition:t,side:r}=n;const a=ur(),o=-e.translate;let c=null,d;const h=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",g=(w,x)=>p==="next"&&w>=x||p==="prev"&&w<=x,_=()=>{d=new Date().getTime(),c===null&&(c=d);const w=Math.max(Math.min((d-c)/h,1),0),x=.5-Math.cos(w*Math.PI)/2;let S=o+x*(t-o);if(g(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),g(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(_)};_()}function mi(n,e){e===void 0&&(e="");const t=ur(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function oL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function lL(n,e){const t=ur();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=oL(n,e))),r}function $h(n){try{console.warn(n);return}catch{}}function Qh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:nL(e)),t}function uL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function cL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function _a(n,e){return ur().getComputedStyle(n,null).getPropertyValue(e)}function Kh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function t2(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Jg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function iv(n,e,t){const r=ur();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Cn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let ey;function dL(){const n=ur(),e=gi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function n2(){return ey||(ey=dL()),ey}let ty;function fL(n){let{userAgent:e}=n===void 0?{}:n;const t=n2(),r=ur(),a=r.navigator.platform,o=e||r.navigator.userAgent,c={ios:!1,android:!1},d=r.screen.width,h=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let g=o.match(/(iPad).*OS\s([\d_]+)/);const _=o.match(/(iPod)(.*OS\s([\d_]+))?/),w=!g&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=a==="Win32";let S=a==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&S&&t.touch&&I.indexOf(`${d}x${h}`)>=0&&(g=o.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),S=!1),p&&!x&&(c.os="android",c.android=!0),(g||w||_)&&(c.os="ios",c.ios=!0),c}function r2(n){return n===void 0&&(n={}),ty||(ty=fL(n)),ty}let ny;function hL(){const n=ur(),e=r2();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function i2(){return ny||(ny=hL()),ny}function mL(n){let{swiper:e,on:t,emit:r}=n;const a=ur();let o=null,c=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},h=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(_=>{c=a.requestAnimationFrame(()=>{const{width:w,height:x}=e;let S=w,I=x;_.forEach(M=>{let{contentBoxSize:R,contentRect:E,target:C}=M;C&&C!==e.el||(S=E?E.width:(R[0]||R).inlineSize,I=E?E.height:(R[0]||R).blockSize)}),(S!==w||I!==x)&&d()})}),o.observe(e.el))},p=()=>{c&&a.cancelAnimationFrame(c),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){h();return}a.addEventListener("resize",d),a.addEventListener("orientationchange",g)}),t("destroy",()=>{p(),a.removeEventListener("resize",d),a.removeEventListener("orientationchange",g)})}function pL(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],c=ur(),d=function(g,_){_===void 0&&(_={});const w=c.MutationObserver||c.WebkitMutationObserver,x=new w(S=>{if(e.__preventObserver__)return;if(S.length===1){a("observerUpdate",S[0]);return}const I=function(){a("observerUpdate",S[0])};c.requestAnimationFrame?c.requestAnimationFrame(I):c.setTimeout(I,0)});x.observe(g,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),o.push(x)},h=()=>{if(e.params.observer){if(e.params.observeParents){const g=t2(e.hostEl);for(let _=0;_<g.length;_+=1)d(g[_])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(g=>{g.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",h),r("destroy",p)}var gL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(h=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[h,...t])}),n.eventsListeners&&n.eventsListeners[h]&&n.eventsListeners[h].forEach(p=>{p.apply(r,t)})}),n}};function yL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(_a(r,"padding-left")||0,10)-parseInt(_a(r,"padding-right")||0,10),t=t-parseInt(_a(r,"padding-top")||0,10)-parseInt(_a(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function vL(){const n=this;function e(j,B){return parseFloat(j.getPropertyValue(n.getDirectionLabel(B))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:c,wrongRTL:d}=n,h=n.virtual&&t.virtual.enabled,p=h?n.virtual.slides.length:n.slides.length,g=mi(a,`.${n.params.slideClass}, swiper-slide`),_=h?n.virtual.slides.length:g.length;let w=[];const x=[],S=[];let I=t.slidesOffsetBefore;typeof I=="function"&&(I=t.slidesOffsetBefore.call(n));let M=t.slidesOffsetAfter;typeof M=="function"&&(M=t.slidesOffsetAfter.call(n));const R=n.snapGrid.length,E=n.slidesGrid.length;let C=t.spaceBetween,U=-I,k=0,P=0;if(typeof o>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*o:typeof C=="string"&&(C=parseFloat(C)),n.virtualSize=-C,g.forEach(j=>{c?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Xf(r,"--swiper-centered-offset-before",""),Xf(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let O;const N=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(j=>typeof t.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<_;j+=1){O=0;let B;if(g[j]&&(B=g[j]),V&&n.grid.updateSlide(j,B,g),!(g[j]&&_a(B,"display")==="none")){if(t.slidesPerView==="auto"){N&&(g[j].style[n.getDirectionLabel("width")]="");const H=getComputedStyle(B),z=B.style.transform,ye=B.style.webkitTransform;if(z&&(B.style.transform="none"),ye&&(B.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?iv(B,"width"):iv(B,"height");else{const we=e(H,"width"),Q=e(H,"padding-left"),oe=e(H,"padding-right"),ae=e(H,"margin-left"),_e=e(H,"margin-right"),F=H.getPropertyValue("box-sizing");if(F&&F==="border-box")O=we+ae+_e;else{const{clientWidth:se,offsetWidth:ge}=B;O=we+Q+oe+ae+_e+(ge-se)}}z&&(B.style.transform=z),ye&&(B.style.webkitTransform=ye),t.roundLengths&&(O=Math.floor(O))}else O=(o-(t.slidesPerView-1)*C)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),g[j]&&(g[j].style[n.getDirectionLabel("width")]=`${O}px`);g[j]&&(g[j].swiperSlideSize=O),S.push(O),t.centeredSlides?(U=U+O/2+k/2+C,k===0&&j!==0&&(U=U-o/2-C),j===0&&(U=U-o/2-C),Math.abs(U)<1/1e3&&(U=0),t.roundLengths&&(U=Math.floor(U)),P%t.slidesPerGroup===0&&w.push(U),x.push(U)):(t.roundLengths&&(U=Math.floor(U)),(P-Math.min(n.params.slidesPerGroupSkip,P))%n.params.slidesPerGroup===0&&w.push(U),x.push(U),U=U+O+C),n.virtualSize+=O+C,k=O,P+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+M,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+C}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+C}px`),V&&n.grid.updateWrapperSize(O,w),!t.centeredSlides){const j=[];for(let B=0;B<w.length;B+=1){let H=w[B];t.roundLengths&&(H=Math.floor(H)),w[B]<=n.virtualSize-o&&j.push(H)}w=j,Math.floor(n.virtualSize-o)-Math.floor(w[w.length-1])>1&&w.push(n.virtualSize-o)}if(h&&t.loop){const j=S[0]+C;if(t.slidesPerGroup>1){const B=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),H=j*t.slidesPerGroup;for(let z=0;z<B;z+=1)w.push(w[w.length-1]+H)}for(let B=0;B<n.virtual.slidesBefore+n.virtual.slidesAfter;B+=1)t.slidesPerGroup===1&&w.push(w[w.length-1]+j),x.push(x[x.length-1]+j),n.virtualSize+=j}if(w.length===0&&(w=[0]),C!==0){const j=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");g.filter((B,H)=>!t.cssMode||t.loop?!0:H!==g.length-1).forEach(B=>{B.style[j]=`${C}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let j=0;S.forEach(H=>{j+=H+(C||0)}),j-=C;const B=j>o?j-o:0;w=w.map(H=>H<=0?-I:H>B?B+M:H)}if(t.centerInsufficientSlides){let j=0;S.forEach(H=>{j+=H+(C||0)}),j-=C;const B=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(j+B<o){const H=(o-j-B)/2;w.forEach((z,ye)=>{w[ye]=z-H}),x.forEach((z,ye)=>{x[ye]=z+H})}}if(Object.assign(n,{slides:g,snapGrid:w,slidesGrid:x,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Xf(r,"--swiper-centered-offset-before",`${-w[0]}px`),Xf(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const j=-n.snapGrid[0],B=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(H=>H+j),n.slidesGrid=n.slidesGrid.map(H=>H+B)}if(_!==p&&n.emit("slidesLengthChange"),w.length!==R&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),x.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!h&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const j=`${t.containerModifierClass}backface-hidden`,B=n.el.classList.contains(j);_<=t.maxBackfaceHiddenSlides?B||n.el.classList.add(j):B&&n.el.classList.remove(j)}}function _L(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(c(d))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;a=d>a?d:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function bL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const oT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function wL(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const p=r[h];let g=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=r[0].swiperSlideOffset);const _=(c+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),w=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),x=-(c-g),S=x+e.slidesSizesGrid[h],I=x>=0&&x<=e.size-e.slidesSizesGrid[h],M=x>=0&&x<e.size-1||S>1&&S<=e.size||x<=0&&S>=e.size;M&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),oT(p,M,t.slideVisibleClass),oT(p,I,t.slideFullyVisibleClass),p.progress=a?-_:_,p.originalProgress=a?-w:w}}function xL(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:d}=e;const h=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const g=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;o=g||a<=0,c=_||a>=1,g&&(a=0),_&&(a=1)}if(t.loop){const g=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),w=e.slidesGrid[g],x=e.slidesGrid[_],S=e.slidesGrid[e.slidesGrid.length-1],I=Math.abs(n);I>=w?d=(I-w)/S:d=(I+S-x)/S,d>1&&(d-=1)}Object.assign(e,{progress:a,progressLoop:d,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const ry=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function EL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,d=_=>mi(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let h,p,g;if(o)if(t.loop){let _=a-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),h=d(`[data-swiper-slide-index="${_}"]`)}else h=d(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(_=>_.column===a),g=e.find(_=>_.column===a+1),p=e.find(_=>_.column===a-1)):h=e[a];h&&(c||(g=cL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),p=uL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{ry(_,_===h,t.slideActiveClass),ry(_,_===g,t.slideNextClass),ry(_,_===p,t.slidePrevClass)}),n.emitSlidesClasses()}const ph=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},iy=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},sv=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,d=[c-e];d.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{d.includes(h.column)&&iy(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const d=(c%t+t)%t;(d<a||d>o)&&iy(n,d)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&iy(n,c)};function TL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function SL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:d}=e;let h=n,p;const g=x=>{let S=x-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof h>"u"&&(h=TL(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const x=Math.min(a.slidesPerGroupSkip,h);p=x+Math.floor((h-x)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(h);return}const _=e.grid&&a.grid&&a.grid.rows>1;let w;if(e.virtual&&a.virtual.enabled&&a.loop)w=g(h);else if(_){const x=e.slides.find(I=>I.column===h);let S=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(x),0)),w=Math.floor(S/a.grid.rows)}else if(e.slides[h]){const x=e.slides[h].getAttribute("data-swiper-slide-index");x?w=parseInt(x,10):w=h}else w=h;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:c,realIndex:w,previousIndex:o,activeIndex:h}),e.initialized&&sv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==w&&e.emit("realIndexChange"),e.emit("slideChange"))}function AL(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!a&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(a=d)});let o=!1,c;if(a){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===a){o=!0,c=d;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var RL={updateSize:yL,updateSlides:vL,updateAutoHeight:_L,updateSlidesOffset:bL,updateSlidesProgress:wL,updateProgress:xL,updateSlidesClasses:EL,updateActiveIndex:SL,updateClickedSlide:AL};function CL(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=sL(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function IL(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let d=0,h=0;const p=0;t.isHorizontal()?d=r?-n:n:h=n,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-h:a.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let g;const _=t.maxTranslate()-t.minTranslate();_===0?g=0:g=(n-t.minTranslate())/_,g!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function NL(){return-this.snapGrid[0]}function OL(){return-this.snapGrid[this.snapGrid.length-1]}function ML(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:c,wrapperEl:d}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let g;if(r&&n>h?g=h:r&&n<p?g=p:g=n,o.updateProgress(g),c.cssMode){const _=o.isHorizontal();if(e===0)d[_?"scrollLeft":"scrollTop"]=-g;else{if(!o.support.smoothScroll)return e2({swiper:o,targetPosition:-g,side:_?"left":"top"}),!0;d.scrollTo({[_?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(g),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(w){!o||o.destroyed||w.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var DL={getTranslate:CL,setTranslate:IL,minTranslate:NL,maxTranslate:OL,translateTo:ML};function PL(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function s2(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:c}=e;let d=r;if(d||(o>c?d="next":o<c?d="prev":d="reset"),e.emit(`transition${a}`),t&&o!==c){if(d==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),d==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function kL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),s2({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function jL(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),s2({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var LL={setTransition:PL,transitionStart:kL,transitionEnd:jL};function VL(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:g,activeIndex:_,rtlTranslate:w,wrapperEl:x,enabled:S}=o;if(!S&&!r&&!a||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const I=Math.min(o.params.slidesPerGroupSkip,c);let M=I+Math.floor((c-I)/o.params.slidesPerGroup);M>=h.length&&(M=h.length-1);const R=-h[M];if(d.normalizeSlideIndex)for(let V=0;V<p.length;V+=1){const O=-Math.floor(R*100),N=Math.floor(p[V]*100),j=Math.floor(p[V+1]*100);typeof p[V+1]<"u"?O>=N&&O<j-(j-N)/2?c=V:O>=N&&O<j&&(c=V+1):O>=N&&(c=V)}if(o.initialized&&c!==_&&(!o.allowSlideNext&&(w?R>o.translate&&R>o.minTranslate():R<o.translate&&R<o.minTranslate())||!o.allowSlidePrev&&R>o.translate&&R>o.maxTranslate()&&(_||0)!==c))return!1;c!==(g||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(R);let E;c>_?E="next":c<_?E="prev":E="reset";const C=o.virtual&&o.params.virtual.enabled;if(!(C&&a)&&(w&&-R===o.translate||!w&&R===o.translate))return o.updateActiveIndex(c),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(R),E!=="reset"&&(o.transitionStart(t,E),o.transitionEnd(t,E)),!1;if(d.cssMode){const V=o.isHorizontal(),O=w?R:-R;if(e===0)C&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),C&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[V?"scrollLeft":"scrollTop"]=O})):x[V?"scrollLeft":"scrollTop"]=O,C&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return e2({swiper:o,targetPosition:O,side:V?"left":"top"}),!0;x.scrollTo({[V?"left":"top"]:O,behavior:"smooth"})}return!0}const P=i2().isSafari;return C&&!a&&P&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(R),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,E),e===0?o.transitionEnd(t,E):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,E))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function zL(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let d;if(o){const w=c*a.params.grid.rows;d=a.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===w).column}else d=a.getSlideIndexByData(c);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let g=a.params.slidesPerView;g==="auto"?g=a.slidesPerViewDynamic():(g=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let _=h-d<g;if(p&&(_=_||d<Math.ceil(g/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(_=!1),_){const w=p?d<a.activeIndex?"prev":"next":d-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:w,slideTo:!0,activeSlideIndex:w==="next"?d+1:d-h+1,slideRealIndex:w==="next"?a.realIndex:void 0})}if(o){const w=c*a.params.grid.rows;c=a.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===w).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function UL(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:d,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function BL(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:d,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const g=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!g&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=d?r.translate:-r.translate;function w(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const x=w(_),S=o.map(E=>w(E)),I=a.freeMode&&a.freeMode.enabled;let M=o[S.indexOf(x)-1];if(typeof M>"u"&&(a.cssMode||I)){let E;o.forEach((C,U)=>{x>=C&&(E=U)}),typeof E<"u"&&(M=I?o[E]:o[E>0?E-1:E])}let R=0;if(typeof M<"u"&&(R=c.indexOf(M),R<0&&(R=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(R=R-r.slidesPerViewDynamic("previous",!0)+1,R=Math.max(R,0))),a.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(R,n,e,t)}),!0;return r.slideTo(R,n,e,t)}function FL(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function qL(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),d=c+Math.floor((o-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[d]){const p=a.snapGrid[d],g=a.snapGrid[d+1];h-p>(g-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[d-1],g=a.snapGrid[d];h-p<=(g-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function HL(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(mi(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),rv(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(mi(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),rv(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var GL={slideTo:VL,slideToLoop:zL,slideNext:UL,slidePrev:BL,slideReset:FL,slideToClosest:qL,slideToClickedSlide:HL};function $L(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{mi(a,`.${r.slideClass}, swiper-slide`).forEach((w,x)=>{w.setAttribute("data-swiper-slide-index",x)})},c=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(c?r.grid.rows:1),h=t.slides.length%d!==0,p=c&&t.slides.length%r.grid.rows!==0,g=_=>{for(let w=0;w<_;w+=1){const x=t.isElement?Qh("swiper-slide",[r.slideBlankClass]):Qh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(x)}};if(h){if(r.loopAddBlankSlides){const _=d-t.slides.length%d;g(_),t.recalcSlides(),t.updateSlides()}else $h("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const _=r.grid.rows-t.slides.length%r.grid.rows;g(_),t.recalcSlides(),t.updateSlides()}else $h("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function QL(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:c,byController:d,byMousewheel:h}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:_,allowSlideNext:w,slidesEl:x,params:S}=p,{centeredSlides:I,initialSlide:M}=S;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&S.virtual.enabled){t&&(!S.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):S.centeredSlides&&p.snapIndex<S.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=_,p.allowSlideNext=w,p.emit("loopFix");return}let R=S.slidesPerView;R==="auto"?R=p.slidesPerViewDynamic():(R=Math.ceil(parseFloat(S.slidesPerView,10)),I&&R%2===0&&(R=R+1));const E=S.slidesPerGroupAuto?R:S.slidesPerGroup;let C=E;C%E!==0&&(C+=E-C%E),C+=S.loopAdditionalSlides,p.loopedSlides=C;const U=p.grid&&S.grid&&S.grid.rows>1;g.length<R+C||p.params.effect==="cards"&&g.length<R+C*2?$h("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):U&&S.grid.fill==="row"&&$h("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],P=[],V=U?Math.ceil(g.length/S.grid.rows):g.length,O=c&&V-M<R&&!I;let N=O?M:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(g.find(Q=>Q.classList.contains(S.slideActiveClass))):N=o;const j=r==="next"||!r,B=r==="prev"||!r;let H=0,z=0;const we=(U?g[o].column:o)+(I&&typeof a>"u"?-R/2+.5:0);if(we<C){H=Math.max(C-we,E);for(let Q=0;Q<C-we;Q+=1){const oe=Q-Math.floor(Q/V)*V;if(U){const ae=V-oe-1;for(let _e=g.length-1;_e>=0;_e-=1)g[_e].column===ae&&k.push(_e)}else k.push(V-oe-1)}}else if(we+R>V-C){z=Math.max(we-(V-C*2),E),O&&(z=Math.max(z,R-V+M+1));for(let Q=0;Q<z;Q+=1){const oe=Q-Math.floor(Q/V)*V;U?g.forEach((ae,_e)=>{ae.column===oe&&P.push(_e)}):P.push(oe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<R+C*2&&(P.includes(o)&&P.splice(P.indexOf(o),1),k.includes(o)&&k.splice(k.indexOf(o),1)),B&&k.forEach(Q=>{g[Q].swiperLoopMoveDOM=!0,x.prepend(g[Q]),g[Q].swiperLoopMoveDOM=!1}),j&&P.forEach(Q=>{g[Q].swiperLoopMoveDOM=!0,x.append(g[Q]),g[Q].swiperLoopMoveDOM=!1}),p.recalcSlides(),S.slidesPerView==="auto"?p.updateSlides():U&&(k.length>0&&B||P.length>0&&j)&&p.slides.forEach((Q,oe)=>{p.grid.updateSlide(oe,Q,p.slides)}),S.watchSlidesProgress&&p.updateSlidesOffset(),t){if(k.length>0&&B){if(typeof e>"u"){const Q=p.slidesGrid[N],ae=p.slidesGrid[N+H]-Q;h?p.setTranslate(p.translate-ae):(p.slideTo(N+Math.ceil(H),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const Q=U?k.length/S.grid.rows:k.length;p.slideTo(p.activeIndex+Q,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(P.length>0&&j)if(typeof e>"u"){const Q=p.slidesGrid[N],ae=p.slidesGrid[N-z]-Q;h?p.setTranslate(p.translate-ae):(p.slideTo(N-z,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const Q=U?P.length/S.grid.rows:P.length;p.slideTo(p.activeIndex-Q,0,!1,!0)}}if(p.allowSlidePrev=_,p.allowSlideNext=w,p.controller&&p.controller.control&&!d){const Q={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...Q,slideTo:oe.params.slidesPerView===S.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...Q,slideTo:p.controller.control.params.slidesPerView===S.slidesPerView?t:!1})}p.emit("loopFix")}function KL(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var YL={loopCreate:$L,loopFix:QL,loopDestroy:KL};function XL(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function WL(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var ZL={setGrabCursor:XL,unsetGrabCursor:WL};function JL(n,e){e===void 0&&(e=this);function t(r){if(!r||r===gi()||r===ur())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function lT(n,e,t){const r=ur(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function eV(n){const e=this,t=gi();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){lT(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!lL(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&g&&(h=g[0]);const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(w?JL(_,h):h.closest(_))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const x=c.currentX,S=c.currentY;if(!lT(e,r,x))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=x,c.startY=S,a.touchStartTime=So(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let I=!0;h.matches(a.focusableElements)&&(I=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const M=I&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||M)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function tV(n){const e=gi(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:d}=t;if(!d||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(k=>k.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const g=p.pageX,_=p.pageY;if(h.preventedByNestedSwiper){o.startX=g,o.startY=_;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:g,startY:_,currentX:g,currentY:_}),r.touchStartTime=So());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(_<o.startY&&t.translate<=t.maxTranslate()||_>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(g>o.startX&&-t.translate<=t.maxTranslate()||g<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(g<o.startX&&t.translate<=t.maxTranslate()||g>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=g,o.currentY=_;const w=o.currentX-o.startX,x=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(w**2+x**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let k;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:w*w+x*x>=25&&(k=Math.atan2(Math.abs(x),Math.abs(w))*180/Math.PI,r.isScrolling=t.isHorizontal()?k>a.touchAngle:90-k>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let S=t.isHorizontal()?w:x,I=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(S=Math.abs(S)*(c?1:-1),I=Math.abs(I)*(c?1:-1)),o.diff=S,S*=a.touchRatio,c&&(S=-S,I=-I);const M=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=I>0?"prev":"next";const R=t.params.loop&&!a.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(R&&E&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&M!==t.touchesDirection&&R&&E&&Math.abs(S)>=1){Object.assign(o,{startX:g,startY:_,currentX:g,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let C=!0,U=a.resistanceRatio;if(a.touchReleaseOnEdges&&(U=0),S>0?(R&&E&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(C=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**U))):S<0&&(R&&E&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(C=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**U))),C&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(S)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function nV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(k=>k.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:d,rtlTranslate:h,slidesGrid:p,enabled:g}=e;if(!g||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=So(),w=_-t.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),w<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=So(),rv(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(c.followFinger?x=h?e.translate:-e.translate:x=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const S=x>=-e.maxTranslate()&&!e.params.loop;let I=0,M=e.slidesSizesGrid[0];for(let k=0;k<p.length;k+=k<c.slidesPerGroupSkip?1:c.slidesPerGroup){const P=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[k+P]<"u"?(S||x>=p[k]&&x<p[k+P])&&(I=k,M=p[k+P]-p[k]):(S||x>=p[k])&&(I=k,M=p[p.length-1]-p[p.length-2])}let R=null,E=null;c.rewind&&(e.isBeginning?E=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const C=(x-p[I])/M,U=I<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(w>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?R:I+U):e.slideTo(I)),e.swipeDirection==="prev"&&(C>1-c.longSwipesRatio?e.slideTo(I+U):E!==null&&C<0&&Math.abs(C)>c.longSwipesRatio?e.slideTo(E):e.slideTo(I))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(I+U):e.slideTo(I):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:I+U),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:I))}}function uT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function rV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function iV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function sV(n){const e=this;ph(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function aV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const a2=(n,e)=>{const t=gi(),{params:r,el:a,wrapperEl:o,device:c}=n,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",uT,!0):n[p]("observerUpdate",uT,!0),a[h]("load",n.onLoad,{capture:!0}))};function oV(){const n=this,{params:e}=n;n.onTouchStart=eV.bind(n),n.onTouchMove=tV.bind(n),n.onTouchEnd=nV.bind(n),n.onDocumentTouchStart=aV.bind(n),e.cssMode&&(n.onScroll=iV.bind(n)),n.onClick=rV.bind(n),n.onLoad=sV.bind(n),a2(n,"on")}function lV(){a2(this,"off")}var uV={attachEvents:oV,detachEvents:lV};const cT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function cV(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=gi(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,d,h);if(!p||n.currentBreakpoint===p)return;const _=(p in o?o[p]:void 0)||n.originalParams,w=cT(n,r),x=cT(n,_),S=n.params.grabCursor,I=_.grabCursor,M=r.enabled;w&&!x?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!w&&x&&(a.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!I?n.unsetGrabCursor():!S&&I&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof _[P]>"u")return;const V=r[P]&&r[P].enabled,O=_[P]&&_[P].enabled;V&&!O&&n[P].disable(),!V&&O&&n[P].enable()});const R=_.direction&&_.direction!==r.direction,E=r.loop&&(_.slidesPerView!==r.slidesPerView||R),C=r.loop;R&&t&&n.changeDirection(),kr(n.params,_);const U=n.params.enabled,k=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),M&&!U?n.disable():!M&&U&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",_),t&&(E?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!C&&k?(n.loopCreate(e),n.updateSlides()):C&&!k&&n.loopDestroy()),n.emit("breakpoint",_)}function dV(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=ur(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:o*h,point:d}}return{value:d,point:d}});c.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<c.length;d+=1){const{point:h,value:p}=c[d];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var fV={setBreakpoint:cV,getBreakpoint:dV};function hV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function mV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=hV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function pV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var gV={addClasses:mV,removeClasses:pV};function yV(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var vV={checkOverflow:yV},av={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function _V(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){kr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){kr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),kr(e,r)}}const sy={eventsEmitter:gL,update:RL,translate:DL,transition:LL,slide:GL,loop:YL,grabCursor:ZL,events:uV,breakpoints:fV,checkOverflow:vV,classes:gV},ay={};let A0=class bs{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=kr({},t),e&&!t.el&&(t.el=e);const c=gi();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const g=[];return c.querySelectorAll(t.el).forEach(_=>{const w=kr({},t,{el:_});g.push(new bs(w))}),g}const d=this;d.__swiper__=!0,d.support=n2(),d.device=r2({userAgent:t.userAgent}),d.browser=i2(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const h={};d.modules.forEach(g=>{g({params:t,swiper:d,extendParams:_V(t,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=kr({},av,h);return d.params=kr({},p,ay,t),d.originalParams=kr({},d.params),d.passedParams=kr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=mi(t,`.${r.slideClass}, swiper-slide`),o=Kh(a[0]);return Kh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=mi(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:d,size:h,activeIndex:p}=r;let g=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let _=o[p]?Math.ceil(o[p].swiperSlideSize):0,w;for(let x=p+1;x<o.length;x+=1)o[x]&&!w&&(_+=Math.ceil(o[x].swiperSlideSize),g+=1,_>h&&(w=!0));for(let x=p-1;x>=0;x-=1)o[x]&&!w&&(_+=o[x].swiperSlideSize,g+=1,_>h&&(w=!0))}else if(e==="current")for(let _=p+1;_<o.length;_+=1)(t?c[_]+d[_]-c[p]<h:c[_]-c[p]<h)&&(g+=1);else for(let _=p-1;_>=0;_-=1)c[p]-c[_]<h&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&ph(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):mi(r,a())[0];return!c&&t.params.createElements&&(c=Qh("div",t.params.wrapperClass),r.append(c),mi(r,`.${t.params.slideClass}`).forEach(d=>{c.append(d)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||_a(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||_a(r,"direction")==="rtl"),wrongRTL:_a(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?ph(t,o):o.addEventListener("load",c=>{ph(t,c.target)})}),sv(t),t.initialized=!0,sv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:c,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),rL(r)),r.destroyed=!0),null}static extendDefaults(e){kr(ay,e)}static get extendedDefaults(){return ay}static get defaults(){return av}static installModule(e){bs.prototype.__modules__||(bs.prototype.__modules__=[]);const t=bs.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>bs.installModule(t)),bs):(bs.installModule(e),bs)}};Object.keys(sy).forEach(n=>{Object.keys(sy[n]).forEach(e=>{A0.prototype[e]=sy[n][e]})});A0.use([mL,pL]);const o2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Do(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Ul(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Do(e[r])&&Do(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Ul(n[r],e[r]):n[r]=e[r]})}function l2(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function u2(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function c2(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function d2(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function bV(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function wV(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:h}=n;const p=a.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:g,pagination:_,navigation:w,scrollbar:x,virtual:S,thumbs:I}=e;let M,R,E,C,U,k,P,V;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(M=!0),a.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(R=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||h)&&(g.pagination||g.pagination===!1)&&_&&!_.el&&(E=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&x&&!x.el&&(C=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||o)&&(g.navigation||g.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(U=!0);const O=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),g[N].prevEl=void 0,g[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),g[N].el=void 0,e[N].el=void 0))};a.includes("loop")&&e.isElement&&(g.loop&&!r.loop?k=!0:!g.loop&&r.loop?P=!0:V=!0),p.forEach(N=>{if(Do(g[N])&&Do(r[N]))Object.assign(g[N],r[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in r[N]&&!r[N].enabled&&O(N);else{const j=r[N];(j===!0||j===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?j===!1&&O(N):g[N]=r[N]}}),p.includes("controller")&&!R&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),a.includes("children")&&t&&S&&g.virtual.enabled?(S.slides=t,S.update(!0)):a.includes("virtual")&&S&&g.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),a.includes("children")&&t&&g.loop&&(V=!0),M&&I.init()&&I.update(!0),R&&(e.controller.control=g.controller.control),E&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-pagination"),h.part.add("pagination"),e.el.appendChild(h)),h&&(g.pagination.el=h),_.init(),_.render(),_.update()),C&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(g.scrollbar.el=d),x.init(),x.updateSize(),x.setTranslate()),U&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),o&&(g.navigation.nextEl=o),c&&(g.navigation.prevEl=c),w.init(),w.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(k||V)&&e.loopDestroy(),(P||V)&&e.loopCreate(),e.update()}function xV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Ul(t,av),t._emitClasses=!0,t.init=!1;const o={},c=o2.map(h=>h.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?Do(n[h])?(t[h]={},a[h]={},Ul(t[h],n[h]),Ul(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function EV(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:c,swiper:d}=n;l2(e)&&r&&a&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=a,d.originalParams.navigation.prevEl=a),u2(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),c2(e)&&c&&(d.params.scrollbar.el=c,d.originalParams.scrollbar.el=c),d.init(t)}function TV(n,e,t,r,a){const o=[];if(!e)return o;const c=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return o2.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Do(n[h])&&Do(e[h])){const p=Object.keys(n[h]),g=Object.keys(e[h]);p.length!==g.length?c(h):(p.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}),g.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}))}else n[h]!==e[h]&&c(h)}),o}const SV=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yh.apply(this,arguments)}function f2(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function h2(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{f2(t)?e.push(t):t.props&&t.props.children&&h2(t.props.children).forEach(r=>e.push(r))}),e}function AV(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(f2(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=h2(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function RV(n,e,t){if(!t)return null;const r=g=>{let _=g;return g<0?_=e.length+g:_>=e.length&&(_=_-e.length),_},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,d=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let g=d;g<h;g+=1)g>=o&&g<=c&&p.push(e[r(g)]);return p.map((g,_)=>Ut.cloneElement(g,{swiper:n,style:a,key:g.props.virtualIndex||g.key||`slide-${_}`}))}function Vc(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const dT=q.createContext(null),CV=q.createContext(null),Ol=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:c,...d}=n===void 0?{}:n,h=!1;const[p,g]=q.useState("swiper"),[_,w]=q.useState(null),[x,S]=q.useState(!1),I=q.useRef(!1),M=q.useRef(null),R=q.useRef(null),E=q.useRef(null),C=q.useRef(null),U=q.useRef(null),k=q.useRef(null),P=q.useRef(null),V=q.useRef(null),{params:O,passedParams:N,rest:j,events:B}=xV(d),{slides:H,slots:z}=AV(o),ye=()=>{S(!x)};Object.assign(O.on,{_containerClasses(_e,F){g(F)}});const we=()=>{Object.assign(O.on,B),h=!0;const _e={...O};if(delete _e.wrapperClass,R.current=new A0(_e),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=H;const F={cache:!1,slides:H,renderExternal:w,renderExternalUpdate:!1};Ul(R.current.params.virtual,F),Ul(R.current.originalParams.virtual,F)}};M.current||we(),R.current&&R.current.on("_beforeBreakpoint",ye);const Q=()=>{h||!B||!R.current||Object.keys(B).forEach(_e=>{R.current.on(_e,B[_e])})},oe=()=>{!B||!R.current||Object.keys(B).forEach(_e=>{R.current.off(_e,B[_e])})};q.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",ye)}),q.useEffect(()=>{!I.current&&R.current&&(R.current.emitSlidesClasses(),I.current=!0)}),Vc(()=>{if(e&&(e.current=M.current),!!M.current)return R.current.destroyed&&we(),EV({el:M.current,nextEl:U.current,prevEl:k.current,paginationEl:P.current,scrollbarEl:V.current,swiper:R.current},O),c&&!R.current.destroyed&&c(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),Vc(()=>{Q();const _e=TV(N,E.current,H,C.current,F=>F.key);return E.current=N,C.current=H,_e.length&&R.current&&!R.current.destroyed&&wV({swiper:R.current,slides:H,passedParams:N,changedParams:_e,nextEl:U.current,prevEl:k.current,scrollbarEl:V.current,paginationEl:P.current}),()=>{oe()}}),Vc(()=>{SV(R.current)},[_]);function ae(){return O.virtual?RV(R.current,H,_):H.map((_e,F)=>Ut.cloneElement(_e,{swiper:R.current,swiperSlideIndex:F}))}return Ut.createElement(r,Yh({ref:M,className:d2(`${p}${t?` ${t}`:""}`)},j),Ut.createElement(CV.Provider,{value:R.current},z["container-start"],Ut.createElement(a,{className:bV(O.wrapperClass)},z["wrapper-start"],ae(),z["wrapper-end"]),l2(O)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:k,className:"swiper-button-prev"}),Ut.createElement("div",{ref:U,className:"swiper-button-next"})),c2(O)&&Ut.createElement("div",{ref:V,className:"swiper-scrollbar"}),u2(O)&&Ut.createElement("div",{ref:P,className:"swiper-pagination"}),z["container-end"]))});Ol.displayName="Swiper";const Ml=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:c,lazy:d,virtualIndex:h,swiperSlideIndex:p,...g}=n===void 0?{}:n;const _=q.useRef(null),[w,x]=q.useState("swiper-slide"),[S,I]=q.useState(!1);function M(U,k,P){k===_.current&&x(P)}Vc(()=>{if(typeof p<"u"&&(_.current.swiperSlideIndex=p),e&&(e.current=_.current),!(!_.current||!o)){if(o.destroyed){w!=="swiper-slide"&&x("swiper-slide");return}return o.on("_slideClass",M),()=>{o&&o.off("_slideClass",M)}}}),Vc(()=>{o&&_.current&&!o.destroyed&&x(o.getSlideClasses(_.current))},[o]);const R={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(R):r,C=()=>{I(!0)};return Ut.createElement(t,Yh({ref:_,className:d2(`${w}${a?` ${a}`:""}`),"data-swiper-slide-index":h,onLoad:C},g),c&&Ut.createElement(dT.Provider,{value:R},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},E(),d&&!S&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Ut.createElement(dT.Provider,{value:R},E(),d&&!S&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});Ml.displayName="SwiperSlide";function m2(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=mi(n.el,`.${r[a]}`)[0];o||(o=Qh("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function gh(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(S){let I;return S&&typeof S=="string"&&e.isElement&&(I=e.el.querySelector(S)||e.hostEl.querySelector(S),I)?I:(S&&(typeof S=="string"&&(I=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&I&&I.length>1&&e.el.querySelectorAll(S).length===1?I=e.el.querySelector(S):I&&I.length===1&&(I=I[0])),S&&!I?S:I)}function c(S,I){const M=e.params.navigation;S=Cn(S),S.forEach(R=>{R&&(R.classList[I?"add":"remove"](...M.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=I),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](M.lockClass))})}function d(){const{nextEl:S,prevEl:I}=e.navigation;if(e.params.loop){c(I,!1),c(S,!1);return}c(I,e.isBeginning&&!e.params.rewind),c(S,e.isEnd&&!e.params.rewind)}function h(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function g(){const S=e.params.navigation;if(e.params.navigation=m2(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let I=o(S.nextEl),M=o(S.prevEl);Object.assign(e.navigation,{nextEl:I,prevEl:M}),I=Cn(I),M=Cn(M);const R=(E,C)=>{E&&E.addEventListener("click",C==="next"?p:h),!e.enabled&&E&&E.classList.add(...S.lockClass.split(" "))};I.forEach(E=>R(E,"next")),M.forEach(E=>R(E,"prev"))}function _(){let{nextEl:S,prevEl:I}=e.navigation;S=Cn(S),I=Cn(I);const M=(R,E)=>{R.removeEventListener("click",E==="next"?p:h),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(R=>M(R,"next")),I.forEach(R=>M(R,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?x():(g(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{_()}),r("enable disable",()=>{let{nextEl:S,prevEl:I}=e.navigation;if(S=Cn(S),I=Cn(I),e.enabled){d();return}[...S,...I].filter(M=>!!M).forEach(M=>M.classList.add(e.params.navigation.lockClass))}),r("click",(S,I)=>{let{nextEl:M,prevEl:R}=e.navigation;M=Cn(M),R=Cn(R);const E=I.target;let C=R.includes(E)||M.includes(E);if(e.isElement&&!C){const U=I.path||I.composedPath&&I.composedPath();U&&(C=U.find(k=>M.includes(k)||R.includes(k)))}if(e.params.navigation.hideOnClick&&!C){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let U;M.length?U=M[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(U=R[0].classList.contains(e.params.navigation.hiddenClass)),a(U===!0?"navigationShow":"navigationHide"),[...M,...R].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const w=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),d()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),_()};Object.assign(e.navigation,{enable:w,disable:x,update:d,init:g,destroy:_})}function bc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function IV(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let c,d=0;function h(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(E,C){const{bulletActiveClass:U}=e.params.pagination;E&&(E=E[`${C==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${U}-${C}`),E=E[`${C==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${U}-${C}-${C}`)))}function g(E,C,U){if(E=E%U,C=C%U,C===E+1)return"next";if(C===E-1)return"previous"}function _(E){const C=E.target.closest(bc(e.params.pagination.bulletClass));if(!C)return;E.preventDefault();const U=Kh(C)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===U)return;const k=g(e.realIndex,U,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(U)}else e.slideTo(U)}function w(){const E=e.rtl,C=e.params.pagination;if(h())return;let U=e.pagination.el;U=Cn(U);let k,P;const V=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(V/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(P=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,P=e.previousSnapIndex):(P=e.previousIndex||0,k=e.activeIndex||0),C.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let j,B,H;if(C.dynamicBullets&&(c=iv(N[0],e.isHorizontal()?"width":"height"),U.forEach(z=>{z.style[e.isHorizontal()?"width":"height"]=`${c*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&P!==void 0&&(d+=k-(P||0),d>C.dynamicMainBullets-1?d=C.dynamicMainBullets-1:d<0&&(d=0)),j=Math.max(k-d,0),B=j+(Math.min(N.length,C.dynamicMainBullets)-1),H=(B+j)/2),N.forEach(z=>{const ye=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(we=>`${C.bulletActiveClass}${we}`)].map(we=>typeof we=="string"&&we.includes(" ")?we.split(" "):we).flat();z.classList.remove(...ye)}),U.length>1)N.forEach(z=>{const ye=Kh(z);ye===k?z.classList.add(...C.bulletActiveClass.split(" ")):e.isElement&&z.setAttribute("part","bullet"),C.dynamicBullets&&(ye>=j&&ye<=B&&z.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),ye===j&&p(z,"prev"),ye===B&&p(z,"next"))});else{const z=N[k];if(z&&z.classList.add(...C.bulletActiveClass.split(" ")),e.isElement&&N.forEach((ye,we)=>{ye.setAttribute("part",we===k?"bullet-active":"bullet")}),C.dynamicBullets){const ye=N[j],we=N[B];for(let Q=j;Q<=B;Q+=1)N[Q]&&N[Q].classList.add(...`${C.bulletActiveClass}-main`.split(" "));p(ye,"prev"),p(we,"next")}}if(C.dynamicBullets){const z=Math.min(N.length,C.dynamicMainBullets+4),ye=(c*z-c)/2-H*c,we=E?"right":"left";N.forEach(Q=>{Q.style[e.isHorizontal()?we:"top"]=`${ye}px`})}}U.forEach((N,j)=>{if(C.type==="fraction"&&(N.querySelectorAll(bc(C.currentClass)).forEach(B=>{B.textContent=C.formatFractionCurrent(k+1)}),N.querySelectorAll(bc(C.totalClass)).forEach(B=>{B.textContent=C.formatFractionTotal(O)})),C.type==="progressbar"){let B;C.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const H=(k+1)/O;let z=1,ye=1;B==="horizontal"?z=H:ye=H,N.querySelectorAll(bc(C.progressbarFillClass)).forEach(we=>{we.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${ye})`,we.style.transitionDuration=`${e.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(N.innerHTML=C.renderCustom(e,k+1,O),j===0&&a("paginationRender",N)):(j===0&&a("paginationRender",N),a("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](C.lockClass)})}function x(){const E=e.params.pagination;if(h())return;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let U=e.pagination.el;U=Cn(U);let k="";if(E.type==="bullets"){let P=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&P>C&&(P=C);for(let V=0;V<P;V+=1)E.renderBullet?k+=E.renderBullet.call(e,V,E.bulletClass):k+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?k=E.renderFraction.call(e,E.currentClass,E.totalClass):k=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?k=E.renderProgressbar.call(e,E.progressbarFillClass):k=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],U.forEach(P=>{E.type!=="custom"&&(P.innerHTML=k||""),E.type==="bullets"&&e.pagination.bullets.push(...P.querySelectorAll(bc(E.bulletClass)))}),E.type!=="custom"&&a("paginationRender",U[0])}function S(){e.params.pagination=m2(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let C;typeof E.el=="string"&&e.isElement&&(C=e.el.querySelector(E.el)),!C&&typeof E.el=="string"&&(C=[...document.querySelectorAll(E.el)]),C||(C=E.el),!(!C||C.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...e.el.querySelectorAll(E.el)],C.length>1&&(C=C.find(U=>t2(U,".swiper")[0]===e.el))),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(e.pagination,{el:C}),C=Cn(C),C.forEach(U=>{E.type==="bullets"&&E.clickable&&U.classList.add(...(E.clickableClass||"").split(" ")),U.classList.add(E.modifierClass+E.type),U.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(U.classList.add(`${E.modifierClass}${E.type}-dynamic`),d=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&U.classList.add(E.progressbarOppositeClass),E.clickable&&U.addEventListener("click",_),e.enabled||U.classList.add(E.lockClass)}))}function I(){const E=e.params.pagination;if(h())return;let C=e.pagination.el;C&&(C=Cn(C),C.forEach(U=>{U.classList.remove(E.hiddenClass),U.classList.remove(E.modifierClass+E.type),U.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(U.classList.remove(...(E.clickableClass||"").split(" ")),U.removeEventListener("click",_))})),e.pagination.bullets&&e.pagination.bullets.forEach(U=>U.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:C}=e.pagination;C=Cn(C),C.forEach(U=>{U.classList.remove(E.horizontalClass,E.verticalClass),U.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?R():(S(),x(),w())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&w()}),r("snapIndexChange",()=>{w()}),r("snapGridLengthChange",()=>{x(),w()}),r("destroy",()=>{I()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=Cn(E),E.forEach(C=>C.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{w()}),r("click",(E,C)=>{const U=C.target,k=Cn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!U.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&U===e.navigation.nextEl||e.navigation.prevEl&&U===e.navigation.prevEl))return;const P=k[0].classList.contains(e.params.pagination.hiddenClass);a(P===!0?"paginationShow":"paginationHide"),k.forEach(V=>V.classList.toggle(e.params.pagination.hiddenClass))}});const M=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Cn(E),E.forEach(C=>C.classList.remove(e.params.pagination.paginationDisabledClass))),S(),x(),w()},R=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Cn(E),E.forEach(C=>C.classList.add(e.params.pagination.paginationDisabledClass))),I()};Object.assign(e.pagination,{enable:M,disable:R,render:x,update:w,init:S,destroy:I})}function NV(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,h=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,g,_=new Date().getTime(),w,x,S,I,M,R,E;function C(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",C),!(E||ae.detail&&ae.detail.bySwiperTouchMove)&&j())}const U=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?w=!0:w&&(p=g,w=!1);const ae=e.autoplay.paused?g:_+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/h),d=requestAnimationFrame(()=>{U()})},k=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(F=>F.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},P=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(d),U();let _e=typeof ae>"u"?e.params.autoplay.delay:ae;h=e.params.autoplay.delay,p=e.params.autoplay.delay;const F=k();!Number.isNaN(F)&&F>0&&typeof ae>"u"&&(_e=F,h=F,p=F),g=_e;const se=e.params.speed,ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,se,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(se,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,se,!0,!0),a("autoplay")),e.params.cssMode&&(_=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return _e>0?(clearTimeout(c),c=setTimeout(()=>{ge()},_e)):requestAnimationFrame(()=>{ge()}),_e},V=()=>{_=new Date().getTime(),e.autoplay.running=!0,P(),a("autoplayStart")},O=()=>{e.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(d),a("autoplayStop")},N=(ae,_e)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(c),ae||(R=!0);const F=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",C):j()};if(e.autoplay.paused=!0,_e){M&&(g=e.params.autoplay.delay),M=!1,F();return}g=(g||e.params.autoplay.delay)-(new Date().getTime()-_),!(e.isEnd&&g<0&&!e.params.loop)&&(g<0&&(g=0),F())},j=()=>{e.isEnd&&g<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(_=new Date().getTime(),R?(R=!1,P(g)):P(),e.autoplay.paused=!1,a("autoplayResume"))},B=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=gi();ae.visibilityState==="hidden"&&(R=!0,N(!0)),ae.visibilityState==="visible"&&j()},H=ae=>{ae.pointerType==="mouse"&&(R=!0,E=!0,!(e.animating||e.autoplay.paused)&&N(!0))},z=ae=>{ae.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&j())},ye=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",H),e.el.addEventListener("pointerleave",z))},we=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",H),e.el.removeEventListener("pointerleave",z))},Q=()=>{gi().addEventListener("visibilitychange",B)},oe=()=>{gi().removeEventListener("visibilitychange",B)};r("init",()=>{e.params.autoplay.enabled&&(ye(),Q(),V())}),r("destroy",()=>{we(),oe(),e.autoplay.running&&O()}),r("_freeModeStaticRelease",()=>{(S||R)&&j()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?O():N(!0,!0)}),r("beforeTransitionStart",(ae,_e,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?N(!0,!0):O())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){O();return}x=!0,S=!1,R=!1,I=setTimeout(()=>{R=!0,S=!0,N(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!x)){if(clearTimeout(I),clearTimeout(c),e.params.autoplay.disableOnInteraction){S=!1,x=!1;return}S&&e.params.cssMode&&j(),S=!1,x=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(M=!0)}),Object.assign(e.autoplay,{start:V,stop:O,pause:N,resume:j})}function fT(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function c(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const g=p.clickedIndex,_=p.clickedSlide;if(_&&_.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof g>"u"||g===null)return;let w;p.params.loop?w=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):w=g,e.params.loop?e.slideToLoop(w):e.slideTo(w)}function d(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const g=e.constructor;if(p.swiper instanceof g){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Oc(p.swiper)){const _=Object.assign({},p.swiper);Object.assign(_,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new g(_),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",c),!0}function h(p){const g=e.thumbs.swiper;if(!g||g.destroyed)return;const _=g.params.slidesPerView==="auto"?g.slidesPerViewDynamic():g.params.slidesPerView;let w=1;const x=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(w=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(w=1),w=Math.floor(w),g.slides.forEach(M=>M.classList.remove(x)),g.params.loop||g.params.virtual&&g.params.virtual.enabled)for(let M=0;M<w;M+=1)mi(g.slidesEl,`[data-swiper-slide-index="${e.realIndex+M}"]`).forEach(R=>{R.classList.add(x)});else for(let M=0;M<w;M+=1)g.slides[e.realIndex+M]&&g.slides[e.realIndex+M].classList.add(x);const S=e.params.thumbs.autoScrollOffset,I=S&&!g.params.loop;if(e.realIndex!==g.realIndex||I){const M=g.activeIndex;let R,E;if(g.params.loop){const C=g.slides.find(U=>U.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);R=g.slides.indexOf(C),E=e.activeIndex>e.previousIndex?"next":"prev"}else R=e.realIndex,E=R>e.previousIndex?"next":"prev";I&&(R+=E==="next"?S:-1*S),g.visibleSlidesIndexes&&g.visibleSlidesIndexes.indexOf(R)<0&&(g.params.centeredSlides?R>M?R=R-Math.floor(_/2)+1:R=R+Math.floor(_/2)-1:R>M&&g.params.slidesPerGroup,g.slideTo(R,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const g=gi(),_=()=>{const x=typeof p.swiper=="string"?g.querySelector(p.swiper):p.swiper;if(x&&x.swiper)p.swiper=x.swiper,d(),h(!0);else if(x){const S=`${e.params.eventsPrefix}init`,I=M=>{p.swiper=M.detail[0],x.removeEventListener(S,I),d(),h(!0),p.swiper.update(),e.update()};x.addEventListener(S,I)}return x},w=()=>{if(e.destroyed)return;_()||requestAnimationFrame(w)};requestAnimationFrame(w)}else d(),h(!0)}),r("slideChange update resize observerUpdate",()=>{h()}),r("setTransition",(p,g)=>{const _=e.thumbs.swiper;!_||_.destroyed||_.setTransition(g)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:d,update:h})}function hT(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const h=e.getTranslate();e.setTranslate(h),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function c(){if(e.params.cssMode)return;const{touchEventsData:h,touches:p}=e;h.velocities.length===0&&h.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:So()})}function d(h){let{currentPos:p}=h;if(e.params.cssMode)return;const{params:g,wrapperEl:_,rtlTranslate:w,snapGrid:x,touchEventsData:S}=e,M=So()-S.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<x.length?e.slideTo(x.length-1):e.slideTo(e.slides.length-1);return}if(g.freeMode.momentum){if(S.velocities.length>1){const O=S.velocities.pop(),N=S.velocities.pop(),j=O.position-N.position,B=O.time-N.time;e.velocity=j/B,e.velocity/=2,Math.abs(e.velocity)<g.freeMode.minimumVelocity&&(e.velocity=0),(B>150||So()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=g.freeMode.momentumVelocityRatio,S.velocities.length=0;let R=1e3*g.freeMode.momentumRatio;const E=e.velocity*R;let C=e.translate+E;w&&(C=-C);let U=!1,k;const P=Math.abs(e.velocity)*20*g.freeMode.momentumBounceRatio;let V;if(C<e.maxTranslate())g.freeMode.momentumBounce?(C+e.maxTranslate()<-P&&(C=e.maxTranslate()-P),k=e.maxTranslate(),U=!0,S.allowMomentumBounce=!0):C=e.maxTranslate(),g.loop&&g.centeredSlides&&(V=!0);else if(C>e.minTranslate())g.freeMode.momentumBounce?(C-e.minTranslate()>P&&(C=e.minTranslate()+P),k=e.minTranslate(),U=!0,S.allowMomentumBounce=!0):C=e.minTranslate(),g.loop&&g.centeredSlides&&(V=!0);else if(g.freeMode.sticky){let O;for(let N=0;N<x.length;N+=1)if(x[N]>-C){O=N;break}Math.abs(x[O]-C)<Math.abs(x[O-1]-C)||e.swipeDirection==="next"?C=x[O]:C=x[O-1],C=-C}if(V&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(w?R=Math.abs((-C-e.translate)/e.velocity):R=Math.abs((C-e.translate)/e.velocity),g.freeMode.sticky){const O=Math.abs((w?-C:C)-e.translate),N=e.slidesSizesGrid[e.activeIndex];O<N?R=g.speed:O<2*N?R=g.speed*1.5:R=g.speed*2.5}}else if(g.freeMode.sticky){e.slideToClosest();return}g.freeMode.momentumBounce&&U?(e.updateProgress(k),e.setTransition(R),e.setTranslate(C),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Jg(_,()=>{!e||e.destroyed||!S.allowMomentumBounce||(r("momentumBounce"),e.setTransition(g.speed),setTimeout(()=>{e.setTranslate(k),Jg(_,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(C),e.setTransition(R),e.setTranslate(C),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Jg(_,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(C),e.updateActiveIndex(),e.updateSlidesClasses()}else if(g.freeMode.sticky){e.slideToClosest();return}else g.freeMode&&r("_freeModeNoMomentumRelease");(!g.freeMode.momentum||M>=g.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:c,onTouchEnd:d}})}const OV=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Vo(pi(or,"hero-slider-images")),a=[];r.forEach(o=>{const c=o.data();c.image&&c.image.url&&a.push(c.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),y.jsx("div",{className:"w-full",children:y.jsx(Ol,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[NV,IV,gh],className:"mySwiper",children:n.map((t,r)=>y.jsx(Ml,{children:y.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},mT=()=>y.jsxs("div",{children:[y.jsx("div",{children:y.jsx(OV,{})}),y.jsx("div",{children:y.jsx("div",{children:y.jsx(ZA,{})})})]}),MV=q.createContext(),DV=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const h=x3(Kg,p=>{t(p),a(!1)});return()=>h()},[]);const d={user:e,login:async(h,p)=>{a(!0);try{await _3(Kg,h,p)}catch(g){console.error("Login error:",g.message)}finally{a(!1)}},logout:async()=>{await E3(Kg)},loading:r};return y.jsx(MV.Provider,{value:d,children:n})},PV=()=>y.jsx("div",{children:y.jsx("p",{children:"this is admin page"})}),pT=()=>{const{gender:n,category:e}=yv(),t=2,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const R=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const c=async({pageParam:R=null})=>{const E=R?No(pi(or,"products"),va("gender","==",n),va("subcategory","array-contains",e.toLowerCase()),KS(R),Lh(t)):No(pi(or,"products"),va("gender","==",n),va("subcategory","array-contains",e.toLowerCase()),Lh(t)),C=await Vo(E),U=[];return C.forEach(k=>{const P=k.data();P.available&&P.stock>0&&U.push({id:k.id,...P})}),{products:U,lastVisible:C.docs[C.docs.length-1]}},{data:d,fetchNextPage:h,hasNextPage:p,isFetchingNextPage:g,isLoading:_,error:w}=XA({queryKey:["products",n,e],queryFn:c,getNextPageParam:R=>R.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),x=R=>{const E=JSON.parse(localStorage.getItem("cart"))||[],C=E.find(U=>U.id===R.id);C?C.quantity+=1:E.push({id:R.id,productId:R.productId,name:R.name,price:R.discount?(R.price-R.price*(R.discount/100)).toFixed(2):R.price,image:R.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(E)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},S=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.productId||R.id}`:x(R)},I=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.productId||R.id}`:(x(R),window.location.href="/cart")},M=(d==null?void 0:d.pages.flatMap(R=>R.products))||[];return _?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):w?y.jsx("div",{className:"text-center py-8",children:"Error loading products"}):y.jsxs("div",{className:"",ref:r,children:[y.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:["Showing products for ",n," / ",e]}),M.length===0?y.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):y.jsxs(y.Fragment,{children:[y.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:M.map(R=>{const E=R.discount&&R.discount>0,C=R.colorVariants&&R.colorVariants.length>0,U=a?17:25,k=R.name.length>U,P=k?`${R.name.substring(0,U)}...`:R.name;return y.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[y.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[y.jsxs(gt,{to:`/product/${R.productId||R.id}`,className:"relative block",children:[y.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:y.jsx("img",{src:R.mainImage||"/placeholder-product.jpg",alt:R.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),E&&y.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[R.discount,"%"]})]}),y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[P,k&&y.jsx(gt,{to:`/product/${R.productId||R.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:V=>{V.preventDefault(),window.location.href=`/product/${R.productId||R.id}`},children:".."})]})}),y.jsx("div",{className:"md:mt-auto",children:y.jsxs("div",{className:"flex flex-col md:space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["",R.discount?(R.price-R.price*(R.discount/100)).toFixed(2):R.price]}),R.regularPrice&&y.jsx("div",{className:"text-xs text-gray-500",children:y.jsxs("del",{children:["",R.regularPrice]})})]}),R.productType&&y.jsxs("div",{className:"text-xs text-red-400",children:["(",R.productType,")"]})]})})]}),y.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[y.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[y.jsx("button",{onClick:()=>S(R),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:C?"Options":"Add to Cart"}),y.jsx("button",{onClick:()=>I(R),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsx("span",{className:`font-medium ${R.stock>0?"text-green-600":"text-red-500"}`,children:R.stock>0?"In Stock":"Out of Stock"}),R.stock>0&&y.jsxs("span",{className:"text-gray-500 text-[11px]",children:[R.stock," units"]})]})]})]},R.id)})}),p&&y.jsx("div",{className:"flex justify-center mt-6 mb-10",children:y.jsx("button",{onClick:()=>h(),disabled:g,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:g?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},Wf=n=>{},ov=typeof window>"u"?q.useEffect:q.useLayoutEffect,p2=n=>typeof n=="number"&&n>0,gT=n=>p2(n)?n:0,lv=n=>Math.round(100*n)/100,uv=n=>Math.round(2*n)/2,yT=n=>n===0?0:-1*lv(n),kV={},jV="rr--group",LV="rr--box",VV="rr--svg",zV="rr--reset",vT="rr--focus-reset",UV="rr--svg-stop-1",BV="rr--svg-stop-2",_T="rr--on",bT="rr--off",Mc={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},Zf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},oy={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},ly={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},FV="rr--pointer",qV="rr--disabled",HV="rr--dir-y",GV="rr--dir-x",$V="rr--has-stroke",QV="rr--has-border",KV="rr--hf-box-on",YV="rr--hf-box-int",XV="rr--hf-box-off",WV="rr--hf-svg-on",ZV="rr--hf-svg-off",Jf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},eh={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},JV="--rr--border-width",g2="horizontal",y2="vertical",uy="svg",wT="box",Mr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Il={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},ba={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},th={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function e5({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=g2,hasHF:a=!1}){const o=t>0?-t/2:0,c=t>0?`${o} ${o}`:"0 0",d=q.useId(),h=q.useRef(null),[p,g]=q.useState(null),[_,w]=q.useState(!1),x=q.useRef(null),S=q.useRef(null),I=q.useCallback(M=>{const{width:R,height:E,x:C,y:U}=M.getBBox();if(((...k)=>k.every(P=>typeof P=="number"))(R,E,C,U)){const k=`${c} ${lv(R+t)} ${lv(E+t)}`,P=`${yT(C)} ${yT(U)}`;g({viewBox:k,translateData:P})}},[t,c]);return ov(()=>{if(h.current){const{width:M,height:R,x:E,y:C}=h.current.getBBox();if(M===0&&R===0&&E===0&&C===0){const U=function(k){if(!k||!k.parentElement)return null;let P=k==null?void 0:k.parentElement;for(;P&&window.getComputedStyle(P).display!=="none";)P=P.parentElement;return P}(h.current);U&&(S.current=U,w(!0))}else w(!1);I(h.current)}},[n,t,a]),ov(()=>{if(_&&S.current)return x.current=new MutationObserver((M,R)=>{M.forEach(()=>{window.getComputedStyle(S.current).display==="none"||(I(h.current),R.disconnect())})}),x.current.observe(S.current,{attributes:!0}),()=>{var M;(M=x.current)==null||M.disconnect()}},[_,I]),y.jsxs("svg",{"aria-hidden":"true",className:VV,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&y.jsx("defs",{children:y.jsxs("linearGradient",{id:d,...r===y2?{gradientTransform:"rotate(90)"}:{},children:[y.jsx("stop",{className:UV,offset:"50%"}),y.jsx("stop",{className:BV,offset:"50%"})]})}),y.jsx("g",{ref:h,shapeRendering:"geometricPrecision",...function(){if(p){const M=`translate(${p==null?void 0:p.translateData})`;return M==="translate(0 0)"?{}:{transform:M}}return{transform:void 0}}(),...a?{fill:`url('#${d}')`}:{},children:n})]})}function v2(n,e,t){switch(e){case ba.FILL:return n[Jf.FILL]=t,!0;case ba.BOX:return n[Jf.BOX]=t,!0;case ba.BORDER:return n[Jf.BORDER]=t,!0;case ba.STROKE:return n[Jf.STROKE]=t,!0}return!1}function t5(n,e,t){if(!v2(n,e,t))switch(e){case th.FILL:n[eh.FILL]=t;break;case th.BOX:n[eh.BOX]=t;break;case th.BORDER:n[eh.BORDER]=t;break;case th.STROKE:n[eh.STROKE]=t}}function n5(n,e,t){const r={};let a;for(const[o,c]of Object.entries(n))v2(r,o,c[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const cy=n=>`${n} ${Mc.COLORS}`;function r5({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:c,absoluteBoxBorderWidth:d,absoluteStrokeWidth:h,spaceBetween:p,spaceInside:g}){const _=a?FV:"",w=function(E){switch(E){case Mr.SMALL:return oy.SMALL;case Mr.MEDIUM:return oy.MEDIUM;case Mr.LARGE:return oy.LARGE;default:return""}}(p),x=function(E){switch(E){case Mr.SMALL:return ly.SMALL;case Mr.MEDIUM:return ly.MEDIUM;case Mr.LARGE:return ly.LARGE;default:return""}}(g),S=!t&&r?qV:"",I=a&&o!==Il.NONE?function(E){switch(E){case Il.ZOOM:return cy(Mc.ZOOM);case Il.POSITION:return cy(Mc.POSITION);case Il.OPACITY:return cy(Mc.OPACITY);case Il.COLORS:return Mc.COLORS;default:return""}}(o):"",M=c===y2?HV:GV,R=function(E){switch(E){case Mr.SMALL:return Zf.SMALL;case Mr.MEDIUM:return Zf.MEDIUM;case Mr.LARGE:return Zf.LARGE;case Mr.FULL:return Zf.FULL;default:return""}}(e);return`${jV} ${M} ${h>0?$V:""} ${d>0?QV:""}
${I} ${R} ${_} ${S} ${w}
${x} ${n}`.replace(/  +/g," ").trimEnd()}function i5(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?_T:bT:a<=t?_T:bT)}function s5(n,e,t){const r=Math.floor(uv(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?XV:o===r?YV:KV:o>r?ZV:WV)}function xT(n,e){const t={};p2(e)&&(t[JV]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)t5(t,a,o);return t}const a5=[ba.FILL,ba.BOX,ba.STROKE,ba.BORDER];function dy(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const o5="@smastrom/react-rating",l5=n=>`[${o5}] - Nothing's returned from rendering. Reason: ${n}.`;function wc(n,e){return n.shouldRender=!1,n.reason=l5(e),n}const ET="itemShapes is not a valid JSX element",u5=y.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});y.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});y.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});y.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});y.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});y.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const c5={itemShapes:u5,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},Dc=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=Wf,onHoverChange:a=Wf,onFocus:o=Wf,onBlur:c=Wf,preventDefault:d="all",isDisabled:h=!1,highlightOnlySelected:p=!1,orientation:g=g2,spaceBetween:_=Mr.NONE,spaceInside:w=Mr.SMALL,radius:x=Mr.NONE,transition:S=Il.COLORS,itemStyles:I=c5,isRequired:M=!1,halfFillMode:R=uy,visibleLabelId:E,visibleItemLabelIds:C,invisibleItemLabels:U,invisibleLabel:k=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:P="Reset rating",id:V,className:O,style:N},j)=>{const B=Array.from({length:e},(Me,Oe)=>Oe+1),H=t&&!Number.isInteger(n),z=H&&!p,ye=H&&p?Math.round(n):n,we=!t&&!h,Q=ye>=.25,oe=typeof O=="string"?O:"",ae=R===wT?wT:uy,_e=z&&!(Me=>Number.isInteger(uv(Me)))(ye),F=!M&&!t,se=M?e:e+1,ge=z?function(Me,Oe){const Je=uv(Oe);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(B,ye):B.indexOf(ye),{staticColors:me,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:pe}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:Oe,boxBorderWidth:Je,...ft}=I,qt=function(sn){const er={...sn},In={},Bn=Object.entries(er);if(Bn.length>0)for(const[Nn,Qt]of Bn)if(Array.isArray(Qt)||typeof Qt=="string"){if(Array.isArray(Qt))for(const zr of a5)if(zr===Nn){const wr=Qt.filter(Ti=>typeof Ti=="string");wr.length>0&&(In[Nn]=wr,delete er[Nn])}else delete er[Nn]}else delete er[Nn];return{arrayColors:In,staticColors:er}}(ft);return{itemShapes:Me,absoluteStrokeWidth:gT(Oe),absoluteBoxBorderWidth:gT(Je),...qt}},[I]),Te=Object.keys(Se).length>0,st=q.useCallback((Me,Oe)=>({dynamicClassNames:_e?s5(ye,e,ae):i5(p,e,Me),dynamicCssVars:Oe&&Te?n5(Se,Me,p):[]}),[Se,Te,p,ae,_e,e,ye]),Ze=q.useCallback(()=>wi(dy(se,ge,!M)),[ge,se,M]),Nt=q.useRef(!0),Ht=q.useRef(!0),hn=q.useRef(null),Ft=q.useRef([]),cr=q.useRef(!1),[Wn,Xt]=q.useState({staticCssVars:xT(me,pe),...st(ge,Q)}),[bi,wi]=q.useState(()=>we?dy(se,ge,!M):[]);ov(()=>{we&&Ft.current&&(cr.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(Ft.current[0]))},[we]),q.useEffect(()=>{if(!Nt.current)return Xt({staticCssVars:xT(me,pe),...st(ge,Q)});Nt.current=!1},[me,st,pe,ge,Q]),q.useEffect(()=>{if(!Ht.current&&we)return Ze();Ht.current=!1},[we,Ze]);const{shouldRender:xi,reason:ri}=function({items:Me,itemShapes:Oe}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return wc(Je,"items is invalid");if(!Oe)return wc(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(Oe)&&!q.isValidElement(Oe))return wc(Je,ET);if(Array.isArray(Oe)){if(Oe.length!==Me)return wc(Je,"itemShapes length mismatch");if(!Oe.every(ft=>q.isValidElement(ft)))return wc(Je,ET)}return Je}({items:e,itemShapes:Ve});if(!xi)return console.error(ri),null;function Zn(Me,Oe,Je=()=>{}){Ft.current.some(ft=>ft===Me.relatedTarget)?Je():Oe()}function Jn(){a(0),Ze()}function Ei(Me){Zn(Me,()=>{Jn()}),Xt({...Wn,...st(ge,Q)})}function ii(Me){Zn(Me,()=>{Jn(),c()})}function yt(Me,Oe){const Je=!M&&Oe===B.length?0:Oe+1;Zn(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){wi(dy(se,Me,!M)),Ft.current[Me].focus()}const wn=r5({className:oe,radius:x,readOnly:t,isDisabled:h,isDynamic:we,transition:S,orientation:g,absoluteBoxBorderWidth:pe,absoluteStrokeWidth:Ee,spaceBetween:_,spaceInside:w});function $t(Me){return{ref:Oe=>Ft.current[Me]=Oe}}function Wi(Me){return{tabIndex:bi[Me],onKeyDown:Oe=>function(Je,ft){let qt=0;const sn=M?B.length-1:B.length,er=ft-1,In=ft+1,Bn=!M&&ft===B.length,Nn=ft===0?sn:er,Qt=sn===ft?0:In;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return qt=cr.current?Nn:Qt,We(qt);case"ArrowUp":case"ArrowLeft":return qt=cr.current?Qt:Nn,We(qt);case"Enter":case"Space":return d!=="all"&&d!=="click"||Je.preventDefault(),r(Bn?0:ft+1)}Je.stopPropagation()}(Oe,Me)}}function dr(Me){return{onClick:Oe=>function(Je,ft){d!=="all"&&d!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(M||ge!==ft?ft+1:0)}(Oe,Me),onMouseEnter:()=>function(Oe){a(Oe+1),Xt({...Wn,...st(Oe,!0)})}(Me),onMouseLeave:Ei}}function Lr(Me){if(t)return{};const Oe={};if(Array.isArray(C))Oe["aria-labelledby"]=C[Me];else{const Je=Array.isArray(U)?U:B.map((ft,qt)=>`Rate ${qt+1}`);Oe["aria-label"]=Je[Me]}return h&&(Oe["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===ye,...Oe}}function Vr(Me){const Oe={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:g,hasHF:!1,testId:{}};return _e&&ae===uy&&(Oe.hasHF=Me===ge),Oe}return y.jsx("div",{id:V,className:wn,style:{...N,...Wn.staticCssVars},ref:function(Me){we&&!M&&(hn.current=Me),j&&(j.current=Me)},...function(){if(!t){const Me=M&&!h,Oe={role:"radiogroup","aria-required":Me};return Me&&(Oe["aria-invalid"]=ye<=0),typeof E=="string"&&E.length>0?Oe["aria-labelledby"]=E:Oe["aria-label"]=k,Oe}return{role:"img","aria-label":k}}(),...kV,children:B.map((Me,Oe)=>{return y.jsxs(q.Fragment,{children:[y.jsx("div",{className:`${LV} ${Wn.dynamicClassNames[Oe]}`,style:Wn.dynamicCssVars[Oe],...Lr(Oe),...(ft=Oe,we?{...$t(ft),...Wi(ft),...dr(ft),onFocus:qt=>yt(qt,ft),onBlur:qt=>ii(qt)}:{}),children:y.jsx(e5,{...Vr(Oe)})}),F&&Oe===B.length-1&&y.jsx("div",{...(Je=Oe+1,{className:zV,role:"radio","aria-label":P,"aria-checked":ye===0,onClick:()=>r(0),onFocus:qt=>{var sn;yt(qt,Je),(sn=hn.current)==null||sn.classList.add(vT)},onBlur:qt=>{var sn;ii(qt),(sn=hn.current)==null||sn.classList.remove(vT)},...Wi(Je),...$t(Je),...h?{"aria-disabled":"true"}:{}})})]},Me);var Je,ft})})});Dc.displayName="Rating";function d5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}d5(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var R0=n=>typeof n=="number"&&!isNaN(n),td=n=>typeof n=="string",_2=n=>typeof n=="function",f5=n=>td(n)||R0(n),h5=n=>q.isValidElement(n)||td(n)||_2(n)||R0(n),m5=1,b2=()=>`${m5++}`,Ki=new Map,cv=[],TT=new Set,w2=()=>Ki.size>0,p5=(n,{containerId:e})=>{var t;return(t=Ki.get(e||1))==null?void 0:t.toasts.get(n)};function g5(n,e){var t;if(e)return!!((t=Ki.get(e))!=null&&t.isToastActive(n));let r=!1;return Ki.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function y5(n){if(!w2()){cv=cv.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||f5(n))Ki.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ki.get(n.containerId);e?e.removeToast(n.id):Ki.forEach(t=>{t.removeToast(n.id)})}}var v5=(n={})=>{Ki.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function _5(n,e){h5(n)&&(w2()||cv.push({content:n,options:e}),Ki.forEach(t=>{t.buildToast(n,e)}))}function x2(n,e){Ki.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function b5(n){return TT.add(n),()=>{TT.delete(n)}}function w5(n){return n&&(td(n.toastId)||R0(n.toastId))?n.toastId:b2()}function xd(n,e){return _5(n,e),e.toastId}function Rm(n,e){return{...e,type:e&&e.type||n,toastId:w5(e)}}function Cm(n){return(e,t)=>xd(e,Rm(n,t))}function xt(n,e){return xd(n,Rm("default",e))}xt.loading=(n,e)=>xd(n,Rm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function x5(n,{pending:e,error:t,success:r},a){let o;e&&(o=td(e)?xt.loading(e,a):xt.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,g,_)=>{if(g==null){xt.dismiss(o);return}let w={type:p,...c,...a,data:_},x=td(g)?{render:g}:g;return o?xt.update(o,{...w,...x}):xt(x.render,{...w,...x}),_},h=_2(n)?n():n;return h.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),h}xt.promise=x5;xt.success=Cm("success");xt.info=Cm("info");xt.error=Cm("error");xt.warning=Cm("warning");xt.warn=xt.warning;xt.dark=(n,e)=>xd(n,Rm("default",{theme:"dark",...e}));function E5(n){y5(n)}xt.dismiss=E5;xt.clearWaitingQueue=v5;xt.isActive=g5;xt.update=(n,e={})=>{let t=p5(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:b2()};o.toastId!==n&&(o.staleId=n);let c=o.render||a;delete o.render,xd(c,o)}};xt.done=n=>{xt.update(n,{progress:1})};xt.onChange=b5;xt.play=n=>x2(!0,n);xt.pause=n=>x2(!1,n);function T5(n){return ud({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const S5=()=>{var oe,ae,_e,F,se,ge,me,Se,Ve,Ee;const{productId:n}=yv(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,c]=q.useState(null),[d,h]=q.useState(null),[p,g]=q.useState(0),[_,w]=q.useState(null),[x,S]=q.useState(null),[I,M]=q.useState("description"),[R,E]=q.useState([]),[C,U]=q.useState(!1),[k,P]=q.useState({name:"",contact:"",rating:0,comment:""}),[V,O]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const st=No(pi(or,"products"),va("productId","==",n)),Ze=await Vo(st);if(!Ze.empty){const Nt=Ze.docs[0],Ht={id:Nt.id,...Nt.data()};t(Ht),Ht.isColorVariants&&((Te=Ht.colorVariants)==null?void 0:Te.length)>0&&c(Ht.colorVariants[0])}a(!1)}catch(st){console.error("Error fetching product:",st),a(!1)}})()},[n]),q.useEffect(()=>{let pe;return(()=>{if(!n)return;const st=pi(or,"reviews"),Ze=No(st,va("productId","==",n));pe=v4(Ze,Nt=>{const Ht=[];Nt.forEach(hn=>{Ht.push({id:hn.id,...hn.data()})}),E(Ht)},Nt=>{console.error("Error listening to reviews:",Nt)})})(),()=>{pe&&pe()}},[n]);const N=()=>{var Ze,Nt,Ht,hn;if(ye()){xt.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!x){xt.error("Please select a size");return}const pe=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(Nt=o==null?void 0:o.images)==null?void 0:Nt[0]:(Ht=e.images)==null?void 0:Ht[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(hn=o==null?void 0:o.images)==null?void 0:hn[0]}:null,size:x?{size:x.size,stock:x.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},st=pe.findIndex(Ft=>{var cr,Wn,Xt,bi;return!(Ft.id!==Te.id||e.isColorVariants&&((cr=Ft.color)==null?void 0:cr.name)!==((Wn=Te.color)==null?void 0:Wn.name)||x&&((Xt=Ft.size)==null?void 0:Xt.size)!==((bi=Te.size)==null?void 0:bi.size))});st>=0?(pe[st].quantity+=1,xt.success("Item quantity increased in cart")):(pe.push(Te),xt.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(pe)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},j=()=>{N(),window.location.href="/cart"},B=async pe=>{if(pe.preventDefault(),!k.name||!k.comment||k.rating===0||!k.contact){xt.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.contact),st=/^[0-9]{10,15}$/.test(k.contact);if(!Te&&!st){xt.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:k.name,contact:k.contact,contactType:Te?"email":"phone",rating:k.rating,comment:k.comment,createdAt:new Date().toISOString()};V?(await p4(Xc(or,"reviews",V),Ze),xt.success("Review updated successfully")):(await y4(pi(or,"reviews"),Ze),xt.success("Review submitted successfully")),U(!1),P({name:"",contact:"",rating:0,comment:""}),O(null)}catch(Ze){console.error("Error submitting review:",Ze),xt.error("Failed to submit review")}},H=pe=>{P({name:pe.name,contact:pe.contact||"",rating:pe.rating,comment:pe.comment}),O(pe.id),U(!0)},z=async pe=>{if(window.confirm("Are you sure you want to delete this review?"))try{await g4(Xc(or,"reviews",pe)),xt.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),xt.error("Failed to delete review")}},ye=()=>{var pe;return e.isColorVariants?((pe=o==null?void 0:o.sizes)==null?void 0:pe.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},we=pe=>pe<1;if(r)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return y.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const Q=R.length>0?(R.reduce((pe,Te)=>pe+Te.rating,0)/R.length).toFixed(1):0;return y.jsxs("div",{className:"pt-6",children:[C&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-lg font-bold",children:V?"Edit Review":"Write a Review"}),y.jsx("button",{onClick:()=>{U(!1),O(null),P({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("form",{onSubmit:B,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),y.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:k.name,onChange:pe=>P({...k,name:pe.target.value}),required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),y.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:k.contact,onChange:pe=>P({...k,contact:pe.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),y.jsx(Dc,{style:{maxWidth:150},value:k.rating,onChange:pe=>P({...k,rating:pe}),isRequired:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),y.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:k.comment,onChange:pe=>P({...k,comment:pe.target.value}),required:!0})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:()=>{U(!1),O(null),P({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:V?"Update Review":"Submit Review"})]})]})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[y.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?y.jsxs(y.Fragment,{children:[y.jsxs(Ol,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:d},modules:[gh,fT],className:"mb-2 rounded-lg relative",children:[(oe=o==null?void 0:o.images)==null?void 0:oe.map((pe,Te)=>y.jsxs(Ml,{children:[y.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[y.jsx("img",{src:pe,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),y.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[y.jsx("p",{children:o.colorName}),y.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),y.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),y.jsxs("div",{className:"relative mt-2",children:[y.jsx(Ol,{onSwiper:h,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[gh,fT,hT],className:"thumbnail-swiper",children:e.colorVariants.map((pe,Te)=>y.jsx(Ml,{children:y.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===pe.colorName?"border-blue-500":"border-transparent"} ${pe.stock<1?"opacity-70":""}`,onClick:()=>c(pe),children:[y.jsx("img",{src:pe.thumbnail,alt:pe.colorName,className:"w-full h-16 sm:h-20 object-cover"}),pe.stock<1&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs(Ol,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[gh],className:"mb-2 rounded-lg relative",onSlideChange:pe=>g(pe.activeIndex),onSwiper:w,children:[(ae=e.images)==null?void 0:ae.map((pe,Te)=>y.jsx(Ml,{children:y.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[y.jsx("img",{src:pe,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),y.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((_e=e.images)==null?void 0:_e.length)>1&&y.jsx("div",{className:"relative mt-2",children:y.jsx(Ol,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[hT],className:"thumbnail-swiper",children:e.images.map((pe,Te)=>y.jsx(Ml,{children:y.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{g(Te),_&&_.slideTo(Te)},children:[y.jsx("img",{src:pe,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),y.jsxs("div",{className:"px-2 sm:px-0",children:[y.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),y.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:y.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[y.jsx("span",{children:y.jsx(wx,{})}),y.jsx("p",{children:"Ask for details"})]})}),y.jsxs("div",{className:"flex items-center mb-3",children:[y.jsx(Dc,{style:{maxWidth:100},value:Q,readOnly:!0}),y.jsxs("span",{className:"ml-2 text-gray-700",children:[Q," (",R.length," ",R.length===1?"review":"reviews",")"]})]}),y.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[y.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["",e.price]}),e.regularPrice&&y.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["",e.regularPrice]}),e.discount>0&&y.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((F=e.colorVariants)==null?void 0:F.length)>0&&y.jsxs("div",{className:"mb-4 sm:mb-5",children:[y.jsxs("div",{className:"flex items-center mb-2",children:[y.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),y.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((pe,Te)=>y.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===pe.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${pe.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>pe.stock>=1&&c(pe),disabled:pe.stock<1,children:[pe.colorName,pe.stock<1&&" (Out)"]},Te))})]}),((se=o==null?void 0:o.sizes)==null?void 0:se.length)>0&&y.jsxs("div",{className:"mb-4 sm:mb-5",children:[y.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((pe,Te)=>y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(x==null?void 0:x.size)===pe.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${we(pe.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!we(pe.stock)&&S(pe),disabled:we(pe.stock),children:pe.size}),y.jsxs("span",{className:`text-xs mt-1 ${we(pe.stock)?"text-red-500":"text-gray-500"}`,children:[pe.stock," left"]})]},Te))})]}),y.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[y.jsx("span",{className:`font-medium ${ye()?"text-red-500":"text-green-600"}`,children:ye()?"Out of Stock":"In Stock"}),!ye()&&y.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0?`${o.sizes.reduce((pe,Te)=>pe+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),y.jsx("div",{children:e.productType&&y.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),y.jsxs("div",{className:"flex gap-3 mb-2",children:[y.jsx("button",{onClick:N,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ye()||((me=o==null?void 0:o.sizes)==null?void 0:me.length)>0&&!x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:ye()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!x,children:"Add to Cart"}),y.jsx("button",{onClick:j,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ye()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:ye()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!x,children:"Buy Now"})]}),y.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[y.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:y.jsx(T5,{className:"text-black text-2xl"})}),y.jsx("p",{className:"font-semibold",children:" "}),y.jsx("p",{className:"text-black",children:"01303129042"})]})}),y.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:y.jsxs("div",{className:"flex flex-col items-center gap-2",children:[y.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:y.jsx(wx,{className:"text-green-500 text-2xl"})}),y.jsx("p",{className:"font-semibold",children:" "}),y.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),y.jsxs("div",{className:"mt-8 border-t pt-6",children:[y.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[y.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${I==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>M("description"),children:"Description"}),y.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${I==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>M("reviews"),children:["Reviews (",R.length,")"]})]}),y.jsx("div",{className:"px-2 sm:px-0",children:I==="description"?y.jsxs("div",{className:"space-y-4",children:[e.productType&&y.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:y.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),y.jsx("div",{className:"prose max-w-none text-gray-600",children:e.description||"No description available."}),e.detailsImage&&y.jsx("div",{className:"mt-4",children:y.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[y.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[y.jsxs("h3",{className:"text-xl font-bold",children:[Q," out of 5"]}),y.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:y.jsx(Dc,{style:{maxWidth:120},value:Q,readOnly:!0})}),y.jsxs("p",{className:"text-gray-600",children:[R.length," ",R.length===1?"review":"reviews"]})]}),y.jsx("button",{onClick:()=>U(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),R.length>0?y.jsx("div",{className:"space-y-6",children:R.map(pe=>y.jsxs("div",{className:"border-b pb-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold",children:pe.name}),y.jsxs("div",{className:"flex items-center mt-1",children:[y.jsx(Dc,{style:{maxWidth:100},value:pe.rating,readOnly:!0}),y.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(pe.createdAt).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>H(pe),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),y.jsx("button",{onClick:()=>z(pe.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),y.jsx("p",{className:"mt-2 text-gray-700",children:pe.comment}),pe.contact&&y.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",pe.contact]})]},pe.id))}):y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),y.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),y.jsx("button",{onClick:()=>U(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},A5=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:""}),t=E=>{const{name:C,value:U,type:k,checked:P}=E.target;e(V=>({...V,[C]:k==="checkbox"?P:U}))},r=E=>{const{name:C,value:U}=E.target;e(k=>({...k,[C]:Number(U)}))},a=E=>{const{name:C,value:U}=E.target;e(k=>({...k,[C]:U.split(",").map(P=>P.trim())}))},o=(E,C,U)=>{const k=[...n.colorVariants];k[E][C]=C==="stock"||C==="isOutfit"?C==="isOutfit"?U:Number(U):U,e(P=>({...P,colorVariants:k}))},c=(E,C,U)=>{const k=[...n.colorVariants];k[E].images[C]=U,e(P=>({...P,colorVariants:k}))},d=(E,C,U,k)=>{const P=[...n.colorVariants];P[E].sizes[C][U]=U==="stock"?Number(k):k,e(V=>({...V,colorVariants:P}))},h=()=>{e(E=>({...E,colorVariants:[...E.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=E=>{const C=[...n.colorVariants];C.splice(E,1),e(U=>({...U,colorVariants:C}))},g=E=>{const C=[...n.colorVariants];C[E].images.push(""),e(U=>({...U,colorVariants:C}))},_=(E,C)=>{const U=[...n.colorVariants];U[E].images.splice(C,1),e(k=>({...k,colorVariants:U}))},w=E=>{const C=[...n.colorVariants];C[E].sizes.push({size:"",stock:0}),e(U=>({...U,colorVariants:C}))},x=(E,C)=>{const U=[...n.colorVariants];U[E].sizes.splice(C,1),e(k=>({...k,colorVariants:U}))},S=(E,C)=>{const U=[...n.images];U[E]=C,e(k=>({...k,images:U}))},I=()=>{e(E=>({...E,images:[...E.images,""]}))},M=E=>{const C=[...n.images];C.splice(E,1),e(U=>({...U,images:C}))},R=async E=>{E.preventDefault();try{const C={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?C.colorVariants=n.colorVariants.map(k=>{const{isOutfit:P,sizes:V,...O}=k;return P?{...O,sizes:V}:O}):C.images=n.images;const U=Xc(or,n.collectionName,n.documentName);await JS(U,C),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(k=>({...k,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:""}))}catch(C){console.error("Error adding document: ",C),alert("Error uploading product!")}};return y.jsxs("div",{className:"container mx-auto p-4",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),y.jsxs("form",{onSubmit:R,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),y.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),y.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),y.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),y.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[y.jsx("option",{value:"",children:"Select Gender"}),y.jsx("option",{value:"men",children:"Men"}),y.jsx("option",{value:"women",children:"Women"}),y.jsx("option",{value:"unisex",children:"Unisex"}),y.jsx("option",{value:"kids",children:"Kids"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),y.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),y.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),y.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),y.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),y.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),y.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),y.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),y.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),y.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),y.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),y.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),y.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),y.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),y.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),y.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&y.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),y.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[y.jsx("option",{value:"",children:"Select Product Type"}),y.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),y.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&y.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((E,C)=>y.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),y.jsx("input",{type:"text",value:E.colorName,onChange:U=>o(C,"colorName",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),y.jsx("input",{type:"number",value:E.stock,onChange:U=>o(C,"stock",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),y.jsx("input",{type:"text",value:E.thumbnail,onChange:U=>o(C,"thumbnail",U.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:E.isOutfit,onChange:U=>o(C,"isOutfit",U.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),y.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),E.isOutfit&&y.jsxs("div",{className:"space-y-3 mt-3",children:[y.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),E.sizes.map((U,k)=>y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),y.jsx("input",{type:"text",value:U.size,onChange:P=>d(C,k,"size",P.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),y.jsx("input",{type:"number",value:U.stock,onChange:P=>d(C,k,"stock",P.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),y.jsx("div",{className:"flex items-end",children:y.jsx("button",{type:"button",onClick:()=>x(C,k),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},k)),y.jsx("button",{type:"button",onClick:()=>w(C),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),E.images.map((U,k)=>y.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[y.jsx("input",{type:"text",value:U,onChange:P=>c(C,k,P.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),y.jsx("button",{type:"button",onClick:()=>_(C,k),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},k)),y.jsx("button",{type:"button",onClick:()=>g(C),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),y.jsx("button",{type:"button",onClick:()=>p(C),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},C)),y.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((E,C)=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"text",value:E,onChange:U=>S(C,U.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),y.jsx("button",{type:"button",onClick:()=>M(C),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},C)),y.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},R5=()=>{const{gender:n}=yv(),e=2,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,c]=q.useState(window.innerWidth>=768);q.useEffect(()=>{const E=()=>{const C=window.innerWidth;a(C<768),c(C>=768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const d=async({pageParam:E=null})=>{const C=E?No(pi(or,"products"),va("gender","==",n),KS(E),Lh(e)):No(pi(or,"products"),va("gender","==",n),Lh(e)),U=await Vo(C),k=[];return U.forEach(P=>{const V=P.data();V.available&&V.stock>0&&k.push({id:P.id,...V})}),{products:k,lastVisible:U.docs[U.docs.length-1]}},{data:h,fetchNextPage:p,hasNextPage:g,isFetchingNextPage:_,isLoading:w,error:x}=XA({queryKey:["products",n],queryFn:d,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),S=E=>{var k;const C=JSON.parse(localStorage.getItem("cart"))||[],U=C.find(P=>P.id===E.id);U?U.quantity+=1:C.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?(E.price-E.price*(E.discount/100)).toFixed(2):E.price,image:E.mainImage||((k=E.images)==null?void 0:k[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(C)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},I=E=>{var U;E.isColorVariants&&((U=E.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${E.productId||E.id}`:S(E)},M=E=>{var U;E.isColorVariants&&((U=E.colorVariants)==null?void 0:U.length)>0?window.location.href=`/product/${E.productId||E.id}`:(S(E),window.location.href="/cart")},R=(h==null?void 0:h.pages.flatMap(E=>E.products))||[];return w?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsxs("div",{className:"text-center",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):x?y.jsx("div",{className:"text-center py-8",children:"Error loading products"}):y.jsxs("div",{className:"",ref:t,children:[y.jsxs("h2",{className:"text-lg font-semibold mb-4 mt-2",children:[n,"'s Collection"]}),R.length===0?y.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):y.jsxs(y.Fragment,{children:[y.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:R.map(E=>{var j,B;const C=E.discount&&E.discount>0,U=E.isColorVariants&&((j=E.colorVariants)==null?void 0:j.length)>0,k=r&&E.name.length>17?`${E.name.substring(0,17)}.`:E.name,P=o&&E.name.length>25?`${E.name.substring(0,25)}.`:E.name,V=r?k:P,O=r&&E.name.length>17,N=o&&E.name.length>25;return y.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[y.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[y.jsxs(gt,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[y.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:y.jsx("img",{src:E.mainImage||((B=E.images)==null?void 0:B[0])||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),C&&y.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[V,(O||N)&&y.jsx(gt,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:H=>{H.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),y.jsx("div",{className:"md:mt-auto",children:y.jsxs("div",{className:"flex flex-col md:space-y-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["",E.discount?(E.price-E.price*(E.discount/100)).toFixed(2):E.price]}),E.regularPrice&&y.jsx("div",{className:"text-xs text-gray-500",children:y.jsxs("del",{children:["",E.regularPrice]})})]}),E.productType&&y.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),y.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[y.jsx("button",{onClick:()=>I(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:U?"Options":"Add to Cart"}),y.jsx("button",{onClick:()=>M(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&y.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),g&&y.jsx("div",{className:"flex justify-center mt-6 mb-10",children:y.jsx("button",{onClick:()=>p(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},C5=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:g,value:_}=p.target;e(w=>({...w,[g]:_}))},o=(p,g)=>{const{name:_,value:w}=g.target,x=[...n.items];x[p]={...x[p],[_]:w},e(S=>({...S,items:x}))},c=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},d=p=>{const g=n.items.filter((_,w)=>w!==p);e(_=>({..._,items:g}))},h=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const g=Xc(or,n.collectionName,n.documentName),_=await m4(g);let w={};_.exists()&&(w=_.data());const x={...w,type:n.type,updatedAt:_4()};if(n.type==="link"&&(x.order=Number(n.order)),n.type==="dropdown"){const S=w.items||[],I=n.items.filter(M=>M.name&&M.path);x.items=[...S,...I],x.path=null}else x.path=n.path,x.items=null;await JS(g,x,{merge:!0}),alert("Category saved successfully!"),e(S=>({...S,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(g){console.error("Error saving document: ",g),alert(`Error saving category: ${g.message}`)}};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"flex border-b mb-6",children:[y.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),y.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:""})]}),t==="form"&&y.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),y.jsxs("form",{onSubmit:h,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),y.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),y.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"dropdown",children:"Dropdown"}),y.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),y.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),y.jsx("div",{className:"space-y-4",children:n.items.map((p,g)=>y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:_=>o(g,_),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:_=>o(g,_),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),y.jsx("button",{type:"button",onClick:()=>d(g),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},g))}),y.jsx("button",{type:"button",onClick:c,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),y.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&y.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"  "}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"  "]}),y.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),'      (: "", "", "")']}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),'     ""  ']}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"     (0 =  , 1 =  , )"]}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"  ",y.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"}),"          ",y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[y.jsx("p",{className:"text-sm font-mono",children:": /category/nari-fashion"}),y.jsx("p",{className:"text-sm font-mono",children:": /nari-fashion  /Category/NariFashion"})]})]}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"      ",y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[y.jsx("p",{className:"text-sm font-mono",children:": /category/purush-juta"}),y.jsx("p",{className:"text-sm font-mono",children:": /category/purush juta  /category/purushJuta"})]})]})]})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"  "]}),y.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"       "]}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),'   ""  ']}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"    "]}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),"      ",y.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:y.jsx("p",{className:"text-sm font-mono",children:": /category/nari/juta"})})]}),y.jsxs("li",{className:"text-gray-700",children:[y.jsx("span",{className:"font-medium",children:" :"}),'     "+ Add Subcategory"   ']})]})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[y.jsx("h4",{className:"font-medium mb-2",children:" :"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsxs("li",{children:[y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Home ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," 0 ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/home"]}),y.jsxs("li",{children:[y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," 1 ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women"]})]}),y.jsx("h4",{className:"font-medium mt-4 mb-2",children:":"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsxs("li",{children:[y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Dresses ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women/dresses"]}),y.jsxs("li",{children:[y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Women ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:" :"})," Tops ",y.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:":"})," /category/women/tops"]})]})]})]})]})]})})]})},I5=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[c,d]=q.useState(""),[h,p]=q.useState(0),[g,_]=q.useState(""),[w,x]=q.useState(!0);q.useEffect(()=>{const P=(JSON.parse(localStorage.getItem("cart"))||[]).map(V=>({...V,price:typeof V.price=="string"?parseFloat(V.price):V.price}));e(P),S(),x(!1)},[]);const S=async()=>{try{await new Promise(P=>setTimeout(P,500));const k={coxbazar:50,outOfCoxbazar:100};o(t==="inside"?k.coxbazar:k.outOfCoxbazar)}catch(k){console.error("Error fetching shipping charges:",k),o(t==="inside"?50:100)}};q.useEffect(()=>{S()},[t]);const I=(k,P)=>{if(P<1)return;const V=n.map(O=>O.id===k?{...O,quantity:P}:O);localStorage.setItem("cart",JSON.stringify(V)),e(V),window.dispatchEvent(new Event("storage"))},M=k=>{const P=n.filter(V=>V.id!==k);localStorage.setItem("cart",JSON.stringify(P)),e(P),window.dispatchEvent(new Event("storage"))},R=()=>n.reduce((k,P)=>{const V=typeof P.price=="number"?P.price:0;return k+V*P.quantity},0),E=()=>(R()+a-h).toFixed(2),C=k=>{r(k.target.value)},U=async()=>{if(!c.trim()){_("Please enter a coupon code");return}x(!0);try{await new Promise(P=>setTimeout(P,800));const k={valid:c.toLowerCase()==="save20",discountAmount:c.toLowerCase()==="save20"?20:0,message:c.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};k.valid?(p(k.discountAmount),_(`Coupon applied! Discount: ${k.discountAmount}`)):(p(0),_(k.message))}catch(k){console.error("Error applying coupon:",k),_("Failed to apply coupon. Please try again.")}finally{x(!1)}};return w&&n.length===0?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):y.jsx("div",{className:"min-h-screen bg-gray-50  py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[y.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),y.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?y.jsxs("div",{className:"text-center py-8 sm:py-12",children:[y.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),y.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),y.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),y.jsx("div",{className:"mt-3 sm:mt-4",children:y.jsx(gt,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):y.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[y.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:y.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:y.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(k=>{var V,O;const P=typeof k.price=="number"?k.price:0;return(P*k.quantity).toFixed(2),y.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:y.jsxs("div",{className:"flex gap-3",children:[y.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:y.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover object-center"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("div",{className:"pr-2",children:[y.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:k.name}),((V=k.color)==null?void 0:V.name)&&y.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",y.jsx("span",{className:"capitalize",children:k.color.name})]}),((O=k.size)==null?void 0:O.size)&&y.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",y.jsx("span",{className:"uppercase",children:k.size.size})]})]}),y.jsx("button",{onClick:()=>M(k.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:y.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),y.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[y.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["",P.toFixed(2)]}),y.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[y.jsx("button",{onClick:()=>I(k.id,k.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:y.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),y.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:k.quantity}),y.jsx("button",{onClick:()=>I(k.id,k.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:y.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},k.id)})})})}),y.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:y.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[y.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),y.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),y.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["",R().toFixed(2)]})]}),y.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[y.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),y.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:C,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:C,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),y.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["",a.toFixed(2)]})]}),y.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[y.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),y.jsxs("div",{className:"flex rounded-md shadow-sm",children:[y.jsx("input",{type:"text",id:"coupon",value:c,onChange:k=>d(k.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),y.jsx("button",{onClick:U,disabled:w,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:w?y.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),g&&y.jsx("p",{className:`mt-1 text-xs sm:text-sm ${h>0?"text-green-600":"text-red-600"}`,children:g})]}),h>0&&y.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[y.jsx("span",{children:"Discount"}),y.jsxs("span",{children:["-",h.toFixed(2)]})]}),y.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:y.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[y.jsx("span",{children:"Total"}),y.jsxs("span",{children:["",E()]})]})}),y.jsx("div",{className:"mt-3 sm:mt-4",children:y.jsx(gt,{to:"/checkout",className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),y.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:y.jsxs("p",{children:["or"," ",y.jsxs(gt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",y.jsx("span",{"aria-hidden":"true",children:" "})]})]})})]})]})})]})]})})},N5=ZI([{path:"/",element:y.jsx(eL,{}),children:[{index:!0,element:y.jsx(mT,{})},{path:"/home",element:y.jsx(mT,{})},{path:"/category/:gender",element:y.jsx(R5,{})},{path:"/category/:gender/:category",element:y.jsx(pT,{})},{path:"/category/:gender",element:y.jsx(pT,{})},{path:"/all-categories",element:y.jsx(ZA,{})},{path:"/product/:productId",element:y.jsx(S5,{})},{path:"/admin",element:y.jsx(PV,{})},{path:"/up-products",element:y.jsx(A5,{})},{path:"/up-categories",element:y.jsx(C5,{})},{path:"/cart",element:y.jsx(I5,{})},{path:"/footer",element:y.jsx(WA,{})}]}]);tC.createRoot(document.getElementById("root")).render(y.jsx(q.StrictMode,{children:y.jsx(DV,{children:y.jsx(fN,{router:N5})})}));
