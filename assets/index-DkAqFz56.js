var H_=n=>{throw TypeError(n)};var Pg=(n,e,t)=>e.has(n)||H_("Cannot "+t);var Y=(n,e,t)=>(Pg(n,e,"read from private field"),t?t.call(n):e.get(n)),Qe=(n,e,t)=>e.has(n)?H_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(Pg(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),mt=(n,e,t)=>(Pg(n,e,"access private method"),t);var Hh=(n,e,t,r)=>({set _(a){Ie(n,e,a,t)},get _(){return Y(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function $E(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kg={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function rC(){if($_)return xu;$_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return xu.Fragment=e,xu.jsx=t,xu.jsxs=t,xu}var G_;function sC(){return G_||(G_=1,kg.exports=rC()),kg.exports}var d=sC(),Lg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function iC(){if(Q_)return et;Q_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function R(H,le,ve){this.props=H,this.context=le,this.refs=P,this.updater=ve||T}R.prototype.isReactComponent={},R.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=R.prototype;function E(H,le,ve){this.props=H,this.context=le,this.refs=P,this.updater=ve||T}var w=E.prototype=new C;w.constructor=E,A(w,R.prototype),w.isPureReactComponent=!0;var O=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function L(H,le,ve,ge,Se,Ve){return ve=Ve.ref,{$$typeof:n,type:H,key:le,ref:ve!==void 0?ve:null,props:Ve}}function M(H,le){return L(H.type,le,void 0,void 0,void 0,H.props)}function I(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return le[ve]})}var F=/\/+/g;function U(H,le){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):le.toString(36)}function j(){}function ie(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ce(H,le,ve,ge,Se){var Ve=typeof H;(Ve==="undefined"||Ve==="boolean")&&(H=null);var Ee=!1;if(H===null)Ee=!0;else switch(Ve){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(H.$$typeof){case n:case e:Ee=!0;break;case y:return Ee=H._init,ce(Ee(H._payload),le,ve,ge,Se)}}if(Ee)return Se=Se(H),Ee=ge===""?"."+U(H,0):ge,O(Se)?(ve="",Ee!=null&&(ve=Ee.replace(F,"$&/")+"/"),ce(Se,le,ve,"",function(it){return it})):Se!=null&&(I(Se)&&(Se=M(Se,ve+(Se.key==null||H&&H.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+Ee)),le.push(Se)),1;Ee=0;var ye=ge===""?".":ge+":";if(O(H))for(var Te=0;Te<H.length;Te++)ge=H[Te],Ve=ye+U(ge,Te),Ee+=ce(ge,le,ve,Ve,Se);else if(Te=_(H),typeof Te=="function")for(H=Te.call(H),Te=0;!(ge=H.next()).done;)ge=ge.value,Ve=ye+U(ge,Te++),Ee+=ce(ge,le,ve,Ve,Se);else if(Ve==="object"){if(typeof H.then=="function")return ce(ie(H),le,ve,ge,Se);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(H,le,ve){if(H==null)return H;var ge=[],Se=0;return ce(H,ge,"","",function(Ve){return le.call(ve,Ve,Se++)}),ge}function se(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function be(){}return et.Children={map:$,forEach:function(H,le,ve){$(H,function(){le.apply(this,arguments)},ve)},count:function(H){var le=0;return $(H,function(){le++}),le},toArray:function(H){return $(H,function(le){return le})||[]},only:function(H){if(!I(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},et.Component=R,et.Fragment=t,et.Profiler=a,et.PureComponent=E,et.StrictMode=r,et.Suspense=f,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,et.__COMPILER_RUNTIME={__proto__:null,c:function(H){return z.H.useMemoCache(H)}},et.cache=function(H){return function(){return H.apply(null,arguments)}},et.cloneElement=function(H,le,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ge=A({},H.props),Se=H.key,Ve=void 0;if(le!=null)for(Ee in le.ref!==void 0&&(Ve=void 0),le.key!==void 0&&(Se=""+le.key),le)!k.call(le,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&le.ref===void 0||(ge[Ee]=le[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ge.children=ye}return L(H.type,Se,void 0,void 0,Ve,ge)},et.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},et.createElement=function(H,le,ve){var ge,Se={},Ve=null;if(le!=null)for(ge in le.key!==void 0&&(Ve=""+le.key),le)k.call(le,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=le[ge]);var Ee=arguments.length-2;if(Ee===1)Se.children=ve;else if(1<Ee){for(var ye=Array(Ee),Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];Se.children=ye}if(H&&H.defaultProps)for(ge in Ee=H.defaultProps,Ee)Se[ge]===void 0&&(Se[ge]=Ee[ge]);return L(H,Ve,void 0,void 0,null,Se)},et.createRef=function(){return{current:null}},et.forwardRef=function(H){return{$$typeof:h,render:H}},et.isValidElement=I,et.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:se}},et.memo=function(H,le){return{$$typeof:p,type:H,compare:le===void 0?null:le}},et.startTransition=function(H){var le=z.T,ve={};z.T=ve;try{var ge=H(),Se=z.S;Se!==null&&Se(ve,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(be,ae)}catch(Ve){ae(Ve)}finally{z.T=le}},et.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},et.use=function(H){return z.H.use(H)},et.useActionState=function(H,le,ve){return z.H.useActionState(H,le,ve)},et.useCallback=function(H,le){return z.H.useCallback(H,le)},et.useContext=function(H){return z.H.useContext(H)},et.useDebugValue=function(){},et.useDeferredValue=function(H,le){return z.H.useDeferredValue(H,le)},et.useEffect=function(H,le,ve){var ge=z.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(H,le)},et.useId=function(){return z.H.useId()},et.useImperativeHandle=function(H,le,ve){return z.H.useImperativeHandle(H,le,ve)},et.useInsertionEffect=function(H,le){return z.H.useInsertionEffect(H,le)},et.useLayoutEffect=function(H,le){return z.H.useLayoutEffect(H,le)},et.useMemo=function(H,le){return z.H.useMemo(H,le)},et.useOptimistic=function(H,le){return z.H.useOptimistic(H,le)},et.useReducer=function(H,le,ve){return z.H.useReducer(H,le,ve)},et.useRef=function(H){return z.H.useRef(H)},et.useState=function(H){return z.H.useState(H)},et.useSyncExternalStore=function(H,le,ve){return z.H.useSyncExternalStore(H,le,ve)},et.useTransition=function(){return z.H.useTransition()},et.version="19.1.0",et}var K_;function am(){return K_||(K_=1,Lg.exports=iC()),Lg.exports}var q=am();const Ut=$E(q);var Vg={exports:{}},_u={},zg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function aC(){return Y_||(Y_=1,function(n){function e($,se){var ae=$.length;$.push(se);e:for(;0<ae;){var be=ae-1>>>1,H=$[be];if(0<a(H,se))$[be]=se,$[ae]=H,ae=be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var se=$[0],ae=$.pop();if(ae!==se){$[0]=ae;e:for(var be=0,H=$.length,le=H>>>1;be<le;){var ve=2*(be+1)-1,ge=$[ve],Se=ve+1,Ve=$[Se];if(0>a(ge,ae))Se<H&&0>a(Ve,ge)?($[be]=Ve,$[Se]=ae,be=Se):($[be]=ge,$[ve]=ae,be=ve);else if(Se<H&&0>a(Ve,ae))$[be]=Ve,$[Se]=ae,be=Se;else break e}}return se}function a($,se){var ae=$.sortIndex-se.sortIndex;return ae!==0?ae:$.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,b=null,_=3,T=!1,A=!1,P=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O($){for(var se=t(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=$)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(p)}}function z($){if(P=!1,O($),!A)if(t(f)!==null)A=!0,k||(k=!0,U());else{var se=t(p);se!==null&&ce(z,se.startTime-$)}}var k=!1,L=-1,M=5,I=-1;function V(){return R?!0:!(n.unstable_now()-I<M)}function F(){if(R=!1,k){var $=n.unstable_now();I=$;var se=!0;try{e:{A=!1,P&&(P=!1,E(L),L=-1),T=!0;var ae=_;try{t:{for(O($),b=t(f);b!==null&&!(b.expirationTime>$&&V());){var be=b.callback;if(typeof be=="function"){b.callback=null,_=b.priorityLevel;var H=be(b.expirationTime<=$);if($=n.unstable_now(),typeof H=="function"){b.callback=H,O($),se=!0;break t}b===t(f)&&r(f),O($)}else r(f);b=t(f)}if(b!==null)se=!0;else{var le=t(p);le!==null&&ce(z,le.startTime-$),se=!1}}break e}finally{b=null,_=ae,T=!1}se=void 0}}finally{se?U():k=!1}}}var U;if(typeof w=="function")U=function(){w(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ie=j.port2;j.port1.onmessage=F,U=function(){ie.postMessage(null)}}else U=function(){C(F,0)};function ce($,se){L=C(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var ae=_;_=se;try{return $()}finally{_=ae}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=_;_=$;try{return se()}finally{_=ae}},n.unstable_scheduleCallback=function($,se,ae){var be=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,$={id:y++,callback:se,priorityLevel:$,startTime:ae,expirationTime:H,sortIndex:-1},ae>be?($.sortIndex=ae,e(p,$),t(f)===null&&$===t(p)&&(P?(E(L),L=-1):P=!0,ce(z,ae-be))):($.sortIndex=H,e(f,$),A||T||(A=!0,k||(k=!0,U()))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var se=_;return function(){var ae=_;_=se;try{return $.apply(this,arguments)}finally{_=ae}}}}(Ug)),Ug}var X_;function oC(){return X_||(X_=1,zg.exports=aC()),zg.exports}var Bg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function lC(){if(W_)return Gn;W_=1;var n=am();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,y)},Gn.flushSync=function(f){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=p,r.p=y,r.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:T}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Gn.requestFormReset=function(f){r.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var Z_;function GE(){if(Z_)return Bg.exports;Z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=lC(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function cC(){if(J_)return _u;J_=1;var n=oC(),e=am(),t=GE();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function u(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(r(188));return i!==s?null:s}for(var l=s,c=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return h(g),s;if(v===c)return h(g),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var N=!1,D=g.child;D;){if(D===l){N=!0,l=g,c=v;break}if(D===c){N=!0,c=g,l=v;break}D=D.sibling}if(!N){for(D=v.child;D;){if(D===l){N=!0,l=v,c=g;break}if(D===c){N=!0,c=v,l=g;break}D=D.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:i}function p(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=p(s),i!==null)return i;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),w=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case R:return"Profiler";case P:return"StrictMode";case z:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case w:return(s.displayName||"Context")+".Provider";case E:return(s._context.displayName||"Context")+".Consumer";case O:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return i=s.displayName||null,i!==null?i:ie(s.type)||"Memo";case M:i=s._payload,s=s._init;try{return ie(s(i))}catch{}}return null}var ce=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},be=[],H=-1;function le(s){return{current:s}}function ve(s){0>H||(s.current=be[H],be[H]=null,H--)}function ge(s,i){H++,be[H]=s.current,s.current=i}var Se=le(null),Ve=le(null),Ee=le(null),ye=le(null);function Te(s,i){switch(ge(Ee,i),ge(Ve,s),ge(Se,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?v_(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=v_(i),s=b_(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ve(Se),ge(Se,s)}function it(){ve(Se),ve(Ve),ve(Ee)}function Ze(s){s.memoizedState!==null&&ge(ye,s);var i=Se.current,l=b_(i,s.type);i!==l&&(ge(Ve,s),ge(Se,l))}function It(s){Ve.current===s&&(ve(Se),ve(Ve)),ye.current===s&&(ve(ye),pu._currentValue=ae)}var Ht=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,Ft=n.unstable_cancelCallback,ur=n.unstable_shouldYield,Jn=n.unstable_requestPaint,Xt=n.unstable_now,xs=n.unstable_getCurrentPriorityLevel,_s=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,ss=n.unstable_NormalPriority,er=n.unstable_LowPriority,tr=n.unstable_IdlePriority,Es=n.log,is=n.unstable_setDisableYieldValue,gt=null,We=null;function En(s){if(typeof Es=="function"&&is(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,s)}catch{}}var Gt=Math.clz32?Math.clz32:Vr,Zs=Math.log,dr=Math.LN2;function Vr(s){return s>>>=0,s===0?32:31-(Zs(s)/dr|0)|0}var zr=256,Me=4194304;function je(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Je(s,i,l){var c=s.pendingLanes;if(c===0)return 0;var g=0,v=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var D=c&134217727;return D!==0?(c=D&~v,c!==0?g=je(c):(N&=D,N!==0?g=je(N):l||(l=D&~s,l!==0&&(g=je(l))))):(D=c&~v,D!==0?g=je(D):N!==0?g=je(N):l||(l=c&~s,l!==0&&(g=je(l)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:g}function ht(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function qt(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var s=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),s}function nr(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function jn(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function qn(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Mn(s,i,l,c,g,v){var N=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var D=s.entanglements,G=s.expirationTimes,te=s.hiddenUpdates;for(l=N&~l;0<l;){var ue=31-Gt(l),me=1<<ue;D[ue]=0,G[ue]=-1;var ne=te[ue];if(ne!==null)for(te[ue]=null,ue=0;ue<ne.length;ue++){var re=ne[ue];re!==null&&(re.lane&=-536870913)}l&=~me}c!==0&&Qt(s,c,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(N&~i))}function Qt(s,i,l){s.pendingLanes|=i,s.suspendedLanes&=~i;var c=31-Gt(i);s.entangledLanes|=i,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Ur(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var c=31-Gt(l),g=1<<c;g&i|s[c]&i&&(s[c]|=i),l&=~g}}function _r(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ts(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Q(){var s=se.p;return s!==0?s:(s=window.event,s===void 0?32:V_(s.type))}function W(s,i){var l=se.p;try{return se.p=s,i()}finally{se.p=l}}var ee=Math.random().toString(36).slice(2),fe="__reactFiber$"+ee,xe="__reactProps$"+ee,Ne="__reactContainer$"+ee,ze="__reactEvents$"+ee,Ce="__reactListeners$"+ee,Oe="__reactHandles$"+ee,Pe="__reactResources$"+ee,Ue="__reactMarker$"+ee;function De(s){delete s[fe],delete s[xe],delete s[ze],delete s[Ce],delete s[Oe]}function Fe(s){var i=s[fe];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Ne]||l[fe]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=E_(s);s!==null;){if(l=s[fe])return l;s=E_(s)}return i}s=l,l=s.parentNode}return null}function at(s){if(s=s[fe]||s[Ne]){var i=s.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return s}return null}function At(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Et(s){var i=s[Pe];return i||(i=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(s){s[Ue]=!0}var rt=new Set,Br={};function pn(s,i){rr(s,i),rr(s+"Capture",i)}function rr(s,i){for(Br[s]=i,s=0;s<i.length;s++)rt.add(i[s])}var On=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},wr={};function Oi(s){return Ht.call(wr,s)?!0:Ht.call(Ss,s)?!1:On.test(s)?wr[s]=!0:(Ss[s]=!0,!1)}function Hn(s,i,l){if(Oi(i))if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+l)}}function sr(s,i,l){if(l===null)s.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+l)}}function Ke(s,i,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(i,l,""+c)}}var an,Er;function hr(s){if(an===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",Er=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+s+Er}var As=!1;function Lt(s,i){if(!s||As)return"";As=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var ne=re}Reflect.construct(s,[],me)}else{try{me.call()}catch(re){ne=re}s.call(me.prototype)}}else{try{throw Error()}catch(re){ne=re}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),N=v[0],D=v[1];if(N&&D){var G=N.split(`
`),te=D.split(`
`);for(g=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(c===G.length||g===te.length)for(c=G.length-1,g=te.length-1;1<=c&&0<=g&&G[c]!==te[g];)g--;for(;1<=c&&0<=g;c--,g--)if(G[c]!==te[g]){if(c!==1||g!==1)do if(c--,g--,0>g||G[c]!==te[g]){var ue=`
`+G[c].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=c&&0<=g);break}}}finally{As=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?hr(l):""}function Fr(s){switch(s.tag){case 26:case 27:case 5:return hr(s.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return Lt(s.type,!1);case 11:return Lt(s.type.render,!1);case 1:return Lt(s.type,!0);case 31:return hr("Activity");default:return""}}function Js(s){try{var i="";do i+=Fr(s),s=s.return;while(s);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ec(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zm(s){var i=Ec(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),c=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(N){c=""+N,v.call(this,N)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bo(s){s._valueTracker||(s._valueTracker=zm(s))}function Tc(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return s&&(c=Ec(s)?s.checked?"true":"false":s.value),s=c,s!==l?(i.setValue(s),!0):!1}function Ha(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Um=/[\n"\\]/g;function on(s){return s.replace(Um,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tr(s,i,l,c,g,v,N,D){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),i!=null?N==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Dn(i)):s.value!==""+Dn(i)&&(s.value=""+Dn(i)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),i!=null?Di(s,N,Dn(i)):l!=null?Di(s,N,Dn(l)):c!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Dn(D):s.removeAttribute("name")}function $a(s,i,l,c,g,v,N,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null))return;l=l!=null?""+Dn(l):"",i=i!=null?""+Dn(i):l,D||i===s.value||(s.value=i),s.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=D?s.checked:!!c,s.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function Di(s,i,l){i==="number"&&Ha(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ei(s,i,l,c){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Dn(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,c&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Ot(s,i,l){if(i!=null&&(i=""+Dn(i),i!==s.value&&(s.value=i),l==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=l!=null?""+Dn(l):""}function Ga(s,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=Dn(i),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function qr(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var Qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rd(s,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":c?s.setProperty(i,l):typeof l!="number"||l===0||Qa.has(i)?i==="float"?s.cssFloat=l:s[i]=(""+l).trim():s[i]=l+"px"}function Sc(s,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&Rd(s,g,c)}else for(var v in i)i.hasOwnProperty(v)&&Rd(s,v,i[v])}function Ac(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(s){return Fm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ti=null;function Hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ni=null,ri=null;function Nc(s){var i=at(s);if(i&&(s=i.stateNode)){var l=s[xe]||null;e:switch(s=i.stateNode,i.type){case"input":if(Tr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==s&&c.form===s.form){var g=c[xe]||null;if(!g)throw Error(r(90));Tr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===s.form&&Tc(c)}break e;case"textarea":Ot(s,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(s,!!l.multiple,i,!1)}}}var Ns=!1;function Id(s,i,l){if(Ns)return s(i,l);Ns=!0;try{var c=s(i);return c}finally{if(Ns=!1,(ni!==null||ri!==null)&&(Eh(),ni&&(i=ni,s=ri,ri=ni=null,Nc(i),s)))for(i=0;i<s.length;i++)Nc(s[i])}}function Ka(s,i){var l=s.stateNode;if(l===null)return null;var c=l[xe]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(as)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{$r=!1}var Cs=null,Pi=null,si=null;function Cc(){if(si)return si;var s,i=Pi,l=i.length,c,g="value"in Cs?Cs.value:Cs.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var N=l-s;for(c=1;c<=N&&i[l-c]===g[v-c];c++);return si=g.slice(s,1<c?1-c:void 0)}function Rs(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Is(){return!0}function Rc(){return!1}function Tn(s){function i(l,c,g,v,N){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Is:Rc,this.isPropagationStopped=Rc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),i}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Tn(Nt),Xa=y({},Nt,{view:0,detail:0}),jd=Tn(Xa),Ho,$o,js,Wa=y({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==js&&(js&&s.type==="mousemove"?(Ho=s.screenX-js.screenX,$o=s.screenY-js.screenY):$o=Ho=0,js=s),Ho)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),Gr=Tn(Wa),Md=y({},Wa,{dataTransfer:0}),qm=Tn(Md),Za=y({},Xa,{relatedTarget:0}),Go=Tn(Za),Ic=y({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=Tn(Ic),Od=y({},Nt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ko=Tn(Od),Hm=y({},Nt,{data:0}),jc=Tn(Hm),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Pd[s])?!!i[s]:!1}function eo(){return Mc}var kd=y({},Xa,{key:function(s){if(s.key){var i=Ja[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Rs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Dd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(s){return s.type==="keypress"?Rs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Rs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Yo=Tn(kd),Ld=y({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=Tn(Ld),ii=y({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Vd=Tn(ii),zd=y({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=Tn(zd),Bd=y({},Wa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=Tn(Bd),ir=y({},Nt,{newState:0,oldState:0}),Fd=Tn(ir),qd=[9,13,27,32],Ms=as&&"CompositionEvent"in window,m=null;as&&"documentMode"in document&&(m=document.documentMode);var x=as&&"TextEvent"in window&&!m,S=as&&(!Ms||m&&8<m&&11>=m),B=" ",Z=!1;function oe(s,i){switch(s){case"keyup":return qd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yt=!1;function gn(s,i){switch(s){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Z=!0,B);case"textInput":return s=i.data,s===B&&Z?null:s;default:return null}}function vt(s,i){if(yt)return s==="compositionend"||!Ms&&oe(s,i)?(s=Cc(),si=Pi=Cs=null,yt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Sn[s.type]:i==="textarea"}function ai(s,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=Rh(i,"onChange"),0<i.length&&(l=new qo("onChange","change",null,l,c),s.push({event:l,listeners:i}))}var Pn=null,Os=null;function Dc(s){f_(s,0)}function Hd(s){var i=At(s);if(Tc(i))return s}function Dv(s,i){if(s==="change")return i}var Pv=!1;if(as){var $m;if(as){var Gm="oninput"in document;if(!Gm){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Gm=typeof kv.oninput=="function"}$m=Gm}else $m=!1;Pv=$m&&(!document.documentMode||9<document.documentMode)}function Lv(){Pn&&(Pn.detachEvent("onpropertychange",Vv),Os=Pn=null)}function Vv(s){if(s.propertyName==="value"&&Hd(Os)){var i=[];ai(i,Os,s,Hr(s)),Id(Dc,i)}}function OA(s,i,l){s==="focusin"?(Lv(),Pn=i,Os=l,Pn.attachEvent("onpropertychange",Vv)):s==="focusout"&&Lv()}function DA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hd(Os)}function PA(s,i){if(s==="click")return Hd(i)}function kA(s,i){if(s==="input"||s==="change")return Hd(i)}function LA(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Sr=typeof Object.is=="function"?Object.is:LA;function Pc(s,i){if(Sr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ht.call(i,g)||!Sr(s[g],i[g]))return!1}return!0}function zv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Uv(s,i){var l=zv(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=i&&c>=i)return{node:l,offset:i-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zv(l)}}function Bv(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Bv(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Fv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ha(s.document);i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=Ha(s.document)}return i}function Qm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var VA=as&&"documentMode"in document&&11>=document.documentMode,Wo=null,Km=null,kc=null,Ym=!1;function qv(s,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ym||Wo==null||Wo!==Ha(c)||(c=Wo,"selectionStart"in c&&Qm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),kc&&Pc(kc,c)||(kc=c,c=Rh(Km,"onSelect"),0<c.length&&(i=new qo("onSelect","select",null,i,l),s.push({event:i,listeners:c}),i.target=Wo)))}function to(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},Xm={},Hv={};as&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function no(s){if(Xm[s])return Xm[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Hv)return Xm[s]=i[l];return s}var $v=no("animationend"),Gv=no("animationiteration"),Qv=no("animationstart"),zA=no("transitionrun"),UA=no("transitionstart"),BA=no("transitioncancel"),Kv=no("transitionend"),Yv=new Map,Wm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wm.push("scrollEnd");function os(s,i){Yv.set(s,i),pn(i,[s])}var Xv=new WeakMap;function Qr(s,i){if(typeof s=="object"&&s!==null){var l=Xv.get(s);return l!==void 0?l:(i={value:s,source:i,stack:Js(i)},Xv.set(s,i),i)}return{value:s,source:i,stack:Js(i)}}var Kr=[],Jo=0,Zm=0;function $d(){for(var s=Jo,i=Zm=Jo=0;i<s;){var l=Kr[i];Kr[i++]=null;var c=Kr[i];Kr[i++]=null;var g=Kr[i];Kr[i++]=null;var v=Kr[i];if(Kr[i++]=null,c!==null&&g!==null){var N=c.pending;N===null?g.next=g:(g.next=N.next,N.next=g),c.pending=g}v!==0&&Wv(l,g,v)}}function Gd(s,i,l,c){Kr[Jo++]=s,Kr[Jo++]=i,Kr[Jo++]=l,Kr[Jo++]=c,Zm|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Jm(s,i,l,c){return Gd(s,i,l,c),Qd(s)}function el(s,i){return Gd(s,null,null,i),Qd(s)}function Wv(s,i,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=s.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&i!==null&&(g=31-Gt(l),s=v.hiddenUpdates,c=s[g],c===null?s[g]=[i]:c.push(i),i.lane=l|536870912),v):null}function Qd(s){if(50<ou)throw ou=0,ig=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var tl={};function FA(s,i,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,i,l,c){return new FA(s,i,l,c)}function ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oi(s,i){var l=s.alternate;return l===null?(l=Ar(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Zv(s,i){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,i=l.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function Kd(s,i,l,c,g,v){var N=0;if(c=s,typeof s=="function")ep(s)&&(N=1);else if(typeof s=="string")N=HN(s,l,Se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Ar(31,l,i,g),s.elementType=I,s.lanes=v,s;case A:return ro(l.children,g,v,i);case P:N=8,g|=24;break;case R:return s=Ar(12,l,i,g|2),s.elementType=R,s.lanes=v,s;case z:return s=Ar(13,l,i,g),s.elementType=z,s.lanes=v,s;case k:return s=Ar(19,l,i,g),s.elementType=k,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case w:N=10;break e;case E:N=9;break e;case O:N=11;break e;case L:N=14;break e;case M:N=16,c=null;break e}N=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return i=Ar(N,l,i,g),i.elementType=s,i.type=c,i.lanes=v,i}function ro(s,i,l,c){return s=Ar(7,s,c,i),s.lanes=l,s}function tp(s,i,l){return s=Ar(6,s,null,i),s.lanes=l,s}function np(s,i,l){return i=Ar(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var nl=[],rl=0,Yd=null,Xd=0,Yr=[],Xr=0,so=null,li=1,ci="";function io(s,i){nl[rl++]=Xd,nl[rl++]=Yd,Yd=s,Xd=i}function Jv(s,i,l){Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=so,so=s;var c=li;s=ci;var g=32-Gt(c)-1;c&=~(1<<g),l+=1;var v=32-Gt(i)+g;if(30<v){var N=g-g%5;v=(c&(1<<N)-1).toString(32),c>>=N,g-=N,li=1<<32-Gt(i)+g|l<<g|c,ci=v+s}else li=1<<v|l<<g|c,ci=s}function rp(s){s.return!==null&&(io(s,1),Jv(s,1,0))}function sp(s){for(;s===Yd;)Yd=nl[--rl],nl[rl]=null,Xd=nl[--rl],nl[rl]=null;for(;s===so;)so=Yr[--Xr],Yr[Xr]=null,ci=Yr[--Xr],Yr[Xr]=null,li=Yr[--Xr],Yr[Xr]=null}var ar=null,Wt=null,St=!1,ao=null,Ds=!1,ip=Error(r(519));function oo(s){var i=Error(r(418,""));throw zc(Qr(i,s)),ip}function eb(s){var i=s.stateNode,l=s.type,c=s.memoizedProps;switch(i[fe]=s,i[xe]=c,l){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(l=0;l<cu.length;l++)lt(cu[l],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":lt("invalid",i),$a(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(i);break;case"select":lt("invalid",i);break;case"textarea":lt("invalid",i),Ga(i,c.value,c.defaultValue,c.children),Bo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||y_(i.textContent,l)?(c.popover!=null&&(lt("beforetoggle",i),lt("toggle",i)),c.onScroll!=null&&lt("scroll",i),c.onScrollEnd!=null&&lt("scrollend",i),c.onClick!=null&&(i.onclick=Ih),i=!0):i=!1,i||oo(s)}function tb(s){for(ar=s.return;ar;)switch(ar.tag){case 5:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:ar=ar.return}}function Lc(s){if(s!==ar)return!1;if(!St)return tb(s),St=!0,!1;var i=s.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||_g(s.type,s.memoizedProps)),l=!l),l&&Wt&&oo(s),tb(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(i===0){Wt=cs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;s=s.nextSibling}Wt=null}}else i===27?(i=Wt,Wi(s.type)?(s=Sg,Sg=null,Wt=s):Wt=i):Wt=ar?cs(s.stateNode.nextSibling):null;return!0}function Vc(){Wt=ar=null,St=!1}function nb(){var s=ao;return s!==null&&(pr===null?pr=s:pr.push.apply(pr,s),ao=null),s}function zc(s){ao===null?ao=[s]:ao.push(s)}var ap=le(null),lo=null,ui=null;function ki(s,i,l){ge(ap,i._currentValue),i._currentValue=l}function di(s){s._currentValue=ap.current,ve(ap)}function op(s,i,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),s===l)break;s=s.return}}function lp(s,i,l,c){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var N=g.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=g;for(var G=0;G<i.length;G++)if(D.context===i[G]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),op(v.return,l,s),c||(N=null);break e}v=D.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(r(341));N.lanes|=l,v=N.alternate,v!==null&&(v.lanes|=l),op(N,l,s),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===s){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function Uc(s,i,l,c){s=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=g.type;Sr(g.pendingProps.value,N.value)||(s!==null?s.push(D):s=[D])}}else if(g===ye.current){if(N=g.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(pu):s=[pu])}g=g.return}s!==null&&lp(i,s,l,c),i.flags|=262144}function Wd(s){for(s=s.firstContext;s!==null;){if(!Sr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function co(s){lo=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return rb(lo,s)}function Zd(s,i){return lo===null&&co(s),rb(s,i)}function rb(s,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(s===null)throw Error(r(308));ui=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else ui=ui.next=i;return l}var qA=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){i.aborted=!0,s.forEach(function(l){return l()})}},HA=n.unstable_scheduleCallback,$A=n.unstable_NormalPriority,vn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new qA,data:new Map,refCount:0}}function Bc(s){s.refCount--,s.refCount===0&&HA($A,function(){s.controller.abort()})}var Fc=null,up=0,sl=0,il=null;function GA(s,i){if(Fc===null){var l=Fc=[];up=0,sl=hg(),il={status:"pending",value:void 0,then:function(c){l.push(c)}}}return up++,i.then(sb,sb),i}function sb(){if(--up===0&&Fc!==null){il!==null&&(il.status="fulfilled");var s=Fc;Fc=null,sl=0,il=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function QA(s,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var ib=$.S;$.S=function(s,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GA(s,i),ib!==null&&ib(s,i)};var uo=le(null);function dp(){var s=uo.current;return s!==null?s:zt.pooledCache}function Jd(s,i){i===null?ge(uo,uo.current):ge(uo,i.pool)}function ab(){var s=dp();return s===null?null:{parent:vn._currentValue,pool:s}}var qc=Error(r(460)),ob=Error(r(474)),eh=Error(r(542)),hp={then:function(){}};function lb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function th(){}function cb(s,i,l){switch(l=s[l],l===void 0?s.push(i):l!==i&&(i.then(th,th),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,db(s),s;default:if(typeof i.status=="string")i.then(th,th);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,db(s),s}throw Hc=i,qc}}var Hc=null;function ub(){if(Hc===null)throw Error(r(459));var s=Hc;return Hc=null,s}function db(s){if(s===qc||s===eh)throw Error(r(483))}var Li=!1;function fp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Vi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zi(s,i,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(jt&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Qd(s),Wv(s,null,l),i}return Gd(s,c,i,l),Qd(s)}function $c(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}function pp(s,i){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}var gp=!1;function Gc(){if(gp){var s=il;if(s!==null)throw s}}function Qc(s,i,l,c){gp=!1;var g=s.updateQueue;Li=!1;var v=g.firstBaseUpdate,N=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var G=D,te=G.next;G.next=null,N===null?v=te:N.next=te,N=G;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==N&&(D===null?ue.firstBaseUpdate=te:D.next=te,ue.lastBaseUpdate=G))}if(v!==null){var me=g.baseState;N=0,ue=te=G=null,D=v;do{var ne=D.lane&-536870913,re=ne!==D.lane;if(re?(bt&ne)===ne:(c&ne)===ne){ne!==0&&ne===sl&&(gp=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ge=s,Be=D;ne=i;var kt=l;switch(Be.tag){case 1:if(Ge=Be.payload,typeof Ge=="function"){me=Ge.call(kt,me,ne);break e}me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Be.payload,ne=typeof Ge=="function"?Ge.call(kt,me,ne):Ge,ne==null)break e;me=y({},me,ne);break e;case 2:Li=!0}}ne=D.callback,ne!==null&&(s.flags|=64,re&&(s.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(te=ue=re,G=me):ue=ue.next=re,N|=ne;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;re=D,D=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ue===null&&(G=me),g.baseState=G,g.firstBaseUpdate=te,g.lastBaseUpdate=ue,v===null&&(g.shared.lanes=0),Qi|=N,s.lanes=N,s.memoizedState=me}}function hb(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function fb(s,i){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)hb(l[s],i)}var al=le(null),nh=le(0);function mb(s,i){s=vi,ge(nh,s),ge(al,i),vi=s|i.baseLanes}function yp(){ge(nh,vi),ge(al,al.current)}function vp(){vi=nh.current,ve(al),ve(nh)}var Ui=0,tt=null,Dt=null,ln=null,rh=!1,ol=!1,ho=!1,sh=0,Kc=0,ll=null,KA=0;function en(){throw Error(r(321))}function bp(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Sr(s[l],i[l]))return!1;return!0}function xp(s,i,l,c,g,v){return Ui=v,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=s===null||s.memoizedState===null?Wb:Zb,ho=!1,v=l(c,g),ho=!1,ol&&(v=gb(i,l,c,g)),pb(s),v}function pb(s){$.H=uh;var i=Dt!==null&&Dt.next!==null;if(Ui=0,ln=Dt=tt=null,rh=!1,Kc=0,ll=null,i)throw Error(r(300));s===null||An||(s=s.dependencies,s!==null&&Wd(s)&&(An=!0))}function gb(s,i,l,c){tt=s;var g=0;do{if(ol&&(ll=null),Kc=0,ol=!1,25<=g)throw Error(r(301));if(g+=1,ln=Dt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=tN,v=i(l,c)}while(ol);return v}function YA(){var s=$.H,i=s.useState()[0];return i=typeof i.then=="function"?Yc(i):i,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(tt.flags|=1024),i}function _p(){var s=sh!==0;return sh=0,s}function wp(s,i,l){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~l}function Ep(s){if(rh){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}rh=!1}Ui=0,ln=Dt=tt=null,ol=!1,Kc=sh=0,ll=null}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?tt.memoizedState=ln=s:ln=ln.next=s,ln}function cn(){if(Dt===null){var s=tt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var i=ln===null?tt.memoizedState:ln.next;if(i!==null)ln=i,Dt=s;else{if(s===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ln===null?tt.memoizedState=ln=s:ln=ln.next=s}return ln}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(s){var i=Kc;return Kc+=1,ll===null&&(ll=[]),s=cb(ll,s,i),i=tt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Wb:Zb),s}function ih(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yc(s);if(s.$$typeof===w)return $n(s)}throw Error(r(438,String(s)))}function Sp(s){var i=null,l=tt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Tp(),tt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(s),c=0;c<s;c++)l[c]=V;return i.index++,l}function hi(s,i){return typeof i=="function"?i(s):i}function ah(s){var i=cn();return Ap(i,Dt,s)}function Ap(s,i,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=s.baseQueue,v=c.pending;if(v!==null){if(g!==null){var N=g.next;g.next=v.next,v.next=N}i.baseQueue=g=v,c.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{i=g.next;var D=N=null,G=null,te=i,ue=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(bt&me)===me:(Ui&me)===me){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===sl&&(ue=!0);else if((Ui&ne)===ne){te=te.next,ne===sl&&(ue=!0);continue}else me={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=me,N=v):G=G.next=me,tt.lanes|=ne,Qi|=ne;me=te.action,ho&&l(v,me),v=te.hasEagerState?te.eagerState:l(v,me)}else ne={lane:me,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(D=G=ne,N=v):G=G.next=ne,tt.lanes|=me,Qi|=me;te=te.next}while(te!==null&&te!==i);if(G===null?N=v:G.next=D,!Sr(v,s.memoizedState)&&(An=!0,ue&&(l=il,l!==null)))throw l;s.memoizedState=v,s.baseState=N,s.baseQueue=G,c.lastRenderedState=v}return g===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Np(s){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var N=g=g.next;do v=s(v,N.action),N=N.next;while(N!==g);Sr(v,i.memoizedState)||(An=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function yb(s,i,l){var c=tt,g=cn(),v=St;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var N=!Sr((Dt||g).memoizedState,l);N&&(g.memoizedState=l,An=!0),g=g.queue;var D=xb.bind(null,c,g,s);if(Xc(2048,8,D,[s]),g.getSnapshot!==i||N||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,cl(9,oh(),bb.bind(null,c,g,l,i),null),zt===null)throw Error(r(349));v||(Ui&124)!==0||vb(c,i,l)}return l}function vb(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i=Tp(),tt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function bb(s,i,l,c){i.value=l,i.getSnapshot=c,_b(i)&&wb(s)}function xb(s,i,l){return l(function(){_b(i)&&wb(s)})}function _b(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Sr(s,l)}catch{return!0}}function wb(s){var i=el(s,2);i!==null&&jr(i,s,2)}function Cp(s){var i=fr();if(typeof s=="function"){var l=s;if(s=l(),ho){En(!0);try{l()}finally{En(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},i}function Eb(s,i,l,c){return s.baseState=l,Ap(s,Dt,typeof c=="function"?c:hi)}function XA(s,i,l,c,g){if(ch(s))throw Error(r(485));if(s=i.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};$.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,Tb(i,v)):(v.next=l.next,i.pending=l.next=v)}}function Tb(s,i){var l=i.action,c=i.payload,g=s.state;if(i.isTransition){var v=$.T,N={};$.T=N;try{var D=l(g,c),G=$.S;G!==null&&G(N,D),Sb(s,i,D)}catch(te){Rp(s,i,te)}finally{$.T=v}}else try{v=l(g,c),Sb(s,i,v)}catch(te){Rp(s,i,te)}}function Sb(s,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Ab(s,i,c)},function(c){return Rp(s,i,c)}):Ab(s,i,l)}function Ab(s,i,l){i.status="fulfilled",i.value=l,Nb(i),s.state=l,i=s.pending,i!==null&&(l=i.next,l===i?s.pending=null:(l=l.next,i.next=l,Tb(s,l)))}function Rp(s,i,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,Nb(i),i=i.next;while(i!==c)}s.action=null}function Nb(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Cb(s,i){return i}function Rb(s,i){if(St){var l=zt.formState;if(l!==null){e:{var c=tt;if(St){if(Wt){t:{for(var g=Wt,v=Ds;g.nodeType!==8;){if(!v){g=null;break t}if(g=cs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Wt=cs(g.nextSibling),c=g.data==="F!";break e}}oo(c)}c=!1}c&&(i=l[0])}}return l=fr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:i},l.queue=c,l=Kb.bind(null,tt,c),c.dispatch=l,c=Cp(!1),v=Dp.bind(null,tt,!1,c.queue),c=fr(),g={state:i,dispatch:null,action:s,pending:null},c.queue=g,l=XA.bind(null,tt,g,v,l),g.dispatch=l,c.memoizedState=s,[i,l,!1]}function Ib(s){var i=cn();return jb(i,Dt,s)}function jb(s,i,l){if(i=Ap(s,i,Cb)[0],s=ah(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Yc(i)}catch(N){throw N===qc?eh:N}else c=i;i=cn();var g=i.queue,v=g.dispatch;return l!==i.memoizedState&&(tt.flags|=2048,cl(9,oh(),WA.bind(null,g,l),null)),[c,v,s]}function WA(s,i){s.action=i}function Mb(s){var i=cn(),l=Dt;if(l!==null)return jb(i,l,s);cn(),i=i.memoizedState,l=cn();var c=l.queue.dispatch;return l.memoizedState=s,[i,c,!1]}function cl(s,i,l,c){return s={tag:s,create:l,deps:c,inst:i,next:null},i=tt.updateQueue,i===null&&(i=Tp(),tt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,i.lastEffect=s),s}function oh(){return{destroy:void 0,resource:void 0}}function Ob(){return cn().memoizedState}function lh(s,i,l,c){var g=fr();c=c===void 0?null:c,tt.flags|=s,g.memoizedState=cl(1|i,oh(),l,c)}function Xc(s,i,l,c){var g=cn();c=c===void 0?null:c;var v=g.memoizedState.inst;Dt!==null&&c!==null&&bp(c,Dt.memoizedState.deps)?g.memoizedState=cl(i,v,l,c):(tt.flags|=s,g.memoizedState=cl(1|i,v,l,c))}function Db(s,i){lh(8390656,8,s,i)}function Pb(s,i){Xc(2048,8,s,i)}function kb(s,i){return Xc(4,2,s,i)}function Lb(s,i){return Xc(4,4,s,i)}function Vb(s,i){if(typeof i=="function"){s=s();var l=i(s);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function zb(s,i,l){l=l!=null?l.concat([s]):null,Xc(4,4,Vb.bind(null,i,s),l)}function Ip(){}function Ub(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&bp(i,c[1])?c[0]:(l.memoizedState=[s,i],s)}function Bb(s,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&bp(i,c[1]))return c[0];if(c=s(),ho){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,i],c}function jp(s,i,l){return l===void 0||(Ui&1073741824)!==0?s.memoizedState=i:(s.memoizedState=l,s=Hx(),tt.lanes|=s,Qi|=s,l)}function Fb(s,i,l,c){return Sr(l,i)?l:al.current!==null?(s=jp(s,l,c),Sr(s,i)||(An=!0),s):(Ui&42)===0?(An=!0,s.memoizedState=l):(s=Hx(),tt.lanes|=s,Qi|=s,i)}function qb(s,i,l,c,g){var v=se.p;se.p=v!==0&&8>v?v:8;var N=$.T,D={};$.T=D,Dp(s,!1,i,l);try{var G=g(),te=$.S;if(te!==null&&te(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=QA(G,c);Wc(s,i,ue,Ir(s))}else Wc(s,i,c,Ir(s))}catch(me){Wc(s,i,{then:function(){},status:"rejected",reason:me},Ir())}finally{se.p=v,$.T=N}}function ZA(){}function Mp(s,i,l,c){if(s.tag!==5)throw Error(r(476));var g=Hb(s).queue;qb(s,g,i,ae,l===null?ZA:function(){return $b(s),l(c)})}function Hb(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ae},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function $b(s){var i=Hb(s).next.queue;Wc(s,i,{},Ir())}function Op(){return $n(pu)}function Gb(){return cn().memoizedState}function Qb(){return cn().memoizedState}function JA(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ir();s=Vi(l);var c=zi(i,s,l);c!==null&&(jr(c,i,l),$c(c,i,l)),i={cache:cp()},s.payload=i;return}i=i.return}}function eN(s,i,l){var c=Ir();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ch(s)?Yb(i,l):(l=Jm(s,i,l,c),l!==null&&(jr(l,s,c),Xb(l,i,c)))}function Kb(s,i,l){var c=Ir();Wc(s,i,l,c)}function Wc(s,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ch(s))Yb(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var N=i.lastRenderedState,D=v(N,l);if(g.hasEagerState=!0,g.eagerState=D,Sr(D,N))return Gd(s,i,g,0),zt===null&&$d(),!1}catch{}finally{}if(l=Jm(s,i,g,c),l!==null)return jr(l,s,c),Xb(l,i,c),!0}return!1}function Dp(s,i,l,c){if(c={lane:2,revertLane:hg(),action:c,hasEagerState:!1,eagerState:null,next:null},ch(s)){if(i)throw Error(r(479))}else i=Jm(s,l,c,2),i!==null&&jr(i,s,2)}function ch(s){var i=s.alternate;return s===tt||i!==null&&i===tt}function Yb(s,i){ol=rh=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Xb(s,i,l){if((l&4194048)!==0){var c=i.lanes;c&=s.pendingLanes,l|=c,i.lanes=l,Ur(s,l)}}var uh={readContext:$n,use:ih,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},Wb={readContext:$n,use:ih,useCallback:function(s,i){return fr().memoizedState=[s,i===void 0?null:i],s},useContext:$n,useEffect:Db,useImperativeHandle:function(s,i,l){l=l!=null?l.concat([s]):null,lh(4194308,4,Vb.bind(null,i,s),l)},useLayoutEffect:function(s,i){return lh(4194308,4,s,i)},useInsertionEffect:function(s,i){lh(4,2,s,i)},useMemo:function(s,i){var l=fr();i=i===void 0?null:i;var c=s();if(ho){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,i],c},useReducer:function(s,i,l){var c=fr();if(l!==void 0){var g=l(i);if(ho){En(!0);try{l(i)}finally{En(!1)}}}else g=i;return c.memoizedState=c.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},c.queue=s,s=s.dispatch=eN.bind(null,tt,s),[c.memoizedState,s]},useRef:function(s){var i=fr();return s={current:s},i.memoizedState=s},useState:function(s){s=Cp(s);var i=s.queue,l=Kb.bind(null,tt,i);return i.dispatch=l,[s.memoizedState,l]},useDebugValue:Ip,useDeferredValue:function(s,i){var l=fr();return jp(l,s,i)},useTransition:function(){var s=Cp(!1);return s=qb.bind(null,tt,s.queue,!0,!1),fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,l){var c=tt,g=fr();if(St){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),zt===null)throw Error(r(349));(bt&124)!==0||vb(c,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,Db(xb.bind(null,c,v,s),[s]),c.flags|=2048,cl(9,oh(),bb.bind(null,c,v,l,i),null),l},useId:function(){var s=fr(),i=zt.identifierPrefix;if(St){var l=ci,c=li;l=(c&~(1<<32-Gt(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=sh++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=KA++,i="«"+i+"r"+l.toString(32)+"»";return s.memoizedState=i},useHostTransitionStatus:Op,useFormState:Rb,useActionState:Rb,useOptimistic:function(s){var i=fr();i.memoizedState=i.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Dp.bind(null,tt,!0,l),l.dispatch=i,[s,i]},useMemoCache:Sp,useCacheRefresh:function(){return fr().memoizedState=JA.bind(null,tt)}},Zb={readContext:$n,use:ih,useCallback:Ub,useContext:$n,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:kb,useLayoutEffect:Lb,useMemo:Bb,useReducer:ah,useRef:Ob,useState:function(){return ah(hi)},useDebugValue:Ip,useDeferredValue:function(s,i){var l=cn();return Fb(l,Dt.memoizedState,s,i)},useTransition:function(){var s=ah(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:yb,useId:Gb,useHostTransitionStatus:Op,useFormState:Ib,useActionState:Ib,useOptimistic:function(s,i){var l=cn();return Eb(l,Dt,s,i)},useMemoCache:Sp,useCacheRefresh:Qb},tN={readContext:$n,use:ih,useCallback:Ub,useContext:$n,useEffect:Pb,useImperativeHandle:zb,useInsertionEffect:kb,useLayoutEffect:Lb,useMemo:Bb,useReducer:Np,useRef:Ob,useState:function(){return Np(hi)},useDebugValue:Ip,useDeferredValue:function(s,i){var l=cn();return Dt===null?jp(l,s,i):Fb(l,Dt.memoizedState,s,i)},useTransition:function(){var s=Np(hi)[0],i=cn().memoizedState;return[typeof s=="boolean"?s:Yc(s),i]},useSyncExternalStore:yb,useId:Gb,useHostTransitionStatus:Op,useFormState:Mb,useActionState:Mb,useOptimistic:function(s,i){var l=cn();return Dt!==null?Eb(l,Dt,s,i):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Sp,useCacheRefresh:Qb},ul=null,Zc=0;function dh(s){var i=Zc;return Zc+=1,ul===null&&(ul=[]),cb(ul,s,i)}function Jc(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function hh(s,i){throw i.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Jb(s){var i=s._init;return i(s._payload)}function ex(s){function i(X,K){if(s){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!s)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function g(X,K){return X=oi(X,K),X.index=0,X.sibling=null,X}function v(X,K,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function N(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function D(X,K,J,he){return K===null||K.tag!==6?(K=tp(J,X.mode,he),K.return=X,K):(K=g(K,J),K.return=X,K)}function G(X,K,J,he){var Re=J.type;return Re===A?ue(X,K,J.props.children,he,J.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&Jb(Re)===K.type)?(K=g(K,J.props),Jc(K,J),K.return=X,K):(K=Kd(J.type,J.key,J.props,null,X.mode,he),Jc(K,J),K.return=X,K)}function te(X,K,J,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=np(J,X.mode,he),K.return=X,K):(K=g(K,J.children||[]),K.return=X,K)}function ue(X,K,J,he,Re){return K===null||K.tag!==7?(K=ro(J,X.mode,he,Re),K.return=X,K):(K=g(K,J),K.return=X,K)}function me(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=tp(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=Kd(K.type,K.key,K.props,null,X.mode,J),Jc(J,K),J.return=X,J;case T:return K=np(K,X.mode,J),K.return=X,K;case M:var he=K._init;return K=he(K._payload),me(X,K,J)}if(ce(K)||U(K))return K=ro(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return me(X,dh(K),J);if(K.$$typeof===w)return me(X,Zd(X,K),J);hh(X,K)}return null}function ne(X,K,J,he){var Re=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:D(X,K,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Re?G(X,K,J,he):null;case T:return J.key===Re?te(X,K,J,he):null;case M:return Re=J._init,J=Re(J._payload),ne(X,K,J,he)}if(ce(J)||U(J))return Re!==null?null:ue(X,K,J,he,null);if(typeof J.then=="function")return ne(X,K,dh(J),he);if(J.$$typeof===w)return ne(X,K,Zd(X,J),he);hh(X,J)}return null}function re(X,K,J,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(J)||null,D(K,X,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return X=X.get(he.key===null?J:he.key)||null,G(K,X,he,Re);case T:return X=X.get(he.key===null?J:he.key)||null,te(K,X,he,Re);case M:var st=he._init;return he=st(he._payload),re(X,K,J,he,Re)}if(ce(he)||U(he))return X=X.get(J)||null,ue(K,X,he,Re,null);if(typeof he.then=="function")return re(X,K,J,dh(he),Re);if(he.$$typeof===w)return re(X,K,J,Zd(K,he),Re);hh(K,he)}return null}function Ge(X,K,J,he){for(var Re=null,st=null,ke=K,qe=K=0,Cn=null;ke!==null&&qe<J.length;qe++){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var Tt=ne(X,ke,J[qe],he);if(Tt===null){ke===null&&(ke=Cn);break}s&&ke&&Tt.alternate===null&&i(X,ke),K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt,ke=Cn}if(qe===J.length)return l(X,ke),St&&io(X,qe),Re;if(ke===null){for(;qe<J.length;qe++)ke=me(X,J[qe],he),ke!==null&&(K=v(ke,K,qe),st===null?Re=ke:st.sibling=ke,st=ke);return St&&io(X,qe),Re}for(ke=c(ke);qe<J.length;qe++)Cn=re(ke,X,qe,J[qe],he),Cn!==null&&(s&&Cn.alternate!==null&&ke.delete(Cn.key===null?qe:Cn.key),K=v(Cn,K,qe),st===null?Re=Cn:st.sibling=Cn,st=Cn);return s&&ke.forEach(function(na){return i(X,na)}),St&&io(X,qe),Re}function Be(X,K,J,he){if(J==null)throw Error(r(151));for(var Re=null,st=null,ke=K,qe=K=0,Cn=null,Tt=J.next();ke!==null&&!Tt.done;qe++,Tt=J.next()){ke.index>qe?(Cn=ke,ke=null):Cn=ke.sibling;var na=ne(X,ke,Tt.value,he);if(na===null){ke===null&&(ke=Cn);break}s&&ke&&na.alternate===null&&i(X,ke),K=v(na,K,qe),st===null?Re=na:st.sibling=na,st=na,ke=Cn}if(Tt.done)return l(X,ke),St&&io(X,qe),Re;if(ke===null){for(;!Tt.done;qe++,Tt=J.next())Tt=me(X,Tt.value,he),Tt!==null&&(K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt);return St&&io(X,qe),Re}for(ke=c(ke);!Tt.done;qe++,Tt=J.next())Tt=re(ke,X,qe,Tt.value,he),Tt!==null&&(s&&Tt.alternate!==null&&ke.delete(Tt.key===null?qe:Tt.key),K=v(Tt,K,qe),st===null?Re=Tt:st.sibling=Tt,st=Tt);return s&&ke.forEach(function(nC){return i(X,nC)}),St&&io(X,qe),Re}function kt(X,K,J,he){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Re=J.key;K!==null;){if(K.key===Re){if(Re=J.type,Re===A){if(K.tag===7){l(X,K.sibling),he=g(K,J.props.children),he.return=X,X=he;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&Jb(Re)===K.type){l(X,K.sibling),he=g(K,J.props),Jc(he,J),he.return=X,X=he;break e}l(X,K);break}else i(X,K);K=K.sibling}J.type===A?(he=ro(J.props.children,X.mode,he,J.key),he.return=X,X=he):(he=Kd(J.type,J.key,J.props,null,X.mode,he),Jc(he,J),he.return=X,X=he)}return N(X);case T:e:{for(Re=J.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),he=g(K,J.children||[]),he.return=X,X=he;break e}else{l(X,K);break}else i(X,K);K=K.sibling}he=np(J,X.mode,he),he.return=X,X=he}return N(X);case M:return Re=J._init,J=Re(J._payload),kt(X,K,J,he)}if(ce(J))return Ge(X,K,J,he);if(U(J)){if(Re=U(J),typeof Re!="function")throw Error(r(150));return J=Re.call(J),Be(X,K,J,he)}if(typeof J.then=="function")return kt(X,K,dh(J),he);if(J.$$typeof===w)return kt(X,K,Zd(X,J),he);hh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),he=g(K,J),he.return=X,X=he):(l(X,K),he=tp(J,X.mode,he),he.return=X,X=he),N(X)):l(X,K)}return function(X,K,J,he){try{Zc=0;var Re=kt(X,K,J,he);return ul=null,Re}catch(ke){if(ke===qc||ke===eh)throw ke;var st=Ar(29,ke,null,X.mode);return st.lanes=he,st.return=X,st}finally{}}}var dl=ex(!0),tx=ex(!1),Wr=le(null),Ps=null;function Bi(s){var i=s.alternate;ge(bn,bn.current&1),ge(Wr,s),Ps===null&&(i===null||al.current!==null||i.memoizedState!==null)&&(Ps=s)}function nx(s){if(s.tag===22){if(ge(bn,bn.current),ge(Wr,s),Ps===null){var i=s.alternate;i!==null&&i.memoizedState!==null&&(Ps=s)}}else Fi()}function Fi(){ge(bn,bn.current),ge(Wr,Wr.current)}function fi(s){ve(Wr),Ps===s&&(Ps=null),ve(bn)}var bn=le(0);function fh(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Tg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pp(s,i,l,c){i=s.memoizedState,l=l(c,i),l=l==null?i:y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var kp={enqueueSetState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Vi(c);g.payload=i,l!=null&&(g.callback=l),i=zi(s,g,c),i!==null&&(jr(i,s,c),$c(i,s,c))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var c=Ir(),g=Vi(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=zi(s,g,c),i!==null&&(jr(i,s,c),$c(i,s,c))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Ir(),c=Vi(l);c.tag=2,i!=null&&(c.callback=i),i=zi(s,c,l),i!==null&&(jr(i,s,l),$c(i,s,l))}};function rx(s,i,l,c,g,v,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,v,N):i.prototype&&i.prototype.isPureReactComponent?!Pc(l,c)||!Pc(g,v):!0}function sx(s,i,l,c){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==s&&kp.enqueueReplaceState(i,i.state,null)}function fo(s,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(s=s.defaultProps){l===i&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ix(s){mh(s)}function ax(s){console.error(s)}function ox(s){mh(s)}function ph(s,i){try{var l=s.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function lx(s,i,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lp(s,i,l){return l=Vi(l),l.tag=3,l.payload={element:null},l.callback=function(){ph(s,i)},l}function cx(s){return s=Vi(s),s.tag=3,s}function ux(s,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;s.payload=function(){return g(v)},s.callback=function(){lx(i,l,c)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){lx(i,l,c),typeof g!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function nN(s,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&Uc(i,l,g,!0),l=Wr.current,l!==null){switch(l.tag){case 13:return Ps===null?og():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===hp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),cg(s,c,g)),!1;case 22:return l.flags|=65536,c===hp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),cg(s,c,g)),!1}throw Error(r(435,l.tag))}return cg(s,c,g),og(),!1}if(St)return i=Wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==ip&&(s=Error(r(422),{cause:c}),zc(Qr(s,l)))):(c!==ip&&(i=Error(r(423),{cause:c}),zc(Qr(i,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,c=Qr(c,l),g=Lp(s.stateNode,c,g),pp(s,g),Zt!==4&&(Zt=2)),!1;var v=Error(r(520),{cause:c});if(v=Qr(v,l),au===null?au=[v]:au.push(v),Zt!==4&&(Zt=2),i===null)return!0;c=Qr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Lp(l.stateNode,c,s),pp(l,s),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ki===null||!Ki.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=cx(g),ux(g,s,l,c),pp(l,g),!1}l=l.return}while(l!==null);return!1}var dx=Error(r(461)),An=!1;function kn(s,i,l,c){i.child=s===null?tx(i,null,l,c):dl(i,s.child,l,c)}function hx(s,i,l,c,g){l=l.render;var v=i.ref;if("ref"in c){var N={};for(var D in c)D!=="ref"&&(N[D]=c[D])}else N=c;return co(i),c=xp(s,i,l,N,v,g),D=_p(),s!==null&&!An?(wp(s,i,g),mi(s,i,g)):(St&&D&&rp(i),i.flags|=1,kn(s,i,c,g),i.child)}function fx(s,i,l,c,g){if(s===null){var v=l.type;return typeof v=="function"&&!ep(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,mx(s,i,v,c,g)):(s=Kd(l.type,null,c,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,!$p(s,g)){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(N,c)&&s.ref===i.ref)return mi(s,i,g)}return i.flags|=1,s=oi(v,c),s.ref=i.ref,s.return=i,i.child=s}function mx(s,i,l,c,g){if(s!==null){var v=s.memoizedProps;if(Pc(v,c)&&s.ref===i.ref)if(An=!1,i.pendingProps=c=v,$p(s,g))(s.flags&131072)!==0&&(An=!0);else return i.lanes=s.lanes,mi(s,i,g)}return Vp(s,i,l,c,g)}function px(s,i,l){var c=i.pendingProps,g=c.children,v=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,s!==null){for(g=i.child=s.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;i.childLanes=v&~c}else i.childLanes=0,i.child=null;return gx(s,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Jd(i,v!==null?v.cachePool:null),v!==null?mb(i,v):yp(),nx(i);else return i.lanes=i.childLanes=536870912,gx(s,i,v!==null?v.baseLanes|l:l,l)}else v!==null?(Jd(i,v.cachePool),mb(i,v),Fi(),i.memoizedState=null):(s!==null&&Jd(i,null),yp(),Fi());return kn(s,i,g,l),i.child}function gx(s,i,l,c){var g=dp();return g=g===null?null:{parent:vn._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},s!==null&&Jd(i,null),yp(),nx(i),s!==null&&Uc(s,i,c,!0),null}function gh(s,i){var l=i.ref;if(l===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(i.flags|=4194816)}}function Vp(s,i,l,c,g){return co(i),l=xp(s,i,l,c,void 0,g),c=_p(),s!==null&&!An?(wp(s,i,g),mi(s,i,g)):(St&&c&&rp(i),i.flags|=1,kn(s,i,l,g),i.child)}function yx(s,i,l,c,g,v){return co(i),i.updateQueue=null,l=gb(i,c,l,g),pb(s),c=_p(),s!==null&&!An?(wp(s,i,v),mi(s,i,v)):(St&&c&&rp(i),i.flags|=1,kn(s,i,l,v),i.child)}function vx(s,i,l,c,g){if(co(i),i.stateNode===null){var v=tl,N=l.contextType;typeof N=="object"&&N!==null&&(v=$n(N)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=kp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},fp(i),N=l.contextType,v.context=typeof N=="object"&&N!==null?$n(N):tl,v.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Pp(i,l,N,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&kp.enqueueReplaceState(v,v.state,null),Qc(i,c,v,g),Gc(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(s===null){v=i.stateNode;var D=i.memoizedProps,G=fo(l,D);v.props=G;var te=v.context,ue=l.contextType;N=tl,typeof ue=="object"&&ue!==null&&(N=$n(ue));var me=l.getDerivedStateFromProps;ue=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||te!==N)&&sx(i,v,c,N),Li=!1;var ne=i.memoizedState;v.state=ne,Qc(i,c,v,g),Gc(),te=i.memoizedState,D||ne!==te||Li?(typeof me=="function"&&(Pp(i,l,me,c),te=i.memoizedState),(G=Li||rx(i,l,G,c,ne,te,N))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=te),v.props=c,v.state=te,v.context=N,c=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,mp(s,i),N=i.memoizedProps,ue=fo(l,N),v.props=ue,me=i.pendingProps,ne=v.context,te=l.contextType,G=tl,typeof te=="object"&&te!==null&&(G=$n(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==me||ne!==G)&&sx(i,v,c,G),Li=!1,ne=i.memoizedState,v.state=ne,Qc(i,c,v,g),Gc();var re=i.memoizedState;N!==me||ne!==re||Li||s!==null&&s.dependencies!==null&&Wd(s.dependencies)?(typeof D=="function"&&(Pp(i,l,D,c),re=i.memoizedState),(ue=Li||rx(i,l,ue,c,ne,re,G)||s!==null&&s.dependencies!==null&&Wd(s.dependencies))?(te||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,re,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,re,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),v.props=c,v.state=re,v.context=G,c=ue):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),c=!1)}return v=c,gh(s,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,s!==null&&c?(i.child=dl(i,s.child,null,g),i.child=dl(i,null,l,g)):kn(s,i,l,g),i.memoizedState=v.state,s=i.child):s=mi(s,i,g),s}function bx(s,i,l,c){return Vc(),i.flags|=256,kn(s,i,l,c),i.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Up(s){return{baseLanes:s,cachePool:ab()}}function Bp(s,i,l){return s=s!==null?s.childLanes&~l:0,i&&(s|=Zr),s}function xx(s,i,l){var c=i.pendingProps,g=!1,v=(i.flags&128)!==0,N;if((N=v)||(N=s!==null&&s.memoizedState===null?!1:(bn.current&2)!==0),N&&(g=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,s===null){if(St){if(g?Bi(i):Fi(),St){var D=Wt,G;if(G=D){e:{for(G=D,D=Ds;G.nodeType!==8;){if(!D){D=null;break e}if(G=cs(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(i.memoizedState={dehydrated:D,treeContext:so!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},G=Ar(18,null,null,0),G.stateNode=D,G.return=i,i.child=G,ar=i,Wt=null,G=!0):G=!1}G||oo(i)}if(D=i.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Tg(D)?i.lanes=32:i.lanes=536870912,null;fi(i)}return D=c.children,c=c.fallback,g?(Fi(),g=i.mode,D=yh({mode:"hidden",children:D},g),c=ro(c,g,l,null),D.return=i,c.return=i,D.sibling=c,i.child=D,g=i.child,g.memoizedState=Up(l),g.childLanes=Bp(s,N,l),i.memoizedState=zp,c):(Bi(i),Fp(i,D))}if(G=s.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(v)i.flags&256?(Bi(i),i.flags&=-257,i=qp(s,i,l)):i.memoizedState!==null?(Fi(),i.child=s.child,i.flags|=128,i=null):(Fi(),g=c.fallback,D=i.mode,c=yh({mode:"visible",children:c.children},D),g=ro(g,D,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,dl(i,s.child,null,l),c=i.child,c.memoizedState=Up(l),c.childLanes=Bp(s,N,l),i.memoizedState=zp,i=g);else if(Bi(i),Tg(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var te=N.dgst;N=te,c=Error(r(419)),c.stack="",c.digest=N,zc({value:c,source:null,stack:null}),i=qp(s,i,l)}else if(An||Uc(s,i,l,!1),N=(l&s.childLanes)!==0,An||N){if(N=zt,N!==null&&(c=l&-l,c=(c&42)!==0?1:_r(c),c=(c&(N.suspendedLanes|l))!==0?0:c,c!==0&&c!==G.retryLane))throw G.retryLane=c,el(s,c),jr(N,s,c),dx;D.data==="$?"||og(),i=qp(s,i,l)}else D.data==="$?"?(i.flags|=192,i.child=s.child,i=null):(s=G.treeContext,Wt=cs(D.nextSibling),ar=i,St=!0,ao=null,Ds=!1,s!==null&&(Yr[Xr++]=li,Yr[Xr++]=ci,Yr[Xr++]=so,li=s.id,ci=s.overflow,so=i),i=Fp(i,c.children),i.flags|=4096);return i}return g?(Fi(),g=c.fallback,D=i.mode,G=s.child,te=G.sibling,c=oi(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,te!==null?g=oi(te,g):(g=ro(g,D,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,D=s.child.memoizedState,D===null?D=Up(l):(G=D.cachePool,G!==null?(te=vn._currentValue,G=G.parent!==te?{parent:te,pool:te}:G):G=ab(),D={baseLanes:D.baseLanes|l,cachePool:G}),g.memoizedState=D,g.childLanes=Bp(s,N,l),i.memoizedState=zp,c):(Bi(i),l=s.child,s=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,s!==null&&(N=i.deletions,N===null?(i.deletions=[s],i.flags|=16):N.push(s)),i.child=l,i.memoizedState=null,l)}function Fp(s,i){return i=yh({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function yh(s,i){return s=Ar(22,s,null,i),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qp(s,i,l){return dl(i,s.child,null,l),s=Fp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function _x(s,i,l){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i),op(s.return,i,l)}function Hp(s,i,l,c,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=g)}function wx(s,i,l){var c=i.pendingProps,g=c.revealOrder,v=c.tail;if(kn(s,i,c.children,l),c=bn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_x(s,l,i);else if(s.tag===19)_x(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(ge(bn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&fh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Hp(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&fh(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Hp(i,!0,l,null,v);break;case"together":Hp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Qi|=i.lanes,(l&i.childLanes)===0)if(s!==null){if(Uc(s,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,l=oi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=oi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function $p(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&Wd(s)))}function rN(s,i,l){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),ki(i,vn,s.memoizedState.cache),Vc();break;case 27:case 5:Ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:ki(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Bi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?xx(s,i,l):(Bi(i),s=mi(s,i,l),s!==null?s.sibling:null);Bi(i);break;case 19:var g=(s.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(Uc(s,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return wx(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ge(bn,bn.current),c)break;return null;case 22:case 23:return i.lanes=0,px(s,i,l);case 24:ki(i,vn,s.memoizedState.cache)}return mi(s,i,l)}function Ex(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps)An=!0;else{if(!$p(s,l)&&(i.flags&128)===0)return An=!1,rN(s,i,l);An=(s.flags&131072)!==0}else An=!1,St&&(i.flags&1048576)!==0&&Jv(i,Xd,i.index);switch(i.lanes=0,i.tag){case 16:e:{s=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")ep(c)?(s=fo(c,s),i.tag=1,i=vx(null,i,c,s,l)):(i.tag=0,i=Vp(null,i,c,s,l));else{if(c!=null){if(g=c.$$typeof,g===O){i.tag=11,i=hx(null,i,c,s,l);break e}else if(g===L){i.tag=14,i=fx(null,i,c,s,l);break e}}throw i=ie(c)||c,Error(r(306,i,""))}}return i;case 0:return Vp(s,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=fo(c,i.pendingProps),vx(s,i,c,g,l);case 3:e:{if(Te(i,i.stateNode.containerInfo),s===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;g=v.element,mp(s,i),Qc(i,c,null,l);var N=i.memoizedState;if(c=N.cache,ki(i,vn,c),c!==v.cache&&lp(i,[vn],l,!0),Gc(),c=N.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=bx(s,i,c,l);break e}else if(c!==g){g=Qr(Error(r(424)),i),zc(g),i=bx(s,i,c,l);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wt=cs(s.firstChild),ar=i,St=!0,ao=null,Ds=!0,l=tx(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vc(),c===g){i=mi(s,i,l);break e}kn(s,i,c,l)}i=i.child}return i;case 26:return gh(s,i),s===null?(l=N_(i.type,null,i.pendingProps,null))?i.memoizedState=l:St||(l=i.type,s=i.pendingProps,c=jh(Ee.current).createElement(l),c[fe]=i,c[xe]=s,Vn(c,l,s),ft(c),i.stateNode=c):i.memoizedState=N_(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return Ze(i),s===null&&St&&(c=i.stateNode=T_(i.type,i.pendingProps,Ee.current),ar=i,Ds=!0,g=Wt,Wi(i.type)?(Sg=g,Wt=cs(c.firstChild)):Wt=g),kn(s,i,i.pendingProps.children,l),gh(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&St&&((g=c=Wt)&&(c=jN(c,i.type,i.pendingProps,Ds),c!==null?(i.stateNode=c,ar=i,Wt=cs(c.firstChild),Ds=!1,g=!0):g=!1),g||oo(i)),Ze(i),g=i.type,v=i.pendingProps,N=s!==null?s.memoizedProps:null,c=v.children,_g(g,v)?c=null:N!==null&&_g(g,N)&&(i.flags|=32),i.memoizedState!==null&&(g=xp(s,i,YA,null,null,l),pu._currentValue=g),gh(s,i),kn(s,i,c,l),i.child;case 6:return s===null&&St&&((s=l=Wt)&&(l=MN(l,i.pendingProps,Ds),l!==null?(i.stateNode=l,ar=i,Wt=null,s=!0):s=!1),s||oo(i)),null;case 13:return xx(s,i,l);case 4:return Te(i,i.stateNode.containerInfo),c=i.pendingProps,s===null?i.child=dl(i,null,c,l):kn(s,i,c,l),i.child;case 11:return hx(s,i,i.type,i.pendingProps,l);case 7:return kn(s,i,i.pendingProps,l),i.child;case 8:return kn(s,i,i.pendingProps.children,l),i.child;case 12:return kn(s,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,ki(i,i.type,c.value),kn(s,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,co(i),g=$n(g),c=c(g),i.flags|=1,kn(s,i,c,l),i.child;case 14:return fx(s,i,i.type,i.pendingProps,l);case 15:return mx(s,i,i.type,i.pendingProps,l);case 19:return wx(s,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},s===null?(l=yh(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(s.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return px(s,i,l);case 24:return co(i),c=$n(vn),s===null?(g=dp(),g===null&&(g=zt,v=cp(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),i.memoizedState={parent:c,cache:g},fp(i),ki(i,vn,g)):((s.lanes&l)!==0&&(mp(s,i),Qc(i,null,null,l),Gc()),g=s.memoizedState,v=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),ki(i,vn,c)):(c=v.cache,ki(i,vn,c),c!==g.cache&&lp(i,[vn],l,!0))),kn(s,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function pi(s){s.flags|=4}function Tx(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!M_(i)){if(i=Wr.current,i!==null&&((bt&4194048)===bt?Ps!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==Ps))throw Hc=hp,ob;s.flags|=8192}}function vh(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?nr():536870912,s.lanes|=i,pl|=i)}function eu(s,i){if(!St)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Kt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=c,s.childLanes=l,i}function sN(s,i,l){var c=i.pendingProps;switch(sp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return l=i.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(vn),it(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Lc(i)?pi(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nb())),Kt(i),null;case 26:return l=i.memoizedState,s===null?(pi(i),l!==null?(Kt(i),Tx(i,l)):(Kt(i),i.flags&=-16777217)):l?l!==s.memoizedState?(pi(i),Kt(i),Tx(i,l)):(Kt(i),i.flags&=-16777217):(s.memoizedProps!==c&&pi(i),Kt(i),i.flags&=-16777217),null;case 27:It(i),l=Ee.current;var g=i.type;if(s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}s=Se.current,Lc(i)?eb(i):(s=T_(g,c,l),i.stateNode=s,pi(i))}return Kt(i),null;case 5:if(It(i),l=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Kt(i),null}if(s=Se.current,Lc(i))eb(i);else{switch(g=jh(Ee.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}s[fe]=i,s[xe]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=s;e:switch(Vn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pi(i)}}return Kt(i),i.flags&=-16777217,null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(s=Ee.current,Lc(i)){if(s=i.stateNode,l=i.memoizedProps,c=null,g=ar,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}s[fe]=i,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||y_(s.nodeValue,l)),s||oo(i)}else s=jh(s).createTextNode(c),s[fe]=i,i.stateNode=s}return Kt(i),null;case 13:if(c=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Lc(i),c!==null&&c.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[fe]=i}else Vc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),g=!1}else g=nb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(fi(i),i):(fi(i),null)}if(fi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)}return l!==s&&l&&(i.child.flags|=8192),vh(i,i.updateQueue),Kt(i),null;case 4:return it(),s===null&&gg(i.stateNode.containerInfo),Kt(i),null;case 10:return di(i.type),Kt(i),null;case 19:if(ve(bn),g=i.memoizedState,g===null)return Kt(i),null;if(c=(i.flags&128)!==0,v=g.rendering,v===null)if(c)eu(g,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(v=fh(s),v!==null){for(i.flags|=128,eu(g,!1),s=v.updateQueue,i.updateQueue=s,vh(i,s),i.subtreeFlags=0,s=l,l=i.child;l!==null;)Zv(l,s),l=l.sibling;return ge(bn,bn.current&1|2),i.child}s=s.sibling}g.tail!==null&&Xt()>_h&&(i.flags|=128,c=!0,eu(g,!1),i.lanes=4194304)}else{if(!c)if(s=fh(v),s!==null){if(i.flags|=128,c=!0,s=s.updateQueue,i.updateQueue=s,vh(i,s),eu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!St)return Kt(i),null}else 2*Xt()-g.renderingStartTime>_h&&l!==536870912&&(i.flags|=128,c=!0,eu(g,!1),i.lanes=4194304);g.isBackwards?(v.sibling=i.child,i.child=v):(s=g.last,s!==null?s.sibling=v:i.child=v,g.last=v)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Xt(),i.sibling=null,s=bn.current,ge(bn,c?s&1|2:s&1),i):(Kt(i),null);case 22:case 23:return fi(i),vp(),c=i.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),l=i.updateQueue,l!==null&&vh(i,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),s!==null&&ve(uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(vn),Kt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function iN(s,i){switch(sp(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return di(vn),it(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(fi(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Vc()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ve(bn),null;case 4:return it(),null;case 10:return di(i.type),null;case 22:case 23:return fi(i),vp(),s!==null&&ve(uo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return di(vn),null;case 25:return null;default:return null}}function Sx(s,i){switch(sp(i),i.tag){case 3:di(vn),it();break;case 26:case 27:case 5:It(i);break;case 4:it();break;case 13:fi(i);break;case 19:ve(bn);break;case 10:di(i.type);break;case 22:case 23:fi(i),vp(),s!==null&&ve(uo);break;case 24:di(vn)}}function tu(s,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&s)===s){c=void 0;var v=l.create,N=l.inst;c=v(),N.destroy=c}l=l.next}while(l!==g)}}catch(D){Vt(i,i.return,D)}}function qi(s,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&s)===s){var N=c.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,g=i;var G=l,te=D;try{te()}catch(ue){Vt(g,G,ue)}}}c=c.next}while(c!==v)}}catch(ue){Vt(i,i.return,ue)}}function Ax(s){var i=s.updateQueue;if(i!==null){var l=s.stateNode;try{fb(i,l)}catch(c){Vt(s,s.return,c)}}}function Nx(s,i,l){l.props=fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(s,i,c)}}function nu(s,i){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(g){Vt(s,i,g)}}function ks(s,i){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Vt(s,i,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(s,i,g)}else l.current=null}function Cx(s){var i=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Vt(s,s.return,g)}}function Gp(s,i,l){try{var c=s.stateNode;AN(c,s.type,l,i),c[xe]=i}catch(g){Vt(s,s.return,g)}}function Rx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wi(s.type)||s.tag===4}function Qp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Rx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kp(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(s),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ih));else if(c!==4&&(c===27&&Wi(s.type)&&(l=s.stateNode,i=null),s=s.child,s!==null))for(Kp(s,i,l),s=s.sibling;s!==null;)Kp(s,i,l),s=s.sibling}function bh(s,i,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(c!==4&&(c===27&&Wi(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(bh(s,i,l),s=s.sibling;s!==null;)bh(s,i,l),s=s.sibling}function Ix(s){var i=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Vn(i,c,l),i[fe]=s,i[xe]=l}catch(v){Vt(s,s.return,v)}}var gi=!1,tn=!1,Yp=!1,jx=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function aN(s,i){if(s=s.containerInfo,bg=Lh,s=Fv(s),Qm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,D=-1,G=-1,te=0,ue=0,me=s,ne=null;t:for(;;){for(var re;me!==l||g!==0&&me.nodeType!==3||(D=N+g),me!==v||c!==0&&me.nodeType!==3||(G=N+c),me.nodeType===3&&(N+=me.nodeValue.length),(re=me.firstChild)!==null;)ne=me,me=re;for(;;){if(me===s)break t;if(ne===l&&++te===g&&(D=N),ne===v&&++ue===c&&(G=N),(re=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=re}l=D===-1||G===-1?null:{start:D,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(xg={focusedElem:s,selectionRange:l},Lh=!1,Nn=i;Nn!==null;)if(i=Nn,s=i.child,(i.subtreeFlags&1024)!==0&&s!==null)s.return=i,Nn=s;else for(;Nn!==null;){switch(i=Nn,v=i.alternate,s=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,l=i,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ge=fo(l.type,g,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ge,v),c.__reactInternalSnapshotBeforeUpdate=s}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,l=s.nodeType,l===9)Eg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,Nn=s;break}Nn=i.return}}function Mx(s,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Hi(s,l),c&4&&tu(5,l);break;case 1:if(Hi(s,l),c&4)if(s=l.stateNode,i===null)try{s.componentDidMount()}catch(N){Vt(l,l.return,N)}else{var g=fo(l.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(g,i,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Vt(l,l.return,N)}}c&64&&Ax(l),c&512&&nu(l,l.return);break;case 3:if(Hi(s,l),c&64&&(s=l.updateQueue,s!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{fb(s,i)}catch(N){Vt(l,l.return,N)}}break;case 27:i===null&&c&4&&Ix(l);case 26:case 5:Hi(s,l),i===null&&c&4&&Cx(l),c&512&&nu(l,l.return);break;case 12:Hi(s,l);break;case 13:Hi(s,l),c&4&&Px(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=pN.bind(null,l),ON(s,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||tn,g=gi;var v=tn;gi=c,(tn=i)&&!v?$i(s,l,(l.subtreeFlags&8772)!==0):Hi(s,l),gi=g,tn=v}break;case 30:break;default:Hi(s,l)}}function Ox(s){var i=s.alternate;i!==null&&(s.alternate=null,Ox(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&De(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,mr=!1;function yi(s,i,l){for(l=l.child;l!==null;)Dx(s,i,l),l=l.sibling}function Dx(s,i,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:tn||ks(l,i),yi(s,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||ks(l,i);var c=$t,g=mr;Wi(l.type)&&($t=l.stateNode,mr=!1),yi(s,i,l),du(l.stateNode),$t=c,mr=g;break;case 5:tn||ks(l,i);case 6:if(c=$t,g=mr,$t=null,yi(s,i,l),$t=c,mr=g,$t!==null)if(mr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(l.stateNode)}catch(v){Vt(l,i,v)}else try{$t.removeChild(l.stateNode)}catch(v){Vt(l,i,v)}break;case 18:$t!==null&&(mr?(s=$t,w_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),bu(s)):w_($t,l.stateNode));break;case 4:c=$t,g=mr,$t=l.stateNode.containerInfo,mr=!0,yi(s,i,l),$t=c,mr=g;break;case 0:case 11:case 14:case 15:tn||qi(2,l,i),tn||qi(4,l,i),yi(s,i,l);break;case 1:tn||(ks(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Nx(l,i,c)),yi(s,i,l);break;case 21:yi(s,i,l);break;case 22:tn=(c=tn)||l.memoizedState!==null,yi(s,i,l),tn=c;break;default:yi(s,i,l)}}function Px(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bu(s)}catch(l){Vt(i,i.return,l)}}function oN(s){switch(s.tag){case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new jx),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new jx),i;default:throw Error(r(435,s.tag))}}function Xp(s,i){var l=oN(s);i.forEach(function(c){var g=gN.bind(null,s,c);l.has(c)||(l.add(c),c.then(g,g))})}function Nr(s,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=s,N=i,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(Wi(D.type)){$t=D.stateNode,mr=!1;break e}break;case 5:$t=D.stateNode,mr=!1;break e;case 3:case 4:$t=D.stateNode.containerInfo,mr=!0;break e}D=D.return}if($t===null)throw Error(r(160));Dx(v,N,g),$t=null,mr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)kx(i,s),i=i.sibling}var ls=null;function kx(s,i){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nr(i,s),Cr(s),c&4&&(qi(3,s,s.return),tu(3,s),qi(5,s,s.return));break;case 1:Nr(i,s),Cr(s),c&512&&(tn||l===null||ks(l,l.return)),c&64&&gi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ls;if(Nr(i,s),Cr(s),c&512&&(tn||l===null||ks(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ue]||v[fe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Vn(v,c,l),v[fe]=s,ft(v),c=v;break e;case"link":var N=I_("link","href",g).get(c+(l.href||""));if(N){for(var D=0;D<N.length;D++)if(v=N[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(D,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;case"meta":if(N=I_("meta","content",g).get(c+(l.content||""))){for(D=0;D<N.length;D++)if(v=N[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(D,1);break t}}v=g.createElement(c),Vn(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[fe]=s,ft(v),c=v}s.stateNode=c}else j_(g,s.type,s.stateNode);else s.stateNode=R_(g,c,s.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?j_(g,s.type,s.stateNode):R_(g,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Gp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Nr(i,s),Cr(s),c&512&&(tn||l===null||ks(l,l.return)),l!==null&&c&4&&Gp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Nr(i,s),Cr(s),c&512&&(tn||l===null||ks(l,l.return)),s.flags&32){g=s.stateNode;try{qr(g,"")}catch(re){Vt(s,s.return,re)}}c&4&&s.stateNode!=null&&(g=s.memoizedProps,Gp(s,g,l!==null?l.memoizedProps:g)),c&1024&&(Yp=!0);break;case 6:if(Nr(i,s),Cr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(re){Vt(s,s.return,re)}}break;case 3:if(Dh=null,g=ls,ls=Mh(i.containerInfo),Nr(i,s),ls=g,Cr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{bu(i.containerInfo)}catch(re){Vt(s,s.return,re)}Yp&&(Yp=!1,Lx(s));break;case 4:c=ls,ls=Mh(s.stateNode.containerInfo),Nr(i,s),Cr(s),ls=c;break;case 12:Nr(i,s),Cr(s);break;case 13:Nr(i,s),Cr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ng=Xt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Xp(s,c)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=gi,ue=tn;if(gi=te||g,tn=ue||G,Nr(i,s),tn=ue,gi=te,Cr(s),c&8192)e:for(i=s.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||G||gi||tn||mo(s)),l=null,i=s;;){if(i.tag===5||i.tag===26){if(l===null){G=l=i;try{if(v=G.stateNode,g)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=G.stateNode;var me=G.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt(G,G.return,re)}}}else if(i.tag===6){if(l===null){G=i;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(re){Vt(G,G.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Xp(s,l))));break;case 19:Nr(i,s),Cr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Xp(s,c)));break;case 30:break;case 21:break;default:Nr(i,s),Cr(s)}}function Cr(s){var i=s.flags;if(i&2){try{for(var l,c=s.return;c!==null;){if(Rx(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Qp(s);bh(s,v,g);break;case 5:var N=l.stateNode;l.flags&32&&(qr(N,""),l.flags&=-33);var D=Qp(s);bh(s,D,N);break;case 3:case 4:var G=l.stateNode.containerInfo,te=Qp(s);Kp(s,te,G);break;default:throw Error(r(161))}}catch(ue){Vt(s,s.return,ue)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Lx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Lx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Hi(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mx(s,i.alternate,i),i=i.sibling}function mo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:qi(4,i,i.return),mo(i);break;case 1:ks(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Nx(i,i.return,l),mo(i);break;case 27:du(i.stateNode);case 26:case 5:ks(i,i.return),mo(i);break;case 22:i.memoizedState===null&&mo(i);break;case 30:mo(i);break;default:mo(i)}s=s.sibling}}function $i(s,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=s,v=i,N=v.flags;switch(v.tag){case 0:case 11:case 15:$i(g,v,l),tu(4,v);break;case 1:if($i(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Vt(c,c.return,te)}if(c=v,g=c.updateQueue,g!==null){var D=c.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)hb(G[g],D)}catch(te){Vt(c,c.return,te)}}l&&N&64&&Ax(v),nu(v,v.return);break;case 27:Ix(v);case 26:case 5:$i(g,v,l),l&&c===null&&N&4&&Cx(v),nu(v,v.return);break;case 12:$i(g,v,l);break;case 13:$i(g,v,l),l&&N&4&&Px(g,v);break;case 22:v.memoizedState===null&&$i(g,v,l),nu(v,v.return);break;case 30:break;default:$i(g,v,l)}i=i.sibling}}function Wp(s,i){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bc(l))}function Zp(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bc(s))}function Ls(s,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vx(s,i,l,c),i=i.sibling}function Vx(s,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ls(s,i,l,c),g&2048&&tu(9,i);break;case 1:Ls(s,i,l,c);break;case 3:Ls(s,i,l,c),g&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Bc(s)));break;case 12:if(g&2048){Ls(s,i,l,c),s=i.stateNode;try{var v=i.memoizedProps,N=v.id,D=v.onPostCommit;typeof D=="function"&&D(N,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Vt(i,i.return,G)}}else Ls(s,i,l,c);break;case 13:Ls(s,i,l,c);break;case 23:break;case 22:v=i.stateNode,N=i.alternate,i.memoizedState!==null?v._visibility&2?Ls(s,i,l,c):ru(s,i):v._visibility&2?Ls(s,i,l,c):(v._visibility|=2,hl(s,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&Wp(N,i);break;case 24:Ls(s,i,l,c),g&2048&&Zp(i.alternate,i);break;default:Ls(s,i,l,c)}}function hl(s,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var v=s,N=i,D=l,G=c,te=N.flags;switch(N.tag){case 0:case 11:case 15:hl(v,N,D,G,g),tu(8,N);break;case 23:break;case 22:var ue=N.stateNode;N.memoizedState!==null?ue._visibility&2?hl(v,N,D,G,g):ru(v,N):(ue._visibility|=2,hl(v,N,D,G,g)),g&&te&2048&&Wp(N.alternate,N);break;case 24:hl(v,N,D,G,g),g&&te&2048&&Zp(N.alternate,N);break;default:hl(v,N,D,G,g)}i=i.sibling}}function ru(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=s,c=i,g=c.flags;switch(c.tag){case 22:ru(l,c),g&2048&&Wp(c.alternate,c);break;case 24:ru(l,c),g&2048&&Zp(c.alternate,c);break;default:ru(l,c)}i=i.sibling}}var su=8192;function fl(s){if(s.subtreeFlags&su)for(s=s.child;s!==null;)zx(s),s=s.sibling}function zx(s){switch(s.tag){case 26:fl(s),s.flags&su&&s.memoizedState!==null&&GN(ls,s.memoizedState,s.memoizedProps);break;case 5:fl(s);break;case 3:case 4:var i=ls;ls=Mh(s.stateNode.containerInfo),fl(s),ls=i;break;case 22:s.memoizedState===null&&(i=s.alternate,i!==null&&i.memoizedState!==null?(i=su,su=16777216,fl(s),su=i):fl(s));break;default:fl(s)}}function Ux(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function iu(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Nn=c,Fx(c,s)}Ux(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bx(s),s=s.sibling}function Bx(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&qi(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,xh(s)):iu(s);break;default:iu(s)}}function xh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Nn=c,Fx(c,s)}Ux(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:qi(8,i,i.return),xh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,xh(i));break;default:xh(i)}s=s.sibling}}function Fx(s,i){for(;Nn!==null;){var l=Nn;switch(l.tag){case 0:case 11:case 15:qi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Bc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Nn=c;else e:for(l=s;Nn!==null;){c=Nn;var g=c.sibling,v=c.return;if(Ox(c),c===l){Nn=null;break e}if(g!==null){g.return=v,Nn=g;break e}Nn=v}}}var lN={getCacheForType:function(s){var i=$n(vn),l=i.data.get(s);return l===void 0&&(l=s(),i.data.set(s,l)),l}},cN=typeof WeakMap=="function"?WeakMap:Map,jt=0,zt=null,ot=null,bt=0,Mt=0,Rr=null,Gi=!1,ml=!1,Jp=!1,vi=0,Zt=0,Qi=0,po=0,eg=0,Zr=0,pl=0,au=null,pr=null,tg=!1,ng=0,_h=1/0,wh=null,Ki=null,Ln=0,Yi=null,gl=null,yl=0,rg=0,sg=null,qx=null,ou=0,ig=null;function Ir(){if((jt&2)!==0&&bt!==0)return bt&-bt;if($.T!==null){var s=sl;return s!==0?s:hg()}return Q()}function Hx(){Zr===0&&(Zr=(bt&536870912)===0||St?sn():536870912);var s=Wr.current;return s!==null&&(s.flags|=32),Zr}function jr(s,i,l){(s===zt&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)&&(vl(s,0),Xi(s,bt,Zr,!1)),qn(s,l),((jt&2)===0||s!==zt)&&(s===zt&&((jt&2)===0&&(po|=l),Zt===4&&Xi(s,bt,Zr,!1)),Vs(s))}function $x(s,i,l){if((jt&6)!==0)throw Error(r(327));var c=!l&&(i&124)===0&&(i&s.expiredLanes)===0||ht(s,i),g=c?hN(s,i):lg(s,i,!0),v=c;do{if(g===0){ml&&!c&&Xi(s,i,0,!1);break}else{if(l=s.current.alternate,v&&!uN(l)){g=lg(s,i,!1),v=!1;continue}if(g===2){if(v=i,s.errorRecoveryDisabledLanes&v)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var D=s;g=au;var G=D.current.memoizedState.isDehydrated;if(G&&(vl(D,N).flags|=256),N=lg(D,N,!1),N!==2){if(Jp&&!G){D.errorRecoveryDisabledLanes|=v,po|=v,g=4;break e}v=pr,pr=g,v!==null&&(pr===null?pr=v:pr.push.apply(pr,v))}g=N}if(v=!1,g!==2)continue}}if(g===1){vl(s,0),Xi(s,i,0,!0);break}e:{switch(c=s,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Xi(c,i,Zr,!Gi);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=ng+300-Xt(),10<g)){if(Xi(c,i,Zr,!Gi),Je(c,0,!0)!==0)break e;c.timeoutHandle=x_(Gx.bind(null,c,l,pr,wh,tg,i,Zr,po,pl,Gi,v,2,-0,0),g);break e}Gx(c,l,pr,wh,tg,i,Zr,po,pl,Gi,v,0,-0,0)}}break}while(!0);Vs(s)}function Gx(s,i,l,c,g,v,N,D,G,te,ue,me,ne,re){if(s.timeoutHandle=-1,me=i.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(mu={stylesheets:null,count:0,unsuspend:$N},zx(i),me=QN(),me!==null)){s.cancelPendingCommit=me(Jx.bind(null,s,i,v,l,c,g,N,D,G,ue,1,ne,re)),Xi(s,v,N,!te);return}Jx(s,i,v,l,c,g,N,D,G)}function uN(s){for(var i=s;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Sr(v(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xi(s,i,l,c){i&=~eg,i&=~po,s.suspendedLanes|=i,s.pingedLanes&=~i,c&&(s.warmLanes|=i),c=s.expirationTimes;for(var g=i;0<g;){var v=31-Gt(g),N=1<<v;c[v]=-1,g&=~N}l!==0&&Qt(s,l,i)}function Eh(){return(jt&6)===0?(lu(0),!1):!0}function ag(){if(ot!==null){if(Mt===0)var s=ot.return;else s=ot,ui=lo=null,Ep(s),ul=null,Zc=0,s=ot;for(;s!==null;)Sx(s.alternate,s),s=s.return;ot=null}}function vl(s,i){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,CN(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ag(),zt=s,ot=l=oi(s.current,null),bt=i,Mt=0,Rr=null,Gi=!1,ml=ht(s,i),Jp=!1,pl=Zr=eg=po=Qi=Zt=0,pr=au=null,tg=!1,(i&8)!==0&&(i|=i&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=i;0<c;){var g=31-Gt(c),v=1<<g;i|=s[g],c&=~v}return vi=i,$d(),l}function Qx(s,i){tt=null,$.H=uh,i===qc||i===eh?(i=ub(),Mt=3):i===ob?(i=ub(),Mt=4):Mt=i===dx?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rr=i,ot===null&&(Zt=1,ph(s,Qr(i,s.current)))}function Kx(){var s=$.H;return $.H=uh,s===null?uh:s}function Yx(){var s=$.A;return $.A=lN,s}function og(){Zt=4,Gi||(bt&4194048)!==bt&&Wr.current!==null||(ml=!0),(Qi&134217727)===0&&(po&134217727)===0||zt===null||Xi(zt,bt,Zr,!1)}function lg(s,i,l){var c=jt;jt|=2;var g=Kx(),v=Yx();(zt!==s||bt!==i)&&(wh=null,vl(s,i)),i=!1;var N=Zt;e:do try{if(Mt!==0&&ot!==null){var D=ot,G=Rr;switch(Mt){case 8:ag(),N=6;break e;case 3:case 2:case 9:case 6:Wr.current===null&&(i=!0);var te=Mt;if(Mt=0,Rr=null,bl(s,D,G,te),l&&ml){N=0;break e}break;default:te=Mt,Mt=0,Rr=null,bl(s,D,G,te)}}dN(),N=Zt;break}catch(ue){Qx(s,ue)}while(!0);return i&&s.shellSuspendCounter++,ui=lo=null,jt=c,$.H=g,$.A=v,ot===null&&(zt=null,bt=0,$d()),N}function dN(){for(;ot!==null;)Xx(ot)}function hN(s,i){var l=jt;jt|=2;var c=Kx(),g=Yx();zt!==s||bt!==i?(wh=null,_h=Xt()+500,vl(s,i)):ml=ht(s,i);e:do try{if(Mt!==0&&ot!==null){i=ot;var v=Rr;t:switch(Mt){case 1:Mt=0,Rr=null,bl(s,i,v,1);break;case 2:case 9:if(lb(v)){Mt=0,Rr=null,Wx(i);break}i=function(){Mt!==2&&Mt!==9||zt!==s||(Mt=7),Vs(s)},v.then(i,i);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:lb(v)?(Mt=0,Rr=null,Wx(i)):(Mt=0,Rr=null,bl(s,i,v,7));break;case 5:var N=null;switch(ot.tag){case 26:N=ot.memoizedState;case 5:case 27:var D=ot;if(!N||M_(N)){Mt=0,Rr=null;var G=D.sibling;if(G!==null)ot=G;else{var te=D.return;te!==null?(ot=te,Th(te)):ot=null}break t}}Mt=0,Rr=null,bl(s,i,v,5);break;case 6:Mt=0,Rr=null,bl(s,i,v,6);break;case 8:ag(),Zt=6;break e;default:throw Error(r(462))}}fN();break}catch(ue){Qx(s,ue)}while(!0);return ui=lo=null,$.H=c,$.A=g,jt=l,ot!==null?0:(zt=null,bt=0,$d(),Zt)}function fN(){for(;ot!==null&&!ur();)Xx(ot)}function Xx(s){var i=Ex(s.alternate,s,vi);s.memoizedProps=s.pendingProps,i===null?Th(s):ot=i}function Wx(s){var i=s,l=i.alternate;switch(i.tag){case 15:case 0:i=yx(l,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=yx(l,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:Ep(i);default:Sx(l,i),i=ot=Zv(i,vi),i=Ex(l,i,vi)}s.memoizedProps=s.pendingProps,i===null?Th(s):ot=i}function bl(s,i,l,c){ui=lo=null,Ep(i),ul=null,Zc=0;var g=i.return;try{if(nN(s,g,i,l,bt)){Zt=1,ph(s,Qr(l,s.current)),ot=null;return}}catch(v){if(g!==null)throw ot=g,v;Zt=1,ph(s,Qr(l,s.current)),ot=null;return}i.flags&32768?(St||c===1?s=!0:ml||(bt&536870912)!==0?s=!1:(Gi=s=!0,(c===2||c===9||c===3||c===6)&&(c=Wr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Zx(i,s)):Th(i)}function Th(s){var i=s;do{if((i.flags&32768)!==0){Zx(i,Gi);return}s=i.return;var l=sN(i.alternate,i,vi);if(l!==null){ot=l;return}if(i=i.sibling,i!==null){ot=i;return}ot=i=s}while(i!==null);Zt===0&&(Zt=5)}function Zx(s,i){do{var l=iN(s.alternate,s);if(l!==null){l.flags&=32767,ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(s=s.sibling,s!==null)){ot=s;return}ot=s=l}while(s!==null);Zt=6,ot=null}function Jx(s,i,l,c,g,v,N,D,G){s.cancelPendingCommit=null;do Sh();while(Ln!==0);if((jt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=Zm,Mn(s,l,v,N,D,G),s===zt&&(ot=zt=null,bt=0),gl=i,Yi=s,yl=l,rg=v,sg=g,qx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,yN(ss,function(){return s_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,g=se.p,se.p=2,N=jt,jt|=4;try{aN(s,i,l)}finally{jt=N,se.p=g,$.T=c}}Ln=1,e_(),t_(),n_()}}function e_(){if(Ln===1){Ln=0;var s=Yi,i=gl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=se.p;se.p=2;var g=jt;jt|=4;try{kx(i,s);var v=xg,N=Fv(s.containerInfo),D=v.focusedElem,G=v.selectionRange;if(N!==D&&D&&D.ownerDocument&&Bv(D.ownerDocument.documentElement,D)){if(G!==null&&Qm(D)){var te=G.start,ue=G.end;if(ue===void 0&&(ue=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ue,D.value.length);else{var me=D.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ge=D.textContent.length,Be=Math.min(G.start,Ge),kt=G.end===void 0?Be:Math.min(G.end,Ge);!re.extend&&Be>kt&&(N=kt,kt=Be,Be=N);var X=Uv(D,Be),K=Uv(D,kt);if(X&&K&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=me.createRange();J.setStart(X.node,X.offset),re.removeAllRanges(),Be>kt?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(me=[],re=D;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var he=me[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Lh=!!bg,xg=bg=null}finally{jt=g,se.p=c,$.T=l}}s.current=i,Ln=2}}function t_(){if(Ln===2){Ln=0;var s=Yi,i=gl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=se.p;se.p=2;var g=jt;jt|=4;try{Mx(s,i.alternate,i)}finally{jt=g,se.p=c,$.T=l}}Ln=3}}function n_(){if(Ln===4||Ln===3){Ln=0,Jn();var s=Yi,i=gl,l=yl,c=qx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,gl=Yi=null,r_(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Ki=null),Ts(l),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,g=se.p,se.p=2,$.T=null;try{for(var v=s.onRecoverableError,N=0;N<c.length;N++){var D=c[N];v(D.value,{componentStack:D.stack})}}finally{$.T=i,se.p=g}}(yl&3)!==0&&Sh(),Vs(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===ig?ou++:(ou=0,ig=s):ou=0,lu(0)}}function r_(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Bc(i)))}function Sh(s){return e_(),t_(),n_(),s_()}function s_(){if(Ln!==5)return!1;var s=Yi,i=rg;rg=0;var l=Ts(yl),c=$.T,g=se.p;try{se.p=32>l?32:l,$.T=null,l=sg,sg=null;var v=Yi,N=yl;if(Ln=0,gl=Yi=null,yl=0,(jt&6)!==0)throw Error(r(331));var D=jt;if(jt|=4,Bx(v.current),Vx(v,v.current,N,l),jt=D,lu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,v)}catch{}return!0}finally{se.p=g,$.T=c,r_(s,i)}}function i_(s,i,l){i=Qr(l,i),i=Lp(s.stateNode,i,2),s=zi(s,i,2),s!==null&&(qn(s,2),Vs(s))}function Vt(s,i,l){if(s.tag===3)i_(s,s,l);else for(;i!==null;){if(i.tag===3){i_(i,s,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ki===null||!Ki.has(c))){s=Qr(l,s),l=cx(2),c=zi(i,l,2),c!==null&&(ux(l,c,i,s),qn(c,2),Vs(c));break}}i=i.return}}function cg(s,i,l){var c=s.pingCache;if(c===null){c=s.pingCache=new cN;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(Jp=!0,g.add(l),s=mN.bind(null,s,i,l),i.then(s,s))}function mN(s,i,l){var c=s.pingCache;c!==null&&c.delete(i),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,zt===s&&(bt&l)===l&&(Zt===4||Zt===3&&(bt&62914560)===bt&&300>Xt()-ng?(jt&2)===0&&vl(s,0):eg|=l,pl===bt&&(pl=0)),Vs(s)}function a_(s,i){i===0&&(i=nr()),s=el(s,i),s!==null&&(qn(s,i),Vs(s))}function pN(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),a_(s,l)}function gN(s,i){var l=0;switch(s.tag){case 13:var c=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),a_(s,l)}function yN(s,i){return mn(s,i)}var Ah=null,xl=null,ug=!1,Nh=!1,dg=!1,go=0;function Vs(s){s!==xl&&s.next===null&&(xl===null?Ah=xl=s:xl=xl.next=s),Nh=!0,ug||(ug=!0,bN())}function lu(s,i){if(!dg&&Nh){dg=!0;do for(var l=!1,c=Ah;c!==null;){if(s!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var N=c.suspendedLanes,D=c.pingedLanes;v=(1<<31-Gt(42|s)+1)-1,v&=g&~(N&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,u_(c,v))}else v=bt,v=Je(c,c===zt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||ht(c,v)||(l=!0,u_(c,v));c=c.next}while(l);dg=!1}}function vN(){o_()}function o_(){Nh=ug=!1;var s=0;go!==0&&(NN()&&(s=go),go=0);for(var i=Xt(),l=null,c=Ah;c!==null;){var g=c.next,v=l_(c,i);v===0?(c.next=null,l===null?Ah=g:l.next=g,g===null&&(xl=l)):(l=c,(s!==0||(v&3)!==0)&&(Nh=!0)),c=g}lu(s)}function l_(s,i){for(var l=s.suspendedLanes,c=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var N=31-Gt(v),D=1<<N,G=g[N];G===-1?((D&l)===0||(D&c)!==0)&&(g[N]=qt(D,i)):G<=i&&(s.expiredLanes|=D),v&=~D}if(i=zt,l=bt,l=Je(s,s===i?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===i&&(Mt===2||Mt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ft(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ht(s,l)){if(i=l&-l,i===s.callbackPriority)return i;switch(c!==null&&Ft(c),Ts(l)){case 2:case 8:l=ws;break;case 32:l=ss;break;case 268435456:l=tr;break;default:l=ss}return c=c_.bind(null,s),l=mn(l,c),s.callbackPriority=i,s.callbackNode=l,i}return c!==null&&c!==null&&Ft(c),s.callbackPriority=2,s.callbackNode=null,2}function c_(s,i){if(Ln!==0&&Ln!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Sh()&&s.callbackNode!==l)return null;var c=bt;return c=Je(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:($x(s,c,i),l_(s,Xt()),s.callbackNode!=null&&s.callbackNode===l?c_.bind(null,s):null)}function u_(s,i){if(Sh())return null;$x(s,i,!0)}function bN(){RN(function(){(jt&6)!==0?mn(_s,vN):o_()})}function hg(){return go===0&&(go=sn()),go}function d_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fo(""+s)}function h_(s,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,s.id&&l.setAttribute("form",s.id),i.parentNode.insertBefore(l,i),s=new FormData(s),l.parentNode.removeChild(l),s}function xN(s,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var v=d_((g[xe]||null).action),N=c.submitter;N&&(i=(i=N[xe]||null)?d_(i.formAction):N.getAttribute("formAction"),i!==null&&(v=i,N=null));var D=new qo("action","action",null,c,g);s.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(go!==0){var G=N?h_(g,N):new FormData(g);Mp(l,{pending:!0,data:G,method:g.method,action:v},null,G)}}else typeof v=="function"&&(D.preventDefault(),G=N?h_(g,N):new FormData(g),Mp(l,{pending:!0,data:G,method:g.method,action:v},v,G))},currentTarget:g}]})}}for(var fg=0;fg<Wm.length;fg++){var mg=Wm[fg],_N=mg.toLowerCase(),wN=mg[0].toUpperCase()+mg.slice(1);os(_N,"on"+wN)}os($v,"onAnimationEnd"),os(Gv,"onAnimationIteration"),os(Qv,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(zA,"onTransitionRun"),os(UA,"onTransitionStart"),os(BA,"onTransitionCancel"),os(Kv,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function f_(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],g=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var N=c.length-1;0<=N;N--){var D=c[N],G=D.instance,te=D.currentTarget;if(D=D.listener,G!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=te;try{v(g)}catch(ue){mh(ue)}g.currentTarget=null,v=G}else for(N=0;N<c.length;N++){if(D=c[N],G=D.instance,te=D.currentTarget,D=D.listener,G!==v&&g.isPropagationStopped())break e;v=D,g.currentTarget=te;try{v(g)}catch(ue){mh(ue)}g.currentTarget=null,v=G}}}}function lt(s,i){var l=i[ze];l===void 0&&(l=i[ze]=new Set);var c=s+"__bubble";l.has(c)||(m_(i,s,2,!1),l.add(c))}function pg(s,i,l){var c=0;i&&(c|=4),m_(l,s,c,i)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function gg(s){if(!s[Ch]){s[Ch]=!0,rt.forEach(function(l){l!=="selectionchange"&&(EN.has(l)||pg(l,!1,s),pg(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ch]||(i[Ch]=!0,pg("selectionchange",!1,i))}}function m_(s,i,l,c){switch(V_(i)){case 2:var g=XN;break;case 8:g=WN;break;default:g=Ig}l=g.bind(null,i,l,s),g=void 0,!$r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function yg(s,i,l,c,g){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var D=c.stateNode.containerInfo;if(D===g)break;if(N===4)for(N=c.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;D!==null;){if(N=Fe(D),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){c=v=N;continue e}D=D.parentNode}}c=c.return}Id(function(){var te=v,ue=Hr(l),me=[];e:{var ne=Yv.get(s);if(ne!==void 0){var re=qo,Ge=s;switch(s){case"keypress":if(Rs(l)===0)break e;case"keydown":case"keyup":re=Yo;break;case"focusin":Ge="focus",re=Go;break;case"focusout":Ge="blur",re=Go;break;case"beforeblur":case"afterblur":re=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Vd;break;case $v:case Gv:case Qv:re=Qo;break;case Kv:re=Ud;break;case"scroll":case"scrollend":re=jd;break;case"wheel":re=Xo;break;case"copy":case"cut":case"paste":re=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Oc;break;case"toggle":case"beforetoggle":re=Fd}var Be=(i&4)!==0,kt=!Be&&(s==="scroll"||s==="scrollend"),X=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var K=te,J;K!==null;){var he=K;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||X===null||(he=Ka(K,X),he!=null&&Be.push(uu(K,he,J))),kt)break;K=K.return}0<Be.length&&(ne=new re(ne,Ge,null,l,ue),me.push({event:ne,listeners:Be}))}}if((i&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",ne&&l!==ti&&(Ge=l.relatedTarget||l.fromElement)&&(Fe(Ge)||Ge[Ne]))break e;if((re||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ge=l.relatedTarget||l.toElement,re=te,Ge=Ge?Fe(Ge):null,Ge!==null&&(kt=o(Ge),Be=Ge.tag,Ge!==kt||Be!==5&&Be!==27&&Be!==6)&&(Ge=null)):(re=null,Ge=te),re!==Ge)){if(Be=Gr,he="onMouseLeave",X="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Be=Oc,he="onPointerLeave",X="onPointerEnter",K="pointer"),kt=re==null?ne:At(re),J=Ge==null?ne:At(Ge),ne=new Be(he,K+"leave",re,l,ue),ne.target=kt,ne.relatedTarget=J,he=null,Fe(ue)===te&&(Be=new Be(X,K+"enter",Ge,l,ue),Be.target=J,Be.relatedTarget=kt,he=Be),kt=he,re&&Ge)t:{for(Be=re,X=Ge,K=0,J=Be;J;J=_l(J))K++;for(J=0,he=X;he;he=_l(he))J++;for(;0<K-J;)Be=_l(Be),K--;for(;0<J-K;)X=_l(X),J--;for(;K--;){if(Be===X||X!==null&&Be===X.alternate)break t;Be=_l(Be),X=_l(X)}Be=null}else Be=null;re!==null&&p_(me,ne,re,Be,!1),Ge!==null&&kt!==null&&p_(me,kt,Ge,Be,!0)}}e:{if(ne=te?At(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Re=Dv;else if(yn(ne))if(Pv)Re=kA;else{Re=DA;var st=OA}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Ac(te.elementType)&&(Re=Dv):Re=PA;if(Re&&(Re=Re(s,te))){ai(me,Re,l,ue);break e}st&&st(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Di(ne,"number",ne.value)}switch(st=te?At(te):window,s){case"focusin":(yn(st)||st.contentEditable==="true")&&(Wo=st,Km=te,kc=null);break;case"focusout":kc=Km=Wo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,qv(me,l,ue);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":qv(me,l,ue)}var ke;if(Ms)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else yt?oe(s,l)&&(qe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(S&&l.locale!=="ko"&&(yt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&yt&&(ke=Cc()):(Cs=ue,Pi="value"in Cs?Cs.value:Cs.textContent,yt=!0)),st=Rh(te,qe),0<st.length&&(qe=new jc(qe,s,null,l,ue),me.push({event:qe,listeners:st}),ke?qe.data=ke:(ke=_e(l),ke!==null&&(qe.data=ke)))),(ke=x?gn(s,l):vt(s,l))&&(qe=Rh(te,"onBeforeInput"),0<qe.length&&(st=new jc("onBeforeInput","beforeinput",null,l,ue),me.push({event:st,listeners:qe}),st.data=ke)),xN(me,s,te,l,ue)}f_(me,i)})}function uu(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Rh(s,i){for(var l=i+"Capture",c=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ka(s,l),g!=null&&c.unshift(uu(s,g,v)),g=Ka(s,i),g!=null&&c.push(uu(s,g,v))),s.tag===3)return c;s=s.return}return[]}function _l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function p_(s,i,l,c,g){for(var v=i._reactName,N=[];l!==null&&l!==c;){var D=l,G=D.alternate,te=D.stateNode;if(D=D.tag,G!==null&&G===c)break;D!==5&&D!==26&&D!==27||te===null||(G=te,g?(te=Ka(l,v),te!=null&&N.unshift(uu(l,te,G))):g||(te=Ka(l,v),te!=null&&N.push(uu(l,te,G)))),l=l.return}N.length!==0&&s.push({event:i,listeners:N})}var TN=/\r\n?/g,SN=/\u0000|\uFFFD/g;function g_(s){return(typeof s=="string"?s:""+s).replace(TN,`
`).replace(SN,"")}function y_(s,i){return i=g_(i),g_(s)===i}function Ih(){}function Pt(s,i,l,c,g,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qr(s,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qr(s,""+c);break;case"className":sr(s,"class",c);break;case"tabIndex":sr(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(s,l,c);break;case"style":Sc(s,c,v);break;case"data":if(i!=="object"){sr(s,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&Pt(s,i,"name",g.name,g,null),Pt(s,i,"formEncType",g.formEncType,g,null),Pt(s,i,"formMethod",g.formMethod,g,null),Pt(s,i,"formTarget",g.formTarget,g,null)):(Pt(s,i,"encType",g.encType,g,null),Pt(s,i,"method",g.method,g,null),Pt(s,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Fo(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Ih);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Fo(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":lt("beforetoggle",s),lt("toggle",s),Hn(s,"popover",c);break;case"xlinkActuate":Ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hn(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bm.get(l)||l,Hn(s,l,c))}}function vg(s,i,l,c,g,v){switch(l){case"style":Sc(s,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?qr(s,c):(typeof c=="number"||typeof c=="bigint")&&qr(s,""+c);break;case"onScroll":c!=null&&lt("scroll",s);break;case"onScrollEnd":c!=null&&lt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),v=s[xe]||null,v=v!=null?v[l]:null,typeof v=="function"&&s.removeEventListener(i,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(i,c,g);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Hn(s,l,c)}}}function Vn(s,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",s),lt("load",s);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var N=l[v];if(N!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,v,N,l,null)}}g&&Pt(s,i,"srcSet",l.srcSet,l,null),c&&Pt(s,i,"src",l.src,l,null);return;case"input":lt("invalid",s);var D=v=N=g=null,G=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":g=ue;break;case"type":N=ue;break;case"checked":G=ue;break;case"defaultChecked":te=ue;break;case"value":v=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:Pt(s,i,c,ue,l,null)}}$a(s,v,D,G,te,N,g,!1),Bo(s);return;case"select":lt("invalid",s),c=N=v=null;for(g in l)if(l.hasOwnProperty(g)&&(D=l[g],D!=null))switch(g){case"value":v=D;break;case"defaultValue":N=D;break;case"multiple":c=D;default:Pt(s,i,g,D,l,null)}i=v,l=N,s.multiple=!!c,i!=null?ei(s,!!c,i,!1):l!=null&&ei(s,!!c,l,!0);return;case"textarea":lt("invalid",s),v=g=c=null;for(N in l)if(l.hasOwnProperty(N)&&(D=l[N],D!=null))switch(N){case"value":c=D;break;case"defaultValue":g=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Pt(s,i,N,D,l,null)}Ga(s,c,g,v),Bo(s);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(c=l[G],c!=null))switch(G){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Pt(s,i,G,c,l,null)}return;case"dialog":lt("beforetoggle",s),lt("toggle",s),lt("cancel",s),lt("close",s);break;case"iframe":case"object":lt("load",s);break;case"video":case"audio":for(c=0;c<cu.length;c++)lt(cu[c],s);break;case"image":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"embed":case"source":case"link":lt("error",s),lt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Pt(s,i,te,c,l,null)}return;default:if(Ac(i)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&vg(s,i,ue,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&Pt(s,i,D,c,l,null))}function AN(s,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,N=null,D=null,G=null,te=null,ue=null;for(re in l){var me=l[re];if(l.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":G=me;default:c.hasOwnProperty(re)||Pt(s,i,re,null,c,me)}}for(var ne in c){var re=c[ne];if(me=l[ne],c.hasOwnProperty(ne)&&(re!=null||me!=null))switch(ne){case"type":v=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":ue=re;break;case"value":N=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,i));break;default:re!==me&&Pt(s,i,ne,re,c,me)}}Tr(s,N,D,G,te,ue,v,g);return;case"select":re=N=D=ne=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":re=G;default:c.hasOwnProperty(v)||Pt(s,i,v,null,c,G)}for(g in c)if(v=c[g],G=l[g],c.hasOwnProperty(g)&&(v!=null||G!=null))switch(g){case"value":ne=v;break;case"defaultValue":D=v;break;case"multiple":N=v;default:v!==G&&Pt(s,i,g,v,c,G)}i=D,l=N,c=re,ne!=null?ei(s,!!l,ne,!1):!!c!=!!l&&(i!=null?ei(s,!!l,i,!0):ei(s,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(D in l)if(g=l[D],l.hasOwnProperty(D)&&g!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Pt(s,i,D,null,c,g)}for(N in c)if(g=c[N],v=l[N],c.hasOwnProperty(N)&&(g!=null||v!=null))switch(N){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Pt(s,i,N,g,c,v)}Ot(s,ne,re);return;case"option":for(var Ge in l)if(ne=l[Ge],l.hasOwnProperty(Ge)&&ne!=null&&!c.hasOwnProperty(Ge))switch(Ge){case"selected":s.selected=!1;break;default:Pt(s,i,Ge,null,c,ne)}for(G in c)if(ne=c[G],re=l[G],c.hasOwnProperty(G)&&ne!==re&&(ne!=null||re!=null))switch(G){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Pt(s,i,G,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!c.hasOwnProperty(Be)&&Pt(s,i,Be,null,c,ne);for(te in c)if(ne=c[te],re=l[te],c.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:Pt(s,i,te,ne,c,re)}return;default:if(Ac(i)){for(var kt in l)ne=l[kt],l.hasOwnProperty(kt)&&ne!==void 0&&!c.hasOwnProperty(kt)&&vg(s,i,kt,void 0,c,ne);for(ue in c)ne=c[ue],re=l[ue],!c.hasOwnProperty(ue)||ne===re||ne===void 0&&re===void 0||vg(s,i,ue,ne,c,re);return}}for(var X in l)ne=l[X],l.hasOwnProperty(X)&&ne!=null&&!c.hasOwnProperty(X)&&Pt(s,i,X,null,c,ne);for(me in c)ne=c[me],re=l[me],!c.hasOwnProperty(me)||ne===re||ne==null&&re==null||Pt(s,i,me,ne,c,re)}var bg=null,xg=null;function jh(s){return s.nodeType===9?s:s.ownerDocument}function v_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function _g(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wg=null;function NN(){var s=window.event;return s&&s.type==="popstate"?s===wg?!1:(wg=s,!0):(wg=null,!1)}var x_=typeof setTimeout=="function"?setTimeout:void 0,CN=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(s){return __.resolve(null).then(s).catch(IN)}:x_;function IN(s){setTimeout(function(){throw s})}function Wi(s){return s==="head"}function w_(s,i){var l=i,c=0,g=0;do{var v=l.nextSibling;if(s.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var N=s.ownerDocument;if(l&1&&du(N.documentElement),l&2&&du(N.body),l&4)for(l=N.head,du(l),N=l.firstChild;N;){var D=N.nextSibling,G=N.nodeName;N[Ue]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=D}}if(g===0){s.removeChild(v),bu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);bu(i)}function Eg(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function jN(s,i,l,c){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Ue])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=cs(s.nextSibling),s===null)break}return null}function MN(s,i,l){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=cs(s.nextSibling),s===null))return null;return s}function Tg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function ON(s,i){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function cs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return s}var Sg=null;function E_(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}function T_(s,i,l){switch(i=jh(l),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function du(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);De(s)}var Jr=new Map,S_=new Set;function Mh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var bi=se.d;se.d={f:DN,r:PN,D:kN,C:LN,L:VN,m:zN,X:BN,S:UN,M:FN};function DN(){var s=bi.f(),i=Eh();return s||i}function PN(s){var i=at(s);i!==null&&i.tag===5&&i.type==="form"?$b(i):bi.r(s)}var wl=typeof document>"u"?null:document;function A_(s,i,l){var c=wl;if(c&&typeof i=="string"&&i){var g=on(i);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),S_.has(g)||(S_.add(g),s={rel:s,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Vn(i,"link",s),ft(i),c.head.appendChild(i)))}}function kN(s){bi.D(s),A_("dns-prefetch",s,null)}function LN(s,i){bi.C(s,i),A_("preconnect",s,i)}function VN(s,i,l){bi.L(s,i,l);var c=wl;if(c&&s&&i){var g='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+on(l.imageSizes)+'"]')):g+='[href="'+on(s)+'"]';var v=g;switch(i){case"style":v=El(s);break;case"script":v=Tl(s)}Jr.has(v)||(s=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:s,as:i},l),Jr.set(v,s),c.querySelector(g)!==null||i==="style"&&c.querySelector(hu(v))||i==="script"&&c.querySelector(fu(v))||(i=c.createElement("link"),Vn(i,"link",s),ft(i),c.head.appendChild(i)))}}function zN(s,i){bi.m(s,i);var l=wl;if(l&&s){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+on(c)+'"][href="'+on(s)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Tl(s)}if(!Jr.has(v)&&(s=y({rel:"modulepreload",href:s},i),Jr.set(v,s),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fu(v)))return}c=l.createElement("link"),Vn(c,"link",s),ft(c),l.head.appendChild(c)}}}function UN(s,i,l){bi.S(s,i,l);var c=wl;if(c&&s){var g=Et(c).hoistableStyles,v=El(s);i=i||"default";var N=g.get(v);if(!N){var D={loading:0,preload:null};if(N=c.querySelector(hu(v)))D.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":i},l),(l=Jr.get(v))&&Ag(s,l);var G=N=c.createElement("link");ft(G),Vn(G,"link",s),G._p=new Promise(function(te,ue){G.onload=te,G.onerror=ue}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Oh(N,i,c)}N={type:"stylesheet",instance:N,count:1,state:D},g.set(v,N)}}}function BN(s,i){bi.X(s,i);var l=wl;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(fu(g)),v||(s=y({src:s,async:!0},i),(i=Jr.get(g))&&Ng(s,i),v=l.createElement("script"),ft(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function FN(s,i){bi.M(s,i);var l=wl;if(l&&s){var c=Et(l).hoistableScripts,g=Tl(s),v=c.get(g);v||(v=l.querySelector(fu(g)),v||(s=y({src:s,async:!0,type:"module"},i),(i=Jr.get(g))&&Ng(s,i),v=l.createElement("script"),ft(v),Vn(v,"link",s),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function N_(s,i,l,c){var g=(g=Ee.current)?Mh(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=El(l.href),l=Et(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=El(l.href);var v=Et(g).hoistableStyles,N=v.get(s);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,N),(v=g.querySelector(hu(s)))&&!v._p&&(N.instance=v,N.state.loading=5),Jr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jr.set(s,l),v||qN(g,s,l,N.state))),i&&c===null)throw Error(r(528,""));return N}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tl(l),l=Et(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function El(s){return'href="'+on(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function C_(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function qN(s,i,l,c){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=s.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Vn(i,"link",l),ft(i),s.head.appendChild(i))}function Tl(s){return'[src="'+on(s)+'"]'}function fu(s){return"script[async]"+s}function R_(s,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=s.querySelector('style[data-href~="'+on(l.href)+'"]');if(c)return i.instance=c,ft(c),c;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ft(c),Vn(c,"style",g),Oh(c,l.precedence,s),i.instance=c;case"stylesheet":g=El(l.href);var v=s.querySelector(hu(g));if(v)return i.state.loading|=4,i.instance=v,ft(v),v;c=C_(l),(g=Jr.get(g))&&Ag(c,g),v=(s.ownerDocument||s).createElement("link"),ft(v);var N=v;return N._p=new Promise(function(D,G){N.onload=D,N.onerror=G}),Vn(v,"link",c),i.state.loading|=4,Oh(v,l.precedence,s),i.instance=v;case"script":return v=Tl(l.src),(g=s.querySelector(fu(v)))?(i.instance=g,ft(g),g):(c=l,(g=Jr.get(v))&&(c=y({},l),Ng(c,g)),s=s.ownerDocument||s,g=s.createElement("script"),ft(g),Vn(g,"link",c),s.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Oh(c,l.precedence,s));return i.instance}function Oh(s,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,N=0;N<c.length;N++){var D=c[N];if(D.dataset.precedence===i)v=D;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(s,i.firstChild))}function Ag(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Ng(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Dh=null;function I_(s,i,l){if(Dh===null){var c=new Map,g=Dh=new Map;g.set(l,c)}else g=Dh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var v=l[g];if(!(v[Ue]||v[fe]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(i)||"";N=s+N;var D=c.get(N);D?D.push(v):c.set(N,[v])}}return c}function j_(s,i,l){s=s.ownerDocument||s,s.head.insertBefore(l,i==="title"?s.querySelector("head > title"):null)}function HN(s,i,l){if(l===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var mu=null;function $N(){}function GN(s,i,l){if(mu===null)throw Error(r(475));var c=mu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=El(l.href),v=s.querySelector(hu(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Ph.bind(c),s.then(c,c)),i.state.loading|=4,i.instance=v,ft(v);return}v=s.ownerDocument||s,l=C_(l),(g=Jr.get(g))&&Ag(l,g),v=v.createElement("link"),ft(v);var N=v;N._p=new Promise(function(D,G){N.onload=D,N.onerror=G}),Vn(v,"link",l),i.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Ph.bind(c),s.addEventListener("load",i),s.addEventListener("error",i))}}function QN(){if(mu===null)throw Error(r(475));var s=mu;return s.stylesheets&&s.count===0&&Cg(s,s.stylesheets),0<s.count?function(i){var l=setTimeout(function(){if(s.stylesheets&&Cg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=i,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ph(){if(this.count--,this.count===0){if(this.stylesheets)Cg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var kh=null;function Cg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,kh=new Map,i.forEach(KN,s),kh=null,Ph.call(s))}function KN(s,i){if(!(i.state.loading&4)){var l=kh.get(s);if(l)var c=l.get(null);else{l=new Map,kh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var N=g[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),c=N)}c&&l.set(null,c)}g=i.instance,N=g.getAttribute("data-precedence"),v=l.get(N)||c,v===c&&l.set(null,g),l.set(N,g),this.count++,c=Ph.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),i.state.loading|=4}}var pu={$$typeof:w,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function YN(s,i,l,c,g,v,N,D){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function O_(s,i,l,c,g,v,N,D,G,te,ue,me){return s=new YN(s,i,l,N,D,G,te,me),i=1,v===!0&&(i|=24),v=Ar(3,null,null,i),s.current=v,v.stateNode=s,i=cp(),i.refCount++,s.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},fp(v),s}function D_(s){return s?(s=tl,s):tl}function P_(s,i,l,c,g,v){g=D_(g),c.context===null?c.context=g:c.pendingContext=g,c=Vi(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=zi(s,c,i),l!==null&&(jr(l,s,i),$c(l,s,i))}function k_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Rg(s,i){k_(s,i),(s=s.alternate)&&k_(s,i)}function L_(s){if(s.tag===13){var i=el(s,67108864);i!==null&&jr(i,s,67108864),Rg(s,67108864)}}var Lh=!0;function XN(s,i,l,c){var g=$.T;$.T=null;var v=se.p;try{se.p=2,Ig(s,i,l,c)}finally{se.p=v,$.T=g}}function WN(s,i,l,c){var g=$.T;$.T=null;var v=se.p;try{se.p=8,Ig(s,i,l,c)}finally{se.p=v,$.T=g}}function Ig(s,i,l,c){if(Lh){var g=jg(c);if(g===null)yg(s,i,c,Vh,l),z_(s,c);else if(JN(g,s,i,l,c))c.stopPropagation();else if(z_(s,c),i&4&&-1<ZN.indexOf(s)){for(;g!==null;){var v=at(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=je(v.pendingLanes);if(N!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var G=1<<31-Gt(N);D.entanglements[1]|=G,N&=~G}Vs(v),(jt&6)===0&&(_h=Xt()+500,lu(0))}}break;case 13:D=el(v,2),D!==null&&jr(D,v,2),Eh(),Rg(v,2)}if(v=jg(c),v===null&&yg(s,i,c,Vh,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else yg(s,i,c,null,l)}}function jg(s){return s=Hr(s),Mg(s)}var Vh=null;function Mg(s){if(Vh=null,s=Fe(s),s!==null){var i=o(s);if(i===null)s=null;else{var l=i.tag;if(l===13){if(s=u(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Vh=s,null}function V_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case _s:return 2;case ws:return 8;case ss:case er:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Og=!1,Zi=null,Ji=null,ea=null,gu=new Map,yu=new Map,ta=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(s,i){switch(s){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":gu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(i.pointerId)}}function vu(s,i,l,c,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},i!==null&&(i=at(i),i!==null&&L_(i)),s):(s.eventSystemFlags|=c,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function JN(s,i,l,c,g){switch(i){case"focusin":return Zi=vu(Zi,s,i,l,c,g),!0;case"dragenter":return Ji=vu(Ji,s,i,l,c,g),!0;case"mouseover":return ea=vu(ea,s,i,l,c,g),!0;case"pointerover":var v=g.pointerId;return gu.set(v,vu(gu.get(v)||null,s,i,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,yu.set(v,vu(yu.get(v)||null,s,i,l,c,g)),!0}return!1}function U_(s){var i=Fe(s.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){s.blockedOn=i,W(s.priority,function(){if(l.tag===13){var c=Ir();c=_r(c);var g=el(l,c);g!==null&&jr(g,l,c),Rg(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zh(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=jg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=at(l),i!==null&&L_(i),s.blockedOn=l,!1;i.shift()}return!0}function B_(s,i,l){zh(s)&&l.delete(i)}function eC(){Og=!1,Zi!==null&&zh(Zi)&&(Zi=null),Ji!==null&&zh(Ji)&&(Ji=null),ea!==null&&zh(ea)&&(ea=null),gu.forEach(B_),yu.forEach(B_)}function Uh(s,i){s.blockedOn===i&&(s.blockedOn=null,Og||(Og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eC)))}var Bh=null;function F_(s){Bh!==s&&(Bh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bh===s&&(Bh=null);for(var i=0;i<s.length;i+=3){var l=s[i],c=s[i+1],g=s[i+2];if(typeof c!="function"){if(Mg(c||l)===null)continue;break}var v=at(l);v!==null&&(s.splice(i,3),i-=3,Mp(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function bu(s){function i(G){return Uh(G,s)}Zi!==null&&Uh(Zi,s),Ji!==null&&Uh(Ji,s),ea!==null&&Uh(ea,s),gu.forEach(i),yu.forEach(i);for(var l=0;l<ta.length;l++){var c=ta[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<ta.length&&(l=ta[0],l.blockedOn===null);)U_(l),l.blockedOn===null&&ta.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],N=g[xe]||null;if(typeof v=="function")N||F_(l);else if(N){var D=null;if(v&&v.hasAttribute("formAction")){if(g=v,N=v[xe]||null)D=N.formAction;else if(Mg(g)!==null)continue}else D=N.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),F_(l)}}}function Dg(s){this._internalRoot=s}Fh.prototype.render=Dg.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=Ir();P_(l,c,s,i,null,null)},Fh.prototype.unmount=Dg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;P_(s.current,2,null,s,null,null),Eh(),i[Ne]=null}};function Fh(s){this._internalRoot=s}Fh.prototype.unstable_scheduleHydration=function(s){if(s){var i=Q();s={blockedOn:null,target:s,priority:i};for(var l=0;l<ta.length&&i!==0&&i<ta[l].priority;l++);ta.splice(l,0,s),l===0&&U_(s)}};var q_=e.version;if(q_!=="19.1.0")throw Error(r(527,q_,"19.1.0"));se.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var tC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{gt=qh.inject(tC),We=qh}catch{}}return _u.createRoot=function(s,i){if(!a(s))throw Error(r(299));var l=!1,c="",g=ix,v=ax,N=ox,D=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks)),i=O_(s,1,!1,null,null,l,c,g,v,N,D,null),s[Ne]=i.current,gg(s),new Dg(i)},_u.hydrateRoot=function(s,i,l){if(!a(s))throw Error(r(299));var c=!1,g="",v=ix,N=ax,D=ox,G=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),i=O_(s,1,!0,i,l??null,c,g,v,N,D,G,te),i.context=D_(null),l=i.current,c=Ir(),c=_r(c),g=Vi(c),g.callback=null,zi(l,g,c),l=c,i.current.lanes=l,qn(i,l),Vs(i),s[Ne]=i.current,gg(s),new Fh(i)},_u.version="19.1.0",_u}var ew;function uC(){if(ew)return Vg.exports;ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vg.exports=cC(),Vg.exports}var dC=uC(),wu={},tw;function hC(){if(tw)return wu;tw=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=u,wu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,T){const A=new o,P=_.length;if(P<2)return A;const R=(T==null?void 0:T.decode)||y;let C=0;do{const E=_.indexOf("=",C);if(E===-1)break;const w=_.indexOf(";",C),O=w===-1?P:w;if(E>O){C=_.lastIndexOf(";",E-1)+1;continue}const z=h(_,C,E),k=f(_,E,z),L=_.slice(z,k);if(A[L]===void 0){let M=h(_,E+1,O),I=f(_,O,M);const V=R(_.slice(M,I));A[L]=V}C=O+1}while(C<P);return A}function h(_,T,A){do{const P=_.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<A);return A}function f(_,T,A){for(;T>A;){const P=_.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return A}function p(_,T,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const R=P(T);if(!e.test(R))throw new TypeError(`argument val is invalid: ${T}`);let C=_+"="+R;if(!A)return C;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);C+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);C+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);C+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);C+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(C+="; HttpOnly"),A.secure&&(C+="; Secure"),A.partitioned&&(C+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return C}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return wu}hC();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var QE=n=>{throw TypeError(n)},fC=(n,e,t)=>e.has(n)||QE("Cannot "+t),Fg=(n,e,t)=>(fC(n,e,"read from private field"),t?t.call(n):e.get(n)),mC=(n,e,t)=>e.has(n)?QE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),nw="popstate";function pC(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return Gu("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ra(a)}return yC(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function rw(n,e){return{usr:n.state,key:n.key,idx:e}}function Gu(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||r||gC()}}function Ra({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){h="POP";let R=y(),C=R==null?null:R-p;p=R,f&&f({action:h,location:P.location,delta:C})}function _(R,C){h="PUSH";let E=Gu(P.location,R,C);p=y()+1;let w=rw(E,p),O=P.createHref(E);try{u.pushState(w,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(O)}o&&f&&f({action:h,location:P.location,delta:1})}function T(R,C){h="REPLACE";let E=Gu(P.location,R,C);p=y();let w=rw(E,p),O=P.createHref(E);u.replaceState(w,"",O),o&&f&&f({action:h,location:P.location,delta:0})}function A(R){let C=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof R=="string"?R:Ra(R);return E=E.replace(/ $/,"%20"),ct(C,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,C)}let P={get action(){return h},get location(){return n(a,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(nw,b),f=R,()=>{a.removeEventListener(nw,b),f=null}},createHref(R){return e(a,R)},createURL:A,encodeLocation(R){let C=A(R);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:T,go(R){return u.go(R)}};return P}var Cu,sw=class{constructor(n){if(mC(this,Cu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Fg(this,Cu).has(n))return Fg(this,Cu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Fg(this,Cu).set(n,e)}};Cu=new WeakMap;var vC=new Set(["lazy","caseSensitive","path","id","index","children"]);function bC(n){return vC.has(n)}var xC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _C(n){return xC.has(n)}function wC(n){return n.index===!0}function Sf(n,e,t=[],r={}){return n.map((a,o)=>{let u=[...t,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),wC(a)){let f={...a,...e(a),id:h};return r[h]=f,f}else{let f={...a,...e(a),id:h,children:void 0};return r[h]=f,a.children&&(f.children=Sf(a.children,e,u,r)),f}})}function aa(n,e,t="/"){return lf(n,e,t,!1)}function lf(n,e,t,r){let a=typeof e=="string"?za(e):e,o=rs(a.pathname||"/",t);if(o==null)return null;let u=KE(n);TC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=PC(o);h=OC(u[f],p,r)}return h}function EC(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function KE(n,e=[],t=[],r=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=qs([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),KE(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:jC(p,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of YE(o.path))a(o,u,f)}),e}function YE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=YE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function TC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SC=/^:[\w-]+$/,AC=3,NC=2,CC=1,RC=10,IC=-2,iw=n=>n==="*";function jC(n,e){let t=n.split("/"),r=t.length;return t.some(iw)&&(r+=IC),e&&(r+=NC),t.filter(a=>!iw(a)).reduce((a,o)=>a+(SC.test(o)?AC:o===""?CC:RC),r)}function MC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function OC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=Af({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),_=f.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=Af({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:qs([o,b.pathname]),pathnameBase:VC(qs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=qs([o,b.pathnameBase]))}return u}function Af(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},_)=>{if(y==="*"){let A=h[_]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=h[_];return b&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function DC(n,e=!1,t=!0){rn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function PC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function kC(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?za(n):n;return{pathname:t?t.startsWith("/")?t:LC(t,e):e,search:zC(r),hash:UC(a)}}function LC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function qg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yy(n){let e=XE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vy(n,e,t,r=!1){let a;typeof n=="string"?a=za(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),qg("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),qg("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),qg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}h=b>=0?e[b]:"/"}let f=kC(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var qs=n=>n.join("/").replace(/\/\/+/g,"/"),VC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Nf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Qu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var WE=["POST","PUT","PATCH","DELETE"],BC=new Set(WE),FC=["GET",...WE],qC=new Set(FC),HC=new Set([301,302,303,307,308]),$C=new Set([307,308]),Hg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},by=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QC=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),ZE="remix-router-transitions",JE=Symbol("ResetLoaderData");function KC(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||QC,o={},u=Sf(n.routes,a,void 0,o),h,f=n.basename||"/",p=n.dataStrategy||JC,y={unstable_middleware:!1,...n.future},b=null,_=new Set,T=null,A=null,P=null,R=n.hydrationData!=null,C=aa(u,n.history.location,f),E=!1,w=null;if(C==null&&!n.patchRoutesOnNavigation){let Q=ts(404,{pathname:n.history.location.pathname}),{matches:W,route:ee}=yw(u);C=W,w={[ee.id]:Q}}C&&!n.hydrationData&&Qt(C,u,n.history.location.pathname).active&&(C=null);let O;if(C)if(C.some(Q=>Q.route.lazy))O=!1;else if(!C.some(Q=>Q.route.loader))O=!0;else{let Q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ee=C.findIndex(fe=>W[fe.route.id]!==void 0);O=C.slice(0,ee+1).every(fe=>!x0(fe.route,Q,W))}else O=C.every(ee=>!x0(ee.route,Q,W))}else{O=!1,C=[];let Q=Qt(null,u,n.history.location.pathname);Q.active&&Q.matches&&(E=!0,C=Q.matches)}let z,k={historyAction:n.history.action,location:n.history.location,matches:C,initialized:O,navigation:Hg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||w,fetchers:new Map,blockers:new Map},L="POP",M=!1,I,V=!1,F=new Map,U=null,j=!1,ie=!1,ce=new Set,$=new Map,se=0,ae=-1,be=new Map,H=new Set,le=new Map,ve=new Map,ge=new Set,Se=new Map,Ve,Ee=null;function ye(){if(b=n.history.listen(({action:Q,location:W,delta:ee})=>{if(Ve){Ve(),Ve=void 0;return}rn(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=qt({currentLocation:k.location,nextLocation:W,historyAction:Q});if(fe&&ee!=null){let xe=new Promise(Ne=>{Ve=Ne});n.history.go(ee*-1),ht(fe,{state:"blocked",location:W,proceed(){ht(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),xe.then(()=>n.history.go(ee))},reset(){let Ne=new Map(k.blockers);Ne.set(fe,Eu),Ze({blockers:Ne})}});return}return Ft(Q,W)}),t){uR(e,F);let Q=()=>dR(e,F);e.addEventListener("pagehide",Q),U=()=>e.removeEventListener("pagehide",Q)}return k.initialized||Ft("POP",k.location,{initialHydration:!0}),z}function Te(){b&&b(),U&&U(),_.clear(),I&&I.abort(),k.fetchers.forEach((Q,W)=>Gt(W)),k.blockers.forEach((Q,W)=>Je(W))}function it(Q){return _.add(Q),()=>_.delete(Q)}function Ze(Q,W={}){k={...k,...Q};let ee=[],fe=[];k.fetchers.forEach((xe,Ne)=>{xe.state==="idle"&&(ge.has(Ne)?ee.push(Ne):fe.push(Ne))}),ge.forEach(xe=>{!k.fetchers.has(xe)&&!$.has(xe)&&ee.push(xe)}),[..._].forEach(xe=>xe(k,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(xe=>Gt(xe)),fe.forEach(xe=>k.fetchers.delete(xe))}function It(Q,W,{flushSync:ee}={}){var Pe,Ue;let fe=k.actionData!=null&&k.navigation.formMethod!=null&&Dr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((Pe=Q.state)==null?void 0:Pe._isRedirect)!==!0,xe;W.actionData?Object.keys(W.actionData).length>0?xe=W.actionData:xe=null:fe?xe=k.actionData:xe=null;let Ne=W.loaderData?pw(k.loaderData,W.loaderData,W.matches||[],W.errors):k.loaderData,ze=k.blockers;ze.size>0&&(ze=new Map(ze),ze.forEach((De,Fe)=>ze.set(Fe,Eu)));let Ce=M===!0||k.navigation.formMethod!=null&&Dr(k.navigation.formMethod)&&((Ue=Q.state)==null?void 0:Ue._isRedirect)!==!0;h&&(u=h,h=void 0),j||L==="POP"||(L==="PUSH"?n.history.push(Q,Q.state):L==="REPLACE"&&n.history.replace(Q,Q.state));let Oe;if(L==="POP"){let De=F.get(k.location.pathname);De&&De.has(Q.pathname)?Oe={currentLocation:k.location,nextLocation:Q}:F.has(Q.pathname)&&(Oe={currentLocation:Q,nextLocation:k.location})}else if(V){let De=F.get(k.location.pathname);De?De.add(Q.pathname):(De=new Set([Q.pathname]),F.set(k.location.pathname,De)),Oe={currentLocation:k.location,nextLocation:Q}}Ze({...W,actionData:xe,loaderData:Ne,historyAction:L,location:Q,initialized:!0,navigation:Hg,revalidation:"idle",restoreScrollPosition:Mn(Q,W.matches||k.matches),preventScrollReset:Ce,blockers:ze},{viewTransitionOpts:Oe,flushSync:ee===!0}),L="POP",M=!1,V=!1,j=!1,ie=!1,Ee==null||Ee.resolve(),Ee=null}async function Ht(Q,W){if(typeof Q=="number"){n.history.go(Q);return}let ee=b0(k.location,k.matches,f,Q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:xe,error:Ne}=aw(!1,ee,W),ze=k.location,Ce=Gu(k.location,fe,W&&W.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let Oe=W&&W.replace!=null?W.replace:void 0,Pe="PUSH";Oe===!0?Pe="REPLACE":Oe===!1||xe!=null&&Dr(xe.formMethod)&&xe.formAction===k.location.pathname+k.location.search&&(Pe="REPLACE");let Ue=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,De=(W&&W.flushSync)===!0,Fe=qt({currentLocation:ze,nextLocation:Ce,historyAction:Pe});if(Fe){ht(Fe,{state:"blocked",location:Ce,proceed(){ht(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),Ht(Q,W)},reset(){let at=new Map(k.blockers);at.set(Fe,Eu),Ze({blockers:at})}});return}await Ft(Pe,Ce,{submission:xe,pendingError:Ne,preventScrollReset:Ue,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:De})}function mn(){Ee||(Ee=hR()),is(),Ze({revalidation:"loading"});let Q=Ee.promise;return k.navigation.state==="submitting"?Q:k.navigation.state==="idle"?(Ft(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Q):(Ft(L||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:V===!0}),Q)}async function Ft(Q,W,ee){I&&I.abort(),I=null,L=Q,j=(ee&&ee.startUninterruptedRevalidation)===!0,qn(k.location,k.matches),M=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let fe=h||u,xe=ee&&ee.overrideNavigation,Ne=ee!=null&&ee.initialHydration&&k.matches&&k.matches.length>0&&!E?k.matches:aa(fe,W,f),ze=(ee&&ee.flushSync)===!0;if(Ne&&k.initialized&&!ie&&iR(k.location,W)&&!(ee&&ee.submission&&Dr(ee.submission.formMethod))){It(W,{matches:Ne},{flushSync:ze});return}let Ce=Qt(Ne,fe,W.pathname);if(Ce.active&&Ce.matches&&(Ne=Ce.matches),!Ne){let{error:Et,notFoundMatches:ft,route:rt}=sn(W.pathname);It(W,{matches:ft,loaderData:{},errors:{[rt.id]:Et}},{flushSync:ze});return}I=new AbortController;let Oe=Al(n.history,W,I.signal,ee&&ee.submission),Pe=new sw(n.unstable_getContext?await n.unstable_getContext():void 0),Ue;if(ee&&ee.pendingError)Ue=[vo(Ne).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Dr(ee.submission.formMethod)){let Et=await ur(Oe,W,ee.submission,Ne,Pe,Ce.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:ze});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[ft,rt]=Et.pendingActionResult;if(Or(rt)&&Qu(rt.error)&&rt.error.status===404){I=null,It(W,{matches:Et.matches,loaderData:{},errors:{[ft]:rt.error}});return}}Ne=Et.matches||Ne,Ue=Et.pendingActionResult,xe=$g(W,ee.submission),ze=!1,Ce.active=!1,Oe=Al(n.history,Oe.url,Oe.signal)}let{shortCircuited:De,matches:Fe,loaderData:at,errors:At}=await Jn(Oe,W,Ne,Pe,Ce.active,xe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,ze,Ue);De||(I=null,It(W,{matches:Fe||Ne,...gw(Ue),loaderData:at,errors:At}))}async function ur(Q,W,ee,fe,xe,Ne,ze,Ce={}){is();let Oe=lR(W,ee);if(Ze({navigation:Oe},{flushSync:Ce.flushSync===!0}),Ne){let De=await Ur(fe,W.pathname,Q.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let Fe=vo(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Fe,{type:"error",error:De.error}]}}else if(De.matches)fe=De.matches;else{let{notFoundMatches:Fe,error:at,route:At}=sn(W.pathname);return{matches:Fe,pendingActionResult:[At.id,{type:"error",error:at}]}}}let Pe,Ue=Ru(fe,W);if(!Ue.route.action&&!Ue.route.lazy)Pe={type:"error",error:ts(405,{method:Q.method,pathname:W.pathname,routeId:Ue.route.id})};else{let De=Ll(a,o,Q,fe,Ue,ze?[]:r,xe),Fe=await tr(Q,De,xe,null);if(Pe=Fe[Ue.route.id],!Pe){for(let at of fe)if(Fe[at.route.id]){Pe=Fe[at.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(bo(Pe)){let De;return Ce&&Ce.replace!=null?De=Ce.replace:De=hw(Pe.response.headers.get("Location"),new URL(Q.url),f)===k.location.pathname+k.location.search,await er(Q,Pe,!0,{submission:ee,replace:De}),{shortCircuited:!0}}if(Or(Pe)){let De=vo(fe,Ue.route.id);return(Ce&&Ce.replace)!==!0&&(L="PUSH"),{matches:fe,pendingActionResult:[De.route.id,Pe,Ue.route.id]}}return{matches:fe,pendingActionResult:[Ue.route.id,Pe]}}async function Jn(Q,W,ee,fe,xe,Ne,ze,Ce,Oe,Pe,Ue,De){let Fe=Ne||$g(W,ze),at=ze||Ce||bw(Fe),At=!j&&!Pe;if(xe){if(At){let an=Xt(De);Ze({navigation:Fe,...an!==void 0?{actionData:an}:{}},{flushSync:Ue})}let Ke=await Ur(ee,W.pathname,Q.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let an=vo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[an]:Ke.error}}}else if(Ke.matches)ee=Ke.matches;else{let{error:an,notFoundMatches:Er,route:hr}=sn(W.pathname);return{matches:Er,loaderData:{},errors:{[hr.id]:an}}}}let Et=h||u,{dsMatches:ft,revalidatingFetchers:rt}=ow(Q,fe,a,o,n.history,k,ee,at,W,Pe?[]:r,Pe===!0,ie,ce,ge,le,H,Et,f,De);if(ae=++se,!n.dataStrategy&&!ft.some(Ke=>Ke.shouldLoad)&&rt.length===0){let Ke=zr();return It(W,{matches:ee,loaderData:{},errors:De&&Or(De[1])?{[De[0]]:De[1].error}:null,...gw(De),...Ke?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(At){let Ke={};if(!xe){Ke.navigation=Fe;let an=Xt(De);an!==void 0&&(Ke.actionData=an)}rt.length>0&&(Ke.fetchers=xs(rt)),Ze(Ke,{flushSync:Ue})}rt.forEach(Ke=>{dr(Ke.key),Ke.controller&&$.set(Ke.key,Ke.controller)});let Br=()=>rt.forEach(Ke=>dr(Ke.key));I&&I.signal.addEventListener("abort",Br);let{loaderResults:pn,fetcherResults:rr}=await Es(ft,rt,Q,fe);if(Q.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Br),rt.forEach(Ke=>$.delete(Ke.key));let On=$h(pn);if(On)return await er(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};if(On=$h(rr),On)return H.add(On.key),await er(Q,On.result,!0,{replace:Oe}),{shortCircuited:!0};let{loaderData:Ss,errors:wr}=mw(k,ee,pn,De,rt,rr);Pe&&k.errors&&(wr={...k.errors,...wr});let Oi=zr(),Hn=Me(ae),sr=Oi||Hn||rt.length>0;return{matches:ee,loaderData:Ss,errors:wr,...sr?{fetchers:new Map(k.fetchers)}:{}}}function Xt(Q){if(Q&&!Or(Q[1]))return{[Q[0]]:Q[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function xs(Q){return Q.forEach(W=>{let ee=k.fetchers.get(W.key),fe=Tu(void 0,ee?ee.data:void 0);k.fetchers.set(W.key,fe)}),new Map(k.fetchers)}async function _s(Q,W,ee,fe){dr(Q);let xe=(fe&&fe.flushSync)===!0,Ne=h||u,ze=b0(k.location,k.matches,f,ee,W,fe==null?void 0:fe.relative),Ce=aa(Ne,ze,f),Oe=Qt(Ce,Ne,ze);if(Oe.active&&Oe.matches&&(Ce=Oe.matches),!Ce){We(Q,W,ts(404,{pathname:ze}),{flushSync:xe});return}let{path:Pe,submission:Ue,error:De}=aw(!0,ze,fe);if(De){We(Q,W,De,{flushSync:xe});return}let Fe=Ru(Ce,Pe),at=new sw(n.unstable_getContext?await n.unstable_getContext():void 0),At=(fe&&fe.preventScrollReset)===!0;if(Ue&&Dr(Ue.formMethod)){await ws(Q,W,Pe,Fe,Ce,at,Oe.active,xe,At,Ue);return}le.set(Q,{routeId:W,path:Pe}),await ss(Q,W,Pe,Fe,Ce,at,Oe.active,xe,At,Ue)}async function ws(Q,W,ee,fe,xe,Ne,ze,Ce,Oe,Pe){is(),le.delete(Q);function Ue(Lt){if(!Lt.route.action&&!Lt.route.lazy){let Fr=ts(405,{method:Pe.formMethod,pathname:ee,routeId:W});return We(Q,W,Fr,{flushSync:Ce}),!0}return!1}if(!ze&&Ue(fe))return;let De=k.fetchers.get(Q);gt(Q,cR(Pe,De),{flushSync:Ce});let Fe=new AbortController,at=Al(n.history,ee,Fe.signal,Pe);if(ze){let Lt=await Ur(xe,ee,at.signal,Q);if(Lt.type==="aborted")return;if(Lt.type==="error"){We(Q,W,Lt.error,{flushSync:Ce});return}else if(Lt.matches){if(xe=Lt.matches,fe=Ru(xe,ee),Ue(fe))return}else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Ce});return}}$.set(Q,Fe);let At=se,Et=Ll(a,o,at,xe,fe,r,Ne),rt=(await tr(at,Et,Ne,Q))[fe.route.id];if(at.signal.aborted){$.get(Q)===Fe&&$.delete(Q);return}if(ge.has(Q)){if(bo(rt)||Or(rt)){gt(Q,sa(void 0));return}}else{if(bo(rt))if($.delete(Q),ae>At){gt(Q,sa(void 0));return}else return H.add(Q),gt(Q,Tu(Pe)),er(at,rt,!1,{fetcherSubmission:Pe,preventScrollReset:Oe});if(Or(rt)){We(Q,W,rt.error);return}}let Br=k.navigation.location||k.location,pn=Al(n.history,Br,Fe.signal),rr=h||u,On=k.navigation.state!=="idle"?aa(rr,k.navigation.location,f):k.matches;ct(On,"Didn't find any matches after fetcher action");let Ss=++se;be.set(Q,Ss);let wr=Tu(Pe,rt.data);k.fetchers.set(Q,wr);let{dsMatches:Oi,revalidatingFetchers:Hn}=ow(pn,Ne,a,o,n.history,k,On,Pe,Br,r,!1,ie,ce,ge,le,H,rr,f,[fe.route.id,rt]);Hn.filter(Lt=>Lt.key!==Q).forEach(Lt=>{let Fr=Lt.key,Js=k.fetchers.get(Fr),Dn=Tu(void 0,Js?Js.data:void 0);k.fetchers.set(Fr,Dn),dr(Fr),Lt.controller&&$.set(Fr,Lt.controller)}),Ze({fetchers:new Map(k.fetchers)});let sr=()=>Hn.forEach(Lt=>dr(Lt.key));Fe.signal.addEventListener("abort",sr);let{loaderResults:Ke,fetcherResults:an}=await Es(Oi,Hn,pn,Ne);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",sr),be.delete(Q),$.delete(Q),Hn.forEach(Lt=>$.delete(Lt.key));let Er=$h(Ke);if(Er)return er(pn,Er.result,!1,{preventScrollReset:Oe});if(Er=$h(an),Er)return H.add(Er.key),er(pn,Er.result,!1,{preventScrollReset:Oe});let{loaderData:hr,errors:As}=mw(k,On,Ke,void 0,Hn,an);if(k.fetchers.has(Q)){let Lt=sa(rt.data);k.fetchers.set(Q,Lt)}Me(Ss),k.navigation.state==="loading"&&Ss>ae?(ct(L,"Expected pending action"),I&&I.abort(),It(k.navigation.location,{matches:On,loaderData:hr,errors:As,fetchers:new Map(k.fetchers)})):(Ze({errors:As,loaderData:pw(k.loaderData,hr,On,As),fetchers:new Map(k.fetchers)}),ie=!1)}async function ss(Q,W,ee,fe,xe,Ne,ze,Ce,Oe,Pe){let Ue=k.fetchers.get(Q);gt(Q,Tu(Pe,Ue?Ue.data:void 0),{flushSync:Ce});let De=new AbortController,Fe=Al(n.history,ee,De.signal);if(ze){let rt=await Ur(xe,ee,Fe.signal,Q);if(rt.type==="aborted")return;if(rt.type==="error"){We(Q,W,rt.error,{flushSync:Ce});return}else if(rt.matches)xe=rt.matches,fe=Ru(xe,ee);else{We(Q,W,ts(404,{pathname:ee}),{flushSync:Ce});return}}$.set(Q,De);let at=se,At=Ll(a,o,Fe,xe,fe,r,Ne),ft=(await tr(Fe,At,Ne,Q))[fe.route.id];if($.get(Q)===De&&$.delete(Q),!Fe.signal.aborted){if(ge.has(Q)){gt(Q,sa(void 0));return}if(bo(ft))if(ae>at){gt(Q,sa(void 0));return}else{H.add(Q),await er(Fe,ft,!1,{preventScrollReset:Oe});return}if(Or(ft)){We(Q,W,ft.error);return}gt(Q,sa(ft.data))}}async function er(Q,W,ee,{submission:fe,fetcherSubmission:xe,preventScrollReset:Ne,replace:ze}={}){W.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let Ce=W.response.headers.get("Location");ct(Ce,"Expected a Location header on the redirect Response"),Ce=hw(Ce,new URL(Q.url),f);let Oe=Gu(k.location,Ce,{_isRedirect:!0});if(t){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(by.test(Ce)){const Et=n.history.createURL(Ce);At=Et.origin!==e.location.origin||rs(Et.pathname,f)==null}if(At){ze?e.location.replace(Ce):e.location.assign(Ce);return}}I=null;let Pe=ze===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:De,formEncType:Fe}=k.navigation;!fe&&!xe&&Ue&&De&&Fe&&(fe=bw(k.navigation));let at=fe||xe;if($C.has(W.response.status)&&at&&Dr(at.formMethod))await Ft(Pe,Oe,{submission:{...at,formAction:Ce},preventScrollReset:Ne||M,enableViewTransition:ee?V:void 0});else{let At=$g(Oe,fe);await Ft(Pe,Oe,{overrideNavigation:At,fetcherSubmission:xe,preventScrollReset:Ne||M,enableViewTransition:ee?V:void 0})}}async function tr(Q,W,ee,fe){let xe,Ne={};try{xe=await eR(p,Q,W,fe,ee,!1)}catch(ze){return W.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Ne[Ce.route.id]={type:"error",error:ze}}),Ne}for(let[ze,Ce]of Object.entries(xe))if(aR(Ce)){let Oe=Ce.result;Ne[ze]={type:"redirect",response:rR(Oe,Q,ze,W,f)}}else Ne[ze]=await nR(Ce);return Ne}async function Es(Q,W,ee,fe){let xe=tr(ee,Q,fe,null),Ne=Promise.all(W.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.request&&Oe.controller){let Ue=(await tr(Oe.request,Oe.matches,fe,Oe.key))[Oe.match.route.id];return{[Oe.key]:Ue}}else return Promise.resolve({[Oe.key]:{type:"error",error:ts(404,{pathname:Oe.path})}})})),ze=await xe,Ce=(await Ne).reduce((Oe,Pe)=>Object.assign(Oe,Pe),{});return{loaderResults:ze,fetcherResults:Ce}}function is(){ie=!0,le.forEach((Q,W)=>{$.has(W)&&ce.add(W),dr(W)})}function gt(Q,W,ee={}){k.fetchers.set(Q,W),Ze({fetchers:new Map(k.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function We(Q,W,ee,fe={}){let xe=vo(k.matches,W);Gt(Q),Ze({errors:{[xe.route.id]:ee},fetchers:new Map(k.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function En(Q){return ve.set(Q,(ve.get(Q)||0)+1),ge.has(Q)&&ge.delete(Q),k.fetchers.get(Q)||GC}function Gt(Q){let W=k.fetchers.get(Q);$.has(Q)&&!(W&&W.state==="loading"&&be.has(Q))&&dr(Q),le.delete(Q),be.delete(Q),H.delete(Q),ge.delete(Q),ce.delete(Q),k.fetchers.delete(Q)}function Zs(Q){let W=(ve.get(Q)||0)-1;W<=0?(ve.delete(Q),ge.add(Q)):ve.set(Q,W),Ze({fetchers:new Map(k.fetchers)})}function dr(Q){let W=$.get(Q);W&&(W.abort(),$.delete(Q))}function Vr(Q){for(let W of Q){let ee=En(W),fe=sa(ee.data);k.fetchers.set(W,fe)}}function zr(){let Q=[],W=!1;for(let ee of H){let fe=k.fetchers.get(ee);ct(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(H.delete(ee),Q.push(ee),W=!0)}return Vr(Q),W}function Me(Q){let W=[];for(let[ee,fe]of be)if(fe<Q){let xe=k.fetchers.get(ee);ct(xe,`Expected fetcher: ${ee}`),xe.state==="loading"&&(dr(ee),be.delete(ee),W.push(ee))}return Vr(W),W.length>0}function je(Q,W){let ee=k.blockers.get(Q)||Eu;return Se.get(Q)!==W&&Se.set(Q,W),ee}function Je(Q){k.blockers.delete(Q),Se.delete(Q)}function ht(Q,W){let ee=k.blockers.get(Q)||Eu;ct(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let fe=new Map(k.blockers);fe.set(Q,W),Ze({blockers:fe})}function qt({currentLocation:Q,nextLocation:W,historyAction:ee}){if(Se.size===0)return;Se.size>1&&rn(!1,"A router only supports one blocker at a time");let fe=Array.from(Se.entries()),[xe,Ne]=fe[fe.length-1],ze=k.blockers.get(xe);if(!(ze&&ze.state==="proceeding")&&Ne({currentLocation:Q,nextLocation:W,historyAction:ee}))return xe}function sn(Q){let W=ts(404,{pathname:Q}),ee=h||u,{matches:fe,route:xe}=yw(ee);return{notFoundMatches:fe,route:xe,error:W}}function nr(Q,W,ee){if(T=Q,P=W,A=ee||null,!R&&k.navigation===Hg){R=!0;let fe=Mn(k.location,k.matches);fe!=null&&Ze({restoreScrollPosition:fe})}return()=>{T=null,P=null,A=null}}function jn(Q,W){return A&&A(Q,W.map(fe=>EC(fe,k.loaderData)))||Q.key}function qn(Q,W){if(T&&P){let ee=jn(Q,W);T[ee]=P()}}function Mn(Q,W){if(T){let ee=jn(Q,W),fe=T[ee];if(typeof fe=="number")return fe}return null}function Qt(Q,W,ee){if(n.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:lf(W,ee,f,!0)}}else return{active:!0,matches:lf(W,ee,f,!0)||[]};return{active:!1,matches:null}}async function Ur(Q,W,ee,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:Q};let xe=Q;for(;;){let Ne=h==null,ze=h||u,Ce=o;try{await n.patchRoutesOnNavigation({signal:ee,path:W,matches:xe,fetcherKey:fe,patch:(Ue,De)=>{ee.aborted||lw(Ue,De,ze,Ce,a)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:xe}}finally{Ne&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let Oe=aa(ze,W,f);if(Oe)return{type:"success",matches:Oe};let Pe=lf(ze,W,f,!0);if(!Pe||xe.length===Pe.length&&xe.every((Ue,De)=>Ue.route.id===Pe[De].route.id))return{type:"success",matches:null};xe=Pe}}function _r(Q){o={},h=Sf(Q,a,void 0,o)}function Ts(Q,W){let ee=h==null;lw(Q,W,h||u,o,a),ee&&(u=[...u],Ze({}))}return z={get basename(){return f},get future(){return y},get state(){return k},get routes(){return u},get window(){return e},initialize:ye,subscribe:it,enableScrollRestoration:nr,navigate:Ht,fetch:_s,revalidate:mn,createHref:Q=>n.history.createHref(Q),encodeLocation:Q=>n.history.encodeLocation(Q),getFetcher:En,deleteFetcher:Zs,dispose:Te,getBlocker:je,deleteBlocker:Je,patchRoutes:Ts,_internalFetchControllers:$,_internalSetRoutes:_r},z}function YC(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function b0(n,e,t,r,a,o){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let f=vy(r||".",yy(u),rs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let p=xy(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(f.search),b=y.getAll("index");y.delete("index"),b.filter(T=>T).forEach(T=>y.append("index",T));let _=y.toString();f.search=_?`?${_}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:qs([t,f.pathname])),Ra(f)}function aw(n,e,t){if(!t||!YC(t))return{path:e};if(t.formMethod&&!oR(t.formMethod))return{path:e,error:ts(405,{method:t.formMethod})};let r=()=>({path:e,error:ts(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=iT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(o))return r();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((_,[T,A])=>`${_}${T}=${A}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Dr(o))return r();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=w0(t.formData),f=t.formData;else if(t.body instanceof FormData)h=w0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=fw(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=fw(h)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Dr(p.formMethod))return{path:e,submission:p};let y=za(e);return n&&y.search&&xy(y.search)&&h.append("index",""),y.search=`?${h}`,{path:Ra(y),submission:p}}function ow(n,e,t,r,a,o,u,h,f,p,y,b,_,T,A,P,R,C,E){var U;let w=E?Or(E[1])?E[1].error:E[1].data:void 0,O=a.createURL(o.location),z=a.createURL(f),k;if(y&&o.errors){let j=Object.keys(o.errors)[0];k=u.findIndex(ie=>ie.route.id===j)}else if(E&&Or(E[1])){let j=E[0];k=u.findIndex(ie=>ie.route.id===j)-1}let L=E?E[1].statusCode:void 0,M=L&&L>=400,I={currentUrl:O,currentParams:((U=o.matches[0])==null?void 0:U.params)||{},nextUrl:z,nextParams:u[0].params,...h,actionResult:w,actionStatus:L},V=u.map((j,ie)=>{let{route:ce}=j,$=null;if(k!=null&&ie>k?$=!1:ce.lazy?$=!0:ce.loader==null?$=!1:y?$=x0(ce,o.loaderData,o.errors):XC(o.loaderData,o.matches[ie],j)&&($=!0),$!==null)return _0(t,r,n,j,p,e,$);let se=M?!1:b||O.pathname+O.search===z.pathname+z.search||O.search!==z.search||WC(o.matches[ie],j),ae={...I,defaultShouldRevalidate:se},be=Cf(j,ae);return _0(t,r,n,j,p,e,be,ae)}),F=[];return A.forEach((j,ie)=>{if(y||!u.some(le=>le.route.id===j.routeId)||T.has(ie))return;let ce=aa(R,j.path,C);if(!ce){F.push({key:ie,routeId:j.routeId,path:j.path,matches:null,match:null,request:null,controller:null});return}if(P.has(ie))return;let $=o.fetchers.get(ie),se=Ru(ce,j.path),ae=new AbortController,be=Al(a,j.path,ae.signal),H=null;if(_.has(ie))_.delete(ie),H=Ll(t,r,be,ce,se,p,e);else if($&&$.state!=="idle"&&$.data===void 0)b&&(H=Ll(t,r,be,ce,se,p,e));else{let le={...I,defaultShouldRevalidate:M?!1:b};Cf(se,le)&&(H=Ll(t,r,be,ce,se,p,e,le))}H&&F.push({key:ie,routeId:j.routeId,path:j.path,matches:H,match:se,request:be,controller:ae})}),{dsMatches:V,revalidatingFetchers:F}}function x0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function XC(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function WC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Cf(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function lw(n,e,t,r,a){let o;if(n){let f=r[n];ct(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let u=e.filter(f=>!o.some(p=>eT(f,p))),h=Sf(u,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function eT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>eT(t,o))}):!1}var cw=new WeakMap,tT=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(ct(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=cw.get(a);u||(u={},cw.set(a,u));let h=u[n];if(h)return h;let f=(async()=>{let p=bC(n),b=a[n]!==void 0&&n!=="hasErrorBoundary";if(p)rn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(b)rn(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(a,{[n]:_}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(_=>_===void 0)&&(a.lazy=void 0))})();return u[n]=f,f},uw=new WeakMap;function ZC(n,e,t,r,a){let o=t[n.id];if(ct(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=uw.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{ct(typeof n.lazy=="function","No lazy route function found");let _=await n.lazy(),T={};for(let A in _){let P=_[A];if(P===void 0)continue;let R=_C(A),E=o[A]!==void 0&&A!=="hasErrorBoundary";R?rn(!R,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?rn(!E,`Route "${o.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=P}Object.assign(o,T),Object.assign(o,{...r(o),lazy:void 0})})();return uw.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(n.lazy),h=[],f;for(let y of u){if(a&&a.includes(y))continue;let b=tT({key:y,route:n,manifest:t,mapRouteProperties:r});b&&(h.push(b),y===e&&(f=b))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function dw(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function JC(n){return n.matches.some(e=>e.route.unstable_middleware)?nT(n,!1,()=>dw(n),(e,t)=>({[t]:{type:"error",result:e}})):dw(n)}async function nT(n,e,t,r){let{matches:a,request:o,params:u,context:h}=n,f={handlerResult:void 0};try{let p=a.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(_=>[b.route.id,_]):[]),y=await rT({request:o,params:u,context:h},p,e,f,t);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function rT(n,e,t,r,a,o=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[f,p]=h,y=!1,b,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await rT(n,e,t,r,a,o+1)};try{let T=await p({request:n.request,params:n.params,context:n.context},_);return y?T===void 0?b:T:_()}catch(T){throw r.middlewareError?r.middlewareError.error!==T&&(r.middlewareError={routeId:f,error:T}):r.middlewareError={routeId:f,error:T},T}}function sT(n,e,t,r,a){let o=tT({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=ZC(r.route,Dr(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function _0(n,e,t,r,a,o,u,h=null){let f=!1,p=sT(n,e,t,r,a);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?Cf(r,{...h,defaultShouldRevalidate:y}):Cf(r,h):u},resolve(y){return f||u||y&&t.method==="GET"&&(r.route.lazy||r.route.loader)?tR({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ll(n,e,t,r,a,o,u,h=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:sT(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:_0(n,e,t,f,o,u,!0,h))}async function eR(n,e,t,r,a,o){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:t[0].params,context:a,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let y=u;return nT(y,!1,()=>p({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,_)=>({[_]:{type:"error",result:b}}))}});try{await Promise.all(t.flatMap(p=>{var y,b;return[(y=p._lazyPromises)==null?void 0:y.handler,(b=p._lazyPromises)==null?void 0:b.route]}))}catch{}return f}async function tR({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:a,scopedContext:o}){let u,h,f=Dr(n.method),p=f?"action":"loader",y=b=>{let _,T=new Promise((R,C)=>_=C);h=()=>_(),n.signal.addEventListener("abort",h);let A=R=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):b({request:n,params:e.params,context:o},...R!==void 0?[R]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(C=>A(C)):A())}}catch(R){return{type:"error",result:R}}})();return Promise.race([P,T])};try{let b=f?e.route.action:e.route.loader;if(t||r)if(b){let _,[T]=await Promise.all([y(b).catch(A=>{_=A}),t,r]);if(_!==void 0)throw _;u=T}else{await t;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([y(_),r]);else if(p==="action"){let T=new URL(n.url),A=T.pathname+T.search;throw ts(405,{method:n.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let _=new URL(n.url),T=_.pathname+_.search;throw ts(404,{pathname:T})}}catch(b){return{type:"error",result:b}}finally{h&&n.signal.removeEventListener("abort",h)}return u}async function nR(n){var r,a,o,u,h,f;let{result:e,type:t}=n;if(aT(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Nf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?vw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Nf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Qu(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Qu(e)?e.status:void 0}:vw(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function rR(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!by.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=b0(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function hw(n,e,t){if(by.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rs(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Al(n,e,t,r){let a=n.createURL(iT(e)).toString(),o={signal:t};if(r&&Dr(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=w0(r.formData):o.body=r.formData}return new Request(a,o)}function w0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function fw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function sR(n,e,t,r=!1,a=!1){let o={},u=null,h,f=!1,p={},y=t&&Or(t[1])?t[1].error:void 0;return n.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,T=e[_];if(ct(!bo(T),"Cannot handle redirect results in processLoaderData"),Or(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),u=u||{},a)u[_]=A;else{let P=vo(n,_);u[P.route.id]==null&&(u[P.route.id]=A)}r||(o[_]=JE),f||(f=!0,h=Qu(T.error)?T.error.status:500),T.headers&&(p[_]=T.headers)}else o[_]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(h=T.statusCode),T.headers&&(p[_]=T.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:p}}function mw(n,e,t,r,a,o){let{loaderData:u,errors:h}=sR(e,t,r);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:b}=f,_=o[p];if(ct(_,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Or(_)){let T=vo(n.matches,y==null?void 0:y.route.id);h&&h[T.route.id]||(h={...h,[T.route.id]:_.error}),n.fetchers.delete(p)}else if(bo(_))ct(!1,"Unhandled fetcher revalidation redirect");else{let T=sa(_.data);n.fetchers.set(p,T)}}),{loaderData:u,errors:h}}function pw(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==JE).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function gw(n){return n?Or(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function vo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function yw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ts(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Nf(n||500,u,new Error(h),!0)}function $h(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(bo(a))return{key:r,result:a}}}function iT(n){let e=typeof n=="string"?za(n):n;return Ra({...e,hash:""})}function iR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function aR(n){return aT(n.result)&&HC.has(n.result.status)}function Or(n){return n.type==="error"}function bo(n){return(n&&n.type)==="redirect"}function vw(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function aT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function oR(n){return qC.has(n.toUpperCase())}function Dr(n){return BC.has(n.toUpperCase())}function xy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ru(n,e){let t=typeof e=="string"?za(e).search:e.search;if(n[n.length-1].route.index&&xy(t||""))return n[n.length-1];let r=XE(n);return r[r.length-1]}function bw(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function $g(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function sa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function uR(n,e){try{let t=n.sessionStorage.getItem(ZE);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function dR(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(ZE,JSON.stringify(t))}catch(r){rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function hR(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ko=q.createContext(null);ko.displayName="DataRouter";var dd=q.createContext(null);dd.displayName="DataRouterState";var _y=q.createContext({isTransitioning:!1});_y.displayName="ViewTransition";var oT=q.createContext(new Map);oT.displayName="Fetchers";var fR=q.createContext(null);fR.displayName="Await";var Xs=q.createContext(null);Xs.displayName="Navigation";var om=q.createContext(null);om.displayName="Location";var bs=q.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var wy=q.createContext(null);wy.displayName="RouteError";function mR(n,{relative:e}={}){ct(hd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xs),{hash:a,pathname:o,search:u}=md(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:qs([t,o])),r.createHref({pathname:h,search:u,hash:a})}function hd(){return q.useContext(om)!=null}function Ws(){return ct(hd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(om).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(n){q.useContext(Xs).static||q.useLayoutEffect(n)}function fd(){let{isDataRoute:n}=q.useContext(bs);return n?RR():pR()}function pR(){ct(hd(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ko),{basename:e,navigator:t}=q.useContext(Xs),{matches:r}=q.useContext(bs),{pathname:a}=Ws(),o=JSON.stringify(yy(r)),u=q.useRef(!1);return cT(()=>{u.current=!0}),q.useCallback((f,p={})=>{if(rn(u.current,lT),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=vy(f,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,o,a,n])}var gR=q.createContext(null);function yR(n){let e=q.useContext(bs).outlet;return e&&q.createElement(gR.Provider,{value:n},e)}function Ey(){let{matches:n}=q.useContext(bs),e=n[n.length-1];return e?e.params:{}}function md(n,{relative:e}={}){let{matches:t}=q.useContext(bs),{pathname:r}=Ws(),a=JSON.stringify(yy(t));return q.useMemo(()=>vy(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function vR(n,e,t,r){ct(hd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=q.useContext(Xs),{matches:u}=q.useContext(bs),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let E=b&&b.path||"";uT(p,!b||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let _=Ws(),T;T=_;let A=T.pathname||"/",P=A;if(y!=="/"){let E=y.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=!o&&t&&t.matches&&t.matches.length>0?t.matches:aa(n,{pathname:P});return rn(b||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),rn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ER(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:qs([y,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:qs([y,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),u,t,r)}function bR(){let n=CR(),e=Qu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,u)}var xR=q.createElement(bR,null),_R=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(bs.Provider,{value:this.props.routeContext},q.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wR({routeContext:n,match:e,children:t}){let r=q.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(bs.Provider,{value:n},t)}function ER(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:b}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let b,_=!1,T=null,A=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||xR,u&&(h<0&&y===0?(uT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):h===y&&(_=!0,A=p.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,y+1)),R=()=>{let C;return b?C=T:_?C=A:p.route.Component?C=q.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,q.createElement(wR,{match:p,routeContext:{outlet:f,matches:P,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?q.createElement(_R,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function Ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TR(n){let e=q.useContext(ko);return ct(e,Ty(n)),e}function SR(n){let e=q.useContext(dd);return ct(e,Ty(n)),e}function AR(n){let e=q.useContext(bs);return ct(e,Ty(n)),e}function Sy(n){let e=AR(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function NR(){return Sy("useRouteId")}function CR(){var r;let n=q.useContext(wy),e=SR("useRouteError"),t=Sy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function RR(){let{router:n}=TR("useNavigate"),e=Sy("useNavigate"),t=q.useRef(!1);return cT(()=>{t.current=!0}),q.useCallback(async(a,o={})=>{rn(t.current,lT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var xw={};function uT(n,e,t){!e&&!xw[n]&&(xw[n]=!0,rn(!1,t))}var _w={};function ww(n,e){!n&&!_w[e]&&(_w[e]=!0,console.warn(e))}function IR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var jR=["HydrateFallback","hydrateFallbackElement"],MR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function OR({router:n,flushSync:e}){let[t,r]=q.useState(n.state),[a,o]=q.useState(),[u,h]=q.useState({isTransitioning:!1}),[f,p]=q.useState(),[y,b]=q.useState(),[_,T]=q.useState(),A=q.useRef(new Map),P=q.useCallback((w,{deletedFetchers:O,flushSync:z,viewTransitionOpts:k})=>{w.fetchers.forEach((M,I)=>{M.data!==void 0&&A.current.set(I,M.data)}),O.forEach(M=>A.current.delete(M)),ww(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(ww(k==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!L){e&&z?e(()=>r(w)):q.startTransition(()=>r(w));return}if(e&&z){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let M=n.window.document.startViewTransition(()=>{e(()=>r(w))});M.finished.finally(()=>{e(()=>{p(void 0),b(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>b(M));return}y?(f&&f.resolve(),y.skipTransition(),T({state:w,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(w),h({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,e,y,f]);q.useLayoutEffect(()=>n.subscribe(P),[n,P]),q.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new MR)},[u]),q.useEffect(()=>{if(f&&a&&n.window){let w=a,O=f.promise,z=n.window.document.startViewTransition(async()=>{q.startTransition(()=>r(w)),await O});z.finished.finally(()=>{p(void 0),b(void 0),o(void 0),h({isTransitioning:!1})}),b(z)}},[a,f,n.window]),q.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,y,t.location,a]),q.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),T(void 0))},[u.isTransitioning,_]);let R=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,O,z)=>n.navigate(w,{state:O,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(w,O,z)=>n.navigate(w,{replace:!0,state:O,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),C=n.basename||"/",E=q.useMemo(()=>({router:n,navigator:R,static:!1,basename:C}),[n,R,C]);return q.createElement(q.Fragment,null,q.createElement(ko.Provider,{value:E},q.createElement(dd.Provider,{value:t},q.createElement(oT.Provider,{value:A.current},q.createElement(_y.Provider,{value:u},q.createElement(LR,{basename:C,location:t.location,navigationType:t.historyAction,navigator:R},q.createElement(DR,{routes:n.routes,future:n.future,state:t})))))),null)}var DR=q.memo(PR);function PR({routes:n,future:e,state:t}){return vR(n,void 0,t,e)}function kR(n){return yR(n.context)}function LR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!hd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=za(t));let{pathname:f="/",search:p="",hash:y="",state:b=null,key:_="default"}=t,T=q.useMemo(()=>{let A=rs(f,u);return A==null?null:{location:{pathname:A,search:p,hash:y,state:b,key:_},navigationType:r}},[u,f,p,y,b,_,r]);return rn(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:q.createElement(Xs.Provider,{value:h},q.createElement(om.Provider,{children:e,value:T}))}var cf="get",uf="application/x-www-form-urlencoded";function lm(n){return n!=null&&typeof n.tagName=="string"}function VR(n){return lm(n)&&n.tagName.toLowerCase()==="button"}function zR(n){return lm(n)&&n.tagName.toLowerCase()==="form"}function UR(n){return lm(n)&&n.tagName.toLowerCase()==="input"}function BR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FR(n,e){return n.button===0&&(!e||e==="_self")&&!BR(n)}function E0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function qR(n,e){let t=E0(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Gh=null;function HR(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gg(n){return n!=null&&!$R.has(n)?(rn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):n}function GR(n,e){let t,r,a,o,u;if(zR(n)){let h=n.getAttribute("action");r=h?rs(h,e):null,t=n.getAttribute("method")||cf,a=Gg(n.getAttribute("enctype"))||uf,o=new FormData(n)}else if(VR(n)||UR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?rs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||cf,a=Gg(n.getAttribute("formenctype"))||Gg(h.getAttribute("enctype"))||uf,o=new FormData(h,n),!HR()){let{name:p,type:y,value:b}=n;if(y==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,b)}}else{if(lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cf,r=null,a=uf,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Ay(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YR(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await QR(o,t);return u.links?u.links():[]}return[]}));return JR(r.flat(1).filter(KR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ew(n,e,t,r,a,o){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function XR(n,e,{includeHydrateFallback:t}={}){return WR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function WR(n){return[...new Set(n)]}function ZR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(ZR(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}var eI=new Set([100,101,204,205]);function tI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&rs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dT(){let n=q.useContext(ko);return Ay(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nI(){let n=q.useContext(dd);return Ay(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ny=q.createContext(void 0);Ny.displayName="FrameworkContext";function hT(){let n=q.useContext(Ny);return Ay(n,"You must render this element inside a <HydratedRouter> element"),n}function rI(n,e){let t=q.useContext(Ny),[r,a]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,_=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=C=>{C.forEach(E=>{u(E.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return _.current&&R.observe(_.current),()=>{R.disconnect()}}},[n]),q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{a(!0)},A=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Su(h,T),onBlur:Su(f,A),onMouseEnter:Su(p,T),onMouseLeave:Su(y,A),onTouchStart:Su(b,T)}]:[!1,_,{}]}function Su(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sI({page:n,...e}){let{router:t}=dT(),r=q.useMemo(()=>aa(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(aI,{page:n,matches:r,...e}):null}function iI(n){let{manifest:e,routeModules:t}=hT(),[r,a]=q.useState([]);return q.useEffect(()=>{let o=!1;return YR(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function aI({page:n,matches:e,...t}){let r=Ws(),{manifest:a,routeModules:o}=hT(),{basename:u}=dT(),{loaderData:h,matches:f}=nI(),p=q.useMemo(()=>Ew(n,e,f,a,r,"data"),[n,e,f,a,r]),y=q.useMemo(()=>Ew(n,e,f,a,r,"assets"),[n,e,f,a,r]),b=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,P=!1;if(e.forEach(C=>{var w;let E=a.routes[C.route.id];!E||!E.hasLoader||(!p.some(O=>O.route.id===C.route.id)&&C.route.id in h&&((w=o[C.route.id])!=null&&w.shouldRevalidate)||E.hasClientLoader?P=!0:A.add(C.route.id))}),A.size===0)return[];let R=tI(n,u);return P&&A.size>0&&R.searchParams.set("_routes",e.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[u,h,r,a,p,e,n,o]),_=q.useMemo(()=>XR(y,a),[y,a]),T=iI(y);return q.createElement(q.Fragment,null,b.map(A=>q.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>q.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),T.map(({key:A,link:P})=>q.createElement("link",{key:A,...P})))}function oI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fT&&(window.__reactRouterVersion="7.5.3")}catch{}function lI(n,e){return KC({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:pC({window:e==null?void 0:e.window}),hydrationData:cI(),routes:n,mapRouteProperties:IR,hydrationRouteProperties:jR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function cI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:uI(n.errors)}),n}function uI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Nf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:b,..._},T){let{basename:A}=q.useContext(Xs),P=typeof p=="string"&&mT.test(p),R,C=!1;if(typeof p=="string"&&P&&(R=p,fT))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),F=rs(V.pathname,A);V.origin===I.origin&&F!=null?p=F+V.search+V.hash:C=!0}catch{rn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=mR(p,{relative:a}),[w,O,z]=rI(r,_),k=mI(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:b});function L(I){e&&e(I),I.defaultPrevented||k(I)}let M=q.createElement("a",{..._,...z,href:R||E,onClick:C||o?e:L,ref:oI(T,O),target:f,"data-discover":!P&&t==="render"?"true":void 0});return w&&!P?q.createElement(q.Fragment,null,M,q.createElement(sI,{page:E})):M});wt.displayName="Link";var dI=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...p},y){let b=md(u,{relative:p.relative}),_=Ws(),T=q.useContext(dd),{navigator:A,basename:P}=q.useContext(Xs),R=T!=null&&xI(b)&&h===!0,C=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,E=_.pathname,w=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(E=E.toLowerCase(),w=w?w.toLowerCase():null,C=C.toLowerCase()),w&&P&&(w=rs(w,P)||w);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=E===C||!a&&E.startsWith(C)&&E.charAt(O)==="/",k=w!=null&&(w===C||!a&&w.startsWith(C)&&w.charAt(C.length)==="/"),L={isActive:z,isPending:k,isTransitioning:R},M=z?e:void 0,I;typeof r=="function"?I=r(L):I=[r,z?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(L):o;return q.createElement(wt,{...p,"aria-current":M,className:I,ref:y,style:V,to:u,viewTransition:h},typeof f=="function"?f(L):f)});dI.displayName="NavLink";var hI=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=cf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:b,..._},T)=>{let A=vI(),P=bI(h,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&mT.test(h),E=w=>{if(f&&f(w),w.defaultPrevented)return;w.preventDefault();let O=w.nativeEvent.submitter,z=(O==null?void 0:O.getAttribute("formmethod"))||u;A(O||w.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:b})};return q.createElement("form",{ref:T,method:R,action:P,onSubmit:r?f:E,..._,"data-discover":!C&&n==="render"?"true":void 0})});hI.displayName="Form";function fI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(n){let e=q.useContext(ko);return ct(e,fI(n)),e}function mI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=fd(),f=Ws(),p=md(n,{relative:o});return q.useCallback(y=>{if(FR(y,e)){y.preventDefault();let b=t!==void 0?t:Ra(f)===Ra(p);h(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,p,t,r,e,n,a,o,u])}function pI(n){rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=q.useRef(E0(n)),t=q.useRef(!1),r=Ws(),a=q.useMemo(()=>qR(r.search,t.current?null:e.current),[r.search]),o=fd(),u=q.useCallback((h,f)=>{const p=E0(typeof h=="function"?h(a):h);t.current=!0,o("?"+p,f)},[o,a]);return[a,u]}var gI=0,yI=()=>`__${String(++gI)}__`;function vI(){let{router:n}=pT("useSubmit"),{basename:e}=q.useContext(Xs),t=NR();return q.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:p}=GR(r,e);if(a.navigate===!1){let y=a.fetcherKey||yI();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function bI(n,{relative:e}={}){let{basename:t}=q.useContext(Xs),r=q.useContext(bs);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...md(n||".",{relative:e})},u=Ws();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qs([t,o.pathname])),Ra(o)}function xI(n,e={}){let t=q.useContext(_y);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pT("useViewTransitionState"),a=md(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Af(a.pathname,u)!=null||Af(a.pathname,o)!=null}new TextEncoder;[...eI];var _I=GE();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wI(n){return q.createElement(OR,{flushSync:_I.flushSync,...n})}var Qh={},Tw;function EI(){if(Tw)return Qh;Tw=1;function n(o){if(typeof window>"u")return;const u=document.createElement("style");return u.setAttribute("type","text/css"),u.innerHTML=o,document.head.appendChild(u),o}Object.defineProperty(Qh,"__esModule",{value:!0});var e=am();function t(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=t(e);n(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const a=e.forwardRef(function({style:u={},className:h="",autoFill:f=!1,play:p=!0,pauseOnHover:y=!1,pauseOnClick:b=!1,direction:_="left",speed:T=50,delay:A=0,loop:P=0,gradient:R=!1,gradientColor:C="white",gradientWidth:E=200,onFinish:w,onCycleComplete:O,onMount:z,children:k},L){const[M,I]=e.useState(0),[V,F]=e.useState(0),[U,j]=e.useState(1),[ie,ce]=e.useState(!1),$=e.useRef(null),se=L||$,ae=e.useRef(null),be=e.useCallback(()=>{if(ae.current&&se.current){const Ee=se.current.getBoundingClientRect(),ye=ae.current.getBoundingClientRect();let Te=Ee.width,it=ye.width;(_==="up"||_==="down")&&(Te=Ee.height,it=ye.height),j(f&&Te&&it&&it<Te?Math.ceil(Te/it):1),I(Te),F(it)}},[f,se,_]);e.useEffect(()=>{if(ie&&(be(),ae.current&&se.current)){const Ee=new ResizeObserver(()=>be());return Ee.observe(se.current),Ee.observe(ae.current),()=>{Ee&&Ee.disconnect()}}},[be,se,ie]),e.useEffect(()=>{be()},[be,k]),e.useEffect(()=>{ce(!0)},[]),e.useEffect(()=>{typeof z=="function"&&z()},[]);const H=e.useMemo(()=>f?V*U/T:V<M?M/T:V/T,[f,M,V,U,T]),le=e.useMemo(()=>Object.assign(Object.assign({},u),{"--pause-on-hover":!p||y?"paused":"running","--pause-on-click":!p||y&&!b||b?"paused":"running","--width":_==="up"||_==="down"?"100vh":"100%","--transform":_==="up"?"rotate(-90deg)":_==="down"?"rotate(90deg)":"none"}),[u,p,y,b,_]),ve=e.useMemo(()=>({"--gradient-color":C,"--gradient-width":typeof E=="number"?`${E}px`:E}),[C,E]),ge=e.useMemo(()=>({"--play":p?"running":"paused","--direction":_==="left"?"normal":"reverse","--duration":`${H}s`,"--delay":`${A}s`,"--iteration-count":P?`${P}`:"infinite","--min-width":f?"auto":"100%"}),[p,_,H,A,P,f]),Se=e.useMemo(()=>({"--transform":_==="up"?"rotate(90deg)":_==="down"?"rotate(-90deg)":"none"}),[_]),Ve=e.useCallback(Ee=>[...Array(Number.isFinite(Ee)&&Ee>=0?Ee:0)].map((ye,Te)=>r.default.createElement(e.Fragment,{key:Te},e.Children.map(k,it=>r.default.createElement("div",{style:Se,className:"rfm-child"},it)))),[Se,k]);return ie?r.default.createElement("div",{ref:se,style:le,className:"rfm-marquee-container "+h},R&&r.default.createElement("div",{style:ve,className:"rfm-overlay"}),r.default.createElement("div",{className:"rfm-marquee",style:ge,onAnimationIteration:O,onAnimationEnd:w},r.default.createElement("div",{className:"rfm-initial-child-container",ref:ae},e.Children.map(k,Ee=>r.default.createElement("div",{style:Se,className:"rfm-child"},Ee))),Ve(U-1)),r.default.createElement("div",{className:"rfm-marquee",style:ge},Ve(U))):null});return Qh.default=a,Qh}var TI=EI();const gT=$E(TI);var yT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sw=Ut.createContext&&Ut.createContext(yT),SI=["attr","size","title"];function AI(n,e){if(n==null)return{};var t=NI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function NI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rf(){return Rf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rf.apply(this,arguments)}function Aw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function If(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Aw(Object(t),!0).forEach(function(r){CI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Aw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CI(n,e,t){return e=RI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RI(n){var e=II(n,"string");return typeof e=="symbol"?e:e+""}function II(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vT(n){return n&&n.map((e,t)=>Ut.createElement(e.tag,If({key:t},e.attr),vT(e.child)))}function pd(n){return e=>Ut.createElement(jI,Rf({attr:If({},n.attr)},e),vT(n.child))}function jI(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=AI(n,SI),h=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ut.createElement("svg",Rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:If(If({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ut.createElement("title",null,o),n.children)};return Sw!==void 0?Ut.createElement(Sw.Consumer,null,t=>e(t)):e(yT)}function MI(n){return pd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"},child:[]}]})(n)}function OI(n){return pd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Nw(n){return pd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(n)}function DI(n){return pd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"},child:[]}]})(n)}const PI=()=>{};var Cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let _=(h&15)<<2|p>>6,T=p&63;f||(T=64,u||(_=64)),r.push(t[y],t[b],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||b==null)throw new LI;const _=o<<2|h>>4;if(r.push(_),p!==64){const T=h<<4&240|p>>2;if(r.push(T),b!==64){const A=p<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(n){const e=bT(n);return xT.encodeByteArray(e,!0)},jf=function(n){return VI(n).replace(/\./g,"")},_T=function(n){try{return xT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>zI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof Cw>"u")return;const n=Cw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_T(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return PI()||UI()||BI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wT=n=>{var e,t;return(t=(e=cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qI=n=>{const e=wT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ET=()=>{var n;return(n=cm())===null||n===void 0?void 0:n.config},TT=n=>{var e;return(e=cm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jf(JSON.stringify(t)),jf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function QI(){var n;const e=(n=cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WI(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZI(){return!QI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JI(){try{return typeof indexedDB=="object"}catch{return!1}}function e4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="FirebaseError";class Mi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t4,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?n4(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Mi(a,h,r)}}function n4(n,e){return n.replace(r4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const r4=/\{\$([^}]+)}/g;function s4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Rw(o)&&Rw(u)){if(!Ia(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Rw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function ju(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function i4(n,e){const t=new a4(n,e);return t.subscribe.bind(t)}class a4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o4(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new HI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u4(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c4(n){return n===yo?void 0:n}function u4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ut||(ut={}));const h4={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},f4=ut.INFO,m4={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},p4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=m4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=f4,this._logHandler=p4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const g4=(n,e)=>e.some(t=>n instanceof t);let Iw,jw;function y4(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v4(){return jw||(jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,T0=new WeakMap,AT=new WeakMap,Kg=new WeakMap,Ry=new WeakMap;function b4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ea(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ST.set(t,n)}).catch(()=>{}),Ry.set(e,n),e}function x4(n){if(T0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});T0.set(n,e)}let S0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return T0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ea(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _4(n){S0=n(S0)}function w4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yg(this),e,...t);return AT.set(r,e.sort?e.sort():[e]),Ea(r)}:v4().includes(n)?function(...e){return n.apply(Yg(this),e),Ea(ST.get(this))}:function(...e){return Ea(n.apply(Yg(this),e))}}function E4(n){return typeof n=="function"?w4(n):(n instanceof IDBTransaction&&x4(n),g4(n,y4())?new Proxy(n,S0):n)}function Ea(n){if(n instanceof IDBRequest)return b4(n);if(Kg.has(n))return Kg.get(n);const e=E4(n);return e!==n&&(Kg.set(n,e),Ry.set(e,n)),e}const Yg=n=>Ry.get(n);function T4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Ea(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ea(u.result),f.oldVersion,f.newVersion,Ea(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const S4=["get","getKey","getAll","getAllKeys","count"],A4=["put","add","delete","clear"],Xg=new Map;function Mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=A4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||S4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return Xg.set(e,o),o}_4(n=>({...n,get:(e,t,r)=>Mw(e,t)||n.get(e,t,r),has:(e,t)=>!!Mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function C4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const A0="@firebase/app",Ow="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Cy("@firebase/app"),R4="@firebase/app-compat",I4="@firebase/analytics-compat",j4="@firebase/analytics",M4="@firebase/app-check-compat",O4="@firebase/app-check",D4="@firebase/auth",P4="@firebase/auth-compat",k4="@firebase/database",L4="@firebase/data-connect",V4="@firebase/database-compat",z4="@firebase/functions",U4="@firebase/functions-compat",B4="@firebase/installations",F4="@firebase/installations-compat",q4="@firebase/messaging",H4="@firebase/messaging-compat",$4="@firebase/performance",G4="@firebase/performance-compat",Q4="@firebase/remote-config",K4="@firebase/remote-config-compat",Y4="@firebase/storage",X4="@firebase/storage-compat",W4="@firebase/firestore",Z4="@firebase/vertexai",J4="@firebase/firestore-compat",ej="firebase",tj="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="[DEFAULT]",nj={[A0]:"fire-core",[R4]:"fire-core-compat",[j4]:"fire-analytics",[I4]:"fire-analytics-compat",[O4]:"fire-app-check",[M4]:"fire-app-check-compat",[D4]:"fire-auth",[P4]:"fire-auth-compat",[k4]:"fire-rtdb",[L4]:"fire-data-connect",[V4]:"fire-rtdb-compat",[z4]:"fire-fn",[U4]:"fire-fn-compat",[B4]:"fire-iid",[F4]:"fire-iid-compat",[q4]:"fire-fcm",[H4]:"fire-fcm-compat",[$4]:"fire-perf",[G4]:"fire-perf-compat",[Q4]:"fire-rc",[K4]:"fire-rc-compat",[Y4]:"fire-gcs",[X4]:"fire-gcs-compat",[W4]:"fire-fst",[J4]:"fire-fst-compat",[Z4]:"fire-vertex","fire-js":"fire-js",[ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,rj=new Map,C0=new Map;function Dw(n,e){try{n.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sc(n){const e=n.name;if(C0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;C0.set(e,n);for(const t of Mf.values())Dw(t,n);for(const t of rj.values())Dw(t,n);return!0}function Iy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new gd("app","Firebase",sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=tj;function NT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:N0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Ta.create("bad-app-name",{appName:String(a)});if(t||(t=ET()),!t)throw Ta.create("no-options");const o=Mf.get(a);if(o){if(Ia(t,o.options)&&Ia(r,o.config))return o;throw Ta.create("duplicate-app",{appName:a})}const u=new d4(a);for(const f of C0.values())u.addComponent(f);const h=new ij(t,r,u);return Mf.set(a,h),h}function CT(n=N0){const e=Mf.get(n);if(!e&&n===N0&&ET())return NT();if(!e)throw Ta.create("no-app",{appName:n});return e}function Sa(n,e,t){var r;let a=(r=nj[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(h.join(" "));return}sc(new Io(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="firebase-heartbeat-database",oj=1,Ku="firebase-heartbeat-store";let Wg=null;function RT(){return Wg||(Wg=T4(aj,oj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ta.create("idb-open",{originalErrorMessage:n.message})})),Wg}async function lj(n){try{const t=(await RT()).transaction(Ku),r=await t.objectStore(Ku).get(IT(n));return await t.done,r}catch(e){if(e instanceof Mi)Ai.warn(e.message);else{const t=Ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function Pw(n,e){try{const r=(await RT()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,IT(n)),await r.done}catch(t){if(t instanceof Mi)Ai.warn(t.message);else{const r=Ta.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(r.message)}}}function IT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=1024,uj=30;class dj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>uj){const u=mj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kw(),{heartbeatsToSend:r,unsentEntries:a}=hj(this._heartbeatsCache.heartbeats),o=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function kw(){return new Date().toISOString().substring(0,10)}function hj(n,e=cj){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Lw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Lw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class fj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JI()?e4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Pw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Lw(n){return jf(JSON.stringify({version:2,heartbeats:n})).length}function mj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n){sc(new Io("platform-logger",e=>new N4(e),"PRIVATE")),sc(new Io("heartbeat",e=>new dj(e),"PRIVATE")),Sa(A0,Ow,n),Sa(A0,Ow,"esm2017"),Sa("fire-js","")}pj("");var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aa,jT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,M){function I(){}I.prototype=M.prototype,L.D=M.prototype,L.prototype=new I,L.prototype.constructor=L,L.C=function(V,F,U){for(var j=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];return M.prototype[F].apply(V,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,M,I){I||(I=0);var V=Array(16);if(typeof M=="string")for(var F=0;16>F;++F)V[F]=M.charCodeAt(I++)|M.charCodeAt(I++)<<8|M.charCodeAt(I++)<<16|M.charCodeAt(I++)<<24;else for(F=0;16>F;++F)V[F]=M[I++]|M[I++]<<8|M[I++]<<16|M[I++]<<24;M=L.g[0],I=L.g[1],F=L.g[2];var U=L.g[3],j=M+(U^I&(F^U))+V[0]+3614090360&4294967295;M=I+(j<<7&4294967295|j>>>25),j=U+(F^M&(I^F))+V[1]+3905402710&4294967295,U=M+(j<<12&4294967295|j>>>20),j=F+(I^U&(M^I))+V[2]+606105819&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(M^F&(U^M))+V[3]+3250441966&4294967295,I=F+(j<<22&4294967295|j>>>10),j=M+(U^I&(F^U))+V[4]+4118548399&4294967295,M=I+(j<<7&4294967295|j>>>25),j=U+(F^M&(I^F))+V[5]+1200080426&4294967295,U=M+(j<<12&4294967295|j>>>20),j=F+(I^U&(M^I))+V[6]+2821735955&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(M^F&(U^M))+V[7]+4249261313&4294967295,I=F+(j<<22&4294967295|j>>>10),j=M+(U^I&(F^U))+V[8]+1770035416&4294967295,M=I+(j<<7&4294967295|j>>>25),j=U+(F^M&(I^F))+V[9]+2336552879&4294967295,U=M+(j<<12&4294967295|j>>>20),j=F+(I^U&(M^I))+V[10]+4294925233&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(M^F&(U^M))+V[11]+2304563134&4294967295,I=F+(j<<22&4294967295|j>>>10),j=M+(U^I&(F^U))+V[12]+1804603682&4294967295,M=I+(j<<7&4294967295|j>>>25),j=U+(F^M&(I^F))+V[13]+4254626195&4294967295,U=M+(j<<12&4294967295|j>>>20),j=F+(I^U&(M^I))+V[14]+2792965006&4294967295,F=U+(j<<17&4294967295|j>>>15),j=I+(M^F&(U^M))+V[15]+1236535329&4294967295,I=F+(j<<22&4294967295|j>>>10),j=M+(F^U&(I^F))+V[1]+4129170786&4294967295,M=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(M^I))+V[6]+3225465664&4294967295,U=M+(j<<9&4294967295|j>>>23),j=F+(M^I&(U^M))+V[11]+643717713&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^M&(F^U))+V[0]+3921069994&4294967295,I=F+(j<<20&4294967295|j>>>12),j=M+(F^U&(I^F))+V[5]+3593408605&4294967295,M=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(M^I))+V[10]+38016083&4294967295,U=M+(j<<9&4294967295|j>>>23),j=F+(M^I&(U^M))+V[15]+3634488961&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^M&(F^U))+V[4]+3889429448&4294967295,I=F+(j<<20&4294967295|j>>>12),j=M+(F^U&(I^F))+V[9]+568446438&4294967295,M=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(M^I))+V[14]+3275163606&4294967295,U=M+(j<<9&4294967295|j>>>23),j=F+(M^I&(U^M))+V[3]+4107603335&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^M&(F^U))+V[8]+1163531501&4294967295,I=F+(j<<20&4294967295|j>>>12),j=M+(F^U&(I^F))+V[13]+2850285829&4294967295,M=I+(j<<5&4294967295|j>>>27),j=U+(I^F&(M^I))+V[2]+4243563512&4294967295,U=M+(j<<9&4294967295|j>>>23),j=F+(M^I&(U^M))+V[7]+1735328473&4294967295,F=U+(j<<14&4294967295|j>>>18),j=I+(U^M&(F^U))+V[12]+2368359562&4294967295,I=F+(j<<20&4294967295|j>>>12),j=M+(I^F^U)+V[5]+4294588738&4294967295,M=I+(j<<4&4294967295|j>>>28),j=U+(M^I^F)+V[8]+2272392833&4294967295,U=M+(j<<11&4294967295|j>>>21),j=F+(U^M^I)+V[11]+1839030562&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^M)+V[14]+4259657740&4294967295,I=F+(j<<23&4294967295|j>>>9),j=M+(I^F^U)+V[1]+2763975236&4294967295,M=I+(j<<4&4294967295|j>>>28),j=U+(M^I^F)+V[4]+1272893353&4294967295,U=M+(j<<11&4294967295|j>>>21),j=F+(U^M^I)+V[7]+4139469664&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^M)+V[10]+3200236656&4294967295,I=F+(j<<23&4294967295|j>>>9),j=M+(I^F^U)+V[13]+681279174&4294967295,M=I+(j<<4&4294967295|j>>>28),j=U+(M^I^F)+V[0]+3936430074&4294967295,U=M+(j<<11&4294967295|j>>>21),j=F+(U^M^I)+V[3]+3572445317&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^M)+V[6]+76029189&4294967295,I=F+(j<<23&4294967295|j>>>9),j=M+(I^F^U)+V[9]+3654602809&4294967295,M=I+(j<<4&4294967295|j>>>28),j=U+(M^I^F)+V[12]+3873151461&4294967295,U=M+(j<<11&4294967295|j>>>21),j=F+(U^M^I)+V[15]+530742520&4294967295,F=U+(j<<16&4294967295|j>>>16),j=I+(F^U^M)+V[2]+3299628645&4294967295,I=F+(j<<23&4294967295|j>>>9),j=M+(F^(I|~U))+V[0]+4096336452&4294967295,M=I+(j<<6&4294967295|j>>>26),j=U+(I^(M|~F))+V[7]+1126891415&4294967295,U=M+(j<<10&4294967295|j>>>22),j=F+(M^(U|~I))+V[14]+2878612391&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~M))+V[5]+4237533241&4294967295,I=F+(j<<21&4294967295|j>>>11),j=M+(F^(I|~U))+V[12]+1700485571&4294967295,M=I+(j<<6&4294967295|j>>>26),j=U+(I^(M|~F))+V[3]+2399980690&4294967295,U=M+(j<<10&4294967295|j>>>22),j=F+(M^(U|~I))+V[10]+4293915773&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~M))+V[1]+2240044497&4294967295,I=F+(j<<21&4294967295|j>>>11),j=M+(F^(I|~U))+V[8]+1873313359&4294967295,M=I+(j<<6&4294967295|j>>>26),j=U+(I^(M|~F))+V[15]+4264355552&4294967295,U=M+(j<<10&4294967295|j>>>22),j=F+(M^(U|~I))+V[6]+2734768916&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~M))+V[13]+1309151649&4294967295,I=F+(j<<21&4294967295|j>>>11),j=M+(F^(I|~U))+V[4]+4149444226&4294967295,M=I+(j<<6&4294967295|j>>>26),j=U+(I^(M|~F))+V[11]+3174756917&4294967295,U=M+(j<<10&4294967295|j>>>22),j=F+(M^(U|~I))+V[2]+718787259&4294967295,F=U+(j<<15&4294967295|j>>>17),j=I+(U^(F|~M))+V[9]+3951481745&4294967295,L.g[0]=L.g[0]+M&4294967295,L.g[1]=L.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,L.g[2]=L.g[2]+F&4294967295,L.g[3]=L.g[3]+U&4294967295}r.prototype.u=function(L,M){M===void 0&&(M=L.length);for(var I=M-this.blockSize,V=this.B,F=this.h,U=0;U<M;){if(F==0)for(;U<=I;)a(this,L,U),U+=this.blockSize;if(typeof L=="string"){for(;U<M;)if(V[F++]=L.charCodeAt(U++),F==this.blockSize){a(this,V),F=0;break}}else for(;U<M;)if(V[F++]=L[U++],F==this.blockSize){a(this,V),F=0;break}}this.h=F,this.o+=M},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var M=1;M<L.length-8;++M)L[M]=0;var I=8*this.o;for(M=L.length-8;M<L.length;++M)L[M]=I&255,I/=256;for(this.u(L),L=Array(16),M=I=0;4>M;++M)for(var V=0;32>V;V+=8)L[I++]=this.g[M]>>>V&255;return L};function o(L,M){var I=h;return Object.prototype.hasOwnProperty.call(I,L)?I[L]:I[L]=M(L)}function u(L,M){this.h=M;for(var I=[],V=!0,F=L.length-1;0<=F;F--){var U=L[F]|0;V&&U==M||(I[F]=U,V=!1)}this.g=I}var h={};function f(L){return-128<=L&&128>L?o(L,function(M){return new u([M|0],0>M?-1:0)}):new u([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return b;if(0>L)return R(p(-L));for(var M=[],I=1,V=0;L>=I;V++)M[V]=L/I|0,I*=4294967296;return new u(M,0)}function y(L,M){if(L.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L.charAt(0)=="-")return R(y(L.substring(1),M));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(M,8)),V=b,F=0;F<L.length;F+=8){var U=Math.min(8,L.length-F),j=parseInt(L.substring(F,F+U),M);8>U?(U=p(Math.pow(M,U)),V=V.j(U).add(p(j))):(V=V.j(I),V=V.add(p(j)))}return V}var b=f(0),_=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-R(this).m();for(var L=0,M=1,I=0;I<this.g.length;I++){var V=this.i(I);L+=(0<=V?V:4294967296+V)*M,M*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(A(this))return"0";if(P(this))return"-"+R(this).toString(L);for(var M=p(Math.pow(L,6)),I=this,V="";;){var F=O(I,M).g;I=C(I,F.j(M));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(L);if(I=F,A(I))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function A(L){if(L.h!=0)return!1;for(var M=0;M<L.g.length;M++)if(L.g[M]!=0)return!1;return!0}function P(L){return L.h==-1}n.l=function(L){return L=C(this,L),P(L)?-1:A(L)?0:1};function R(L){for(var M=L.g.length,I=[],V=0;V<M;V++)I[V]=~L.g[V];return new u(I,~L.h).add(_)}n.abs=function(){return P(this)?R(this):this},n.add=function(L){for(var M=Math.max(this.g.length,L.g.length),I=[],V=0,F=0;F<=M;F++){var U=V+(this.i(F)&65535)+(L.i(F)&65535),j=(U>>>16)+(this.i(F)>>>16)+(L.i(F)>>>16);V=j>>>16,U&=65535,j&=65535,I[F]=j<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function C(L,M){return L.add(R(M))}n.j=function(L){if(A(this)||A(L))return b;if(P(this))return P(L)?R(this).j(R(L)):R(R(this).j(L));if(P(L))return R(this.j(R(L)));if(0>this.l(T)&&0>L.l(T))return p(this.m()*L.m());for(var M=this.g.length+L.g.length,I=[],V=0;V<2*M;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<L.g.length;F++){var U=this.i(V)>>>16,j=this.i(V)&65535,ie=L.i(F)>>>16,ce=L.i(F)&65535;I[2*V+2*F]+=j*ce,E(I,2*V+2*F),I[2*V+2*F+1]+=U*ce,E(I,2*V+2*F+1),I[2*V+2*F+1]+=j*ie,E(I,2*V+2*F+1),I[2*V+2*F+2]+=U*ie,E(I,2*V+2*F+2)}for(V=0;V<M;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=M;V<2*M;V++)I[V]=0;return new u(I,0)};function E(L,M){for(;(L[M]&65535)!=L[M];)L[M+1]+=L[M]>>>16,L[M]&=65535,M++}function w(L,M){this.g=L,this.h=M}function O(L,M){if(A(M))throw Error("division by zero");if(A(L))return new w(b,b);if(P(L))return M=O(R(L),M),new w(R(M.g),R(M.h));if(P(M))return M=O(L,R(M)),new w(R(M.g),M.h);if(30<L.g.length){if(P(L)||P(M))throw Error("slowDivide_ only works with positive integers.");for(var I=_,V=M;0>=V.l(L);)I=z(I),V=z(V);var F=k(I,1),U=k(V,1);for(V=k(V,2),I=k(I,2);!A(V);){var j=U.add(V);0>=j.l(L)&&(F=F.add(I),U=j),V=k(V,1),I=k(I,1)}return M=C(L,F.j(M)),new w(F,M)}for(F=b;0<=L.l(M);){for(I=Math.max(1,Math.floor(L.m()/M.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=p(I),j=U.j(M);P(j)||0<j.l(L);)I-=V,U=p(I),j=U.j(M);A(U)&&(U=_),F=F.add(U),L=C(L,j)}return new w(F,L)}n.A=function(L){return O(this,L).h},n.and=function(L){for(var M=Math.max(this.g.length,L.g.length),I=[],V=0;V<M;V++)I[V]=this.i(V)&L.i(V);return new u(I,this.h&L.h)},n.or=function(L){for(var M=Math.max(this.g.length,L.g.length),I=[],V=0;V<M;V++)I[V]=this.i(V)|L.i(V);return new u(I,this.h|L.h)},n.xor=function(L){for(var M=Math.max(this.g.length,L.g.length),I=[],V=0;V<M;V++)I[V]=this.i(V)^L.i(V);return new u(I,this.h^L.h)};function z(L){for(var M=L.g.length+1,I=[],V=0;V<M;V++)I[V]=L.i(V)<<1|L.i(V-1)>>>31;return new u(I,L.h)}function k(L,M){var I=M>>5;M%=32;for(var V=L.g.length-I,F=[],U=0;U<V;U++)F[U]=0<M?L.i(U+I)>>>M|L.i(U+I+1)<<32-M:L.i(U+I);return new u(F,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Aa=u}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MT,Mu,OT,df,R0,DT,PT,kT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,x,S){return m==Array.prototype||m==Object.prototype||(m[x]=S.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var x=0;x<m.length;++x){var S=m[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,x){if(x)e:{var S=r;m=m.split(".");for(var B=0;B<m.length-1;B++){var Z=m[B];if(!(Z in S))break e;S=S[Z]}m=m[m.length-1],B=S[m],x=x(B),x!=B&&x!=null&&e(S,m,{configurable:!0,writable:!0,value:x})}}function o(m,x){m instanceof String&&(m+="");var S=0,B=!1,Z={next:function(){if(!B&&S<m.length){var oe=S++;return{value:x(oe,m[oe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(m){return m||function(){return o(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var x=typeof m;return x=x!="object"?x:m?Array.isArray(m)?"array":x:"null",x=="array"||x=="object"&&typeof m.length=="number"}function p(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function y(m,x,S){return m.call.apply(m.bind,arguments)}function b(m,x,S){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,B),m.apply(x,Z)}}return function(){return m.apply(x,arguments)}}function _(m,x,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function T(m,x){var S=Array.prototype.slice.call(arguments,1);return function(){var B=S.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function A(m,x){function S(){}S.prototype=x.prototype,m.aa=x.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(B,Z,oe){for(var _e=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)_e[yt-2]=arguments[yt];return x.prototype[Z].apply(B,_e)}}function P(m){const x=m.length;if(0<x){const S=Array(x);for(let B=0;B<x;B++)S[B]=m[B];return S}return[]}function R(m,x){for(let S=1;S<arguments.length;S++){const B=arguments[S];if(f(B)){const Z=m.length||0,oe=B.length||0;m.length=Z+oe;for(let _e=0;_e<oe;_e++)m[Z+_e]=B[_e]}else m.push(B)}}class C{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(m){return/^[\s\xa0]*$/.test(m)}function w(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(m,x,S){for(const B in m)x.call(S,m[B],B,m)}function L(m,x){for(const S in m)x.call(void 0,m[S],S,m)}function M(m){const x={};for(const S in m)x[S]=m[S];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,x){let S,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(S in B)m[S]=B[S];for(let oe=0;oe<I.length;oe++)S=I[oe],Object.prototype.hasOwnProperty.call(B,S)&&(m[S]=B[S])}}function F(m){var x=1;m=m.split(":");const S=[];for(;0<x&&m.length;)S.push(m.shift()),x--;return m.length&&S.push(m.join(":")),S}function U(m){h.setTimeout(()=>{throw m},0)}function j(){var m=be;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ie{constructor(){this.h=this.g=null}add(x,S){const B=ce.get();B.set(x,S),this.h?this.h.next=B:this.g=B,this.h=B}}var ce=new C(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,be=new ie,H=()=>{const m=h.Promise.resolve(void 0);se=()=>{m.then(le)}};var le=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(S){U(S)}var x=ce;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}ae=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};h.addEventListener("test",S,x),h.removeEventListener("test",S,x)}catch{}return m}();function Ve(m,x){if(ge.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(z){e:{try{O(x.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(x=null)}}else S=="mouseover"?x=m.fromElement:S=="mouseout"&&(x=m.toElement);this.relatedTarget=x,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ve.aa.h.call(this)}}A(Ve,ge);var Ee={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Te=0;function it(m,x,S,B,Z){this.listener=m,this.proxy=null,this.src=x,this.type=S,this.capture=!!B,this.ha=Z,this.key=++Te,this.da=this.fa=!1}function Ze(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function It(m){this.src=m,this.g={},this.h=0}It.prototype.add=function(m,x,S,B,Z){var oe=m.toString();m=this.g[oe],m||(m=this.g[oe]=[],this.h++);var _e=mn(m,x,B,Z);return-1<_e?(x=m[_e],S||(x.fa=!1)):(x=new it(x,this.src,oe,!!B,Z),x.fa=S,m.push(x)),x};function Ht(m,x){var S=x.type;if(S in m.g){var B=m.g[S],Z=Array.prototype.indexOf.call(B,x,void 0),oe;(oe=0<=Z)&&Array.prototype.splice.call(B,Z,1),oe&&(Ze(x),m.g[S].length==0&&(delete m.g[S],m.h--))}}function mn(m,x,S,B){for(var Z=0;Z<m.length;++Z){var oe=m[Z];if(!oe.da&&oe.listener==x&&oe.capture==!!S&&oe.ha==B)return Z}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),ur={};function Jn(m,x,S,B,Z){if(Array.isArray(x)){for(var oe=0;oe<x.length;oe++)Jn(m,x[oe],S,B,Z);return null}return S=is(S),m&&m[ye]?m.K(x,S,p(B)?!!B.capture:!1,Z):Xt(m,x,S,!1,B,Z)}function Xt(m,x,S,B,Z,oe){if(!x)throw Error("Invalid event type");var _e=p(Z)?!!Z.capture:!!Z,yt=tr(m);if(yt||(m[Ft]=yt=new It(m)),S=yt.add(x,S,B,_e,oe),S.proxy)return S;if(B=xs(),S.proxy=B,B.src=m,B.listener=S,m.addEventListener)Se||(Z=_e),Z===void 0&&(Z=!1),m.addEventListener(x.toString(),B,Z);else if(m.attachEvent)m.attachEvent(ss(x.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xs(){function m(S){return x.call(m.src,m.listener,S)}const x=er;return m}function _s(m,x,S,B,Z){if(Array.isArray(x))for(var oe=0;oe<x.length;oe++)_s(m,x[oe],S,B,Z);else B=p(B)?!!B.capture:!!B,S=is(S),m&&m[ye]?(m=m.i,x=String(x).toString(),x in m.g&&(oe=m.g[x],S=mn(oe,S,B,Z),-1<S&&(Ze(oe[S]),Array.prototype.splice.call(oe,S,1),oe.length==0&&(delete m.g[x],m.h--)))):m&&(m=tr(m))&&(x=m.g[x.toString()],m=-1,x&&(m=mn(x,S,B,Z)),(S=-1<m?x[m]:null)&&ws(S))}function ws(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[ye])Ht(x.i,m);else{var S=m.type,B=m.proxy;x.removeEventListener?x.removeEventListener(S,B,m.capture):x.detachEvent?x.detachEvent(ss(S),B):x.addListener&&x.removeListener&&x.removeListener(B),(S=tr(x))?(Ht(S,m),S.h==0&&(S.src=null,x[Ft]=null)):Ze(m)}}}function ss(m){return m in ur?ur[m]:ur[m]="on"+m}function er(m,x){if(m.da)m=!0;else{x=new Ve(x,this);var S=m.listener,B=m.ha||m.src;m.fa&&ws(m),m=S.call(B,x)}return m}function tr(m){return m=m[Ft],m instanceof It?m:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function is(m){return typeof m=="function"?m:(m[Es]||(m[Es]=function(x){return m.handleEvent(x)}),m[Es])}function gt(){ve.call(this),this.i=new It(this),this.M=this,this.F=null}A(gt,ve),gt.prototype[ye]=!0,gt.prototype.removeEventListener=function(m,x,S,B){_s(this,m,x,S,B)};function We(m,x){var S,B=m.F;if(B)for(S=[];B;B=B.F)S.push(B);if(m=m.M,B=x.type||x,typeof x=="string")x=new ge(x,m);else if(x instanceof ge)x.target=x.target||m;else{var Z=x;x=new ge(B,m),V(x,Z)}if(Z=!0,S)for(var oe=S.length-1;0<=oe;oe--){var _e=x.g=S[oe];Z=En(_e,B,!0,x)&&Z}if(_e=x.g=m,Z=En(_e,B,!0,x)&&Z,Z=En(_e,B,!1,x)&&Z,S)for(oe=0;oe<S.length;oe++)_e=x.g=S[oe],Z=En(_e,B,!1,x)&&Z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var m=this.i,x;for(x in m.g){for(var S=m.g[x],B=0;B<S.length;B++)Ze(S[B]);delete m.g[x],m.h--}}this.F=null},gt.prototype.K=function(m,x,S,B){return this.i.add(String(m),x,!1,S,B)},gt.prototype.L=function(m,x,S,B){return this.i.add(String(m),x,!0,S,B)};function En(m,x,S,B){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();for(var Z=!0,oe=0;oe<x.length;++oe){var _e=x[oe];if(_e&&!_e.da&&_e.capture==S){var yt=_e.listener,gn=_e.ha||_e.src;_e.fa&&Ht(m.i,_e),Z=yt.call(gn,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function Gt(m,x,S){if(typeof m=="function")S&&(m=_(m,S));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:h.setTimeout(m,x||0)}function Zs(m){m.g=Gt(()=>{m.g=null,m.i&&(m.i=!1,Zs(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class dr extends ve{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(m){ve.call(this),this.h=m,this.g={}}A(Vr,ve);var zr=[];function Me(m){k(m.g,function(x,S){this.g.hasOwnProperty(S)&&ws(x)},m),m.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Me(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=h.JSON.stringify,Je=h.JSON.parse,ht=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function qt(){}qt.prototype.h=null;function sn(m){return m.h||(m.h=m.i())}function nr(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ge.call(this,"d")}A(qn,ge);function Mn(){ge.call(this,"c")}A(Mn,ge);var Qt={},Ur=null;function _r(){return Ur=Ur||new gt}Qt.La="serverreachability";function Ts(m){ge.call(this,Qt.La,m)}A(Ts,ge);function Q(m){const x=_r();We(x,new Ts(x))}Qt.STAT_EVENT="statevent";function W(m,x){ge.call(this,Qt.STAT_EVENT,m),this.stat=x}A(W,ge);function ee(m){const x=_r();We(x,new W(x,m))}Qt.Ma="timingevent";function fe(m,x){ge.call(this,Qt.Ma,m),this.size=x}A(fe,ge);function xe(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},x)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function ze(m,x,S,B,Z,oe){m.info(function(){if(m.g)if(oe)for(var _e="",yt=oe.split("&"),gn=0;gn<yt.length;gn++){var vt=yt[gn].split("=");if(1<vt.length){var Sn=vt[0];vt=vt[1];var yn=Sn.split("_");_e=2<=yn.length&&yn[1]=="type"?_e+(Sn+"="+vt+"&"):_e+(Sn+"=redacted&")}}else _e=null;else _e=oe;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+x+`
`+S+`
`+_e})}function Ce(m,x,S,B,Z,oe,_e){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+x+`
`+S+`
`+oe+" "+_e})}function Oe(m,x,S,B){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ue(m,S)+(B?" "+B:"")})}function Pe(m,x){m.info(function(){return"TIMEOUT: "+x})}Ne.prototype.info=function(){};function Ue(m,x){if(!m.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var B=S[m];if(!(2>B.length)){var Z=B[1];if(Array.isArray(Z)&&!(1>Z.length)){var oe=Z[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var _e=1;_e<Z.length;_e++)Z[_e]=""}}}}return je(S)}catch{return x}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function At(){}A(At,qt),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},at=new At;function Et(m,x,S,B){this.j=m,this.i=x,this.l=S,this.R=B||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var rt={},Br={};function pn(m,x,S){m.L=1,m.v=Ga(Tr(x)),m.m=S,m.P=!0,rr(m,null)}function rr(m,x){m.F=Date.now(),wr(m),m.A=Tr(m.v);var S=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),Nc(S.i,"t",B),m.C=0,S=m.j.J,m.h=new ft,m.g=Ud(m.j,S?x:null,!m.m),0<m.O&&(m.M=new dr(_(m.Y,m,m.g),m.O)),x=m.U,S=m.g,B=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(zr[0]=Z.toString()),Z=zr);for(var oe=0;oe<Z.length;oe++){var _e=Jn(S,Z[oe],B||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=m.H?M(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),Q(),ze(m.i,m.u,m.A,m.l,m.R,m.m)}Et.prototype.ca=function(m){m=m.target;const x=this.M;x&&Gr(m)==3?x.j():this.Y(m)},Et.prototype.Y=function(m){try{if(m==this.g)e:{const yn=Gr(this.g);var x=this.g.Ba();const ai=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||yn!=4||x==7||(x==8||0>=ai?Q(3):Q(2)),Hn(this);var S=this.g.Z();this.X=S;t:if(On(this)){var B=Md(this.g);m="";var Z=B.length,oe=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),sr(this);var _e="";break t}this.h.i=new h.TextDecoder}for(x=0;x<Z;x++)this.h.h=!0,m+=this.h.i.decode(B[x],{stream:!(oe&&x==Z-1)});B.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Ce(this.i,this.u,this.A,this.l,this.R,yn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,gn=this.g;if((yt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(yt)){var vt=yt;break t}}vt=null}if(S=vt)Oe(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,S);else{this.o=!1,this.s=3,ee(12),Ke(this),sr(this);break e}}if(this.P){S=!0;let Pn;for(;!this.J&&this.C<_e.length;)if(Pn=Ss(this,_e),Pn==Br){yn==4&&(this.s=4,ee(14),S=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==rt){this.s=4,ee(15),Oe(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Oe(this.i,this.l,Pn,null),an(this,Pn);if(On(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||_e.length!=0||this.h.h||(this.s=1,ee(16),S=!1),this.o=this.o&&S,!S)Oe(this.i,this.l,_e,"[Invalid Chunked Response]"),Ke(this),sr(this);else if(0<_e.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),eo(Sn),Sn.M=!0,ee(11))}}else Oe(this.i,this.l,_e,null),an(this,_e);yn==4&&Ke(this),this.o&&!this.J&&(yn==4?Ld(this.j,this):(this.o=!1,wr(this)))}else qm(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ke(this),sr(this)}}}catch{}finally{}};function On(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ss(m,x){var S=m.C,B=x.indexOf(`
`,S);return B==-1?Br:(S=Number(x.substring(S,B)),isNaN(S)?rt:(B+=1,B+S>x.length?Br:(x=x.slice(B,B+S),m.C=B+S,x)))}Et.prototype.cancel=function(){this.J=!0,Ke(this)};function wr(m){m.S=Date.now()+m.I,Oi(m,m.I)}function Oi(m,x){if(m.B!=null)throw Error("WatchDog timer not null");m.B=xe(_(m.ba,m),x)}function Hn(m){m.B&&(h.clearTimeout(m.B),m.B=null)}Et.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(Q(),ee(17)),Ke(this),this.s=2,sr(this)):Oi(this,this.S-m)};function sr(m){m.j.G==0||m.J||Ld(m.j,m)}function Ke(m){Hn(m);var x=m.M;x&&typeof x.ma=="function"&&x.ma(),m.M=null,Me(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function an(m,x){try{var S=m.j;if(S.G!=0&&(S.g==m||Fr(S.h,m))){if(!m.K&&Fr(S.h,m)&&S.G==3){try{var B=S.Da.g.parse(x)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)Yo(S),Qo(S);else break e;Mc(S),ee(18)}}else S.za=Z[1],0<S.za-S.T&&37500>Z[2]&&S.F&&S.v==0&&!S.C&&(S.C=xe(_(S.Za,S),6e3));if(1>=Lt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ii(S,11)}else if((m.K||S.g==m)&&Yo(S),!E(x))for(Z=S.Da.g.parse(x),x=0;x<Z.length;x++){let vt=Z[x];if(S.T=vt[0],vt=vt[1],S.G==2)if(vt[0]=="c"){S.K=vt[1],S.ia=vt[2];const Sn=vt[3];Sn!=null&&(S.la=Sn,S.j.info("VER="+S.la));const yn=vt[4];yn!=null&&(S.Aa=yn,S.j.info("SVER="+S.Aa));const ai=vt[5];ai!=null&&typeof ai=="number"&&0<ai&&(B=1.5*ai,S.L=B,S.j.info("backChannelRequestTimeoutMs_="+B)),B=S;const Pn=m.g;if(Pn){const Os=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var oe=B.h;oe.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Js(oe,oe.h),oe.h=null))}if(B.D){const Dc=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dc&&(B.ya=Dc,Ot(B.I,B.D,Dc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),B=S;var _e=m;if(B.qa=zd(B,B.J?B.ia:null,B.W),_e.K){Dn(B.h,_e);var yt=_e,gn=B.L;gn&&(yt.I=gn),yt.B&&(Hn(yt),wr(yt)),B.g=_e}else Pd(B);0<S.i.length&&Ko(S)}else vt[0]!="stop"&&vt[0]!="close"||ii(S,7);else S.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?ii(S,7):Ic(S):vt[0]!="noop"&&S.l&&S.l.ta(vt),S.v=0)}}Q(4)}catch{}}var Er=class{constructor(m,x){this.g=m,this.map=x}};function hr(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Lt(m){return m.h?1:m.g?m.g.size:0}function Fr(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Js(m,x){m.g?m.g.add(x):m.h=x}function Dn(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}hr.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ec(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const S of m.g.values())x=x.concat(S.D);return x}return P(m.i)}function zm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var x=[],S=m.length,B=0;B<S;B++)x.push(m[B]);return x}x=[],S=0;for(B in m)x[S++]=m[B];return x}function Bo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var x=[];m=m.length;for(var S=0;S<m;S++)x.push(S);return x}x=[],S=0;for(const B in m)x[S++]=B;return x}}}function Tc(m,x){if(m.forEach&&typeof m.forEach=="function")m.forEach(x,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,x,void 0);else for(var S=Bo(m),B=zm(m),Z=B.length,oe=0;oe<Z;oe++)x.call(void 0,B[oe],S&&S[oe],m)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Um(m,x){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var B=m[S].indexOf("="),Z=null;if(0<=B){var oe=m[S].substring(0,B);Z=m[S].substring(B+1)}else oe=m[S];x(oe,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof on){this.h=m.h,$a(this,m.j),this.o=m.o,this.g=m.g,Di(this,m.s),this.l=m.l;var x=m.i,S=new ti;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),ei(this,S),this.m=m.m}else m&&(x=String(m).match(Ha))?(this.h=!1,$a(this,x[1]||"",!0),this.o=qr(x[2]||""),this.g=qr(x[3]||"",!0),Di(this,x[4]),this.l=qr(x[5]||"",!0),ei(this,x[6]||"",!0),this.m=qr(x[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}on.prototype.toString=function(){var m=[],x=this.j;x&&m.push(Qa(x,Sc,!0),":");var S=this.g;return(S||x=="file")&&(m.push("//"),(x=this.o)&&m.push(Qa(x,Sc,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Qa(S,S.charAt(0)=="/"?Bm:Ac,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Qa(S,Fo)),m.join("")};function Tr(m){return new on(m)}function $a(m,x,S){m.j=S?qr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Di(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function ei(m,x,S){x instanceof ti?(m.i=x,Id(m.i,m.h)):(S||(x=Qa(x,Fm)),m.i=new ti(x,m.h))}function Ot(m,x,S){m.i.set(x,S)}function Ga(m){return Ot(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qa(m,x,S){return typeof m=="string"?(m=encodeURI(m).replace(x,Rd),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Rd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Sc=/[#\/\?@]/g,Ac=/[#\?:]/g,Bm=/[#\?]/g,Fm=/[#\?@]/g,Fo=/#/g;function ti(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Hr(m){m.g||(m.g=new Map,m.h=0,m.i&&Um(m.i,function(x,S){m.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=ti.prototype,n.add=function(m,x){Hr(this),this.i=null,m=Ns(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(x),this.h+=1,this};function ni(m,x){Hr(m),x=Ns(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function ri(m,x){return Hr(m),x=Ns(m,x),m.g.has(x)}n.forEach=function(m,x){Hr(this),this.g.forEach(function(S,B){S.forEach(function(Z){m.call(x,Z,B,this)},this)},this)},n.na=function(){Hr(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let B=0;B<x.length;B++){const Z=m[B];for(let oe=0;oe<Z.length;oe++)S.push(x[B])}return S},n.V=function(m){Hr(this);let x=[];if(typeof m=="string")ri(this,m)&&(x=x.concat(this.g.get(Ns(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)x=x.concat(m[S])}return x},n.set=function(m,x){return Hr(this),this.i=null,m=Ns(this,m),ri(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=this.V(m),0<m.length?String(m[0]):x):x};function Nc(m,x,S){ni(m,x),0<S.length&&(m.i=null,m.g.set(Ns(m,x),P(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var B=x[S];const oe=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var Z=oe;_e[B]!==""&&(Z+="="+encodeURIComponent(String(_e[B]))),m.push(Z)}}return this.i=m.join("&")};function Ns(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Id(m,x){x&&!m.j&&(Hr(m),m.i=null,m.g.forEach(function(S,B){var Z=B.toLowerCase();B!=Z&&(ni(this,B),Nc(this,Z,S))},m)),m.j=x}function Ka(m,x){const S=new Ne;if(h.Image){const B=new Image;B.onload=T($r,S,"TestLoadImage: loaded",!0,x,B),B.onerror=T($r,S,"TestLoadImage: error",!1,x,B),B.onabort=T($r,S,"TestLoadImage: abort",!1,x,B),B.ontimeout=T($r,S,"TestLoadImage: timeout",!1,x,B),h.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else x(!1)}function as(m,x){const S=new Ne,B=new AbortController,Z=setTimeout(()=>{B.abort(),$r(S,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:B.signal}).then(oe=>{clearTimeout(Z),oe.ok?$r(S,"TestPingServer: ok",!0,x):$r(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),$r(S,"TestPingServer: error",!1,x)})}function $r(m,x,S,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(S)}catch{}}function Ya(){this.g=new ht}function Cs(m,x,S){const B=S||"";try{Tc(m,function(Z,oe){let _e=Z;p(Z)&&(_e=je(Z)),x.push(B+oe+"="+encodeURIComponent(_e))})}catch(Z){throw x.push(B+"type="+encodeURIComponent("_badmap")),Z}}function Pi(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Pi,qt),Pi.prototype.g=function(){return new si(this.l,this.j)},Pi.prototype.i=function(m){return function(){return m}}({});function si(m,x){gt.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(si,gt),n=si.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,Is(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||h).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Rs(this):Is(this),this.readyState==3&&Cc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Rs(this))},n.Qa=function(m){this.g&&(this.response=m,Rs(this))},n.ga=function(){this.g&&Rs(this)};function Rs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Is(m)}n.setRequestHeader=function(m,x){this.u.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=x.next();return m.join(`\r
`)};function Is(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Rc(m){let x="";return k(m,function(S,B){x+=B,x+=":",x+=S,x+=`\r
`}),x}function Tn(m,x,S){e:{for(B in S){var B=!1;break e}B=!0}B||(S=Rc(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):Ot(m,x,S))}function Nt(m){gt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Nt,gt);var qo=/^https?$/i,Xa=["POST","PUT"];n=Nt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,x,S,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?sn(this.o):sn(at),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(oe){jd(this,oe);return}if(m=S||"",S=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)S.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const oe of B.keys())S.set(oe,B.get(oe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(S.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xa,x,void 0))||B||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,_e]of S)this.g.setRequestHeader(oe,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(m),this.u=!1}catch(oe){jd(this,oe)}};function jd(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,Ho(m),js(m)}function Ho(m){m.A||(m.A=!0,We(m,"complete"),We(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,We(this,"complete"),We(this,"abort"),js(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$o(this):this.bb())},n.bb=function(){$o(this)};function $o(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Gr(m)!=4||m.Z()!=2)){if(m.u&&Gr(m)==4)Gt(m.Ea,0,m);else if(We(m,"readystatechange"),Gr(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var B;if(B=_e===0){var Z=String(m.D).match(Ha)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),B=!qo.test(Z?Z.toLowerCase():"")}S=B}if(S)We(m,"complete"),We(m,"success");else{m.m=6;try{var oe=2<Gr(m)?m.g.statusText:""}catch{oe=""}m.l=oe+" ["+m.Z()+"]",Ho(m)}}finally{js(m)}}}}function js(m,x){if(m.g){Wa(m);const S=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||We(m,"ready");try{S.onreadystatechange=B}catch{}}}function Wa(m){m.I&&(h.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Gr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),Je(x)}};function Md(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qm(m){const x={};m=(m.g&&2<=Gr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(E(m[B]))continue;var S=F(m[B]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const oe=x[Z]||[];x[Z]=oe,oe.push(S)}L(x,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(m,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||x}function Go(m){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,m),this.cb=Za("retryDelaySeedMs",1e4,m),this.Wa=Za("forwardChannelMaxRetries",2,m),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new hr(m&&m.concurrentRequestLimit),this.Da=new Ya,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Go.prototype,n.la=8,n.G=1,n.connect=function(m,x,S,B){ee(0),this.W=m,this.H=x||{},S&&B!==void 0&&(this.H.OSID=S,this.H.OAID=B),this.F=this.X,this.I=zd(this,null,this.W),Ko(this)};function Ic(m){if(Od(m),m.G==3){var x=m.U++,S=Tr(m.I);if(Ot(S,"SID",m.K),Ot(S,"RID",x),Ot(S,"TYPE","terminate"),Ja(m,S),x=new Et(m,m.j,x),x.L=2,x.v=Ga(Tr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=x.v,S=!0),S||(x.g=Ud(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wr(x)}Vd(m)}function Qo(m){m.g&&(eo(m),m.g.cancel(),m.g=null)}function Od(m){Qo(m),m.u&&(h.clearTimeout(m.u),m.u=null),Yo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Ko(m){if(!As(m.h)&&!m.s){m.s=!0;var x=m.Ga;se||H(),ae||(se(),ae=!0),be.add(x,m),m.B=0}}function Hm(m,x){return Lt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=x.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=xe(_(m.Ga,m,x),Oc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new Et(this,this.j,m);let oe=this.o;if(this.S&&(oe?(oe=M(oe),V(oe,this.S)):oe=this.S),this.m!==null||this.O||(Z.H=oe,oe=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var B=this.i[S];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(x+=B,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Dd(this,Z,x),S=Tr(this.I),Ot(S,"RID",m),Ot(S,"CVER",22),this.D&&Ot(S,"X-HTTP-Session-Id",this.D),Ja(this,S),oe&&(this.O?x="headers="+encodeURIComponent(String(Rc(oe)))+"&"+x:this.m&&Tn(S,this.m,oe)),Js(this.h,Z),this.Ua&&Ot(S,"TYPE","init"),this.P?(Ot(S,"$req",x),Ot(S,"SID","null"),Z.T=!0,pn(Z,S,null)):pn(Z,S,x),this.G=2}}else this.G==3&&(m?jc(this,m):this.i.length==0||As(this.h)||jc(this))};function jc(m,x){var S;x?S=x.l:S=m.U++;const B=Tr(m.I);Ot(B,"SID",m.K),Ot(B,"RID",S),Ot(B,"AID",m.T),Ja(m,B),m.m&&m.o&&Tn(B,m.m,m.o),S=new Et(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),x&&(m.i=x.D.concat(m.i)),x=Dd(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Js(m.h,S),pn(S,B,x)}function Ja(m,x){m.H&&k(m.H,function(S,B){Ot(x,B,S)}),m.l&&Tc({},function(S,B){Ot(x,B,S)})}function Dd(m,x,S){S=Math.min(m.i.length,S);var B=m.l?_(m.l.Na,m.l,m):null;e:{var Z=m.i;let oe=-1;for(;;){const _e=["count="+S];oe==-1?0<S?(oe=Z[0].g,_e.push("ofs="+oe)):oe=0:_e.push("ofs="+oe);let yt=!0;for(let gn=0;gn<S;gn++){let vt=Z[gn].g;const Sn=Z[gn].map;if(vt-=oe,0>vt)oe=Math.max(0,Z[gn].g-100),yt=!1;else try{Cs(Sn,_e,"req"+vt+"_")}catch{B&&B(Sn)}}if(yt){B=_e.join("&");break e}}}return m=m.i.splice(0,S),x.D=m,B}function Pd(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;se||H(),ae||(se(),ae=!0),be.add(x,m),m.v=0}}function Mc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=xe(_(m.Fa,m),Oc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=xe(_(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Qo(this),kd(this))};function eo(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function kd(m){m.g=new Et(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var x=Tr(m.qa);Ot(x,"RID","rpc"),Ot(x,"SID",m.K),Ot(x,"AID",m.T),Ot(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ot(x,"TO",m.ja),Ot(x,"TYPE","xmlhttp"),Ja(m,x),m.m&&m.o&&Tn(x,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=Ga(Tr(x)),S.m=null,S.P=!0,rr(S,m)}n.Za=function(){this.C!=null&&(this.C=null,Qo(this),Mc(this),ee(19))};function Yo(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Ld(m,x){var S=null;if(m.g==x){Yo(m),eo(m),m.g=null;var B=2}else if(Fr(m.h,x))S=x.D,Dn(m.h,x),B=1;else return;if(m.G!=0){if(x.o)if(B==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Z=m.B;B=_r(),We(B,new fe(B,S)),Ko(m)}else Pd(m);else if(Z=x.s,Z==3||Z==0&&0<x.X||!(B==1&&Hm(m,x)||B==2&&Mc(m)))switch(S&&0<S.length&&(x=m.h,x.i=x.i.concat(S)),Z){case 1:ii(m,5);break;case 4:ii(m,10);break;case 3:ii(m,6);break;default:ii(m,2)}}}function Oc(m,x){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*x}function ii(m,x){if(m.j.info("Error code "+x),x==2){var S=_(m.fb,m),B=m.Xa;const Z=!B;B=new on(B||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$a(B,"https"),Ga(B),Z?Ka(B.toString(),S):as(B.toString(),S)}else ee(2);m.G=0,m.l&&m.l.sa(x),Vd(m),Od(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Vd(m){if(m.G=0,m.ka=[],m.l){const x=Ec(m.h);(x.length!=0||m.i.length!=0)&&(R(m.ka,x),R(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function zd(m,x,S){var B=S instanceof on?Tr(S):new on(S);if(B.g!="")x&&(B.g=x+"."+B.g),Di(B,B.s);else{var Z=h.location;B=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;var oe=new on(null);B&&$a(oe,B),x&&(oe.g=x),Z&&Di(oe,Z),S&&(oe.l=S),B=oe}return S=m.D,x=m.ya,S&&x&&Ot(B,S,x),Ot(B,"VER",m.la),Ja(m,B),B}function Ud(m,x,S){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Ca&&!m.pa?new Nt(new Pi({eb:S})):new Nt(m.pa),x.Ha(m.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bd(){}n=Bd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xo(){}Xo.prototype.g=function(m,x){return new ir(m,x)};function ir(m,x){gt.call(this),this.g=new Go(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!E(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!E(x)&&(this.g.D=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Ms(this)}A(ir,gt),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Ic(this.g)},ir.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=je(m),m=S);x.i.push(new Er(x.Ya++,m)),x.G==3&&Ko(x)},ir.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,ir.aa.N.call(this)};function Fd(m){qn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const S in x){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}A(Fd,qn);function qd(){Mn.call(this),this.status=1}A(qd,Mn);function Ms(m){this.g=m}A(Ms,Bd),Ms.prototype.ua=function(){We(this.g,"a")},Ms.prototype.ta=function(m){We(this.g,new Fd(m))},Ms.prototype.sa=function(m){We(this.g,new qd)},Ms.prototype.ra=function(){We(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,kT=function(){return new Xo},PT=function(){return _r()},DT=Qt,R0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,df=De,Fe.COMPLETE="complete",OT=Fe,nr.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Mu=nr,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,MT=Nt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore",Uw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Cy("@firebase/firestore");function Nl(){return jo.logLevel}function Ae(n,...e){if(jo.logLevel<=ut.DEBUG){const t=e.map(jy);jo.debug(`Firestore (${gc}): ${n}`,...t)}}function Ni(n,...e){if(jo.logLevel<=ut.ERROR){const t=e.map(jy);jo.error(`Firestore (${gc}): ${n}`,...t)}}function ic(n,...e){if(jo.logLevel<=ut.WARN){const t=e.map(jy);jo.warn(`Firestore (${gc}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LT(n,r,t)}function LT(n,e,t){let r=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ni(r),new Error(r)}function Rt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||LT(e,a,r)}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class yj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new VT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class bj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _j{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Bw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=wj(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function I0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=zT(),u=Ej(o.encode(Fw(n,t)),o.encode(Fw(e,t)));return u!==0?u:nt(r,a)}}t+=r>65535?2:1}return nt(n.length,e.length)}function Fw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ej(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return nt(n[t],e[t]);return nt(n.length,e.length)}function ac(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Hw=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Hw);return new xn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qw)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new xn(0,0))}static max(){return new Ye(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__name__";class zs{constructor(e,t,r){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return nt(e.length,t.length)}static compareSegments(e,t){const r=zs.isNumericId(e),a=zs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zs.extractNumericId(e).compare(zs.extractNumericId(t)):I0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class Bt extends zs{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const Tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends zs{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return Tj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$w}static keyField(){return new Bn([$w])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function Sj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new ja(a,Le.empty(),e)}function Aj(n){return new ja(n.readTime,n.key,Yu)}class ja{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ja(Ye.min(),Le.empty(),Yu)}static max(){return new ja(Ye.max(),Le.empty(),Yu)}}function Nj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Cj)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(y=>{u[p]=y,++h,h===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function Ij(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}um.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function dm(n){return n==null}function Of(n){return n===0&&1/n==-1/0}function jj(n){return typeof n=="number"&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="";function Mj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gw(e)),e=Oj(n.get(t),e);return Gw(e)}function Oj(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case BT:t+="";break;default:t+=o}}return t}function Gw(n){return n+BT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??zn.RED,this.left=a??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new zn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new kr([])}unionWith(e){let t=new _n(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qT("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(n){if(Rt(!!n,39018),typeof n=="string"){let e=0;const t=Dj.exec(n);if(Rt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oa(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="server_timestamp",$T="__type__",GT="__previous_value__",QT="__local_write_time__";function hm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||t===void 0?void 0:t.stringValue)===HT}function fm(n){const e=n.mapValue.fields[GT];return hm(e)?fm(e):e}function Xu(n){const e=Ma(n.mapValue.fields[QT].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t,r,a,o,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Df="(default)";class Wu{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__type__",kj="__max__",Xh={mapValue:{}},YT="__vector__",Pf="value";function Da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hm(n)?4:Vj(n)?9007199254740991:Lj(n)?10:11:$e(28295,{value:n})}function Ys(n,e){if(n===e)return!0;const t=Da(n);if(t!==Da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xu(n).isEqual(Xu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ma(a.timestampValue),h=Ma(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Oa(a.bytesValue).isEqual(Oa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return nn(a.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(a.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return nn(a.integerValue)===nn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=nn(a.doubleValue),h=nn(o.doubleValue);return u===h?Of(u)===Of(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ac(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Qw(u)!==Qw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ys(u[f],h[f])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function Zu(n,e){return(n.values||[]).find(t=>Ys(t,e))!==void 0}function oc(n,e){if(n===e)return 0;const t=Da(n),r=Da(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=nn(o.integerValue||o.doubleValue),f=nn(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Yw(n.timestampValue,e.timestampValue);case 4:return Yw(Xu(n),Xu(e));case 5:return I0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Oa(o),f=Oa(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=nt(h[p],f[p]);if(y!==0)return y}return nt(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=nt(nn(o.latitude),nn(u.latitude));return h!==0?h:nt(nn(o.longitude),nn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xw(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,p,y;const b=o.fields||{},_=u.fields||{},T=(h=b[Pf])===null||h===void 0?void 0:h.arrayValue,A=(f=_[Pf])===null||f===void 0?void 0:f.arrayValue,P=nt(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:Xw(T,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Xh.mapValue&&u===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(u===Xh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const _=I0(f[b],y[b]);if(_!==0)return _;const T=oc(h[f[b]],p[y[b]]);if(T!==0)return T}return nt(f.length,y.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function Yw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=Ma(n),r=Ma(e),a=nt(t.seconds,r.seconds);return a!==0?a:nt(t.nanos,r.nanos)}function Xw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=oc(t[a],r[a]);if(o)return o}return nt(t.length,r.length)}function lc(n){return j0(n)}function j0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ma(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=j0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${j0(t.fields[u])}`;return a+"}"}(n.mapValue):$e(61005,{value:n})}function hf(n){switch(Da(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(n);return e?16+hf(e):16;case 5:return 2*n.stringValue.length;case 6:return Oa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+hf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Ua(r.fields,(o,u)=>{a+=o.length+hf(u)}),a}(n.mapValue);default:throw $e(13486,{value:n})}}function kf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function M0(n){return!!n&&"integerValue"in n}function Oy(n){return!!n&&"arrayValue"in n}function Ww(n){return!!n&&"nullValue"in n}function Zw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function Lj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||t===void 0?void 0:t.stringValue)===YT}function Uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ua(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Uu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Vj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Bn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=Uu(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ua(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new br(Uu(this.value))}}function XT(n){const e=[];return Ua(n.fields,(t,r)=>{const a=new Bn([t]);if(ff(r)){const o=XT(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Xn(e,0,Ye.min(),Ye.min(),Ye.min(),br.empty(),0)}static newFoundDocument(e,t,r,a){return new Xn(e,1,t,Ye.min(),r,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ye.min(),Ye.min(),br.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ye.min(),Ye.min(),br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.position=e,this.inclusive=t}}function Jw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),t.key):r=oc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function e1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{}class dn extends WT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Bj(e,t,r):t==="array-contains"?new Hj(e,r):t==="in"?new $j(e,r):t==="not-in"?new Gj(e,r):t==="array-contains-any"?new Qj(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Fj(e,r):new qj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oc(t,this.value)):t!==null&&Da(this.value)===Da(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends WT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return ZT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZT(n){return n.op==="and"}function JT(n){return Uj(n)&&ZT(n)}function Uj(n){for(const e of n.filters)if(e instanceof ys)return!1;return!0}function O0(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(JT(n))return n.filters.map(e=>O0(e)).join(",");{const e=n.filters.map(t=>O0(t)).join(",");return`${n.op}(${e})`}}function eS(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&Ys(r.value,a.value)}(n,e):n instanceof ys?function(r,a){return a instanceof ys&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&eS(u,a.filters[h]),!0):!1}(n,e):void $e(19439)}function tS(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(n):n instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"}(n):"Filter"}class Bj extends dn{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fj extends dn{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qj extends dn{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Le.fromName(r.referenceValue))}class Hj extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oy(t)&&Zu(t.arrayValue,this.value)}}class $j extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zu(this.value.arrayValue,t)}}class Gj extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zu(this.value.arrayValue,t)}}class Qj extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function t1(n,e=null,t=[],r=[],a=null,o=null,u=null){return new Kj(n,e,t,r,a,o,u)}function Dy(n){const e=Xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>O0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),e.Ie=t}return e.Ie}function Py(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!e1(n.startAt,e.startAt)&&e1(n.endAt,e.endAt)}function D0(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yj(n,e,t,r,a,o,u,h){return new Lo(n,e,t,r,a,o,u,h)}function mm(n){return new Lo(n)}function n1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ky(n){return n.collectionGroup!==null}function Vl(n){const e=Xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new _n(Bn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ju(o,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new Ju(Bn.keyField(),r))}return e.Ee}function Hs(n){const e=Xe(n);return e.de||(e.de=Xj(e,Vl(n))),e.de}function Xj(n,e){if(n.limitType==="F")return t1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Ju(a.field,o)});const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return t1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function P0(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lf(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return Py(Hs(n),Hs(e))&&n.limitType===e.limitType}function rS(n){return`${Dy(Hs(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>tS(a)).join(", ")}]`),dm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>lc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>lc(a)).join(",")),`Target(${r})`}(Hs(n))}; limitType=${n.limitType})`}function gm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Vl(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const p=Jw(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Vl(r),a)||r.endAt&&!function(u,h,f){const p=Jw(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Vl(r),a))}(n,e)}function Wj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sS(n){return(e,t)=>{let r=!1;for(const a of Vl(n)){const o=Zj(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function Zj(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?oc(f,p):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new Yt(Le.comparator);function Ci(){return Jj}const iS=new Yt(Le.comparator);function Ou(...n){let e=iS;for(const t of n)e=e.insert(t.key,t);return e}function aS(n){let e=iS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xo(){return Bu()}function oS(){return Bu()}function Bu(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const e3=new Yt(Le.comparator),t3=new _n(Le.comparator);function dt(...n){let e=t3;for(const t of n)e=e.add(t);return e}const n3=new _n(nt);function r3(){return n3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function lS(n){return{integerValue:""+n}}function s3(n,e){return jj(e)?lS(e):Ly(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function i3(n,e,t){return n instanceof ed?function(a,o){const u={fields:{[$T]:{stringValue:HT},[QT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&hm(o)&&(o=fm(o)),o&&(u.fields[GT]=o),{mapValue:u}}(t,e):n instanceof uc?uS(n,e):n instanceof td?dS(n,e):function(a,o){const u=cS(a,o),h=r1(u)+r1(a.Re);return M0(u)&&M0(a.Re)?lS(h):Ly(a.serializer,h)}(n,e)}function a3(n,e,t){return n instanceof uc?uS(n,e):n instanceof td?dS(n,e):t}function cS(n,e){return n instanceof Vf?function(r){return M0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ed extends ym{}class uc extends ym{constructor(e){super(),this.elements=e}}function uS(n,e){const t=hS(e);for(const r of n.elements)t.some(a=>Ys(a,r))||t.push(r);return{arrayValue:{values:t}}}class td extends ym{constructor(e){super(),this.elements=e}}function dS(n,e){let t=hS(e);for(const r of n.elements)t=t.filter(a=>!Ys(a,r));return{arrayValue:{values:t}}}class Vf extends ym{constructor(e,t){super(),this.serializer=e,this.Re=t}}function r1(n){return nn(n.integerValue||n.doubleValue)}function hS(n){return Oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.field=e,this.transform=t}}function o3(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof uc&&a instanceof uc||r instanceof td&&a instanceof td?ac(r.elements,a.elements,Ys):r instanceof Vf&&a instanceof Vf?Ys(r.Re,a.Re):r instanceof ed&&a instanceof ed}(n.transform,e.transform)}class l3{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let vm=class{};function mS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vy(n.key,ns.none()):new vd(n.key,n.data,ns.none());{const t=n.data,r=br.empty();let a=new _n(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ba(n.key,r,new kr(a.toArray()),ns.none())}}function c3(n,e,t){n instanceof vd?function(a,o,u){const h=a.value.clone(),f=i1(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ba?function(a,o,u){if(!mf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=i1(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(pS(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fu(n,e,t,r){return n instanceof vd?function(o,u,h,f){if(!mf(o.precondition,u))return h;const p=o.value.clone(),y=a1(o.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ba?function(o,u,h,f){if(!mf(o.precondition,u))return h;const p=a1(o.fieldTransforms,f,u),y=u.data;return y.setAll(pS(o)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,h){return mf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function u3(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=cS(r.transform,a||null);o!=null&&(t===null&&(t=br.empty()),t.set(r.field,o))}return t||null}function s1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ac(r,a,(o,u)=>o3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vd extends vm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ba extends vm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i1(n,e,t){const r=new Map;Rt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,a3(u,h,t[a]))}return r}function a1(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,i3(o,u,e))}return r}class Vy extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d3 extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&c3(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oS();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=mS(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dt())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(t,r)=>s1(t,r))&&ac(this.baseMutations,e.baseMutations,(t,r)=>s1(t,r))}}class zy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return e3}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new zy(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,xt;function p3(n){switch(n){case de.OK:return $e(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function gS(n){if(n===void 0)return Ni("GRPC error has no .code"),de.UNKNOWN;switch(n){case un.OK:return de.OK;case un.CANCELLED:return de.CANCELLED;case un.UNKNOWN:return de.UNKNOWN;case un.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case un.INTERNAL:return de.INTERNAL;case un.UNAVAILABLE:return de.UNAVAILABLE;case un.UNAUTHENTICATED:return de.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case un.NOT_FOUND:return de.NOT_FOUND;case un.ALREADY_EXISTS:return de.ALREADY_EXISTS;case un.PERMISSION_DENIED:return de.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case un.ABORTED:return de.ABORTED;case un.OUT_OF_RANGE:return de.OUT_OF_RANGE;case un.UNIMPLEMENTED:return de.UNIMPLEMENTED;case un.DATA_LOSS:return de.DATA_LOSS;default:return $e(39323,{code:n})}}(xt=un||(un={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new Aa([4294967295,4294967295],0);function o1(n){const e=zT().encode(n),t=new jT;return t.update(e),new Uint8Array(t.digest())}function l1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Aa([t,r],0),new Aa([a,o],0)]}class Uy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Du(`Invalid padding: ${t}`);if(r<0)throw new Du(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Du(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Du(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Aa.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Aa.fromNumber(r)));return a.compare(g3)===1&&(a=new Aa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=o1(e),[r,a]=l1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Uy(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=o1(e),[r,a]=l1(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new bm(Ye.min(),a,new Yt(nt),Ci(),dt())}}class bd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bd(r,t,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class yS{constructor(e,t){this.targetId=e,this.Ce=t}}class vS{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class c1{constructor(){this.Fe=0,this.Me=u1(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dt(),t=dt(),r=dt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:$e(38017,{changeType:o})}}),new bd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=u1()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class y3{constructor(e){this.ze=e,this.je=new Map,this.He=Ci(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new Yt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(D0(o))if(r===0){const u=new Le(o.path);this.tt(t,u,Xn.newNoDocument(u,Ye.min()))}else Rt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Oa(r).toUint8Array()}catch(f){if(f instanceof qT)return ic("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Uy(u,a,o)}catch(f){return ic(f instanceof Du?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&D0(h.target)){const f=new Le(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Xn.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=dt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new bm(e,t,this.Ze,this.He,r);return this.He=Ci(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new Yt(nt),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new c1,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _n(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _n(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new c1),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Wh(){return new Yt(Le.comparator)}function u1(){return new Yt(Le.comparator)}const v3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x3={and:"AND",or:"OR"};class _3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function k0(n,e){return n.useProto3Json||dm(e)?e:{value:e}}function zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w3(n,e){return zf(n,e.toTimestamp())}function $s(n){return Rt(!!n,49232),Ye.fromTimestamp(function(t){const r=Ma(t);return new xn(r.seconds,r.nanos)}(n))}function By(n,e){return L0(n,e).canonicalString()}function L0(n,e){const t=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xS(n){const e=Bt.fromString(n);return Rt(SS(e),10190,{key:e.toString()}),e}function V0(n,e){return By(n.databaseId,e.path)}function Zg(n,e){const t=xS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(wS(t))}function _S(n,e){return By(n.databaseId,e)}function E3(n){const e=xS(n);return e.length===4?Bt.emptyPath():wS(e)}function z0(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wS(n){return Rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function d1(n,e,t){return{name:V0(n,e),fields:t.value.mapValue.fields}}function T3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Rt(y===void 0||typeof y=="string",58123),Fn.fromBase64String(y||"")):(Rt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Fn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?de.UNKNOWN:gS(p.code);return new we(y,p.message||"")}(u);t=new vS(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Zg(n,r.document.name),o=$s(r.document.updateTime),u=r.document.createTime?$s(r.document.createTime):Ye.min(),h=new br({mapValue:{fields:r.document.fields}}),f=Xn.newFoundDocument(a,o,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];t=new pf(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Zg(n,r.document),o=r.readTime?$s(r.readTime):Ye.min(),u=Xn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new pf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Zg(n,r.document),o=r.removedTargetIds||[];t=new pf([],o,a,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new m3(a,o),h=r.targetId;t=new yS(h,u)}}return t}function S3(n,e){let t;if(e instanceof vd)t={update:d1(n,e.key,e.value)};else if(e instanceof Vy)t={delete:V0(n,e.key)};else if(e instanceof Ba)t={update:d1(n,e.key,e.data),updateMask:D3(e.fieldMask)};else{if(!(e instanceof d3))return $e(16599,{ft:e.type});t={verify:V0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof ed)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof td)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw $e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:w3(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(n,e.precondition)),t}function A3(n,e){return n&&n.length>0?(Rt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?$s(a.updateTime):$s(o);return u.isEqual(Ye.min())&&(u=$s(o)),new l3(u,a.transformResults||[])}(t,e))):[]}function N3(n,e){return{documents:[_S(n,e.path)]}}function C3(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_S(n,a);const o=function(p){if(p.length!==0)return TS(ys.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Rl(_.field),direction:j3(_.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=k0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function R3(n){let e=E3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Rt(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(b){const _=ES(b);return _ instanceof ys&&JT(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(A){return new Ju(Il(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let h=null;t.limit&&(h=function(b){let _;return _=typeof b=="object"?b.value:b,dm(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(b){const _=!!b.before,T=b.values||[];return new cc(T,_)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const _=!b.before,T=b.values||[];return new cc(T,_)}(t.endAt)),Yj(e,a,u,o,h,"F",f,p)}function I3(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ES(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Il(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Il(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Il(t.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Il(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(r=>ES(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function j3(n){return v3[n]}function M3(n){return b3[n]}function O3(n){return x3[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Il(n){return Bn.fromServerFormat(n.fieldPath)}function TS(n){return n instanceof dn?function(t){if(t.op==="=="){if(Zw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(Ww(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zw(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(Ww(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:M3(t.op),value:t.value}}}(n):n instanceof ys?function(t){const r=t.getFilters().map(a=>TS(a));return r.length===1?r[0]:{compositeFilter:{op:O3(t.op),filters:r}}}(n):$e(54877,{filter:n})}function D3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,r,a,o=Ye.min(),u=Ye.min(),h=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.wt=e}}function k3(n){const e=R3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.yn=new V3}addToCollectionParentIndex(e,t){return this.yn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(ja.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class V3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new _n(Bt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new _n(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(AS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new dc(0)}static ir(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="LruGarbageCollector",z3=1048576;function m1([n,e],[t,r]){const a=nt(n,t);return a===0?nt(e,r):a}class U3{constructor(e){this.cr=e,this.buffer=new _n(m1),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();m1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class B3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(f1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vc(t)?Ae(f1,"Ignoring IndexedDB error during garbage collection: ",t):await yc(t)}await this.Ir(3e5)})}}class F3{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(um.le);const r=new U3(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(h1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(r=b,h=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),Nl()<=ut.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function q3(n,e){return new F3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Fu(r.mutation,a,kr.empty(),xn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dt()){const a=xo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=Ou();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=Ci();const u=Bu(),h=function(){return Bu()}();return t.forEach((f,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ba)?o=o.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Fu(y.mutation,p,y.mutation.getFieldMask(),xn.now())):u.set(p.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>{var b;return h.set(p,new $3(y,(b=u.get(p))!==null&&b!==void 0?b:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Bu();let a=new Yt((u,h)=>u-h),o=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=r.get(f)||kr.empty();y=h.applyToLocalView(p,y),r.set(f,y);const b=(a.get(h.batchId)||dt()).add(f);a=a.insert(h.batchId,b)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,b=oS();y.forEach(_=>{if(!o.has(_)){const T=mS(t.get(_),r.get(_));T!==null&&b.set(_,T),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return pe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ky(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(xo());let h=Yu,f=o;return u.next(p=>pe.forEach(p,(y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{f=f.insert(y,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,dt())).next(y=>({batchId:h,changes:aS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(r=>{let a=Ou();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Ou();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,f=>{const p=function(b,_){return new Lo(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Xn.newInvalidDocument(y)))});let h=Ou();return u.forEach((f,p)=>{const y=o.get(f);y!==void 0&&Fu(y.mutation,p,kr.empty(),xn.now()),gm(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:$s(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:k3(a.bundledQuery),readTime:$s(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.overlays=new Yt(Le.comparator),this.Or=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=xo(),o=t.length+1,u=new Le(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Yt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=xo(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=xo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return pe.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new f3(t,r));let o=this.Or.get(t);o===void 0&&(o=dt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Nr=new _n(Rn.Br),this.Lr=new _n(Rn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Rn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Le(new Bt([])),r=new Rn(t,e),a=new Rn(t,e+1);let o=dt();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Rn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Le.comparator(e.key,t.key)||nt(e.Gr,t.Gr)}static kr(e,t){return nt(e.Gr,t.Gr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new _n(Rn.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new h3(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new Rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?My:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),a=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const h=this.jr(u.Gr);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(nt);return t.forEach(a=>{const o=new Rn(a,0),u=new Rn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),pe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new Rn(new Le(o),0);let h=new _n(nt);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Gr)),!0)},u),pe.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Rt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return pe.forEach(t.mutations,a=>{const o=new Rn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Rn(t,0),a=this.zr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.Zr=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Ci();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ci();const u=t.path,h=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Nj(Aj(y),r)<=0||(a.has(y.key)||gm(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){$e(9500)}Xr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Z3(this)}getSize(e){return pe.resolve(this.size)}}class Z3 extends H3{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.persistence=e,this.ei=new Vo(t=>Dy(t),Py),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new Fy,this.targetCount=0,this.ri=dc.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),pe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.ar(t),pe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t){this.ii={},this.overlays={},this.si=new um(0),this.oi=!1,this.oi=!0,this._i=new Y3,this.referenceDelegate=e(this),this.ai=new J3(this),this.indexManager=new L3,this.remoteDocumentCache=function(a){return new W3(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new P3(t),this.ci=new Q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new X3(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new eM(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return pe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class eM extends Rj{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.Ti=new Fy,this.Ii=null}static Ei(e){return new qy(e)}get di(){if(this.Ii)return this.Ii;throw $e(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,r=>{const a=Le.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return pe.or([()=>pe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.Ri=new Vo(r=>Mj(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=q3(this,t)}static Ei(e,t){return new Uf(e,t)}li(){}hi(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return pe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),pe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hf(e.data.value)),t}gr(e,t,r){return pe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=dt(),a=dt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Hy(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ZI()?8:Ij(Zn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new tM;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Nl()<=ut.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Nl()<=ut.DEBUG&&Ae("QueryEngine","Query:",Cl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Nl()<=ut.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(t))):pe.resolve())}Rs(e,t){if(n1(t))return pe.resolve(null);let r=Hs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Lf(t,null,"F"),r=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=dt(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,h);return this.ys(t,p,u,f.readTime)?this.Rs(e,Lf(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,a){return n1(t)||a.isEqual(Ye.min())?pe.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,a)?pe.resolve(null):(Nl()<=ut.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Cl(t)),this.ws(e,u,t,Sj(a,Yu)).next(h=>h))})}ps(e,t){let r=new _n(sS(e));return t.forEach((a,o)=>{gm(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Nl()<=ut.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.As.getDocumentsMatchingQuery(e,t,ja.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",rM=3e8;class sM{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Yt(nt),this.Ds=new Vo(o=>Dy(o),Py),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G3(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function iM(n,e,t,r){return new sM(n,e,t,r)}async function CS(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=dt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of o){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function aM(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const b=p.batch,_=b.keys();let T=pe.resolve();return _.forEach(A=>{T=T.next(()=>y.getEntry(f,A)).next(P=>{const R=p.docVersions.get(A);Rt(R!==null,48541),P.version.compareTo(R)<0&&(b.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=dt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function RS(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function oM(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,b)=>{const _=a.get(b);if(!_)return;h.push(t.ai.removeMatchingKeys(o,y.removedDocuments,b).next(()=>t.ai.addMatchingKeys(o,y.addedDocuments,b)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(Fn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),a=a.insert(b,T),function(P,R,C){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=rM?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,T,y)&&h.push(t.ai.updateTargetData(o,T))});let f=Ci(),p=dt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(lM(o,u,e.documentUpdates).next(y=>{f=y.xs,p=y.Os})),!r.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(o).next(b=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return pe.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ss=a,o))}function lM(n,e,t){let r=dt(),a=dt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Ci();return t.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ae($y,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:a}})}function cM(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=My),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uM(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.ai.allocateTargetId(r).next(u=>(a=new ba(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function U0(n,e,t){const r=Xe(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!vc(u))throw u;Ae($y,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function p1(n,e,t){const r=Xe(n);let a=Ye.min(),o=dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const b=Xe(f),_=b.Ds.get(y);return _!==void 0?pe.resolve(b.Ss.get(_)):b.ai.getTargetData(p,y)}(r,u,Hs(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?a:Ye.min(),t?o:dt())).next(h=>(dM(r,Wj(e),h),{documents:h,Ns:o})))}function dM(n,e,t){let r=n.vs.get(e)||Ye.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class g1{constructor(){this.activeTargetIds=r3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hM{constructor(){this.So=new g1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new g1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="ConnectivityMonitor";class v1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(y1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function B0(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="RestConnection",mM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Df?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const u=B0(),h=this.$o(e,t.toUriEncodedString());Ae(Jg,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(e,h,f,r).then(p=>(Ae(Jg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw ic(Jg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,t,r,a,o,u){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=mM[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class yM extends pM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const o=B0();return new Promise((u,h)=>{const f=new MT;f.setWithCredentials(!0),f.listenOnce(OT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case df.NO_ERROR:const y=f.getResponseJson();Ae(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case df.TIMEOUT:Ae(Qn,`RPC '${e}' ${o} timed out`),h(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const b=f.getStatus();if(Ae(Qn,`RPC '${e}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const A=function(R){const C=R.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN}(T.status);h(new we(A,T.message))}else h(new we(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new we(de.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{s_:e,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{Ae(Qn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae(Qn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",p,r,15)})}a_(e,t,r){const a=B0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kT(),h=PT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ae(Qn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const b=u.createWebChannel(y,f);let _=!1,T=!1;const A=new gM({Go:R=>{T?Ae(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(_||(Ae(Qn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Ae(Qn,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},zo:()=>b.close()}),P=(R,C,E)=>{R.listen(C,w=>{try{E(w)}catch(O){setTimeout(()=>{throw O},0)}})};return P(b,Mu.EventType.OPEN,()=>{T||(Ae(Qn,`RPC '${e}' stream ${a} transport opened.`),A.t_())}),P(b,Mu.EventType.CLOSE,()=>{T||(T=!0,Ae(Qn,`RPC '${e}' stream ${a} transport closed`),A.r_())}),P(b,Mu.EventType.ERROR,R=>{T||(T=!0,ic(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),A.r_(new we(de.UNAVAILABLE,"The operation could not be completed")))}),P(b,Mu.EventType.MESSAGE,R=>{var C;if(!T){const E=R.data[0];Rt(!!E,16349);const w=E,O=(w==null?void 0:w.error)||((C=w[0])===null||C===void 0?void 0:C.error);if(O){Ae(Qn,`RPC '${e}' stream ${a} received error:`,O);const z=O.status;let k=function(I){const V=un[I];if(V!==void 0)return gS(V)}(z),L=O.message;k===void 0&&(k=de.INTERNAL,L="Unknown error status: "+z+" with message "+O.message),T=!0,A.r_(new we(k,L)),b.close()}else Ae(Qn,`RPC '${e}' stream ${a} received:`,E),A.i_(E)}}),P(h,DT.STAT_EVENT,R=>{R.stat===R0.PROXY?Ae(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===R0.NOPROXY&&Ae(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function e0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n){return new _3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="PersistentStream";class jS{constructor(e,t,r,a,o,u,h,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new IS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ni(t.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new we(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(b1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ae(b1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vM extends jS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=T3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ye.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?$s(u.readTime):Ye.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=z0(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=D0(f)?{documents:N3(o,f)}:{query:C3(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=bS(o,u.resumeToken);const p=k0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ye.min())>0){h.readTime=zf(o,u.snapshotVersion.toTimestamp());const p=k0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=I3(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=z0(this.serializer),t.removeTarget=e,this.F_(t)}}class bM extends jS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=A3(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=z0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{}class _M extends xM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,L0(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(de.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,L0(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(de.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class wM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ni(t),this.ea=!1):Ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class EM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{zo(this)&&(Ae(Mo,"Restarting streams for network reachability change."),await async function(f){const p=Xe(f);p.aa.add(4),await xd(p),p.la.set("Unknown"),p.aa.delete(4),await _m(p)}(this))})}),this.la=new wM(r,a)}}async function _m(n){if(zo(n))for(const e of n.ua)await e(!0)}async function xd(n){for(const e of n.ua)await e(!1)}function MS(n,e){const t=Xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Yy(t)?Ky(t):bc(t).b_()&&Qy(t,e))}function Gy(n,e){const t=Xe(n),r=bc(t);t._a.delete(e),r.b_()&&OS(t,e),t._a.size===0&&(r.b_()?r.v_():zo(t)&&t.la.set("Unknown"))}function Qy(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bc(n).U_(e)}function OS(n,e){n.ha.Ke(e),bc(n).K_(e)}function Ky(n){n.ha=new y3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),bc(n).start(),n.la.ta()}function Yy(n){return zo(n)&&!bc(n).w_()&&n._a.size>0}function zo(n){return Xe(n).aa.size===0}function DS(n){n.ha=void 0}async function TM(n){n.la.set("Online")}async function SM(n){n._a.forEach((e,t)=>{Qy(n,e)})}async function AM(n,e){DS(n),Yy(n)?(n.la.ia(e),Ky(n)):n.la.set("Unknown")}async function NM(n,e,t){if(n.la.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(r){Ae(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(n,r)}else if(e instanceof pf?n.ha.Xe(e):e instanceof yS?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ye.min()))try{const r=await RS(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(p);y&&o._a.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Fn.EMPTY_BYTE_STRING,y.snapshotVersion)),OS(o,f);const b=new ba(y.target,f,p,y.sequenceNumber);Qy(o,b)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ae(Mo,"Failed to raise snapshot:",r),await Bf(n,r)}}async function Bf(n,e,t){if(!vc(e))throw e;n.aa.add(1),await xd(n),n.la.set("Offline"),t||(t=()=>RS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Mo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await _m(n)})}function PS(n,e){return e().catch(t=>Bf(n,t,e))}async function wm(n){const e=Xe(n),t=Pa(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:My;for(;CM(e);)try{const a=await cM(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,RM(e,a)}catch(a){await Bf(e,a)}kS(e)&&LS(e)}function CM(n){return zo(n)&&n.oa.length<10}function RM(n,e){n.oa.push(e);const t=Pa(n);t.b_()&&t.W_&&t.G_(e.mutations)}function kS(n){return zo(n)&&!Pa(n).w_()&&n.oa.length>0}function LS(n){Pa(n).start()}async function IM(n){Pa(n).H_()}async function jM(n){const e=Pa(n);for(const t of n.oa)e.G_(t.mutations)}async function MM(n,e,t){const r=n.oa.shift(),a=zy.from(r,e,t);await PS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await wm(n)}async function OM(n,e){e&&Pa(n).W_&&await async function(r,a){if(function(u){return p3(u)&&u!==de.ABORTED}(a.code)){const o=r.oa.shift();Pa(r).D_(),await PS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await wm(r)}}(n,e),kS(n)&&LS(n)}async function x1(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Mo,"RemoteStore received new credentials");const r=zo(t);t.aa.add(3),await xd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await _m(t)}async function DM(n,e){const t=Xe(n);e?(t.aa.delete(2),await _m(t)):e||(t.aa.add(2),await xd(t),t.la.set("Unknown"))}function bc(n){return n.Pa||(n.Pa=function(t,r,a){const o=Xe(t);return o.Y_(),new vM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:TM.bind(null,n),Jo:SM.bind(null,n),Zo:AM.bind(null,n),Q_:NM.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Yy(n)?Ky(n):n.la.set("Unknown")):(await n.Pa.stop(),DS(n))})),n.Pa}function Pa(n){return n.Ta||(n.Ta=function(t,r,a){const o=Xe(t);return o.Y_(),new bM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:IM.bind(null,n),Zo:OM.bind(null,n),z_:jM.bind(null,n),j_:MM.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await wm(n)):(await n.Ta.stop(),n.oa.length>0&&(Ae(Mo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new Xy(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(n,e){if(Ni("AsyncQueue",`${e}: ${n}`),vc(n))return new we(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Ou(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Ia=new Yt(Le.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class hc{constructor(e,t,r,a,o,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new hc(e,t,zl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class kM{constructor(){this.queries=w1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Xe(t),o=a.queries;a.queries=w1(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new we(de.ABORTED,"Firestore shutting down"))}}function w1(){return new Vo(n=>rS(n),pm)}async function Zy(n,e){const t=Xe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new PM,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=Wy(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&ev(t)}async function Jy(n,e){const t=Xe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function LM(n,e){const t=Xe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(r=!0);u.Aa=a}}r&&ev(t)}function VM(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function ev(n){n.fa.forEach(e=>{e.next()})}var F0,E1;(E1=F0||(F0={})).ya="default",E1.Cache="cache";class tv{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==F0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.key=e}}class zS{constructor(e){this.key=e}}class zM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=dt(),this.mutatedKeys=dt(),this.Ua=sS(e),this.Ka=new zl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new _1,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,b)=>{const _=a.get(y),T=gm(this.query,b)?b:null,A=!!_&&this.mutatedKeys.has(_.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;_&&T?_.data.isEqual(T.data)?A!==P&&(r.track({type:3,doc:T}),R=!0):this.ja(_,T)||(r.track({type:2,doc:T}),R=!0,(f&&this.Ua(T,f)>0||p&&this.Ua(T,p)<0)&&(h=!0)):!_&&T?(r.track({type:0,doc:T}),R=!0):_&&!T&&(r.track({type:1,doc:_}),R=!0,(f||p)&&(h=!0)),R&&(T?(u=u.add(T),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,b)=>function(T,A){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:R})}};return P(T)-P(A)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(r),a=a!=null&&a;const h=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new hc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=dt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new zS(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new VS(r))}),t}Xa(e){this.qa=e.Ns,this.$a=dt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return hc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const nv="SyncEngine";class UM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BM{constructor(e){this.key=e,this.tu=!1}}class FM{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Vo(h=>rS(h),pm),this.iu=new Map,this.su=new Set,this.ou=new Yt(Le.comparator),this._u=new Map,this.au=new Fy,this.uu={},this.cu=new Map,this.lu=dc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function qM(n,e,t=!0){const r=$S(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await US(r,e,t,!0),a}async function HM(n,e){const t=$S(n);await US(t,e,!0,!1)}async function US(n,e,t,r){const a=await uM(n.localStore,Hs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await $M(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&MS(n.remoteStore,a),h}async function $M(n,e,t,r,a){n.Pu=(b,_,T)=>async function(P,R,C,E){let w=R.view.Ga(C);w.ys&&(w=await p1(P.localStore,R.query,!1).then(({documents:L})=>R.view.Ga(L,w)));const O=E&&E.targetChanges.get(R.targetId),z=E&&E.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(w,P.isPrimaryClient,O,z);return S1(P,R.targetId,k.Ya),k.snapshot}(n,b,_,T);const o=await p1(n.localStore,e,!0),u=new zM(e,o.Ns),h=u.Ga(o.documents),f=bd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,f);S1(n,t,p.Ya);const y=new UM(e,t,u);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function GM(n,e,t){const r=Xe(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!pm(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await U0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Gy(r.remoteStore,a.targetId),q0(r,a.targetId)}).catch(yc)):(q0(r,a.targetId),await U0(r.localStore,a.targetId,!0))}async function QM(n,e){const t=Xe(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Gy(t.remoteStore,r.targetId))}async function KM(n,e,t){const r=tO(n);try{const a=await function(u,h){const f=Xe(u),p=xn.now(),y=h.reduce((T,A)=>T.add(A.key),dt());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Ci(),P=dt();return f.Cs.getEntries(T,y).next(R=>{A=R,A.forEach((C,E)=>{E.isValidDocument()||(P=P.add(C))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,A)).next(R=>{b=R;const C=[];for(const E of h){const w=u3(E,b.get(E.key).overlayedDocument);w!=null&&C.push(new Ba(E.key,w,XT(w.value.mapValue),ns.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,C,h)}).next(R=>{_=R;const C=R.applyToLocalDocumentSet(b,P);return f.documentOverlayCache.saveOverlays(T,R.batchId,C)})}).then(()=>({batchId:_.batchId,changes:aS(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let p=u.uu[u.currentUser.toKey()];p||(p=new Yt(nt)),p=p.insert(h,f),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,t),await _d(r,a.changes),await wm(r.remoteStore)}catch(a){const o=Wy(a,"Failed to persist write");t.reject(o)}}async function BS(n,e){const t=Xe(n);try{const r=await oM(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Rt(u.tu,14607):a.removedDocuments.size>0&&(Rt(u.tu,42227),u.tu=!1))}),await _d(t,r,e)}catch(r){await yc(r)}}function T1(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Xe(u);f.onlineState=h;let p=!1;f.queries.forEach((y,b)=>{for(const _ of b.Ra)_.ga(h)&&(p=!0)}),p&&ev(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YM(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Yt(Le.comparator);u=u.insert(o,Xn.newNoDocument(o,Ye.min()));const h=dt().add(o),f=new bm(Ye.min(),new Map,new Yt(nt),u,h);await BS(r,f),r.ou=r.ou.remove(o),r._u.delete(e),rv(r)}else await U0(r.localStore,e,!1).then(()=>q0(r,e,t)).catch(yc)}async function XM(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=await aM(t.localStore,e);qS(t,r,null),FS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _d(t,a)}catch(a){await yc(a)}}async function WM(n,e,t){const r=Xe(n);try{const a=await function(u,h){const f=Xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(b=>(Rt(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(p,b))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(r.localStore,e);qS(r,e,t),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _d(r,a)}catch(a){await yc(a)}}function FS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function qS(n,e,t){const r=Xe(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||HS(n,r)})}function HS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Gy(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),rv(n))}function S1(n,e,t){for(const r of t)r instanceof VS?(n.au.addReference(r.key,e),ZM(n,r)):r instanceof zS?(Ae(nv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||HS(n,r.key)):$e(19791,{Iu:r})}function ZM(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ae(nv,"New document in limbo: "+t),n.su.add(r),rv(n))}function rv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Le(Bt.fromString(e)),r=n.lu.next();n._u.set(r,new BM(t)),n.ou=n.ou.insert(t,r),MS(n.remoteStore,new ba(Hs(mm(t.path)),r,"TargetPurposeLimboResolution",um.le))}}async function _d(n,e,t){const r=Xe(n),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){a.push(p);const b=Hy.Ps(f.targetId,p);o.push(b)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(f,p){const y=Xe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>pe.forEach(p,_=>pe.forEach(_.ls,T=>y.persistence.referenceDelegate.addReference(b,_.targetId,T)).next(()=>pe.forEach(_.hs,T=>y.persistence.referenceDelegate.removeReference(b,_.targetId,T)))))}catch(b){if(!vc(b))throw b;Ae($y,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const T=y.Ss.get(_),A=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(_,P)}}}(r.localStore,o))}async function JM(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ae(nv,"User change. New user:",e.toKey());const r=await CS(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new we(de.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(t,r.Ms)}}function eO(n,e){const t=Xe(n),r=t._u.get(e);if(r&&r.tu)return dt().add(r.key);{let a=dt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const h=t.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function $S(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YM.bind(null,e),e.nu.Q_=LM.bind(null,e.eventManager),e.nu.Tu=VM.bind(null,e.eventManager),e}function tO(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return iM(this.persistence,new nM,e.initialUser,this.serializer)}Ru(e){return new NS(qy.Ei,this.serializer)}Au(e){return new hM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class nO extends Ff{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Rt(this.persistence.referenceDelegate instanceof Uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new B3(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new NS(r=>Uf.Ei(r,t),this.serializer)}}class H0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JM.bind(null,this.syncEngine),await DM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kM}()}createDatastore(e){const t=xm(e.databaseInfo.databaseId),r=function(o){return new yM(o)}(e.databaseInfo);return function(o,u,h,f){return new _M(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new EM(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>T1(this.syncEngine,t,0),function(){return v1.C()?new v1:new fM}())}createSyncEngine(e,t){return function(a,o,u,h,f,p,y){const b=new FM(a,o,u,h,f,p);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Xe(a);Ae(Mo,"RemoteStore shutting down."),o.aa.add(5),await xd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}H0.provider={build:()=>new H0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class rO{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Yn.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Wy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function t0(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(ka,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await CS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function A1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sO(n);Ae(ka,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>x1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>x1(e.remoteStore,a)),n._onlineComponents=e}async function sO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(ka,"Using user provided OfflineComponentProvider");try{await t0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ic("Error using user provided cache. Falling back to memory cache: "+t),await t0(n,new Ff)}}else Ae(ka,"Using default OfflineComponentProvider"),await t0(n,new nO(void 0));return n._offlineComponents}async function GS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(ka,"Using user provided OnlineComponentProvider"),await A1(n,n._uninitializedComponentsProvider._online)):(Ae(ka,"Using default OnlineComponentProvider"),await A1(n,new H0))),n._onlineComponents}function iO(n){return GS(n).then(e=>e.syncEngine)}async function qf(n){const e=await GS(n),t=e.eventManager;return t.onListen=qM.bind(null,e.syncEngine),t.onUnlisten=GM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QM.bind(null,e.syncEngine),t}function aO(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new sv({next:_=>{y.yu(),u.enqueueAndForget(()=>Jy(o,b));const T=_.docs.has(h);!T&&_.fromCache?p.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&f&&f.source==="server"?p.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new tv(mm(h.path),y,{includeMetadataChanges:!0,Fa:!0});return Zy(o,b)}(await qf(n),n.asyncQueue,e,t,r)),r.promise}function oO(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,p){const y=new sv({next:_=>{y.yu(),u.enqueueAndForget(()=>Jy(o,b)),_.fromCache&&f.source==="server"?p.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new tv(h,y,{includeMetadataChanges:!0,Fa:!0});return Zy(o,b)}(await qf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e,t){if(!t)throw new we(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lO(n,e,t,r){if(e===!0&&r===!0)throw new we(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function C1(n){if(!Le.isDocumentKey(n))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function R1(n){if(Le.isDocumentKey(n))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Em(n);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firestore.googleapis.com",I1=!0;class j1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=I1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:I1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z3)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gj;switch(r.type){case"firstParty":return new xj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=N1.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),N1.delete(t),r.terminate())}(this),Promise.resolve()}}function cO(n,e,t,r={}){var a;const o=(n=xr(n,Tm))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==YS&&o.host!==h&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Ia(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Yn.MOCK_USER;else{p=$I(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(b)}n._authCredentials=new yj(new VT(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class XS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new XS(this.firestore,e,this._query)}};class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Na extends Fa{constructor(e,t,r){super(e,t,mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Le(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Lr(n,e,...t){if(n=fn(n),KS("collection","path",e),n instanceof Tm){const r=Bt.fromString(e,...t);return R1(r),new Na(n,null,r)}{if(!(n instanceof Wn||n instanceof Na))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return R1(r),new Na(n.firestore,null,r)}}function La(n,e,...t){if(n=fn(n),arguments.length===1&&(e=UT.newId()),KS("doc","path",e),n instanceof Tm){const r=Bt.fromString(e,...t);return C1(r),new Wn(n,null,new Le(r))}{if(!(n instanceof Wn||n instanceof Na))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return C1(r),new Wn(n.firestore,n instanceof Na?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new IS(this,"async_queue_retry"),this.ju=()=>{const r=e0();r&&Ae(M1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=e0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=e0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vc(e))throw e;Ae(M1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ni("INTERNAL UNHANDLED ERROR: ",D1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Xy.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&$e(47125,{ec:D1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function D1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ri extends Tm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new O1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function uO(n,e){const t=typeof n=="object"?n:CT(),r=typeof n=="string"?n:Df,a=Iy(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=qI("firestore");o&&cO(a,...o)}return a}function Sm(n){if(n._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dO(n),n._firestoreClient}function dO(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,p,y){return new Pj(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,QS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new rO(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Fn.fromBase64String(e))}catch(t){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class fO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new vd(e,this.data,t,this.fieldTransforms)}}class WS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{oc:n})}}class Nm{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Hf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ZS(this.oc)&&hO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class mO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xm(e)}dc(e,t,r,a=!1){return new Nm({oc:e,methodName:t,Ec:r,path:Bn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ed(n){const e=n._freezeSettings(),t=xm(n._databaseId);return new mO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JS(n,e,t,r,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,a);cv("Data must be an object, but it was:",u,r);const h=t2(r,u);let f,p;if(o.merge)f=new kr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=$0(e,b,t);if(!u.contains(_))throw new we(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);r2(y,_)||y.push(_)}f=new kr(y),p=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,p=u.fieldTransforms;return new fO(new br(h),f,p)}class Cm extends wd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function pO(n,e,t){return new Nm({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ov extends wd{_toFieldTransform(e){return new fS(e.path,new ed)}isEqual(e){return e instanceof ov}}class lv extends wd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=pO(this,e,!0),r=this.Ac.map(o=>xc(o,t)),a=new uc(r);return new fS(e.path,a)}isEqual(e){return e instanceof lv&&Ia(this.Ac,e.Ac)}}function gO(n,e,t,r){const a=n.dc(1,e,t);cv("Data must be an object, but it was:",a,r);const o=[],u=br.empty();Ua(r,(f,p)=>{const y=uv(e,f,t);p=fn(p);const b=a.hc(y);if(p instanceof Cm)o.push(y);else{const _=xc(p,b);_!=null&&(o.push(y),u.set(y,_))}});const h=new kr(o);return new WS(u,h,a.fieldTransforms)}function yO(n,e,t,r,a,o){const u=n.dc(1,e,t),h=[$0(e,r,t)],f=[a];if(o.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push($0(e,o[_])),f.push(o[_+1]);const p=[],y=br.empty();for(let _=h.length-1;_>=0;--_)if(!r2(p,h[_])){const T=h[_];let A=f[_];A=fn(A);const P=u.hc(T);if(A instanceof Cm)p.push(T);else{const R=xc(A,P);R!=null&&(p.push(T),y.set(T,R))}}const b=new kr(p);return new WS(y,b,u.fieldTransforms)}function e2(n,e,t,r=!1){return xc(t,n.dc(r?4:3,e))}function xc(n,e){if(n2(n=fn(n)))return cv("Unsupported field value:",e,n),t2(n,e);if(n instanceof wd)return function(r,a){if(!ZS(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let f=xc(h,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xn.fromDate(r);return{timestampValue:zf(a.serializer,o)}}if(r instanceof xn){const o=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zf(a.serializer,o)}}if(r instanceof iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:bS(a.serializer,r._byteString)};if(r instanceof Wn){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:By(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof av)return function(u,h){return{mapValue:{fields:{[KT]:{stringValue:YT},[Pf]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Ly(h.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Em(r)}`)}(n,e)}function t2(n,e){const t={};return FT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(n,(r,a)=>{const o=xc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function n2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof iv||n instanceof fc||n instanceof Wn||n instanceof wd||n instanceof av)}function cv(n,e,t){if(!n2(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Em(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function $0(n,e,t){if((e=fn(e))instanceof Am)return e._internalPath;if(typeof e=="string")return uv(n,e);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,t)}const vO=new RegExp("[~\\*/\\[\\]]");function uv(n,e,t){if(e.search(vO)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Am(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hf(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new we(de.INVALID_ARGUMENT,h+n+f)}function r2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bO extends dv{data(){return super.data()}}function Rm(n,e){return typeof e=="string"?uv(n,e):e instanceof Am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class Im extends hv{}function Va(n,e,...t){let r=[];e instanceof hv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof fv).length,h=o.filter(f=>f instanceof jm).length;if(u>1||u>0&&h>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class jm extends Im{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jm(e,t,r)}_apply(e){const t=this._parse(e);return a2(e._query,t),new Fa(e.firestore,e.converter,P0(e._query,t))}_parse(e){const t=Ed(e.firestore);return function(o,u,h,f,p,y,b){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){L1(b,y);const A=[];for(const P of b)A.push(k1(f,o,P));_={arrayValue:{values:A}}}else _=k1(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||L1(b,y),_=e2(h,u,b,y==="in"||y==="not-in");return dn.create(p,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xa(n,e,t){const r=e,a=Rm("where",n);return jm._create(a,r,t)}class fv extends hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)a2(u,f),u=P0(u,f)}(e._query,t),new Fa(e.firestore,e.converter,P0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends Im{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ju(o,u)}(e._query,this._field,this._direction);return new Fa(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Lo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function xO(n,e="asc"){const t=e,r=Rm("orderBy",n);return mv._create(r,t)}class pv extends Im{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pv(e,t,r)}_apply(e){return new Fa(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function $f(n){return pv._create("limit",n,"F")}class gv extends Im{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gv(e,t,r)}_apply(e){const t=_O(e,this.type,this._docOrFields,this._inclusive);return new Fa(e.firestore,e.converter,function(a,o){return new Lo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)}(e._query,t))}}function i2(...n){return gv._create("startAfter",n,!1)}function _O(n,e,t,r){if(t[0]=fn(t[0]),t[0]instanceof dv)return function(o,u,h,f,p){if(!f)throw new we(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const b of Vl(o))if(b.field.isKeyField())y.push(kf(u,f.key));else{const _=f.data.field(b.field);if(hm(_))throw new we(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=b.field.canonicalString();throw new we(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}y.push(_)}return new cc(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Ed(n.firestore);return function(u,h,f,p,y,b){const _=u.explicitOrderBy;if(y.length>_.length)throw new we(de.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let A=0;A<y.length;A++){const P=y[A];if(_[A].field.isKeyField()){if(typeof P!="string")throw new we(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!ky(u)&&P.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const R=u.path.child(Bt.fromString(P));if(!Le.isDocumentKey(R))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const C=new Le(R);T.push(kf(h,C))}else{const R=e2(f,p,P);T.push(R)}}return new cc(T,b)}(n._query,n.firestore._databaseId,a,e,t,r)}}function k1(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ky(e)&&t.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!Le.isDocumentKey(r))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kf(n,new Le(r))}if(t instanceof Wn)return kf(n,t._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(t)}.`)}function L1(n,e){if(!Array.isArray(n)||n.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a2(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wO{convertValue(e,t="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ua(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Pf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>nn(u.doubleValue));return new av(o)}convertGeoPoint(e){return new iv(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);Rt(SS(r),9688,{name:e});const a=new Wu(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(t)||Ni(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l2 extends dv{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gf extends l2{data(e={}){return super.data(e)}}class c2{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gf(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Pu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:EO(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n){n=xr(n,Wn);const e=xr(n.firestore,Ri);return aO(Sm(e),n._key).then(t=>d2(e,n,t))}class yv extends wO{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function Ii(n){n=xr(n,Fa);const e=xr(n.firestore,Ri),t=Sm(e),r=new yv(e);return s2(n._query),oO(t,n._query).then(a=>new c2(e,r,n,a))}function Qf(n,e,t){n=xr(n,Wn);const r=xr(n.firestore,Ri),a=o2(n.converter,e,t);return Mm(r,[JS(Ed(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ns.none())])}function u2(n,e,t,...r){n=xr(n,Wn);const a=xr(n.firestore,Ri),o=Ed(a);let u;return u=typeof(e=fn(e))=="string"||e instanceof Am?yO(o,"updateDoc",n._key,e,t,r):gO(o,"updateDoc",n._key,e),Mm(a,[u.toMutation(n._key,ns.exists(!0))])}function TO(n){return Mm(xr(n.firestore,Ri),[new Vy(n._key,ns.none())])}function SO(n,e){const t=xr(n.firestore,Ri),r=La(n),a=o2(n.converter,e);return Mm(t,[JS(Ed(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then(()=>r)}function AO(n,...e){var t,r,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||P1(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(P1(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let f,p,y;if(n instanceof Wn)p=xr(n.firestore,Ri),y=mm(n._key.path),f={next:b=>{e[u]&&e[u](d2(p,n,b))},error:e[u+1],complete:e[u+2]};else{const b=xr(n,Fa);p=xr(b.firestore,Ri),y=b._query;const _=new yv(p);f={next:T=>{e[u]&&e[u](new c2(p,_,b,T))},error:e[u+1],complete:e[u+2]},s2(n._query)}return function(_,T,A,P){const R=new sv(P),C=new tv(T,R,A);return _.asyncQueue.enqueueAndForget(async()=>Zy(await qf(_),C)),()=>{R.yu(),_.asyncQueue.enqueueAndForget(async()=>Jy(await qf(_),C))}}(Sm(p),y,h,f)}function Mm(n,e){return function(r,a){const o=new Si;return r.asyncQueue.enqueueAndForget(async()=>KM(await iO(r),a,o)),o.promise}(Sm(n),e)}function d2(n,e,t){const r=t.docs.get(e._key),a=new yv(n);return new l2(n,a,e._key,r,new Pu(t.hasPendingWrites,t.fromCache),e.converter)}function NO(){return new ov("serverTimestamp")}function CO(...n){return new lv("arrayUnion",n)}(function(e,t=!0){(function(a){gc=a})(pc),sc(new Io("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Ri(new vj(r.getProvider("auth-internal")),new _j(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(p.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Sa(zw,Uw,e),Sa(zw,Uw,"esm2017")})();var RO="firebase",IO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa(RO,IO,"app");function vv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function h2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jO=h2,f2=new gd("auth","Firebase",h2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Cy("@firebase/auth");function MO(n,...e){Kf.logLevel<=ut.WARN&&Kf.warn(`Auth (${pc}): ${n}`,...e)}function yf(n,...e){Kf.logLevel<=ut.ERROR&&Kf.error(`Auth (${pc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(n,...e){throw bv(n,...e)}function Gs(n,...e){return bv(n,...e)}function m2(n,e,t){const r=Object.assign(Object.assign({},jO()),{[e]:t});return new gd("auth","Firebase",r).create(e,{appName:n.name})}function Ca(n){return m2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return f2.create(n,...e)}function He(n,e,...t){if(!n)throw bv(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yf(e),new Error(e)}function ji(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OO(){return V1()==="http:"||V1()==="https:"}function V1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OO()||YI()||"connection"in navigator)?navigator.onLine:!0}function PO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=GI()||XI()}get(){return DO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n,e){ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VO=new Td(3e4,6e4);function Uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qa(n,e,t,r,a={}){return g2(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=yd(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return KI()||(p.referrerPolicy="no-referrer"),p2.fetch()(await y2(n,n.config.apiHost,t,h),p)})}async function g2(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kO),e);try{const a=new UO(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Jh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Jh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Jh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw m2(n,y,p);vs(n,y)}}catch(a){if(a instanceof Mi)throw a;vs(n,"network-request-failed",{message:String(a)})}}async function Om(n,e,t,r,a={}){const o=await qa(n,e,t,r,a);return"mfaPendingCredential"in o&&vs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function y2(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?xv(n.config,a):`${n.config.apiScheme}://${a}`;return LO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function zO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),VO.get())})}}function Jh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Gs(n,e,r);return a.customData._tokenResponse=t,a}function z1(n){return n!==void 0&&n.enterprise!==void 0}class BO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FO(n,e){return qa(n,"GET","/v2/recaptchaConfig",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e){return qa(n,"POST","/v1/accounts:delete",e)}async function Yf(n,e){return qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HO(n,e=!1){const t=fn(n),r=await t.getIdToken(e),a=_v(r);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:qu(n0(a.auth_time)),issuedAtTime:qu(n0(a.iat)),expirationTime:qu(n0(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function n0(n){return Number(n)*1e3}function _v(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=_T(t);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function U1(n){const e=_v(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Mi&&$O(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $O({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n){var e;const t=n.auth,r=await n.getIdToken(),a=await nd(n,Yf(t,{idToken:r}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?v2(o.providerUserInfo):[],h=KO(n.providerData,u),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Q0(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function QO(n){const e=fn(n);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KO(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function v2(n){return n.map(e=>{var{providerId:t}=e,r=vv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,e){const t=await g2(n,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await y2(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",p2.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XO(n,e){return qa(n,"POST","/v2/accounts:revokeToken",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=U1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await YO(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Ul;return r&&(He(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=vv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Q0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await nd(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HO(this,e)}reload(){return QO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await nd(this,qO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,f,p,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,E=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:w,emailVerified:O,isAnonymous:z,providerData:k,stsTokenManager:L}=t;He(w&&L,e,"internal-error");const M=Ul.fromJSON(this.name,L);He(typeof w=="string",e,"internal-error"),ra(b,e.name),ra(_,e.name),He(typeof O=="boolean",e,"internal-error"),He(typeof z=="boolean",e,"internal-error"),ra(T,e.name),ra(A,e.name),ra(P,e.name),ra(R,e.name),ra(C,e.name),ra(E,e.name);const I=new ms({uid:w,auth:e,email:_,emailVerified:O,displayName:b,isAnonymous:z,photoURL:A,phoneNumber:T,tenantId:P,stsTokenManager:M,createdAt:C,lastLoginAt:E});return k&&Array.isArray(k)&&(I.providerData=k.map(V=>Object.assign({},V))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ul;a.updateFromServerResponse(t);const o=new ms({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Xf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?v2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Ul;h.updateFromIdToken(r);const f=new ms({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Q0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function Ti(n){ji(n instanceof Function,"Expected a class definition");let e=B1.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,B1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}b2.type="NONE";const F1=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n,e,t){return`firebase:${n}:${e}:${t}`}class Bl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,o),this.fullPersistenceKey=vf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yf(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bl(Ti(F1),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ti(F1);const u=vf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let b;if(typeof y=="string"){const _=await Yf(e,{idToken:y}).catch(()=>{});if(!_)break;b=await ms._fromGetAccountInfoResponse(e,_,y)}else b=ms._fromJSON(e,y);p!==o&&(h=b),o=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bl(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(A2(e))return"Webos";if(_2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(T2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x2(n=Zn()){return/firefox\//i.test(n)}function _2(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(n=Zn()){return/crios\//i.test(n)}function E2(n=Zn()){return/iemobile/i.test(n)}function T2(n=Zn()){return/android/i.test(n)}function S2(n=Zn()){return/blackberry/i.test(n)}function A2(n=Zn()){return/webos/i.test(n)}function wv(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WO(n=Zn()){var e;return wv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZO(){return WI()&&document.documentMode===10}function N2(n=Zn()){return wv(n)||T2(n)||A2(n)||S2(n)||/windows phone/i.test(n)||E2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e=[]){let t;switch(n){case"Browser":t=q1(Zn());break;case"Worker":t=`${q1(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e={}){return qa(n,"GET","/v2/passwordPolicy",Uo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=6;class nD{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:tD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H1(this),this.idTokenSubscription=new H1(this),this.beforeStateQueue=new JO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yf(this,{idToken:e}),r=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Ca(this));const t=e?fn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eD(this),t=new nD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&MO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _c(n){return fn(n)}class H1{constructor(e){this.auth=e,this.observer=null,this.addObserver=i4(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sD(n){Dm=n}function R2(n){return Dm.loadJS(n)}function iD(){return Dm.recaptchaEnterpriseScript}function aD(){return Dm.gapiScript}function oD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lD{constructor(){this.enterprise=new cD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uD="recaptcha-enterprise",I2="NO_RECAPTCHA";class dD{constructor(e){this.type=uD,this.auth=_c(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{FO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new BO(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;z1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(I2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&z1(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=iD();f.length!==0&&(f+=h),R2(f).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function $1(n,e,t,r=!1,a=!1){const o=new dD(n);let u;if(a)u=I2;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function G1(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $1(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await $1(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n,e){const t=Iy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ia(o,e??{}))return a;vs(a,"already-initialized")}return t.initialize({options:e})}function fD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mD(n,e,t){const r=_c(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=j2(e),{host:u,port:h}=pD(e),f=h===null?"":`:${h}`,p={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ia(p,r.config.emulator)&&Ia(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,gD()}function j2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pD(n){const e=j2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Q1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Q1(u)}}}function Q1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function yD(n,e){return qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(n,e){return Om(n,"POST","/v1/accounts:signInWithPassword",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e){return Om(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}async function xD(n,e){return Om(n,"POST","/v1/accounts:signInWithEmailLink",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Ev{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new rd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new rd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G1(e,t,"signInWithPassword",vD);case"emailLink":return bD(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G1(e,r,"signUpPassword",yD);case"emailLink":return xD(e,{idToken:t,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e){return Om(n,"POST","/v1/accounts:signInWithIdp",Uo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="http://localhost";class Oo extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=vv(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Oo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fl(e,t)}buildRequest(){const e={requestUri:_D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ED(n){const e=Iu(ju(n)).link,t=e?Iu(ju(e)).deep_link_id:null,r=Iu(ju(n)).deep_link_id;return(r?Iu(ju(r)).link:null)||r||t||e||n}class Tv{constructor(e){var t,r,a,o,u,h;const f=Iu(ju(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,b=wD((a=f.mode)!==null&&a!==void 0?a:null);He(p&&y&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=ED(e);try{return new Tv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.providerId=wc.PROVIDER_ID}static credential(e,t){return rd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Tv.parseLink(t);return He(r,"argument-error"),rd._fromEmailAndCode(e,r.code,r.tenantId)}}wc.PROVIDER_ID="password";wc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends M2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Sd{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oo._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return la.credential(t,r)}catch{return null}}}la.GOOGLE_SIGN_IN_METHOD="google.com";la.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Sd{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.GITHUB_SIGN_IN_METHOD="github.com";ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Sd{constructor(){super("twitter.com")}static credential(e,t){return Oo._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ua.credential(t,r)}catch{return null}}}ua.TWITTER_SIGN_IN_METHOD="twitter.com";ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await ms._fromIdTokenResponse(e,r,a),u=K1(r);return new mc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=K1(r);return new mc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function K1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Mi{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Wf(e,t,r,a)}}function O2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(n,o,e,r):o})}async function TD(n,e,t=!1){const r=await nd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e,t=!1){const{auth:r}=n;if(fs(r.app))return Promise.reject(Ca(r));const a="reauthenticate";try{const o=await nd(n,O2(r,a,e,n),t);He(o.idToken,r,"internal-error");const u=_v(o.idToken);He(u,r,"internal-error");const{sub:h}=u;return He(n.uid===h,r,"user-mismatch"),mc._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r="signIn",a=await O2(n,r,e),o=await mc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function AD(n,e){return D2(_c(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n){const e=_c(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CD(n,e,t){return fs(n.app)?Promise.reject(Ca(n)):AD(fn(n),wc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ND(n),r})}function RD(n,e,t,r){return fn(n).onIdTokenChanged(e,t,r)}function ID(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function jD(n,e,t,r){return fn(n).onAuthStateChanged(e,t,r)}function MD(n){return fn(n).signOut()}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,DD=10;class k2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);ZO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}k2.type="LOCAL";const PD=k2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L2.type="SESSION";const V2=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,o)),f=await kD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=Sv("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function VD(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function zD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BD(){return z2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",FD=1,Jf="firebaseLocalStorage",B2="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function km(n,e){return n.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function qD(){const n=indexedDB.deleteDatabase(U2);return new Ad(n).toPromise()}function K0(){const n=indexedDB.open(U2,FD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jf,{keyPath:B2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Jf)?e(r):(r.close(),await qD(),e(await K0()))})})}async function Y1(n,e,t){const r=km(n,!0).put({[B2]:e,value:t});return new Ad(r).toPromise()}async function HD(n,e){const t=km(n,!1).get(e),r=await new Ad(t).toPromise();return r===void 0?null:r.value}function X1(n,e){const t=km(n,!0).delete(e);return new Ad(t).toPromise()}const $D=800,GD=3;class F2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>GD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K0();return await Y1(e,Zf,"1"),await X1(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>HD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>X1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=km(a,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F2.type="LOCAL";const QD=F2;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n,e){return e?Ti(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YD(n){return D2(n.auth,new Av(n),n.bypassAuthState)}function XD(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),SD(t,new Av(n),n.bypassAuthState)}async function WD(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),TD(t,new Av(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YD;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:vs(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Td(2e3,1e4);class Dl extends q2{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZD.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="pendingRedirect",bf=new Map;class eP extends q2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await tP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tP(n,e){const t=sP(e),r=rP(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function nP(n,e){bf.set(n._key(),e)}function rP(n){return Ti(n._redirectPersistence)}function sP(n){return vf(JD,n.config.apiKey,n.name)}async function iP(n,e,t=!1){if(fs(n.app))return Promise.reject(Ca(n));const r=_c(n),a=KD(r,e),u=await new eP(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=10*60*1e3;class oP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!H2(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aP&&this.cachedEventUids.clear(),this.cachedEventUids.has(W1(e))}saveEventToCache(e){this.cachedEventUids.add(W1(e)),this.lastProcessedEventTime=Date.now()}}function W1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function H2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e={}){return qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dP=/^https?/;async function hP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cP(n);for(const t of e)try{if(fP(t))return}catch{}vs(n,"unauthorized-domain")}function fP(n){const e=G0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!dP.test(t))return!1;if(uP.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Td(3e4,6e4);function Z1(){const n=Qs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pP(n){return new Promise((e,t)=>{var r,a,o;function u(){Z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z1(),t(Gs(n,"network-request-failed"))},timeout:mP.get()})}if(!((a=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Qs().gapi)===null||o===void 0)&&o.load)u();else{const h=oD("iframefcb");return Qs()[h]=()=>{gapi.load?u():t(Gs(n,"network-request-failed"))},R2(`${aD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw xf=null,e})}let xf=null;function gP(n){return xf=xf||pP(n),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Td(5e3,15e3),vP="__/auth/iframe",bP="emulator/auth/iframe",xP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wP(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xv(e,bP):`https://${n.config.authDomain}/${vP}`,r={apiKey:e.apiKey,appName:n.name,v:pc},a=_P.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${yd(r).slice(1)}`}async function EP(n){const e=await gP(n),t=Qs().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:wP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xP,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Gs(n,"network-request-failed"),h=Qs().setTimeout(()=>{o(u)},yP.get());function f(){Qs().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SP=500,AP=600,NP="_blank",CP="http://localhost";class J1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(n,e,t,r=SP,a=AP){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},TP),{width:r.toString(),height:a.toString(),top:o,left:u}),p=Zn().toLowerCase();t&&(h=w2(p)?NP:t),x2(p)&&(e=e||CP,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[T,A])=>`${_}${T}=${A},`,"");if(WO(p)&&h!=="_self")return IP(e||"",h),new J1(null);const b=window.open(e||"",h,y);He(b,n,"popup-blocked");try{b.focus()}catch{}return new J1(b)}function IP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="__/auth/handler",MP="emulator/auth/handler",OP=encodeURIComponent("fac");async function eE(n,e,t,r,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pc,eventId:a};if(e instanceof M2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",s4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Sd){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${OP}=${encodeURIComponent(f)}`:"";return`${DP(n)}?${yd(h).slice(1)}${p}`}function DP({config:n}){return n.emulator?xv(n,MP):`https://${n.authDomain}/${jP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=iP,this._overrideRedirectResult=nP}async _openPopup(e,t,r,a){var o;ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await eE(e,t,r,G0(),a);return RP(e,u,Sv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await eE(e,t,r,G0(),a);return VD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EP(e),r=new oP(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(r0,{type:r0},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[r0];u!==void 0&&t(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return N2()||_2()||wv()}}const kP=PP;var tE="@firebase/auth",nE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(n){sc(new Io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C2(n)},p=new rD(r,a,o,f);return fD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sc(new Io("auth-internal",e=>{const t=_c(e.getProvider("auth").getImmediate());return(r=>new LP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sa(tE,nE,VP(n)),Sa(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=5*60,BP=TT("authIdTokenMaxAge")||UP;let rE=null;const FP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BP)return;const a=t==null?void 0:t.token;rE!==a&&(rE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qP(n=CT()){const e=Iy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hD(n,{popupRedirectResolver:kP,persistence:[QD,PD,V2]}),r=TT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=FP(o.toString());ID(t,u,()=>u(t.currentUser)),RD(t,h=>u(h))}}const a=wT("auth");return a&&mD(t,`http://${a}`),t}function HP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Gs("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",HP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");const $P={apiKey:"AIzaSyClBJkB2VNBvPDMjxJ49yrv8OluDiOqbPI",authDomain:"mahira-collection.firebaseapp.com",projectId:"mahira-collection",storageBucket:"mahira-collection.firebasestorage.app",messagingSenderId:"849673617672",appId:"1:849673617672:web:beeb003de0c8e64a072cbd"},GP=NT($P),s0=qP(),hn=uO(GP),QP=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Ii(Lr(hn,"headline")),a=[];r.forEach(o=>{const u=o.data();u.news&&a.push(u.news)}),e(a)}catch(r){console.error("Error fetching headlines:",r)}})()},[]),d.jsxs("div",{className:"w-[100%] md:w-[80%] mx-auto py-0 md:py-4 flex flex-row justify-between items-center px-2 md:px-0",children:[d.jsxs("div",{className:"shrink-0 whitespace-nowrap text-[16px] md:text-[18px]",children:[" ",d.jsx("a",{href:"tel:+8801712345678",children:"📞 +880 1712 345 678"})]}),d.jsx("div",{className:"w-full hidden md:block px-4 font-semibold",children:d.jsx(gT,{children:n.map((t,r)=>d.jsx("span",{className:"mx-4",children:t},r))})}),d.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 shrink-0 text-[20px] md:text-[24px]",children:[" ",d.jsx("a",{href:"",children:d.jsx(MI,{})}),d.jsx("a",{href:"",children:d.jsx(DI,{})}),d.jsx("a",{href:"",children:d.jsx(OI,{})})]})]})};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),sE=n=>{const e=YP(n);return e.charAt(0).toUpperCase()+e.slice(1)},$2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),XP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},f)=>q.createElement("svg",{ref:f,...WP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:$2("lucide",a),...!o&&!XP(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>q.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=(n,e)=>{const t=q.forwardRef(({className:r,...a},o)=>q.createElement(ZP,{ref:o,iconNode:e,className:$2(`lucide-${KP(sE(n))}`,`lucide-${n}`,r),...a}));return t.displayName=sE(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jl=wn("chevron-down",JP);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ml=wn("chevron-up",ek);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Sl=wn("clock",tk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rk=wn("credit-card",nk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],ik=wn("facebook",sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ok=wn("house",ak);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ck=wn("instagram",lk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],dk=wn("list",uk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iE=wn("mail",hk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aE=wn("map-pin",fk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],pk=wn("menu",mk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M5 12h14",key:"1ays0h"}]],yk=wn("minus",gk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bk=wn("package",vk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],_f=wn("phone",xk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wk=wn("plus",_k);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oE=wn("search",Ek);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],wf=wn("shopping-cart",Tk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ak=wn("twitter",Sk);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hu=wn("x",Nk),lE="/assets/Screenshot_4-Photoroom-removebg-preview-DZTFVgoJ.png",Ck=({isOpen:n,onClose:e,cartItems:t})=>{const[r,a]=q.useState(t);q.useEffect(()=>{a(t)},[t]);const o=p=>{const y=typeof p=="string"?parseFloat(p):p;return Math.floor(y).toLocaleString("en-US")},u=()=>r.reduce((p,y)=>{const b=typeof y.price=="number"?y.price:typeof y.price=="string"?parseFloat(y.price):0;return p+Math.floor(b)*y.quantity},0),h=p=>{const y=r.filter(b=>b.id!==p);a(y),localStorage.setItem("cart",JSON.stringify(y)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:y}))},f=(p,y)=>{const b=r.map(_=>{if(_.id===p){const T=_.quantity+y;return{..._,quantity:T>0?T:1}}return _});a(b),localStorage.setItem("cart",JSON.stringify(b)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:b}))};return d.jsx("div",{className:`fixed inset-y-0 right-0 max-w-full flex z-50 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"translate-x-full"}`,children:d.jsx("div",{className:"w-screen max-w-md",children:d.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl relative",children:[d.jsxs("div",{className:"flex items-start justify-between px-4 py-4 border-b",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shopping cart"}),d.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Hu,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:r.length===0?d.jsxs("div",{className:"text-center mt-12",children:[d.jsx(wf,{className:"mx-auto h-12 w-12 text-gray-400"}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-6",children:d.jsx(wt,{to:"/",onClick:e,className:"inline-flex items-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 text-sm font-medium rounded-md shadow-sm",children:"Continue Shopping"})})]}):d.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:r.map(p=>{var _,T;const y=typeof p.price=="number"?p.price:parseFloat(p.price||0),b=Math.floor(y)*p.quantity;return d.jsxs("li",{className:"py-6 flex gap-4",children:[d.jsx("div",{className:"w-24 h-24 flex-shrink-0 border rounded-md overflow-hidden",children:d.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-900",children:[d.jsx("h3",{children:p.name}),d.jsxs("p",{children:["৳",o(b)]})]}),((_=p.color)==null?void 0:_.name)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:p.color.name})]}),((T=p.size)==null?void 0:T.size)&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:p.size.size})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>f(p.id,-1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(yk,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm",children:p.quantity}),d.jsx("button",{onClick:()=>f(p.id,1),className:"p-1 border rounded text-gray-600 hover:bg-gray-100",children:d.jsx(wk,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-500",children:d.jsx(Hu,{className:"h-5 w-5"})})]})]})]},p.id)})})}),r.length>0&&d.jsxs("div",{className:"sticky bottom-0 bg-white border-t px-4 py-4",children:[d.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[d.jsx("p",{children:"Subtotal"}),d.jsxs("p",{children:["৳",o(u())]})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shipping and taxes calculated at checkout."}),d.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[d.jsx(wt,{to:"/cart",onClick:e,className:"w-full text-center px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-md shadow-sm text-sm font-medium",children:"View Cart"}),d.jsx("button",{onClick:e,className:"text-sm text-blue-600 hover:text-blue-500",children:"Continue Shopping →"})]})]})]})})})},Rk=()=>{const[n,e]=q.useState(!1),[t,r]=q.useState(!1),[a,o]=q.useState(null),[u,h]=q.useState([]),[f,p]=q.useState(!0),[y,b]=q.useState(0),[_,T]=q.useState(!1),[A,P]=q.useState([]),[R,C]=q.useState(""),[E,w]=q.useState([]),[O,z]=q.useState([]),[k,L]=q.useState(!1);q.useEffect(()=>{const j=async()=>{try{const ce=Va(Lr(hn,"menu-categories"),xO("order")),$=await Ii(ce),se=[];$.forEach(ae=>{se.push({id:ae.id,...ae.data()})}),h(se),p(!1)}catch(ce){console.error("Error fetching menu items:",ce),p(!1)}},ie=async()=>{try{const ce=Lr(hn,"products"),$=Va(ce),se=await Ii($),ae=[];se.forEach(be=>{ae.push({id:be.id,...be.data()})}),z(ae)}catch(ce){console.error("Error fetching products:",ce)}};j(),ie()},[]),q.useEffect(()=>{const j=()=>{const ie=JSON.parse(localStorage.getItem("cart"))||[],ce=ie.reduce(($,se)=>$+se.quantity,0);b(ce),P(ie)};return j(),window.addEventListener("storage",j),window.addEventListener("cartUpdated",j),()=>{window.removeEventListener("storage",j),window.removeEventListener("cartUpdated",j)}},[]),q.useEffect(()=>{if(R.trim()===""){w([]);return}const j=R.toLowerCase(),ie=O.filter(ce=>{const $=ce.id.toLowerCase().includes(j),se=ce.tags&&ce.tags.some(ae=>ae.toLowerCase().includes(j));return $||se});w(ie.slice(0,5))},[R,O]);const M=j=>{o(ie=>ie===j?null:j)},I=()=>{e(!0)},V=j=>{C(j.target.value)},F=j=>{j.preventDefault(),E.length>0&&(window.location.href=`/product/${E[0].id}`)},U=()=>{L(!k),C(""),w([])};return f?d.jsx("div",{className:"bg-white border-y border-gray-200 h-16"}):d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"bg-white border-y border-gray-200 play-regular",children:[k&&d.jsx("div",{className:"md:hidden bg-white p-3 border-b border-gray-200",children:d.jsxs("div",{className:"relative",children:[d.jsxs("form",{onSubmit:F,className:"flex items-center",children:[d.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400",value:R,onChange:V,autoFocus:!0}),d.jsx("button",{type:"button",onClick:U,className:"ml-2 text-gray-500 hover:text-gray-700",children:d.jsx(Hu,{size:24})})]}),E.length>0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md",children:E.map(j=>d.jsx(wt,{to:`/product/${j.id}`,className:"block px-4 py-2 hover:bg-gray-100 border-b border-gray-100 last:border-b-0",onClick:()=>{L(!1),C("")},children:j.id},j.id))}),R&&E.length===0&&d.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg rounded-md px-4 py-2 text-gray-500",children:"No products found"})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"hidden md:flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsx(wt,{to:"/",className:"text-gray-700 hover:text-black",children:"Home"}),u.map(j=>j.type==="dropdown"?d.jsxs("div",{className:"group relative",children:[d.jsx(wt,{to:`/category/${j.id}`,className:"text-gray-700 hover:text-black capitalize",children:j.id}),d.jsx("div",{className:"absolute hidden group-hover:block bg-white shadow-md py-2 px-4 space-y-2 z-20 min-w-[200px] whitespace-nowrap",children:j.items.map(ie=>d.jsx(wt,{to:`${ie.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:ie.name},ie.path))})]},j.id):d.jsx(wt,{to:j.path,className:"text-gray-700 hover:text-black capitalize",children:j.id},j.id))]}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(wt,{to:"/",children:d.jsx("img",{src:lE,alt:"Brand Logo",className:"h-[130px] w-auto"})})}),d.jsxs("div",{className:"flex space-x-6 items-center",children:[d.jsxs("div",{className:"group relative",children:[d.jsx(wt,{to:"/all-categories",className:"text-gray-700 hover:text-black",children:"All Category"}),d.jsx("div",{className:"absolute right-[-100px] top-[20px] hidden group-hover:flex bg-white shadow-md py-4 px-6 pt-10 space-x-8 z-20",children:u.filter(j=>j.type==="dropdown").map(j=>d.jsxs("div",{className:"min-w-[200px] whitespace-nowrap",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2 capitalize",children:j.id}),d.jsx("div",{className:"space-y-1",children:j.items.map(ie=>d.jsx(wt,{to:`${ie.path}`,className:"block px-2 py-1 hover:bg-gray-100 hover:text-black rounded capitalize",children:ie.name},ie.path))})]},j.id))})]}),d.jsx(wt,{to:"/cart",className:"text-gray-700 hover:text-black",children:"Orders"}),d.jsxs("button",{onClick:()=>T(!0),className:"text-gray-700 hover:text-black relative",children:[d.jsx(wf,{size:20}),y>0&&d.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 hover:text-black",children:d.jsx(oE,{size:20})}),t&&d.jsxs("div",{className:"absolute top-full mt-2 z-50 right-0 bg-white border border-gray-200 shadow-md p-2 rounded w-64",children:[d.jsx("form",{onSubmit:F,children:d.jsx("input",{type:"text",placeholder:"Search products...",className:"px-2 py-1 border border-gray-300 rounded w-full focus:outline-none",value:R,onChange:V,autoFocus:!0})}),E.length>0&&d.jsx("div",{className:"mt-2 border-t border-gray-200 pt-2",children:E.map(j=>d.jsx(wt,{to:`/product/${j.id}`,className:"block px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>{r(!1),C("")},children:j.id},j.id))}),R&&E.length===0&&d.jsx("div",{className:"mt-2 text-sm text-gray-500 px-2 py-1",children:"No products found"})]})]})]})]}),d.jsxs("div",{className:"md:hidden flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:()=>{e(!n),L(!1)},children:n?d.jsx(Hu,{size:24}):d.jsx(pk,{size:24})})}),d.jsx("div",{className:"flex justify-center items-center z-50",children:d.jsx(wt,{to:"/",children:d.jsx("img",{src:lE,alt:"Brand Logo",className:"h-[120px] w-auto"})})}),d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:U,className:"text-gray-700 hover:text-black",children:k?d.jsx(Hu,{size:24}):d.jsx(oE,{size:24})})})]})]}),n&&!k&&d.jsxs("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-4 space-y-4",children:[d.jsx(wt,{to:"/",className:"block font-semibold",children:"Home"}),u.map(j=>j.type==="dropdown"?d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>M(j.id),className:"flex justify-between items-center w-full font-semibold text-left capitalize",children:[j.id,a===j.id?d.jsx(Ml,{size:18}):d.jsx(jl,{size:18})]}),a===j.id&&d.jsx("div",{className:"ml-4 mt-2 space-y-1",children:j.items.map(ie=>d.jsx(wt,{to:`${ie.path}`,className:"block capitalize",children:ie.name},ie.path))})]},j.id):d.jsx(wt,{to:j.path,className:"block font-semibold capitalize",children:j.id},j.id)),d.jsx(wt,{to:"/cart",className:"block font-semibold",children:"Orders"}),d.jsxs("button",{onClick:()=>{e(!1),T(!0)},className:"flex items-center space-x-2 relative",children:[d.jsx(wf,{size:20}),d.jsx("span",{children:"Cart"}),y>0&&d.jsx("span",{className:"absolute left-4 -top-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y})]})]})]}),!k&&d.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:d.jsxs("div",{className:"flex justify-around items-center h-16",children:[d.jsxs(wt,{to:"/",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(ok,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),d.jsxs("button",{onClick:I,className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(dk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Category"})]}),d.jsxs(wt,{to:"/cart",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(bk,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),d.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2 relative",children:[d.jsx(wf,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Cart"}),y>0&&d.jsx("span",{className:"absolute top-0 right-2 bg-red-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:y})]}),d.jsxs("a",{href:"tel:+1234567890",className:"flex flex-col items-center justify-center text-gray-700 hover:text-black p-2",children:[d.jsx(_f,{size:20}),d.jsx("span",{className:"text-xs mt-1",children:"Call"})]})]})}),d.jsx(Ck,{isOpen:_,onClose:()=>T(!1),cartItems:A})]})},Ik=()=>d.jsx("div",{children:d.jsx("div",{children:d.jsx("div",{className:"w-full block md:hidden px-4 font-semibold",children:d.jsx(gT,{children:"hnbkjbndsfh;kln"})})})});var Nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Do=typeof window>"u"||"Deno"in globalThis;function vr(){}function jk(n,e){return typeof n=="function"?n(e):n}function Y0(n){return typeof n=="number"&&n>=0&&n!==1/0}function G2(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ql(n,e){return typeof n=="function"?n(e):n}function hs(n,e){return typeof n=="function"?n(e):n}function cE(n,e){const{type:t="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=n;if(u){if(r){if(e.queryHash!==Nv(u,e.options))return!1}else if(!id(e.queryKey,u))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function uE(n,e){const{exact:t,status:r,predicate:a,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(sd(e.options.mutationKey)!==sd(o))return!1}else if(!id(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function Nv(n,e){return((e==null?void 0:e.queryKeyHashFn)||sd)(n)}function sd(n){return JSON.stringify(n,(e,t)=>W0(t)?Object.keys(t).sort().reduce((r,a)=>(r[a]=t[a],r),{}):t)}function id(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>id(n[t],e[t])):!1}function Q2(n,e){if(n===e)return n;const t=dE(n)&&dE(e);if(t||W0(n)&&W0(e)){const r=t?n:Object.keys(n),a=r.length,o=t?e:Object.keys(e),u=o.length,h=t?[]:{};let f=0;for(let p=0;p<u;p++){const y=t?p:o[p];(!t&&r.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,f++):(h[y]=Q2(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&f++)}return a===u&&f===a?n:h}return e}function X0(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function dE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function W0(n){if(!hE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!hE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function hE(n){return Object.prototype.toString.call(n)==="[object Object]"}function Mk(n){return new Promise(e=>{setTimeout(e,n)})}function Z0(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Q2(n,e):e}function Ok(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Dk(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Cv=Symbol();function K2(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Cv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Pk(n,e){return typeof n=="function"?n(...e):!!n}var _o,da,$l,kE,kk=(kE=class extends Nd{constructor(){super();Qe(this,_o);Qe(this,da);Qe(this,$l);Ie(this,$l,e=>{if(!Do&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,da)||this.setEventListener(Y(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,da))==null||e.call(this),Ie(this,da,void 0))}setEventListener(e){var t;Ie(this,$l,e),(t=Y(this,da))==null||t.call(this),Ie(this,da,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,_o)!==e&&(Ie(this,_o,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,_o)=="boolean"?Y(this,_o):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_o=new WeakMap,da=new WeakMap,$l=new WeakMap,kE),Rv=new kk,Gl,ha,Ql,LE,Lk=(LE=class extends Nd{constructor(){super();Qe(this,Gl,!0);Qe(this,ha);Qe(this,Ql);Ie(this,Ql,e=>{if(!Do&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,ha)||this.setEventListener(Y(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ha))==null||e.call(this),Ie(this,ha,void 0))}setEventListener(e){var t;Ie(this,Ql,e),(t=Y(this,ha))==null||t.call(this),Ie(this,ha,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Gl)!==e&&(Ie(this,Gl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,Gl)}},Gl=new WeakMap,ha=new WeakMap,Ql=new WeakMap,LE),em=new Lk;function J0(){let n,e;const t=new Promise((a,o)=>{n=a,e=o});t.status="pending",t.catch(()=>{});function r(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},t.reject=a=>{r({status:"rejected",reason:a}),e(a)},t}function Vk(n){return Math.min(1e3*2**n,3e4)}function Y2(n){return(n??"online")==="online"?em.isOnline():!0}var X2=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function i0(n){return n instanceof X2}function W2(n){let e=!1,t=0,r=!1,a;const o=J0(),u=P=>{var R;r||(_(new X2(P)),(R=n.abort)==null||R.call(n))},h=()=>{e=!0},f=()=>{e=!1},p=()=>Rv.isFocused()&&(n.networkMode==="always"||em.isOnline())&&n.canRun(),y=()=>Y2(n.networkMode)&&n.canRun(),b=P=>{var R;r||(r=!0,(R=n.onSuccess)==null||R.call(n,P),a==null||a(),o.resolve(P))},_=P=>{var R;r||(r=!0,(R=n.onError)==null||R.call(n,P),a==null||a(),o.reject(P))},T=()=>new Promise(P=>{var R;a=C=>{(r||p())&&P(C)},(R=n.onPause)==null||R.call(n)}).then(()=>{var P;a=void 0,r||(P=n.onContinue)==null||P.call(n)}),A=()=>{if(r)return;let P;const R=t===0?n.initialPromise:void 0;try{P=R??n.fn()}catch(C){P=Promise.reject(C)}Promise.resolve(P).then(b).catch(C=>{var k;if(r)return;const E=n.retry??(Do?0:3),w=n.retryDelay??Vk,O=typeof w=="function"?w(t,C):w,z=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,C);if(e||!z){_(C);return}t++,(k=n.onFail)==null||k.call(n,t,C),Mk(O).then(()=>p()?void 0:T()).then(()=>{e?_(C):A()})})};return{promise:o,cancel:u,continue:()=>(a==null||a(),o),cancelRetry:h,continueRetry:f,canStart:y,start:()=>(y()?A():T().then(A),o)}}var zk=n=>setTimeout(n,0);function Uk(){let n=[],e=0,t=h=>{h()},r=h=>{h()},a=zk;const o=h=>{e?n.push(h):a(()=>{t(h)})},u=()=>{const h=n;n=[],h.length&&a(()=>{r(()=>{h.forEach(f=>{t(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Un=Uk(),wo,VE,Z2=(VE=class{constructor(){Qe(this,wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y0(this.gcTime)&&Ie(this,wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Do?1/0:5*60*1e3))}clearGcTimeout(){Y(this,wo)&&(clearTimeout(Y(this,wo)),Ie(this,wo,void 0))}},wo=new WeakMap,VE),Kl,Yl,es,Eo,Kn,od,To,us,xi,zE,Bk=(zE=class extends Z2{constructor(e){super();Qe(this,us);Qe(this,Kl);Qe(this,Yl);Qe(this,es);Qe(this,Eo);Qe(this,Kn);Qe(this,od);Qe(this,To);Ie(this,To,!1),Ie(this,od,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Eo,e.client),Ie(this,es,Y(this,Eo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Kl,Fk(this.options)),this.state=e.state??Y(this,Kl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Y(this,od),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,es).remove(this)}setData(e,t){const r=Z0(this.state.data,e,this.options);return mt(this,us,xi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){mt(this,us,xi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,a;const t=(r=Y(this,Kn))==null?void 0:r.promise;return(a=Y(this,Kn))==null||a.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Kl))}isActive(){return this.observers.some(e=>hs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!G2(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=Y(this,Kn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Y(this,Kn)&&(Y(this,To)?Y(this,Kn).cancel({revert:!0}):Y(this,Kn).cancelRetry()),this.scheduleGc()),Y(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,us,xi).call(this,{type:"invalidate"})}fetch(e,t){var f,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Kn))return Y(this,Kn).continueRetry(),Y(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Ie(this,To,!0),r.signal)})},o=()=>{const b=K2(this.options,t),_={client:Y(this,Eo),queryKey:this.queryKey,meta:this.meta};return a(_),Ie(this,To,!1),this.options.persister?this.options.persister(b,_,this):b(_)},u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Y(this,Eo),state:this.state,fetchFn:o};a(u),(f=this.options.behavior)==null||f.onFetch(u,this),Ie(this,Yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&mt(this,us,xi).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const h=b=>{var _,T,A,P;i0(b)&&b.silent||mt(this,us,xi).call(this,{type:"error",error:b}),i0(b)||((T=(_=Y(this,es).config).onError)==null||T.call(_,b,this),(P=(A=Y(this,es).config).onSettled)==null||P.call(A,this.state.data,b,this)),this.scheduleGc()};return Ie(this,Kn,W2({initialPromise:t==null?void 0:t.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var _,T,A,P;if(b===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(R){h(R);return}(T=(_=Y(this,es).config).onSuccess)==null||T.call(_,b,this),(P=(A=Y(this,es).config).onSettled)==null||P.call(A,b,this.state.error,this),this.scheduleGc()},onError:h,onFail:(b,_)=>{mt(this,us,xi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{mt(this,us,xi).call(this,{type:"pause"})},onContinue:()=>{mt(this,us,xi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Y(this,Kn).start()}},Kl=new WeakMap,Yl=new WeakMap,es=new WeakMap,Eo=new WeakMap,Kn=new WeakMap,od=new WeakMap,To=new WeakMap,us=new WeakSet,xi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...J2(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return i0(a)&&a.revert&&Y(this,Yl)?{...Y(this,Yl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Y(this,es).notify({query:this,type:"updated",action:e})})},zE);function J2(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y2(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Fk(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Us,UE,qk=(UE=class extends Nd{constructor(e={}){super();Qe(this,Us);this.config=e,Ie(this,Us,new Map)}build(e,t,r){const a=t.queryKey,o=t.queryHash??Nv(a,t);let u=this.get(o);return u||(u=new Bk({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){Y(this,Us).has(e.queryHash)||(Y(this,Us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,Us).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,Us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Us).get(e)}getAll(){return[...Y(this,Us).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>cE(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>cE(e,r)):t}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Us=new WeakMap,UE),Bs,or,So,Fs,ia,BE,Hk=(BE=class extends Z2{constructor(e){super();Qe(this,Fs);Qe(this,Bs);Qe(this,or);Qe(this,So);this.mutationId=e.mutationId,Ie(this,or,e.mutationCache),Ie(this,Bs,[]),this.state=e.state||$k(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Bs).includes(e)||(Y(this,Bs).push(e),this.clearGcTimeout(),Y(this,or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Bs,Y(this,Bs).filter(t=>t!==e)),this.scheduleGc(),Y(this,or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Y(this,or).remove(this))}continue(){var e;return((e=Y(this,So))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,u,h,f,p,y,b,_,T,A,P,R,C,E,w,O,z,k,L,M;const t=()=>{mt(this,Fs,ia).call(this,{type:"continue"})};Ie(this,So,W2({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,V)=>{mt(this,Fs,ia).call(this,{type:"failed",failureCount:I,error:V})},onPause:()=>{mt(this,Fs,ia).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,or).canRun(this)}));const r=this.state.status==="pending",a=!Y(this,So).canStart();try{if(r)t();else{mt(this,Fs,ia).call(this,{type:"pending",variables:e,isPaused:a}),await((u=(o=Y(this,or).config).onMutate)==null?void 0:u.call(o,e,this));const V=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,e));V!==this.state.context&&mt(this,Fs,ia).call(this,{type:"pending",context:V,variables:e,isPaused:a})}const I=await Y(this,So).start();return await((y=(p=Y(this,or).config).onSuccess)==null?void 0:y.call(p,I,e,this.state.context,this)),await((_=(b=this.options).onSuccess)==null?void 0:_.call(b,I,e,this.state.context)),await((A=(T=Y(this,or).config).onSettled)==null?void 0:A.call(T,I,null,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,I,null,e,this.state.context)),mt(this,Fs,ia).call(this,{type:"success",data:I}),I}catch(I){try{throw await((E=(C=Y(this,or).config).onError)==null?void 0:E.call(C,I,e,this.state.context,this)),await((O=(w=this.options).onError)==null?void 0:O.call(w,I,e,this.state.context)),await((k=(z=Y(this,or).config).onSettled)==null?void 0:k.call(z,void 0,I,this.state.variables,this.state.context,this)),await((M=(L=this.options).onSettled)==null?void 0:M.call(L,void 0,I,e,this.state.context)),I}finally{mt(this,Fs,ia).call(this,{type:"error",error:I})}}finally{Y(this,or).runNext(this)}}},Bs=new WeakMap,or=new WeakMap,So=new WeakMap,Fs=new WeakSet,ia=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Un.batch(()=>{Y(this,Bs).forEach(r=>{r.onMutationUpdate(e)}),Y(this,or).notify({mutation:this,type:"updated",action:e})})},BE);function $k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,ds,ld,FE,Gk=(FE=class extends Nd{constructor(e={}){super();Qe(this,wi);Qe(this,ds);Qe(this,ld);this.config=e,Ie(this,wi,new Set),Ie(this,ds,new Map),Ie(this,ld,0)}build(e,t,r){const a=new Hk({mutationCache:this,mutationId:++Hh(this,ld)._,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){Y(this,wi).add(e);const t=ef(e);if(typeof t=="string"){const r=Y(this,ds).get(t);r?r.push(e):Y(this,ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,wi).delete(e)){const t=ef(e);if(typeof t=="string"){const r=Y(this,ds).get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&Y(this,ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ef(e);if(typeof t=="string"){const r=Y(this,ds).get(t),a=r==null?void 0:r.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){var r;const t=ef(e);if(typeof t=="string"){const a=(r=Y(this,ds).get(t))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{Y(this,wi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,wi).clear(),Y(this,ds).clear()})}getAll(){return Array.from(Y(this,wi))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>uE(t,r))}findAll(e={}){return this.getAll().filter(t=>uE(e,t))}notify(e){Un.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Un.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},wi=new WeakMap,ds=new WeakMap,ld=new WeakMap,FE);function ef(n){var e;return(e=n.options.scope)==null?void 0:e.id}function tm(n){return{onFetch:(e,t)=>{var y,b,_,T,A;const r=e.options,a=(_=(b=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:b.fetchMore)==null?void 0:_.direction,o=((T=e.state.data)==null?void 0:T.pages)||[],u=((A=e.state.data)==null?void 0:A.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let P=!1;const R=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?P=!0:e.signal.addEventListener("abort",()=>{P=!0}),e.signal)})},C=K2(e.options,e.fetchOptions),E=async(w,O,z)=>{if(P)return Promise.reject();if(O==null&&w.pages.length)return Promise.resolve(w);const k={client:e.client,queryKey:e.queryKey,pageParam:O,direction:z?"backward":"forward",meta:e.options.meta};R(k);const L=await C(k),{maxPages:M}=e.options,I=z?Dk:Ok;return{pages:I(w.pages,L,M),pageParams:I(w.pageParams,O,M)}};if(a&&o.length){const w=a==="backward",O=w?eA:ey,z={pages:o,pageParams:u},k=O(r,z);h=await E(z,k,w)}else{const w=n??o.length;do{const O=f===0?u[0]??r.initialPageParam:ey(r,h);if(f>0&&O==null)break;h=await E(h,O),f++}while(f<w)}return h};e.options.persister?e.fetchFn=()=>{var P,R;return(R=(P=e.options).persister)==null?void 0:R.call(P,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function ey(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function eA(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function Qk(n,e){return e?ey(n,e)!=null:!1}function Kk(n,e){return!e||!n.getPreviousPageParam?!1:eA(n,e)!=null}var Jt,fa,ma,Xl,Wl,pa,Zl,Jl,qE,Yk=(qE=class{constructor(n={}){Qe(this,Jt);Qe(this,fa);Qe(this,ma);Qe(this,Xl);Qe(this,Wl);Qe(this,pa);Qe(this,Zl);Qe(this,Jl);Ie(this,Jt,n.queryCache||new qk),Ie(this,fa,n.mutationCache||new Gk),Ie(this,ma,n.defaultOptions||{}),Ie(this,Xl,new Map),Ie(this,Wl,new Map),Ie(this,pa,0)}mount(){Hh(this,pa)._++,Y(this,pa)===1&&(Ie(this,Zl,Rv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onFocus())})),Ie(this,Jl,em.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,Jt).onOnline())})))}unmount(){var n,e;Hh(this,pa)._--,Y(this,pa)===0&&((n=Y(this,Zl))==null||n.call(this),Ie(this,Zl,void 0),(e=Y(this,Jl))==null||e.call(this),Ie(this,Jl,void 0))}isFetching(n){return Y(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,fa).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(ql(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),a=Y(this,Jt).get(r.queryHash),o=a==null?void 0:a.state.data,u=jk(e,o);if(u!==void 0)return Y(this,Jt).build(this,r).setData(u,{...t,manual:!0})}setQueriesData(n,e,t){return Un.batch(()=>Y(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,Jt);Un.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,Jt);return Un.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Un.batch(()=>Y(this,Jt).findAll(n).map(a=>a.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return Un.batch(()=>(Y(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>Y(this,Jt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,t);return t.throwOnError||(o=o.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,Jt).build(this,e);return t.isStaleByTime(ql(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=tm(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=tm(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return em.isOnline()?Y(this,fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Jt)}getMutationCache(){return Y(this,fa)}getDefaultOptions(){return Y(this,ma)}setDefaultOptions(n){Ie(this,ma,n)}setQueryDefaults(n,e){Y(this,Xl).set(sd(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,Xl).values()],t={};return e.forEach(r=>{id(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,Wl).set(sd(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,Wl).values()],t={};return e.forEach(r=>{id(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,ma).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Nv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cv&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,ma).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,Jt).clear(),Y(this,fa).clear()}},Jt=new WeakMap,fa=new WeakMap,ma=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,pa=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,qE),gr,pt,cd,lr,Ao,ec,ga,ya,ud,tc,nc,No,Co,va,rc,Ct,ku,ty,ny,ry,sy,iy,ay,oy,nA,HE,tA=(HE=class extends Nd{constructor(e,t){super();Qe(this,Ct);Qe(this,gr);Qe(this,pt);Qe(this,cd);Qe(this,lr);Qe(this,Ao);Qe(this,ec);Qe(this,ga);Qe(this,ya);Qe(this,ud);Qe(this,tc);Qe(this,nc);Qe(this,No);Qe(this,Co);Qe(this,va);Qe(this,rc,new Set);this.options=t,Ie(this,gr,e),Ie(this,ya,null),Ie(this,ga,J0()),this.options.experimental_prefetchInRender||Y(this,ga).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,pt).addObserver(this),fE(Y(this,pt),this.options)?mt(this,Ct,ku).call(this):this.updateResult(),mt(this,Ct,sy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ly(Y(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ly(Y(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Ct,iy).call(this),mt(this,Ct,ay).call(this),Y(this,pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,pt);if(this.options=Y(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,Y(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Ct,oy).call(this),Y(this,pt).setOptions(this.options),t._defaulted&&!X0(this.options,t)&&Y(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,pt),observer:this});const a=this.hasListeners();a&&mE(Y(this,pt),r,this.options,t)&&mt(this,Ct,ku).call(this),this.updateResult(),a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||ql(this.options.staleTime,Y(this,pt))!==ql(t.staleTime,Y(this,pt)))&&mt(this,Ct,ty).call(this);const o=mt(this,Ct,ny).call(this);a&&(Y(this,pt)!==r||hs(this.options.enabled,Y(this,pt))!==hs(t.enabled,Y(this,pt))||o!==Y(this,va))&&mt(this,Ct,ry).call(this,o)}getOptimisticResult(e){const t=Y(this,gr).getQueryCache().build(Y(this,gr),e),r=this.createResult(t,e);return Wk(this,r)&&(Ie(this,lr,r),Ie(this,ec,this.options),Ie(this,Ao,Y(this,pt).state)),r}getCurrentResult(){return Y(this,lr)}trackResult(e,t){return new Proxy(e,{get:(r,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(r,a))})}trackProp(e){Y(this,rc).add(e)}getCurrentQuery(){return Y(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,gr).defaultQueryOptions(e),r=Y(this,gr).getQueryCache().build(Y(this,gr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return mt(this,Ct,ku).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,lr)))}createResult(e,t){var I;const r=Y(this,pt),a=this.options,o=Y(this,lr),u=Y(this,Ao),h=Y(this,ec),p=e!==r?e.state:Y(this,cd),{state:y}=e;let b={...y},_=!1,T;if(t._optimisticResults){const V=this.hasListeners(),F=!V&&fE(e,t),U=V&&mE(e,r,t,a);(F||U)&&(b={...b,...J2(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:A,errorUpdatedAt:P,status:R}=b;T=b.data;let C=!1;if(t.placeholderData!==void 0&&T===void 0&&R==="pending"){let V;o!=null&&o.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(V=o.data,C=!0):V=typeof t.placeholderData=="function"?t.placeholderData((I=Y(this,nc))==null?void 0:I.state.data,Y(this,nc)):t.placeholderData,V!==void 0&&(R="success",T=Z0(o==null?void 0:o.data,V,t),_=!0)}if(t.select&&T!==void 0&&!C)if(o&&T===(u==null?void 0:u.data)&&t.select===Y(this,ud))T=Y(this,tc);else try{Ie(this,ud,t.select),T=t.select(T),T=Z0(o==null?void 0:o.data,T,t),Ie(this,tc,T),Ie(this,ya,null)}catch(V){Ie(this,ya,V)}Y(this,ya)&&(A=Y(this,ya),T=Y(this,tc),P=Date.now(),R="error");const E=b.fetchStatus==="fetching",w=R==="pending",O=R==="error",z=w&&E,k=T!==void 0,M={status:R,fetchStatus:b.fetchStatus,isPending:w,isSuccess:R==="success",isError:O,isInitialLoading:z,isLoading:z,data:T,dataUpdatedAt:b.dataUpdatedAt,error:A,errorUpdatedAt:P,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:O&&!k,isPaused:b.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:O&&k,isStale:Iv(e,t),refetch:this.refetch,promise:Y(this,ga)};if(this.options.experimental_prefetchInRender){const V=j=>{M.status==="error"?j.reject(M.error):M.data!==void 0&&j.resolve(M.data)},F=()=>{const j=Ie(this,ga,M.promise=J0());V(j)},U=Y(this,ga);switch(U.status){case"pending":e.queryHash===r.queryHash&&V(U);break;case"fulfilled":(M.status==="error"||M.data!==U.value)&&F();break;case"rejected":(M.status!=="error"||M.error!==U.reason)&&F();break}}return M}updateResult(){const e=Y(this,lr),t=this.createResult(Y(this,pt),this.options);if(Ie(this,Ao,Y(this,pt).state),Ie(this,ec,this.options),Y(this,Ao).data!==void 0&&Ie(this,nc,Y(this,pt)),X0(t,e))return;Ie(this,lr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!Y(this,rc).size)return!0;const u=new Set(o??Y(this,rc));return this.options.throwOnError&&u.add("error"),Object.keys(Y(this,lr)).some(h=>{const f=h;return Y(this,lr)[f]!==e[f]&&u.has(f)})};mt(this,Ct,nA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Ct,sy).call(this)}},gr=new WeakMap,pt=new WeakMap,cd=new WeakMap,lr=new WeakMap,Ao=new WeakMap,ec=new WeakMap,ga=new WeakMap,ya=new WeakMap,ud=new WeakMap,tc=new WeakMap,nc=new WeakMap,No=new WeakMap,Co=new WeakMap,va=new WeakMap,rc=new WeakMap,Ct=new WeakSet,ku=function(e){mt(this,Ct,oy).call(this);let t=Y(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(vr)),t},ty=function(){mt(this,Ct,iy).call(this);const e=ql(this.options.staleTime,Y(this,pt));if(Do||Y(this,lr).isStale||!Y0(e))return;const r=G2(Y(this,lr).dataUpdatedAt,e)+1;Ie(this,No,setTimeout(()=>{Y(this,lr).isStale||this.updateResult()},r))},ny=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,pt)):this.options.refetchInterval)??!1},ry=function(e){mt(this,Ct,ay).call(this),Ie(this,va,e),!(Do||hs(this.options.enabled,Y(this,pt))===!1||!Y0(Y(this,va))||Y(this,va)===0)&&Ie(this,Co,setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&mt(this,Ct,ku).call(this)},Y(this,va)))},sy=function(){mt(this,Ct,ty).call(this),mt(this,Ct,ry).call(this,mt(this,Ct,ny).call(this))},iy=function(){Y(this,No)&&(clearTimeout(Y(this,No)),Ie(this,No,void 0))},ay=function(){Y(this,Co)&&(clearInterval(Y(this,Co)),Ie(this,Co,void 0))},oy=function(){const e=Y(this,gr).getQueryCache().build(Y(this,gr),this.options);if(e===Y(this,pt))return;const t=Y(this,pt);Ie(this,pt,e),Ie(this,cd,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},nA=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,lr))}),Y(this,gr).getQueryCache().notify({query:Y(this,pt),type:"observerResultsUpdated"})})},HE);function Xk(n,e){return hs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function fE(n,e){return Xk(n,e)||n.state.data!==void 0&&ly(n,e,e.refetchOnMount)}function ly(n,e,t){if(hs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Iv(n,e)}return!1}function mE(n,e,t,r){return(n!==e||hs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Iv(n,t)}function Iv(n,e){return hs(e.enabled,n)!==!1&&n.isStaleByTime(ql(e.staleTime,n))}function Wk(n,e){return!X0(n.getCurrentResult(),e)}var Zk=class extends tA{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:tm()})}getOptimisticResult(n){return n.behavior=tm(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var A,P;const{state:t}=n,r=super.createResult(n,e),{isFetching:a,isRefetching:o,isError:u,isRefetchError:h}=r,f=(P=(A=t.fetchMeta)==null?void 0:A.fetchMore)==null?void 0:P.direction,p=u&&f==="forward",y=a&&f==="forward",b=u&&f==="backward",_=a&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Qk(e,t.data),hasPreviousPage:Kk(e,t.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:b,isFetchingPreviousPage:_,isRefetchError:h&&!p&&!b,isRefetching:o&&!y&&!_}}},rA=q.createContext(void 0),Jk=n=>{const e=q.useContext(rA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},e6=({client:n,children:e})=>(q.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(rA.Provider,{value:n,children:e})),sA=q.createContext(!1),t6=()=>q.useContext(sA);sA.Provider;function n6(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var r6=q.createContext(n6()),s6=()=>q.useContext(r6),i6=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},a6=n=>{q.useEffect(()=>{n.clearReset()},[n])},o6=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||Pk(t,[n.error,r])),l6=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},c6=(n,e)=>n.isLoading&&n.isFetching&&!e,u6=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,pE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function iA(n,e,t){var b,_,T,A,P;const r=Jk(),a=t6(),o=s6(),u=r.defaultQueryOptions(n);(_=(b=r.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||_.call(b,u),u._optimisticResults=a?"isRestoring":"optimistic",l6(u),i6(u,o),a6(o);const h=!r.getQueryCache().get(u.queryHash),[f]=q.useState(()=>new e(r,u)),p=f.getOptimisticResult(u),y=!a&&n.subscribed!==!1;if(q.useSyncExternalStore(q.useCallback(R=>{const C=y?f.subscribe(Un.batchCalls(R)):vr;return f.updateResult(),C},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),q.useEffect(()=>{f.setOptions(u)},[u,f]),u6(u,p))throw pE(u,f,o);if(o6({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:r.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((A=(T=r.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||A.call(T,u,p),u.experimental_prefetchInRender&&!Do&&c6(p,a)){const R=h?pE(u,f,o):(P=r.getQueryCache().get(u.queryHash))==null?void 0:P.promise;R==null||R.catch(vr).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?p:f.trackResult(p)}function d6(n,e){return iA(n,tA)}function aA(n,e){return iA(n,Zk)}const gE="/assets/480353899_615347981104853_3842057109669510985_n%20(1)-BzpyA6IB.jpg",h6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-37.062%20-28.3525%20321.204%20170.115'%3e%3cg%20fill='none'%3e%3cpath%20fill='%23D12053'%20d='M223.65%2062.45l-53.03-8.31%207.03%2031.6z'/%3e%3cpath%20fill='%23E2136E'%20d='M223.65%2062.45L183.69%206.93l-13.06%2047.22z'/%3e%3cpath%20fill='%23D12053'%20d='M169.39%2053.51L127.52%200l54.83%206.55z'/%3e%3cpath%20fill='%239E1638'%20d='M150.32%2031.15L127.07%209.24h6.12z'/%3e%3cpath%20fill='%23D12053'%20d='M234.96%2035.46l-9.84%2026.69-15.95-22.06z'/%3e%3cpath%20fill='%23E2136E'%20d='M183.84%2084.14l38.61-15.51%201.62-4.93z'/%3e%3cpath%20fill='%239E1638'%20d='M152.96%20113.41l16.54-58.02%208.39%2037.75z'/%3e%3cpath%20fill='%23E2136E'%20d='M236.5%2035.67l-4.06%2011.02%2014.64-.24zM0%2040.09c.71.06%201.43.19%202.19.19s1.38-.13%202.19-.19v23.47c2.31-3.93%205.22-6.52%209.5-6.52%207.74%200%2011.06%207.66%2011.06%2014.7%200%208.43-4.5%2016.5-12.39%2016.5a8.66%208.66%200%2001-7.77-4.47c-1.32%201.16-2.49%202.55-3.74%203.81h-1zm4.28%2034.52c0%206.84%202.9%2011.61%207.67%2011.61%206.19%200%208.18-8.32%208.18-14.22%200-6.85-2.26-12.24-7.62-12.3-6.26-.05-8.23%207.36-8.23%2014.92z'/%3e%3cpath%20fill='%23231F20'%20d='M45.13%2055.27l-4.66%206c4.38%206.4%208.92%2012.67%2013.32%2019.15l4.44%207v.35c-1.09-.07-2.08-.21-3-.21-.92%200-2.08.14-3.06.21-1.21-2.24-2.41-4.31-3.78-6.34l-12-17.75c-.27-.28-.92-.5-.92-.21v24.3c-.88-.07-1.65-.21-2.41-.21-.76%200-1.64.14-2.41.21V40.09c.77.06%201.6.21%202.41.21s1.53-.15%202.41-.21v21.52c0%20.42.82.14%201.36-.42a37.1%2037.1%200%20002.92-3.42l13.49-17.7c.71.06%201.42.21%202.19.21s1.36-.15%202.14-.21zM81.42%2082.4c0%202.48-.16%203.74%203.07%202.92v1.39a8.87%208.87%200%2001-1.65.63c-2.85.57-5.21.06-5.65-3.67l-.49.55a10.17%2010.17%200%2001-8.12%204c-3.88%200-7.28-3.06-7.28-7.75%200-7.23%205-8.18%2010.13-9.13%204.34-.82%205.82-1.2%205.82-4.25%200-4.7-2.3-7.42-6.41-7.42a6.85%206.85%200%2000-6.52%204.37h-.6v-3.52a14.2%2014.2%200%20018.87-3.48c5.75%200%208.88%203.48%208.88%2010.65zm-4.38-10.47l-1.93.44c-3.73.82-9.32%201.45-9.32%207.24%200%204%202%206%205.36%206a6.83%206.83%200%20004.44-2.44c.4-.46%201.5-1.54%201.5-2zm14.15%209.63c1.3%202.49%203.72%204.72%206.3%204.72a5.67%205.67%200%20005.38-5.78c0-8.56-12.95-3-12.95-14.08%200-6.08%204-9.37%208.93-9.37%202.18-.048%204.33.52%206.2%201.64a32.791%2032.791%200%2000-1.3%204.5h-.5c-.72-2.09-2.63-4.19-4.66-4.19-2.74%200-5%201.85-5%205.28%200%208.11%2012.95%203.79%2012.95%2013.94%200%206.79-5.26%2010-10.1%2010a12.73%2012.73%200%2001-6.84-2%2034.42%2034.42%200%20001.15-4.65zm22.73-41.47c.73.06%201.44.19%202.2.19.76%200%201.38-.13%202.2-.19v23.09c1.92-3.87%204.93-6.14%208.83-6.14%206.36%200%208.83%204.36%208.83%2012.36v18.37c-.83-.07-1.47-.19-2.2-.19-.73%200-1.48.13-2.2.19V70.85c0-7-1.41-10.53-6.08-10.53-4.94%200-7.18%203.56-7.18%2010.15v17.3c-.82-.07-1.47-.19-2.2-.19-.73%200-1.46.13-2.2.19z'/%3e%3c/g%3e%3c/svg%3e",f6="/assets/Nagad-Logo.wine-BlVRnsIb.svg",m6="/assets/dutch-bangla-rocket-logo-png_seeklogo-317692-DPiqreWE.png",p6=()=>d.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:d.jsx("path",{fill:"#1A1F71",d:"M9.064 8.482l-1.09 6.966h1.527l1.09-6.966H9.064zm6.11 0l-1.09 6.966h1.527l1.09-6.966h-1.527zm-8.2 0L4.782 15.45h1.527l.69-4.414.017-.107.63-2.446H6.974zm12.052 0l-1.09 6.966h1.258l.77-4.92.042-.268.62-1.778h-1.58zm-5.137 0l-1.09 6.966h4.183l.26-1.656h-2.606l.4-2.57h2.547l.26-1.656h-2.547l.4-2.57h2.606l.26-1.656h-4.183z"})}),g6=()=>d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-6 h-6",children:[d.jsx("path",{fill:"#EB001B",d:"M12 6.654a6 6 0 100 10.692 6 6 0 000-10.692z"}),d.jsx("path",{fill:"#F79E1B",d:"M12 6.654a6 6 0 110 10.692 6 6 0 010-10.692z"}),d.jsx("path",{fill:"#FF5F00",d:"M12 6.654a6 6 0 100 10.692 6 6 0 010-10.692z"})]}),oA=()=>{const n=new Date().getFullYear(),e=`
        Mahira Collection একটি অনলাইন ফ্যাশন শপ যেখানে মেয়েদের ও ছেলেদের জন্য আধুনিক এবং ট্রেন্ডি পোশাক ও অ্যাক্সেসরিজ পাওয়া যায়।
        আমাদের সংগ্রহে রয়েছে পার্টি, ক্যাজুয়াল ও ট্র্যাডিশনাল সব ধরনের পোশাক।
        মেয়েদের জন্য রয়েছে দোপাট্টা, কুর্তি, শাড়ি, হিজাব, ব্যাগ ও গহনার দারুণ কালেকশন।
        ছেলেদের জন্য রয়েছে পাঞ্জাবি, শার্ট, টি-শার্ট, ঘড়ি, চশমা ও জুতা।
        Mahira Collection সব বয়সের জন্য মানসম্মত পণ্যের নিশ্চয়তা দেয়।
        আমরা নতুন ট্রেন্ড ও সিজন অনুযায়ী কালেকশন আপডেট করি।
        দেশজুড়ে দ্রুত এবং নির্ভরযোগ্য ডেলিভারি সার্ভিস রয়েছে।
        আমাদের ওয়েবসাইট ব্যবহার করা সহজ এবং মোবাইল ফ্রেন্ডলি।
        বিশেষ ছাড় ও অফারের মাধ্যমে আমরা কাস্টমারদের জন্য শপিং আরও উপভোগ্য করে তুলি।
        Mahira Collection মানে স্টাইল, আরাম ও গুণগত মানের নিশ্চয়তা।
    `,[t,r]=q.useState(!1),a=t?e:e.split(`
`).slice(0,4).join(`
`),o=()=>{r(!t)},[u,h]=q.useState(null),f=y=>{h(u===y?null:y)},p=[{name:"bKash",icon:d.jsx("img",{src:h6,alt:"bKash",className:"h-6 w-auto"}),color:"bg-pink-100"},{name:"Nagad",icon:d.jsx("img",{src:f6,alt:"Nagad",className:"h-6 w-auto"}),color:"bg-purple-100"},{name:"Rocket",icon:d.jsx("img",{src:m6,alt:"Rocket",className:"h-6 w-auto"}),color:"bg-indigo-100"},{name:"Visa",icon:d.jsx(p6,{}),color:"bg-blue-100"},{name:"Mastercard",icon:d.jsx(g6,{}),color:"bg-red-100"},{name:"Cash on Delivery",icon:d.jsx(rk,{size:16,className:"text-gray-700"}),color:"bg-green-100"}];return d.jsx("footer",{className:"bg-gray-50 text-gray-700 play-regular w-full border-t border-gray-200",children:d.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"hidden md:flex flex-col md:flex-row items-center justify-between gap-8 mb-10 border-b border-gray-200 pb-8",children:[d.jsx("div",{className:"w-full md:w-auto flex justify-center items-start md:justify-start",children:d.jsx(wt,{to:"/",className:"flex justify-center",children:d.jsx("img",{src:gE,alt:"Mahira Collection Logo",className:"h-24 object-contain"})})}),d.jsx("div",{className:"text-sm md:text-base text-center md:text-left",children:d.jsxs("p",{className:"whitespace-pre-line",children:[a,!t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read More ",d.jsx(jl,{size:16,className:"ml-1"})]}),t&&e.split(`
`).length>4&&d.jsxs("button",{onClick:o,className:"text-blue-600 hover:text-blue-800 font-medium ml-2 focus:outline-none flex items-center",children:["Read Less ",d.jsx(Ml,{size:16,className:"ml-1"})]})]})})]}),d.jsx("div",{className:"md:hidden mb-6 border-b border-gray-200 pb-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(wt,{to:"/",className:"mb-4",children:d.jsx("img",{src:gE,alt:"Mahira Collection Logo",className:"h-20 object-contain"})}),d.jsx("p",{className:"text-sm text-center whitespace-pre-line",children:e.split(`
`).slice(0,4).join(`
`)})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"md:hidden space-y-4 mb-6",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("quickLinks"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Quick Links",u==="quickLinks"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="quickLinks"&&d.jsx("ul",{className:"mt-3 space-y-2 text-sm pl-2",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"}].map((y,b)=>d.jsx("li",{children:d.jsx(wt,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},b))})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("contact"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Contact Us",u==="contact"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="contact"&&d.jsxs("div",{className:"mt-3 space-y-3 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(aE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, City, Country"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(iE,{size:18}),d.jsx("a",{href:"mailto:info@example.com",className:"hover:text-blue-600",children:"info@example.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+1234567890",className:"hover:text-blue-600",children:"+1 234 567 890"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("hours"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Opening Hours",u==="hours"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="hours"&&d.jsxs("div",{className:"mt-3 space-y-2 text-sm pl-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]})]}),d.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[d.jsxs("button",{onClick:()=>f("payments"),className:"flex justify-between items-center w-full text-lg font-semibold text-gray-900",children:["Payment Methods",u==="payments"?d.jsx(Ml,{}):d.jsx(jl,{})]}),u==="payments"&&d.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 pl-2",children:p.map((y,b)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},b))})]})]}),d.jsxs("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors","aria-label":"Facebook",children:d.jsx(ik,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-pink-500 hover:bg-pink-50 transition-colors","aria-label":"Instagram",children:d.jsx(ck,{size:20})}),d.jsx("a",{href:"#",className:"bg-white p-2 rounded-full shadow-sm text-gray-600 hover:text-sky-500 hover:bg-sky-50 transition-colors","aria-label":"Twitter",children:d.jsx(Ak,{size:20})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Methods"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:p.map((y,b)=>d.jsx("div",{className:`${y.color} p-2 rounded-md flex items-center justify-center`,title:y.name,children:d.jsx("div",{className:"flex items-center justify-center h-6",children:y.icon})},b))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),d.jsx("ul",{className:"space-y-2 text-sm",children:[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Contact",path:"/contact"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms & Conditions",path:"/terms"},{name:"Returns & Exchanges",path:"/returns"},{name:"Shipping Policy",path:"/shipping"}].map((y,b)=>d.jsx("li",{children:d.jsx(wt,{to:y.path,className:"hover:text-blue-600 transition-colors block py-1",children:y.name})},b))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Us"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(aE,{size:18,className:"mt-0.5 flex-shrink-0"}),d.jsx("span",{children:"123 Street Name, Cox's Bazar, Bangladesh"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(iE,{size:18}),d.jsx("a",{href:"mailto:info@mahira.com",className:"hover:text-blue-600",children:"info@mahira.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(_f,{size:18}),d.jsx("a",{href:"tel:+8801736600480",className:"hover:text-blue-600",children:"+880 1736 600480"})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opening Hours"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Mon - Fri: 9am - 8pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Saturday: 10am - 6pm"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Sl,{size:18}),d.jsx("span",{children:"Sunday: Closed"})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-6 mb-4",children:"Newsletter"}),d.jsxs("form",{className:"space-y-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})]}),d.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200 md:hidden",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1 mb-4",children:"Subscribe to Our Newsletter"}),d.jsxs("form",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[d.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm",required:!0}),d.jsx("button",{type:"submit",className:"w-full sm:w-auto px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Subscribe"})]})]})}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500",children:[d.jsxs("p",{children:["© ",n," Mahira Collection. All rights reserved."]}),d.jsx("p",{className:"mt-1",children:"Developed with ❤️ by Your Company"})]})]})]})})},y6=new Yk;function v6(){return d.jsx(d.Fragment,{children:d.jsx("div",{className:"w-[100%] xl:w-[80%] mx-auto  bg-gray-100 shadow-xl mb-16 md:mb-0",children:d.jsxs(e6,{client:y6,children:[d.jsx(QP,{}),d.jsx(Ik,{}),d.jsx(Rk,{}),d.jsx(kR,{}),d.jsx(oA,{})]})})})}const lA=()=>{const[t,r]=pI(),a=Number(t.get("page"))||1,[o,u]=q.useState(!1),h=q.useRef(null),f=R=>(typeof R!="number"&&(R=parseFloat(R)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(R)),{data:p=[],isLoading:y}=d6({queryKey:["allProducts"],queryFn:async()=>{const R=await Ii(Lr(hn,"products")),C=[];R.forEach(w=>{const O=w.data();O.available&&O.stock>0&&C.push({id:w.id,...O})});const E=[...C];for(let w=E.length-1;w>0;w--){const O=Math.floor(Math.random()*(w+1));[E[w],E[O]]=[E[O],E[w]]}return E},staleTime:1/0,cacheTime:24*60*60*1e3}),b=p.slice(0,10+(a-1)*6),_=R=>{var w;const C=JSON.parse(localStorage.getItem("cart"))||[],E=C.find(O=>O.id===R.id);E?E.quantity+=1:C.push({id:R.id,name:R.name,price:R.discount?Math.round(R.price-R.price*(R.discount/100)):Math.round(R.price),image:R.mainImage||((w=R.images)==null?void 0:w[0])||"/placeholder-product.jpg",quantity:1}),localStorage.setItem("cart",JSON.stringify(C)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},T=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:_(R)},A=R=>{R.colorVariants&&R.colorVariants.length>0?window.location.href=`/product/${R.id}`:(_(R),window.location.href="/cart")},P=async()=>{const R=window.scrollY||document.documentElement.scrollTop;u(!0),await new Promise(C=>setTimeout(C,500)),r({page:a+1}),setTimeout(()=>{window.scrollTo(0,R),u(!1)},0)};return y?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading all products..."})]})}):d.jsxs("div",{className:"md:px-4 min-h-screen",ref:h,children:[d.jsx("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:"All Products /"}),b.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-2",children:b.map(R=>{var I;const C=R.discount&&R.discount>0,E=R.colorVariants&&R.colorVariants.length>0,O=window.innerWidth<768?17:25,z=R.name.length>O,k=z?`${R.name.substring(0,O)}...`:R.name,L=C?Math.round(R.price-R.price*(R.discount/100)):null,M=C?L:Math.round(R.price);return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(wt,{to:`/product/${R.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:R.mainImage||((I=R.images)==null?void 0:I[0])||"/placeholder-product.jpg",alt:R.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),C&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[R.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[k,z&&d.jsx(wt,{to:`/product/${R.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",f(M)]}),C&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",f(Math.round(R.price))]})})]}),R.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",R.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100  space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>T(R),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:E?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>A(R),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${R.stock>0?"text-green-600":"text-red-500"}`,children:R.stock>0?"In Stock":"Out of Stock"}),R.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[R.stock," units"]})]})]})]},R.id)})}),p.length>b.length&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:P,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:o?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})};function yE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function jv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:yE(e[r])&&yE(n[r])&&Object.keys(e[r]).length>0&&jv(n[r],e[r])})}const cA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gs(){const n=typeof document<"u"?document:{};return jv(n,cA),n}const b6={document:cA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function cr(){const n=typeof window<"u"?window:{};return jv(n,b6),n}function x6(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function _6(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function cy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Ro(){return Date.now()}function w6(n){const e=cr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function E6(n,e){e===void 0&&(e="x");const t=cr();let r,a,o;const u=w6(n);return t.WebKitCSSMatrix?(a=u.transform||u.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Lu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function T6(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Pr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!T6(r)){const a=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=a.length;o<u;o+=1){const h=a[o],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(Lu(n[h])&&Lu(r[h])?r[h].__swiper__?n[h]=r[h]:Pr(n[h],r[h]):!Lu(n[h])&&Lu(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:Pr(n[h],r[h])):n[h]=r[h])}}}return n}function tf(n,e,t){n.style.setProperty(e,t)}function uA(n){let{swiper:e,targetPosition:t,side:r}=n;const a=cr(),o=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const p=t>o?"next":"prev",y=(_,T)=>p==="next"&&_>=T||p==="prev"&&_<=T,b=()=>{h=new Date().getTime(),u===null&&(u=h);const _=Math.max(Math.min((h-u)/f,1),0),T=.5-Math.cos(_*Math.PI)/2;let A=o+T*(t-o);if(y(A,t)&&(A=t),e.wrapperEl.scrollTo({[r]:A}),y(A,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:A})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(b)};b()}function ps(n,e){e===void 0&&(e="");const t=cr(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function S6(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function A6(n,e){const t=cr();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=S6(n,e))),r}function nm(n){try{console.warn(n);return}catch{}}function rm(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:x6(e)),t}function N6(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function C6(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function _a(n,e){return cr().getComputedStyle(n,null).getPropertyValue(e)}function sm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function dA(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function a0(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function uy(n,e,t){const r=cr();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function In(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let o0;function R6(){const n=cr(),e=gs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function hA(){return o0||(o0=R6()),o0}let l0;function I6(n){let{userAgent:e}=n===void 0?{}:n;const t=hA(),r=cr(),a=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let y=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!y&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=a==="Win32";let A=a==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&A&&t.touch&&P.indexOf(`${h}x${f}`)>=0&&(y=o.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),A=!1),p&&!T&&(u.os="android",u.android=!0),(y||_||b)&&(u.os="ios",u.ios=!0),u}function fA(n){return n===void 0&&(n={}),l0||(l0=I6(n)),l0}let c0;function j6(){const n=cr(),e=fA();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=f<16||f===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:a}}function mA(){return c0||(c0=j6()),c0}function M6(n){let{swiper:e,on:t,emit:r}=n;const a=cr();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=a.requestAnimationFrame(()=>{const{width:_,height:T}=e;let A=_,P=T;b.forEach(R=>{let{contentBoxSize:C,contentRect:E,target:w}=R;w&&w!==e.el||(A=E?E.width:(C[0]||C).inlineSize,P=E?E.height:(C[0]||C).blockSize)}),(A!==_||P!==T)&&h()})}),o.observe(e.el))},p=()=>{u&&a.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){f();return}a.addEventListener("resize",h),a.addEventListener("orientationchange",y)}),t("destroy",()=>{p(),a.removeEventListener("resize",h),a.removeEventListener("orientationchange",y)})}function O6(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o=[],u=cr(),h=function(y,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,T=new _(A=>{if(e.__preventObserver__)return;if(A.length===1){a("observerUpdate",A[0]);return}const P=function(){a("observerUpdate",A[0])};u.requestAnimationFrame?u.requestAnimationFrame(P):u.setTimeout(P,0)});T.observe(y,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(T)},f=()=>{if(e.params.observer){if(e.params.observeParents){const y=dA(e.hostEl);for(let b=0;b<y.length;b+=1)h(y[b])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(y=>{y.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var D6={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];e.apply(r,u)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function P6(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(_a(r,"padding-left")||0,10)-parseInt(_a(r,"padding-right")||0,10),t=t-parseInt(_a(r,"padding-top")||0,10)-parseInt(_a(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function k6(){const n=this;function e(V,F){return parseFloat(V.getPropertyValue(n.getDirectionLabel(F))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:o,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,y=ps(a,`.${n.params.slideClass}, swiper-slide`),b=f?n.virtual.slides.length:y.length;let _=[];const T=[],A=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let R=t.slidesOffsetAfter;typeof R=="function"&&(R=t.slidesOffsetAfter.call(n));const C=n.snapGrid.length,E=n.slidesGrid.length;let w=t.spaceBetween,O=-P,z=0,k=0;if(typeof o>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*o:typeof w=="string"&&(w=parseFloat(w)),n.virtualSize=-w,y.forEach(V=>{u?V.style.marginLeft="":V.style.marginRight="",V.style.marginBottom="",V.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(tf(r,"--swiper-centered-offset-before",""),tf(r,"--swiper-centered-offset-after",""));const L=t.grid&&t.grid.rows>1&&n.grid;L?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let M;const I=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(V=>typeof t.breakpoints[V].slidesPerView<"u").length>0;for(let V=0;V<b;V+=1){M=0;let F;if(y[V]&&(F=y[V]),L&&n.grid.updateSlide(V,F,y),!(y[V]&&_a(F,"display")==="none")){if(t.slidesPerView==="auto"){I&&(y[V].style[n.getDirectionLabel("width")]="");const U=getComputedStyle(F),j=F.style.transform,ie=F.style.webkitTransform;if(j&&(F.style.transform="none"),ie&&(F.style.webkitTransform="none"),t.roundLengths)M=n.isHorizontal()?uy(F,"width"):uy(F,"height");else{const ce=e(U,"width"),$=e(U,"padding-left"),se=e(U,"padding-right"),ae=e(U,"margin-left"),be=e(U,"margin-right"),H=U.getPropertyValue("box-sizing");if(H&&H==="border-box")M=ce+ae+be;else{const{clientWidth:le,offsetWidth:ve}=F;M=ce+$+se+ae+be+(ve-le)}}j&&(F.style.transform=j),ie&&(F.style.webkitTransform=ie),t.roundLengths&&(M=Math.floor(M))}else M=(o-(t.slidesPerView-1)*w)/t.slidesPerView,t.roundLengths&&(M=Math.floor(M)),y[V]&&(y[V].style[n.getDirectionLabel("width")]=`${M}px`);y[V]&&(y[V].swiperSlideSize=M),A.push(M),t.centeredSlides?(O=O+M/2+z/2+w,z===0&&V!==0&&(O=O-o/2-w),V===0&&(O=O-o/2-w),Math.abs(O)<1/1e3&&(O=0),t.roundLengths&&(O=Math.floor(O)),k%t.slidesPerGroup===0&&_.push(O),T.push(O)):(t.roundLengths&&(O=Math.floor(O)),(k-Math.min(n.params.slidesPerGroupSkip,k))%n.params.slidesPerGroup===0&&_.push(O),T.push(O),O=O+M+w),n.virtualSize+=M+w,z=M,k+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+R,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+w}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+w}px`),L&&n.grid.updateWrapperSize(M,_),!t.centeredSlides){const V=[];for(let F=0;F<_.length;F+=1){let U=_[F];t.roundLengths&&(U=Math.floor(U)),_[F]<=n.virtualSize-o&&V.push(U)}_=V,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(f&&t.loop){const V=A[0]+w;if(t.slidesPerGroup>1){const F=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),U=V*t.slidesPerGroup;for(let j=0;j<F;j+=1)_.push(_[_.length-1]+U)}for(let F=0;F<n.virtual.slidesBefore+n.virtual.slidesAfter;F+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+V),T.push(T[T.length-1]+V),n.virtualSize+=V}if(_.length===0&&(_=[0]),w!==0){const V=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");y.filter((F,U)=>!t.cssMode||t.loop?!0:U!==y.length-1).forEach(F=>{F.style[V]=`${w}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let V=0;A.forEach(U=>{V+=U+(w||0)}),V-=w;const F=V>o?V-o:0;_=_.map(U=>U<=0?-P:U>F?F+R:U)}if(t.centerInsufficientSlides){let V=0;A.forEach(U=>{V+=U+(w||0)}),V-=w;const F=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(V+F<o){const U=(o-V-F)/2;_.forEach((j,ie)=>{_[ie]=j-U}),T.forEach((j,ie)=>{T[ie]=j+U})}}if(Object.assign(n,{slides:y,snapGrid:_,slidesGrid:T,slidesSizesGrid:A}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){tf(r,"--swiper-centered-offset-before",`${-_[0]}px`),tf(r,"--swiper-centered-offset-after",`${n.size/2-A[A.length-1]/2}px`);const V=-n.snapGrid[0],F=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(U=>U+V),n.slidesGrid=n.slidesGrid.map(U=>U+F)}if(b!==p&&n.emit("slidesLengthChange"),_.length!==C&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const V=`${t.containerModifierClass}backface-hidden`,F=n.el.classList.contains(V);b<=t.maxBackfaceHiddenSlides?F||n.el.classList.add(V):F&&n.el.classList.remove(V)}}function L6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const h=t[o].offsetHeight;a=h>a?h:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function V6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const vE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function z6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;a&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let y=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+h),T=-(u-y),A=T+e.slidesSizesGrid[f],P=T>=0&&T<=e.size-e.slidesSizesGrid[f],R=T>=0&&T<e.size-1||A>1&&A<=e.size||T<=0&&A>=e.size;R&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),vE(p,R,t.slideVisibleClass),vE(p,P,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-_:_}}function U6(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:u,progressLoop:h}=e;const f=o,p=u;if(r===0)a=0,o=!0,u=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=y||a<=0,u=b||a>=1,y&&(a=0),b&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[y],T=e.slidesGrid[b],A=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=_?h=(P-_)/A:h=(P+A-T)/A,h>1&&(h-=1)}Object.assign(e,{progress:a,progressLoop:h,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!o||p&&!u)&&e.emit("fromEdge"),e.emit("progress",a)}const u0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function B6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=b=>ps(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let f,p,y;if(o)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${b}"]`)}else f=h(`[data-swiper-slide-index="${a}"]`);else u?(f=e.find(b=>b.column===a),y=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):f=e[a];f&&(u||(y=C6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),p=N6(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{u0(b,b===f,t.slideActiveClass),u0(b,b===y,t.slideNextClass),u0(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Ef=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},d0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},dy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=a,h=[u-e];h.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&d0(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let u=a-e;u<=o+e;u+=1){const h=(u%t+t)%t;(h<a||h>o)&&d0(n,h)}else for(let u=Math.max(a-e,0);u<=Math.min(o+e,t-1);u+=1)u!==a&&(u>o||u<a)&&d0(n,u)};function F6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function q6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:u,snapIndex:h}=e;let f=n,p;const y=T=>{let A=T-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof f>"u"&&(f=F6(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const T=Math.min(a.slidesPerGroupSkip,f);p=T+Math.floor((f-T)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===o&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const b=e.grid&&a.grid&&a.grid.rows>1;let _;if(e.virtual&&a.virtual.enabled&&a.loop)_=y(f);else if(b){const T=e.slides.find(P=>P.column===f);let A=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(T),0)),_=Math.floor(A/a.grid.rows)}else if(e.slides[f]){const T=e.slides[f].getAttribute("data-swiper-slide-index");T?_=parseInt(T,10):_=f}else _=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:f}),e.initialized&&dy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function H6(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!a&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(a=h)});let o=!1,u;if(a){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===a){o=!0,u=h;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var $6={updateSize:P6,updateSlides:k6,updateAutoHeight:L6,updateSlidesOffset:V6,updateSlidesProgress:z6,updateProgress:U6,updateSlidesClasses:B6,updateActiveIndex:q6,updateClickedSlide:H6};function G6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let u=E6(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function Q6(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:u}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,a.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:a.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let y;const b=t.maxTranslate()-t.minTranslate();b===0?y=0:y=(n-t.minTranslate())/b,y!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function K6(){return-this.snapGrid[0]}function Y6(){return-this.snapGrid[this.snapGrid.length-1]}function X6(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:h}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),p=o.maxTranslate();let y;if(r&&n>f?y=f:r&&n<p?y=p:y=n,o.updateProgress(y),u.cssMode){const b=o.isHorizontal();if(e===0)h[b?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return uA({swiper:o,targetPosition:-y,side:b?"left":"top"}),!0;h.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var W6={getTranslate:G6,setTranslate:Q6,minTranslate:K6,maxTranslate:Y6,translateTo:X6};function Z6(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function pA(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:o,previousIndex:u}=e;let h=r;if(h||(o>u?h="next":o<u?h="prev":h="reset"),e.emit(`transition${a}`),t&&o!==u){if(h==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),h==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function J6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),pA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function e5(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),pA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var t5={setTransition:Z6,transitionStart:J6,transitionEnd:e5};function n5(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:b,rtlTranslate:_,wrapperEl:T,enabled:A}=o;if(!A&&!r&&!a||o.destroyed||o.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,u);let R=P+Math.floor((u-P)/o.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const C=-f[R];if(h.normalizeSlideIndex)for(let L=0;L<p.length;L+=1){const M=-Math.floor(C*100),I=Math.floor(p[L]*100),V=Math.floor(p[L+1]*100);typeof p[L+1]<"u"?M>=I&&M<V-(V-I)/2?u=L:M>=I&&M<V&&(u=L+1):M>=I&&(u=L)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?C>o.translate&&C>o.minTranslate():C<o.translate&&C<o.minTranslate())||!o.allowSlidePrev&&C>o.translate&&C>o.maxTranslate()&&(b||0)!==u))return!1;u!==(y||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(C);let E;u>b?E="next":u<b?E="prev":E="reset";const w=o.virtual&&o.params.virtual.enabled;if(!(w&&a)&&(_&&-C===o.translate||!_&&C===o.translate))return o.updateActiveIndex(u),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),h.effect!=="slide"&&o.setTranslate(C),E!=="reset"&&(o.transitionStart(t,E),o.transitionEnd(t,E)),!1;if(h.cssMode){const L=o.isHorizontal(),M=_?C:-C;if(e===0)w&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),w&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[L?"scrollLeft":"scrollTop"]=M})):T[L?"scrollLeft":"scrollTop"]=M,w&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return uA({swiper:o,targetPosition:M,side:L?"left":"top"}),!0;T.scrollTo({[L?"left":"top"]:M,behavior:"smooth"})}return!0}const k=mA().isSafari;return w&&!a&&k&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(C),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,E),e===0?o.transitionEnd(t,E):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(M){!o||o.destroyed||M.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,E))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function r5(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let u=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)u=u+a.virtual.slidesBefore;else{let h;if(o){const _=u*a.params.grid.rows;h=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else h=a.getSlideIndexByData(u);const f=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),p&&y%2===0&&(y=y+1));let b=f-h<y;if(p&&(b=b||h<Math.ceil(y/2)),r&&p&&a.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=p?h<a.activeIndex?"prev":"next":h-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?h+1:h-f+1,slideRealIndex:_==="next"?a.realIndex:void 0})}if(o){const _=u*a.params.grid.rows;u=a.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===_).column}else u=a.getSlideIndexByData(u)}return requestAnimationFrame(()=>{a.slideTo(u,e,t,r)}),a}function s5(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:o,animating:u}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:h,p=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function i5(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:o,slidesGrid:u,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=h?r.translate:-r.translate;function _(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const T=_(b),A=o.map(E=>_(E)),P=a.freeMode&&a.freeMode.enabled;let R=o[A.indexOf(T)-1];if(typeof R>"u"&&(a.cssMode||P)){let E;o.forEach((w,O)=>{T>=w&&(E=O)}),typeof E<"u"&&(R=P?o[E]:o[E>0?E-1:E])}let C=0;if(typeof R<"u"&&(C=u.indexOf(R),C<0&&(C=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(C=C-r.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),a.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(C,n,e,t)}),!0;return r.slideTo(C,n,e,t)}function a5(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function o5(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const u=Math.min(a.params.slidesPerGroupSkip,o),h=u+Math.floor((o-u)/a.params.slidesPerGroup),f=a.rtlTranslate?a.translate:-a.translate;if(f>=a.snapGrid[h]){const p=a.snapGrid[h],y=a.snapGrid[h+1];f-p>(y-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[h-1],y=a.snapGrid[h];f-p<=(y-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function l5(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),cy(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(ps(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),cy(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var c5={slideTo:n5,slideToLoop:r5,slideNext:s5,slidePrev:i5,slideReset:a5,slideToClosest:o5,slideToClickedSlide:l5};function u5(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ps(a,`.${r.slideClass}, swiper-slide`).forEach((_,T)=>{_.setAttribute("data-swiper-slide-index",T)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,p=u&&t.slides.length%r.grid.rows!==0,y=b=>{for(let _=0;_<b;_+=1){const T=t.isElement?rm("swiper-slide",[r.slideBlankClass]):rm("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(f){if(r.loopAddBlankSlides){const b=h-t.slides.length%h;y(b),t.recalcSlides(),t.updateSlides()}else nm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(p){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;y(b),t.recalcSlides(),t.updateSlides()}else nm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function d5(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:o,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:b,allowSlideNext:_,slidesEl:T,params:A}=p,{centeredSlides:P,initialSlide:R}=A;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&A.virtual.enabled){t&&(!A.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):A.centeredSlides&&p.snapIndex<A.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=b,p.allowSlideNext=_,p.emit("loopFix");return}let C=A.slidesPerView;C==="auto"?C=p.slidesPerViewDynamic():(C=Math.ceil(parseFloat(A.slidesPerView,10)),P&&C%2===0&&(C=C+1));const E=A.slidesPerGroupAuto?C:A.slidesPerGroup;let w=E;w%E!==0&&(w+=E-w%E),w+=A.loopAdditionalSlides,p.loopedSlides=w;const O=p.grid&&A.grid&&A.grid.rows>1;y.length<C+w||p.params.effect==="cards"&&y.length<C+w*2?nm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&A.grid.fill==="row"&&nm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],k=[],L=O?Math.ceil(y.length/A.grid.rows):y.length,M=u&&L-R<C&&!P;let I=M?R:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(y.find($=>$.classList.contains(A.slideActiveClass))):I=o;const V=r==="next"||!r,F=r==="prev"||!r;let U=0,j=0;const ce=(O?y[o].column:o)+(P&&typeof a>"u"?-C/2+.5:0);if(ce<w){U=Math.max(w-ce,E);for(let $=0;$<w-ce;$+=1){const se=$-Math.floor($/L)*L;if(O){const ae=L-se-1;for(let be=y.length-1;be>=0;be-=1)y[be].column===ae&&z.push(be)}else z.push(L-se-1)}}else if(ce+C>L-w){j=Math.max(ce-(L-w*2),E),M&&(j=Math.max(j,C-L+R+1));for(let $=0;$<j;$+=1){const se=$-Math.floor($/L)*L;O?y.forEach((ae,be)=>{ae.column===se&&k.push(be)}):k.push(se)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&y.length<C+w*2&&(k.includes(o)&&k.splice(k.indexOf(o),1),z.includes(o)&&z.splice(z.indexOf(o),1)),F&&z.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),V&&k.forEach($=>{y[$].swiperLoopMoveDOM=!0,T.append(y[$]),y[$].swiperLoopMoveDOM=!1}),p.recalcSlides(),A.slidesPerView==="auto"?p.updateSlides():O&&(z.length>0&&F||k.length>0&&V)&&p.slides.forEach(($,se)=>{p.grid.updateSlide(se,$,p.slides)}),A.watchSlidesProgress&&p.updateSlidesOffset(),t){if(z.length>0&&F){if(typeof e>"u"){const $=p.slidesGrid[I],ae=p.slidesGrid[I+U]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(I+Math.ceil(U),0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else if(a){const $=O?z.length/A.grid.rows:z.length;p.slideTo(p.activeIndex+$,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(k.length>0&&V)if(typeof e>"u"){const $=p.slidesGrid[I],ae=p.slidesGrid[I-j]-$;f?p.setTranslate(p.translate-ae):(p.slideTo(I-j,0,!1,!0),a&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ae,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ae))}else{const $=O?k.length/A.grid.rows:k.length;p.slideTo(p.activeIndex-$,0,!1,!0)}}if(p.allowSlidePrev=b,p.allowSlideNext=_,p.controller&&p.controller.control&&!h){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...$,slideTo:se.params.slidesPerView===A.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...$,slideTo:p.controller.control.params.slidesPerView===A.slidesPerView?t:!1})}p.emit("loopFix")}function h5(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var f5={loopCreate:u5,loopFix:d5,loopDestroy:h5};function m5(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function p5(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var g5={setGrabCursor:m5,unsetGrabCursor:p5};function y5(n,e){e===void 0&&(e=this);function t(r){if(!r||r===gs()||r===cr())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function bE(n,e,t){const r=cr(),{params:a}=n,o=a.edgeSwipeDetection,u=a.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function v5(n){const e=this,t=gs();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){bE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!A6(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&y&&(f=y[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?y5(b,f):f.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const T=u.currentX,A=u.currentY;if(!bE(e,r,T))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=T,u.startY=A,a.touchStartTime=Ro(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let P=!0;f.matches(a.focusableElements)&&(P=!1,f.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(a.focusableElements))&&t.activeElement.blur();const R=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||R)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function b5(n){const e=gs(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:u,enabled:h}=t;if(!h||!a.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(z=>z.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const y=p.pageX,b=p.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=b;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b}),r.touchStartTime=Ro());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(y>o.startX&&-t.translate<=t.maxTranslate()||y<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(y<o.startX&&t.translate<=t.maxTranslate()||y>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=y,o.currentY=b;const _=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let z;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+T*T>=25&&(z=Math.atan2(Math.abs(T),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?z>a.touchAngle:90-z>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&f.cancelable&&f.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&f.stopPropagation();let A=t.isHorizontal()?_:T,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(A=Math.abs(A)*(u?1:-1),P=Math.abs(P)*(u?1:-1)),o.diff=A,A*=a.touchRatio,u&&(A=-A,P=-P);const R=t.touchesDirection;t.swipeDirection=A>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const C=t.params.loop&&!a.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(C&&E&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const z=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(z)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&R!==t.touchesDirection&&C&&E&&Math.abs(A)>=1){Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=A+r.startTranslate;let w=!0,O=a.resistanceRatio;if(a.touchReleaseOnEdges&&(O=0),A>0?(C&&E&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+A)**O))):A<0&&(C&&E&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(w=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-A)**O))),w&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(A)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function x5(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(z=>z.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Ro(),_=b-t.touchStartTime;if(e.allowClick){const z=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(z&&z[0]||r.target,z),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ro(),cy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(u.followFinger?T=f?e.translate:-e.translate:T=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const A=T>=-e.maxTranslate()&&!e.params.loop;let P=0,R=e.slidesSizesGrid[0];for(let z=0;z<p.length;z+=z<u.slidesPerGroupSkip?1:u.slidesPerGroup){const k=z<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[z+k]<"u"?(A||T>=p[z]&&T<p[z+k])&&(P=z,R=p[z+k]-p[z]):(A||T>=p[z])&&(P=z,R=p[p.length-1]-p[p.length-2])}let C=null,E=null;u.rewind&&(e.isBeginning?E=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(C=0));const w=(T-p[P])/R,O=P<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?C:P+O):e.slideTo(P)),e.swipeDirection==="prev"&&(w>1-u.longSwipesRatio?e.slideTo(P+O):E!==null&&w<0&&Math.abs(w)>u.longSwipesRatio?e.slideTo(E):e.slideTo(P))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+O):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(C!==null?C:P+O),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:P))}}function xE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function _5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function w5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function E5(n){const e=this;Ef(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function T5(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const gA=(n,e)=>{const t=gs(),{params:r,el:a,wrapperEl:o,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),a[f]("touchstart",n.onTouchStart,{passive:!1}),a[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",xE,!0):n[p]("observerUpdate",xE,!0),a[f]("load",n.onLoad,{capture:!0}))};function S5(){const n=this,{params:e}=n;n.onTouchStart=v5.bind(n),n.onTouchMove=b5.bind(n),n.onTouchEnd=x5.bind(n),n.onDocumentTouchStart=T5.bind(n),e.cssMode&&(n.onScroll=w5.bind(n)),n.onClick=_5.bind(n),n.onLoad=E5.bind(n),gA(n,"on")}function A5(){gA(this,"off")}var N5={attachEvents:S5,detachEvents:A5};const _E=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function C5(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=gs(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,h,f);if(!p||n.currentBreakpoint===p)return;const b=(p in o?o[p]:void 0)||n.originalParams,_=_E(n,r),T=_E(n,b),A=n.params.grabCursor,P=b.grabCursor,R=r.enabled;_&&!T?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&T&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),A&&!P?n.unsetGrabCursor():!A&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof b[k]>"u")return;const L=r[k]&&r[k].enabled,M=b[k]&&b[k].enabled;L&&!M&&n[k].disable(),!L&&M&&n[k].enable()});const C=b.direction&&b.direction!==r.direction,E=r.loop&&(b.slidesPerView!==r.slidesPerView||C),w=r.loop;C&&t&&n.changeDirection(),Pr(n.params,b);const O=n.params.enabled,z=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),R&&!O?n.disable():!R&&O&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(E?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!w&&z?(n.loopCreate(e),n.updateSlides()):w&&!z&&n.loopDestroy()),n.emit("breakpoint",b)}function R5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=cr(),o=e==="window"?a.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:o*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:p}=u[h];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var I5={setBreakpoint:C5,getBreakpoint:R5};function j5(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function M5(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,u=j5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),a.classList.add(...e),n.emitContainerClasses()}function O5(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var D5={addClasses:M5,removeClasses:O5};function P5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var k5={checkOverflow:P5},hy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function L5(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){Pr(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){Pr(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Pr(e,r)}}const h0={eventsEmitter:D6,update:$6,translate:W6,transition:t5,slide:c5,loop:f5,grabCursor:g5,events:N5,breakpoints:I5,checkOverflow:k5,classes:D5},f0={};let Mv=class _i{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=Pr({},t),e&&!t.el&&(t.el=e);const u=gs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const y=[];return u.querySelectorAll(t.el).forEach(b=>{const _=Pr({},t,{el:b});y.push(new _i(_))}),y}const h=this;h.__swiper__=!0,h.support=hA(),h.device=fA({userAgent:t.userAgent}),h.browser=mA(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(y=>{y({params:t,swiper:h,extendParams:L5(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=Pr({},hy,f);return h.params=Pr({},p,f0,t),h.originalParams=Pr({},h.params),h.passedParams=Pr({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(y=>{h.on(y,h.params.on[y])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=ps(t,`.${r.slideClass}, swiper-slide`),o=sm(a[0]);return sm(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ps(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),u=(r.maxTranslate()-a)*e+a;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:o,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:p}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=o[p]?Math.ceil(o[p].swiperSlideSize):0,_;for(let T=p+1;T<o.length;T+=1)o[T]&&!_&&(b+=Math.ceil(o[T].swiperSlideSize),y+=1,b>f&&(_=!0));for(let T=p-1;T>=0;T-=1)o[T]&&!_&&(b+=o[T].swiperSlideSize,y+=1,b>f&&(_=!0))}else if(e==="current")for(let b=p+1;b<o.length;b+=1)(t?u[b]+h[b]-u[p]<f:u[b]-u[p]<f)&&(y+=1);else for(let b=p-1;b>=0;b-=1)u[p]-u[b]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Ef(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):ps(r,a())[0];return!u&&t.params.createElements&&(u=rm("div",t.params.wrapperClass),r.append(u),ps(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||_a(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||_a(r,"direction")==="rtl"),wrongRTL:_a(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?Ef(t,o):o.addEventListener("load",u=>{Ef(t,u.target)})}),dy(t),t.initialized=!0,dy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:o,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),_6(r)),r.destroyed=!0),null}static extendDefaults(e){Pr(f0,e)}static get extendedDefaults(){return f0}static get defaults(){return hy}static installModule(e){_i.prototype.__modules__||(_i.prototype.__modules__=[]);const t=_i.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>_i.installModule(t)),_i):(_i.installModule(e),_i)}};Object.keys(h0).forEach(n=>{Object.keys(h0[n]).forEach(e=>{Mv.prototype[e]=h0[n][e]})});Mv.use([M6,O6]);const yA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Hl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Po(e[r])&&Po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Hl(n[r],e[r]):n[r]=e[r]})}function vA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function bA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function xA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function _A(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function V5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function z5(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const p=a.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:y,pagination:b,navigation:_,scrollbar:T,virtual:A,thumbs:P}=e;let R,C,E,w,O,z,k,L;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(R=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(C=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(y.pagination||y.pagination===!1)&&b&&!b.el&&(E=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(y.scrollbar||y.scrollbar===!1)&&T&&!T.el&&(w=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(y.navigation||y.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(O=!0);const M=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),y[I].prevEl=void 0,y[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),y[I].el=void 0,e[I].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?z=!0:!y.loop&&r.loop?k=!0:L=!0),p.forEach(I=>{if(Po(y[I])&&Po(r[I]))Object.assign(y[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&M(I);else{const V=r[I];(V===!0||V===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?V===!1&&M(I):y[I]=r[I]}}),p.includes("controller")&&!C&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&A&&y.virtual.enabled?(A.slides=t,A.update(!0)):a.includes("virtual")&&A&&y.virtual.enabled&&(t&&(A.slides=t),A.update(!0)),a.includes("children")&&t&&y.loop&&(L=!0),R&&P.init()&&P.update(!0),C&&(e.controller.control=y.controller.control),E&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(y.pagination.el=f),b.init(),b.render(),b.update()),w&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(y.scrollbar.el=h),T.init(),T.updateSize(),T.setTranslate()),O&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(y.navigation.nextEl=o),u&&(y.navigation.prevEl=u),_.init(),_.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(z||L)&&e.loopDestroy(),(k||L)&&e.loopCreate(),e.update()}function U5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};Hl(t,hy),t._emitClasses=!0,t.init=!1;const o={},u=yA.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Po(n[f])?(t[f]={},a[f]={},Hl(t[f],n[f]),Hl(a[f],n[f])):(t[f]=n[f],a[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:a,rest:o,events:r}}function B5(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:o,scrollbarEl:u,swiper:h}=n;vA(e)&&r&&a&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=a,h.originalParams.navigation.prevEl=a),bA(e)&&o&&(h.params.pagination.el=o,h.originalParams.pagination.el=o),xA(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function F5(n,e,t,r,a){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(a),p=t.map(a);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return yA.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Po(n[f])&&Po(e[f])){const p=Object.keys(n[f]),y=Object.keys(e[f]);p.length!==y.length?u(f):(p.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}),y.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const q5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function im(){return im=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},im.apply(this,arguments)}function wA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function EA(n){const e=[];return Ut.Children.toArray(n).forEach(t=>{wA(t)?e.push(t):t.props&&t.props.children&&EA(t.props.children).forEach(r=>e.push(r))}),e}function H5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(n).forEach(r=>{if(wA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=EA(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function $5(n,e,t){if(!t)return null;const r=y=>{let b=y;return y<0?b=e.length+y:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let y=h;y<f;y+=1)y>=o&&y<=u&&p.push(e[r(y)]);return p.map((y,b)=>Ut.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${b}`}))}function $u(n,e){return typeof window>"u"?q.useEffect(n,e):q.useLayoutEffect(n,e)}const wE=q.createContext(null),G5=q.createContext(null),Pl=q.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:o,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[p,y]=q.useState("swiper"),[b,_]=q.useState(null),[T,A]=q.useState(!1),P=q.useRef(!1),R=q.useRef(null),C=q.useRef(null),E=q.useRef(null),w=q.useRef(null),O=q.useRef(null),z=q.useRef(null),k=q.useRef(null),L=q.useRef(null),{params:M,passedParams:I,rest:V,events:F}=U5(h),{slides:U,slots:j}=H5(o),ie=()=>{A(!T)};Object.assign(M.on,{_containerClasses(be,H){y(H)}});const ce=()=>{Object.assign(M.on,F),f=!0;const be={...M};if(delete be.wrapperClass,C.current=new Mv(be),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=U;const H={cache:!1,slides:U,renderExternal:_,renderExternalUpdate:!1};Hl(C.current.params.virtual,H),Hl(C.current.originalParams.virtual,H)}};R.current||ce(),C.current&&C.current.on("_beforeBreakpoint",ie);const $=()=>{f||!F||!C.current||Object.keys(F).forEach(be=>{C.current.on(be,F[be])})},se=()=>{!F||!C.current||Object.keys(F).forEach(be=>{C.current.off(be,F[be])})};q.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",ie)}),q.useEffect(()=>{!P.current&&C.current&&(C.current.emitSlidesClasses(),P.current=!0)}),$u(()=>{if(e&&(e.current=R.current),!!R.current)return C.current.destroyed&&ce(),B5({el:R.current,nextEl:O.current,prevEl:z.current,paginationEl:k.current,scrollbarEl:L.current,swiper:C.current},M),u&&!C.current.destroyed&&u(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),$u(()=>{$();const be=F5(I,E.current,U,w.current,H=>H.key);return E.current=I,w.current=U,be.length&&C.current&&!C.current.destroyed&&z5({swiper:C.current,slides:U,passedParams:I,changedParams:be,nextEl:O.current,prevEl:z.current,scrollbarEl:L.current,paginationEl:k.current}),()=>{se()}}),$u(()=>{q5(C.current)},[b]);function ae(){return M.virtual?$5(C.current,U,b):U.map((be,H)=>Ut.cloneElement(be,{swiper:C.current,swiperSlideIndex:H}))}return Ut.createElement(r,im({ref:R,className:_A(`${p}${t?` ${t}`:""}`)},V),Ut.createElement(G5.Provider,{value:C.current},j["container-start"],Ut.createElement(a,{className:V5(M.wrapperClass)},j["wrapper-start"],ae(),j["wrapper-end"]),vA(M)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:z,className:"swiper-button-prev"}),Ut.createElement("div",{ref:O,className:"swiper-button-next"})),xA(M)&&Ut.createElement("div",{ref:L,className:"swiper-scrollbar"}),bA(M)&&Ut.createElement("div",{ref:k,className:"swiper-pagination"}),j["container-end"]))});Pl.displayName="Swiper";const kl=q.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:o,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:p,...y}=n===void 0?{}:n;const b=q.useRef(null),[_,T]=q.useState("swiper-slide"),[A,P]=q.useState(!1);function R(O,z,k){z===b.current&&T(k)}$u(()=>{if(typeof p<"u"&&(b.current.swiperSlideIndex=p),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",R),()=>{o&&o.off("_slideClass",R)}}}),$u(()=>{o&&b.current&&!o.destroyed&&T(o.getSlideClasses(b.current))},[o]);const C={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(C):r,w=()=>{P(!0)};return Ut.createElement(t,im({ref:b,className:_A(`${_}${a?` ${a}`:""}`),"data-swiper-slide-index":f,onLoad:w},y),u&&Ut.createElement(wE.Provider,{value:C},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},E(),h&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Ut.createElement(wE.Provider,{value:C},E(),h&&!A&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});kl.displayName="SwiperSlide";function TA(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let o=ps(n.el,`.${r[a]}`)[0];o||(o=rm("div",r[a]),o.className=r[a],n.el.append(o)),t[a]=o,e[a]=o}}),t}function Tf(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(A){let P;return A&&typeof A=="string"&&e.isElement&&(P=e.el.querySelector(A)||e.hostEl.querySelector(A),P)?P:(A&&(typeof A=="string"&&(P=[...document.querySelectorAll(A)]),e.params.uniqueNavElements&&typeof A=="string"&&P&&P.length>1&&e.el.querySelectorAll(A).length===1?P=e.el.querySelector(A):P&&P.length===1&&(P=P[0])),A&&!P?A:P)}function u(A,P){const R=e.params.navigation;A=In(A),A.forEach(C=>{C&&(C.classList[P?"add":"remove"](...R.disabledClass.split(" ")),C.tagName==="BUTTON"&&(C.disabled=P),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](R.lockClass))})}function h(){const{nextEl:A,prevEl:P}=e.navigation;if(e.params.loop){u(P,!1),u(A,!1);return}u(P,e.isBeginning&&!e.params.rewind),u(A,e.isEnd&&!e.params.rewind)}function f(A){A.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function p(A){A.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function y(){const A=e.params.navigation;if(e.params.navigation=TA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let P=o(A.nextEl),R=o(A.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:R}),P=In(P),R=In(R);const C=(E,w)=>{E&&E.addEventListener("click",w==="next"?p:f),!e.enabled&&E&&E.classList.add(...A.lockClass.split(" "))};P.forEach(E=>C(E,"next")),R.forEach(E=>C(E,"prev"))}function b(){let{nextEl:A,prevEl:P}=e.navigation;A=In(A),P=In(P);const R=(C,E)=>{C.removeEventListener("click",E==="next"?p:f),C.classList.remove(...e.params.navigation.disabledClass.split(" "))};A.forEach(C=>R(C,"next")),P.forEach(C=>R(C,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?T():(y(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:A,prevEl:P}=e.navigation;if(A=In(A),P=In(P),e.enabled){h();return}[...A,...P].filter(R=>!!R).forEach(R=>R.classList.add(e.params.navigation.lockClass))}),r("click",(A,P)=>{let{nextEl:R,prevEl:C}=e.navigation;R=In(R),C=In(C);const E=P.target;let w=C.includes(E)||R.includes(E);if(e.isElement&&!w){const O=P.path||P.composedPath&&P.composedPath();O&&(w=O.find(z=>R.includes(z)||C.includes(z)))}if(e.params.navigation.hideOnClick&&!w){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let O;R.length?O=R[0].classList.contains(e.params.navigation.hiddenClass):C.length&&(O=C[0].classList.contains(e.params.navigation.hiddenClass)),a(O===!0?"navigationShow":"navigationHide"),[...R,...C].filter(z=>!!z).forEach(z=>z.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),y(),h()},T=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:T,update:h,init:y,destroy:b})}function Au(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Q5(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(E,w){const{bulletActiveClass:O}=e.params.pagination;E&&(E=E[`${w==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${O}-${w}`),E=E[`${w==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${O}-${w}-${w}`)))}function y(E,w,O){if(E=E%O,w=w%O,w===E+1)return"next";if(w===E-1)return"previous"}function b(E){const w=E.target.closest(Au(e.params.pagination.bulletClass));if(!w)return;E.preventDefault();const O=sm(w)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===O)return;const z=y(e.realIndex,O,e.slides.length);z==="next"?e.slideNext():z==="previous"?e.slidePrev():e.slideToLoop(O)}else e.slideTo(O)}function _(){const E=e.rtl,w=e.params.pagination;if(f())return;let O=e.pagination.el;O=In(O);let z,k;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(k=e.previousRealIndex||0,z=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(z=e.snapIndex,k=e.previousSnapIndex):(k=e.previousIndex||0,z=e.activeIndex||0),w.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let V,F,U;if(w.dynamicBullets&&(u=uy(I[0],e.isHorizontal()?"width":"height"),O.forEach(j=>{j.style[e.isHorizontal()?"width":"height"]=`${u*(w.dynamicMainBullets+4)}px`}),w.dynamicMainBullets>1&&k!==void 0&&(h+=z-(k||0),h>w.dynamicMainBullets-1?h=w.dynamicMainBullets-1:h<0&&(h=0)),V=Math.max(z-h,0),F=V+(Math.min(I.length,w.dynamicMainBullets)-1),U=(F+V)/2),I.forEach(j=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ce=>`${w.bulletActiveClass}${ce}`)].map(ce=>typeof ce=="string"&&ce.includes(" ")?ce.split(" "):ce).flat();j.classList.remove(...ie)}),O.length>1)I.forEach(j=>{const ie=sm(j);ie===z?j.classList.add(...w.bulletActiveClass.split(" ")):e.isElement&&j.setAttribute("part","bullet"),w.dynamicBullets&&(ie>=V&&ie<=F&&j.classList.add(...`${w.bulletActiveClass}-main`.split(" ")),ie===V&&p(j,"prev"),ie===F&&p(j,"next"))});else{const j=I[z];if(j&&j.classList.add(...w.bulletActiveClass.split(" ")),e.isElement&&I.forEach((ie,ce)=>{ie.setAttribute("part",ce===z?"bullet-active":"bullet")}),w.dynamicBullets){const ie=I[V],ce=I[F];for(let $=V;$<=F;$+=1)I[$]&&I[$].classList.add(...`${w.bulletActiveClass}-main`.split(" "));p(ie,"prev"),p(ce,"next")}}if(w.dynamicBullets){const j=Math.min(I.length,w.dynamicMainBullets+4),ie=(u*j-u)/2-U*u,ce=E?"right":"left";I.forEach($=>{$.style[e.isHorizontal()?ce:"top"]=`${ie}px`})}}O.forEach((I,V)=>{if(w.type==="fraction"&&(I.querySelectorAll(Au(w.currentClass)).forEach(F=>{F.textContent=w.formatFractionCurrent(z+1)}),I.querySelectorAll(Au(w.totalClass)).forEach(F=>{F.textContent=w.formatFractionTotal(M)})),w.type==="progressbar"){let F;w.progressbarOpposite?F=e.isHorizontal()?"vertical":"horizontal":F=e.isHorizontal()?"horizontal":"vertical";const U=(z+1)/M;let j=1,ie=1;F==="horizontal"?j=U:ie=U,I.querySelectorAll(Au(w.progressbarFillClass)).forEach(ce=>{ce.style.transform=`translate3d(0,0,0) scaleX(${j}) scaleY(${ie})`,ce.style.transitionDuration=`${e.params.speed}ms`})}w.type==="custom"&&w.renderCustom?(I.innerHTML=w.renderCustom(e,z+1,M),V===0&&a("paginationRender",I)):(V===0&&a("paginationRender",I),a("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](w.lockClass)})}function T(){const E=e.params.pagination;if(f())return;const w=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let O=e.pagination.el;O=In(O);let z="";if(E.type==="bullets"){let k=e.params.loop?Math.ceil(w/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&k>w&&(k=w);for(let L=0;L<k;L+=1)E.renderBullet?z+=E.renderBullet.call(e,L,E.bulletClass):z+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?z=E.renderFraction.call(e,E.currentClass,E.totalClass):z=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?z=E.renderProgressbar.call(e,E.progressbarFillClass):z=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],O.forEach(k=>{E.type!=="custom"&&(k.innerHTML=z||""),E.type==="bullets"&&e.pagination.bullets.push(...k.querySelectorAll(Au(E.bulletClass)))}),E.type!=="custom"&&a("paginationRender",O[0])}function A(){e.params.pagination=TA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let w;typeof E.el=="string"&&e.isElement&&(w=e.el.querySelector(E.el)),!w&&typeof E.el=="string"&&(w=[...document.querySelectorAll(E.el)]),w||(w=E.el),!(!w||w.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(w)&&w.length>1&&(w=[...e.el.querySelectorAll(E.el)],w.length>1&&(w=w.find(O=>dA(O,".swiper")[0]===e.el))),Array.isArray(w)&&w.length===1&&(w=w[0]),Object.assign(e.pagination,{el:w}),w=In(w),w.forEach(O=>{E.type==="bullets"&&E.clickable&&O.classList.add(...(E.clickableClass||"").split(" ")),O.classList.add(E.modifierClass+E.type),O.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(O.classList.add(`${E.modifierClass}${E.type}-dynamic`),h=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&O.classList.add(E.progressbarOppositeClass),E.clickable&&O.addEventListener("click",b),e.enabled||O.classList.add(E.lockClass)}))}function P(){const E=e.params.pagination;if(f())return;let w=e.pagination.el;w&&(w=In(w),w.forEach(O=>{O.classList.remove(E.hiddenClass),O.classList.remove(E.modifierClass+E.type),O.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(O.classList.remove(...(E.clickableClass||"").split(" ")),O.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(O=>O.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:w}=e.pagination;w=In(w),w.forEach(O=>{O.classList.remove(E.horizontalClass,E.verticalClass),O.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?C():(A(),T(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{T(),_()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=In(E),E.forEach(w=>w.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(E,w)=>{const O=w.target,z=In(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&z&&z.length>0&&!O.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&O===e.navigation.nextEl||e.navigation.prevEl&&O===e.navigation.prevEl))return;const k=z[0].classList.contains(e.params.pagination.hiddenClass);a(k===!0?"paginationShow":"paginationHide"),z.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const R=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=In(E),E.forEach(w=>w.classList.remove(e.params.pagination.paginationDisabledClass))),A(),T(),_()},C=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=In(E),E.forEach(w=>w.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:R,disable:C,render:T,update:_,init:A,destroy:P})}function K5(n){let{swiper:e,extendParams:t,on:r,emit:a,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,f=o&&o.autoplay?o.autoplay.delay:3e3,p=o&&o.autoplay?o.autoplay.delay:3e3,y,b=new Date().getTime(),_,T,A,P,R,C,E;function w(ae){!e||e.destroyed||!e.wrapperEl||ae.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!(E||ae.detail&&ae.detail.bySwiperTouchMove)&&V())}const O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?_=!0:_&&(p=y,_=!1);const ae=e.autoplay.paused?y:b+p-new Date().getTime();e.autoplay.timeLeft=ae,a("autoplayTimeLeft",ae,ae/f),h=requestAnimationFrame(()=>{O()})},z=()=>{let ae;return e.virtual&&e.params.virtual.enabled?ae=e.slides.find(H=>H.classList.contains("swiper-slide-active")):ae=e.slides[e.activeIndex],ae?parseInt(ae.getAttribute("data-swiper-autoplay"),10):void 0},k=ae=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),O();let be=typeof ae>"u"?e.params.autoplay.delay:ae;f=e.params.autoplay.delay,p=e.params.autoplay.delay;const H=z();!Number.isNaN(H)&&H>0&&typeof ae>"u"&&(be=H,f=H,p=H),y=be;const le=e.params.speed,ve=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(le,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,le,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(le,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,le,!0,!0),a("autoplay")),e.params.cssMode&&(b=new Date().getTime(),requestAnimationFrame(()=>{k()})))};return be>0?(clearTimeout(u),u=setTimeout(()=>{ve()},be)):requestAnimationFrame(()=>{ve()}),be},L=()=>{b=new Date().getTime(),e.autoplay.running=!0,k(),a("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),a("autoplayStop")},I=(ae,be)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),ae||(C=!0);const H=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):V()};if(e.autoplay.paused=!0,be){R&&(y=e.params.autoplay.delay),R=!1,H();return}y=(y||e.params.autoplay.delay)-(new Date().getTime()-b),!(e.isEnd&&y<0&&!e.params.loop)&&(y<0&&(y=0),H())},V=()=>{e.isEnd&&y<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(b=new Date().getTime(),C?(C=!1,k(y)):k(),e.autoplay.paused=!1,a("autoplayResume"))},F=()=>{if(e.destroyed||!e.autoplay.running)return;const ae=gs();ae.visibilityState==="hidden"&&(C=!0,I(!0)),ae.visibilityState==="visible"&&V()},U=ae=>{ae.pointerType==="mouse"&&(C=!0,E=!0,!(e.animating||e.autoplay.paused)&&I(!0))},j=ae=>{ae.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&V())},ie=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",U),e.el.addEventListener("pointerleave",j))},ce=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",U),e.el.removeEventListener("pointerleave",j))},$=()=>{gs().addEventListener("visibilitychange",F)},se=()=>{gs().removeEventListener("visibilitychange",F)};r("init",()=>{e.params.autoplay.enabled&&(ie(),$(),L())}),r("destroy",()=>{ce(),se(),e.autoplay.running&&M()}),r("_freeModeStaticRelease",()=>{(A||C)&&V()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?M():I(!0,!0)}),r("beforeTransitionStart",(ae,be,H)=>{e.destroyed||!e.autoplay.running||(H||!e.params.autoplay.disableOnInteraction?I(!0,!0):M())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}T=!0,A=!1,C=!1,P=setTimeout(()=>{C=!0,A=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(P),clearTimeout(u),e.params.autoplay.disableOnInteraction){A=!1,T=!1;return}A&&e.params.cssMode&&V(),A=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(R=!0)}),Object.assign(e.autoplay,{start:L,stop:M,pause:I,resume:V})}function EE(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,o=!1;e.thumbs={swiper:null};function u(){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const y=p.clickedIndex,b=p.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof y>"u"||y===null)return;let _;p.params.loop?_=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=y,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function h(){const{thumbs:p}=e.params;if(a)return!1;a=!0;const y=e.constructor;if(p.swiper instanceof y){if(p.swiper.destroyed)return a=!1,!1;e.thumbs.swiper=p.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Lu(p.swiper)){const b=Object.assign({},p.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new y(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(p){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const b=y.params.slidesPerView==="auto"?y.slidesPerViewDynamic():y.params.slidesPerView;let _=1;const T=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),y.slides.forEach(R=>R.classList.remove(T)),y.params.loop||y.params.virtual&&y.params.virtual.enabled)for(let R=0;R<_;R+=1)ps(y.slidesEl,`[data-swiper-slide-index="${e.realIndex+R}"]`).forEach(C=>{C.classList.add(T)});else for(let R=0;R<_;R+=1)y.slides[e.realIndex+R]&&y.slides[e.realIndex+R].classList.add(T);const A=e.params.thumbs.autoScrollOffset,P=A&&!y.params.loop;if(e.realIndex!==y.realIndex||P){const R=y.activeIndex;let C,E;if(y.params.loop){const w=y.slides.find(O=>O.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);C=y.slides.indexOf(w),E=e.activeIndex>e.previousIndex?"next":"prev"}else C=e.realIndex,E=C>e.previousIndex?"next":"prev";P&&(C+=E==="next"?A:-1*A),y.visibleSlidesIndexes&&y.visibleSlidesIndexes.indexOf(C)<0&&(y.params.centeredSlides?C>R?C=C-Math.floor(b/2)+1:C=C+Math.floor(b/2)-1:C>R&&y.params.slidesPerGroup,y.slideTo(C,p?0:void 0))}}r("beforeInit",()=>{const{thumbs:p}=e.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const y=gs(),b=()=>{const T=typeof p.swiper=="string"?y.querySelector(p.swiper):p.swiper;if(T&&T.swiper)p.swiper=T.swiper,h(),f(!0);else if(T){const A=`${e.params.eventsPrefix}init`,P=R=>{p.swiper=R.detail[0],T.removeEventListener(A,P),h(),f(!0),p.swiper.update(),e.update()};T.addEventListener(A,P)}return T},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else h(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(p,y)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(y)}),r("beforeDestroy",()=>{const p=e.thumbs.swiper;!p||p.destroyed||o&&p.destroy()}),Object.assign(e.thumbs,{init:h,update:f})}function TE(n){let{swiper:e,extendParams:t,emit:r,once:a}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:p}=e;f.velocities.length===0&&f.velocities.push({position:p[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:p[e.isHorizontal()?"currentX":"currentY"],time:Ro()})}function h(f){let{currentPos:p}=f;if(e.params.cssMode)return;const{params:y,wrapperEl:b,rtlTranslate:_,snapGrid:T,touchEventsData:A}=e,R=Ro()-A.touchStartTime;if(p<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(p>-e.maxTranslate()){e.slides.length<T.length?e.slideTo(T.length-1):e.slideTo(e.slides.length-1);return}if(y.freeMode.momentum){if(A.velocities.length>1){const M=A.velocities.pop(),I=A.velocities.pop(),V=M.position-I.position,F=M.time-I.time;e.velocity=V/F,e.velocity/=2,Math.abs(e.velocity)<y.freeMode.minimumVelocity&&(e.velocity=0),(F>150||Ro()-M.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=y.freeMode.momentumVelocityRatio,A.velocities.length=0;let C=1e3*y.freeMode.momentumRatio;const E=e.velocity*C;let w=e.translate+E;_&&(w=-w);let O=!1,z;const k=Math.abs(e.velocity)*20*y.freeMode.momentumBounceRatio;let L;if(w<e.maxTranslate())y.freeMode.momentumBounce?(w+e.maxTranslate()<-k&&(w=e.maxTranslate()-k),z=e.maxTranslate(),O=!0,A.allowMomentumBounce=!0):w=e.maxTranslate(),y.loop&&y.centeredSlides&&(L=!0);else if(w>e.minTranslate())y.freeMode.momentumBounce?(w-e.minTranslate()>k&&(w=e.minTranslate()+k),z=e.minTranslate(),O=!0,A.allowMomentumBounce=!0):w=e.minTranslate(),y.loop&&y.centeredSlides&&(L=!0);else if(y.freeMode.sticky){let M;for(let I=0;I<T.length;I+=1)if(T[I]>-w){M=I;break}Math.abs(T[M]-w)<Math.abs(T[M-1]-w)||e.swipeDirection==="next"?w=T[M]:w=T[M-1],w=-w}if(L&&a("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?C=Math.abs((-w-e.translate)/e.velocity):C=Math.abs((w-e.translate)/e.velocity),y.freeMode.sticky){const M=Math.abs((_?-w:w)-e.translate),I=e.slidesSizesGrid[e.activeIndex];M<I?C=y.speed:M<2*I?C=y.speed*1.5:C=y.speed*2.5}}else if(y.freeMode.sticky){e.slideToClosest();return}y.freeMode.momentumBounce&&O?(e.updateProgress(z),e.setTransition(C),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating=!0,a0(b,()=>{!e||e.destroyed||!A.allowMomentumBounce||(r("momentumBounce"),e.setTransition(y.speed),setTimeout(()=>{e.setTranslate(z),a0(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(w),e.setTransition(C),e.setTranslate(w),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,a0(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(w),e.updateActiveIndex(),e.updateSlidesClasses()}else if(y.freeMode.sticky){e.slideToClosest();return}else y.freeMode&&r("_freeModeNoMomentumRelease");(!y.freeMode.momentum||R>=y.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:h}})}const Y5=()=>{const[n,e]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const r=await Ii(Lr(hn,"hero-slider-images")),a=[];r.forEach(o=>{const u=o.data();u.image&&u.image.url&&a.push(u.image.url)}),e(a)}catch(r){console.error("Error fetching images:",r)}})()},[]),d.jsx("div",{className:"w-full",children:d.jsx(Pl,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!1,modules:[K5,Q5,Tf],className:"mySwiper",children:n.map((t,r)=>d.jsx(kl,{children:d.jsx("img",{src:t,alt:`Slide ${r+1}`,className:"w-full h-[200px] md:h-[450px] object-cover"})},r))})})},SE=()=>d.jsxs("div",{className:"bg-gray-100 ",children:[d.jsx("div",{children:d.jsx(Y5,{})}),d.jsx("div",{className:"px-1 md:px-4",children:d.jsx("div",{children:d.jsx(lA,{})})})]}),X5=q.createContext(),W5=({children:n})=>{const[e,t]=q.useState(null),[r,a]=q.useState(!0);q.useEffect(()=>{const f=jD(s0,p=>{t(p),a(!1)});return()=>f()},[]);const h={user:e,login:async(f,p)=>{a(!0);try{await CD(s0,f,p)}catch(y){console.error("Login error:",y.message)}finally{a(!1)}},logout:async()=>{await MD(s0)},loading:r};return d.jsx(X5.Provider,{value:h,children:n})},Z5=()=>d.jsx("div",{children:d.jsx("p",{children:"this is admin page"})}),AE=()=>{const{gender:n,category:e}=Ey(),t=10,r=q.useRef(null),[a,o]=q.useState(window.innerWidth<768);q.useEffect(()=>{const E=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const u=E=>E?Math.round(E).toLocaleString("en-US"):"0",h=async({pageParam:E=null})=>{const w=E?Va(Lr(hn,"products"),xa("gender","==",n),xa("subcategory","array-contains",e.toLowerCase()),i2(E),$f(t)):Va(Lr(hn,"products"),xa("gender","==",n),xa("subcategory","array-contains",e.toLowerCase()),$f(t)),O=await Ii(w),z=[];return O.forEach(k=>{const L=k.data();L.available&&L.stock>0&&z.push({id:k.id,...L})}),{products:z,lastVisible:O.docs[O.docs.length-1]}},{data:f,fetchNextPage:p,hasNextPage:y,isFetchingNextPage:b,isLoading:_,error:T}=aA({queryKey:["products",n,e],queryFn:h,getNextPageParam:E=>E.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),A=E=>{const w=JSON.parse(localStorage.getItem("cart"))||[],O=w.find(z=>z.id===E.id);O?O.quantity+=1:w.push({id:E.id,productId:E.productId,name:E.name,price:E.discount?Math.round(E.price-E.price*(E.discount/100)):Math.round(E.price),image:E.mainImage,quantity:1}),localStorage.setItem("cart",JSON.stringify(w)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},P=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:A(E)},R=E=>{E.colorVariants&&E.colorVariants.length>0?window.location.href=`/product/${E.productId||E.id}`:(A(E),window.location.href="/cart")},C=(f==null?void 0:f.pages.flatMap(E=>E.products))||[];return _?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):T?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:r,children:[d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-2 mb-2 md:m-4 mt-2",children:["Showing products for ",n," / ",e]}),C.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-1",children:C.map(E=>{const w=E.discount&&E.discount>0,O=E.colorVariants&&E.colorVariants.length>0,z=a?17:25,k=E.name.length>z,L=k?`${E.name.substring(0,z)}...`:E.name;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(wt,{to:`/product/${E.productId||E.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:E.mainImage||"/placeholder-product.jpg",alt:E.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),w&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[E.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[L,k&&d.jsx(wt,{to:`/product/${E.productId||E.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:M=>{M.preventDefault(),window.location.href=`/product/${E.productId||E.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",u(E.discount?E.price-E.price*(E.discount/100):E.price)]}),E.regularPrice&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",u(E.regularPrice)]})})]}),E.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",E.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex md:flex-row flex-col gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>P(E),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:O?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>R(E),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${E.stock>0?"text-green-600":"text-red-500"}`,children:E.stock>0?"In Stock":"Out of Stock"}),E.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[E.stock," units"]})]})]})]},E.id)})}),y&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>p(),disabled:b,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:b?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},nf=n=>{},fy=typeof window>"u"?q.useEffect:q.useLayoutEffect,SA=n=>typeof n=="number"&&n>0,NE=n=>SA(n)?n:0,my=n=>Math.round(100*n)/100,py=n=>Math.round(2*n)/2,CE=n=>n===0?0:-1*my(n),J5={},eL="rr--group",tL="rr--box",nL="rr--svg",rL="rr--reset",RE="rr--focus-reset",sL="rr--svg-stop-1",iL="rr--svg-stop-2",IE="rr--on",jE="rr--off",Vu={ZOOM:"rr--fx-zoom",POSITION:"rr--fx-position",OPACITY:"rr--fx-opacity",COLORS:"rr--fx-colors"},rf={SMALL:"rr--rx-sm",MEDIUM:"rr--rx-md",LARGE:"rr--rx-lg",FULL:"rr--rx-full"},m0={SMALL:"rr--gap-sm",MEDIUM:"rr--gap-md",LARGE:"rr--gap-lg"},p0={SMALL:"rr--space-sm",MEDIUM:"rr--space-md",LARGE:"rr--space-lg"},aL="rr--pointer",oL="rr--disabled",lL="rr--dir-y",cL="rr--dir-x",uL="rr--has-stroke",dL="rr--has-border",hL="rr--hf-box-on",fL="rr--hf-box-int",mL="rr--hf-box-off",pL="rr--hf-svg-on",gL="rr--hf-svg-off",sf={FILL:"--rr--fill-on-color",BOX:"--rr--box-on-color",BORDER:"--rr--border-on-color",STROKE:"--rr--stroke-on-color"},af={FILL:"--rr--fill-off-color",BOX:"--rr--box-off-color",BORDER:"--rr--border-off-color",STROKE:"--rr--stroke-off-color"},yL="--rr--border-width",AA="horizontal",NA="vertical",g0="svg",ME="box",Mr={NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large",FULL:"full"},Ol={NONE:"none",ZOOM:"zoom",POSITION:"position",OPACITY:"opacity",COLORS:"colors"},wa={FILL:"activeFillColor",BOX:"activeBoxColor",BORDER:"activeBoxBorderColor",STROKE:"activeStrokeColor"},of={FILL:"inactiveFillColor",BOX:"inactiveBoxColor",BORDER:"inactiveBoxBorderColor",STROKE:"inactiveStrokeColor"};function vL({itemShapes:n,testId:e,itemStrokeWidth:t=0,orientation:r=AA,hasHF:a=!1}){const o=t>0?-t/2:0,u=t>0?`${o} ${o}`:"0 0",h=q.useId(),f=q.useRef(null),[p,y]=q.useState(null),[b,_]=q.useState(!1),T=q.useRef(null),A=q.useRef(null),P=q.useCallback(R=>{const{width:C,height:E,x:w,y:O}=R.getBBox();if(((...z)=>z.every(k=>typeof k=="number"))(C,E,w,O)){const z=`${u} ${my(C+t)} ${my(E+t)}`,k=`${CE(w)} ${CE(O)}`;y({viewBox:z,translateData:k})}},[t,u]);return fy(()=>{if(f.current){const{width:R,height:C,x:E,y:w}=f.current.getBBox();if(R===0&&C===0&&E===0&&w===0){const O=function(z){if(!z||!z.parentElement)return null;let k=z==null?void 0:z.parentElement;for(;k&&window.getComputedStyle(k).display!=="none";)k=k.parentElement;return k}(f.current);O&&(A.current=O,_(!0))}else _(!1);P(f.current)}},[n,t,a]),fy(()=>{if(b&&A.current)return T.current=new MutationObserver((R,C)=>{R.forEach(()=>{window.getComputedStyle(A.current).display==="none"||(P(f.current),C.disconnect())})}),T.current.observe(A.current,{attributes:!0}),()=>{var R;(R=T.current)==null||R.disconnect()}},[b,P]),d.jsxs("svg",{"aria-hidden":"true",className:nL,xmlns:"http://www.w3.org/2000/svg",viewBox:p?p.viewBox:"0 0 0 0",preserveAspectRatio:"xMidYMid meet",...t>0?{strokeWidth:t}:{},...e,children:[a&&d.jsx("defs",{children:d.jsxs("linearGradient",{id:h,...r===NA?{gradientTransform:"rotate(90)"}:{},children:[d.jsx("stop",{className:sL,offset:"50%"}),d.jsx("stop",{className:iL,offset:"50%"})]})}),d.jsx("g",{ref:f,shapeRendering:"geometricPrecision",...function(){if(p){const R=`translate(${p==null?void 0:p.translateData})`;return R==="translate(0 0)"?{}:{transform:R}}return{transform:void 0}}(),...a?{fill:`url('#${h}')`}:{},children:n})]})}function CA(n,e,t){switch(e){case wa.FILL:return n[sf.FILL]=t,!0;case wa.BOX:return n[sf.BOX]=t,!0;case wa.BORDER:return n[sf.BORDER]=t,!0;case wa.STROKE:return n[sf.STROKE]=t,!0}return!1}function bL(n,e,t){if(!CA(n,e,t))switch(e){case of.FILL:n[af.FILL]=t;break;case of.BOX:n[af.BOX]=t;break;case of.BORDER:n[af.BORDER]=t;break;case of.STROKE:n[af.STROKE]=t}}function xL(n,e,t){const r={};let a;for(const[o,u]of Object.entries(n))CA(r,o,u[e]);return t?(a=Array(e).fill({}),a.push(r)):a=Array(e+1).fill(r),a}const y0=n=>`${n} ${Vu.COLORS}`;function _L({className:n,radius:e,readOnly:t,isDisabled:r,isDynamic:a,transition:o,orientation:u,absoluteBoxBorderWidth:h,absoluteStrokeWidth:f,spaceBetween:p,spaceInside:y}){const b=a?aL:"",_=function(E){switch(E){case Mr.SMALL:return m0.SMALL;case Mr.MEDIUM:return m0.MEDIUM;case Mr.LARGE:return m0.LARGE;default:return""}}(p),T=function(E){switch(E){case Mr.SMALL:return p0.SMALL;case Mr.MEDIUM:return p0.MEDIUM;case Mr.LARGE:return p0.LARGE;default:return""}}(y),A=!t&&r?oL:"",P=a&&o!==Ol.NONE?function(E){switch(E){case Ol.ZOOM:return y0(Vu.ZOOM);case Ol.POSITION:return y0(Vu.POSITION);case Ol.OPACITY:return y0(Vu.OPACITY);case Ol.COLORS:return Vu.COLORS;default:return""}}(o):"",R=u===NA?lL:cL,C=function(E){switch(E){case Mr.SMALL:return rf.SMALL;case Mr.MEDIUM:return rf.MEDIUM;case Mr.LARGE:return rf.LARGE;case Mr.FULL:return rf.FULL;default:return""}}(e);return`${eL} ${R} ${f>0?uL:""} ${h>0?dL:""}
${P} ${C} ${b} ${A} ${_}
${T} ${n}`.replace(/  +/g," ").trimEnd()}function wL(n,e,t){return Array.from({length:e},(r,a)=>n?a===t?IE:jE:a<=t?IE:jE)}function EL(n,e,t){const r=Math.floor(py(n));return Array.from({length:e},(a,o)=>t==="box"?o>r?mL:o===r?fL:hL:o>r?gL:pL)}function OE(n,e){const t={};SA(e)&&(t[yL]=`${e}px`);const r=Object.entries(n);if(r.length>0)for(const[a,o]of r)bL(t,a,o);return t}const TL=[wa.FILL,wa.BOX,wa.STROKE,wa.BORDER];function v0(n,e,t=!1){return Array.from({length:n},(r,a)=>t&&e<0?a===n-1?0:-1:e<=0?a===0?0:-1:e>0?a===e?0:-1:void 0)}const SL="@smastrom/react-rating",AL=n=>`[${SL}] - Nothing's returned from rendering. Reason: ${n}.`;function Nu(n,e){return n.shouldRender=!1,n.reason=AL(e),n}const DE="itemShapes is not a valid JSX element",NL=d.jsx("polygon",{points:"25 9.02 16.4 7.75 12.46 0 8.59 7.79 0 9.14 6.21 15.23 4.85 23.81 12.55 19.79 20.3 23.74 18.85 15.17 25 9.02"});d.jsx("path",{d:"M12.5,18.16l-7.73,5.61,2.95-9.08L0,9.07H9.55S12.5,0,12.5,0l2.95,9.07h9.55l-7.73,5.62,2.95,9.08-7.73-5.61Z"});d.jsx("path",{d:"M112.46,57.88c-.23-.72-.88-1.22-1.63-1.27l-6.63-.46-2.45-6.19c-.27-.7-.95-1.16-1.7-1.16h0c-.75,0-1.42,.46-1.7,1.16l-2.5,6.23-6.58,.42c-.75,.05-1.4,.55-1.63,1.27-.24,.73,0,1.53,.58,2.02l5.07,4.28-1.51,5.92c-.21,.82,.1,1.69,.78,2.19,.66,.48,1.55,.5,2.24,.07l5.23-3.31h.02l5.63,3.56c.29,.19,.63,.29,.97,.29,1.02,0,1.83-.84,1.83-1.86,0-.16-.02-.31-.06-.47l-1.6-6.48,5.04-4.2c.59-.49,.82-1.29,.58-2.02Z"});d.jsx("path",{d:"M22.72,8.24h-6.68L13.97,1.88c-.81-2.51-2.13-2.51-2.95,0l-2.07,6.36H2.28c-2.63,0-3.04,1.25-.91,2.8l5.41,3.93-2.06,6.36c-.81,2.51,.25,3.28,2.39,1.73l5.41-3.93,5.41,3.93c2.13,1.55,3.2,.77,2.39-1.73l-2.07-6.36,5.41-3.93c2.13-1.55,1.72-2.8-.91-2.8Z"});d.jsx("path",{d:"M11.58,.77c.51-1.02,1.33-1.02,1.84,0l2.34,4.73c.5,1.02,1.84,2,2.98,2.16l5.22,.76c1.13,.17,1.39,.95,.57,1.75l-3.78,3.68c-.82,.8-1.33,2.37-1.14,3.5l.89,5.2c.19,1.13-.48,1.61-1.49,1.08l-4.67-2.45c-1.01-.53-2.67-.53-3.68,0l-4.67,2.46c-1.01,.53-1.68,.05-1.49-1.08l.89-5.2c.19-1.13-.32-2.7-1.14-3.5L.48,10.17c-.82-.8-.56-1.58,.57-1.75l5.22-.76c1.13-.16,2.47-1.14,2.98-2.16L11.58,.77h0Z"});d.jsx("path",{d:"M19.29,1.61c-2.15-2.15-5.63-2.15-7.78,0,0,0,0,0,0,0l-1.06,1.06-1.06-1.06C7.24-.54,3.76-.54,1.61,1.61-.54,3.76-.54,7.24,1.61,9.39l1.06,1.06,7.78,7.78,7.78-7.78,1.06-1.06c2.15-2.15,2.15-5.63,0-7.78,0,0,0,0,0,0Z"});const CL={itemShapes:NL,itemStrokeWidth:2,activeFillColor:"#ffb23f",inactiveFillColor:"#fff7ed",activeStrokeColor:"#e17b21",inactiveStrokeColor:"#eda76a"},zu=q.forwardRef(({value:n,items:e=5,readOnly:t=!1,onChange:r=nf,onHoverChange:a=nf,onFocus:o=nf,onBlur:u=nf,preventDefault:h="all",isDisabled:f=!1,highlightOnlySelected:p=!1,orientation:y=AA,spaceBetween:b=Mr.NONE,spaceInside:_=Mr.SMALL,radius:T=Mr.NONE,transition:A=Ol.COLORS,itemStyles:P=CL,isRequired:R=!1,halfFillMode:C=g0,visibleLabelId:E,visibleItemLabelIds:w,invisibleItemLabels:O,invisibleLabel:z=t?n>0?`Rated ${n} on ${e}`:"Not rated":"Rating Selection",resetLabel:k="Reset rating",id:L,className:M,style:I},V)=>{const F=Array.from({length:e},(Me,je)=>je+1),U=t&&!Number.isInteger(n),j=U&&!p,ie=U&&p?Math.round(n):n,ce=!t&&!f,$=ie>=.25,se=typeof M=="string"?M:"",ae=C===ME?ME:g0,be=j&&!(Me=>Number.isInteger(py(Me)))(ie),H=!R&&!t,le=R?e:e+1,ve=j?function(Me,je){const Je=py(je);return Number.isInteger(Je)?Me.indexOf(Je):Math.floor(Je)}(F,ie):F.indexOf(ie),{staticColors:ge,arrayColors:Se,itemShapes:Ve,absoluteStrokeWidth:Ee,absoluteBoxBorderWidth:ye}=q.useMemo(()=>{const{itemShapes:Me,itemStrokeWidth:je,boxBorderWidth:Je,...ht}=P,qt=function(sn){const nr={...sn},jn={},qn=Object.entries(nr);if(qn.length>0)for(const[Mn,Qt]of qn)if(Array.isArray(Qt)||typeof Qt=="string"){if(Array.isArray(Qt))for(const Ur of TL)if(Ur===Mn){const _r=Qt.filter(Ts=>typeof Ts=="string");_r.length>0&&(jn[Mn]=_r,delete nr[Mn])}else delete nr[Mn]}else delete nr[Mn];return{arrayColors:jn,staticColors:nr}}(ht);return{itemShapes:Me,absoluteStrokeWidth:NE(je),absoluteBoxBorderWidth:NE(Je),...qt}},[P]),Te=Object.keys(Se).length>0,it=q.useCallback((Me,je)=>({dynamicClassNames:be?EL(ie,e,ae):wL(p,e,Me),dynamicCssVars:je&&Te?xL(Se,Me,p):[]}),[Se,Te,p,ae,be,e,ie]),Ze=q.useCallback(()=>_s(v0(le,ve,!R)),[ve,le,R]),It=q.useRef(!0),Ht=q.useRef(!0),mn=q.useRef(null),Ft=q.useRef([]),ur=q.useRef(!1),[Jn,Xt]=q.useState({staticCssVars:OE(ge,ye),...it(ve,$)}),[xs,_s]=q.useState(()=>ce?v0(le,ve,!R):[]);fy(()=>{ce&&Ft.current&&(ur.current=function(Me){return Me?getComputedStyle(Me).getPropertyValue("direction")==="rtl":!1}(Ft.current[0]))},[ce]),q.useEffect(()=>{if(!It.current)return Xt({staticCssVars:OE(ge,ye),...it(ve,$)});It.current=!1},[ge,it,ye,ve,$]),q.useEffect(()=>{if(!Ht.current&&ce)return Ze();Ht.current=!1},[ce,Ze]);const{shouldRender:ws,reason:ss}=function({items:Me,itemShapes:je}){const Je={shouldRender:!0,reason:""};if(typeof Me!="number"||Me<1||Me>10)return Nu(Je,"items is invalid");if(!je)return Nu(Je,"itemStyles needs at least the property itemShapes set");if(!Array.isArray(je)&&!q.isValidElement(je))return Nu(Je,DE);if(Array.isArray(je)){if(je.length!==Me)return Nu(Je,"itemShapes length mismatch");if(!je.every(ht=>q.isValidElement(ht)))return Nu(Je,DE)}return Je}({items:e,itemShapes:Ve});if(!ws)return console.error(ss),null;function er(Me,je,Je=()=>{}){Ft.current.some(ht=>ht===Me.relatedTarget)?Je():je()}function tr(){a(0),Ze()}function Es(Me){er(Me,()=>{tr()}),Xt({...Jn,...it(ve,$)})}function is(Me){er(Me,()=>{tr(),u()})}function gt(Me,je){const Je=!R&&je===F.length?0:je+1;er(Me,()=>{o(),a(Je)},()=>{a(Je)})}function We(Me){_s(v0(le,Me,!R)),Ft.current[Me].focus()}const En=_L({className:se,radius:T,readOnly:t,isDisabled:f,isDynamic:ce,transition:A,orientation:y,absoluteBoxBorderWidth:ye,absoluteStrokeWidth:Ee,spaceBetween:b,spaceInside:_});function Gt(Me){return{ref:je=>Ft.current[Me]=je}}function Zs(Me){return{tabIndex:xs[Me],onKeyDown:je=>function(Je,ht){let qt=0;const sn=R?F.length-1:F.length,nr=ht-1,jn=ht+1,qn=!R&&ht===F.length,Mn=ht===0?sn:nr,Qt=sn===ht?0:jn;switch(Je.code){case"Shift":case"Tab":return!0;case"ArrowDown":case"ArrowRight":return qt=ur.current?Mn:Qt,We(qt);case"ArrowUp":case"ArrowLeft":return qt=ur.current?Qt:Mn,We(qt);case"Enter":case"Space":return h!=="all"&&h!=="click"||Je.preventDefault(),r(qn?0:ht+1)}Je.stopPropagation()}(je,Me)}}function dr(Me){return{onClick:je=>function(Je,ht){h!=="all"&&h!=="keydown"||Je.preventDefault(),Je.stopPropagation(),r(R||ve!==ht?ht+1:0)}(je,Me),onMouseEnter:()=>function(je){a(je+1),Xt({...Jn,...it(je,!0)})}(Me),onMouseLeave:Es}}function Vr(Me){if(t)return{};const je={};if(Array.isArray(w))je["aria-labelledby"]=w[Me];else{const Je=Array.isArray(O)?O:F.map((ht,qt)=>`Rate ${qt+1}`);je["aria-label"]=Je[Me]}return f&&(je["aria-disabled"]="true"),{role:"radio","aria-checked":Me+1===ie,...je}}function zr(Me){const je={itemShapes:Array.isArray(Ve)?Ve[Me]:Ve,itemStrokeWidth:Ee,orientation:y,hasHF:!1,testId:{}};return be&&ae===g0&&(je.hasHF=Me===ve),je}return d.jsx("div",{id:L,className:En,style:{...I,...Jn.staticCssVars},ref:function(Me){ce&&!R&&(mn.current=Me),V&&(V.current=Me)},...function(){if(!t){const Me=R&&!f,je={role:"radiogroup","aria-required":Me};return Me&&(je["aria-invalid"]=ie<=0),typeof E=="string"&&E.length>0?je["aria-labelledby"]=E:je["aria-label"]=z,je}return{role:"img","aria-label":z}}(),...J5,children:F.map((Me,je)=>{return d.jsxs(q.Fragment,{children:[d.jsx("div",{className:`${tL} ${Jn.dynamicClassNames[je]}`,style:Jn.dynamicCssVars[je],...Vr(je),...(ht=je,ce?{...Gt(ht),...Zs(ht),...dr(ht),onFocus:qt=>gt(qt,ht),onBlur:qt=>is(qt)}:{}),children:d.jsx(vL,{...zr(je)})}),H&&je===F.length-1&&d.jsx("div",{...(Je=je+1,{className:rL,role:"radio","aria-label":k,"aria-checked":ie===0,onClick:()=>r(0),onFocus:qt=>{var sn;gt(qt,Je),(sn=mn.current)==null||sn.classList.add(RE)},onBlur:qt=>{var sn;is(qt),(sn=mn.current)==null||sn.classList.remove(RE)},...Zs(Je),...Gt(Je),...f?{"aria-disabled":"true"}:{}})})]},Me);var Je,ht})})});zu.displayName="Rating";function RL(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}RL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ov=n=>typeof n=="number"&&!isNaN(n),ad=n=>typeof n=="string",RA=n=>typeof n=="function",IL=n=>ad(n)||Ov(n),jL=n=>q.isValidElement(n)||ad(n)||RA(n)||Ov(n),ML=1,IA=()=>`${ML++}`,Ks=new Map,gy=[],PE=new Set,jA=()=>Ks.size>0,OL=(n,{containerId:e})=>{var t;return(t=Ks.get(e||1))==null?void 0:t.toasts.get(n)};function DL(n,e){var t;if(e)return!!((t=Ks.get(e))!=null&&t.isToastActive(n));let r=!1;return Ks.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function PL(n){if(!jA()){gy=gy.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||IL(n))Ks.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ks.get(n.containerId);e?e.removeToast(n.id):Ks.forEach(t=>{t.removeToast(n.id)})}}var kL=(n={})=>{Ks.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function LL(n,e){jL(n)&&(jA()||gy.push({content:n,options:e}),Ks.forEach(t=>{t.buildToast(n,e)}))}function MA(n,e){Ks.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function VL(n){return PE.add(n),()=>{PE.delete(n)}}function zL(n){return n&&(ad(n.toastId)||Ov(n.toastId))?n.toastId:IA()}function Cd(n,e){return LL(n,e),e.toastId}function Lm(n,e){return{...e,type:e&&e.type||n,toastId:zL(e)}}function Vm(n){return(e,t)=>Cd(e,Lm(n,t))}function _t(n,e){return Cd(n,Lm("default",e))}_t.loading=(n,e)=>Cd(n,Lm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function UL(n,{pending:e,error:t,success:r},a){let o;e&&(o=ad(e)?_t.loading(e,a):_t.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,b)=>{if(y==null){_t.dismiss(o);return}let _={type:p,...u,...a,data:b},T=ad(y)?{render:y}:y;return o?_t.update(o,{..._,...T}):_t(T.render,{..._,...T}),b},f=RA(n)?n():n;return f.then(p=>h("success",r,p)).catch(p=>h("error",t,p)),f}_t.promise=UL;_t.success=Vm("success");_t.info=Vm("info");_t.error=Vm("error");_t.warning=Vm("warning");_t.warn=_t.warning;_t.dark=(n,e)=>Cd(n,Lm("default",{theme:"dark",...e}));function BL(n){PL(n)}_t.dismiss=BL;_t.clearWaitingQueue=kL;_t.isActive=DL;_t.update=(n,e={})=>{let t=OL(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:IA()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Cd(u,o)}};_t.done=n=>{_t.update(n,{progress:1})};_t.onChange=VL;_t.play=n=>MA(!0,n);_t.pause=n=>MA(!1,n);function FL(n){return pd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.94 370.14c-5.22-5.56-23.65-22-57.53-43.75-34.13-21.94-59.3-35.62-66.52-38.81a3.83 3.83 0 0 0-3.92.49c-11.63 9.07-31.21 25.73-32.26 26.63-6.78 5.81-6.78 5.81-12.33 4-9.76-3.2-40.08-19.3-66.5-45.78s-43.35-57.55-46.55-67.3c-1.83-5.56-1.83-5.56 4-12.34.9-1.05 17.57-20.63 26.64-32.25a3.83 3.83 0 0 0 .49-3.92c-3.19-7.23-16.87-32.39-38.81-66.52-21.78-33.87-38.2-52.3-43.76-57.52a3.9 3.9 0 0 0-3.89-.87 322.35 322.35 0 0 0-56 25.45A338 338 0 0 0 33.35 92a3.83 3.83 0 0 0-1.26 3.74c2.09 9.74 12.08 50.4 43.08 106.72 31.63 57.48 53.55 86.93 100 133.22S252 405.21 309.54 436.84c56.32 31 97 41 106.72 43.07a3.86 3.86 0 0 0 3.75-1.26A337.73 337.73 0 0 0 454.35 430a322.7 322.7 0 0 0 25.45-56 3.9 3.9 0 0 0-.86-3.86z"},child:[]}]})(n)}const qL=()=>{var se,ae,be,H,le,ve,ge,Se,Ve,Ee;const{productId:n}=Ey(),[e,t]=q.useState(null),[r,a]=q.useState(!0),[o,u]=q.useState(null),[h,f]=q.useState(null),[p,y]=q.useState(0),[b,_]=q.useState(null),[T,A]=q.useState(null),[P,R]=q.useState("description"),[C,E]=q.useState([]),[w,O]=q.useState(!1),[z,k]=q.useState({name:"",contact:"",rating:0,comment:""}),[L,M]=q.useState(null);q.useEffect(()=>{(async()=>{var Te;try{const it=Va(Lr(hn,"products"),xa("productId","==",n)),Ze=await Ii(it);if(!Ze.empty){const It=Ze.docs[0],Ht={id:It.id,...It.data()};t(Ht),Ht.isColorVariants&&((Te=Ht.colorVariants)==null?void 0:Te.length)>0&&u(Ht.colorVariants[0])}a(!1)}catch(it){console.error("Error fetching product:",it),a(!1)}})()},[n]),q.useEffect(()=>{let ye;return(()=>{if(!n)return;const it=Lr(hn,"reviews"),Ze=Va(it,xa("productId","==",n));ye=AO(Ze,It=>{const Ht=[];It.forEach(mn=>{Ht.push({id:mn.id,...mn.data()})}),E(Ht)},It=>{console.error("Error listening to reviews:",It)})})(),()=>{ye&&ye()}},[n]);const I=()=>{var Ze,It,Ht,mn;if(ie()){_t.error("This product is out of stock");return}if(e.isColorVariants&&((Ze=o==null?void 0:o.sizes)==null?void 0:Ze.length)>0&&!T){_t.error("Please select a size");return}const ye=JSON.parse(localStorage.getItem("cart"))||[],Te={id:e.id,productId:e.productId,name:e.name,price:e.discount?(e.price-e.price*(e.discount/100)).toFixed(2):e.price,image:e.isColorVariants?(It=o==null?void 0:o.images)==null?void 0:It[0]:(Ht=e.images)==null?void 0:Ht[0],quantity:1,color:e.isColorVariants?{name:o==null?void 0:o.colorName,code:o==null?void 0:o.colorCode,image:(mn=o==null?void 0:o.images)==null?void 0:mn[0]}:null,size:T?{size:T.size,stock:T.stock}:null,productType:e.productType,discount:e.discount||0,regularPrice:e.regularPrice||null},it=ye.findIndex(Ft=>{var ur,Jn,Xt,xs;return!(Ft.id!==Te.id||e.isColorVariants&&((ur=Ft.color)==null?void 0:ur.name)!==((Jn=Te.color)==null?void 0:Jn.name)||T&&((Xt=Ft.size)==null?void 0:Xt.size)!==((xs=Te.size)==null?void 0:xs.size))});it>=0?(ye[it].quantity+=1,_t.success("Item quantity increased in cart")):(ye.push(Te),_t.success("Item added to cart")),localStorage.setItem("cart",JSON.stringify(ye)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},V=()=>{I(),window.location.href="/cart"},F=async ye=>{if(ye.preventDefault(),!z.name||!z.comment||z.rating===0||!z.contact){_t.error("Please fill all required fields");return}const Te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.contact),it=/^[0-9]{10,15}$/.test(z.contact);if(!Te&&!it){_t.error("Please enter a valid email or phone number");return}try{const Ze={productId:n,productName:e.name,name:z.name,contact:z.contact,contactType:Te?"email":"phone",rating:z.rating,comment:z.comment,createdAt:new Date().toISOString()};L?(await u2(La(hn,"reviews",L),Ze),_t.success("Review updated successfully")):(await SO(Lr(hn,"reviews"),Ze),_t.success("Review submitted successfully")),O(!1),k({name:"",contact:"",rating:0,comment:""}),M(null)}catch(Ze){console.error("Error submitting review:",Ze),_t.error("Failed to submit review")}},U=ye=>{k({name:ye.name,contact:ye.contact||"",rating:ye.rating,comment:ye.comment}),M(ye.id),O(!0)},j=async ye=>{if(window.confirm("Are you sure you want to delete this review?"))try{await TO(La(hn,"reviews",ye)),_t.success("Review deleted successfully")}catch(Te){console.error("Error deleting review:",Te),_t.error("Failed to delete review")}},ie=()=>{var ye;return e.isColorVariants?((ye=o==null?void 0:o.sizes)==null?void 0:ye.length)>0?!o.sizes.some(Te=>Te.stock>0):(o==null?void 0:o.stock)<1:e.stock<1},ce=ye=>ye<1;if(r)return d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading product details..."})]})});if(!e)return d.jsx("div",{className:"text-center py-8 text-lg",children:"Product not found"});const $=C.length>0?(C.reduce((ye,Te)=>ye+Te.rating,0)/C.length).toFixed(1):0;return d.jsxs("div",{className:"pt-6",children:[w&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold",children:L?"Edit Review":"Write a Review"}),d.jsx("button",{onClick:()=>{O(!1),M(null),k({name:"",contact:"",rating:0,comment:""})},className:"text-gray-500 hover:text-gray-700",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:F,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Name*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.name,onChange:ye=>k({...z,name:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Email or Phone Number*"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:z.contact,onChange:ye=>k({...z,contact:ye.target.value}),required:!0,placeholder:"example@email.com or 0123456789"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Rating*"}),d.jsx(zu,{style:{maxWidth:150},value:z.rating,onChange:ye=>k({...z,rating:ye}),isRequired:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-gray-700 mb-1",children:"Your Review*"}),d.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md",rows:"4",value:z.comment,onChange:ye=>k({...z,comment:ye.target.value}),required:!0})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>{O(!1),M(null),k({name:"",contact:"",rating:0,comment:""})},className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:L?"Update Review":"Submit Review"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 px-2",children:[d.jsx("div",{className:"md:sticky md:top-4",children:e.isColorVariants?d.jsxs(d.Fragment,{children:[d.jsxs(Pl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},thumbs:{swiper:h},modules:[Tf,EE],className:"mb-2 rounded-lg relative",children:[(se=o==null?void 0:o.images)==null?void 0:se.map((ye,Te)=>d.jsxs(kl,{children:[d.jsxs("div",{className:`relative ${o.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:`${e.name} - ${o.colorName}`,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),o.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]}),d.jsxs("div",{className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 bg-black bg-opacity-70 text-white px-2 py-0.5 sm:px-3 sm:py-1 rounded text-xs sm:text-sm",children:[d.jsx("p",{children:o.colorName}),d.jsxs("p",{children:["Stock: ",o.stock]})]})]},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"relative mt-2",children:[d.jsx(Pl,{onSwiper:f,spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumbnail-next",prevEl:".thumbnail-prev"},modules:[Tf,EE,TE],className:"thumbnail-swiper",children:e.colorVariants.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${(o==null?void 0:o.colorName)===ye.colorName?"border-blue-500":"border-transparent"} ${ye.stock<1?"opacity-70":""}`,onClick:()=>u(ye),children:[d.jsx("img",{src:ye.thumbnail,alt:ye.colorName,className:"w-full h-16 sm:h-20 object-cover"}),ye.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))}),e.colorVariants.length>4&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"thumbnail-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"thumbnail-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Pl,{spaceBetween:10,navigation:{nextEl:".main-next",prevEl:".main-prev"},modules:[Tf],className:"mb-2 rounded-lg relative",onSlideChange:ye=>y(ye.activeIndex),onSwiper:_,children:[(ae=e.images)==null?void 0:ae.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`relative ${e.stock<1?"opacity-70":""}`,children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-64 sm:h-80 md:h-[400px] object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-lg sm:text-2xl font-bold bg-red-500 px-3 py-1 sm:px-4 sm:py-2 rounded-lg shadow-lg",children:"Out of Stock"})})]})},Te)),d.jsx("button",{className:"main-prev absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d.jsx("button",{className:"main-next absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white p-1 rounded-full shadow-md hover:bg-gray-100",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),((be=e.images)==null?void 0:be.length)>1&&d.jsx("div",{className:"relative mt-2",children:d.jsx(Pl,{spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[TE],className:"thumbnail-swiper",children:e.images.map((ye,Te)=>d.jsx(kl,{children:d.jsxs("div",{className:`cursor-pointer border-2 ${p===Te?"border-blue-500":"border-transparent"} ${e.stock<1?"opacity-70":""}`,onClick:()=>{y(Te),b&&b.slideTo(Te)},children:[d.jsx("img",{src:ye,alt:e.name,className:"w-full h-16 sm:h-20 object-cover"}),e.stock<1&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs font-bold bg-red-500 px-1 py-0.5 rounded",children:"Out"})})]})},Te))})})]})}),d.jsxs("div",{className:"px-2 sm:px-0",children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:e.name}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",children:d.jsxs("div",{className:"flex flex-row items-center gap-2 text-green-500 text-[18px] cursor-pointer",children:[d.jsx("span",{children:d.jsx(Nw,{})}),d.jsx("p",{children:"Ask for details"})]})}),d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(zu,{style:{maxWidth:100},value:$,readOnly:!0}),d.jsxs("span",{className:"ml-2 text-gray-700",children:[$," (",C.length," ",C.length===1?"review":"reviews",")"]})]}),d.jsxs("div",{className:"flex items-center mb-4 sm:mb-5",children:[d.jsxs("span",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["৳",e.price]}),e.regularPrice&&d.jsxs("span",{className:"text-gray-500 line-through ml-2 text-sm sm:text-base",children:["৳",e.regularPrice]}),e.discount>0&&d.jsxs("span",{className:"ml-2 bg-red-100 text-red-600 text-xs sm:text-sm px-2 py-0.5 rounded",children:[e.discount,"% OFF"]})]}),e.isColorVariants&&((H=e.colorVariants)==null?void 0:H.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("h3",{className:"font-medium text-gray-700",children:"Color:"}),d.jsx("span",{className:"ml-2 font-medium text-gray-900",children:o==null?void 0:o.colorName})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:e.colorVariants.map((ye,Te)=>d.jsxs("button",{className:`px-3 py-1 rounded-full border text-xs sm:text-sm transition-colors
                            ${(o==null?void 0:o.colorName)===ye.colorName?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                            ${ye.stock<1?"opacity-60 cursor-not-allowed":""}`,onClick:()=>ye.stock>=1&&u(ye),disabled:ye.stock<1,children:[ye.colorName,ye.stock<1&&" (Out)"]},Te))})]}),((le=o==null?void 0:o.sizes)==null?void 0:le.length)>0&&d.jsxs("div",{className:"mb-4 sm:mb-5",children:[d.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Select Size"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map((ye,Te)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("button",{className:`w-12 sm:w-14 px-2 py-1 rounded border text-xs sm:text-sm font-medium transition-colors
                                ${(T==null?void 0:T.size)===ye.size?"bg-blue-100 border-blue-500 text-blue-800":"border-gray-300 text-gray-700 hover:border-gray-400"}
                                ${ce(ye.stock)?"opacity-60 cursor-not-allowed":""}`,onClick:()=>!ce(ye.stock)&&A(ye),disabled:ce(ye.stock),children:ye.size}),d.jsxs("span",{className:`text-xs mt-1 ${ce(ye.stock)?"text-red-500":"text-gray-500"}`,children:[ye.stock," left"]})]},Te))})]}),d.jsxs("div",{className:"flex items-center mb-5 sm:mb-6",children:[d.jsx("span",{className:`font-medium ${ie()?"text-red-500":"text-green-600"}`,children:ie()?"Out of Stock":"In Stock"}),!ie()&&d.jsx("span",{className:"text-gray-500 ml-2 text-sm sm:text-base",children:e.isColorVariants?((ve=o==null?void 0:o.sizes)==null?void 0:ve.length)>0?`${o.sizes.reduce((ye,Te)=>ye+Te.stock,0)} available`:`${o==null?void 0:o.stock} available`:`${e.stock} available`})]}),d.jsx("div",{children:e.productType&&d.jsxs("p",{className:"text-red-400",children:["(",e.productType,")"]})}),d.jsxs("div",{className:"flex gap-3 mb-2",children:[d.jsx("button",{onClick:I,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ie()||((ge=o==null?void 0:o.sizes)==null?void 0:ge.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:ie()||((Se=o==null?void 0:o.sizes)==null?void 0:Se.length)>0&&!T,children:"Add to Cart"}),d.jsx("button",{onClick:V,className:`flex-1 max-w-[180px] px-4 py-2.5 rounded-md text-sm sm:text-base font-medium transition-colors
                ${ie()||((Ve=o==null?void 0:o.sizes)==null?void 0:Ve.length)>0&&!T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,disabled:ie()||((Ee=o==null?void 0:o.sizes)==null?void 0:Ee.length)>0&&!T,children:"Buy Now"})]}),d.jsxs("div",{className:"flex gap-1 md:gap-4 justify-start",children:[d.jsx("a",{href:"tel:+8801407790565",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:d.jsx(FL,{className:"text-black text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"কল করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})}),d.jsx("a",{href:"https://wa.me/8801407790565",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-white shadow-md rounded-lg px-1 py-2 md:p-4 text-center hover:shadow-lg cursor-pointer border border-gray-300",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:d.jsx(Nw,{className:"text-green-500 text-2xl"})}),d.jsx("p",{className:"font-semibold",children:"মেসেজ করুন"}),d.jsx("p",{className:"text-black",children:"01303129042"})]})})]})]})]}),d.jsxs("div",{className:"mt-8 border-t pt-6",children:[d.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="description"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("description"),children:"Description"}),d.jsxs("button",{className:`py-2 px-4 font-medium text-sm sm:text-base ${P==="reviews"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>R("reviews"),children:["Reviews (",C.length,")"]})]}),d.jsx("div",{className:"px-2 sm:px-0",children:P==="description"?d.jsxs("div",{className:"space-y-4",children:[e.productType&&d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg flex flex-wrap",children:d.jsxs("p",{className:"text-blue-800 font-medium",children:["(",e.productType,") condition: ",e.preOrderDescription]})}),d.jsx("div",{className:"prose max-w-none text-gray-600 break-words whitespace-pre-wrap px-2 md:px-4",children:e.description||"No description available."}),e.detailsImage&&d.jsx("div",{className:"mt-4",children:d.jsx("img",{src:e.detailsImage,alt:"Product details",className:"w-full rounded-lg border border-gray-200"})})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[d.jsxs("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:[d.jsxs("h3",{className:"text-xl font-bold",children:[$," out of 5"]}),d.jsx("div",{className:"flex justify-center sm:justify-start my-2",children:d.jsx(zu,{style:{maxWidth:120},value:$,readOnly:!0})}),d.jsxs("p",{className:"text-gray-600",children:[C.length," ",C.length===1?"review":"reviews"]})]}),d.jsx("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})}),C.length>0?d.jsx("div",{className:"space-y-6 px-2 md:px-4",children:C.map(ye=>d.jsxs("div",{className:"border-b pb-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:ye.name}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx(zu,{style:{maxWidth:100},value:ye.rating,readOnly:!0}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:new Date(ye.createdAt).toLocaleDateString()})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>U(ye),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),d.jsx("button",{onClick:()=>j(ye.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]}),d.jsx("p",{className:"mt-2 text-gray-700",children:ye.comment}),ye.contact&&d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Contact: ",ye.contact]})]},ye.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No reviews yet"}),d.jsx("p",{className:"text-gray-500",children:"Be the first to review this product"}),d.jsx("button",{onClick:()=>O(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"})]})]})})]})]})},HL=()=>{const[n,e]=q.useState({collectionName:"",documentName:"",available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}),t=E=>{const{name:w,value:O,type:z,checked:k}=E.target;e(L=>({...L,[w]:z==="checkbox"?k:O}))},r=E=>{const{name:w,value:O}=E.target;e(z=>({...z,[w]:Number(O)}))},a=E=>{const{name:w,value:O}=E.target;e(z=>({...z,[w]:O.split(",").map(k=>k.trim())}))},o=(E,w,O)=>{const z=[...n.colorVariants];z[E][w]=w==="stock"||w==="isOutfit"?w==="isOutfit"?O:Number(O):O,e(k=>({...k,colorVariants:z}))},u=(E,w,O)=>{const z=[...n.colorVariants];z[E].images[w]=O,e(k=>({...k,colorVariants:z}))},h=(E,w,O,z)=>{const k=[...n.colorVariants];k[E].sizes[w][O]=O==="stock"?Number(z):z,e(L=>({...L,colorVariants:k}))},f=()=>{e(E=>({...E,colorVariants:[...E.colorVariants,{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}]}))},p=E=>{const w=[...n.colorVariants];w.splice(E,1),e(O=>({...O,colorVariants:w}))},y=E=>{const w=[...n.colorVariants];w[E].images.push(""),e(O=>({...O,colorVariants:w}))},b=(E,w)=>{const O=[...n.colorVariants];O[E].images.splice(w,1),e(z=>({...z,colorVariants:O}))},_=E=>{const w=[...n.colorVariants];w[E].sizes.push({size:"",stock:0}),e(O=>({...O,colorVariants:w}))},T=(E,w)=>{const O=[...n.colorVariants];O[E].sizes.splice(w,1),e(z=>({...z,colorVariants:O}))},A=(E,w)=>{const O=[...n.images];O[E]=w,e(z=>({...z,images:O}))},P=()=>{e(E=>({...E,images:[...E.images,""]}))},R=E=>{const w=[...n.images];w.splice(E,1),e(O=>({...O,images:w}))},C=async E=>{E.preventDefault();try{const w={available:n.available,category:n.category,categoryId:n.categoryId,description:n.description,detailsImage:n.detailsImage,name:n.name,price:n.price,productId:n.productId,regularPrice:n.regularPrice,slug:n.slug,stock:n.stock,subcategory:n.subcategory,tags:n.tags,discount:n.discount,gender:n.gender,mainImage:n.mainImage,isColorVariants:n.isColorVariant,deliveryCharge:n.deliveryCharge==="true",createdAt:new Date,...n.isPreOrder&&{productType:"pre-order",preOrderDescription:n.preOrderDescription}};n.isColorVariant?w.colorVariants=n.colorVariants.map(z=>{const{isOutfit:k,sizes:L,...M}=z;return k?{...M,sizes:L}:M}):w.images=n.images;const O=La(hn,n.collectionName,n.documentName);await Qf(O,w),console.log("Document written with ID: ",n.documentName),alert("Product uploaded successfully!"),e(z=>({...z,available:!1,category:"",categoryId:"",description:"",detailsImage:"",name:"",price:0,productId:"",regularPrice:0,slug:"",stock:0,subcategory:[],tags:[],isColorVariant:!1,colorVariants:[{colorName:"",images:[""],stock:0,thumbnail:"",isOutfit:!1,sizes:[{size:"",stock:0}]}],images:[""],discount:0,gender:"",mainImage:"",isPreOrder:!1,productType:"",preOrderDescription:"",deliveryCharge:""}))}catch(w){console.error("Error adding document: ",w),alert("Error uploading product!")}};return d.jsxs("div",{className:"container mx-auto p-4",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Upload Product to Firestore"}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Collection Name"}),d.jsx("input",{type:"text",name:"collectionName",value:n.collectionName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Document Name"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),d.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),d.jsx("input",{type:"text",name:"productId",value:n.productId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),d.jsxs("select",{name:"gender",value:n.gender,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Gender"}),d.jsx("option",{value:"men",children:"Men"}),d.jsx("option",{value:"women",children:"Women"}),d.jsx("option",{value:"unisex",children:"Unisex"}),d.jsx("option",{value:"kids",children:"Kids"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Main Image URL"}),d.jsx("input",{type:"text",name:"mainImage",value:n.mainImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Charge"}),d.jsxs("select",{name:"deliveryCharge",value:n.deliveryCharge,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[d.jsx("option",{value:"",children:"Select Delivery Charge Option"}),d.jsx("option",{value:"true",children:"Apply Delivery Charge"}),d.jsx("option",{value:"false",children:"Free Delivery"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),d.jsx("input",{type:"number",name:"price",value:n.price,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regular Price"}),d.jsx("input",{type:"number",name:"regularPrice",value:n.regularPrice,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),d.jsx("input",{type:"number",name:"discount",value:n.discount,onChange:r,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),d.jsx("input",{type:"text",name:"category",value:n.category,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category ID"}),d.jsx("input",{type:"text",name:"categoryId",value:n.categoryId,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subcategory (comma separated)"}),d.jsx("input",{type:"text",name:"subcategory",value:n.subcategory.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",name:"tags",value:n.tags.join(", "),onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Details Image URL"}),d.jsx("input",{type:"text",name:"detailsImage",value:n.detailsImage,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),d.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:t,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:r,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"available",checked:n.available,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Available"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isColorVariant",checked:n.isColorVariant,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Has Color Variants"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"isPreOrder",checked:n.isPreOrder,onChange:t,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Pre-order Product"})]}),n.isPreOrder&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type"}),d.jsxs("select",{name:"productType",value:n.productType,onChange:t,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[d.jsx("option",{value:"",children:"Select Product Type"}),d.jsx("option",{value:"pre-order",children:"Pre-order"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pre-order Description"}),d.jsx("textarea",{name:"preOrderDescription",value:n.preOrderDescription,onChange:t,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),n.isColorVariant&&d.jsxs("div",{className:"space-y-4 border p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Color Variants"}),n.colorVariants.map((E,w)=>d.jsxs("div",{className:"border p-4 rounded-lg space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color Name"}),d.jsx("input",{type:"text",value:E.colorName,onChange:O=>o(w,"colorName",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:E.stock,onChange:O=>o(w,"stock",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),d.jsx("input",{type:"text",value:E.thumbnail,onChange:O=>o(w,"thumbnail",O.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:E.isOutfit,onChange:O=>o(w,"isOutfit",O.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Is Outfit (has sizes)"})]}),E.isOutfit&&d.jsxs("div",{className:"space-y-3 mt-3",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Sizes"}),E.sizes.map((O,z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size"}),d.jsx("input",{type:"text",value:O.size,onChange:k=>h(w,z,"size",k.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock"}),d.jsx("input",{type:"number",value:O.stock,onChange:k=>h(w,z,"stock",k.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{type:"button",onClick:()=>T(w,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Size"})})]},z)),d.jsx("button",{type:"button",onClick:()=>_(w),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Size"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Images"}),E.images.map((O,z)=>d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx("input",{type:"text",value:O,onChange:k=>u(w,z,k.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>b(w,z),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},z)),d.jsx("button",{type:"button",onClick:()=>y(w),className:"mt-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("button",{type:"button",onClick:()=>p(w),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove Variant"})]},w)),d.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add Color Variant"})]}),!n.isColorVariant&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Images"}),n.images.map((E,w)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",value:E,onChange:O=>A(w,O.target.value),required:!0,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),d.jsx("button",{type:"button",onClick:()=>R(w),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},w)),d.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Image"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Upload Product"})})]})]})},$L=()=>{const{gender:n}=Ey(),e=10,t=q.useRef(null),[r,a]=q.useState(window.innerWidth<768),[o,u]=q.useState(window.innerWidth>=768),h=w=>(typeof w!="number"&&(w=parseFloat(w)||0),new Intl.NumberFormat("en-BD",{style:"decimal",maximumFractionDigits:0}).format(Math.round(w)));q.useEffect(()=>{const w=()=>{const O=window.innerWidth;a(O<768),u(O>=768)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const f=async({pageParam:w=null})=>{const O=w?Va(Lr(hn,"products"),xa("gender","==",n),i2(w),$f(e)):Va(Lr(hn,"products"),xa("gender","==",n),$f(e)),z=await Ii(O),k=[];return z.forEach(L=>{const M=L.data();M.available&&M.stock>0&&k.push({id:L.id,...M})}),{products:k,lastVisible:z.docs[z.docs.length-1]}},{data:p,fetchNextPage:y,hasNextPage:b,isFetchingNextPage:_,isLoading:T,error:A}=aA({queryKey:["products",n],queryFn:f,getNextPageParam:w=>w.lastVisible,staleTime:5*60*1e3,keepPreviousData:!0}),P=w=>{var k;const O=JSON.parse(localStorage.getItem("cart"))||[],z=O.find(L=>L.id===w.id);z?z.quantity+=1:O.push({id:w.id,productId:w.productId,name:w.name,price:w.discount?Math.round(w.price-w.price*(w.discount/100)):Math.round(w.price),image:w.mainImage||((k=w.images)==null?void 0:k[0]),quantity:1}),localStorage.setItem("cart",JSON.stringify(O)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("cartUpdated"))},R=w=>{var z;w.isColorVariants&&((z=w.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${w.productId||w.id}`:P(w)},C=w=>{var z;w.isColorVariants&&((z=w.colorVariants)==null?void 0:z.length)>0?window.location.href=`/product/${w.productId||w.id}`:(P(w),window.location.href="/cart")},E=(p==null?void 0:p.pages.flatMap(w=>w.products))||[];return T?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("p",{className:"text-lg font-medium",children:"Loading products..."})]})}):A?d.jsx("div",{className:"text-center py-8",children:"Error loading products"}):d.jsxs("div",{className:"min-h-screen md:px-4",ref:t,children:[d.jsxs("h2",{className:"text-lg font-semibold px-2 md:px-0 mb-2 md:mb-4 mt-2",children:[n,"'s Collection"]}),E.length===0?d.jsx("p",{className:"text-center py-8",children:"No products found in this category."}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:E.map(w=>{var ie,ce;const O=w.discount&&w.discount>0,z=w.isColorVariants&&((ie=w.colorVariants)==null?void 0:ie.length)>0,k=r&&w.name.length>17?`${w.name.substring(0,17)}.`:w.name,L=o&&w.name.length>25?`${w.name.substring(0,25)}.`:w.name,M=r?k:L,I=r&&w.name.length>17,V=o&&w.name.length>25,F=O?Math.round(w.price-w.price*(w.discount/100)):null,U=O?F:Math.round(w.price),j=w.regularPrice?Math.round(w.regularPrice):null;return d.jsxs("li",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[d.jsxs("div",{className:"p-1 flex-grow flex flex-col",children:[d.jsxs(wt,{to:`/product/${w.productId||w.id}`,className:"relative block",children:[d.jsx("div",{className:"w-full h-[150px] md:h-auto md:aspect-square overflow-hidden",children:d.jsx("img",{src:w.mainImage||((ce=w.images)==null?void 0:ce[0])||"/placeholder-product.jpg",alt:w.name,className:"w-full h-full object-cover mb-2 rounded-lg"})}),O&&d.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-md",children:[w.discount,"%"]})]}),d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("h3",{className:"text-md font-medium text-gray-800 mb-1 flex-1",children:[M,(I||V)&&d.jsx(wt,{to:`/product/${w.productId||w.id}`,className:"text-blue-500 inline-block ml-1","aria-label":"View full product name",onClick:$=>{$.preventDefault(),window.location.href=`/product/${w.productId||w.id}`},children:".."})]})}),d.jsx("div",{className:"md:mt-auto",children:d.jsxs("div",{className:"flex flex-col md:space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"text-base font-semibold text-gray-900",children:["৳",h(U)]}),O&&j&&d.jsx("div",{className:"text-xs text-gray-500",children:d.jsxs("del",{children:["৳",h(j)]})})]}),w.productType&&d.jsxs("div",{className:"text-xs text-red-400",children:["(",w.productType,")"]})]})})]}),d.jsxs("div",{className:"px-2 pb-2 border-t border-gray-100 space-y-2",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 mb-[1px]",children:[d.jsx("button",{onClick:()=>R(w),className:"w-full border border-blue-600 bg-white text-blue-600 hover:bg-blue-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:z?"Options":"Add to Cart"}),d.jsx("button",{onClick:()=>C(w),className:"w-full border border-green-600 bg-white text-green-600 hover:bg-green-600 hover:text-white py-0.5 md:py-2 px-3 rounded text-sm font-medium transition-colors duration-200",children:"Order Now"})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsx("span",{className:`font-medium ${w.stock>0?"text-green-600":"text-red-500"}`,children:w.stock>0?"In Stock":"Out of Stock"}),w.stock>0&&d.jsxs("span",{className:"text-gray-500 text-[11px]",children:[w.stock," units"]})]})]})]},w.id)})}),b&&d.jsx("div",{className:"flex justify-center mt-6 mb-10",children:d.jsx("button",{onClick:()=>y(),disabled:_,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-md transition-colors duration-200 flex items-center justify-center min-w-32",children:_?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Load More"})})]})]})},GL=()=>{const[n,e]=q.useState({collectionName:"menu-categories",documentName:"",order:0,type:"dropdown",items:[{name:"",path:""}],path:""}),[t,r]=q.useState("form"),a=p=>{const{name:y,value:b}=p.target;e(_=>({..._,[y]:b}))},o=(p,y)=>{const{name:b,value:_}=y.target,T=[...n.items];T[p]={...T[p],[b]:_},e(A=>({...A,items:T}))},u=()=>{e(p=>({...p,items:[...p.items,{name:"",path:""}]}))},h=p=>{const y=n.items.filter((b,_)=>_!==p);e(b=>({...b,items:y}))},f=async p=>{p.preventDefault();try{if(!n.documentName){alert("Please enter a document name");return}const y=La(hn,n.collectionName,n.documentName),b=await Gf(y);let _={};b.exists()&&(_=b.data());const T={..._,type:n.type,updatedAt:NO()};if(n.type==="link"&&(T.order=Number(n.order)),n.type==="dropdown"){const A=_.items||[],P=n.items.filter(R=>R.name&&R.path);T.items=[...A,...P],T.path=null}else T.path=n.path,T.items=null;await Qf(y,T,{merge:!0}),alert("Category saved successfully!"),e(A=>({...A,order:0,type:"dropdown",items:[{name:"",path:""}],path:""}))}catch(y){console.error("Error saving document: ",y),alert(`Error saving category: ${y.message}`)}};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex border-b mb-6",children:[d.jsx("button",{className:`py-2 px-4 font-medium ${t==="form"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("form"),children:"Menu Form"}),d.jsx("button",{className:`py-2 px-4 font-medium ${t==="instructions"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>r("instructions"),children:"নির্দেশনা"})]}),t==="form"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add/Edit Menu Category"}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Document Name (ID):"}),d.jsx("input",{type:"text",name:"documentName",value:n.documentName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Type:"}),d.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[d.jsx("option",{value:"dropdown",children:"Dropdown"}),d.jsx("option",{value:"link",children:"Link"})]})]}),n.type==="link"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order:"}),d.jsx("input",{type:"number",name:"order",value:n.order,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Position in menu (0 = first item)"})]}),n.type==="dropdown"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Subcategories:"}),d.jsx("div",{className:"space-y-4",children:n.items.map((p,y)=>d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"name",placeholder:"Subcategory Name",value:p.name,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",name:"path",placeholder:"Path (e.g., /category/women)",value:p.path,onChange:b=>o(y,b),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),d.jsx("button",{type:"button",onClick:()=>h(y),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Remove"})]},y))}),d.jsx("button",{type:"button",onClick:u,className:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ Add Subcategory"})]}):d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Path:"}),d.jsx("input",{type:"text",name:"path",value:n.path,onChange:a,placeholder:"e.g., /about-us",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: /category/your-menu-name (use hyphens for spaces)"})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Save Category"})})]})]})}),t==="instructions"&&d.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"মেনু ব্যবস্থাপনা নির্দেশনা"}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-red-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"মেনু তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ডকুমেন্ট নাম:"}),' এটি হবে আপনার মেনুর নাম (যেমন: "নারী", "পুরুষ", "ইলেকট্রনিক্স")']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' প্রধান মেনু আইটেমের জন্য "লিংক" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"অর্ডার নম্বর:"})," মেনুতে অবস্থান নির্ধারণ করে (0 = প্রথম আইটেম, 1 = দ্বিতীয় আইটেম, ইত্যাদি)"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"পাথ ফরম্যাট:"})," অবশ্যই ",d.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"/category/"})," দিয়ে শুরু করতে হবে এবং ছোট হাতের অক্ষরে লিখতে হবে",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/nari-fashion"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /nari-fashion বা /Category/NariFashion"})]})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক শব্দ:"})," পাথে শব্দগুলির মধ্যে হাইফেন ব্যবহার করুন",d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:[d.jsx("p",{className:"text-sm font-mono",children:"সঠিক: /category/purush-juta"}),d.jsx("p",{className:"text-sm font-mono",children:"ভুল: /category/purush juta বা /category/purushJuta"})]})]})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-blue-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"সাবক্যাটেগরি তৈরির নির্দেশনা"]}),d.jsxs("ul",{className:"space-y-3 list-disc pl-5",children:[d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"মূল মেনু:"})," ডকুমেন্ট নামে একটি বিদ্যমান মেনুর নাম লিখুন"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"ধরণ নির্বাচন:"}),' সাবক্যাটেগরির জন্য "ড্রপডাউন" নির্বাচন করুন']}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি নাম:"})," সাবমেনু আইটেমের প্রদর্শন নাম"]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"সাবক্যাটেগরি পাথ:"})," প্রধান মেনুর মতই নিয়ম অনুসরণ করুন",d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-2",children:d.jsx("p",{className:"text-sm font-mono",children:"উদাহরণ: /category/nari/juta"})})]}),d.jsxs("li",{className:"text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"একাধিক সাবক্যাটেগরি:"}),' একাধিক সাবক্যাটেগরি যোগ করতে "+ Add Subcategory" বাটনে ক্লিক করুন']})]})]}),d.jsxs("section",{children:[d.jsxs("h3",{className:"text-xl font-semibold mb-4 text-green-500 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"উদাহরণ"]}),d.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[d.jsx("h4",{className:"font-medium mb-2",children:"প্রধান মেনু:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Home ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 0 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/home"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"অর্ডার:"})," 1 ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women"]})]}),d.jsx("h4",{className:"font-medium mt-4 mb-2",children:"সাবক্যাটেগরি:"}),d.jsxs("ul",{className:"space-y-2 text-sm",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Dresses ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/dresses"]}),d.jsxs("li",{children:[d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"ডকুমেন্ট নাম:"})," Women ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"সাবক্যাটেগরি নাম:"})," Tops ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"পাথ:"})," /category/women/tops"]})]})]})]})]})]})})]})},QL=()=>{const[n,e]=q.useState([]),[t,r]=q.useState("inside"),[a,o]=q.useState(0),[u,h]=q.useState(""),[f,p]=q.useState(0),[y,b]=q.useState(""),[_,T]=q.useState(!0),[A,P]=q.useState({}),R=fd(),C=U=>{const j=typeof U=="string"?parseFloat(U):U;return Math.floor(j).toLocaleString("en-US")};q.useEffect(()=>{(async()=>{const ce=(JSON.parse(localStorage.getItem("cart"))||[]).map(se=>({...se,price:typeof se.price=="string"?parseFloat(se.price):se.price,deliveryCharge:typeof se.deliveryCharge>"u"?!0:se.deliveryCharge}));e(ce);const $={};for(const se of ce)try{const ae=La(hn,"products",se.productId),be=await Gf(ae);be.exists()&&($[se.productId]=be.data())}catch(ae){console.error("Error fetching product data:",ae)}P($),E(),T(!1)})();const j=ie=>{if(ie.detail)e(ie.detail);else{const ce=JSON.parse(localStorage.getItem("cart"))||[];e(ce)}E()};return window.addEventListener("cartUpdated",j),()=>{window.removeEventListener("cartUpdated",j)}},[]);const E=async()=>{try{await new Promise(ce=>setTimeout(ce,500));const U={coxbazar:50,outOfCoxbazar:100},ie=n.some(ce=>{const $=A[ce.productId];return($==null?void 0:$.deliveryCharge)===!0||typeof($==null?void 0:$.deliveryCharge)>"u"&&(ce.deliveryCharge===!0||typeof ce.deliveryCharge>"u")})?t==="inside"?U.coxbazar:U.outOfCoxbazar:0;o(ie)}catch(U){console.error("Error fetching shipping charges:",U);const j=n.some(ie=>{const ce=A[ie.productId];return(ce==null?void 0:ce.deliveryCharge)===!0||typeof(ce==null?void 0:ce.deliveryCharge)>"u"&&(ie.deliveryCharge===!0||typeof ie.deliveryCharge>"u")});o(j?t==="inside"?50:100:0)}};q.useEffect(()=>{E()},[t,n,A]);const w=(U,j)=>{if(j<1)return;const ie=n.map(ce=>ce.id===U?{...ce,quantity:j}:ce);localStorage.setItem("cart",JSON.stringify(ie)),e(ie),window.dispatchEvent(new Event("storage"))},O=U=>{const j=n.filter(ie=>ie.id!==U);localStorage.setItem("cart",JSON.stringify(j)),e(j),window.dispatchEvent(new Event("storage"))},z=()=>n.reduce((U,j)=>{const ie=typeof j.price=="number"?j.price:typeof j.price=="string"?parseFloat(j.price):0;return U+Math.floor(ie)*j.quantity},0),k=()=>{const U=z();return Math.floor(U+a-f)},L=U=>{r(U.target.value)},M=async()=>{if(!u.trim()){b("Please enter a coupon code");return}T(!0);try{await new Promise(j=>setTimeout(j,800));const U={valid:u.toLowerCase()==="save20",discountAmount:u.toLowerCase()==="save20"?20:0,message:u.toLowerCase()==="save20"?"Coupon applied!":"Invalid coupon code"};U.valid?(p(U.discountAmount),b(`Coupon applied! Discount: ৳${C(U.discountAmount)}`)):(p(0),b(U.message))}catch(U){console.error("Error applying coupon:",U),b("Failed to apply coupon. Please try again.")}finally{T(!1)}},I=()=>{const U={cartItems:n.map(j=>({...j,price:typeof j.price=="string"?parseFloat(j.price):j.price})),shipping:{location:t,charge:a},coupon:{code:u,discount:f}};localStorage.setItem("checkoutState",JSON.stringify(U)),R("/checkout",{state:U})};if(_&&n.length===0)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const V=n.some(U=>{const j=A[U.productId];return(j==null?void 0:j.deliveryCharge)===!0||typeof(j==null?void 0:j.deliveryCharge)>"u"&&(U.deliveryCharge===!0||typeof U.deliveryCharge>"u")}),F=n.filter(U=>{const j=A[U.productId];return(j==null?void 0:j.deliveryCharge)===!1||U.deliveryCharge===!1});return d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Your Shopping Cart"}),d.jsxs("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:[n.length," ",n.length===1?"item":"items"," in your cart"]})]}),n.length===0?d.jsxs("div",{className:"text-center py-8 sm:py-12",children:[d.jsx("svg",{className:"mx-auto h-16 sm:h-20 w-16 sm:w-20 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.jsx("h2",{className:"mt-3 sm:mt-4 text-lg sm:text-xl font-medium text-gray-900",children:"Your cart is empty"}),d.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:"Start adding some items to your cart"}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx(wt,{to:"/",className:"inline-flex items-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent rounded-md shadow-sm text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Continue Shopping"})})]}):d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:d.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(U=>{var $,se;const j=typeof U.price=="number"?U.price:typeof U.price=="string"?parseFloat(U.price):0;Math.floor(j)*U.quantity;const ie=A[U.productId],ce=(ie==null?void 0:ie.deliveryCharge)===!1||U.deliveryCharge===!1;return d.jsx("li",{className:"py-3 px-3 sm:px-4 border-b border-gray-200 last:border-b-0",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-md overflow-hidden",children:d.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"pr-2",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2",children:U.name}),(($=U.color)==null?void 0:$.name)&&d.jsxs("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-500",children:["Color: ",d.jsx("span",{className:"capitalize",children:U.color.name})]}),((se=U.size)==null?void 0:se.size)&&d.jsxs("p",{className:"mt-0.5 text-[10px] sm:text-xs text-gray-500",children:["Size: ",d.jsx("span",{className:"uppercase",children:U.size.size})]}),ce&&d.jsx("p",{className:"mt-0.5 text-[10px] sm:text-xs text-green-600",children:"Free Delivery"})]}),d.jsx("button",{onClick:()=>O(U.id),className:"text-gray-400 hover:text-red-500 h-5 flex-shrink-0","aria-label":"Remove item",children:d.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",C(j)]}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[d.jsx("button",{onClick:()=>w(U.id,U.quantity-1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),d.jsx("span",{className:"px-1 sm:px-2 text-xs sm:text-sm text-gray-900 min-w-[20px] sm:min-w-[30px] text-center",children:U.quantity}),d.jsx("button",{onClick:()=>w(U.id,U.quantity+1),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-gray-600 hover:bg-gray-50",children:d.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]})},U.id)})})})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",C(z())]})]}),V?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1 sm:mb-2",children:"Shipping Location"}),d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"inside",name:"shipping",type:"radio",value:"inside",checked:t==="inside",onChange:L,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"inside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Inside Cox's Bazar"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"outside",name:"shipping",type:"radio",value:"outside",checked:t==="outside",onChange:L,className:"h-3 w-3 sm:h-4 sm:w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),d.jsx("label",{htmlFor:"outside",className:"ml-2 block text-xs sm:text-sm text-gray-700",children:"Outside Cox's Bazar"})]})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:"Shipping"}),d.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-medium text-gray-900",children:["৳",C(a)]})]})]}):d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-xs sm:text-sm md:text-base",children:"Shipping"}),d.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium",children:"Free"})]}),F.length>0&&d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("p",{className:"text-xs sm:text-sm text-green-600 mb-1",children:"You got free shipping for:"}),d.jsx("ul",{className:"text-xs sm:text-sm text-gray-600",children:F.map(U=>{var j;return d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"mr-1",children:"•"}),d.jsx("span",{className:"line-clamp-1",children:U.name}),((j=U.size)==null?void 0:j.size)&&d.jsxs("span",{className:"ml-1 text-gray-500",children:["(Size: ",U.size.size,")"]})]},U.id)})})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:[d.jsx("label",{htmlFor:"coupon",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),d.jsxs("div",{className:"flex rounded-md shadow-sm",children:[d.jsx("input",{type:"text",id:"coupon",value:u,onChange:U=>h(U.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-l-md text-xs sm:text-sm border-gray-300 py-1.5 sm:py-2 px-2 sm:px-3 border",placeholder:"Enter coupon code"}),d.jsx("button",{onClick:M,disabled:_,className:"-ml-px relative inline-flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-r-md text-white bg-blue-600 hover:bg-blue-700",children:_?d.jsxs("svg",{className:"animate-spin h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Apply"})]}),y&&d.jsx("p",{className:`mt-1 text-xs sm:text-sm ${f>0?"text-green-600":"text-red-600"}`,children:y})]}),f>0&&d.jsxs("div",{className:"flex justify-between text-green-600 text-xs sm:text-sm md:text-base",children:[d.jsx("span",{children:"Discount"}),d.jsxs("span",{children:["-৳",C(f)]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",C(k())]})]})}),d.jsx("div",{className:"mt-3 sm:mt-4",children:d.jsx("button",{onClick:I,className:"w-full flex justify-center items-center px-3 sm:px-4 py-1.5 sm:py-2 md:py-3 border border-transparent rounded-md shadow-sm text-xs sm:text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Proceed to Checkout"})}),d.jsx("div",{className:"mt-2 sm:mt-3 flex justify-center text-xs sm:text-sm text-center text-gray-500",children:d.jsxs("p",{children:["or"," ",d.jsxs(wt,{to:"/",className:"text-blue-600 font-medium hover:text-blue-500",children:["Continue Shopping",d.jsx("span",{"aria-hidden":"true",children:" →"})]})]})})]})]})})]})]})})},KL=()=>{const n=Ws(),e=fd(),[t,r]=q.useState({name:"",phone:"",address:"",notes:"",agreeTerms:!1,paymentMethod:"cash"}),[a,o]=q.useState({}),[u,h]=q.useState(!1),[f,p]=q.useState(!0),y=()=>{if(n.state)return localStorage.setItem("checkoutState",JSON.stringify(n.state)),n.state;const O=localStorage.getItem("checkoutState");return O?JSON.parse(O):{cartItems:[],shipping:{location:"inside",charge:0},coupon:{code:"",discount:0}}},{cartItems:b,shipping:_,coupon:T}=y();q.useEffect(()=>{b.length===0&&e("/cart")},[b,e]),q.useEffect(()=>{const O=async()=>{try{const z=Lr(hn,"products"),k=await Ii(z),L=b.map(I=>I.id);let M=!1;k.forEach(I=>{L.includes(I.id)&&I.data().productType&&(M=!0)}),h(M),r(I=>({...I,paymentMethod:M?"bkash":"cash"})),p(!1)}catch(z){console.error("Error checking product types:",z),p(!1)}};b.length>0?O():p(!1)},[b]);const A=O=>{const z=typeof O=="string"?parseFloat(O):O;return Math.floor(z).toLocaleString("en-US")},P=()=>b.reduce((O,z)=>{const k=typeof z.price=="number"?z.price:typeof z.price=="string"?parseFloat(z.price):0;return O+Math.floor(k)*z.quantity},0),R=()=>{const O=P();return Math.floor(O+_.charge-T.discount)},C=O=>{const{name:z,value:k,type:L,checked:M}=O.target;r({...t,[z]:L==="checkbox"?M:k}),a[z]&&o({...a,[z]:""})},E=()=>{const O={};return t.name.trim()||(O.name="Name is required"),t.phone.trim()?/^01[3-9]\d{8}$/.test(t.phone)||(O.phone="Please enter a valid Bangladeshi phone number"):O.phone="Phone number is required",t.address.trim()?t.address.trim().length<10&&(O.address="Address should be at least 10 characters"):O.address="Address is required",t.notes.length>100&&(O.notes="Notes should not exceed 100 characters"),t.agreeTerms||(O.agreeTerms="You must agree to the terms and conditions"),o(O),Object.keys(O).length===0},w=O=>{if(O.preventDefault(),!E())return;const z={customer:{name:t.name,phone:t.phone,address:t.address,notes:t.notes},items:b,shipping:_,coupon:T,subtotal:P(),total:R(),paymentMethod:t.paymentMethod,status:"pending",createdAt:new Date().toISOString()};e("/complete-order",{state:{orderData:z,hasAnyProductWithType:u}})};return f?d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"inline-flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Loading payment options..."})]})})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8 px-2 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[d.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Checkout"}),d.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm md:text-base text-gray-500",children:"Complete your purchase"})]}),d.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-6 xl:gap-x-8",children:[d.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Customer Information"}),d.jsx("form",{onSubmit:w,className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"space-y-5 md:space-y-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("label",{className:"block text-sm md:text-base font-medium text-gray-800 mb-3",children:["Payment Method ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("div",{className:"space-y-3",children:u?d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:C,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",required:!0})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Required for selected products"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-cash",name:"paymentMethod",type:"radio",value:"cash",checked:t.paymentMethod==="cash",onChange:C,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-cash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"Cash on Delivery"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Pay when you receive your order"})]})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-0.5",children:d.jsx("input",{id:"payment-bkash",name:"paymentMethod",type:"radio",value:"bkash",checked:t.paymentMethod==="bkash",onChange:C,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"})}),d.jsxs("label",{htmlFor:"payment-bkash",className:"ml-3 block text-sm md:text-base text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"bKash Payment"}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm mt-1",children:"Faster order processing"})]})]})]})}),u&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-100 rounded-md text-sm text-amber-800",children:[d.jsx("p",{className:"font-medium",children:"Important Notice:"}),d.jsx("p",{className:"mt-1",children:"এখানে শুধু মাত্র pre-order product এর জন্য আপনাকে অবশ্যই পূর্বে পেমেন্ট করতে হবে। আর cart এ যদি non pre-order product থাকে তাহলে বাকি product গুলির জন্য cash on delivery দিতে চাইলে অনুগ্রহ করে product name গুলি order note এ mention করুন।"})]}),d.jsx("div",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Note: Some products in your cart require bKash payment."})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-5 md:space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:"block text-sm md:text-base font-medium text-gray-800",children:["Full Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:C,className:`block w-full rounded-md py-2 px-3 border ${a.name?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Your full name"}),a.name&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.name})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"phone",className:"block text-sm md:text-base font-medium text-gray-800",children:["Phone Number ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 text-sm md:text-base",children:"+88"})}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:O=>{const z=O.target.value.replace(/[^0-9]/g,"");C({target:{name:"phone",value:z}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 rounded-md py-2 px-3 border ${a.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,pattern:"[0-9]*",inputMode:"numeric"})]}),a.phone&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.phone}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 11 digits (e.g. 01712345678) with only english"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"address",className:"block text-sm md:text-base font-medium text-gray-800",children:["Delivery Address ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"address",name:"address",rows:3,value:t.address,onChange:C,className:`block w-full rounded-md py-2 px-3 border ${a.address?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"House #, Road #, Area, District"}),a.address&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.address})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm md:text-base font-medium text-gray-800",children:"Order Notes (Optional)"}),d.jsxs("div",{className:"mt-1",children:[d.jsx("textarea",{id:"notes",name:"notes",rows:2,value:t.notes,onChange:C,className:`block w-full rounded-md py-2 px-3 border ${a.notes?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"} shadow-sm text-sm md:text-base`,placeholder:"Any special instructions for your order...",maxLength:100}),d.jsxs("div",{className:"flex justify-between mt-1",children:[a.notes&&d.jsx("p",{className:"text-xs md:text-sm text-red-600",children:a.notes}),d.jsxs("p",{className:`text-xs ${t.notes.length>100?"text-red-600":"text-gray-500"} ml-auto`,children:[t.notes.length,"/100 characters"]})]})]})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5",children:d.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:t.agreeTerms,onChange:C,className:`h-4 w-4 rounded ${a.agreeTerms?"border-red-300 text-red-600 focus:ring-red-500":"border-gray-300 text-blue-600 focus:ring-blue-500"} focus:ring-2`})}),d.jsxs("div",{className:"ml-3",children:[d.jsxs("label",{htmlFor:"agreeTerms",className:"text-sm md:text-base font-medium text-gray-800",children:["I agree to the ",d.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 underline",children:"Terms and Conditions"})," ",d.jsx("span",{className:"text-red-500",children:"*"})]}),a.agreeTerms&&d.jsx("p",{className:"mt-1 text-xs md:text-sm text-red-600",children:a.agreeTerms})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("button",{type:"submit",className:"w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm md:text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:"Place Order"}),a.submit&&d.jsx("p",{className:"mt-3 text-sm text-red-600 text-center",children:a.submit})]})]})]})})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-0 lg:col-span-5 xl:col-span-4",children:d.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 sm:p-5 md:p-6",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Order Summary"}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{className:"border-b border-gray-200 pb-3 sm:pb-4",children:[d.jsxs("h3",{className:"text-sm sm:text-base font-medium text-gray-900 mb-2 sm:mb-3",children:[b.length," ",b.length===1?"Item":"Items"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:b.map(O=>{var L;const z=typeof O.price=="number"?O.price:typeof O.price=="string"?parseFloat(O.price):0,k=Math.floor(z)*O.quantity;return d.jsxs("li",{className:"py-2 sm:py-3 flex justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-md overflow-hidden mr-2 sm:mr-3",children:d.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-1",children:O.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:[O.quantity," × ৳",A(z)]}),((L=O.size)==null?void 0:L.size)&&d.jsxs("p",{className:"text-[10px] text-gray-500",children:["Size: ",O.size.size]})]})]}),d.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:["৳",A(k)]})]},O.id)})})]}),d.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Subtotal"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:["৳",A(P())]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Shipping"}),d.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:_.charge>0?`৳${A(_.charge)} (${_.location==="inside"?"Inside Cox's Bazar":"Outside Cox's Bazar"})`:d.jsx("span",{className:"text-green-600",children:"Free"})})]}),T.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm sm:text-base",children:"Discount"}),d.jsxs("span",{className:"text-sm sm:text-base font-medium",children:["-৳",A(T.discount),T.code&&` (${T.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-2 sm:pt-3",children:d.jsxs("div",{className:"flex justify-between text-sm sm:text-base md:text-lg font-bold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["৳",A(R())]})]})})]})]})]})})]})]})})},YL=()=>{const n=Ws(),e=fd(),{orderData:t}=n.state||{},[r,a]=q.useState({bkashNumber:"",transactionId:""}),[o,u]=q.useState({}),[h,f]=q.useState(!1),[p,y]=q.useState(!1);if(!t)return e("/checkout"),null;const b=C=>{const E=typeof C=="string"?parseFloat(C):C;return Math.floor(E).toLocaleString("en-US")},_=C=>{const{name:E,value:w}=C.target;a({...r,[E]:w}),o[E]&&u({...o,[E]:""})},T=()=>{const C={};return r.bkashNumber.trim()?/^01[3-9]\d{8}$/.test(r.bkashNumber)||(C.bkashNumber="Please enter a valid bKash number"):C.bkashNumber="bKash number is required",r.transactionId.trim()?r.transactionId.trim().length<8&&(C.transactionId="Transaction ID should be at least 8 characters"):C.transactionId="Transaction ID is required",u(C),Object.keys(C).length===0},A=async C=>{try{const E=[];console.log("Items to update:",C);for(const w of C){const O=La(hn,"products",w.id),z=await Gf(O);if(!z.exists()){console.warn(`Product not found: ${w.id}`);continue}const k=z.data();console.log(`Product data for ${w.id}:`,k);let L={};if(w.color&&w.size&&k.colorVariants){console.log(`Updating with color and size for ${w.id}`,w);const M=k.colorVariants.map(I=>I);console.log("Updated color variants:",M),L={colorVariants:M,stock:(k.stock||0)-w.quantity}}else if(w.color&&k.colorVariants&&!w.size){console.log(`Updating with only color for ${w.id}`,w);const M=k.colorVariants.map(I=>I.colorName===w.color.name?{...I,stock:(I.stock||0)-w.quantity}:I);console.log("Updated color variants:",M),L={colorVariants:M,stock:(k.stock||0)-w.quantity}}else console.log(`Updating regular product ${w.id}`,w),L={stock:(k.stock||0)-w.quantity};E.push(u2(O,L))}await Promise.all(E),console.log("All stock updates completed successfully")}catch(E){throw console.error("Error updating product stock:",E),E}},P=async(C,E,w,O,z,k)=>{try{const L=`প্রিয় ${w}, আপনার অর্ডার #${C} সফলভাবে গ্রহণ করা হয়েছে! মোট: ৳${b(z)}। পণ্য: ${O.slice(0,3).map(j=>j.name).join(", ")}${O.length>3?` এবং আরো ${O.length-3}টি`:""}। অর্ডার সম্পর্কিত যেকোনো তথ্যের জন্য কল করুন আমাদের helpline এ 01783694568 . mahiracollection থেকে shopping এর জন্য আপনাকে ধন্যবাদ।`,M=k==="bkash"?"bKash পেমেন্ট":"ক্যাশ অন ডেলিভারি",I=`নতুন অর্ডার #${C}
গ্রাহক: ${w}
মোবাইল: ${E}
পণ্য: ${O.map(j=>`${j.name} (${j.quantity}x)`).join(", ")}
মোট: ৳${b(z)}
পেমেন্ট: ${M}`,V={api_key:"9mLiwGgsLgr3riui2wfM",senderid:"8809617625817",messages:[{to:`880${E.replace(/^0/,"")}`,message:L},{to:"8801736600480",message:I}]},U=await(await fetch("https://bulksmsbd.net/api/smsapimany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).json();if(console.log("SMS API রেস্পন্স:",U),U.error_message)throw new Error(U.error_message);return U}catch(L){console.error("SMS পাঠানোর সময় ত্রুটি:",L)}},R=async()=>{if(!(t.paymentMethod==="bkash"&&!T())){f(!0);try{await A(t.items);const C=La(hn,"orders",t.customer.phone),E=`${Date.now()}`.slice(-6),w={...t,orderId:E,status:"confirmed",confirmedAt:new Date().toISOString(),createdAt:new Date().toISOString()};t.paymentMethod==="bkash"&&(w.paymentDetails={...r,verified:!1,paidAt:new Date().toISOString()}),(await Gf(C)).exists()?await Qf(C,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:CO(w),updatedAt:new Date().toISOString()},{merge:!0}):await Qf(C,{customerPhone:t.customer.phone,customerName:t.customer.name,orderInfo:[w],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),await P(E,t.customer.phone,t.customer.name,t.items,t.total,t.paymentMethod),localStorage.removeItem("cart"),localStorage.removeItem("checkoutState"),window.dispatchEvent(new Event("storage")),y(!0)}catch(C){console.error("অর্ডার সম্পন্ন করতে ত্রুটি:",C)}finally{f(!1)}}};return p?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-md text-center",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:d.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"অর্ডার কনফার্ম হয়েছে!"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["আপনার অর্ডার সফলভাবে সম্পন্ন হয়েছে। অর্ডার আইডি: ",d.jsx("span",{className:"font-medium",children:t.customer.phone})]}),d.jsx("p",{className:"text-gray-600 mb-6",children:"আমরা আপনার মোবাইল নম্বরে একটি কনফার্মেশন এসএমএস পাঠিয়েছি।"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out",children:"শপিং চালিয়ে যান"})]})}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"আপনার অর্ডার সম্পন্ন করুন"}),d.jsx("p",{className:"mt-2 text-gray-600",children:"আপনার তথ্য পর্যালোচনা করে অর্ডার কনফার্ম করুন"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"অর্ডার সামারি"})}),d.jsxs("div",{className:"px-6 py-4",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:[t.items.length," ",t.items.length===1?"আইটেম":"আইটেমসমূহ"]}),d.jsx("ul",{className:"divide-y divide-gray-200",children:t.items.map((C,E)=>{var O,z;const w=Math.floor(C.price)*C.quantity;return d.jsxs("li",{className:"py-4 flex justify-between",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-md overflow-hidden mr-4",children:d.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover object-center"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.name}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.quantity," × ৳",b(C.price)]}),((O=C.size)==null?void 0:O.size)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["সাইজ: ",C.size.size]}),((z=C.color)==null?void 0:z.color)&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["কালার: ",C.color.color]})]})]}),d.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["৳",b(w)]})]},E)})})]}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"সাবটোটাল"}),d.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["৳",b(t.subtotal)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"ডেলিভারি চার্জ"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.shipping.charge>0?`৳${b(t.shipping.charge)} (${t.shipping.location==="inside"?"কক্সবাজার শহরের ভিতরে":"কক্সবাজার শহরের বাইরে"})`:d.jsx("span",{className:"text-green-600",children:"ফ্রি"})})]}),t.coupon.discount>0&&d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{className:"text-sm",children:"ডিসকাউন্ট"}),d.jsxs("span",{className:"text-sm font-medium",children:["-৳",b(t.coupon.discount),t.coupon.code&&` (${t.coupon.code})`]})]}),d.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:d.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900",children:[d.jsx("span",{children:"মোট"}),d.jsxs("span",{children:["৳",b(t.total)]})]})})]})]})]}),t.paymentMethod==="bkash"&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-red-100 overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:[d.jsxs("h2",{className:"text-lg font-bold text-red-800 flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"bKash পেমেন্ট ডিটেইলস (অত্যন্ত গুরুত্বপূর্ণ)"]}),d.jsx("p",{className:"mt-1 text-sm text-red-700",children:"সাবধানতার সাথে সঠিক তথ্য প্রদান করুন"})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"bkashNumber",className:"block text-sm font-medium text-gray-900 mb-1",children:["আপনার bKash নাম্বার ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-700 font-medium",children:"+88"})}),d.jsx("input",{type:"tel",id:"bkashNumber",name:"bkashNumber",value:r.bkashNumber,onChange:C=>{const E=C.target.value.replace(/[^0-9]/g,"");_({target:{name:"bkashNumber",value:E}})},maxLength:11,placeholder:"01XXXXXXXXX",className:`block w-full pl-12 py-2.5 rounded-md border-2 ${o.bkashNumber?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,pattern:"[0-9]*",inputMode:"numeric",onBlur:()=>{r.bkashNumber&&!/^01[3-9]\d{8}$/.test(r.bkashNumber)&&u({...o,bkashNumber:"সঠিক ১১ ডিজিটের bKash নম্বর দিন (01XXXXXXXXX)"})}})]}),o.bkashNumber?d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.bkashNumber]}):d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"অবশ্যই 11 ডিজিটের সঠিক bKash নম্বর দিন (যেমন: 01712345678)"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-900 mb-1",children:["ট্রানজেকশন আইডি (TrxID) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{type:"text",id:"transactionId",name:"transactionId",value:r.transactionId,onChange:_,className:`block w-full py-2.5 px-3 rounded-md border-2 ${o.transactionId?"border-red-500 bg-red-50":"border-gray-300"} focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium`,placeholder:"ট্রানজেকশন আইডি লিখুন (যেমন: 8A7D6F5G4H)",onBlur:()=>{r.transactionId||u({...o,transactionId:"ট্রানজেকশন আইডি দিন"})}}),o.transactionId&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.transactionId]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[d.jsxs("h3",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"পেমেন্ট নির্দেশাবলী:"]}),d.jsxs("ol",{className:"text-sm text-blue-700 space-y-2",children:[d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"1."}),d.jsxs("span",{children:["bKash নম্বর: ",d.jsx("strong",{className:"text-blue-900",children:"01783694568"})," এ ৳",b(t.total)," পাঠান"]})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"2."}),d.jsx("span",{children:"উপরে আপনার bKash নম্বর এবং সঠিক ট্রানজেকশন আইডি লিখুন"})]}),d.jsxs("li",{className:"flex",children:[d.jsx("span",{className:"font-bold mr-2",children:"3."}),d.jsx("span",{className:"text-red-600 font-semibold",children:"ভুল তথ্য দিলে আপনার পেমেন্ট গ্রহণ করা হবে না"})]})]})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-200 text-sm text-yellow-800",children:[d.jsxs("p",{className:"font-bold flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"গুরুত্বপূর্ণ নোট:"]}),d.jsx("p",{className:"mt-1",children:"আপনার পেমেন্ট যাচাই করার জন্য আমরা আপনার প্রদত্ত নম্বরে কল করতে পারি। অনুগ্রহ করে সঠিক তথ্য প্রদান করুন।"})]})]})})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"যোগাযোগ তথ্য"})}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"নাম"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.name})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"মোবাইল"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["+88",t.customer.phone]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ঠিকানা"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.address})]}),t.customer.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"অর্ডার নোট"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.customer.notes})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"পেমেন্ট পদ্ধতি"}),d.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.paymentMethod==="bkash"?d.jsxs("span",{className:"inline-flex items-center",children:[d.jsx("span",{className:"mr-2",children:"bKash পেমেন্ট"}),d.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}):"ক্যাশ অন ডেলিভারি"})]})]})})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:d.jsx("div",{className:"px-6 py-4",children:d.jsx("button",{onClick:R,disabled:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-md transition duration-150 ease-in-out disabled:opacity-75 disabled:cursor-not-allowed",children:h?d.jsxs("span",{className:"flex items-center justify-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"প্রসেসিং..."]}):"অর্ডার সম্পন্ন করুন"})})})]})]})]})})},XL=lI([{path:"/",element:d.jsx(v6,{}),children:[{index:!0,element:d.jsx(SE,{})},{path:"/home",element:d.jsx(SE,{})},{path:"/category/:gender",element:d.jsx($L,{})},{path:"/category/:gender/:category",element:d.jsx(AE,{})},{path:"/category/:gender",element:d.jsx(AE,{})},{path:"/all-categories",element:d.jsx(lA,{})},{path:"/product/:productId",element:d.jsx(qL,{})},{path:"/admin",element:d.jsx(Z5,{})},{path:"/up-products",element:d.jsx(HL,{})},{path:"/up-categories",element:d.jsx(GL,{})},{path:"/cart",element:d.jsx(QL,{})},{path:"/checkout",element:d.jsx(KL,{})},{path:"/complete-order",element:d.jsx(YL,{})},{path:"/footer",element:d.jsx(oA,{})}]}]);dC.createRoot(document.getElementById("root")).render(d.jsx(q.StrictMode,{children:d.jsx(W5,{children:d.jsx(wI,{router:XL})})}));
